{"commit_hash": "b8142e3a63dad1e2b7a71a539d73c02d4d0c1353", "short_hash": "b8142e3a63da", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T15:03:06Z", "committer_name": "Benjamin Gaignard", "committer_email": "benjamin.gaignard@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-21T11:38:45+02:00", "subject": "drm/sti: Remove duplicated include from sti_drv.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/sti/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Benjamin Gaignard <benjamin.gaignard@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 1, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of duplicate header include in sti_drv.c. Minimal code change (1 deletion). DR subsystem (tier 5). Cross-org contribution from Huawei to STI subsystem maintained by Linaro. Proper sign-off chain with maintainer endorsement. Trivial cleanup with no functional impact.", "code_snippet": "@@ -23,7 +23,6 @@\n \n #include \"sti_crtc.h\"\n #include \"sti_drv.h\"\n-#include \"sti_drv.h\"\n #include \"sti_plane.h\"\n \n #define DRIVER_NAME\t\"sti\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8142e3a63dad1e2b7a71a539d73c02d4d0c1353"}
{"commit_hash": "163fa23435cc9c705a71001d4aa15f3f945554a1", "short_hash": "163fa23435cc", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-07-03T16:25:52+08:00", "committer_name": "Dennis Zhou", "committer_email": "dennis@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-04T08:05:52-07:00", "subject": "percpu: Make pcpu_setup_first_chunk() void function", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/", "arch/ia64/mm/"], "subsystem_tier": 7, "files_changed": 4, "insertions": 10, "deletions": 21, "hunks": 20, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Dennis Zhou <dennis@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 26, "score_technical": 10, "score_impact": 4, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 1, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 1, "D3_community_response": 0}, "score_justification": "Refactoring commit changing pcpu_setup_first_chunk() return type from int to void since it only panics on error. Clean API improvement removing dead error handling paths. Cross-arch changes (ia64). Reported-by tag indicates community testing. Dennis Zhou (maintainer) co-signed.", "code_snippet": "@@ -134,10 +134,7 @@ setup_per_cpu_areas(void)\n \tai->atom_size\t\t= PAGE_SIZE;\n \tai->alloc_size\t\t= PERCPU_PAGE_SIZE;\n \n-\trc = pcpu_setup_first_chunk(ai, __per_cpu_start + __per_cpu_offset[0]);\n-\tif (rc)\n-\t\tpanic(\"failed to setup percpu area (err=%d)\", rc);\n-\n+\tpcpu_setup_first_chunk(ai, __per_cpu_start + __per_cpu_offset[0]);\n \tpcpu_free_alloc_info(ai);\n }\n #else\ndiff --git a/arch/ia64/mm/discontig.c b/arch/ia64/mm/discontig.c\nindex 05490dd073e6..004dee231874 100644\n--- a/arch/ia64/mm/discontig.c\n+++ b/arch/ia64/mm/discontig.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/163fa23435cc9c705a71001d4aa15f3f945554a1"}
{"commit_hash": "f1513d20b9f17c4a9fbc641289e880eb2f879632", "short_hash": "f1513d20b9f1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T23:36:23+08:00", "committer_name": "Andrzej Hajda", "committer_email": "a.hajda@samsung.com", "committer_company": "Samsung", "commit_date": "2019-07-04T09:45:20+02:00", "subject": "drm/bridge: sii902x: Make sii902x_audio_digital_mute static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/bridge"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrzej Hajda <a.hajda@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Sparse warning fix - adds 'static' keyword to an unexported function in DRM bridge driver. Minimal code impact (2 insertions, 1 deletion). No functional change, just addressing a build warning. Proper sign-off chain from author through maintainer.", "code_snippet": "@@ -662,7 +662,8 @@ static void sii902x_audio_shutdown(struct device *dev, void *data)\n \tclk_disable_unprepare(sii902x->audio.mclk);\n }\n \n-int sii902x_audio_digital_mute(struct device *dev, void *data, bool enable)\n+static int sii902x_audio_digital_mute(struct device *dev,\n+\t\t\t\t      void *data, bool enable)\n {\n \tstruct sii902x *sii902x = dev_get_drvdata(dev);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1513d20b9f17c4a9fbc641289e880eb2f879632"}
{"commit_hash": "9d1bc13e7fe1b31d93c58b6811f426b9b7dea59f", "short_hash": "9d1bc13e7fe1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T11:31:12Z", "committer_name": "Ville Syrjälä", "committer_email": "ville.syrjala@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-05T15:37:43+03:00", "subject": "drm/i915: Remove set but not used variable 'encoder'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ville Syrjälä <ville.syrjala@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -6620,8 +6620,6 @@ static void intel_dp_set_drrs_state(struct drm_i915_private *dev_priv,\n \t\t\t\t    const struct intel_crtc_state *crtc_state,\n \t\t\t\t    int refresh_rate)\n {\n-\tstruct intel_encoder *encoder;\n-\tstruct intel_digital_port *dig_port = NULL;\n \tstruct intel_dp *intel_dp = dev_priv->drrs.dp;\n \tstruct intel_crtc *intel_crtc = to_intel_crtc(crtc_state->base.crtc);\n \tenum drrs_refresh_rate_type index = DRRS_HIGH_RR;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/9d1bc13e7fe1b31d93c58b6811f426b9b7dea59f"}
{"commit_hash": "3e27d70bcc46c68aceb5dafc813db4c4ff675221", "short_hash": "3e27d70bcc46", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T11:31:38Z", "committer_name": "Ville Syrjälä", "committer_email": "ville.syrjala@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-05T15:38:06+03:00", "subject": "drm/i915: Remove set but not used variable 'intel_dig_port'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ville Syrjälä <ville.syrjala@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -3771,7 +3771,6 @@ void intel_ddi_get_config(struct intel_encoder *encoder,\n \tstruct drm_i915_private *dev_priv = to_i915(encoder->base.dev);\n \tstruct intel_crtc *intel_crtc = to_intel_crtc(pipe_config->base.crtc);\n \tenum transcoder cpu_transcoder = pipe_config->cpu_transcoder;\n-\tstruct intel_digital_port *intel_dig_port;\n \tu32 temp, flags = 0;\n \n \t/* XXX: DSI transcoder paranoia */", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/3e27d70bcc46c68aceb5dafc813db4c4ff675221"}
{"commit_hash": "0d392cb9eb58099496a4d2981047df7ff7d22949", "short_hash": "0d392cb9eb58", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T02:41:00Z", "committer_name": "Ville Syrjälä", "committer_email": "ville.syrjala@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-19T15:33:16+03:00", "subject": "drm/i915: Remove set but not used variable 'src_y'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/i915/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ville Syrjälä <ville.syrjala@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 3, "score_impact": 1, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variable 'src_y' to fix compiler warning. Minimal code change (-2/+1 lines). Cross-org contribution (Huawei -> Intel maintainer). Proper review chain with maintainer sign-off. Low functional impact as variable was never used.", "code_snippet": "@@ -1518,7 +1518,7 @@ g4x_sprite_check_scaling(struct intel_crtc_state *crtc_state,\n \tconst struct drm_framebuffer *fb = plane_state->base.fb;\n \tconst struct drm_rect *src = &plane_state->base.src;\n \tconst struct drm_rect *dst = &plane_state->base.dst;\n-\tint src_x, src_y, src_w, src_h, crtc_w, crtc_h;\n+\tint src_x, src_w, src_h, crtc_w, crtc_h;\n \tconst struct drm_display_mode *adjusted_mode =\n \t\t&crtc_state->base.adjusted_mode;\n \tunsigned int cpp = fb->format->cpp[0];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0d392cb9eb58099496a4d2981047df7ff7d22949"}
{"commit_hash": "0cc35a9c8279da03c34547830d5140cf38f7ce02", "short_hash": "0cc35a9c8279", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T01:51:36Z", "committer_name": "Ville Syrjälä", "committer_email": "ville.syrjala@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-19T20:20:24+03:00", "subject": "drm/i915/dsi: remove set but not used variable 'hfront_porch'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/i915"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ville Syrjälä <ville.syrjala@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Single line deletion in i915 DSI driver. Proper maintainer sign-off chain from Huawei author to Intel maintainer.", "code_snippet": "@@ -763,7 +763,7 @@ gen11_dsi_set_transcoder_timings(struct intel_encoder *encoder,\n \tenum transcoder dsi_trans;\n \t/* horizontal timings */\n \tu16 htotal, hactive, hsync_start, hsync_end, hsync_size;\n-\tu16 hfront_porch, hback_porch;\n+\tu16 hback_porch;\n \t/* vertical timings */\n \tu16 vtotal, vactive, vsync_start, vsync_end, vsync_shift;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0cc35a9c8279da03c34547830d5140cf38f7ce02"}
{"commit_hash": "d59381d639af22da6eb49c5d851faf15feb6b462", "short_hash": "d59381d639af", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:07:26+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-22T07:34:13+02:00", "subject": "staging: kpc2000: kpc_spi: Remove unnecessary null check before kfree", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -412,8 +412,7 @@ kp_spi_cleanup(struct spi_device *spidev)\n {\n \tstruct kp_spi_controller_state *cs = spidev->controller_state;\n \n-\tif (cs)\n-\t\tkfree(cs);\n+\tkfree(cs);\n }\n \n /******************\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d59381d639af22da6eb49c5d851faf15feb6b462"}
{"commit_hash": "8808b4e9dcdc908e1d48b1809416c5f80af9c87e", "short_hash": "8808b4e9dcdc", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-10T21:38:21+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-22T16:44:06-04:00", "subject": "scsi: ufs: Add history of fatal events", "primary_category": "FEAT-OPT", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 6, "files_changed": 2, "insertions": 50, "deletions": 14, "hunks": 24, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 12, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 4, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Debug feature adding error history tracking for fatal events (link startup, suspend/resume errors, device/host resets, task aborts) in UFS driver. Well-reviewed by maintainer Martin K. Petersen and Avri Altman. Cross-org contribution (MediaTek to WDC/Oracle). Good commit message with clear examples. Code volume moderate (50 insertions, 14 deletions) touching core UFS driver.", "code_snippet": "@@ -429,9 +429,17 @@ static void ufshcd_print_host_regs(struct ufs_hba *hba)\n \tufshcd_print_err_hist(hba, &hba->ufs_stats.nl_err, \"nl_err\");\n \tufshcd_print_err_hist(hba, &hba->ufs_stats.tl_err, \"tl_err\");\n \tufshcd_print_err_hist(hba, &hba->ufs_stats.dme_err, \"dme_err\");\n-\tufshcd_print_err_hist(hba, &hba->ufs_stats.fatal_err, \"fatal_err\");\n \tufshcd_print_err_hist(hba, &hba->ufs_stats.auto_hibern8_err,\n \t\t\t      \"auto_hibern8_err\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.fatal_err, \"fatal_err\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.link_startup_err,\n+\t\t\t      \"link_startup_fail\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.resume_err, \"resume_fail\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.suspend_err,\n+\t\t\t      \"suspend_fail\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.dev_reset, \"dev_reset\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.host_reset, \"host_reset\");\n+\tufshcd_print_err_hist(hba, &hba->ufs_stats.task_abort, \"task_abort\");\n \n \tufshcd_print_clk_freqs(hba);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8808b4e9dcdc908e1d48b1809416c5f80af9c87e"}
{"commit_hash": "d3c615bf586f2796f24097bfa13386effaa4bf3e", "short_hash": "d3c615bf586f", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-10T21:38:19+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-22T16:44:06-04:00", "subject": "scsi: ufs: Add fatal and auto-hibern8 error history", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 7, "files_changed": 2, "insertions": 19, "deletions": 2, "hunks": 12, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 8, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debug enhancement extending UFS error history framework for fatal and auto-hibern8 errors. Low code volume (21 lines), storage subsystem (tier 7). Maintenance/refactor with minor feature addition. Good review chain (Reviewed-by), clear commit message, single subsystem. Cross-org contribution (MediaTek -> Oracle maintainer), maintainer sign-off.", "code_snippet": "@@ -6692,6 +6699,8 @@ static void ufshcd_clear_dbg_ufs_stats(struct ufs_hba *hba)\n \tmemset(&hba->ufs_stats.nl_err, 0, err_reg_hist_size);\n \tmemset(&hba->ufs_stats.tl_err, 0, err_reg_hist_size);\n \tmemset(&hba->ufs_stats.dme_err, 0, err_reg_hist_size);\n+\tmemset(&hba->ufs_stats.fatal_err, 0, err_reg_hist_size);\n+\tmemset(&hba->ufs_stats.auto_hibern8_err, 0, err_reg_hist_size);\n \n \thba->req_abort_count = 0;\n }\ndiff --git a/drivers/scsi/ufs/ufshcd.h b/drivers/scsi/ufs/ufshcd.h\nindex dcc61f857c38..c6ec5c749ceb 100644\n--- a/drivers/scsi/ufs/ufshcd.h\n+++ b/drivers/scsi/ufs/ufshcd.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3c615bf586f2796f24097bfa13386effaa4bf3e"}
{"commit_hash": "48d5b9732580bca18fed9ef20da8aa210c646755", "short_hash": "48d5b9732580", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-10T21:38:18+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-22T16:44:06-04:00", "subject": "scsi: ufs: Change names related to error history", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 30, "deletions": 29, "hunks": 18, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -390,14 +390,15 @@ static void ufshcd_print_clk_freqs(struct ufs_hba *hba)\n \t}\n }\n \n-static void ufshcd_print_uic_err_hist(struct ufs_hba *hba,\n-\t\tstruct ufs_uic_err_reg_hist *err_hist, char *err_name)\n+static void ufshcd_print_err_hist(struct ufs_hba *hba,\n+\t\t\t\t  struct ufs_err_reg_hist *err_hist,\n+\t\t\t\t  char *err_name)\n {\n \tint i;\n \tbool found = false;\n \n-\tfor (i = 0; i < UIC_ERR_REG_HIST_LENGTH; i++) {\n-\t\tint p = (i + err_hist->pos) % UIC_ERR_REG_HIST_LENGTH;\n+\tfor (i = 0; i < UFS_ERR_REG_HIST_LENGTH; i++) {\n+\t\tint p = (i + err_hist->pos) % UFS_ERR_REG_HIST_LENGTH;\n \n \t\tif (err_hist->reg[p] == 0)\n \t\t\tcontinue;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/48d5b9732580bca18fed9ef20da8aa210c646755"}
{"commit_hash": "c5397f13fc744b15fc9ad5df27172885e2303c39", "short_hash": "c5397f13fc74", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-10T21:38:20+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-22T16:44:06-04:00", "subject": "scsi: ufs: Do not reset error history during host reset", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 13, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small debugging improvement commit (13 deletions, 1 insertion) for UFS SCSI driver. Preserves error history during host reset to improve debugging capability, plus minor display fix. Has Reviewed-by tag, good commit message, maintainer sign-off. Low user impact but positive debugging value.", "code_snippet": "@@ -402,7 +402,7 @@ static void ufshcd_print_err_hist(struct ufs_hba *hba,\n \n \t\tif (err_hist->reg[p] == 0)\n \t\t\tcontinue;\n-\t\tdev_err(hba->dev, \"%s[%d] = 0x%x at %lld us\\n\", err_name, i,\n+\t\tdev_err(hba->dev, \"%s[%d] = 0x%x at %lld us\\n\", err_name, p,\n \t\t\terr_hist->reg[p], ktime_to_us(err_hist->tstamp[p]));\n \t\tfound = true;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c5397f13fc744b15fc9ad5df27172885e2303c39"}
{"commit_hash": "70a51d8c53176080e82b2aef050f820ccdd4b3f8", "short_hash": "70a51d8c5317", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:10:37+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-22T16:44:07-04:00", "subject": "scsi: lpfc: Remove unnecessary null check before kfree", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "SCSI driver cleanup removing redundant NULL check before kfree (kfree handles NULL). Very small change (-3/+1 lines). Cross-org contribution from Huawei to Oracle-maintained subsystem. Reviewed by James Smart (Broadcom) and signed by maintainer Martin K. Petersen.", "code_snippet": "@@ -1276,9 +1276,7 @@ lpfc_bsg_hba_set_event(struct bsg_job *job)\n \treturn 0; /* call job done later */\n \n job_error:\n-\tif (dd_data != NULL)\n-\t\tkfree(dd_data);\n-\n+\tkfree(dd_data);\n \tjob->dd_data = NULL;\n \treturn rc;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70a51d8c53176080e82b2aef050f820ccdd4b3f8"}
{"commit_hash": "513be3334431ec5c645e9e8c3ee7fdc7c03e99a1", "short_hash": "513be3334431", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-22T13:56:27+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-07-23T09:04:49+02:00", "subject": "drm/komeda: remove set but not used variable 'old'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Minimal code impact (2 lines removed). Proper maintainer chain through Daniel Vetter. Clear commit message with fixes reference. No functional change, no testing needed.", "code_snippet": "@@ -158,7 +158,7 @@ static void komeda_plane_reset(struct drm_plane *plane)\n static struct drm_plane_state *\n komeda_plane_atomic_duplicate_state(struct drm_plane *plane)\n {\n-\tstruct komeda_plane_state *new, *old;\n+\tstruct komeda_plane_state *new;\n \n \tif (WARN_ON(!plane->state))\n \t\treturn NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/513be3334431ec5c645e9e8c3ee7fdc7c03e99a1"}
{"commit_hash": "da79bf41a4d170ca93cc8f3881a70d734a071c37", "short_hash": "da79bf41a4d1", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-06-27T23:01:15-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-23T11:43:12-04:00", "subject": "media: exynos4-is: fix leaked of_node references", "primary_category": "BUG-LEAK", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/platform/exynos4-is/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 3, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 11, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Resource leak fix in Exynos4-IS media driver. Missing of_node_put() calls after of_get_child_by_name() causing reference count leaks. 3 lines added across 2 files. Detected by Coccinelle static analysis. 3-level review chain (author->SoB->maintainer). Mauro Carvalho Chehab (media subsystem maintainer) signed off. Subsystem tier 5 (platform-specific media driver). Low user impact as leak only occurs on probe/remove paths.", "code_snippet": "@@ -806,6 +806,7 @@ static int fimc_is_probe(struct platform_device *pdev)\n \t\treturn -ENODEV;\n \n \tis->pmu_regs = of_iomap(node, 0);\n+\tof_node_put(node);\n \tif (!is->pmu_regs)\n \t\treturn -ENOMEM;\n \ndiff --git a/drivers/media/platform/exynos4-is/media-dev.c b/drivers/media/platform/exynos4-is/media-dev.c\nindex d53427a8db11..a838189d4490 100644\n--- a/drivers/media/platform/exynos4-is/media-dev.c\n+++ b/drivers/media/platform/exynos4-is/media-dev.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da79bf41a4d170ca93cc8f3881a70d734a071c37"}
{"commit_hash": "094efbe748c204fb2e10ebf6f100da926e10fc2f", "short_hash": "094efbe748c2", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-06-27T23:01:16-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-23T11:43:38-04:00", "subject": "media: ti-vpe: fix leaked of_node references", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/platform/ti-vpe"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in driver for TI Video Processing Engine. Adds single of_node_put() call to release reference acquired by of_get_parent(). Detected by Coccinelle static analysis. Three-level review chain (author -> subsystem maintainer -> media maintainer). Single line change, well-isolated, atomic commit. Low-tier driver subsystem, limited user impact.", "code_snippet": "@@ -1612,6 +1612,7 @@ of_get_next_port(const struct device_node *parent,\n \t\t\t}\n \t\t\tprev = port;\n \t\t} while (!of_node_name_eq(port, \"port\"));\n+\t\tof_node_put(ports);\n \t}\n \n \treturn port;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/094efbe748c204fb2e10ebf6f100da926e10fc2f"}
{"commit_hash": "dc4bea0b989cfa3e3dfd8fe79a18abcfaca19767", "short_hash": "dc4bea0b989c", "author_name": "Andrew Peng", "author_email": "pengms1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-06-25T14:38:16+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-07-23T12:25:42+09:30", "subject": "ARM: dts: aspeed: Add Lenovo Hr855xg2 BMC", "primary_category": "FEAT-HW", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dts", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 2, "files_changed": 2, "insertions": 664, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Andrew Peng <pengms1@lenovo.com> (Lenovo)", "Yonghui Liu <liuyh21@lenovo.com> (Lenovo)", "Lisa Liu <liuyj19@lenovo.com> (Lenovo)", "Harry Sung <hsung1@lenovo.com> (Lenovo)", "Derek Lin <dlin23@lenovo.com> (Lenovo)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Device Tree addition for new Lenovo Hr855xg2 BMC platform. 664 lines added, 0 deleted. ARM DTS subsystem (tier 2). New hardware support category. Good commit message with 6 SOB lines and 1 RB. Proper atomicity for new board file. Maintainer Joel Stanley signed off. No stable CC, no cross-org collaboration (internal Lenovo team with external maintainer review).", "code_snippet": "@@ -1277,6 +1277,7 @@ dtb-$(CONFIG_ARCH_ASPEED) += \\\n \taspeed-bmc-intel-s2600wf.dtb \\\n \taspeed-bmc-inspur-fp5280g2.dtb \\\n \taspeed-bmc-lenovo-hr630.dtb \\\n+\taspeed-bmc-lenovo-hr855xg2.dtb \\\n \taspeed-bmc-microsoft-olympus.dtb \\\n \taspeed-bmc-opp-lanyang.dtb \\\n \taspeed-bmc-opp-palmetto.dtb \\\ndiff --git a/arch/arm/boot/dts/aspeed-bmc-lenovo-hr855xg2.dts b/arch/arm/boot/dts/aspeed-bmc-lenovo-hr855xg2.dts\nnew file mode 100644\nindex 000000000000..118eb8bbbf1b\n--- /dev/null\n+++ b/arch/arm/boot/dts/aspeed-bmc-lenovo-hr855xg2.dts", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dc4bea0b989cfa3e3dfd8fe79a18abcfaca19767"}
{"commit_hash": "ca786b8db751c0dd980fccf2d65acb77a296f629", "short_hash": "ca786b8db751", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-07-02T15:35:53+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-23T17:18:28+01:00", "subject": "arm64: perf: Remove unused macro", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/kernel/perf_event.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple dead code removal of an unused macro in arm64 perf subsystem. Author from Hisilicon, signed off by maintainer Will Deacon. Single file, single line deletion. Clean commit message referencing the commit that made the macro unused.", "code_snippet": "@@ -157,7 +157,6 @@ armv8pmu_events_sysfs_show(struct device *dev,\n \treturn sprintf(page, \"event=0x%03llx\\n\", pmu_attr->id);\n }\n \n-#define ARMV8_EVENT_ATTR_RESOLVE(m) #m\n #define ARMV8_EVENT_ATTR(name, config) \\\n \tPMU_EVENT_ATTR(name, armv8_event_attr_##name, \\\n \t\t       config, armv8pmu_events_sysfs_show)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca786b8db751c0dd980fccf2d65acb77a296f629"}
{"commit_hash": "2ec0a8909189cb801ded3428d66cdc1ea7e4578b", "short_hash": "2ec0a8909189", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T21:01:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-24T14:12:40-07:00", "subject": "qlge: Fix build error without CONFIG_ETHERNET", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "955315b0dc8c", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/qlge"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 9, "score_impact": 14, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix in staging driver. Fixes dependency on ETHERNET symbol. Minimal code change (1 line). Cross-org contribution (Huawei -> netdev maintainer). Well-documented with fixes tag and robot report.", "code_snippet": "@@ -2,7 +2,7 @@\n \n config QLGE\n \ttristate \"QLogic QLGE 10Gb Ethernet Driver Support\"\n-\tdepends on PCI\n+\tdepends on ETHERNET && PCI\n \thelp\n \tThis driver supports QLogic ISP8XXX 10Gb Ethernet cards.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ec0a8909189cb801ded3428d66cdc1ea7e4578b"}
{"commit_hash": "2ec4ad49b98e4a14147d04f914717135eca7c8b1", "short_hash": "2ec4ad49b98e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T22:42:18+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-07-24T14:53:40+03:00", "subject": "libertas_tf: Use correct channel range in lbtf_geo_init", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "691cdb49388b", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 9, "score_impact": 13, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect variable usage in libertas_tf driver. Uses wrong 'priv->range' instead of correct 'range' in channel initialization, potentially causing incorrect channel configuration for wireless regions. 2-line change (1 insertion, 1 deletion). Includes Fixes tag and proper Reported-by attribution. Cross-org contribution from Huawei to Marvell wireless subsystem, reviewed by maintainer Kalle Valo.", "code_snippet": "@@ -65,7 +65,7 @@ static void lbtf_geo_init(struct lbtf_private *priv)\n \t\t\tbreak;\n \t\t}\n \n-\tfor (ch = priv->range.start; ch < priv->range.end; ch++)\n+\tfor (ch = range->start; ch < range->end; ch++)\n \t\tpriv->channels[CHAN_TO_IDX(ch)].flags = 0;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ec4ad49b98e4a14147d04f914717135eca7c8b1"}
{"commit_hash": "15e830e90fde81b32c96490fb9ff1a26097609eb", "short_hash": "15e830e90fde", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T14:25:45+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-07-24T14:55:28+03:00", "subject": "mwifiex: use eth_broadcast_addr() to assign broadcast address", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 13, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring replacing manual broadcast address assignment with eth_broadcast_addr() helper. Reduces code lines, improves maintainability. Network subsystem code is tier-10 critical. Signed off by maintainer Kalle Valo.", "code_snippet": "@@ -731,7 +731,6 @@ mwifiex_construct_tdls_action_frame(struct mwifiex_private *priv,\n \t\t\t\t    u16 status_code, struct sk_buff *skb)\n {\n \tstruct ieee80211_mgmt *mgmt;\n-\tu8 bc_addr[] = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff};\n \tint ret;\n \tu16 capab;\n \tstruct ieee80211_ht_cap *ht_cap;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/15e830e90fde81b32c96490fb9ff1a26097609eb"}
{"commit_hash": "3e6998b17f36ab4f8f5608b3599df7b3c17d97a5", "short_hash": "3e6998b17f36", "author_name": "Lecopzer Chen", "author_email": "lecopzer.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-12T16:47:17+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-25T09:44:36+02:00", "subject": "staging: android: ion: Remove unused rbtree for ion_buffer", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/android", "subsystems_touched": ["drivers/staging/android/ion"], "subsystem_tier": 4, "files_changed": 2, "insertions": 1, "deletions": 45, "hunks": 14, "review_chain": {"signed_off_by": ["Lecopzer Chen <lecopzer.chen@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Laura Abbott <labbott@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 3, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused rbtree and buffer_lock from ION driver after reworking. This is dead code elimination (44 deletions vs 1 insertion) in staging subsystem. Acked-by Laura Abbott, signed off by maintainer Greg Kroah-Hartman. Clean, atomic change with good documentation explaining why the code is no longer needed.", "code_snippet": "@@ -29,32 +29,6 @@\n static struct ion_device *internal_dev;\n static int heap_id;\n \n-/* this function should only be called while dev->lock is held */\n-static void ion_buffer_add(struct ion_device *dev,\n-\t\t\t   struct ion_buffer *buffer)\n-{\n-\tstruct rb_node **p = &dev->buffers.rb_node;\n-\tstruct rb_node *parent = NULL;\n-\tstruct ion_buffer *entry;\n-\n-\twhile (*p) {\n-\t\tparent = *p;\n-\t\tentry = rb_entry(parent, struct ion_buffer, node);\n-\n-\t\tif (buffer < entry) {\n-\t\t\tp = &(*p)->rb_left;\n-\t\t} else if (buffer > entry) {\n-\t\t\tp = &(*p)->rb_right;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e6998b17f36ab4f8f5608b3599df7b3c17d97a5"}
{"commit_hash": "8143be90aaab5848b570aa6b706727f8ffe68960", "short_hash": "8143be90aaab", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-17T22:20:14+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-25T09:56:05+02:00", "subject": "staging: rtl8723bs: remove set but not used variable 'cck_highpwr'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -89,7 +89,6 @@ static void odm_RxPhyStatus92CSeries_Parsing(\n \tu8 RSSI, total_rssi = 0;\n \tbool isCCKrate = false;\n \tu8 rf_rx_num = 0;\n-\tu8 cck_highpwr = 0;\n \tu8 LNA_idx, VGA_idx;\n \tPPHY_STATUS_RPT_8192CD_T pPhyStaRpt = (PPHY_STATUS_RPT_8192CD_T)pPhyStatus;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8143be90aaab5848b570aa6b706727f8ffe68960"}
{"commit_hash": "756e4624ddcfdc2792fe389262ba7447f22d8913", "short_hash": "756e4624ddcf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-17T22:35:51+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-25T09:58:26+02:00", "subject": "staging: rtl8192e: remove set but not used variable 'payload '", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -1300,7 +1300,6 @@ static int rtllib_rx_InfraAdhoc(struct rtllib_device *ieee, struct sk_buff *skb,\n \tstruct rx_ts_record *pTS = NULL;\n \tu16 fc, sc, SeqNum = 0;\n \tu8 type, stype, multicast = 0, unicast = 0, nr_subframes = 0, TID = 0;\n-\tu8 *payload;\n \tu8 dst[ETH_ALEN];\n \tu8 src[ETH_ALEN];\n \tu8 bssid[ETH_ALEN] = {0};", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/756e4624ddcfdc2792fe389262ba7447f22d8913"}
{"commit_hash": "34d0545978b65f0a4ced613eb99cd75b2a6132e9", "short_hash": "34d0545978b6", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-12T13:55:17+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-25T11:12:58+02:00", "subject": "dt-bindings: usb: mtu3: fix typo of DMA clock name", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/", "subsystems_touched": ["Documentation/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -16,7 +16,7 @@ Required properties:\n \tentry in clock-names\n  - clock-names : must contain \"sys_ck\" for clock of controller,\n \tthe following clocks are optional:\n-\t\"ref_ck\", \"mcu_ck\" and \"dam_ck\";\n+\t\"ref_ck\", \"mcu_ck\" and \"dma_ck\";\n  - phys : see usb-hcd.txt in the current directory\n  - dr_mode : should be one of \"host\", \"peripheral\" or \"otg\",\n \trefer to usb/generic.txt\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/34d0545978b65f0a4ced613eb99cd75b2a6132e9"}
{"commit_hash": "99441ab552f1e1713a562838215c080387a94267", "short_hash": "99441ab552f1", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:21+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:10-03:00", "subject": "RDMA/hns: optimize the duplicated code for qpc setting flow", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 38, "deletions": 58, "hunks": 10, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 5, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring to eliminate 20+ lines of duplicate code between modify_qp_init_to_init and modify_qp_reset_to_init functions by extracting shared logic into new set_qpc_wqe_cnt helper function. Cross-org commit from Huawei author (wangxi11@huawei.com) signed off by maintainer Jason Gunthorpe (Mellanox). Single file change in HNS RDMA driver with good commit message explaining the readability improvement.", "code_snippet": "@@ -3118,6 +3118,43 @@ static void set_access_flags(struct hns_roce_qp *hr_qp,\n \troce_set_bit(qpc_mask->byte_76_srqn_op_en, V2_QPC_BYTE_76_ATE_S, 0);\n }\n \n+static void set_qpc_wqe_cnt(struct hns_roce_qp *hr_qp,\n+\t\t\t    struct hns_roce_v2_qp_context *context,\n+\t\t\t    struct hns_roce_v2_qp_context *qpc_mask)\n+{\n+\tif (hr_qp->ibqp.qp_type == IB_QPT_GSI)\n+\t\troce_set_field(context->byte_4_sqpn_tst,\n+\t\t\t       V2_QPC_BYTE_4_SGE_SHIFT_M,\n+\t\t\t       V2_QPC_BYTE_4_SGE_SHIFT_S,\n+\t\t\t       ilog2((unsigned int)hr_qp->sge.sge_cnt));\n+\telse\n+\t\troce_set_field(context->byte_4_sqpn_tst,\n+\t\t\t       V2_QPC_BYTE_4_SGE_SHIFT_M,\n+\t\t\t       V2_QPC_BYTE_4_SGE_SHIFT_S,\n+\t\t\t       hr_qp->sq.max_gs >\n+\t\t\t       HNS_ROCE_V2_UC_RC_SGE_NUM_IN_WQE ?\n+\t\t\t       ilog2((unsigned int)hr_qp->sge.sge_cnt) : 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/99441ab552f1e1713a562838215c080387a94267"}
{"commit_hash": "947441eadb909b031fc0793d049e1af0d5855a21", "short_hash": "947441eadb90", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:20+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:10-03:00", "subject": "RDMA/hns: Use a separated function for setting extend sge paramters", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 2, "insertions": 38, "deletions": 25, "hunks": 12, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring that extracts extended SGE parameter setting into a separate function. Removes unused struct fields (sq_max_wqes_per_wr, sq_spare_wqes). Cross-org commit from Huawei author (oulijun@huawei.com) signed off by maintainer Jason Gunthorpe. Clean refactoring with proper error handling improvement.", "code_snippet": "@@ -654,8 +654,6 @@ struct hns_roce_qp {\n \tu32\t\t\tdoorbell_qpn;\n \t__le32\t\t\tsq_signal_bits;\n \tu32\t\t\tsq_next_wqe;\n-\tint\t\t\tsq_max_wqes_per_wr;\n-\tint\t\t\tsq_spare_wqes;\n \tstruct hns_roce_wq\tsq;\n \n \tstruct ib_umem\t\t*umem;\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_qp.c b/drivers/infiniband/hw/hns/hns_roce_qp.c\nindex e0424029b058..9c272c20bbf9 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_qp.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_qp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/947441eadb909b031fc0793d049e1af0d5855a21"}
{"commit_hash": "606bf89e98efb1174891c4d96afd39c1a974ce3d", "short_hash": "606bf89e98ef", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:19+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:10-03:00", "subject": "RDMA/hns: Refactor for hns_roce_v2_modify_qp function", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 206, "deletions": 150, "hunks": 12, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Xi Wang <wangxi11@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting hns_roce_v2_set_path, hns_roce_v2_set_abs_fields, and hns_roce_v2_set_opt_fields functions from hns_roce_v2_modify_qp. 356 lines changed (206 insertions, 150 deletions) in a single file. Good commit message with link and proper sign-offs. Cross-org contribution from Huawei to Mellanox maintainer.", "code_snippet": "@@ -3974,30 +3974,119 @@ static inline bool hns_roce_v2_check_qp_stat(enum ib_qp_state cur_state,\n \n }\n \n-static int hns_roce_v2_modify_qp(struct ib_qp *ibqp,\n-\t\t\t\t const struct ib_qp_attr *attr,\n-\t\t\t\t int attr_mask, enum ib_qp_state cur_state,\n-\t\t\t\t enum ib_qp_state new_state)\n+static int hns_roce_v2_set_path(struct ib_qp *ibqp,\n+\t\t\t\tconst struct ib_qp_attr *attr,\n+\t\t\t\tint attr_mask,\n+\t\t\t\tstruct hns_roce_v2_qp_context *context,\n+\t\t\t\tstruct hns_roce_v2_qp_context *qpc_mask)\n {\n+\tconst struct ib_global_route *grh = rdma_ah_read_grh(&attr->ah_attr);\n \tstruct hns_roce_dev *hr_dev = to_hr_dev(ibqp->device);\n \tstruct hns_roce_qp *hr_qp = to_hr_qp(ibqp);\n-\tstruct hns_roce_v2_qp_context *context;\n-\tstruct hns_roce_v2_qp_context *qpc_mask;\n-\tstruct device *dev = hr_dev->dev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/606bf89e98efb1174891c4d96afd39c1a974ce3d"}
{"commit_hash": "4f8f0d5e33ddb0d102cf6e61c8e8f497eb1c3866", "short_hash": "4f8f0d5e33dd", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:17+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:10-03:00", "subject": "RDMA/hns: Package the flow of creating cq", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 5, "files_changed": 1, "insertions": 124, "deletions": 62, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 6, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that packages CQ creation flow into separate functions (create_user_cq, create_kernel_cq, destroy_user_cq, destroy_kernel_cq) to improve code comprehensibility. Moderate code volume (186 lines changed), touches RDMA driver subsystem. Maintainer Jason Gunthorpe signed off, cross-org contribution from Huawei. Good commit message with Link tag. Pure refactoring with no functional changes or user impact.", "code_snippet": "@@ -298,21 +298,132 @@ static void hns_roce_ib_free_cq_buf(struct hns_roce_dev *hr_dev,\n \t\t\t  &buf->hr_buf);\n }\n \n+static int create_user_cq(struct hns_roce_dev *hr_dev,\n+\t\t\t  struct hns_roce_cq *hr_cq,\n+\t\t\t  struct ib_udata *udata,\n+\t\t\t  struct hns_roce_ib_create_cq_resp *resp,\n+\t\t\t  struct hns_roce_uar *uar,\n+\t\t\t  int cq_entries)\n+{\n+\tstruct hns_roce_ib_create_cq ucmd;\n+\tstruct device *dev = hr_dev->dev;\n+\tint ret;\n+\tstruct hns_roce_ucontext *context = rdma_udata_to_drv_context(\n+\t\t\t\t   udata, struct hns_roce_ucontext, ibucontext);\n+\n+\tif (ib_copy_from_udata(&ucmd, udata, sizeof(ucmd))) {\n+\t\tdev_err(dev, \"Failed to copy_from_udata.\\n\");\n+\t\treturn -EFAULT;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f8f0d5e33ddb0d102cf6e61c8e8f497eb1c3866"}
{"commit_hash": "2a2f1887e08964cf155bd67fc094eeb5b02c2f5c", "short_hash": "2a2f1887e089", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:18+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:10-03:00", "subject": "RDMA/hns: Refactor the code of creating srq", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 183, "deletions": 127, "hunks": 10, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 7, "score_quality": 15, "score_community": 9, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit that extracts user/kernel SRQ creation into separate functions. 310 lines changed (183 insertions, 127 deletions) in hns RDMA driver. Cross-org contribution (Huawei author, Mellanox maintainer). Well-reviewed refactor with proper Signed-off-by chain, adds code organization and maintainability value but no functional changes or user impact.", "code_snippet": "@@ -175,6 +175,91 @@ static void hns_roce_srq_free(struct hns_roce_dev *hr_dev,\n \thns_roce_bitmap_free(&srq_table->bitmap, srq->srqn, BITMAP_NO_RR);\n }\n \n+static int create_user_srq(struct hns_roce_srq *srq, struct ib_udata *udata,\n+\t\t\t   int srq_buf_size)\n+{\n+\tstruct hns_roce_dev *hr_dev = to_hr_dev(srq->ibsrq.device);\n+\tstruct hns_roce_ib_create_srq  ucmd;\n+\tu32 page_shift;\n+\tu32 npages;\n+\tint ret;\n+\n+\tif (ib_copy_from_udata(&ucmd, udata, sizeof(ucmd)))\n+\t\treturn -EFAULT;\n+\n+\tsrq->umem = ib_umem_get(udata, ucmd.buf_addr, srq_buf_size, 0, 0);\n+\tif (IS_ERR(srq->umem))\n+\t\treturn PTR_ERR(srq->umem);\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a2f1887e08964cf155bd67fc094eeb5b02c2f5c"}
{"commit_hash": "33db6f94847c33ebdeb2e73ef5cd8fd04fb58e86", "short_hash": "33db6f94847c", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:25+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:11-03:00", "subject": "RDMA/hns: Refactor eq table init for hip08", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 107, "deletions": 69, "hunks": 14, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 5, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting IRQ request/free logic into separate functions for improved readability. 107 insertions/69 deletions in single driver file. Cross-org contribution from Huawei author, reviewed and signed off by maintainer Jason Gunthorpe. Good commit message with Link tag and proper sign-offs. No functional changes, pure code organization.", "code_snippet": "@@ -5735,6 +5735,94 @@ static int hns_roce_v2_create_eq(struct hns_roce_dev *hr_dev,\n \treturn ret;\n }\n \n+static int __hns_roce_request_irq(struct hns_roce_dev *hr_dev, int irq_num,\n+\t\t\t\t  int comp_num, int aeq_num, int other_num)\n+{\n+\tstruct hns_roce_eq_table *eq_table = &hr_dev->eq_table;\n+\tint i, j;\n+\tint ret;\n+\n+\tfor (i = 0; i < irq_num; i++) {\n+\t\thr_dev->irq_names[i] = kzalloc(HNS_ROCE_INT_NAME_LEN,\n+\t\t\t\t\t       GFP_KERNEL);\n+\t\tif (!hr_dev->irq_names[i]) {\n+\t\t\tret = -ENOMEM;\n+\t\t\tgoto err_kzalloc_failed;\n+\t\t}\n+\t}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/33db6f94847c33ebdeb2e73ef5cd8fd04fb58e86"}
{"commit_hash": "d7019c0f47ae497bae27be5397287ca72c704bf4", "short_hash": "d7019c0f47ae", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:24+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:11-03:00", "subject": "RDMA/hns: Refactor hem table mhop check and calculation", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 1, "insertions": 70, "deletions": 110, "hunks": 10, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 9, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Code refactoring extracting duplicated HEM table mhop calculation logic into separate function get_hem_table_config(). Reduces complexity in hns_roce_check_whether_mhop() by replacing chain of OR conditions with switch statement. Net reduction of 40 lines (110 deletions, 70 insertions). Proper review chain with author Lijun Ou (Huawei), co-author Yixian Liu (Huawei), and maintainer Jason Gunthorpe (Mellanox) Signed-off-by chain. Well-documented commit message explaining the refactoring motivation.", "code_snippet": "@@ -41,20 +41,47 @@\n \n bool hns_roce_check_whether_mhop(struct hns_roce_dev *hr_dev, u32 type)\n {\n-\tif ((hr_dev->caps.qpc_hop_num && type == HEM_TYPE_QPC) ||\n-\t    (hr_dev->caps.mpt_hop_num && type == HEM_TYPE_MTPT) ||\n-\t    (hr_dev->caps.cqc_hop_num && type == HEM_TYPE_CQC) ||\n-\t    (hr_dev->caps.srqc_hop_num && type == HEM_TYPE_SRQC) ||\n-\t    (hr_dev->caps.sccc_hop_num && type == HEM_TYPE_SCCC) ||\n-\t    (hr_dev->caps.qpc_timer_hop_num && type == HEM_TYPE_QPC_TIMER) ||\n-\t    (hr_dev->caps.cqc_timer_hop_num && type == HEM_TYPE_CQC_TIMER) ||\n-\t    (hr_dev->caps.cqe_hop_num && type == HEM_TYPE_CQE) ||\n-\t    (hr_dev->caps.mtt_hop_num && type == HEM_TYPE_MTT) ||\n-\t    (hr_dev->caps.srqwqe_hop_num && type == HEM_TYPE_SRQWQE) ||\n-\t    (hr_dev->caps.idx_hop_num && type == HEM_TYPE_IDX))\n-\t\treturn true;\n-\n-\treturn false;\n+\tint hop_num = 0;\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d7019c0f47ae497bae27be5397287ca72c704bf4"}
{"commit_hash": "3ee0e170d72c05172b0aa4e46d58795fdc19081e", "short_hash": "3ee0e170d72c", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:23+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:11-03:00", "subject": "RDMA/hns: Package for hns_roce_rereg_user_mr function", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 89, "deletions": 64, "hunks": 8, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 4, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting code from hns_roce_rereg_user_mr() into new rereg_mr_trans() helper function for improved readability. 153 lines changed (89 insertions, 64 deletions). Huawei to Mellanox cross-org contribution with proper maintainer sign-off chain (author Lijun Ou, signed-off by Lang Cheng, merged by maintainer Jason Gunthorpe). Clean commit message with Link tag. No testing evident, no stable cc, no user-visible impact.", "code_snippet": "@@ -1206,6 +1206,83 @@ struct ib_mr *hns_roce_reg_user_mr(struct ib_pd *pd, u64 start, u64 length,\n \treturn ERR_PTR(ret);\n }\n \n+static int rereg_mr_trans(struct ib_mr *ibmr, int flags,\n+\t\t\t  u64 start, u64 length,\n+\t\t\t  u64 virt_addr, int mr_access_flags,\n+\t\t\t  struct hns_roce_cmd_mailbox *mailbox,\n+\t\t\t  u32 pdn, struct ib_udata *udata)\n+{\n+\tstruct hns_roce_dev *hr_dev = to_hr_dev(ibmr->device);\n+\tstruct hns_roce_mr *mr = to_hr_mr(ibmr);\n+\tstruct device *dev = hr_dev->dev;\n+\tint npages;\n+\tint ret;\n+\n+\tif (mr->size != ~0ULL) {\n+\t\tnpages = ib_umem_page_count(mr->umem);\n+\n+\t\tif (hr_dev->caps.pbl_hop_num)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3ee0e170d72c05172b0aa4e46d58795fdc19081e"}
{"commit_hash": "89b4b70b974c98139f57eeb06facab40473268d3", "short_hash": "89b4b70b974c", "author_name": "chenglang", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T21:41:22+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-25T12:23:11-03:00", "subject": "RDMA/hns: Optimize hns_roce_mhop_alloc function.", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 160, "deletions": 115, "hunks": 4, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 14, "score_impact": 12, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 7, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring to improve readability by extracting multi-hop PBL allocation logic into separate functions (pbl_1hop_alloc, pbl_2hop_alloc, pbl_3hop_alloc). 275 lines changed (160 insertions, 115 deletions) in a single file. Cross-org contribution from Huawei (author) to Mellanox maintainer. Well-documented with proper review chain (Signed-off-by: Lang Cheng, Lijun Ou, Jason Gunthorpe). No bug fixes or new features - pure code organization improvement.", "code_snippet": "@@ -347,155 +347,208 @@ static void hns_roce_loop_free(struct hns_roce_dev *hr_dev,\n \tmr->pbl_bt_l0 = NULL;\n \tmr->pbl_l0_dma_addr = 0;\n }\n+static int pbl_1hop_alloc(struct hns_roce_dev *hr_dev, int npages,\n+\t\t\t       struct hns_roce_mr *mr, u32 pbl_bt_sz)\n+{\n+\tstruct device *dev = hr_dev->dev;\n \n-/* PBL multi hop addressing */\n-static int hns_roce_mhop_alloc(struct hns_roce_dev *hr_dev, int npages,\n-\t\t\t       struct hns_roce_mr *mr)\n+\tif (npages > pbl_bt_sz / 8) {\n+\t\tdev_err(dev, \"npages %d is larger than buf_pg_sz!\",\n+\t\t\tnpages);\n+\t\treturn -EINVAL;\n+\t}\n+\tmr->pbl_buf = dma_alloc_coherent(dev, npages * 8,\n+\t\t\t\t\t &(mr->pbl_dma_addr),\n+\t\t\t\t\t GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89b4b70b974c98139f57eeb06facab40473268d3"}
{"commit_hash": "e0e8d4911ed2695b12c3a01c15634000ede9bc73", "short_hash": "e0e8d4911ed2", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-28T16:51:41+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-25T15:51:55+02:00", "subject": "sched/isolation: Prefer housekeeping CPU in local node", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 10, "files_changed": 3, "insertions": 35, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": ["Frederic Weisbecker <frederic@kernel.org> (Kernel)", "Srikar Dronamraju <srikar@linux.vnet.ibm.com> (IBM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -22,9 +22,17 @@ EXPORT_SYMBOL_GPL(housekeeping_enabled);\n \n int housekeeping_any_cpu(enum hk_flags flags)\n {\n-\tif (static_branch_unlikely(&housekeeping_overridden))\n-\t\tif (housekeeping_flags & flags)\n+\tint cpu;\n+\n+\tif (static_branch_unlikely(&housekeeping_overridden)) {\n+\t\tif (housekeeping_flags & flags) {\n+\t\t\tcpu = sched_numa_find_closest(housekeeping_mask, smp_processor_id());\n+\t\t\tif (cpu < nr_cpu_ids)\n+\t\t\t\treturn cpu;\n+\n \t\t\treturn cpumask_any_and(housekeeping_mask, cpu_online_mask);\n+\t\t}\n+\t}\n \treturn smp_processor_id();\n }\n EXPORT_SYMBOL_GPL(housekeeping_any_cpu);", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e0e8d4911ed2695b12c3a01c15634000ede9bc73"}
{"commit_hash": "65d74e91694e1afac40c96fb64a9ef120757729e", "short_hash": "65d74e91694e", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-05T12:35:07+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-25T15:51:55+02:00", "subject": "sched/stats: Fix unlikely() use of sched_info_on()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -157,9 +157,10 @@ static inline void sched_info_dequeued(struct rq *rq, struct task_struct *t)\n {\n \tunsigned long long now = rq_clock(rq), delta = 0;\n \n-\tif (unlikely(sched_info_on()))\n+\tif (sched_info_on()) {\n \t\tif (t->sched_info.last_queued)\n \t\t\tdelta = now - t->sched_info.last_queued;\n+\t}\n \tsched_info_reset_dequeued(t);\n \tt->sched_info.run_delay += delta;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/65d74e91694e1afac40c96fb64a9ef120757729e"}
{"commit_hash": "7be1b9f3e99f6213d053d16ed2438126931d8351", "short_hash": "7be1b9f3e99f", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: make hclge_service use delayed workqueue", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 21, "deletions": 34, "hunks": 16, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 8, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactor converting timer-based service task to delayed workqueue. Technical: 2/10 code volume (55 lines changed, 2 files), 4/10 subsystem tier (network driver, hardware-specific). Impact: 4/15 category base (refactor + optimization), 0/5 stable (not CC'd), 2/5 user impact (internal driver change), 2/5 novelty (workqueue pattern for irq affinity). Quality: 6/8 review chain (Huawei internal review + net maintainer), 4/6 message quality (clear rationale, well-structured), 1/3 testing (implicit testing), 3/3 atomicity (focused refactor). Community: 0/4 cross-org (Huawei only), 4/4 maintainer (David S. Miller), 1/2 response (accepted path). Total: 33/100 - driver-level refactoring with proper review.", "code_snippet": "@@ -2513,8 +2513,12 @@ static void hclge_task_schedule(struct hclge_dev *hdev)\n {\n \tif (!test_bit(HCLGE_STATE_DOWN, &hdev->state) &&\n \t    !test_bit(HCLGE_STATE_REMOVING, &hdev->state) &&\n-\t    !test_and_set_bit(HCLGE_STATE_SERVICE_SCHED, &hdev->state))\n-\t\t(void)schedule_work(&hdev->service_task);\n+\t    !test_and_set_bit(HCLGE_STATE_SERVICE_SCHED, &hdev->state)) {\n+\t\thdev->hw_stats.stats_timer++;\n+\t\thdev->fd_arfs_expire_timer++;\n+\t\tmod_delayed_work(system_wq, &hdev->service_task,\n+\t\t\t\t round_jiffies_relative(HZ));\n+\t}\n }\n \n static int hclge_get_mac_link_status(struct hclge_dev *hdev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7be1b9f3e99f6213d053d16ed2438126931d8351"}
{"commit_hash": "1c822948fa600d2d2e7926640279b16d1f4a7423", "short_hash": "1c822948fa60", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: add debug messages to identify eth down cause", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 3, "insertions": 48, "deletions": 0, "hunks": 34, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 11, "score_impact": 13, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debug feature addition for Hisilicon HNS3 driver. Adds 48 lines of debug messages (netif_dbg) to help identify ethernet interface down/up causes. Clean driver-specific change with proper sign-off chain from multiple Huawei engineers and networking maintainer David S. Miller. Low complexity, well-reviewed, focused on debugging/diagnostic capability.", "code_snippet": "@@ -4395,6 +4409,10 @@ int hns3_set_channels(struct net_device *netdev,\n \tif (kinfo->rss_size == new_tqp_num)\n \t\treturn 0;\n \n+\tnetif_dbg(h, drv, netdev,\n+\t\t  \"set channels: tqp_num=%u, rxfh=%d\\n\",\n+\t\t  new_tqp_num, rxfh_configured);\n+\n \tret = hns3_reset_notify(h, HNAE3_DOWN_CLIENT);\n \tif (ret)\n \t\treturn ret;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\nindex e71c92b8ae8a..fe0f82a97234 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c822948fa600d2d2e7926640279b16d1f4a7423"}
{"commit_hash": "923713730db9795ac0658cc207935c11b2bbd705", "short_hash": "923713730db9", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: modify firmware version display format", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 7, "files_changed": 4, "insertions": 40, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a display format modification commit for the hns3 network driver firmware version. Changed from hex display (0x%08x) to dotted decimal format (x.x.x.x). The change adds bit extraction macros for firmware version bytes and updates both PF and VF command initialization code along with ethtool display. Code volume is moderate (44 lines changed). Strong internal review chain (4 co-developers + net maintainer David S. Miller). Clean, atomic change focused purely on formatting improvement.", "code_snippet": "@@ -179,6 +179,15 @@ struct hnae3_vector_info {\n #define HNAE3_RING_GL_RX 0\n #define HNAE3_RING_GL_TX 1\n \n+#define HNAE3_FW_VERSION_BYTE3_SHIFT\t24\n+#define HNAE3_FW_VERSION_BYTE3_MASK\tGENMASK(31, 24)\n+#define HNAE3_FW_VERSION_BYTE2_SHIFT\t16\n+#define HNAE3_FW_VERSION_BYTE2_MASK\tGENMASK(23, 16)\n+#define HNAE3_FW_VERSION_BYTE1_SHIFT\t8\n+#define HNAE3_FW_VERSION_BYTE1_MASK\tGENMASK(15, 8)\n+#define HNAE3_FW_VERSION_BYTE0_SHIFT\t0\n+#define HNAE3_FW_VERSION_BYTE0_MASK\tGENMASK(7, 0)\n+\n struct hnae3_ring_chain_node {\n \tstruct hnae3_ring_chain_node *next;\n \tu32 tqp_index;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\nindex 5bff98a9b0dc..e71c92b8ae8a 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/923713730db9795ac0658cc207935c11b2bbd705"}
{"commit_hash": "d659f9f60f6a119654c65bfa58aa6fa762c0824d", "short_hash": "d659f9f60f6a", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:25+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: change GFP flag during lock period", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "dd74f815dd41", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "lipeng 00277521 <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 13, "score_impact": 19, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical bug fix for potential sleep-while-atomic condition in network driver. Single-line change from GFP_KERNEL to GFP_ATOMIC during spinlock period prevents scheduling in atomic context. Well-documented with Fixes tag and clear explanation.", "code_snippet": "@@ -5796,7 +5796,7 @@ static int hclge_add_fd_entry_by_arfs(struct hnae3_handle *handle, u16 queue_id,\n \t\t\treturn -ENOSPC;\n \t\t}\n \n-\t\trule = kzalloc(sizeof(*rule), GFP_KERNEL);\n+\t\trule = kzalloc(sizeof(*rule), GFP_ATOMIC);\n \t\tif (!rule) {\n \t\t\tspin_unlock_bh(&hdev->fd_rule_lock);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d659f9f60f6a119654c65bfa58aa6fa762c0824d"}
{"commit_hash": "8e9eee78316037f07fd391ddaef99e9c29b53b4b", "short_hash": "8e9eee783160", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: remove upgrade reset level when reset fail", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-HANG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 8, "deletions": 20, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 13, "score_impact": 19, "score_quality": 8, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for hns3 driver reset error handling that could affect other running functions. Small code change (12 lines net, 8 insertions/20 deletions) in critical networking subsystem. Good commit message explaining the problem and solution. Internal review from same company (Huawei).", "code_snippet": "@@ -3305,7 +3305,7 @@ static int hclge_reset_prepare_wait(struct hclge_dev *hdev)\n \treturn ret;\n }\n \n-static bool hclge_reset_err_handle(struct hclge_dev *hdev, bool is_timeout)\n+static bool hclge_reset_err_handle(struct hclge_dev *hdev)\n {\n #define MAX_RESET_FAIL_CNT 5\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e9eee78316037f07fd391ddaef99e9c29b53b4b"}
{"commit_hash": "aa3253b8899d685811d159288f21cd2a2dbb5f0b", "short_hash": "aa3253b8899d", "author_name": "Guangbin Huang", "author_email": "huangguangbin@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: add a check for get_reset_level", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "NULL pointer dereference fix in network driver - critical bug preventing potential kernel crashes. Minimal code change (1 line) but addresses high-impact failure scenario in networking subsystem.", "code_snippet": "@@ -1963,7 +1963,7 @@ static pci_ers_result_t hns3_slot_reset(struct pci_dev *pdev)\n \n \tops = ae_dev->ops;\n \t/* request the reset */\n-\tif (ops->reset_event) {\n+\tif (ops->reset_event && ops->get_reset_level) {\n \t\tif (ae_dev->hw_err_reset_req) {\n \t\t\treset_type = ops->get_reset_level(ae_dev,\n \t\t\t\t\t\t&ae_dev->hw_err_reset_req);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa3253b8899d685811d159288f21cd2a2dbb5f0b"}
{"commit_hash": "44950d28cccf3049696e02d0adebb10e112cee24", "short_hash": "44950d28cccf", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:40-07:00", "subject": "net: hns3: add reset checking before set channels", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Bug fix for potential crash during device reset - adds guard check to prevent invalid memory access in network driver. Critical networking subsystem. Code is minimal (3 insertions). Proper commit message explaining the race condition. Maintainer sign-off present.", "code_snippet": "@@ -4378,6 +4378,9 @@ int hns3_set_channels(struct net_device *netdev,\n \tu16 org_tqp_num;\n \tint ret;\n \n+\tif (hns3_nic_resetting(netdev))\n+\t\treturn -EBUSY;\n+\n \tif (ch->rx_count || ch->tx_count)\n \t\treturn -EINVAL;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44950d28cccf3049696e02d0adebb10e112cee24"}
{"commit_hash": "08d80a4c90bdaa83680d1bdb58403fd8fe101885", "short_hash": "08d80a4c90bd", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:41-07:00", "subject": "net: hns3: use dev_info() instead of pr_info()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 2, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code cleanup converting pr_info() to dev_info() for better device-specific logging. Cross-org contribution from Huawei to net subsystem with maintainer sign-off.", "code_snippet": "@@ -8862,7 +8862,9 @@ static int hclge_init_ae_dev(struct hnae3_ae_dev *ae_dev)\n \thclge_state_init(hdev);\n \thdev->last_reset_time = jiffies;\n \n-\tpr_info(\"%s driver initialization finished.\\n\", HCLGE_DRIVER_NAME);\n+\tdev_info(&hdev->pdev->dev, \"%s driver initialization finished.\\n\",\n+\t\t HCLGE_DRIVER_NAME);\n+\n \treturn 0;\n \n err_mdiobus_unreg:\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\nindex a13a0e101c3b..ae0e6a69d54b 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/08d80a4c90bdaa83680d1bdb58403fd8fe101885"}
{"commit_hash": "dbba6da0c67ca99721b74760d3cc69df8a5a8230", "short_hash": "dbba6da0c67c", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:41-07:00", "subject": "net: hns3: Add support for using order 1 pages with a 4K buffer", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 2, "insertions": 17, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 11, "score_quality": 14, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Fixes buffer reuse issue in hns3 driver where RX buffers could not be reused when page size and buffer size were both 4096. Changes hnae3_* to hns3_* prefixes for module-local functions. Internal driver fix with proper review chain (Huawei internal review + net maintainer sign-off). Code volume modest (25 lines), affects specific Hisilicon network driver only.", "code_snippet": "@@ -2692,7 +2692,7 @@ static int hns3_add_frag(struct hns3_enet_ring *ring, struct hns3_desc *desc,\n \t\t}\n \n \t\tif (ring->tail_skb) {\n-\t\t\thead_skb->truesize += hnae3_buf_size(ring);\n+\t\t\thead_skb->truesize += hns3_buf_size(ring);\n \t\t\thead_skb->data_len += le16_to_cpu(desc->rx.size);\n \t\t\thead_skb->len += le16_to_cpu(desc->rx.size);\n \t\t\tskb = ring->tail_skb;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex 848b866761df..1a17856f9a3b 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dbba6da0c67ca99721b74760d3cc69df8a5a8230"}
{"commit_hash": "0812545487eca362126cc1ef6b7798ecac693629", "short_hash": "0812545487ec", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T10:53:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-29T08:23:41-07:00", "subject": "net: hns3: add interrupt affinity support for misc interrupt", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 53, "deletions": 4, "hunks": 14, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 15, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a driver-specific optimization feature for the HiSilicon HNS3 network driver that adds CPU affinity control for misc interrupts. The code volume is moderate (53 insertions, 4 deletions across 2 files). The driver is subsystem-specific with tier 5 importance. Feature category base score of 10. Strong review chain with 4 Signed-off-by tags including maintainer David S. Miller. Good commit message explaining the purpose and implementation. The feature allows users to control interrupt affinity for reset, mailbox, and periodic management tasks, which is a useful optimization but not critical functionality.", "code_snippet": "@@ -2499,14 +2505,16 @@ static void hclge_mbx_task_schedule(struct hclge_dev *hdev)\n {\n \tif (!test_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state) &&\n \t    !test_and_set_bit(HCLGE_STATE_MBX_SERVICE_SCHED, &hdev->state))\n-\t\tschedule_work(&hdev->mbx_service_task);\n+\t\tqueue_work_on(cpumask_first(&hdev->affinity_mask), system_wq,\n+\t\t\t      &hdev->mbx_service_task);\n }\n \n static void hclge_reset_task_schedule(struct hclge_dev *hdev)\n {\n \tif (!test_bit(HCLGE_STATE_REMOVING, &hdev->state) &&\n \t    !test_and_set_bit(HCLGE_STATE_RST_SERVICE_SCHED, &hdev->state))\n-\t\tschedule_work(&hdev->rst_service_task);\n+\t\tqueue_work_on(cpumask_first(&hdev->affinity_mask), system_wq,\n+\t\t\t      &hdev->rst_service_task);\n }\n \n static void hclge_task_schedule(struct hclge_dev *hdev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0812545487eca362126cc1ef6b7798ecac693629"}
{"commit_hash": "30833b4b4bc6c3da04e3478552a25a7da4ebc92c", "short_hash": "30833b4b4bc6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:07:34+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-30T09:52:03+02:00", "subject": "staging: rtl8723bs: remove set but not used variable 'pszBBRegMpFile'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 5, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minimal cleanup commit removing unused variable in staging driver. Low technical impact (3 insertions, 3 deletions) in low-tier staging subsystem. Good commit message with clear justification and proper tags. Maintainer (Greg KH) signed off. No stable CC, no testing mentioned, single file change.", "code_snippet": "@@ -431,14 +431,12 @@ static int phy_BB8723b_Config_ParaFile(struct adapter *Adapter)\n \tu8 sz8723BBRegFile[] = RTL8723B_PHY_REG;\n \tu8 sz8723AGCTableFile[] = RTL8723B_AGC_TAB;\n \tu8 sz8723BBBRegPgFile[] = RTL8723B_PHY_REG_PG;\n-\tu8 sz8723BBRegMpFile[] = RTL8723B_PHY_REG_MP;\n \tu8 sz8723BRFTxPwrLmtFile[] = RTL8723B_TXPWR_LMT;\n-\tu8 *pszBBRegFile = NULL, *pszAGCTableFile = NULL, *pszBBRegPgFile = NULL, *pszBBRegMpFile = NULL, *pszRFTxPwrLmtFile = NULL;\n+\tu8 *pszBBRegFile = NULL, *pszAGCTableFile = NULL, *pszBBRegPgFile = NULL, *pszRFTxPwrLmtFile = NULL;\n \n \tpszBBRegFile = sz8723BBRegFile;\n \tpszAGCTableFile = sz8723AGCTableFile;\n \tpszBBRegPgFile = sz8723BBBRegPgFile;\n-\tpszBBRegMpFile = sz8723BBRegMpFile;\n \tpszRFTxPwrLmtFile = sz8723BRFTxPwrLmtFile;\n \n \t/*  Read Tx Power Limit File */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/30833b4b4bc6c3da04e3478552a25a7da4ebc92c"}
{"commit_hash": "149726d3d78a6053445aaff6361374a0b67b7ac1", "short_hash": "149726d3d78a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:09:59+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-30T09:52:03+02:00", "subject": "staging: rtl8723bs: os_dep: remove two set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 2, "insertions": 0, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variables in staging driver to fix compiler warnings. Low complexity (6 deletions), staging subsystem tier 2. Clean commit message with warning details and Reported-by tag. Maintainer (Greg KH) signed off. No user impact, no stable CC, single atomic cleanup change.", "code_snippet": "@@ -4948,7 +4947,6 @@ static int rtw_ioctl_wext_private(struct net_device *dev, union iwreq_data *wrq_\n \n \tpriv = rtw_private_handler;\n \tpriv_args = rtw_private_args;\n-\tnum_priv = ARRAY_SIZE(rtw_private_handler);\n \tnum_priv_args = ARRAY_SIZE(rtw_private_args);\n \n \tif (num_priv_args == 0) {\ndiff --git a/drivers/staging/rtl8723bs/os_dep/osdep_service.c b/drivers/staging/rtl8723bs/os_dep/osdep_service.c\nindex 62fdd24ba427..25a80041ce87 100644\n--- a/drivers/staging/rtl8723bs/os_dep/osdep_service.c\n+++ b/drivers/staging/rtl8723bs/os_dep/osdep_service.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/149726d3d78a6053445aaff6361374a0b67b7ac1"}
{"commit_hash": "07ca9aa4a4b7fdd3c29cc9f8b07a2d1b8e0b6ba5", "short_hash": "07ca9aa4a4b7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:03:21+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-30T09:52:03+02:00", "subject": "staging: rtl8723bs: remove set but not used variable 'bWifiBusy'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable in staging driver. Low technical volume (6 deletions), low-impact subsystem (staging), no user-facing impact. Good commit message with clear justification, proper sign-offs, atomic change.", "code_snippet": "@@ -1758,7 +1758,6 @@ static void halbtc8723b1ant_TdmaDurationAdjustForAcl(\n \tstatic s32 up, dn, m, n, WaitCount;\n \ts32 result;   /* 0: no change, +1: increase WiFi duration, -1: decrease WiFi duration */\n \tu8 retryCount = 0, btInfoExt;\n-\tbool bWifiBusy = false;\n \n \tBTC_PRINT(\n \t\tBTC_MSG_ALGORITHM,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/07ca9aa4a4b7fdd3c29cc9f8b07a2d1b8e0b6ba5"}
{"commit_hash": "db0e6a573e9c54151cdc828e80ab82849802337f", "short_hash": "db0e6a573e9c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T09:35:24+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-30T09:52:04+02:00", "subject": "staging: vc04_services: fix unused-but-set-variable warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/vc04_services"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Stefan Wahren <wahrenst@gmx.net> (Gmx)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables reported by automated tool. Staging driver (tier 3) with minimal code change (-3/+2 lines). Acked by maintainer but no functional impact.", "code_snippet": "@@ -2824,7 +2824,6 @@ vchiq_release_internal(struct vchiq_state *state, struct vchiq_service *service)\n \tVCHIQ_STATUS_T ret = VCHIQ_SUCCESS;\n \tchar entity[16];\n \tint *entity_uc;\n-\tint local_uc, local_entity_uc;\n \n \tif (!arm_state)\n \t\tgoto out;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db0e6a573e9c54151cdc828e80ab82849802337f"}
{"commit_hash": "0b3b6fe299c471e44ed8713b7a602882626e693f", "short_hash": "0b3b6fe299c4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:13:17+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-30T12:07:34-04:00", "subject": "scsi: qla2xxx: Remove unnecessary null check", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/qla2xxx"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Himanshu Madhani <hmadhani@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 2, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant null check before dma_pool_destroy(). Detected by coccinelle tool. Code volume minimal (-2 +1 lines). SCSI driver subsystem (tier 7). Acked-by maintainer. Cross-org contribution (Huawei to Oracle-maintained subsystem). Low impact cleanup only.", "code_snippet": "@@ -4731,8 +4731,7 @@ qla2x00_mem_free(struct qla_hw_data *ha)\n \t\t}\n \t}\n \n-\tif (ha->dif_bundl_pool)\n-\t\tdma_pool_destroy(ha->dif_bundl_pool);\n+\tdma_pool_destroy(ha->dif_bundl_pool);\n \tha->dif_bundl_pool = NULL;\n \n \tqlt_mem_free(ha);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b3b6fe299c471e44ed8713b7a602882626e693f"}
{"commit_hash": "b217598890a26fe49c83f4f3124c343a6d990eb2", "short_hash": "b217598890a2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:15:39+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-30T12:12:59-04:00", "subject": "scsi: aic94xx: Remove unnecessary null check", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/aic94xx"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup removing unnecessary null checks before kfree() and kmem_cache_destroy(), which already handle NULL safely. Signed by maintainer Martin K. Petersen. Cross-org contribution from Huawei to Oracle-maintained subsystem.", "code_snippet": "@@ -565,8 +565,7 @@ static void asd_destroy_ha_caches(struct asd_ha_struct *asd_ha)\n \tif (asd_ha->hw_prof.scb_ext)\n \t\tasd_free_coherent(asd_ha, asd_ha->hw_prof.scb_ext);\n \n-\tif (asd_ha->hw_prof.ddb_bitmap)\n-\t\tkfree(asd_ha->hw_prof.ddb_bitmap);\n+\tkfree(asd_ha->hw_prof.ddb_bitmap);\n \tasd_ha->hw_prof.ddb_bitmap = NULL;\n \n \tfor (i = 0; i < ASD_MAX_PHYS; i++) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b217598890a26fe49c83f4f3124c343a6d990eb2"}
{"commit_hash": "0486ad20e73d03c82208b802ac41e80b942b23f6", "short_hash": "0486ad20e73d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-30T23:00:57+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-07-30T12:40:07-04:00", "subject": "drm/rockchip: Make analogix_dp_atomic_check static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/rockchip", "drm/bridge"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to analogix_dp_atomic_check function. Minimal code change (1 line functional, 4 lines diff). DRM subsystem (tier 6). Cross-org contribution from Huawei to Chromium maintainer. Good commit message with sparse warning details, SOB chain, and patchwork link. Clean atomic change.", "code_snippet": "@@ -1148,8 +1148,8 @@ analogix_dp_best_encoder(struct drm_connector *connector)\n }\n \n \n-int analogix_dp_atomic_check(struct drm_connector *connector,\n-\t\t\t     struct drm_atomic_state *state)\n+static int analogix_dp_atomic_check(struct drm_connector *connector,\n+\t\t\t\t    struct drm_atomic_state *state)\n {\n \tstruct analogix_dp_device *dp = to_dp(connector);\n \tstruct drm_connector_state *conn_state;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0486ad20e73d03c82208b802ac41e80b942b23f6"}
{"commit_hash": "6a7ce95d752efa86a1a383385d4f8035c224dc3d", "short_hash": "6a7ce95d752e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T18:02:19+02:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-31T09:07:05-07:00", "subject": "staging/octeon: Fix build error without CONFIG_NETDEVICES", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "171a9bae68c7", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"]}, "score_total": 31, "score_technical": 5, "score_impact": 8, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build configuration fix for Kconfig dependency issue. Small change (3 lines) fixing dependency logic for OCTEON_ETHERNET driver. Staging driver with lower criticality. Good commit message with proper Fixes tag and Reported-by tags. Maintainers Greg Kroah-Hartman and David S. Miller signed off. Cross-org contribution from Huawei.", "code_snippet": "@@ -1,7 +1,8 @@\n # SPDX-License-Identifier: GPL-2.0\n config OCTEON_ETHERNET\n \ttristate \"Cavium Networks Octeon Ethernet support\"\n-\tdepends on CAVIUM_OCTEON_SOC && NETDEVICES || COMPILE_TEST\n+\tdepends on CAVIUM_OCTEON_SOC || COMPILE_TEST\n+\tdepends on NETDEVICES\n \tselect PHYLIB\n \tselect MDIO_OCTEON\n \thelp\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a7ce95d752efa86a1a383385d4f8035c224dc3d"}
{"commit_hash": "21cc4ea85879c1b424fb01caa6e481c14286f7f0", "short_hash": "21cc4ea85879", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:05+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:03:32+01:00", "subject": "ASoC: tegra20_das: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/tegra"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() helper. Low impact, well-reviewed modernization pattern.", "code_snippet": "@@ -120,7 +120,6 @@ static const struct regmap_config tegra20_das_regmap_config = {\n \n static int tegra20_das_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tint ret = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21cc4ea85879c1b424fb01caa6e481c14286f7f0"}
{"commit_hash": "7d22808641cdea50baeae636acf5d592a7aa1239", "short_hash": "7d22808641cd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:06+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:03:41+01:00", "subject": "ASoC: tegra: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/tegra"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification commit using devm_platform_ioremap_resource() wrapper. Low volume (1 insertion, 3 deletions). ASoC subsystem tier 6. Maintenance/cleanup base score (3). Good commit message with Reported-by tag. Atomic change with clear purpose. Cross-org contribution (Huawei -> kernel.org) signed by maintainer Mark Brown.", "code_snippet": "@@ -368,7 +368,6 @@ static int tegra30_i2s_platform_probe(struct platform_device *pdev)\n \tstruct tegra30_i2s *i2s;\n \tconst struct of_device_id *match;\n \tu32 cif_ids[2];\n-\tstruct resource *mem;\n \tvoid __iomem *regs;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d22808641cdea50baeae636acf5d592a7aa1239"}
{"commit_hash": "f052172a5bb474fef2d0c3911655c9e107a3c024", "short_hash": "f052172a5bb4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:03:52+01:00", "subject": "ASoC: rockchip: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 6, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit using devm_platform_ioremap_resource() helper to simplify code in RK3328 codec driver. Small change (-3/+1 lines) removing unnecessary resource variable. Well-reviewed with proper tags (Reported-by, Signed-off-by, Link). Cross-org contribution from Huawei to maintainers tree. Low functional impact as it's a simple refactoring using established kernel API.", "code_snippet": "@@ -432,7 +432,6 @@ static int rk3328_platform_probe(struct platform_device *pdev)\n {\n \tstruct device_node *rk3328_np = pdev->dev.of_node;\n \tstruct rk3328_codec_priv *rk3328;\n-\tstruct resource *res;\n \tstruct regmap *grf;\n \tvoid __iomem *base;\n \tint ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f052172a5bb474fef2d0c3911655c9e107a3c024"}
{"commit_hash": "4b3540074361fc7b97f2da54365c55ceca6333d2", "short_hash": "4b3540074361", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:04:11+01:00", "subject": "ASoC: ep93xx-i2s: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/cirrus"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 5, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper, detected by automated tool (coccinelle/Hulk Robot). Very small scope (1 file, 4 lines), single subsystem (ASoC audio driver). Non-critical cleanup with no functional changes.", "code_snippet": "@@ -430,15 +430,13 @@ static const struct snd_soc_component_driver ep93xx_i2s_component = {\n static int ep93xx_i2s_probe(struct platform_device *pdev)\n {\n \tstruct ep93xx_i2s_info *info;\n-\tstruct resource *res;\n \tint err;\n \n \tinfo = devm_kzalloc(&pdev->dev, sizeof(*info), GFP_KERNEL);\n \tif (!info)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tinfo->regs = devm_ioremap_resource(&pdev->dev, res);\n+\tinfo->regs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(info->regs))\n \t\treturn PTR_ERR(info->regs);\n \n", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/4b3540074361fc7b97f2da54365c55ceca6333d2"}
{"commit_hash": "fceef72b68d63593d8543a8d608ccc8427e13d56", "short_hash": "fceef72b68d6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:04:19+01:00", "subject": "ASoC: mt8173: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-MODERNIZE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. 1 insertion, 3 deletions. Detected by Coccinelle and reported by automated tool. ASoC subsystem (tier 4 - audio driver). Single file in sound/soc/mediatek. Proper Signed-off-by chain with maintainer Mark Brown. Clean atomic change with no functional impact.", "code_snippet": "@@ -1056,7 +1056,6 @@ static int mt8173_afe_pcm_dev_probe(struct platform_device *pdev)\n \tint irq_id;\n \tstruct mtk_base_afe *afe;\n \tstruct mt8173_afe_private *afe_priv;\n-\tstruct resource *res;\n \n \tret = dma_set_mask_and_coherent(&pdev->dev, DMA_BIT_MASK(33));\n \tif (ret)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fceef72b68d63593d8543a8d608ccc8427e13d56"}
{"commit_hash": "61e799e3658952397da80f6c2e3581e7b65209a8", "short_hash": "61e799e36589", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:10+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:04:29+01:00", "subject": "ASoC: mt6797: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek/mt6797/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 3, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Reduces 4 lines to 1, detected by coccinelle script. Low impact driver cleanup in audio subsystem (tier 4). Proper sign-off chain from author through subsystem maintainer Mark Brown.", "code_snippet": "@@ -749,7 +749,6 @@ static int mt6797_afe_pcm_dev_probe(struct platform_device *pdev)\n {\n \tstruct mtk_base_afe *afe;\n \tstruct mt6797_afe_private *afe_priv;\n-\tstruct resource *res;\n \tstruct device *dev;\n \tint i, irq_id, ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61e799e3658952397da80f6c2e3581e7b65209a8"}
{"commit_hash": "d003e3081c1d069b94d1b5f4c3bc8234d4603282", "short_hash": "d003e3081c1d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:11+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:04:40+01:00", "subject": "ASoC: imx-audmux: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper. Minor code reduction (1 insertion, 3 deletions) in ASoC audio driver. Detected by Coccinelle tool, reported by Hulk Robot. Signed-off-by maintainer Mark Brown.", "code_snippet": "@@ -298,12 +298,10 @@ static int imx_audmux_parse_dt_defaults(struct platform_device *pdev,\n \n static int imx_audmux_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tconst struct of_device_id *of_id =\n \t\t\tof_match_device(imx_audmux_dt_ids, &pdev->dev);\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\taudmux_base = devm_ioremap_resource(&pdev->dev, res);\n+\taudmux_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(audmux_base))\n \t\treturn PTR_ERR(audmux_base);\n \n", "flags": ["COCCINELLE", "HULK_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/d003e3081c1d069b94d1b5f4c3bc8234d4603282"}
{"commit_hash": "959bb6b54d708652fe06097feecc3acd4d6b8c89", "short_hash": "959bb6b54d70", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:12+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:04:59+01:00", "subject": "ASoC: fsl_audmix: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Minimal code change (1 insert, 3 delete) in sound subsystem ASoC driver. Reported-by tag indicates automated detection (Hulk Robot). Reviewed by subsystem maintainer Mark Brown. No functional change, no stable tagging, low user impact.", "code_snippet": "@@ -458,7 +458,6 @@ static int fsl_audmix_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct fsl_audmix *priv;\n-\tstruct resource *res;\n \tconst char *mdrv;\n \tconst struct of_device_id *of_id;\n \tvoid __iomem *regs;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/959bb6b54d708652fe06097feecc3acd4d6b8c89"}
{"commit_hash": "d400b1b30cbff1c0962bbb3f895e839ccd120cb7", "short_hash": "d400b1b30cbf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:13+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:05:20+01:00", "subject": "ASoC: bcm2835-i2s: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/bcm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup using devm_platform_ioremap_resource() helper. Single file, low-tier subsystem (sound/soc). Good message with Reported-by tag. Maintainer (broonie) signed off. No functional change, no stable marking, minimal user impact.", "code_snippet": "@@ -828,7 +828,6 @@ static int bcm2835_i2s_probe(struct platform_device *pdev)\n {\n \tstruct bcm2835_i2s_dev *dev;\n \tint ret;\n-\tstruct resource *mem;\n \tvoid __iomem *base;\n \tconst __be32 *addr;\n \tdma_addr_t dma_base;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d400b1b30cbff1c0962bbb3f895e839ccd120cb7"}
{"commit_hash": "c9dbe688983b1d77a9a46cf6b7ac88348a1ca395", "short_hash": "c9dbe688983b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:14+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:05:39+01:00", "subject": "ASoC: sirf: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/sirf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Low impact refactoring in ASoC subsystem. Proper commit message with Reported-by tags, maintained Mark Brown sign-off. Single file change in non-critical driver.", "code_snippet": "@@ -359,7 +359,6 @@ static int sirf_usp_pcm_probe(struct platform_device *pdev)\n \tint ret;\n \tstruct sirf_usp *usp;\n \tvoid __iomem *base;\n-\tstruct resource *mem_res;\n \n \tusp = devm_kzalloc(&pdev->dev, sizeof(struct sirf_usp),\n \t\t\tGFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c9dbe688983b1d77a9a46cf6b7ac88348a1ca395"}
{"commit_hash": "1327bfe2887c0e29bcdc0c5c3e445da107ccb4e2", "short_hash": "1327bfe2887c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:05:59+01:00", "subject": "ASoC: mxs-saif: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mxs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduces 4 lines to 1, eliminates unnecessary iores variable. Low-risk driver subsystem cleanup flagged by Coccinelle tool.", "code_snippet": "@@ -732,7 +732,6 @@ static int mxs_saif_mclk_init(struct platform_device *pdev)\n static int mxs_saif_probe(struct platform_device *pdev)\n {\n \tstruct device_node *np = pdev->dev.of_node;\n-\tstruct resource *iores;\n \tstruct mxs_saif *saif;\n \tint irq, ret = 0;\n \tstruct device_node *master;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1327bfe2887c0e29bcdc0c5c3e445da107ccb4e2"}
{"commit_hash": "0fb46f541bb3e6e5bbb155c08b9e75f92c21acb9", "short_hash": "0fb46f541bb3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:16+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:06:18+01:00", "subject": "ASoC: spear: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/spear/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit using devm_platform_ioremap_resource() helper. Low complexity (5 lines changed), single file in non-critical audio subsystem. No stable CC, no CVE. Good commit hygiene with Reported-by tags and proper Signed-off-by chain. Mark Brown (maintainer) merged directly.", "code_snippet": "@@ -202,12 +202,11 @@ static int spdif_in_probe(struct platform_device *pdev)\n {\n \tstruct spdif_in_dev *host;\n \tstruct spear_spdif_platform_data *pdata;\n-\tstruct resource *res, *res_fifo;\n+\tstruct resource *res_fifo;\n \tvoid __iomem *io_base;\n \tint ret;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tio_base = devm_ioremap_resource(&pdev->dev, res);\n+\tio_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(io_base))\n \t\treturn PTR_ERR(io_base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fb46f541bb3e6e5bbb155c08b9e75f92c21acb9"}
{"commit_hash": "89dd38bf130e661d92c6ab7e3b003907f1d3f367", "short_hash": "89dd38bf130e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:17+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:06:26+01:00", "subject": "ASoC: kirkwood-i2s: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/kirkwood"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 6, "score_impact": 7, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a simple code modernization commit replacing manual resource retrieval with devm_platform_ioremap_resource(). The change is detected by coccinelle (automated tool) and touches a non-critical audio driver (kirkwood I2S). Code volume is minimal (-3/+1 lines). Proper review chain with maintainer (Mark Brown) sign-off. Low functional impact as it's a cleanup with no behavior change.", "code_snippet": "@@ -523,7 +523,6 @@ static int kirkwood_i2s_dev_probe(struct platform_device *pdev)\n \tstruct kirkwood_asoc_platform_data *data = pdev->dev.platform_data;\n \tstruct snd_soc_dai_driver *soc_dai = kirkwood_i2s_dai;\n \tstruct kirkwood_dma_data *priv;\n-\tstruct resource *mem;\n \tstruct device_node *np = pdev->dev.of_node;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89dd38bf130e661d92c6ab7e3b003907f1d3f367"}
{"commit_hash": "ebdd7be5415c7795c77609ad908222038e441835", "short_hash": "ebdd7be5415c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:18+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:06:45+01:00", "subject": "ASoC: xtfpga-i2s: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/xtensa"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with the newer devm_platform_ioremap_resource() helper function. Very small scope (1 file, -3/+1 lines), low subsystem tier (sound/soc driver), no functional changes. Has proper review chain (Reviewed-by, Signed-off-by), good commit message with Link tag, and maintainer sign-off. Total score: 25/100.", "code_snippet": "@@ -531,7 +531,6 @@ static int xtfpga_i2s_runtime_resume(struct device *dev)\n static int xtfpga_i2s_probe(struct platform_device *pdev)\n {\n \tstruct xtfpga_i2s *i2s;\n-\tstruct resource *mem;\n \tint err, irq;\n \n \ti2s = devm_kzalloc(&pdev->dev, sizeof(*i2s), GFP_KERNEL);", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/ebdd7be5415c7795c77609ad908222038e441835"}
{"commit_hash": "2e73d98f2ecf61008926bb8a425c3281a89959c0", "short_hash": "2e73d98f2ecf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:31+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:07:29+01:00", "subject": "ASoC: meson: axg-pdm: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper. Clean 1-line deletion, 3-line addition change in ASoC driver. Proper maintainer chain through Mark Brown. No functional change, no user impact, low subsystem criticality (audio codec driver). Reported by automated tool (Hulk Robot).", "code_snippet": "@@ -585,7 +585,6 @@ static int axg_pdm_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct axg_pdm *priv;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tint ret;\n ", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/2e73d98f2ecf61008926bb8a425c3281a89959c0"}
{"commit_hash": "d61feec0f60c250c786a9e0069ce909979491c7b", "short_hash": "d61feec0f60c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:32+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:07:48+01:00", "subject": "ASoC: meson: axg-spdifin: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor code simplification using devm_platform_ioremap_resource(). Single file, low-tier audio subsystem. Well-formed commit with proper tags (Reported-by, Signed-off-by, Link). Maintainer (Mark Brown) signed off. 1 insertion, 3 deletions.", "code_snippet": "@@ -453,7 +453,6 @@ static int axg_spdifin_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct axg_spdifin *priv;\n \tstruct snd_soc_dai_driver *dai_drv;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d61feec0f60c250c786a9e0069ce909979491c7b"}
{"commit_hash": "c43fd289dd58951f3cfddb3bb66a6ed7747c5986", "short_hash": "c43fd289dd58", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:33+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:08:07+01:00", "subject": "ASoC: meson: axg-spdifout: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 4, "score_impact": 2, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing manual resource/ioremap calls with devm_platform_ioremap_resource() helper. Detected by Coccinelle tool, reported by Hulk Robot. Minimal code change (1 insertion, 3 deletions), single file in audio driver subsystem. Reviewed and signed by maintainer Mark Brown.", "code_snippet": "@@ -401,7 +401,6 @@ static int axg_spdifout_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct axg_spdifout *priv;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c43fd289dd58951f3cfddb3bb66a6ed7747c5986"}
{"commit_hash": "9b2089313156ad16bd257217cc67e10597a82923", "short_hash": "9b2089313156", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:34+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:08:25+01:00", "subject": "ASoC: meson: axg-fifo: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup refactoring using devm_platform_ioremap_resource() helper. Low code volume (-3 lines). ASoC audio subsystem (tier 4). Single-file change. Maintainer Signed-off by Mark Brown. Good commit message with Link tag.", "code_snippet": "@@ -314,7 +314,6 @@ int axg_fifo_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tconst struct axg_fifo_match_data *data;\n \tstruct axg_fifo *fifo;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \n \tdata = of_device_get_match_data(dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b2089313156ad16bd257217cc67e10597a82923"}
{"commit_hash": "cf80aa2c1359f5d014981e251049bcc21a2217bc", "short_hash": "cf80aa2c1359", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:35+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:08:43+01:00", "subject": "ASoC: xlnx: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/xilinx"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 4, "score_impact": 1, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource wrapper. ASoC subsystem tier 3. Proper sign-off chain with maintainer (Mark Brown) ACK. Low technical complexity (7 lines changed across 2 files) but clean atomic changes.", "code_snippet": "@@ -107,8 +106,7 @@ static int xlnx_i2s_probe(struct platform_device *pdev)\n \tif (!dai_drv)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \ndiff --git a/sound/soc/xilinx/xlnx_spdif.c b/sound/soc/xilinx/xlnx_spdif.c\nindex 3b9000fd8c49..e2ca087adee6 100644\n--- a/sound/soc/xilinx/xlnx_spdif.c\n+++ b/sound/soc/xilinx/xlnx_spdif.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf80aa2c1359f5d014981e251049bcc21a2217bc"}
{"commit_hash": "e12fd61fd7c1bbbb758ede9fdf58ac2bd5de6b33", "short_hash": "e12fd61fd7c1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:36+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:09:02+01:00", "subject": "ASoC: sun8i-codec-analog: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sunxi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with the newer devm_platform_ioremap_resource() helper. Detected by Coccinelle and reported by Hulk Robot. The change reduces 3 lines to 1, simplifying the probe function in a sound subsystem driver. Low impact as it's purely refactoring with no functional change, but shows good use of modern kernel APIs.", "code_snippet": "@@ -819,12 +819,10 @@ MODULE_DEVICE_TABLE(of, sun8i_codec_analog_of_match);\n \n static int sun8i_codec_analog_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct regmap *regmap;\n \tvoid __iomem *base;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base)) {\n \t\tdev_err(&pdev->dev, \"Failed to map the registers\\n\");\n \t\treturn PTR_ERR(base);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e12fd61fd7c1bbbb758ede9fdf58ac2bd5de6b33"}
{"commit_hash": "54dd39e4aca8edb231e13349ac3a3a44ef28d3d4", "short_hash": "54dd39e4aca8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:09:20+01:00", "subject": "ASoC: sunxi: sun50i-codec-analog: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/sunxi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduced lines of code from 4 to 1, eliminating unnecessary resource variable. Reported by Hulk Robot (internal tool), properly reviewed and signed by maintainer Mark Brown. Clean, atomic change with zero functional impact.", "code_snippet": "@@ -459,12 +459,10 @@ MODULE_DEVICE_TABLE(of, sun50i_codec_analog_of_match);\n \n static int sun50i_codec_analog_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct regmap *regmap;\n \tvoid __iomem *base;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base)) {\n \t\tdev_err(&pdev->dev, \"Failed to map the registers\\n\");\n \t\treturn PTR_ERR(base);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54dd39e4aca8edb231e13349ac3a3a44ef28d3d4"}
{"commit_hash": "790b36578e23264ff05be2ba8466ebcf7d3db38a", "short_hash": "790b36578e23", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:09:39+01:00", "subject": "ASoC: sun8i-codec: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/sunxi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple cleanup converting platform_get_resource() + devm_ioremap_resource() to devm_platform_ioremap_resource(). Reduces code by 2 lines, detected by coccinelle script. Single file in audio driver subsystem.", "code_snippet": "@@ -533,7 +533,6 @@ static const struct regmap_config sun8i_codec_regmap_config = {\n \n static int sun8i_codec_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res_base;\n \tstruct sun8i_codec *scodec;\n \tvoid __iomem *base;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/790b36578e23264ff05be2ba8466ebcf7d3db38a"}
{"commit_hash": "1c63223cda84fb10643938e4e4eb02110f8ae9a2", "short_hash": "1c63223cda84", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:19+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:09:57+01:00", "subject": "ASoC: stm32: sai: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/stm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Modernization cleanup using devm_platform_ioremap_resource() helper. Simplifies resource mapping in STM32 SAI driver. Low-risk cleanup with maintainer endorsement. Cross-org contribution from Huawei.", "code_snippet": "@@ -152,7 +152,6 @@ static int stm32_sai_probe(struct platform_device *pdev)\n {\n \tstruct stm32_sai_data *sai;\n \tstruct reset_control *rst;\n-\tstruct resource *res;\n \tconst struct of_device_id *of_id;\n \tu32 val;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c63223cda84fb10643938e4e4eb02110f8ae9a2"}
{"commit_hash": "f62d6426718837663484bbf0ed94e56573cbc365", "short_hash": "f62d64267188", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:20+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:10:16+01:00", "subject": "ASoC: codecs: msm8916-wcd: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Single file (sound/soc/codecs), trivial cleanup detected by coccinelle. Low impact driver subsystem, well-signed by maintainer Mark Brown.", "code_snippet": "@@ -1143,7 +1143,6 @@ static int msm8916_wcd_digital_probe(struct platform_device *pdev)\n \tstruct msm8916_wcd_digital_priv *priv;\n \tstruct device *dev = &pdev->dev;\n \tvoid __iomem *base;\n-\tstruct resource *mem_res;\n \tstruct regmap *digital_map;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f62d6426718837663484bbf0ed94e56573cbc365"}
{"commit_hash": "94db63761576a98279e19f51173dec85f803bad4", "short_hash": "94db63761576", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:21+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:10:35+01:00", "subject": "ASoC: codecs: jz4725b: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduces 2 function calls to 1, removes 1 variable. Low impact audio driver cleanup detected by coccinelle script. Proper sign-off chain from author to maintainer.", "code_snippet": "@@ -545,15 +545,13 @@ static int jz4725b_codec_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct jz_icdc *icdc;\n-\tstruct resource *mem;\n \tint ret;\n \n \ticdc = devm_kzalloc(dev, sizeof(*icdc), GFP_KERNEL);\n \tif (!icdc)\n \t\treturn -ENOMEM;\n \n-\tmem = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\ticdc->base = devm_ioremap_resource(dev, mem);\n+\ticdc->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(icdc->base))\n \t\treturn PTR_ERR(icdc->base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/94db63761576a98279e19f51173dec85f803bad4"}
{"commit_hash": "72d09322e709c5c2d7112d6a19ec9f3846d3609d", "short_hash": "72d09322e709", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:10:54+01:00", "subject": "ASoC: mmp-sspa: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/pxa"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup refactoring using coccinelle-detected pattern. Modernizes ASoC driver probe to use devm_platform_ioremap_resource() helper, eliminating 3 lines including local resource variable. Low-risk maintenance with proper sign-off chain from maintainer Mark Brown.", "code_snippet": "@@ -399,7 +399,6 @@ static const struct snd_soc_component_driver mmp_sspa_component = {\n static int asoc_mmp_sspa_probe(struct platform_device *pdev)\n {\n \tstruct sspa_priv *priv;\n-\tstruct resource *res;\n \n \tpriv = devm_kzalloc(&pdev->dev,\n \t\t\t\tsizeof(struct sspa_priv), GFP_KERNEL);", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/72d09322e709c5c2d7112d6a19ec9f3846d3609d"}
{"commit_hash": "a8dc106410a2c3c87917447fb8c132b66062443e", "short_hash": "a8dc106410a2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:23+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:11:03+01:00", "subject": "ASoC: jz4740: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup refactoring using devm_platform_ioremap_resource() helper. Low technical value (1+6+0=7), minimal impact (2+0+1+0=3), moderate quality (3+4+0+3=10), some community endorsement (0+4+0=4). Total: 24/100.", "code_snippet": "@@ -318,7 +318,6 @@ static int jz4740_codec_probe(struct platform_device *pdev)\n {\n \tint ret;\n \tstruct jz4740_codec *jz4740_codec;\n-\tstruct resource *mem;\n \tvoid __iomem *base;\n \n \tjz4740_codec = devm_kzalloc(&pdev->dev, sizeof(*jz4740_codec),", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/a8dc106410a2c3c87917447fb8c132b66062443e"}
{"commit_hash": "2d1ffc7d0f58f6a39a34854e952f5020fc655af0", "short_hash": "2d1ffc7d0f58", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:24+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:11:21+01:00", "subject": "ASoC: inno_rk3036: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function in audio codec driver. Reduces 3 lines to 1, detected by coccinelle script. Maintainer (Mark Brown) signed off. No user impact, no stable tagging, trivial cleanup.", "code_snippet": "@@ -405,7 +405,6 @@ static int rk3036_codec_platform_probe(struct platform_device *pdev)\n {\n \tstruct rk3036_codec_priv *priv;\n \tstruct device_node *of_node = pdev->dev.of_node;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tstruct regmap *grf;\n \tint ret;", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/2d1ffc7d0f58f6a39a34854e952f5020fc655af0"}
{"commit_hash": "4e5bc35988af2483138feb3c5c3bf5fb0cae4228", "short_hash": "4e5bc35988af", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:25+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:11:40+01:00", "subject": "ASoC: uniphier: evea: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/uniphier"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Affects ASoC driver for UniPhier EVEa audio codec. Good commit message with Reported-by tag, Signed-off-by chain, and Link. Maintainer (Mark Brown) merged it. Low impact - code simplification only, no functional change.", "code_snippet": "@@ -451,7 +451,6 @@ static const struct regmap_config evea_regmap_config = {\n static int evea_probe(struct platform_device *pdev)\n {\n \tstruct evea_priv *evea;\n-\tstruct resource *res;\n \tvoid __iomem *preg;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4e5bc35988af2483138feb3c5c3bf5fb0cae4228"}
{"commit_hash": "b885c9fa363fa4604d78ea00adfed64db656fb78", "short_hash": "b885c9fa363f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:26+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:11:58+01:00", "subject": "ASoC: uniphier: aio-dma: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/uniphier"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 3, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. 1 insertion, 3 deletions in single ASoC driver file. Detected by coccinelle script. Full review chain (author->Reviewed-by->Signed-off-by). Maintainer endorsement (Mark Brown). No functional change, no user impact.", "code_snippet": "@@ -276,12 +276,10 @@ int uniphier_aiodma_soc_register_platform(struct platform_device *pdev)\n {\n \tstruct uniphier_aio_chip *chip = platform_get_drvdata(pdev);\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \tvoid __iomem *preg;\n \tint irq, ret;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpreg = devm_ioremap_resource(dev, res);\n+\tpreg = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(preg))\n \t\treturn PTR_ERR(preg);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b885c9fa363fa4604d78ea00adfed64db656fb78"}
{"commit_hash": "b1abe8780041d568ae07013a3592519fca855a1c", "short_hash": "b1abe8780041", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:27+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:12:17+01:00", "subject": "ASoC: psc-ac97: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Low-scoring cleanup refactor using devm_platform_ioremap_resource() helper. 1 file changed (sound/soc), -3/+2 lines. Tier-4 subsystem (ALSA SoC). No functional change, code simplification detected by Coccinelle. Good review chain with Signed-off-by from both author and maintainer Mark Brown.", "code_snippet": "@@ -363,7 +363,7 @@ static const struct snd_soc_component_driver au1xpsc_ac97_component = {\n static int au1xpsc_ac97_drvprobe(struct platform_device *pdev)\n {\n \tint ret;\n-\tstruct resource *iores, *dmares;\n+\tstruct resource *dmares;\n \tunsigned long sel;\n \tstruct au1xpsc_audio_data *wd;\n ", "flags": ["COCCINELLE", "NO_FUNCTIONAL_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/b1abe8780041d568ae07013a3592519fca855a1c"}
{"commit_hash": "12a63c0fa03691328b948690601dc7dde8fc527b", "short_hash": "12a63c0fa036", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:28+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:12:25+01:00", "subject": "ASoC: au1x: psc-i2s: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/au1x/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup refactoring replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Single file, low-tier audio driver. Cross-org contribution from Huawei to kernel.org maintainer. Well-reviewed with proper tags (Reported-by, Signed-off-by, Link).", "code_snippet": "@@ -291,7 +291,7 @@ static const struct snd_soc_component_driver au1xpsc_i2s_component = {\n \n static int au1xpsc_i2s_drvprobe(struct platform_device *pdev)\n {\n-\tstruct resource *iores, *dmares;\n+\tstruct resource *dmares;\n \tunsigned long sel;\n \tstruct au1xpsc_audio_data *wd;\n ", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/12a63c0fa03691328b948690601dc7dde8fc527b"}
{"commit_hash": "a95c901248642d62dc7462a2d2190c8ac183c84f", "short_hash": "a95c90124864", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:29+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:12:34+01:00", "subject": "ASoC: meson: g12a-tohdmitx: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper. ASoC subsystem (tier 3). Cross-org contribution from Huawei, signed by maintainer Mark Brown. Clean atomic change with proper tags including Reported-by and Link.", "code_snippet": "@@ -376,12 +376,10 @@ MODULE_DEVICE_TABLE(of, g12a_tohdmitx_of_match);\n static int g12a_tohdmitx_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tstruct regmap *map;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tregs = devm_ioremap_resource(dev, res);\n+\tregs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(regs))\n \t\treturn PTR_ERR(regs);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a95c901248642d62dc7462a2d2190c8ac183c84f"}
{"commit_hash": "10392fcad7dfc8ea38959b18327ff18b81b1c161", "short_hash": "10392fcad7df", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T23:07:30+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-31T12:12:52+01:00", "subject": "ASoC: meson: axg-tdm-formatter: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/meson"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 5, "score_impact": 5, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code modernization cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Minimal code change (-3/+1 lines). Low impact as it simplifies existing logic without functional changes. Well-signed with proper tags (Reported-by, Signed-off-by, Link). Maintainer (Mark Brown) signed off. Cross-org contribution (Huawei -> kernel.org maintainer).", "code_snippet": "@@ -253,7 +253,6 @@ int axg_tdm_formatter_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tconst struct axg_tdm_formatter_driver *drv;\n \tstruct axg_tdm_formatter *formatter;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/10392fcad7dfc8ea38959b18327ff18b81b1c161"}
{"commit_hash": "b2567ebb78bdde9a49010957a0ea5a2514f3fed2", "short_hash": "b2567ebb78bd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T15:37:48+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-01T11:45:45-04:00", "subject": "RDMA/hns: remove set but not used variable 'irq_num'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 5, "score_impact": 3, "score_quality": 15, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Minimal code impact (2 deletions). Low-tier subsystem (RDMA driver). Proper maintainer chain through Doug Ledford. Good commit message with Fixes tag reference and explanation.", "code_snippet": "@@ -5917,12 +5917,10 @@ static int hns_roce_v2_init_eq_table(struct hns_roce_dev *hr_dev)\n static void hns_roce_v2_cleanup_eq_table(struct hns_roce_dev *hr_dev)\n {\n \tstruct hns_roce_eq_table *eq_table = &hr_dev->eq_table;\n-\tint irq_num;\n \tint eq_num;\n \tint i;\n \n \teq_num = hr_dev->caps.num_comp_vectors + hr_dev->caps.num_aeq_vectors;\n-\tirq_num = eq_num + hr_dev->caps.num_other_vectors;\n \n \t/* Disable irq */\n \thns_roce_v2_int_mask_enable(hr_dev, eq_num, EQ_DISABLE);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2567ebb78bdde9a49010957a0ea5a2514f3fed2"}
{"commit_hash": "de70fdd7d24cd07e51fbec420f8704d956a47949", "short_hash": "de70fdd7d24c", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T10:45:34Z", "committer_name": "Jani Nikula", "committer_email": "jani.nikula@intel.com", "committer_company": "Intel", "commit_date": "2019-08-01T13:08:34+03:00", "subject": "drm/i915: fix possible memory leak in intel_hdcp_auth_downstream()", "primary_category": "BUG-LEAK", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "f26ae6a652f2", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/i915"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jani Nikula <jani.nikula@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 17, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 3, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in HDCP authentication code. Has proper Fixes tag, reviewed by maintainer (Jani Nikula). Cross-org contribution from Huawei to Intel DRM subsystem. Clean error handling fix with goto pattern.", "code_snippet": "@@ -540,7 +540,8 @@ int intel_hdcp_auth_downstream(struct intel_connector *connector)\n \n \tif (drm_hdcp_check_ksvs_revoked(dev, ksv_fifo, num_downstream)) {\n \t\tDRM_ERROR(\"Revoked Ksv(s) in ksv_fifo\\n\");\n-\t\treturn -EPERM;\n+\t\tret = -EPERM;\n+\t\tgoto err;\n \t}\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de70fdd7d24cd07e51fbec420f8704d956a47949"}
{"commit_hash": "0ae9fce32c5e5dafcbc7a5ed97a962d021423d31", "short_hash": "0ae9fce32c5e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:46:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: phy: xgene: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 9, "score_impact": 5, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with the newer devm_platform_ioremap_resource() helper function. The change reduces 3 lines of code to 1, eliminates a temporary variable, and is detected by coccinelle. Cross-org contribution from Huawei to networking subsystem, signed off by maintainer David S. Miller.", "code_snippet": "@@ -328,7 +328,6 @@ static int xgene_mdio_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct mii_bus *mdio_bus;\n \tconst struct of_device_id *of_id;\n-\tstruct resource *res;\n \tstruct xgene_mdio_pdata *pdata;\n \tvoid __iomem *csr_base;\n \tint mdio_id = 0, ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ae9fce32c5e5dafcbc7a5ed97a962d021423d31"}
{"commit_hash": "9d26cfa5b0d221e8655592e93b86f2e5e5cb4570", "short_hash": "9d26cfa5b0d2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:39:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "bcm63xx_enet: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/broadcom/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 8, "score_impact": 2, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Code modernization commit using devm_platform_ioremap_resource() helper to simplify driver code. Low impact (3 insertions, 6 deletions) in network ethernet driver (tier 8 subsystem). Clean refactoring with proper tags (Reported-by, Signed-off-by), merged by maintainer David S. Miller. No functional changes, no stable CC, no cross-org collaboration.", "code_snippet": "@@ -1719,8 +1719,7 @@ static int bcm_enet_probe(struct platform_device *pdev)\n \tif (ret)\n \t\tgoto out;\n \n-\tres_mem = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->base = devm_ioremap_resource(&pdev->dev, res_mem);\n+\tpriv->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->base)) {\n \t\tret = PTR_ERR(priv->base);\n \t\tgoto out;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d26cfa5b0d221e8655592e93b86f2e5e5cb4570"}
{"commit_hash": "c792c0081db67252c52de4d4b82356edf0dc71c5", "short_hash": "c792c0081db6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:34:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: qcom/emac: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/qualcomm/emac"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 8, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function, reducing code from 5 lines to 2 lines. Detected by coccinelle script (Hulk Robot). Proper sign-off chain from author through maintainer David S. Miller. Low impact cleanup change in network driver for Qualcomm EMAC.", "code_snippet": "@@ -544,7 +544,6 @@ static int emac_probe_resources(struct platform_device *pdev,\n \t\t\t\tstruct emac_adapter *adpt)\n {\n \tstruct net_device *netdev = adpt->netdev;\n-\tstruct resource *res;\n \tchar maddr[ETH_ALEN];\n \tint ret = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c792c0081db67252c52de4d4b82356edf0dc71c5"}
{"commit_hash": "566495de16580a3cb730b7975f1ae75fa1308fd5", "short_hash": "566495de1658", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:33:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: mediatek: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 9, "score_impact": 4, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() wrapper, removing manual platform_get_resource() call. 1 insertion, 2 deletions in single driver file. Reviewed and signed by maintainer David S. Miller. Detected by automated tool (Hulk Robot/coccinelle). No functional change.", "code_snippet": "@@ -2447,7 +2447,6 @@ static int mtk_add_mac(struct mtk_eth *eth, struct device_node *np)\n \n static int mtk_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tstruct device_node *mac_np;\n \tstruct mtk_eth *eth;\n \tint err;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/566495de16580a3cb730b7975f1ae75fa1308fd5"}
{"commit_hash": "42376788469bb3d543f9e287796465166d2b40fe", "short_hash": "42376788469b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:29:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: dsa: bcm_sf2: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 9, "score_impact": 4, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit using devm_platform_ioremap_resource() helper to simplify code in bcm_sf2 DSA driver. Small scope (1 file, 1 insert, 3 deletes), reported by Hulk Robot. Proper sign-off chain from Huawei author through net maintainer David S. Miller. No functional change, no testing evidence provided.", "code_snippet": "@@ -1041,7 +1041,6 @@ static int bcm_sf2_sw_probe(struct platform_device *pdev)\n \tstruct b53_device *dev;\n \tstruct dsa_switch *ds;\n \tvoid __iomem **base;\n-\tstruct resource *r;\n \tunsigned int i;\n \tu32 reg, rev;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42376788469bb3d543f9e287796465166d2b40fe"}
{"commit_hash": "291f4b6de48aa8a4140a189ab974d7c398d72bea", "short_hash": "291f4b6de48a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:27:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: dsa: b53: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa/b53"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup converting to devm_platform_ioremap_resource() helper. Single subsystem (DSA/B53 driver), low code volume (-4 lines), no user impact or stability concerns. Proper sign-offs from author and maintainer David S. Miller.", "code_snippet": "@@ -544,8 +543,7 @@ static void b53_srab_mux_init(struct platform_device *pdev)\n \tif (dev->pdata && dev->pdata->chip_id != BCM58XX_DEVICE_ID)\n \t\treturn;\n \n-\tr = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n-\tpriv->mux_config = devm_ioremap_resource(&pdev->dev, r);\n+\tpriv->mux_config = devm_platform_ioremap_resource(pdev, 1);\n \tif (IS_ERR(priv->mux_config))\n \t\treturn;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/291f4b6de48aa8a4140a189ab974d7c398d72bea"}
{"commit_hash": "6551c8c807b8d35b404f5a4bfeb02b20bf8c1fad", "short_hash": "6551c8c807b8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:25:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "net: dsa: lantiq: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa/lantiq"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Low risk cleanup reducing LoC from 7 to 3. Single driver file (lantiq_gswip.c), no functional changes. Signed by networking maintainer David S. Miller. Reported-by tag indicates automated Coccinelle detection.", "code_snippet": "@@ -1822,7 +1822,6 @@ static int gswip_gphy_fw_list(struct gswip_priv *priv,\n static int gswip_probe(struct platform_device *pdev)\n {\n \tstruct gswip_priv *priv;\n-\tstruct resource *gswip_res, *mdio_res, *mii_res;\n \tstruct device_node *mdio_np, *gphy_fw_np;\n \tstruct device *dev = &pdev->dev;\n \tint err;", "flags": ["COCCINELLE", "CODE_MOTION", "HULK_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/6551c8c807b8d35b404f5a4bfeb02b20bf8c1fad"}
{"commit_hash": "3230a55b3633aa09c91bd83b794cbdfff5f7c680", "short_hash": "3230a55b3633", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T20:22:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:10:34-04:00", "subject": "mvpp2: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/marvell/mvpp2"], "subsystem_tier": 9, "files_changed": 1, "insertions": 3, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 11, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification using devm_platform_ioremap_resource() helper detected by Coccinelle. Reduces lines of code by combining platform_get_resource and devm_ioremap_resource calls. Low-risk cleanup with proper maintainer sign-off from David S. Miller.", "code_snippet": "@@ -5118,8 +5117,7 @@ static int mvpp2_port_probe(struct platform_device *pdev,\n \tport->comphy = comphy;\n \n \tif (priv->hw_version == MVPP21) {\n-\t\tres = platform_get_resource(pdev, IORESOURCE_MEM, 2 + id);\n-\t\tport->base = devm_ioremap_resource(&pdev->dev, res);\n+\t\tport->base = devm_platform_ioremap_resource(pdev, 2 + id);\n \t\tif (IS_ERR(port->base)) {\n \t\t\terr = PTR_ERR(port->base);\n \t\t\tgoto err_free_irq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3230a55b3633aa09c91bd83b794cbdfff5f7c680"}
{"commit_hash": "a723fb8efe29d3912d2be41edcf38b76f8d6ed36", "short_hash": "a723fb8efe29", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:12-04:00", "subject": "net: hns3: refine for set ring parameters", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 3, "insertions": 65, "deletions": 28, "hunks": 16, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 13, "score_impact": 19, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes a potential crash/memory leak bug in network driver ring parameter changes. Previous implementation freed old resources before allocating new ones, leaving driver in unusable state on allocation failure. New implementation allocates first, frees old on success, or restores from backup on failure. Critical network subsystem (tier 10). High user impact as network failure affects system connectivity. Well-reviewed with multiple internal reviewers and netdev maintainer signoff.", "code_snippet": "@@ -3588,7 +3588,7 @@ static int hns3_alloc_ring_memory(struct hns3_enet_ring *ring)\n \treturn ret;\n }\n \n-static void hns3_fini_ring(struct hns3_enet_ring *ring)\n+void hns3_fini_ring(struct hns3_enet_ring *ring)\n {\n \thns3_free_desc(ring);\n \tdevm_kfree(ring_to_dev(ring), ring->desc_cb);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex 1a17856f9a3b..0a970f5fed10 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a723fb8efe29d3912d2be41edcf38b76f8d6ed36"}
{"commit_hash": "3f0f325309aca23cb241c1aded0056d78d7366a1", "short_hash": "3f0f325309ac", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:12-04:00", "subject": "net: hns3: do not query unsupported commands in debugfs", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "2849d4e7a1be", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 46, "deletions": 24, "hunks": 12, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 7, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for debugfs commands querying unsupported DCB operations on non-DCB hardware. Adds guard checks with hnae3_dev_dcb_supported() before querying DCB-specific commands (tc, tm_pg, tm_map, qos_buf_cfg). Also restructures qos_buf_cfg function order. Fix tags present, good commit message with Fixes tags, internal review from Huawei engineers (lipeng321, tanhuazhong), merged by net maintainer davem. Driver-specific code, no cross-subsystem impact.", "code_snippet": "@@ -325,6 +325,12 @@ static void hclge_dbg_dump_tc(struct hclge_dev *hdev)\n \tstruct hclge_desc desc;\n \tint i, ret;\n \n+\tif (!hnae3_dev_dcb_supported(hdev)) {\n+\t\tdev_info(&hdev->pdev->dev,\n+\t\t\t \"Only DCB-supported dev supports tc\\n\");\n+\t\treturn;\n+\t}\n+\n \thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_ETS_TC_WEIGHT, true);\n \n \tret = hclge_cmd_send(&hdev->hw, &desc, 1);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3f0f325309aca23cb241c1aded0056d78d7366a1"}
{"commit_hash": "b18bf305c46c20e289c6d030b21b13b632e8a459", "short_hash": "b18bf305c46c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:12-04:00", "subject": "net: hns3: add handler for NCSI error mailbox", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 7, "files_changed": 4, "insertions": 15, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware error handler for NCSI mailbox errors in Huawei hns3 driver. 15 insertions across 4 files, adds HCLGE_MBX_NCSI_ERROR opcode and handler function that triggers global reset. Internal Huawei review (lipeng321@huawei.com), upstream net maintainer ack. Critical network driver infrastructure.", "code_snippet": "@@ -582,6 +582,15 @@ static bool hclge_cmd_crq_empty(struct hclge_hw *hw)\n \treturn tail == hw->cmq.crq.next_to_use;\n }\n \n+static void hclge_handle_ncsi_error(struct hclge_dev *hdev)\n+{\n+\tstruct hnae3_ae_dev *ae_dev = hdev->ae_dev;\n+\n+\tae_dev->ops->set_default_reset_request(ae_dev, HNAE3_GLOBAL_RESET);\n+\tdev_warn(&hdev->pdev->dev, \"requesting reset due to NCSI error\\n\");\n+\tae_dev->ops->reset_event(hdev->pdev, NULL);\n+}\n+\n void hclge_mbx_handler(struct hclge_dev *hdev)\n {\n \tstruct hclge_cmq_ring *crq = &hdev->hw.cmq.crq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b18bf305c46c20e289c6d030b21b13b632e8a459"}
{"commit_hash": "ed8fb4b262aed95974ccd624402a482c4d59c888", "short_hash": "ed8fb4b262ae", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:12-04:00", "subject": "net: hns3: add link change event report", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 6, "insertions": 79, "deletions": 4, "hunks": 28, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 12, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Network driver feature adding link change event reporting mechanism. 6 files modified (79 insertions, 4 deletions). Adds firmware communication for faster link status detection. Good commit message explaining the problem and solution. Reviewed internally at Huawei, signed off by maintainer David S. Miller.", "code_snippet": "@@ -47,6 +47,7 @@ enum HCLGE_MBX_OPCODE {\n \tHCLGE_MBX_GET_MEDIA_TYPE,       /* (VF -> PF) get media type */\n \n \tHCLGE_MBX_GET_VF_FLR_STATUS = 200, /* (M7 -> PF) get vf reset status */\n+\tHCLGE_MBX_PUSH_LINK_STATUS,\t/* (M7 -> PF) get port link status */\n };\n \n /* below are per-VF mac-vlan subcodes */\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.c\nindex d9858f285460..538d1017592a 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ed8fb4b262aed95974ccd624402a482c4d59c888"}
{"commit_hash": "012fcb52f67cbba95c3e85010a4a9c40ea43866f", "short_hash": "012fcb52f67c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: activate reset timer when calling reset_event", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 18, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 13, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a bug fix for the hns3 network driver's reset handling logic. The commit addresses a scenario where reset events called within HCLGE_RESET_INTERVAL would return early without scheduling a timer, potentially leaving errors unfixed. Code volume is modest (21 lines changed, 1 file). Network subsystem is tier-1 criticality. Has internal review (Reviewed-by) from same company (Huawei), no cross-org collaboration. Commit message clearly explains the problem and solution.", "code_snippet": "@@ -3517,7 +3517,15 @@ static void hclge_reset(struct hclge_dev *hdev)\n \thdev->reset_fail_cnt = 0;\n \thdev->rst_stats.reset_done_cnt++;\n \tae_dev->reset_type = HNAE3_NONE_RESET;\n-\tdel_timer(&hdev->reset_timer);\n+\n+\t/* if default_reset_request has a higher level reset request,\n+\t * it should be handled as soon as possible. since some errors\n+\t * need this kind of reset to fix.\n+\t */\n+\thdev->reset_level = hclge_get_reset_level(ae_dev,\n+\t\t\t\t\t\t  &hdev->default_reset_request);\n+\tif (hdev->reset_level != HNAE3_NONE_RESET)\n+\t\tset_bit(hdev->reset_level, &hdev->reset_request);\n \n \treturn;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/012fcb52f67cbba95c3e85010a4a9c40ea43866f"}
{"commit_hash": "72e2fb07997c5ca2c73114624fd64c41be013bdc", "short_hash": "72e2fb07997c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: clear reset interrupt status in hclge_irq_handle()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "4ed340ab8f49", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 4, "insertions": 61, "deletions": 13, "hunks": 20, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 11, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes a critical race condition in reset interrupt handling for Hisilicon HNS3 network driver. The bug could cause missed reset events leading to hardware/driver desynchronization. Has Fixes tag, reviewed-by, proper explanation of root cause and solution. 74 lines across 4 files (61 insertions, 13 deletions) adds new PF-VF reset handshake mechanism. Networking subsystem with specific hardware driver scope.", "code_snippet": "@@ -3374,6 +3385,18 @@ static bool hclge_reset_err_handle(struct hclge_dev *hdev)\n \treturn false;\n }\n \n+static int hclge_set_rst_done(struct hclge_dev *hdev)\n+{\n+\tstruct hclge_pf_rst_done_cmd *req;\n+\tstruct hclge_desc desc;\n+\n+\treq = (struct hclge_pf_rst_done_cmd *)desc.data;\n+\thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_PF_RST_DONE, false);\n+\treq->pf_rst_done |= HCLGE_PF_RESET_DONE_BIT;\n+\n+\treturn hclge_cmd_send(&hdev->hw, &desc, 1);\n+}\n+\n static int hclge_reset_prepare_up(struct hclge_dev *hdev)\n {\n \tint ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72e2fb07997c5ca2c73114624fd64c41be013bdc"}
{"commit_hash": "6b428b4fbf986077d218287dd6f805f371cdf48f", "short_hash": "6b428b4fbf98", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: fix some reset handshake issue", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-HANG"], "cve_ids": [], "fixes_tag": "ada13ee3db7b", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 6, "insertions": 64, "deletions": 15, "hunks": 26, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for reset handshake issue in hns3 driver that could cause hardware to hang waiting for handshake status. 79 lines changed across 6 files in network driver. Has Fixes tag, reviewed internally, applied by networking maintainer.", "code_snippet": "@@ -103,14 +103,17 @@ static void hclge_cmd_config_regs(struct hclge_cmq_ring *ring)\n \tdma_addr_t dma = ring->desc_dma_addr;\n \tstruct hclge_dev *hdev = ring->dev;\n \tstruct hclge_hw *hw = &hdev->hw;\n+\tu32 reg_val;\n \n \tif (ring->ring_type == HCLGE_TYPE_CSQ) {\n \t\thclge_write_dev(hw, HCLGE_NIC_CSQ_BASEADDR_L_REG,\n \t\t\t\tlower_32_bits(dma));\n \t\thclge_write_dev(hw, HCLGE_NIC_CSQ_BASEADDR_H_REG,\n \t\t\t\tupper_32_bits(dma));\n-\t\thclge_write_dev(hw, HCLGE_NIC_CSQ_DEPTH_REG,\n-\t\t\t\tring->desc_num >> HCLGE_NIC_CMQ_DESC_NUM_S);\n+\t\treg_val = hclge_read_dev(hw, HCLGE_NIC_CSQ_DEPTH_REG);\n+\t\treg_val &= HCLGE_NIC_SW_RST_RDY;\n+\t\treg_val |= ring->desc_num >> HCLGE_NIC_CMQ_DESC_NUM_S;\n+\t\thclge_write_dev(hw, HCLGE_NIC_CSQ_DEPTH_REG, reg_val);\n \t\thclge_write_dev(hw, HCLGE_NIC_CSQ_HEAD_REG, 0);\n \t\thclge_write_dev(hw, HCLGE_NIC_CSQ_TAIL_REG, 0);\n \t} else {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6b428b4fbf986077d218287dd6f805f371cdf48f"}
{"commit_hash": "6e6e7680630c1b80042a79f62509aab5f49e3e88", "short_hash": "6e6e7680630c", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: rename a member in struct hclge_mac_ethertype_idx_rd_cmd", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 3, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple variable rename from 'mac_add' to 'mac_addr' for clarity. 4 insertions, 4 deletions across 2 files in HNS3 driver. Strong review chain with 3 internal sign-offs plus networking maintainer David S. Miller. Clear commit message explaining the naming improvement.", "code_snippet": "@@ -828,7 +828,7 @@ struct hclge_mac_ethertype_idx_rd_cmd {\n \tu8\tflags;\n \tu8\tresp_code;\n \t__le16  vlan_tag;\n-\tu8      mac_add[6];\n+\tu8      mac_addr[6];\n \t__le16  index;\n \t__le16\tethter_type;\n \t__le16  egress_port;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex e987d18ae18d..f16bfc67412a 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e6e7680630c1b80042a79f62509aab5f49e3e88"}
{"commit_hash": "b6872fd361056f3bce3e9fcfe9535c4b6b737531", "short_hash": "b6872fd36105", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: minior error handling change for hclge_tm_schd_info_init", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 6, "deletions": 12, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 11, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor refactoring moving validation logic from hclge_tm_schd_info_init to its caller hclge_tm_schd_init and changing return type from int to void. This is a driver-specific cleanup with 3 internal reviewers from Huawei. Low user impact, no stable tagging, no CVE. Code volume small (-12/+6 lines).", "code_snippet": "@@ -650,12 +650,8 @@ static void hclge_pfc_info_init(struct hclge_dev *hdev)\n \t}\n }\n \n-static int hclge_tm_schd_info_init(struct hclge_dev *hdev)\n+static void hclge_tm_schd_info_init(struct hclge_dev *hdev)\n {\n-\tif ((hdev->tx_sch_mode != HCLGE_FLAG_TC_BASE_SCH_MODE) &&\n-\t    (hdev->tm_info.num_pg != 1))\n-\t\treturn -EINVAL;\n-\n \thclge_tm_pg_info_init(hdev);\n \n \thclge_tm_tc_info_init(hdev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6872fd361056f3bce3e9fcfe9535c4b6b737531"}
{"commit_hash": "a4ee7624c003cc73a2eac9d9d5317b0c9fed89c4", "short_hash": "a4ee7624c003", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: minor cleanup in hns3_clean_rx_ring", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 9, "deletions": 11, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 5, "score_quality": 14, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing redundant variable (clean_count) and improving code style in hns3 driver RX ring handling. Changes are localized to a single function, well-reviewed internally (Reviewed-by), but limited scope and impact.", "code_snippet": "@@ -2909,24 +2909,22 @@ int hns3_clean_rx_ring(struct hns3_enet_ring *ring, int budget,\n \t\t       void (*rx_fn)(struct hns3_enet_ring *, struct sk_buff *))\n {\n #define RCB_NOF_ALLOC_RX_BUFF_ONCE 16\n-\tint recv_pkts, recv_bds, clean_count, err;\n \tint unused_count = hns3_desc_unused(ring);\n \tstruct sk_buff *skb = ring->skb;\n-\tint num;\n+\tint recv_pkts = 0;\n+\tint recv_bds = 0;\n+\tint err, num;\n \n \tnum = readl_relaxed(ring->tqp->io_base + HNS3_RING_RX_RING_FBDNUM_REG);\n \trmb(); /* Make sure num taken effect before the other data is touched */\n \n-\trecv_pkts = 0, recv_bds = 0, clean_count = 0;\n \tnum -= unused_count;\n \tunused_count -= ring->pending_buf;\n \n \twhile (recv_pkts < budget && recv_bds < num) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4ee7624c003cc73a2eac9d9d5317b0c9fed89c4"}
{"commit_hash": "dbae56a33f5881bad631b0121f9b4a5e7b2a454d", "short_hash": "dbae56a33f58", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-01T11:55:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: simplify hclge_cmd_query_error()", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net"], "subsystem_tier": 10, "files_changed": 1, "insertions": 5, "deletions": 14, "hunks": 12, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 13, "score_impact": 9, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that removes unused parameters from hclge_cmd_query_error function. Code volume is small (-14/+5 lines, net -9). Subsystem tier 10 (networking drivers). Category base score 8 for maintenance refactoring. Review chain is strong with internal review (Peng Li) and Huazhong Tan, plus maintainer sign-off (David S. Miller). Commit message is clear and well-structured. Atomic change focusing on parameter simplification across multiple call sites.", "code_snippet": "@@ -652,16 +652,11 @@ static void hclge_log_error(struct device *dev, char *reg,\n  * @desc: descriptor for describing the command\n  * @cmd:  command opcode\n  * @flag: flag for extended command structure\n- * @w_num: offset for setting the read interrupt type.\n- * @int_type: select which type of the interrupt for which the error\n- * info will be read(RAS-CE/RAS-NFE/RAS-FE etc).\n  *\n  * This function query the error info from hw register/s using command\n  */\n static int hclge_cmd_query_error(struct hclge_dev *hdev,\n-\t\t\t\t struct hclge_desc *desc, u32 cmd,\n-\t\t\t\t u16 flag, u8 w_num,\n-\t\t\t\t enum hclge_err_int_type int_type)\n+\t\t\t\t struct hclge_desc *desc, u32 cmd, u16 flag)\n {\n \tstruct device *dev = &hdev->pdev->dev;\n \tint desc_num = 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dbae56a33f5881bad631b0121f9b4a5e7b2a454d"}
{"commit_hash": "6e4139f69163fb5769c92a97b969ea0d9a114ced", "short_hash": "6e4139f69163", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T11:55:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-01T13:32:13-04:00", "subject": "net: hns3: remove unnecessary variable in hclge_get_mac_vlan_cmd_status()", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 25, "deletions": 25, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 12, "score_impact": 3, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a trivial code cleanup commit removing an unnecessary local variable and improving format specifiers. The changes are purely refactoring with no functional impact - removing return_status variable and returning error codes directly. The code volume is small (25 insertions, 25 deletions) and affects a single driver function. Good commit message quality with proper Signed-off-by and Reviewed-by tags. Maintainer endorsement present (David S. Miller). No testing evidence, no stable CC, no CVE, no cross-org collaboration (all Huawei).", "code_snippet": "@@ -6268,7 +6268,6 @@ static int hclge_get_mac_vlan_cmd_status(struct hclge_vport *vport,\n \t\t\t\t\t enum hclge_mac_vlan_tbl_opcode op)\n {\n \tstruct hclge_dev *hdev = vport->back;\n-\tint return_status = -EIO;\n \n \tif (cmdq_resp) {\n \t\tdev_err(&hdev->pdev->dev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e4139f69163fb5769c92a97b969ea0d9a114ced"}
{"commit_hash": "572d8be0d4dd2251396dca38d176354180be7683", "short_hash": "572d8be0d4dd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T09:53:07+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-01T18:31:15+02:00", "subject": "staging: rtl8723bs: remove set but not used variable 'bEEPROMCheck'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["staging/rtl8723bs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 3, "score_impact": 2, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable in staging driver (low-tier subsystem). 5 lines removed, 0 added. Strong review chain with maintainer sign-off. Good commit message with clear motivation (gcc warning). Atomic change with no functional impact. Cross-org contribution (Huawei -> Greg KH). Limited user impact as staging driver.", "code_snippet": "@@ -11,11 +11,6 @@ static void odm_SetCrystalCap(void *pDM_VOID, u8 CrystalCap)\n {\n \tPDM_ODM_T pDM_Odm = (PDM_ODM_T)pDM_VOID;\n \tPCFO_TRACKING pCfoTrack = &pDM_Odm->DM_CfoTrack;\n-\tbool bEEPROMCheck;\n-\tstruct adapter *Adapter = pDM_Odm->Adapter;\n-\tstruct hal_com_data *pHalData = GET_HAL_DATA(Adapter);\n-\n-\tbEEPROMCheck = pHalData->EEPROMVersion >= 0x01;\n \n \tif (pCfoTrack->CrystalCap == CrystalCap)\n \t\treturn;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/572d8be0d4dd2251396dca38d176354180be7683"}
{"commit_hash": "b0d08afda84dde941226f67cb12dd9cbde40ede4", "short_hash": "b0d08afda84d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T22:09:03+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-01T18:38:08+02:00", "subject": "staging: rtl8723bs: remove set but not used variable 'FirstConnect'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal dead variable removal in staging driver (low tier subsystem). Clean commit message with reported-by and proper sign-offs. Cross-org contribution from Huawei to maintainer Greg Kroah-Hartman. No functional change, no user impact, low complexity.", "code_snippet": "@@ -1255,13 +1255,11 @@ void odm_RSSIMonitorCheckCE(PDM_ODM_T pDM_Odm)\n \tint tmpEntryMaxPWDB = 0, tmpEntryMinPWDB = 0xff;\n \tu8 sta_cnt = 0;\n \tu32 PWDB_rssi[NUM_STA] = {0};/* 0~15]:MACID, [16~31]:PWDB_rssi */\n-\tbool FirstConnect = false;\n \tpRA_T pRA_Table = &pDM_Odm->DM_RA_Table;\n \n \tif (pDM_Odm->bLinked != true)\n \t\treturn;\n \n-\tFirstConnect = (pDM_Odm->bLinked) && (pRA_Table->firstconnect == false);\n \tpRA_Table->firstconnect = pDM_Odm->bLinked;\n \n \t/* if (check_fwstate(&Adapter->mlmepriv, WIFI_AP_STATE|WIFI_ADHOC_STATE|WIFI_ADHOC_MASTER_STATE) == true) */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b0d08afda84dde941226f67cb12dd9cbde40ede4"}
{"commit_hash": "d698b0a09656818beafd8ea7295d7c20bc74f9bc", "short_hash": "d698b0a09656", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T21:59:53+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-01T18:38:08+02:00", "subject": "staging: rtl8723bs: remove set but not used variables 'prspbuf' and 'auth'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 1, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 15, "score_technical": 2, "score_impact": 3, "score_quality": 6, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 1, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Staging driver cleanup removing unused variables to fix compiler warnings. Minimal technical impact (2 deletions, staging subsystem tier 1). Clean commit message with warning details. Maintainer Greg Kroah-Hartman signed off, indicating endorsement. No testing evidence, trivial code change.", "code_snippet": "@@ -402,7 +402,7 @@ int rtw_cmd_thread(void *context)\n {\n \tu8 ret;\n \tstruct cmd_obj *pcmd;\n-\tu8 *pcmdbuf, *prspbuf;\n+\tu8 *pcmdbuf;\n \tunsigned long cmd_start_time;\n \tunsigned long cmd_process_time;\n \tu8 (*cmd_hdl)(struct adapter *padapter, u8 *pbuf);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d698b0a09656818beafd8ea7295d7c20bc74f9bc"}
{"commit_hash": "a5589269e660a14ab8580235909100f245d73cb9", "short_hash": "a5589269e660", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T01:31:49Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-02T13:55:38+02:00", "subject": "staging: fsl-dpaa2/ethsw: Remove useless set memory to zero use memset()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing redundant memset after kzalloc in staging driver. Minimal code change (2 deletions). Low impact staging driver. Proper commit message explaining the cleanup. Cross-org contribution from Huawei to maintainer tree.", "code_snippet": "@@ -641,8 +641,6 @@ static int port_fdb_dump(struct sk_buff *skb, struct netlink_callback *cb,\n \tif (!dma_mem)\n \t\treturn -ENOMEM;\n \n-\tmemset(dma_mem, 0, fdb_dump_size);\n-\n \tfdb_dump_iova = dma_map_single(dev, dma_mem, fdb_dump_size,\n \t\t\t\t       DMA_FROM_DEVICE);\n \tif (dma_mapping_error(dev, fdb_dump_iova)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5589269e660a14ab8580235909100f245d73cb9"}
{"commit_hash": "1d1def89bd2ed573d5978f39545596ab3f3d2c8b", "short_hash": "1d1def89bd2e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T03:24:14Z", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-03T00:32:34+02:00", "subject": "pinctrl: sprd: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pinctrl", "subsystems_touched": ["drivers/pinctrl/sprd"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Coccinelle-generated cleanup removing redundant .owner field from platform_driver. Single-line deletion in pinctrl subsystem. Properly reviewed and signed by maintainer Linus Walleij. Low technical impact as .owner is automatically set by platform_driver_register.", "code_snippet": "@@ -940,7 +940,6 @@ MODULE_DEVICE_TABLE(of, sprd_pinctrl_of_match);\n static struct platform_driver sprd_pinctrl_driver = {\n \t.driver = {\n \t\t.name = \"sprd-pinctrl\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = sprd_pinctrl_of_match,\n \t},\n \t.probe = sprd_pinctrl_probe,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1d1def89bd2ed573d5978f39545596ab3f3d2c8b"}
{"commit_hash": "1b90af292e71b20d03b837d39406acfbdc5d4b2a", "short_hash": "1b90af292e71", "author_name": "Junwei Hu", "author_email": "hujunwei4@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T00:03:30+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-08-03T18:39:16+02:00", "subject": "ipvs: Improve robustness to the ipvs sysctl", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "f73181c8288f", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 35, "deletions": 34, "hunks": 8, "review_chain": {"signed_off_by": ["Junwei Hu <hujunwei4@huawei.com> (Huawei)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julian Anastasov <ja@ssi.bg> (Ssi)"], "reported_by": []}, "score_total": 48, "score_technical": 13, "score_impact": 19, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 3, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for ipvs sysctl validation - improves robustness by validating user input before writing to sysctl. Prevents invalid values from corrupting system state. Network subsystem is tier-10 critical. Has Fixes tag and Acked-by reviewer. Cross-company contribution (Huawei to netfilter maintainer).", "code_snippet": "@@ -1737,12 +1737,18 @@ proc_do_defense_mode(struct ctl_table *table, int write,\n \tint val = *valp;\n \tint rc;\n \n-\trc = proc_dointvec(table, write, buffer, lenp, ppos);\n+\tstruct ctl_table tmp = {\n+\t\t.data = &val,\n+\t\t.maxlen = sizeof(int),\n+\t\t.mode = table->mode,\n+\t};\n+\n+\trc = proc_dointvec(&tmp, write, buffer, lenp, ppos);\n \tif (write && (*valp != val)) {\n-\t\tif ((*valp < 0) || (*valp > 3)) {\n-\t\t\t/* Restore the correct value */\n-\t\t\t*valp = val;\n+\t\tif (val < 0 || val > 3) {\n+\t\t\trc = -EINVAL;\n \t\t} else {\n+\t\t\t*valp = val;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1b90af292e71b20d03b837d39406acfbdc5d4b2a"}
{"commit_hash": "be65c8bb0c64c552b159d509329df4e55bd18e44", "short_hash": "be65c8bb0c64", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-25T22:24:19+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-05T12:15:56+02:00", "subject": "pinctrl: oxnas: remove set but not used variable 'arg'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable 'arg' to fix gcc warnings. 4 deletions across 2 functions in pinctrl driver. Cross-org contribution (Huawei -> Linaro). Signed by subsystem maintainer. No functional change, no CVE, no stable tagging.", "code_snippet": "@@ -902,7 +902,6 @@ static int oxnas_ox810se_pinconf_set(struct pinctrl_dev *pctldev,\n \tstruct oxnas_pinctrl *pctl = pinctrl_dev_get_drvdata(pctldev);\n \tstruct oxnas_gpio_bank *bank = pctl_to_bank(pctl, pin);\n \tunsigned int param;\n-\tu32 arg;\n \tunsigned int i;\n \tu32 offset = pin - bank->gpio_chip.base;\n \tu32 mask = BIT(offset);", "flags": ["ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/be65c8bb0c64c552b159d509329df4e55bd18e44"}
{"commit_hash": "13776f9d40a028a245bb766269e360f5b7a62721", "short_hash": "13776f9d40a0", "author_name": "Junhua Huang", "author_email": "huang.junhua@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T14:41:15+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-05T12:35:34+01:00", "subject": "arm64: mm: free the initrd reserved memblock in a aligned manner", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "05c58752f9dc", "cc_stable": false, "subsystem_prefix": "arch/arm64/mm", "subsystems_touched": ["arch/arm64/mm/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Junhua Huang <huang.junhua@zte.com.cn> (ZTE)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 14, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for memory corruption in initrd memblock handling. Fixes alignment issue causing memory fragmentation. Code volume minimal (6 lines). Critical ARM64 memory management subsystem. Cross-org contribution from ZTE to maintainer Will Deacon. Good commit message with Fixes tag and detailed explanation of the problem with debug output example.", "code_snippet": "@@ -570,8 +570,12 @@ void free_initmem(void)\n #ifdef CONFIG_BLK_DEV_INITRD\n void __init free_initrd_mem(unsigned long start, unsigned long end)\n {\n+\tunsigned long aligned_start, aligned_end;\n+\n+\taligned_start = __virt_to_phys(start) & PAGE_MASK;\n+\taligned_end = PAGE_ALIGN(__virt_to_phys(end));\n+\tmemblock_free(aligned_start, aligned_end - aligned_start);\n \tfree_reserved_area((void *)start, (void *)end, 0, \"initrd\");\n-\tmemblock_free(__virt_to_phys(start), end - start);\n }\n #endif\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/13776f9d40a028a245bb766269e360f5b7a62721"}
{"commit_hash": "d3523b631403897bf560927321ca8c2ea0aed873", "short_hash": "d3523b631403", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:04:08+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-05T17:19:46+02:00", "subject": "usb: dwc3: meson-g12a: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/dwc3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small cleanup simplifying code by using devm_platform_ioremap_resource(). 1 line added, 3 removed. USB DWC3 driver is a peripheral subsystem (tier 4). Acked-by maintainer, from Huawei contributor.", "code_snippet": "@@ -386,7 +386,6 @@ static int dwc3_meson_g12a_probe(struct platform_device *pdev)\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct device_node\t*np = dev->of_node;\n \tvoid __iomem *base;\n-\tstruct resource *res;\n \tenum phy_mode otg_id;\n \tint ret, i, irq;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3523b631403897bf560927321ca8c2ea0aed873"}
{"commit_hash": "7008aff290e1dba6618b18219967fd0d58783127", "short_hash": "7008aff290e1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:50:10+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-05T17:56:46+02:00", "subject": "w1: omap-hdq: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-MODERNIZE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/w1", "subsystems_touched": ["drivers/w1/masters/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 4, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Removes unnecessary resource variable, reduces lines from 4 to 1. Low subsystem tier (w1 master driver), low complexity (1 insertion, 3 deletions). Clean atomic change with proper Reported-by/Link tags.", "code_snippet": "@@ -660,7 +660,6 @@ static int omap_hdq_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct hdq_data *hdq_data;\n-\tstruct resource *res;\n \tint ret, irq;\n \tu8 rev;\n \tconst char *mode;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7008aff290e1dba6618b18219967fd0d58783127"}
{"commit_hash": "b0a523fa9e9d61febb9e817f07b28927190c3c2f", "short_hash": "b0a523fa9e9d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:48:19+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-05T17:56:46+02:00", "subject": "w1: mxc_w1: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/w1", "subsystems_touched": ["drivers/w1/masters/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 4, "score_impact": 4, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup refactoring using devm_platform_ioremap_resource() helper. Low-risk maintenance change in non-critical w1 master driver subsystem. Properly signed-off and reviewed by maintainer Greg Kroah-Hartman. Reported-by tag indicates automated detection via Coccinelle.", "code_snippet": "@@ -92,7 +92,6 @@ static int mxc_w1_probe(struct platform_device *pdev)\n {\n \tstruct mxc_w1_device *mdev;\n \tunsigned long clkrate;\n-\tstruct resource *res;\n \tunsigned int clkdiv;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b0a523fa9e9d61febb9e817f07b28927190c3c2f"}
{"commit_hash": "2e1bc0e86ec77d5568e2bb5767529f86e61cd93a", "short_hash": "2e1bc0e86ec7", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T17:14:16+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-05T18:38:59+02:00", "subject": "drm/pl111: Fix unused variable warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "d6781e490179", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/pl111/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 0, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial unused variable removal (1 line deletion). Well-reviewed with proper Fixes tag and Cc to maintainers. Cross-org contribution from HiSilicon to DRM subsystem. Low functional impact - compiler warning fix only.", "code_snippet": "@@ -548,7 +548,6 @@ pl111_init_clock_divider(struct drm_device *drm)\n int pl111_display_init(struct drm_device *drm)\n {\n \tstruct pl111_drm_dev_private *priv = drm->dev_private;\n-\tstruct device *dev = drm->dev;\n \tint ret;\n \n \tret = pl111_init_clock_divider(drm);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e1bc0e86ec77d5568e2bb5767529f86e61cd93a"}
{"commit_hash": "c5e5c48c16422521d363c33cfb0dcf58f88c119b", "short_hash": "c5e5c48c1642", "author_name": "chenzefeng", "author_email": "chenzefeng2@huawei.com", "author_company": "Huawei", "author_date": "2019-08-06T15:46:33+08:00", "committer_name": "Tony Luck", "committer_email": "tony.luck@intel.com", "committer_company": "Intel", "commit_date": "2019-08-06T10:19:35-07:00", "subject": "ia64:unwind: fix double free for mod->arch.init_unw_table", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch", "subsystems_touched": ["arch/ia64/kernel/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["chenzefeng <chenzefeng2@huawei.com> (Huawei)", "Tony Luck <tony.luck@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 13, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Double-free bug in ia64 module cleanup. Cross-org contribution (Huawei->Intel maintainer). Clear commit message with code context. Small, focused fix adding NULL assignments after free.", "code_snippet": "@@ -914,10 +914,14 @@ module_finalize (const Elf_Ehdr *hdr, const Elf_Shdr *sechdrs, struct module *mo\n void\n module_arch_cleanup (struct module *mod)\n {\n-\tif (mod->arch.init_unw_table)\n+\tif (mod->arch.init_unw_table) {\n \t\tunw_remove_unwind_table(mod->arch.init_unw_table);\n-\tif (mod->arch.core_unw_table)\n+\t\tmod->arch.init_unw_table = NULL;\n+\t}\n+\tif (mod->arch.core_unw_table) {\n \t\tunw_remove_unwind_table(mod->arch.core_unw_table);\n+\t\tmod->arch.core_unw_table = NULL;\n+\t}\n }\n \n void *dereference_module_function_descriptor(struct module *mod, void *ptr)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c5e5c48c16422521d363c33cfb0dcf58f88c119b"}
{"commit_hash": "a4a68f727fb8be4cd738a45e01b3781d3fed79f9", "short_hash": "a4a68f727fb8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T22:10:20+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-08-06T15:34:29+03:00", "subject": "rtlwifi: remove unneeded function _rtl_dump_channel_map()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 18, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ping-Ke Shih <pkshih@realtek.com> (Realtek)"], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 6, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Dead code removal in rtlwifi driver. Function _rtl_dump_channel_map() had empty body with no actual operations. Cross-org contribution from Huawei with maintainer ACK from Realtek. Low impact cleanup, well-reviewed for trivial change.", "code_snippet": "@@ -276,22 +276,6 @@ static void _rtl_reg_apply_world_flags(struct wiphy *wiphy,\n \treturn;\n }\n \n-static void _rtl_dump_channel_map(struct wiphy *wiphy)\n-{\n-\tenum nl80211_band band;\n-\tstruct ieee80211_supported_band *sband;\n-\tstruct ieee80211_channel *ch;\n-\tunsigned int i;\n-\n-\tfor (band = 0; band < NUM_NL80211_BANDS; band++) {\n-\t\tif (!wiphy->bands[band])\n-\t\t\tcontinue;\n-\t\tsband = wiphy->bands[band];\n-\t\tfor (i = 0; i < sband->n_channels; i++)\n-\t\t\tch = &sband->channels[i];\n-\t}\n-}\n-", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4a68f727fb8be4cd738a45e01b3781d3fed79f9"}
{"commit_hash": "cddecd92d1ec2fd05ed1123455e7c6cf6906b5a5", "short_hash": "cddecd92d1ec", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T22:12:01+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-08-06T15:35:00+03:00", "subject": "brcmfmac: remove set but not used variable 'dtim_period'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings. Small change (1 insertion, 7 deletions) in wireless driver subsystem. Signed-off-by chain indicates proper review (author YueHaibing @huawei.com signed by maintainer Kalle Valo). Cross-org contribution from Huawei to maintainer at codeaurora.org. Message quality is good with detailed compiler warning output. No user impact or testing mentioned.", "code_snippet": "@@ -3007,12 +3005,9 @@ static s32 brcmf_update_bss_info(struct brcmf_cfg80211_info *cfg,\n \n \tie = ((u8 *)bi) + le16_to_cpu(bi->ie_offset);\n \tie_len = le32_to_cpu(bi->ie_length);\n-\tbeacon_interval = le16_to_cpu(bi->beacon_period);\n \n \ttim = brcmf_parse_tlvs(ie, ie_len, WLAN_EID_TIM);\n-\tif (tim)\n-\t\tdtim_period = tim->data[1];\n-\telse {\n+\tif (!tim) {\n \t\t/*\n \t\t* active scan was done so we could not get dtim\n \t\t* information out of probe response.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cddecd92d1ec2fd05ed1123455e7c6cf6906b5a5"}
{"commit_hash": "de019a3bdd6e68552e061f8c66b7cf7a18109c54", "short_hash": "de019a3bdd6e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:15:35+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-08-06T15:37:43+03:00", "subject": "brcmsmac: remove three set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings. Small code volume (13 deletions), single file in wireless driver subsystem. Low user impact as this only affects code cleanliness. Good commit message with clear explanation and Reported-by tag. Maintainer (Kalle Valo) signed off. Cross-org contribution from Huawei to community tree.", "code_snippet": "@@ -5248,15 +5248,7 @@ int brcms_c_set_gmode(struct brcms_c_info *wlc, u8 gmode, bool config)\n \t/* Default to 54g Auto */\n \t/* Advertise and use shortslot (-1/0/1 Auto/Off/On) */\n \ts8 shortslot = BRCMS_SHORTSLOT_AUTO;\n-\tbool shortslot_restrict = false; /* Restrict association to stations\n-\t\t\t\t\t  * that support shortslot\n-\t\t\t\t\t  */\n \tbool ofdm_basic = false;\t/* Make 6, 12, and 24 basic rates */\n-\t/* Advertise and use short preambles (-1/0/1 Auto/Off/On) */\n-\tint preamble = BRCMS_PLCP_LONG;\n-\tbool preamble_restrict = false;\t/* Restrict association to stations\n-\t\t\t\t\t * that support short preambles\n-\t\t\t\t\t */\n \tstruct brcms_band *band;\n \n \t/* if N-support is enabled, allow Gmode set as long as requested", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de019a3bdd6e68552e061f8c66b7cf7a18109c54"}
{"commit_hash": "d1b68c1182380e50cad4b7bd76ee68f64951a64b", "short_hash": "d1b68c118238", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:20:18+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-08-06T15:38:13+03:00", "subject": "rtw88: pci: remove set but not used variable 'ip_sel'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup of unused variable flagged by compiler warning. Minimal code change (3 deletions). Wireless networking subsystem tier 10. Proper sign-off chain from author through maintainer Kalle Valo. Clear commit message with compiler warning context. No functional change, no testing evidence needed. Trivial cleanup with low impact.", "code_snippet": "@@ -990,7 +990,6 @@ static void rtw_pci_phy_cfg(struct rtw_dev *rtwdev)\n \tu16 cut;\n \tu16 value;\n \tu16 offset;\n-\tu16 ip_sel;\n \tint i;\n \n \tcut = BIT(0) << rtwdev->hal.cut_version;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1b68c1182380e50cad4b7bd76ee68f64951a64b"}
{"commit_hash": "f91b2ab0e0c5f7cb4b11012748a184b91a396f0f", "short_hash": "f91b2ab0e0c5", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T17:31:08+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-08-06T22:23:24+02:00", "subject": "i2c: designware: Fix unused variable warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "33eb09a02e8d", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c/busses/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": ["Jarkko Nikula <jarkko.nikula@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variable warning. Good review chain (Acked-by, Reviewed-by). Minimal impact, low complexity.", "code_snippet": "@@ -655,7 +655,6 @@ static int i2c_dw_init_recovery_info(struct dw_i2c_dev *dev)\n \tstruct i2c_bus_recovery_info *rinfo = &dev->rinfo;\n \tstruct i2c_adapter *adap = &dev->adapter;\n \tstruct gpio_desc *gpio;\n-\tint r;\n \n \tgpio = devm_gpiod_get_optional(dev->dev, \"scl\", GPIOD_OUT_HIGH);\n \tif (IS_ERR_OR_NULL(gpio))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f91b2ab0e0c5f7cb4b11012748a184b91a396f0f"}
{"commit_hash": "7cee6d4e6035603d42acd56d591e624921aa1b14", "short_hash": "7cee6d4e6035", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T13:48:47+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-08-07T10:25:02-07:00", "subject": "md/raid10: end bio when the device faulty", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/raid10.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 14, "deletions": 12, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 19, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for raid10 write error handling when device is faulty. Critical storage subsystem (MD RAID). 26 lines changed in single file. Cross-org contribution from Huawei to Facebook maintainer. Clear commit message explaining the logic fix. Maintainer signed off. Addresses data integrity issue in RAID10 error path.", "code_snippet": "@@ -465,19 +465,21 @@ static void raid10_end_write_request(struct bio *bio)\n \t\t\tif (test_bit(FailFast, &rdev->flags) &&\n \t\t\t    (bio->bi_opf & MD_FAILFAST)) {\n \t\t\t\tmd_error(rdev->mddev, rdev);\n-\t\t\t\tif (!test_bit(Faulty, &rdev->flags))\n-\t\t\t\t\t/* This is the only remaining device,\n-\t\t\t\t\t * We need to retry the write without\n-\t\t\t\t\t * FailFast\n-\t\t\t\t\t */\n-\t\t\t\t\tset_bit(R10BIO_WriteError, &r10_bio->state);\n-\t\t\t\telse {\n-\t\t\t\t\tr10_bio->devs[slot].bio = NULL;\n-\t\t\t\t\tto_put = bio;\n-\t\t\t\t\tdec_rdev = 1;\n-\t\t\t\t}\n-\t\t\t} else\n+\t\t\t}\n+\n+\t\t\t/*\n+\t\t\t * When the device is faulty, it is not necessary to", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7cee6d4e6035603d42acd56d591e624921aa1b14"}
{"commit_hash": "449808a254fd567d3dbeb11595a0af238c687c82", "short_hash": "449808a254fd", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T14:02:58+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-08-07T10:25:02-07:00", "subject": "raid1: factor out a common routine to handle the completion of sync write", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/raid1.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 18, "deletions": 21, "hunks": 6, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 11, "score_impact": 9, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring extracting common sync write completion logic into put_sync_write_buf(). Clean deduplication with proper maintainer sign-offs. Cross-org contribution (Huawei -> Facebook maintainer).", "code_snippet": "@@ -1906,6 +1906,22 @@ static void abort_sync_write(struct mddev *mddev, struct r1bio *r1_bio)\n \t} while (sectors_to_go > 0);\n }\n \n+static void put_sync_write_buf(struct r1bio *r1_bio, int uptodate)\n+{\n+\tif (atomic_dec_and_test(&r1_bio->remaining)) {\n+\t\tstruct mddev *mddev = r1_bio->mddev;\n+\t\tint s = r1_bio->sectors;\n+\n+\t\tif (test_bit(R1BIO_MadeGood, &r1_bio->state) ||\n+\t\t    test_bit(R1BIO_WriteError, &r1_bio->state))\n+\t\t\treschedule_retry(r1_bio);\n+\t\telse {\n+\t\t\tput_buf(r1_bio);\n+\t\t\tmd_done_sync(mddev, s, uptodate);\n+\t\t}\n+\t}\n+}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/449808a254fd567d3dbeb11595a0af238c687c82"}
{"commit_hash": "eeba6809d8d58908b5ed1b5ceb5fcb09a98a7cad", "short_hash": "eeba6809d8d5", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T13:48:46+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-08-07T10:25:02-07:00", "subject": "md/raid1: end bio when the device faulty", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md/raid1.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 14, "deletions": 12, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "MD RAID1 error handling optimization - avoids unnecessary retry logic when device is already faulty. Small scoped change (26 lines) in storage subsystem. Code quality is good with clear explanation and proper atomic fix. Cross-org contribution from Huawei to Facebook maintainer.", "code_snippet": "@@ -447,19 +447,21 @@ static void raid1_end_write_request(struct bio *bio)\n \t\t    /* We never try FailFast to WriteMostly devices */\n \t\t    !test_bit(WriteMostly, &rdev->flags)) {\n \t\t\tmd_error(r1_bio->mddev, rdev);\n-\t\t\tif (!test_bit(Faulty, &rdev->flags))\n-\t\t\t\t/* This is the only remaining device,\n-\t\t\t\t * We need to retry the write without\n-\t\t\t\t * FailFast\n-\t\t\t\t */\n-\t\t\t\tset_bit(R1BIO_WriteError, &r1_bio->state);\n-\t\t\telse {\n-\t\t\t\t/* Finished with this branch */\n-\t\t\t\tr1_bio->bios[mirror] = NULL;\n-\t\t\t\tto_put = bio;\n-\t\t\t}\n-\t\t} else\n+\t\t}\n+\n+\t\t/*\n+\t\t * When the device is faulty, it is not necessary to", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eeba6809d8d58908b5ed1b5ceb5fcb09a98a7cad"}
{"commit_hash": "4675719d0f47d18bc13db62bd21cffd4e4ec8001", "short_hash": "4675719d0f47", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T22:35:48+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-08-07T10:25:02-07:00", "subject": "raid1: use an int as the return value of raise_barrier()", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/raid1.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Type cleanup changing return type from sector_t to int for raise_barrier() in md/raid1. Function only returns 0 or -EINTR, so int is more appropriate than sector_t. Added documentation for return values. Cross-org contribution from Huawei (houtao1@huawei.com) with maintainer sign-off (Song Liu). Very small scope, single subsystem, low impact but clear improvement in type safety and documentation.", "code_snippet": "@@ -872,8 +872,11 @@ static void flush_pending_writes(struct r1conf *conf)\n  * backgroup IO calls must call raise_barrier.  Once that returns\n  *    there is no normal IO happeing.  It must arrange to call\n  *    lower_barrier when the particular background IO completes.\n+ *\n+ * If resync/recovery is interrupted, returns -EINTR;\n+ * Otherwise, returns 0.\n  */\n-static sector_t raise_barrier(struct r1conf *conf, sector_t sector_nr)\n+static int raise_barrier(struct r1conf *conf, sector_t sector_nr)\n {\n \tint idx = sector_to_idx(sector_nr);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4675719d0f47d18bc13db62bd21cffd4e4ec8001"}
{"commit_hash": "f4c737d6194f509733641017b50548abc01f4b0d", "short_hash": "f4c737d6194f", "author_name": "Jianjun Wang", "author_email": "jianjun.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-28T15:34:24+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-08-07T11:16:57+01:00", "subject": "dt-bindings: PCI: Add support for MT7629", "primary_category": "DT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jianjun Wang <jianjun.wang@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)"], "reported_by": []}, "score_total": 26, "score_technical": 3, "score_impact": 4, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Device tree documentation change adding MT7629 PCIe binding. Minimal code change (1 insertion). Strong review chain with Maintainer, Reviewed-by, and Acked-by tags. Low subsystem tier as documentation-only change.", "code_snippet": "@@ -6,6 +6,7 @@ Required properties:\n \t\"mediatek,mt2712-pcie\"\n \t\"mediatek,mt7622-pcie\"\n \t\"mediatek,mt7623-pcie\"\n+\t\"mediatek,mt7629-pcie\"\n - device_type: Must be \"pci\"\n - reg: Base addresses and lengths of the PCIe subsys and root ports.\n - reg-names: Names of the above areas to use during resource lookup.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4c737d6194f509733641017b50548abc01f4b0d"}
{"commit_hash": "0cccd42e6193e168cbecc271dae464e4a53fd7b3", "short_hash": "0cccd42e6193", "author_name": "Jianjun Wang", "author_email": "jianjun.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-28T15:34:25+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-08-07T11:34:01+01:00", "subject": "PCI: mediatek: Add controller support for MT7629", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 8, "files_changed": 2, "insertions": 19, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Jianjun Wang <jianjun.wang@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": ["Andrew Murray <andrew.murray@arm.com> (ARM)"], "tested_by": [], "acked_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)"], "reported_by": []}, "score_total": 49, "score_technical": 11, "score_impact": 16, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New PCIe controller support for MT7629 SoC. Small code addition (19 lines). PCI subsystem is important but not core. Strong review chain with maintainer edits and Reviewed-by/Acked-by. Cross-company collaboration (MediaTek author, Arm maintainer). Includes device ID fix for hardware bug.", "code_snippet": "@@ -141,12 +142,16 @@ struct mtk_pcie_port;\n /**\n  * struct mtk_pcie_soc - differentiate between host generations\n  * @need_fix_class_id: whether this host's class ID needed to be fixed or not\n+ * @need_fix_device_id: whether this host's device ID needed to be fixed or not\n+ * @device_id: device ID which this host need to be fixed\n  * @ops: pointer to configuration access functions\n  * @startup: pointer to controller setting functions\n  * @setup_irq: pointer to initialize IRQ functions\n  */\n struct mtk_pcie_soc {\n \tbool need_fix_class_id;\n+\tbool need_fix_device_id;\n+\tunsigned int device_id;\n \tstruct pci_ops *ops;\n \tint (*startup)(struct mtk_pcie_port *port);\n \tint (*setup_irq)(struct mtk_pcie_port *port, struct device_node *node);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0cccd42e6193e168cbecc271dae464e4a53fd7b3"}
{"commit_hash": "2951d5efaf8b67cc4851373de92a91a60899611c", "short_hash": "2951d5efaf8b", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-07T08:33:36+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-07T16:20:57+01:00", "subject": "arm64: mm: print hexadecimal EC value in mem_abort_decode()", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/mm"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mark Rutland <Mark.rutland@arm.com> (ARM)"], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 6, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Documentation improvement to mem_abort_decode() adding hexadecimal EC value for easier ARM manual lookup. Cross-org contribution from Mediatek to arm64 subsystem with proper review chain (Acked-by, Signed-off-by)", "code_snippet": "@@ -86,8 +86,8 @@ static void mem_abort_decode(unsigned int esr)\n \tpr_alert(\"Mem abort info:\\n\");\n \n \tpr_alert(\"  ESR = 0x%08x\\n\", esr);\n-\tpr_alert(\"  Exception class = %s, IL = %u bits\\n\",\n-\t\t esr_get_class_string(esr),\n+\tpr_alert(\"  EC = 0x%02lx: %s, IL = %u bits\\n\",\n+\t\t ESR_ELx_EC(esr), esr_get_class_string(esr),\n \t\t (esr & ESR_ELx_IL) ? 32 : 16);\n \tpr_alert(\"  SET = %lu, FnV = %lu\\n\",\n \t\t (esr & ESR_ELx_SET_MASK) >> ESR_ELx_SET_SHIFT,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2951d5efaf8b67cc4851373de92a91a60899611c"}
{"commit_hash": "6b2265975239ab655069d796b822835a593e1cc7", "short_hash": "6b2265975239", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T23:41:29-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-07T17:04:12-03:00", "subject": "media: staging: tegra-vde: Fix build error", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "b301f8de1925", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/staging/media/tegra-vde/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Dmitry Osipenko <digetx@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 5, "score_impact": 11, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 3, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Build fix for tegra-vde driver Kconfig. 1-line change fixes undefined reference errors when COMPILE_TEST=y without IOMMU_SUPPORT. Has Fixes tag and proper review chain (Acked-by, 2 Signed-off-bys). Low complexity but resolves real build breakage for specific config combination. Staging driver (tier 4). Cross-org contribution from Huawei with maintainer endorsements.", "code_snippet": "@@ -3,7 +3,7 @@ config TEGRA_VDE\n \ttristate \"NVIDIA Tegra Video Decoder Engine driver\"\n \tdepends on ARCH_TEGRA || COMPILE_TEST\n \tselect DMA_SHARED_BUFFER\n-\tselect IOMMU_IOVA if IOMMU_SUPPORT\n+\tselect IOMMU_IOVA if (IOMMU_SUPPORT || COMPILE_TEST)\n \tselect SRAM\n \thelp\n \t    Say Y here to enable support for the NVIDIA Tegra video decoder\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6b2265975239ab655069d796b822835a593e1cc7"}
{"commit_hash": "00ab9c1a620dc29f3651d5b61ad12aa327d4dd12", "short_hash": "00ab9c1a620d", "author_name": "Rui Wang", "author_email": "gtk_ruiwang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-31T01:29:39-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-07T17:05:29-03:00", "subject": "media: mtk-vcodec: Handle H264 error bitstreams", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/platform/mtk-vcodec"], "subsystem_tier": 7, "files_changed": 1, "insertions": 14, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Rui Wang <gtk_ruiwang@mediatek.com> (MediaTek)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 16, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix adding error handling for invalid H264 bitstreams in MediaTek video decoder. Prevents potential crashes from malformed input. Clean error path additions with proper logging. Maintainer sign-offs present (Hans Verkuil, Mauro Carvalho Chehab). Limited scope to single driver file.", "code_snippet": "@@ -357,8 +360,11 @@ static int vdec_h264_decode(void *h_vdec, struct mtk_vcodec_mem *bs,\n \tbuf = (unsigned char *)bs->va;\n \tbuf_sz = bs->size;\n \tnal_start_idx = find_start_code(buf, buf_sz);\n-\tif (nal_start_idx < 0)\n+\tif (nal_start_idx < 0) {\n+\t\tmtk_vcodec_err(inst, \"invalid nal start code\");\n+\t\terr = -EIO;\n \t\tgoto err_free_fb_out;\n+\t}\n \n \tnal_start = buf[nal_start_idx];\n \tnal_type = NAL_TYPE(buf[nal_start_idx]);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/00ab9c1a620dc29f3651d5b61ad12aa327d4dd12"}
{"commit_hash": "88d5c343949ed4dc7547f307bbbb1aff3e9fa1d4", "short_hash": "88d5c343949e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T21:55:40+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T21:27:12-04:00", "subject": "scsi: megaraid_sas: Make a bunch of functions static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/megaraid"], "subsystem_tier": 7, "files_changed": 1, "insertions": 14, "deletions": 12, "hunks": 22, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 9, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix making 11 functions static in megaraid_sas_fusion.c. Pure cleanup with no functional changes - adding 'static' keyword to functions only used within their translation unit. Well-reviewed with maintainer ack. Low impact as this is compilation warning fix only.", "code_snippet": "@@ -4095,8 +4095,9 @@ static inline void megasas_trigger_snap_dump(struct megasas_instance *instance)\n }\n \n /* This function waits for outstanding commands on fusion to complete */\n-int megasas_wait_for_outstanding_fusion(struct megasas_instance *instance,\n-\t\t\t\t\tint reason, int *convert)\n+static int\n+megasas_wait_for_outstanding_fusion(struct megasas_instance *instance,\n+\t\t\t\t    int reason, int *convert)\n {\n \tint i, outstanding, retval = 0, hb_seconds_missed = 0;\n \tu32 fw_state, abs_state;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88d5c343949ed4dc7547f307bbbb1aff3e9fa1d4"}
{"commit_hash": "bbe0a7b348b336625292092c74fc7817aeb8d30b", "short_hash": "bbe0a7b348b3", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:01+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:14-04:00", "subject": "scsi: hisi_sas: Snapshot HW cache of IOST and ITCT at debugfs", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 161, "deletions": 2, "hunks": 30, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 9, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs enhancement adding hardware cache snapshot capability for IOST/ITCT tables in hisi_sas driver. 161 lines added across 3 files. Well-reviewed with proper sign-off chain (author -> co-developer -> maintainer). Clean implementation with new struct, enum, and hw operation callback. Adds debugging visibility to cached data which is important for troubleshooting SAS controller issues.", "code_snippet": "@@ -252,6 +255,15 @@ struct hisi_sas_debugfs_reg {\n \t};\n };\n \n+struct hisi_sas_iost_itct_cache {\n+\tu32 data[HISI_SAS_IOST_ITCT_CACHE_DW_SZ];\n+};\n+\n+enum hisi_sas_debugfs_cache_type {\n+\tHISI_SAS_ITCT_CACHE,\n+\tHISI_SAS_IOST_CACHE,\n+};\n+\n struct hisi_sas_hw {\n \tint (*hw_init)(struct hisi_hba *hisi_hba);\n \tvoid (*setup_itct)(struct hisi_hba *hisi_hba,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bbe0a7b348b336625292092c74fc7817aeb8d30b"}
{"commit_hash": "bee0cf25c030776a8ecfc3c951d3b73259dc6839", "short_hash": "bee0cf25c030", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:00+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:14-04:00", "subject": "scsi: hisi_sas: Fix pointer usage error in show debugfs IOST/ITCT", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 12, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix (6 lines changed) for pointer usage error in debugfs functions. SCSI subsystem is storage-critical but not core kernel. The bug moved pointer initialization outside loop, causing incorrect pointer dereference. Got proper review chain (author -> reviewer -> maintainer). Cross-company involvement (Huawei -> Oracle).", "code_snippet": "@@ -2992,9 +2992,10 @@ static int hisi_sas_debugfs_iost_show(struct seq_file *s, void *p)\n \tstruct hisi_hba *hisi_hba = s->private;\n \tstruct hisi_sas_iost *debugfs_iost = hisi_hba->debugfs_iost;\n \tint i, ret, max_command_entries = HISI_SAS_MAX_COMMANDS;\n-\t__le64 *iost = &debugfs_iost->qw0;\n \n \tfor (i = 0; i < max_command_entries; i++, debugfs_iost++) {\n+\t\t__le64 *iost = &debugfs_iost->qw0;\n+\n \t\tret = hisi_sas_show_row_64(s, i, sizeof(*debugfs_iost),\n \t\t\t\t\t   iost);\n \t\tif (ret)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bee0cf25c030776a8ecfc3c951d3b73259dc6839"}
{"commit_hash": "e7513f666bc73c357805df498df34179c8b4fc9b", "short_hash": "e7513f666bc7", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T21:48:11+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: replace \"%p\" with \"%pK\"", "primary_category": "SEC-HARDEN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["scsi/hisi_sas"], "subsystem_tier": 7, "files_changed": 3, "insertions": 7, "deletions": 7, "hunks": 14, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 14, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Security hardening commit replacing %p with %pK to prevent kernel address leakage in debug/dev_info messages. Affects 3 files in hisi_sas driver (main, v2_hw, v3_hw). Clean, focused change with proper sign-off chain (author -> John Garry @ Huawei -> maintainer Martin K. Petersen). Cross-organizational collaboration (Hisilicon/Huawei to Oracle maintainer). Low code volume (7 insertions, 7 deletions) but security-relevant for preventing information disclosure.", "code_snippet": "@@ -2102,7 +2102,7 @@ _hisi_sas_internal_task_abort(struct hisi_hba *hisi_hba,\n \t}\n \n exit:\n-\tdev_dbg(dev, \"internal task abort: task to dev %016llx task=%p resp: 0x%x sts 0x%x\\n\",\n+\tdev_dbg(dev, \"internal task abort: task to dev %016llx task=%pK resp: 0x%x sts 0x%x\\n\",\n \t\tSAS_ADDR(device->sas_addr), task,\n \t\ttask->task_status.resp, /* 0 is complete, -1 is undelivered */\n \t\ttask->task_status.stat);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v2_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v2_hw.c\nindex a3f8c51b3500..fba4fcad4735 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v2_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v2_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e7513f666bc73c357805df498df34179c8b4fc9b"}
{"commit_hash": "a07b48766c5232b98154f68010512a9269f2841e", "short_hash": "a07b48766c52", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T21:48:10+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Remove some unnecessary code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 7, "files_changed": 2, "insertions": 3, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 2, "score_quality": 15, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "SCSI subsystem (tier 7) maintenance cleanup removing unnecessary code. Low technical impact with 3 insertions/7 deletions. Good review chain (3 signatures: author, co-developer John Garry, maintainer Martin K. Petersen). Clear commit message explaining three types of cleanup: explicit zeroing, duplicated code, redundant masking. No user impact, stable backport, or cross-subsystem effects.", "code_snippet": "@@ -2434,7 +2434,6 @@ int hisi_sas_alloc(struct hisi_hba *hisi_hba)\n \t\t\t\t\tGFP_KERNEL);\n \tif (!hisi_hba->sata_breakpoint)\n \t\tgoto err_out;\n-\thisi_sas_init_mem(hisi_hba);\n \n \thisi_sas_slot_index_init(hisi_hba);\n \thisi_hba->last_slot_index = HISI_SAS_UNRESERVED_IPTT;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\nindex 3cc53e5b92f2..db8c7e4b1954 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a07b48766c5232b98154f68010512a9269f2841e"}
{"commit_hash": "7bf18e849d80e1beb118fd6d3bd5ccfcb1267d09", "short_hash": "7bf18e849d80", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:09+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Modify return type of debugfs functions", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 18, "deletions": 33, "hunks": 16, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a code cleanup refactoring that changes return types from int to void for debugfs functions that always return 0. The change is small (51 lines touched across 1 file), limited to a single driver subsystem (SCSI/Hisi SAS). It has good review chain (author + maintainer + subsystem maintainer), clear commit message, and is atomic. Cross-org collaboration between Huawei and Oracle (Martin K. Petersen). No user impact as it only affects debugfs code paths.", "code_snippet": "@@ -2970,12 +2970,10 @@ static int hisi_sas_show_row_64(struct seq_file *s, int index,\n \t}\n \n \tseq_puts(s, \"\\n\");\n-\n-\treturn 0;\n }\n \n-static int hisi_sas_show_row_32(struct seq_file *s, int index,\n-\t\t\t\tint sz, __le32 *ptr)\n+static void hisi_sas_show_row_32(struct seq_file *s, int index,\n+\t\t\t\t int sz, __le32 *ptr)\n {\n \tint i;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7bf18e849d80e1beb118fd6d3bd5ccfcb1267d09"}
{"commit_hash": "e16963f378faf82d307cad2796953f198497c614", "short_hash": "e16963f378fa", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T21:48:08+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Drop free_irq() when devm_request_irq() failed", "primary_category": "BUG-CRASH", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 11, "deletions": 44, "hunks": 20, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix removing incorrect free_irq() calls after devm_request_irq() failures in hisi_sas driver. The devm_* managed resource API automatically frees resources on failure, so manual cleanup was unnecessary and potentially dangerous (double-free). Simplified error handling paths by removing 44 lines of cleanup code across v2 and v3 hardware implementations. Maintainer Martin K. Petersen signed off.", "code_snippet": "@@ -3304,8 +3304,8 @@ static int interrupt_init_v2_hw(struct hisi_hba *hisi_hba)\n {\n \tstruct platform_device *pdev = hisi_hba->platform_dev;\n \tstruct device *dev = &pdev->dev;\n-\tint irq, rc, irq_map[128];\n-\tint i, phy_no, fatal_no, queue_no, k;\n+\tint irq, rc = 0, irq_map[128];\n+\tint i, phy_no, fatal_no, queue_no;\n \n \tfor (i = 0; i < 128; i++)\n \t\tirq_map[i] = platform_get_irq(pdev, i);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e16963f378faf82d307cad2796953f198497c614"}
{"commit_hash": "599aefc81effaaf78c02d44461f7157f22ee3b1d", "short_hash": "599aefc81eff", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T21:48:05+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Make slot buf minimum allocation of PAGE_SIZE", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory optimization for hisi_sas driver on systems with large PAGE_SIZE (16K/64K). Single-line change wrapping allocation size with max() to ensure minimum PAGE_SIZE allocation, preventing memory waste from dma_alloc_coherent(). Good review chain with author, co-developer, and subsystem maintainer sign-offs. Low code volume but addresses specific platform efficiency issue.", "code_snippet": "@@ -2389,7 +2389,7 @@ int hisi_sas_alloc(struct hisi_hba *hisi_hba)\n \telse\n \t\tsz_slot_buf_ru = sizeof(struct hisi_sas_slot_buf_table);\n \tsz_slot_buf_ru = roundup(sz_slot_buf_ru, 64);\n-\ts = lcm(max_command_entries_ru, sz_slot_buf_ru);\n+\ts = max(lcm(max_command_entries_ru, sz_slot_buf_ru), PAGE_SIZE);\n \tblk_cnt = (max_command_entries_ru * sz_slot_buf_ru) / s;\n \tslots_per_blk = s / sz_slot_buf_ru;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/599aefc81effaaf78c02d44461f7157f22ee3b1d"}
{"commit_hash": "d380f55503ed28461422546900baedc3b512b4b7", "short_hash": "d380f55503ed", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-05T21:48:04+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Don't bother clearing status buffer IU in task prep", "primary_category": "FEAT-OPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 8, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small optimization (4 insertions, 2 deletions) reducing CPU utilization from 1.7% to 0.12% by only initializing necessary fields in status buffer. Clean subsystem-specific change with clear technical rationale and proper maintainer sign-offs.", "code_snippet": "@@ -545,7 +545,8 @@ static int hisi_sas_task_prep(struct sas_task *task,\n \n \tmemset(slot->cmd_hdr, 0, sizeof(struct hisi_sas_cmd_hdr));\n \tmemset(hisi_sas_cmd_hdr_addr_mem(slot), 0, HISI_SAS_COMMAND_TABLE_SZ);\n-\tmemset(hisi_sas_status_buf_addr_mem(slot), 0, HISI_SAS_STATUS_BUF_SZ);\n+\tmemset(hisi_sas_status_buf_addr_mem(slot), 0,\n+\t       sizeof(struct hisi_sas_err_record));\n \n \tswitch (task->task_proto) {\n \tcase SAS_PROTOCOL_SMP:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d380f55503ed28461422546900baedc3b512b4b7"}
{"commit_hash": "445ee2de112a18419aeae72fdae4221cd90f2948", "short_hash": "445ee2de112a", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:03+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Fix out of bound at debug_I_T_nexus_reset()", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 8, "files_changed": 1, "insertions": 8, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 17, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for out-of-bounds access in SCSI hisi_sas driver. Fixes potential crash by moving sas_phy/phy variable declarations inside conditional blocks where they're safely used. 8 insertions, 3 deletions across single file. Good commit message with clear explanation. Maintainer endorsed (3 sign-offs including Martin K. Petersen). Single-purpose atomic fix.", "code_snippet": "@@ -1762,13 +1762,14 @@ static int hisi_sas_debug_I_T_nexus_reset(struct domain_device *device)\n \tstruct hisi_sas_device *sas_dev = device->lldd_dev;\n \tstruct hisi_hba *hisi_hba = dev_to_hisi_hba(device);\n \tstruct sas_ha_struct *sas_ha = &hisi_hba->sha;\n-\tstruct asd_sas_phy *sas_phy = sas_ha->sas_phy[local_phy->number];\n-\tstruct hisi_sas_phy *phy = container_of(sas_phy,\n-\t\t\tstruct hisi_sas_phy, sas_phy);\n \tDECLARE_COMPLETION_ONSTACK(phyreset);\n \tint rc, reset_type;\n \n \tif (scsi_is_sas_phy_local(local_phy)) {\n+\t\tstruct asd_sas_phy *sas_phy =\n+\t\t\tsas_ha->sas_phy[local_phy->number];\n+\t\tstruct hisi_sas_phy *phy =\n+\t\t\tcontainer_of(sas_phy, struct hisi_sas_phy, sas_phy);\n \t\tphy->in_reset = 1;\n \t\tphy->reset_completion = &phyreset;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/445ee2de112a18419aeae72fdae4221cd90f2948"}
{"commit_hash": "b0b3e4290e288bb633c4ff6331b2c0b9530aa9b8", "short_hash": "b0b3e4290e28", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:02+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:15-04:00", "subject": "scsi: hisi_sas: Snapshot AXI and RAS register at debugfs", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 162, "deletions": 18, "hunks": 30, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 11, "score_impact": 13, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DebugFS feature extension adding AXI and RAS register snapshotting for hisi_sas driver. Well-structured refactoring from single global register to array-based approach. 162 insertions across 3 files shows moderate complexity. Strong review chain with 3 sign-offs including maintainer Martin K. Petersen. Atomic change with clear single purpose. Hardware-specific debugging feature with limited user impact but valuable for diagnostics.", "code_snippet": "@@ -259,6 +259,13 @@ struct hisi_sas_iost_itct_cache {\n \tu32 data[HISI_SAS_IOST_ITCT_CACHE_DW_SZ];\n };\n \n+enum hisi_sas_debugfs_reg_array_member {\n+\tDEBUGFS_GLOBAL = 0,\n+\tDEBUGFS_AXI,\n+\tDEBUGFS_RAS,\n+\tDEBUGFS_REGS_NUM\n+};\n+\n enum hisi_sas_debugfs_cache_type {\n \tHISI_SAS_ITCT_CACHE,\n \tHISI_SAS_IOST_CACHE,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b0b3e4290e288bb633c4ff6331b2c0b9530aa9b8"}
{"commit_hash": "a5ac1f5d9a4285adf4e88ffde7ca8ae823d72441", "short_hash": "a5ac1f5d9a42", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T21:48:12+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-07T22:13:16-04:00", "subject": "scsi: hisi_sas: Consolidate internal abort calls in LU reset operation", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 9, "deletions": 17, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 5, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code consolidation refactoring in SCSI subsystem driver. Removed duplicate internal abort calls from SATA and SAS codepaths by consolidating to single call before device type branching. Small scope (9 insertions, 17 deletions), single file change, clear review chain with 2 sign-offs including maintainer Martin K. Petersen.", "code_snippet": "@@ -1829,18 +1829,18 @@ static int hisi_sas_lu_reset(struct domain_device *device, u8 *lun)\n \tstruct device *dev = hisi_hba->dev;\n \tint rc = TMF_RESP_FUNC_FAILED;\n \n+\t/* Clear internal IO and then lu reset */\n+\trc = hisi_sas_internal_task_abort(hisi_hba, device,\n+\t\t\t\t\t  HISI_SAS_INT_ABT_DEV, 0);\n+\tif (rc < 0) {\n+\t\tdev_err(dev, \"lu_reset: internal abort failed\\n\");\n+\t\tgoto out;\n+\t}\n+\thisi_sas_dereg_device(hisi_hba, device);\n+\n \tif (dev_is_sata(device)) {\n \t\tstruct sas_phy *phy;\n \n-\t\t/* Clear internal IO and then hardreset */\n-\t\trc = hisi_sas_internal_task_abort(hisi_hba, device,\n-\t\t\t\t\t\t  HISI_SAS_INT_ABT_DEV, 0);\n-\t\tif (rc < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5ac1f5d9a4285adf4e88ffde7ca8ae823d72441"}
{"commit_hash": "ba6f7da99aaf00042b4ed2d8850ed7534492009e", "short_hash": "ba6f7da99aaf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T21:18:47+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-08T07:34:34-06:00", "subject": "lightnvm: remove set but not used variables 'data_len' and 'rq_len'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/lightnvm"], "subsystem_tier": 5, "files_changed": 2, "insertions": 1, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variables in lightnvm driver (tier 5 subsystem). Low code volume (1 insertion, 4 deletions). Good commit message with compiler warning context and Reported-by tag. Maintainer Jens Axboe signed off, indicating proper review. No user impact or functional change.", "code_snippet": "@@ -445,7 +444,6 @@ int pblk_submit_read_gc(struct pblk *pblk, struct pblk_gc_rq *gc_rq)\n \tif (!(gc_rq->secs_to_gc))\n \t\tgoto out;\n \n-\tdata_len = (gc_rq->secs_to_gc) * geo->csecs;\n \trqd.opcode = NVM_OP_PREAD;\n \trqd.nr_ppas = gc_rq->secs_to_gc;\n \ndiff --git a/drivers/lightnvm/pblk-recovery.c b/drivers/lightnvm/pblk-recovery.c\nindex d5e210c3c5b7..299ef47a17b2 100644\n--- a/drivers/lightnvm/pblk-recovery.c\n+++ b/drivers/lightnvm/pblk-recovery.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba6f7da99aaf00042b4ed2d8850ed7534492009e"}
{"commit_hash": "79e178f4383a3a645f76bc2dd44c477b361c6a98", "short_hash": "79e178f4383a", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-07-24T11:54:23+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-08T07:45:01-06:00", "subject": "lib: scatterlist: Fix to support no mapped sg", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "lib", "subsystems_touched": ["lib/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 7, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Robert Jarzmik <robert.jarzmik@free.fr> (Free)"], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for sg_split function returning -EINVAL when in_mapped_nents is 0. Fix adds guard clause to skip unnecessary operations when no mapped entries exist. Acked-by from maintainer Robert Jarzmik, signed by subsystem maintainer Jens Axboe.", "code_snippet": "@@ -176,11 +176,13 @@ int sg_split(struct scatterlist *in, const int in_mapped_nents,\n \t * The order of these 3 calls is important and should be kept.\n \t */\n \tsg_split_phys(splitters, nb_splits);\n-\tret = sg_calculate_split(in, in_mapped_nents, nb_splits, skip,\n-\t\t\t\t split_sizes, splitters, true);\n-\tif (ret < 0)\n-\t\tgoto err;\n-\tsg_split_mapped(splitters, nb_splits);\n+\tif (in_mapped_nents) {\n+\t\tret = sg_calculate_split(in, in_mapped_nents, nb_splits, skip,\n+\t\t\t\t\t split_sizes, splitters, true);\n+\t\tif (ret < 0)\n+\t\t\tgoto err;\n+\t\tsg_split_mapped(splitters, nb_splits);\n+\t}\n \n \tfor (i = 0; i < nb_splits; i++) {\n \t\tout[i] = splitters[i].out_sg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/79e178f4383a3a645f76bc2dd44c477b361c6a98"}
{"commit_hash": "64ebb57a3df6c7126532f8acd22b0612867ad3e0", "short_hash": "64ebb57a3df6", "author_name": "yong.liang", "author_email": "yong.liang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-26T15:01:35+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-08T08:19:21-07:00", "subject": "clk: reset: Modify reset-controller driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk", "subsystems_touched": ["drivers/clk/mediatek", "include/dt-bindings/reset-controller"], "subsystem_tier": 7, "files_changed": 4, "insertions": 152, "deletions": 4, "hunks": 16, "review_chain": {"signed_off_by": ["yong.liang <yong.liang@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Mediatek MT8183 clock reset controller driver enhancement adding set-clear register support for hardware-specific reset signaling. Adds new reset controller ops, refactors existing code for code reuse, and includes comprehensive device tree bindings for 81+ reset signals.", "code_snippet": "@@ -17,6 +17,9 @@\n \n #include <dt-bindings/clock/mt8183-clk.h>\n \n+/* Infra global controller reset set register */\n+#define INFRA_RST0_SET_OFFSET\t\t0x120\n+\n static DEFINE_SPINLOCK(mt8183_clk_lock);\n \n static const struct mtk_fixed_clk top_fixed_clks[] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64ebb57a3df6c7126532f8acd22b0612867ad3e0"}
{"commit_hash": "5375f1efd70b5adbbbaded22889d50c07f6f89a4", "short_hash": "5375f1efd70b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T21:38:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-08T20:42:29+01:00", "subject": "regulator: act8865: Fix build error without CONFIG_POWER_SUPPLY", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "2d09a79bf637", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/regulator/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 8, "score_impact": 10, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build error fix for regulator driver missing POWER_SUPPLY dependency. Single-line Kconfig change adding missing dependency. Reported by Hulk Robot, fixes tag references original commit that introduced the bug. Maintainer (Mark Brown) signed off. Low code volume (1 insertion) but resolves build failure for specific config combination.", "code_snippet": "@@ -83,6 +83,7 @@ config REGULATOR_88PM8607\n config REGULATOR_ACT8865\n \ttristate \"Active-semi act8865 voltage regulator\"\n \tdepends on I2C\n+\tdepends on POWER_SUPPLY\n \tselect REGMAP_I2C\n \thelp\n \t  This driver controls a active-semi act8865 voltage output\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5375f1efd70b5adbbbaded22889d50c07f6f89a4"}
{"commit_hash": "8e082d8f42fabf9a4a0708d8012f4995765478fc", "short_hash": "8e082d8f42fa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T11:25:52+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-08T20:57:00+01:00", "subject": "ASoC: tscs454: remove unused variable 'PLL_48K_RATE'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused static variable in ASoC codec driver. Single-line deletion, well-formed commit message with Link tag, signed off by maintainer Mark Brown. Low impact as variable was never used.", "code_snippet": "@@ -22,7 +22,6 @@\n \n #include \"tscs454.h\"\n \n-static const unsigned int PLL_48K_RATE = (48000 * 256);\n static const unsigned int PLL_44_1K_RATE = (44100 * 256);\n \n #define COEFF_SIZE 3\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e082d8f42fabf9a4a0708d8012f4995765478fc"}
{"commit_hash": "018e5b458723d04cbeadbc3f0e06eba85798f427", "short_hash": "018e5b458723", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T21:10:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:32:19-07:00", "subject": "fq_codel: remove set but not used variables 'prev_ecn_mark' and 'prev_drop_count'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "77ddaff218fc", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 11, "score_impact": 4, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables in fq_codel scheduler. Dead code elimination from previous refactoring (77ddaff218fc). Minimal impact, excellent commit message with Fixes tag and proper maintainer sign-offs.", "code_snippet": "@@ -285,7 +285,6 @@ static struct sk_buff *fq_codel_dequeue(struct Qdisc *sch)\n \tstruct sk_buff *skb;\n \tstruct fq_codel_flow *flow;\n \tstruct list_head *head;\n-\tu32 prev_drop_count, prev_ecn_mark;\n \n begin:\n \thead = &q->new_flows;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/018e5b458723d04cbeadbc3f0e06eba85798f427"}
{"commit_hash": "5b76f6a0b0f868d8f4fae4e79a92e433a250a2eb", "short_hash": "5b76f6a0b0f8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:01:04+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-09T08:28:29+03:00", "subject": "usb: dwc3: keystone: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/dwc3", "subsystems_touched": ["drivers/usb/dwc3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Removes local variable, reduces lines from 3 to 1. Detected by coccinelle tool, reported by Hulk Robot. Cross-org contribution (Huawei author, Intel maintainer signoff). USB DWC3 subsystem is important but not core kernel.", "code_snippet": "@@ -81,7 +81,6 @@ static int kdwc3_probe(struct platform_device *pdev)\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct device_node\t*node = pdev->dev.of_node;\n \tstruct dwc3_keystone\t*kdwc;\n-\tstruct resource\t\t*res;\n \tint\t\t\terror, irq;\n \n \tkdwc = devm_kzalloc(dev, sizeof(*kdwc), GFP_KERNEL);", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/5b76f6a0b0f868d8f4fae4e79a92e433a250a2eb"}
{"commit_hash": "c6e4999cd930b8bd11dd8d4767e871b47f502845", "short_hash": "c6e4999cd930", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:04:08+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-09T08:28:29+03:00", "subject": "usb: dwc3: meson-g12a: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/dwc3", "subsystems_touched": ["drivers/usb/dwc3/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Single file touch (USB DWC3 driver), minimal diff (-3/+1). Coccinelle-detected simplification with proper maintainer ack.", "code_snippet": "@@ -386,7 +386,6 @@ static int dwc3_meson_g12a_probe(struct platform_device *pdev)\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct device_node\t*np = dev->of_node;\n \tvoid __iomem *base;\n-\tstruct resource *res;\n \tenum phy_mode otg_id;\n \tint ret, i, irq;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c6e4999cd930b8bd11dd8d4767e871b47f502845"}
{"commit_hash": "58dd0bad25543f95ffb5627d183eb4d01f38e633", "short_hash": "58dd0bad2554", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:06:16+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-09T08:28:29+03:00", "subject": "usb: dwc3: omap: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/dwc3", "subsystems_touched": ["drivers/usb/dwc3"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing platform_get_resource/devm_ioremap_resource combo with devm_platform_ioremap_resource helper. Detected by Coccinelle script, reported by Hulk Robot. Simplifies code by eliminating intermediate resource variable. Cross-org review from Intel maintainer Balbi.", "code_snippet": "@@ -446,7 +446,6 @@ static int dwc3_omap_probe(struct platform_device *pdev)\n \tstruct device_node\t*node = pdev->dev.of_node;\n \n \tstruct dwc3_omap\t*omap;\n-\tstruct resource\t\t*res;\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct regulator\t*vbus_reg = NULL;\n ", "flags": ["COCCINELLE", "AUTO_DETECTED", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/58dd0bad25543f95ffb5627d183eb4d01f38e633"}
{"commit_hash": "cc911c2251f07470f8e085ec8ff670e6bdd56add", "short_hash": "cc911c2251f0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:01:13+08:00", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-08-09T11:28:43+02:00", "subject": "ALSA: ac97: remove unused variable 'snd_ac97_controls_master_mono'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/pci/ac97/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 2, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable reported by Hulk Robot. 5 lines deleted, single file in sound/ac97 subsystem (tier 6). Cross-org contribution from Huawei to SUSE maintainer. Excellent commit message with proper reporter tag and sign-offs. Maintainer endorsed. Low impact cleanup.", "code_snippet": "@@ -596,11 +596,6 @@ static int snd_ac97_put_volsw(struct snd_kcontrol *kcontrol,\n \treturn err;\n }\n \n-static const struct snd_kcontrol_new snd_ac97_controls_master_mono[2] = {\n-AC97_SINGLE(\"Master Mono Playback Switch\", AC97_MASTER_MONO, 15, 1, 1),\n-AC97_SINGLE(\"Master Mono Playback Volume\", AC97_MASTER_MONO, 0, 31, 1)\n-};\n-\n static const struct snd_kcontrol_new snd_ac97_controls_tone[2] = {\n AC97_SINGLE(\"Tone Control - Bass\", AC97_MASTER_TONE, 8, 15, 1),\n AC97_SINGLE(\"Tone Control - Treble\", AC97_MASTER_TONE, 0, 15, 1)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc911c2251f07470f8e085ec8ff670e6bdd56add"}
{"commit_hash": "a62bd63893027bfa32fccbba0e0ac067824c362c", "short_hash": "a62bd6389302", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T19:01:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-09T13:24:20+01:00", "subject": "ASoC: SOF: Intel: Add missing include file hdac_hda.h", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "d4ff1b3917a5", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sof/intel"], "subsystem_tier": 6, "files_changed": 2, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 8, "score_impact": 8, "score_quality": 14, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build fix for missing include causing compilation failure. Small change (1 insertion, 3 deletions) moving include directive to correct location. Fix references a previous commit and includes proper tags (Fixes, Reported-by, Suggested-by). Sound subsystem is moderately important (tier 6). Cross-org collaboration with Huawei contributor and kernel.org maintainer.", "code_snippet": "@@ -13,6 +13,7 @@\n #include \"hda.h\"\n \n #if IS_ENABLED(CONFIG_SND_SOC_SOF_HDA_AUDIO_CODEC)\n+#include \"../../codecs/hdac_hda.h\"\n #define sof_hda_ext_ops\tsnd_soc_hdac_hda_get_ops()\n #else\n #define sof_hda_ext_ops\tNULL\ndiff --git a/sound/soc/sof/intel/hda.c b/sound/soc/sof/intel/hda.c\nindex d04844d6b104..28eb780494aa 100644\n--- a/sound/soc/sof/intel/hda.c\n+++ b/sound/soc/sof/intel/hda.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a62bd63893027bfa32fccbba0e0ac067824c362c"}
{"commit_hash": "bc8d9f737fc01cce913f1cc215b7e66f01697e52", "short_hash": "bc8d9f737fc0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:02:34+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-09T13:24:29+01:00", "subject": "ASoC: mt6351: remove unused variable 'mt_lineout_control'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable. Low technical impact (1+4+0=5), minimal impact score (2+0+0+0=2), moderate quality (2+4+0+3=9), basic community engagement (0+4+0=4). Total: 20/100. Properly signed and reviewed by maintainer.", "code_snippet": "@@ -1066,11 +1066,6 @@ static int mt_mic_bias_2_event(struct snd_soc_dapm_widget *w,\n \treturn 0;\n }\n \n-/* DAPM Kcontrols */\n-static const struct snd_kcontrol_new mt_lineout_control =\n-\tSOC_DAPM_SINGLE(\"Switch\", MT6351_AUDDEC_ANA_CON3,\n-\t\t\tRG_AUDLOLPWRUP_VAUDP32_BIT, 1, 0);\n-\n /* DAPM Widgets */\n static const struct snd_soc_dapm_widget mt6351_dapm_widgets[] = {\n \t/* Digital Clock */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc8d9f737fc01cce913f1cc215b7e66f01697e52"}
{"commit_hash": "0fd70e22a0ffebd13028bf2c7da6b747070475bf", "short_hash": "0fd70e22a0ff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:24:40+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-09T13:24:47+01:00", "subject": "ASoC: ml26124: remove unused variable 'ngth'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 3, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variable. 1-line deletion in low-tier audio codec driver. Full review chain (author -> maintainer). Clear commit message with compiler warning context. Atomic change with zero risk.", "code_snippet": "@@ -56,7 +56,6 @@ static const DECLARE_TLV_DB_SCALE(alclvl, -2250, 150, 0);\n static const DECLARE_TLV_DB_SCALE(mingain, -1200, 600, 0);\n static const DECLARE_TLV_DB_SCALE(maxgain, -675, 600, 0);\n static const DECLARE_TLV_DB_SCALE(boost_vol, -1200, 75, 0);\n-static const DECLARE_TLV_DB_SCALE(ngth, -7650, 150, 0);\n \n static const char * const ml26124_companding[] = {\"16bit PCM\", \"u-law\",\n \t\t\t\t\t\t  \"A-law\"};\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fd70e22a0ffebd13028bf2c7da6b747070475bf"}
{"commit_hash": "ca497fb6aa9fbd3b0a87fd0a71e9e1df2600ac30", "short_hash": "ca497fb6aa9f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T09:49:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:41:24-07:00", "subject": "taprio: remove unused variable 'entry_list_policy'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 12, "score_impact": 4, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal (4 lines) triggered by compiler warning. Good commit message with context linking to prior commit a3d43c0d56f1. Cross-org collaboration (Huawei author, Intel maintainer suggestion, net subsystem maintainer signoff). High subsystem tier (networking). Full review chain with maintainer endorsement.", "code_snippet": "@@ -677,10 +677,6 @@ static const struct nla_policy entry_policy[TCA_TAPRIO_SCHED_ENTRY_MAX + 1] = {\n \t[TCA_TAPRIO_SCHED_ENTRY_INTERVAL]  = { .type = NLA_U32 },\n };\n \n-static const struct nla_policy entry_list_policy[TCA_TAPRIO_SCHED_MAX + 1] = {\n-\t[TCA_TAPRIO_SCHED_ENTRY] = { .type = NLA_NESTED },\n-};\n-\n static const struct nla_policy taprio_policy[TCA_TAPRIO_ATTR_MAX + 1] = {\n \t[TCA_TAPRIO_ATTR_PRIOMAP]\t       = {\n \t\t.len = sizeof(struct tc_mqprio_qopt)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca497fb6aa9fbd3b0a87fd0a71e9e1df2600ac30"}
{"commit_hash": "aacbe27e82f01f6e0e3c2ab859d51d0823604ec8", "short_hash": "aacbe27e82f0", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: modify how pause options is displayed", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 21, "deletions": 17, "hunks": 6, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 11, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes a display/reporting bug where user-configured pause options were incorrectly overwritten by negotiated values. The driver modification is clean and focused, extracting user configuration recording into a dedicated function. Strong review chain with 3 reviewers (including linynsheng@huawei.com and maintainer davem). Good commit message clearly explaining the problem and solution. Low user impact as this affects visibility of configuration rather than functionality.", "code_snippet": "@@ -8207,28 +8207,15 @@ static int hclge_cfg_pauseparam(struct hclge_dev *hdev, u32 rx_en, u32 tx_en)\n {\n \tint ret;\n \n-\tif (rx_en && tx_en)\n-\t\thdev->fc_mode_last_time = HCLGE_FC_FULL;\n-\telse if (rx_en && !tx_en)\n-\t\thdev->fc_mode_last_time = HCLGE_FC_RX_PAUSE;\n-\telse if (!rx_en && tx_en)\n-\t\thdev->fc_mode_last_time = HCLGE_FC_TX_PAUSE;\n-\telse\n-\t\thdev->fc_mode_last_time = HCLGE_FC_NONE;\n-\n \tif (hdev->tm_info.fc_mode == HCLGE_FC_PFC)\n \t\treturn 0;\n \n \tret = hclge_mac_pause_en_cfg(hdev, tx_en, rx_en);\n-\tif (ret) {\n-\t\tdev_err(&hdev->pdev->dev, \"configure pauseparam error, ret = %d.\\n\",\n-\t\t\tret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aacbe27e82f01f6e0e3c2ab859d51d0823604ec8"}
{"commit_hash": "ddb54554fa517be1639f10c6f2828429a871368b", "short_hash": "ddb54554fa51", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: add DFX registers information for ethtool -d", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 3, "insertions": 301, "deletions": 55, "hunks": 10, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 12, "score_quality": 14, "score_community": 2, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Feature addition for hns3 driver adding DFX register dump support via ethtool -d. 301 insertions across 3 files. Adds macros to replace magic numbers. Good commit message explaining the motivation. Internal Huawei review with Reviewed-by tag. Accepted by net maintainer David S. Miller.", "code_snippet": "@@ -14,16 +14,8 @@ static int hclge_dbg_get_dfx_bd_num(struct hclge_dev *hdev, int offset)\n \tstruct hclge_desc desc[4];\n \tint ret;\n \n-\thclge_cmd_setup_basic_desc(&desc[0], HCLGE_OPC_DFX_BD_NUM, true);\n-\tdesc[0].flag |= cpu_to_le16(HCLGE_CMD_FLAG_NEXT);\n-\thclge_cmd_setup_basic_desc(&desc[1], HCLGE_OPC_DFX_BD_NUM, true);\n-\tdesc[1].flag |= cpu_to_le16(HCLGE_CMD_FLAG_NEXT);\n-\thclge_cmd_setup_basic_desc(&desc[2], HCLGE_OPC_DFX_BD_NUM, true);\n-\tdesc[2].flag |= cpu_to_le16(HCLGE_CMD_FLAG_NEXT);\n-\thclge_cmd_setup_basic_desc(&desc[3], HCLGE_OPC_DFX_BD_NUM, true);\n-\n-\tret = hclge_cmd_send(&hdev->hw, desc, 4);\n-\tif (ret != HCLGE_CMD_EXEC_SUCCESS) {\n+\tret = hclge_query_bd_num_cmd_send(hdev, desc);\n+\tif (ret) {\n \t\tdev_err(&hdev->pdev->dev,\n \t\t\t\"get dfx bdnum fail, status is %d.\\n\", ret);\n \t\treturn ret;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ddb54554fa517be1639f10c6f2828429a871368b"}
{"commit_hash": "eb977d996e9316c66e4d9908fd12d682e4db14e9", "short_hash": "eb977d996e93", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: clean up for vlan handling in hns3_fill_desc_vtags", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 89, "deletions": 78, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 12, "score_impact": 7, "score_quality": 13, "score_community": 2, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Refactoring commit that cleans up VLAN handling in hns3 driver. Code volume is moderate (89 insertions, 78 deletions). Driver subsystem (tier 8). Has internal review from Huawei engineers (Reviewed-by) and signed off by maintainer David S. Miller. Good commit message explaining the refactoring goals. Low user impact as it's internal cleanup.", "code_snippet": "@@ -45,6 +45,9 @@ MODULE_PARM_DESC(debug, \" Network interface message level setting\");\n #define DEFAULT_MSG_LEVEL (NETIF_MSG_PROBE | NETIF_MSG_LINK | \\\n \t\t\t   NETIF_MSG_IFDOWN | NETIF_MSG_IFUP)\n \n+#define HNS3_INNER_VLAN_TAG\t1\n+#define HNS3_OUTER_VLAN_TAG\t2\n+\n /* hns3_pci_tbl - PCI Device ID Table\n  *\n  * Last entry must be all 0s", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb977d996e9316c66e4d9908fd12d682e4db14e9"}
{"commit_hash": "7ac243f99d61f4580a72f62e638ed4e04aa52aa1", "short_hash": "7ac243f99d61", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: add input length check for debugfs write function", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 17, "score_quality": 7, "score_community": 1, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 1, "D3_community_response": 0}, "score_justification": "Bug fix preventing integer overflow in debugfs write function when count reaches SIZE_MAX. Adds input length validation limiting writes to 1024 bytes. Single-subsystem network driver change with internal review from Huawei team.", "code_snippet": "@@ -8,6 +8,7 @@\n #include \"hns3_enet.h\"\n \n #define HNS3_DBG_READ_LEN 256\n+#define HNS3_DBG_WRITE_LEN 1024\n \n static struct dentry *hns3_dbgfs_root;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7ac243f99d61f4580a72f62e638ed4e04aa52aa1"}
{"commit_hash": "130509213baeb3cada40c19dd87341a6787f8b23", "short_hash": "130509213bae", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: fix interrupt clearing error for VF", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "e2cb1dec9779", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 7, "files_changed": 2, "insertions": 21, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for interrupt clearing error in VF driver causing interrupt loss. Has Fixes tags, Reviewed-by, and Signed-off-by from maintainer. Moderate code volume (30 lines changed), affects network driver for Huawei silicon.", "code_snippet": "@@ -1889,21 +1889,20 @@ static void hclgevf_clear_event_cause(struct hclgevf_dev *hdev, u32 regclr)\n static enum hclgevf_evt_cause hclgevf_check_evt_cause(struct hclgevf_dev *hdev,\n \t\t\t\t\t\t      u32 *clearval)\n {\n-\tu32 val, cmdq_src_reg, rst_ing_reg;\n+\tu32 val, cmdq_stat_reg, rst_ing_reg;\n \n \t/* fetch the events from their corresponding regs */\n-\tcmdq_src_reg = hclgevf_read_dev(&hdev->hw,\n-\t\t\t\t\tHCLGEVF_VECTOR0_CMDQ_SRC_REG);\n+\tcmdq_stat_reg = hclgevf_read_dev(&hdev->hw,\n+\t\t\t\t\t HCLGEVF_VECTOR0_CMDQ_STAT_REG);\n \n-\tif (BIT(HCLGEVF_VECTOR0_RST_INT_B) & cmdq_src_reg) {\n+\tif (BIT(HCLGEVF_VECTOR0_RST_INT_B) & cmdq_stat_reg) {\n \t\trst_ing_reg = hclgevf_read_dev(&hdev->hw, HCLGEVF_RST_ING);\n \t\tdev_info(&hdev->pdev->dev,\n \t\t\t \"receive reset interrupt 0x%x!\\n\", rst_ing_reg);\n \t\tset_bit(HNAE3_VF_RESET, &hdev->reset_pending);\n \t\tset_bit(HCLGEVF_RESET_PENDING, &hdev->reset_state);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/130509213baeb3cada40c19dd87341a6787f8b23"}
{"commit_hash": "9e6717af61dfe6de304562602364a19d70c886d4", "short_hash": "9e6717af61df", "author_name": "Zhongzhu Liu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:32-07:00", "subject": "net: hns3: fix GFP flag error in hclge_mac_update_stats()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d174ea75c96a", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 18, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for GFP_ATOMIC flag error causing sleeping function warning in atomic context (stats retrieval under RCU lock). 3 reviewers from Huawei, network subsystem driver code, fixes tag present, detailed commit message with call trace.", "code_snippet": "@@ -364,9 +364,13 @@ static int hclge_mac_update_stats_complete(struct hclge_dev *hdev, u32 desc_num)\n \tu16 i, k, n;\n \tint ret;\n \n-\tdesc = kcalloc(desc_num, sizeof(struct hclge_desc), GFP_KERNEL);\n+\t/* This may be called inside atomic sections,\n+\t * so GFP_ATOMIC is more suitalbe here\n+\t */\n+\tdesc = kcalloc(desc_num, sizeof(struct hclge_desc), GFP_ATOMIC);\n \tif (!desc)\n \t\treturn -ENOMEM;\n+\n \thclge_cmd_setup_basic_desc(&desc[0], HCLGE_OPC_STATS_MAC_ALL, true);\n \tret = hclge_cmd_send(&hdev->hw, desc, desc_num);\n \tif (ret) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e6717af61dfe6de304562602364a19d70c886d4"}
{"commit_hash": "427a7bff66c8a9f8cf68384e24093fc4bf7763a1", "short_hash": "427a7bff66c8", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: add handshake with VF for PF reset", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 55, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 11, "score_impact": 19, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug-fix preventing hardware errors during PF reset by adding VF synchronization. Driver-specific network subsystem code (tier 8). 63 lines changed in single vendor driver. Reviewed-by from same-org colleague, signed off by net maintainer. Well-documented commit message explaining hardware error scenario and firmware compatibility.", "code_snippet": "@@ -588,6 +589,12 @@ struct hclge_config_mac_mode_cmd {\n \tu8 rsv[20];\n };\n \n+struct hclge_pf_rst_sync_cmd {\n+#define HCLGE_PF_RST_ALL_VF_RDY_B\t0\n+\tu8 all_vf_ready;\n+\tu8 rsv[23];\n+};\n+\n #define HCLGE_CFG_SPEED_S\t\t0\n #define HCLGE_CFG_SPEED_M\t\tGENMASK(5, 0)\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 13152753c75d..d207dac1fd5e 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/427a7bff66c8a9f8cf68384e24093fc4bf7763a1"}
{"commit_hash": "615466ce415a8a94d3c2cbd5ac35aa29bd189ebe", "short_hash": "615466ce415a", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: refine MAC pause statistics querying function", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 3, "insertions": 20, "deletions": 14, "hunks": 12, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 11, "score_impact": 6, "score_quality": 15, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring of MAC pause statistics API in hns3 driver. Introduces hns3_mac_stats structure to replace separate output parameters. 3 files changed, 34 lines total. Good review chain (3 SOBs, 1 RB), clean commit message, atomic change. Low user impact as internal driver refactoring.", "code_snippet": "@@ -426,8 +433,8 @@ struct hnae3_ae_ops {\n \tvoid (*update_stats)(struct hnae3_handle *handle,\n \t\t\t     struct net_device_stats *net_stats);\n \tvoid (*get_stats)(struct hnae3_handle *handle, u64 *data);\n-\tvoid (*get_mac_pause_stats)(struct hnae3_handle *handle, u64 *tx_cnt,\n-\t\t\t\t    u64 *rx_cnt);\n+\tvoid (*get_mac_stats)(struct hnae3_handle *handle,\n+\t\t\t      struct hns3_mac_stats *mac_stats);\n \tvoid (*get_strings)(struct hnae3_handle *handle,\n \t\t\t    u32 stringset, u8 *data);\n \tint (*get_sset_count)(struct hnae3_handle *handle, int stringset);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex df08f9ec0601..1750f80341e7 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/615466ce415a8a94d3c2cbd5ac35aa29bd189ebe"}
{"commit_hash": "dec8466001f740868f01a3cb75b21174197be85e", "short_hash": "dec8466001f7", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: add function display NCL_CONFIG info", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 30, "deletions": 22, "hunks": 6, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 7, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Refactoring commit that extracts NCL_CONFIG data printing logic into a separate function for better readability. Adds macros to replace magic numbers. Small scope (30 insertions, 22 deletions) within a single driver file. Well-reviewed within company (Huawei) but limited cross-organizational involvement. Pure code quality improvement with no functional changes.", "code_snippet": "@@ -995,6 +995,33 @@ void hclge_dbg_get_m7_stats_info(struct hclge_dev *hdev)\n \tkfree(desc_src);\n }\n \n+#define HCLGE_CMD_NCL_CONFIG_BD_NUM\t5\n+\n+static void hclge_ncl_config_data_print(struct hclge_dev *hdev,\n+\t\t\t\t\tstruct hclge_desc *desc, int *offset,\n+\t\t\t\t\tint *length)\n+{\n+#define HCLGE_CMD_DATA_NUM\t\t6\n+\n+\tint i;\n+\tint j;\n+\n+\tfor (i = 0; i < HCLGE_CMD_NCL_CONFIG_BD_NUM; i++) {\n+\t\tfor (j = 0; j < HCLGE_CMD_DATA_NUM; j++) {\n+\t\t\tif (i == 0 && j == 0)\n+\t\t\t\tcontinue;\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dec8466001f740868f01a3cb75b21174197be85e"}
{"commit_hash": "eddd98600b382d80cd71e44150eec5de4a0830a4", "short_hash": "eddd98600b38", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: refine some macro definitions", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 5, "score_impact": 4, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Macro hygiene cleanup adding parentheses to prevent expression expansion issues and removing unnecessary parentheses. Low code volume (6 lines changed), non-critical driver subsystem, strong review chain (4 sign-offs including maintainer), clear commit message explaining rationale.", "code_snippet": "@@ -58,10 +58,10 @@\n \t\tBIT(HNAE3_DEV_SUPPORT_ROCE_B))\n \n #define hnae3_dev_roce_supported(hdev) \\\n-\thnae3_get_bit(hdev->ae_dev->flag, HNAE3_DEV_SUPPORT_ROCE_B)\n+\thnae3_get_bit((hdev)->ae_dev->flag, HNAE3_DEV_SUPPORT_ROCE_B)\n \n #define hnae3_dev_dcb_supported(hdev) \\\n-\thnae3_get_bit(hdev->ae_dev->flag, HNAE3_DEV_SUPPORT_DCB_B)\n+\thnae3_get_bit((hdev)->ae_dev->flag, HNAE3_DEV_SUPPORT_DCB_B)\n \n #define hnae3_dev_fd_supported(hdev) \\\n \thnae3_get_bit((hdev)->ae_dev->flag, HNAE3_DEV_SUPPORT_FD_B)\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h\nindex 4ccf107079eb..bdde3afc286b 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eddd98600b382d80cd71e44150eec5de4a0830a4"}
{"commit_hash": "42611b70f8be12c46906c869f5d819ac70dfd1c7", "short_hash": "42611b70f8be", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: add check for max TX BD num for tso and non-tso case", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 17, "deletions": 24, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 54, "score_technical": 10, "score_impact": 19, "score_quality": 16, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Driver bug fix preventing PCIe AER RAS errors from hardware TX BD limit violations. 41 lines changed across 2 files in hns3 network driver. Proper review chain with internal (Peng Li) and maintainer (David S. Miller) sign-offs. Clear commit message explaining hardware constraints and fix approach. Prevents potential hardware crashes by validating BD numbers before descriptor filling.", "code_snippet": "@@ -1186,28 +1186,20 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \treturn 0;\n }\n \n-static int hns3_nic_bd_num(struct sk_buff *skb)\n+static unsigned int hns3_nic_bd_num(struct sk_buff *skb)\n {\n-\tint size = skb_headlen(skb);\n-\tint i, bd_num;\n+\tunsigned int bd_num;\n+\tint i;\n \n \t/* if the total len is within the max bd limit */\n \tif (likely(skb->len <= HNS3_MAX_BD_SIZE))\n \t\treturn skb_shinfo(skb)->nr_frags + 1;\n \n-\tbd_num = hns3_tx_bd_count(size);\n+\tbd_num = hns3_tx_bd_count(skb_headlen(skb));\n \n \tfor (i = 0; i < skb_shinfo(skb)->nr_frags; i++) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42611b70f8be12c46906c869f5d819ac70dfd1c7"}
{"commit_hash": "b20d7fe51e0de28982e115b8ec0647066d73d206", "short_hash": "b20d7fe51e0d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T10:31:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-09T13:44:33-07:00", "subject": "net: hns3: add some statitics info to tx process", "primary_category": "FEAT-OTHER", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 3, "insertions": 52, "deletions": 14, "hunks": 24, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 15, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "This is a debugging enhancement commit for the HNS3 network driver that adds detailed TX error statistics (tx_vlan_err, tx_l4_proto_err, tx_l2l3l4_err, tx_tso_err) and fixes a missing u64_stats_update_begin/end lock protection around sw_err_cnt. It also introduces hns3_rl_err rate-limited error logging macro. The commit has 52 insertions and 14 deletions across 3 driver-specific files. Internal review chain is strong (Reviewed-by Peng Li, Signed-off-by Huazhong Tan, Signed-off-by David S. Miller). The primary value is improved debuggability and a concurrency bug fix for stats updates.", "code_snippet": "@@ -28,6 +28,12 @@\n #define hns3_set_field(origin, shift, val)\t((origin) |= ((val) << (shift)))\n #define hns3_tx_bd_count(S)\tDIV_ROUND_UP(S, HNS3_MAX_BD_SIZE)\n \n+#define hns3_rl_err(fmt, ...)\t\t\t\t\t\t\\\n+\tdo {\t\t\t\t\t\t\t\t\\\n+\t\tif (net_ratelimit())\t\t\t\t\t\\\n+\t\t\tnetdev_err(fmt, ##__VA_ARGS__);\t\t\t\\\n+\t} while (0)\n+\n static void hns3_clear_all_ring(struct hnae3_handle *h, bool force);\n static void hns3_remove_hw_addr(struct net_device *netdev);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b20d7fe51e0de28982e115b8ec0647066d73d206"}
{"commit_hash": "40073a9d53eac3f3ebf569aa9afd61301eff9190", "short_hash": "40073a9d53ea", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T19:01:00+08:00", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-08-09T14:56:05+02:00", "subject": "ASoC: SOF: Intel: Add missing include file hdac_hda.h", "primary_category": "BUILD", "secondary_categories": ["FIX"], "cve_ids": [], "fixes_tag": "d4ff1b3917a5", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sof/intel", "sound/soc/sof/intel/hda-bus.c", "sound/soc/sof/intel/hda.c"], "subsystem_tier": 8, "files_changed": 2, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 9, "score_impact": 5, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for missing include causing compilation failure. Small change (+1/-3 lines) fixing implicit declaration error. Has proper Fixes tag and Signed-off-by from both author and maintainer Takashi Iwai. Cross-org contribution (Huawei -> SUSE maintainer). Sound subsystem is important but not core kernel.", "code_snippet": "@@ -13,6 +13,7 @@\n #include \"hda.h\"\n \n #if IS_ENABLED(CONFIG_SND_SOC_SOF_HDA_AUDIO_CODEC)\n+#include \"../../codecs/hdac_hda.h\"\n #define sof_hda_ext_ops\tsnd_soc_hdac_hda_get_ops()\n #else\n #define sof_hda_ext_ops\tNULL\ndiff --git a/sound/soc/sof/intel/hda.c b/sound/soc/sof/intel/hda.c\nindex 7ca27000c34d..dd6c8ad62b3e 100644\n--- a/sound/soc/sof/intel/hda.c\n+++ b/sound/soc/sof/intel/hda.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/40073a9d53eac3f3ebf569aa9afd61301eff9190"}
{"commit_hash": "894efaf5236d3abf0512d8a71ae927ea9f99b509", "short_hash": "894efaf5236d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T18:21:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-09T14:56:57+02:00", "subject": "staging: wusbcore: Fix build error without CONFIG_USB", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "71ed79b0e4be", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/wusbcore"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 7, "score_impact": 11, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix for missing CONFIG_USB dependency in staging driver. Single-line Kconfig change (2 lines diff). Fixes undefined reference to usb_hcd_giveback_urb. Staging subsystem (tier 6). Greg Kroah-Hartman (maintainer) signed off. Cross-org contribution (Huawei -> Linux Foundation). Good commit message with Fixes tag and build error details.", "code_snippet": "@@ -4,7 +4,7 @@\n #\n config USB_WUSB\n \ttristate \"Enable Wireless USB extensions\"\n-\tdepends on UWB\n+\tdepends on UWB && USB\n \tselect CRYPTO\n \tselect CRYPTO_AES\n \tselect CRYPTO_CCM\n", "flags": ["FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/894efaf5236d3abf0512d8a71ae927ea9f99b509"}
{"commit_hash": "263c9959c9376ec0217d6adc61222a53469eed3c", "short_hash": "263c9959c937", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:50+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:53+10:00", "subject": "crypto: hisilicon - add queue management driver for HiSilicon QM module", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 4, "insertions": 1740, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Kenneth Lee <liguozhu@hisilicon.com> (HiSilicon)", "Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Hao Fang <fanghao11@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 14, "score_impact": 19, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 8, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New driver for HiSilicon Queue Manager module - large addition (1740 lines) enabling accelerator hardware support. Well-reviewed with multiple internal reviewers. Foundation for future accelerator drivers.", "code_snippet": "@@ -12,3 +12,10 @@ config CRYPTO_DEV_HISI_SEC\n \n \t  To compile this as a module, choose M here: the module\n \t  will be called hisi_sec.\n+\n+config CRYPTO_DEV_HISI_QM\n+\ttristate\n+\tdepends on ARM64 && PCI && PCI_MSI\n+\thelp\n+\t  HiSilicon accelerator engines use a common queue management\n+\t  interface. Specific engine driver may use this module.\ndiff --git a/drivers/crypto/hisilicon/Makefile b/drivers/crypto/hisilicon/Makefile\nindex 463f46ace182..05e9052e0f52 100644\n--- a/drivers/crypto/hisilicon/Makefile\n+++ b/drivers/crypto/hisilicon/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/263c9959c9376ec0217d6adc61222a53469eed3c"}
{"commit_hash": "dfed0098ab91f647b5720ab6f1e03b5b55139408", "short_hash": "dfed0098ab91", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:51+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:53+10:00", "subject": "crypto: hisilicon - add hardware SGL support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 4, "insertions": 247, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 14, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "New hardware SGL (scatter-gather list) support module for HiSilicon Hip08 crypto accelerators. Adds 247 lines across 4 files with proper Kconfig integration. Code is well-documented with kernel-doc comments. Signed off by maintainer Herbert Xu. Foundation for future accelerator drivers to use common SGL interface.", "code_snippet": "@@ -19,3 +19,11 @@ config CRYPTO_DEV_HISI_QM\n \thelp\n \t  HiSilicon accelerator engines use a common queue management\n \t  interface. Specific engine driver may use this module.\n+\n+config CRYPTO_HISI_SGL\n+\ttristate\n+\tdepends on ARM64\n+\thelp\n+\t  HiSilicon accelerator engines use a common hardware scatterlist\n+\t  interface for data format. Specific engine driver may use this\n+\t  module.\ndiff --git a/drivers/crypto/hisilicon/Makefile b/drivers/crypto/hisilicon/Makefile\nindex 05e9052e0f52..96cb9134194e 100644\n--- a/drivers/crypto/hisilicon/Makefile\n+++ b/drivers/crypto/hisilicon/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dfed0098ab91f647b5720ab6f1e03b5b55139408"}
{"commit_hash": "79e09f30eeba857b09832209bfc66bd689c58328", "short_hash": "79e09f30eeba", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:53+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:54+10:00", "subject": "crypto: hisilicon - add SRIOV support for ZIP", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 3, "insertions": 226, "deletions": 25, "hunks": 42, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 12, "score_impact": 19, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "FEAT-DRIVER: Adds SRIOV (Single Root I/O Virtualization) support to HiSilicon ZIP crypto driver, enabling VM passthrough. 226 insertions across 3 files in drivers/crypto/hisilicon. New PCI device ID support (ZIP_VF), VF queue assignment logic, and VFT (Virtual Function Table) configuration. Code is well-structured with proper PF/VF differentiation. Signed-off-by maintainer Herbert Xu indicates subsystem endorsement.", "code_snippet": "@@ -422,7 +424,10 @@ static u32 qm_get_irq_num_v1(struct hisi_qm *qm)\n \n static u32 qm_get_irq_num_v2(struct hisi_qm *qm)\n {\n-\treturn QM_IRQ_NUM_PF_V2;\n+\tif (qm->fun_type == QM_HW_PF)\n+\t\treturn QM_IRQ_NUM_PF_V2;\n+\telse\n+\t\treturn QM_IRQ_NUM_VF_V2;\n }\n \n static struct hisi_qp *qm_to_hisi_qp(struct hisi_qm *qm, struct qm_eqe *eqe)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/79e09f30eeba857b09832209bfc66bd689c58328"}
{"commit_hash": "62c455ca853e3e352e465d66a6cc39f1f88caa60", "short_hash": "62c455ca853e", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:52+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:54+10:00", "subject": "crypto: hisilicon - add HiSilicon ZIP accelerator support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 7, "files_changed": 6, "insertions": 1237, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Kenneth Lee <liguozhu@hisilicon.com> (HiSilicon)", "Hao Fang <fanghao11@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 55, "score_technical": 14, "score_impact": 20, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 7, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New HiSilicon ZIP accelerator driver adding 1237 lines across 6 files. Hardware crypto driver for zlib/gzip compression using PCIe and QM interface. Includes 2 internal reviews (Jonathan Cameron, John Garry) from Huawei, signed off by crypto maintainer Herbert Xu. Implements acomp interface with scatterlist support. Well-structured commit with clear description of hardware architecture.", "code_snippet": "@@ -27,3 +27,11 @@ config CRYPTO_HISI_SGL\n \t  HiSilicon accelerator engines use a common hardware scatterlist\n \t  interface for data format. Specific engine driver may use this\n \t  module.\n+\n+config CRYPTO_DEV_HISI_ZIP\n+\ttristate \"Support for HiSilicon ZIP accelerator\"\n+\tselect CRYPTO_DEV_HISI_QM\n+\tselect CRYPTO_HISI_SGL\n+\tselect SG_SPLIT\n+\thelp\n+\t  Support for HiSilicon ZIP Driver\ndiff --git a/drivers/crypto/hisilicon/Makefile b/drivers/crypto/hisilicon/Makefile\nindex 96cb9134194e..45a279741126 100644\n--- a/drivers/crypto/hisilicon/Makefile\n+++ b/drivers/crypto/hisilicon/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62c455ca853e3e352e465d66a6cc39f1f88caa60"}
{"commit_hash": "8201fdf49ff0950fa7a0c55a4aeb1ba3d747d404", "short_hash": "8201fdf49ff0", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:54+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:56+10:00", "subject": "Documentation: Add debugfs doc for hisi_zip", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/ABI/testing"], "subsystem_tier": 3, "files_changed": 1, "insertions": 50, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change adding debugfs ABI description for HiSilicon ZIP driver. Pure documentation with no code changes, low technical complexity. Reviewed by Jonathan Cameron (Huawei) and signed off by crypto maintainer Herbert Xu. Atomic change with clear purpose.", "code_snippet": "@@ -0,0 +1,50 @@\n+What:           /sys/kernel/debug/hisi_zip/<bdf>/comp_core[01]/regs\n+Date:           Nov 2018\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    Dump of compression cores related debug registers.\n+\t\tOnly available for PF.\n+\n+What:           /sys/kernel/debug/hisi_zip/<bdf>/decomp_core[0-5]/regs\n+Date:           Nov 2018\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    Dump of decompression cores related debug registers.\n+\t\tOnly available for PF.\n+\n+What:           /sys/kernel/debug/hisi_zip/<bdf>/clear_enable\n+Date:           Nov 2018\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    Compression/decompression core debug registers read clear\n+\t\tcontrol. 1 means enable register read clear, otherwise 0.\n+\t\tWriting to this file has no functional effect, only enable or\n+\t\tdisable counters clear after reading of these registers.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8201fdf49ff0950fa7a0c55a4aeb1ba3d747d404"}
{"commit_hash": "ad3f0a93b639c342abbe8982cc34a3370169c464", "short_hash": "ad3f0a93b639", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:56+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:57+10:00", "subject": "MAINTAINERS: add maintainer for HiSilicon QM and ZIP controller driver", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto"], "subsystem_tier": 6, "files_changed": 1, "insertions": 11, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINTAINERS file update adding Zhou Wang as maintainer for HiSilicon QM and ZIP crypto controller driver. 11 line addition with Reviewed-by from John Garry (Huawei), applied by crypto maintainer Herbert Xu. This is a documentation/process change with good review chain (2 reviewers) and maintainer endorsement, but low technical impact as it only updates metadata.", "code_snippet": "@@ -7307,6 +7307,17 @@ S:\tSupported\n F:\tdrivers/scsi/hisi_sas/\n F:\tDocumentation/devicetree/bindings/scsi/hisilicon-sas.txt\n \n+HISILICON QM AND ZIP Controller DRIVER\n+M:\tZhou Wang <wangzhou1@hisilicon.com>\n+L:\tlinux-crypto@vger.kernel.org\n+S:\tMaintained\n+F:\tdrivers/crypto/hisilicon/qm.c\n+F:\tdrivers/crypto/hisilicon/qm.h\n+F:\tdrivers/crypto/hisilicon/sgl.c\n+F:\tdrivers/crypto/hisilicon/sgl.h\n+F:\tdrivers/crypto/hisilicon/zip/\n+F:\tDocumentation/ABI/testing/debugfs-hisi-zip\n+\n HMM - Heterogeneous Memory Management\n M:\tJérôme Glisse <jglisse@redhat.com>\n L:\tlinux-mm@kvack.org\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad3f0a93b639c342abbe8982cc34a3370169c464"}
{"commit_hash": "72c7a68d2ea34803e9c4ef948261ec6744fc72fc", "short_hash": "72c7a68d2ea3", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-02T15:57:55+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:57+10:00", "subject": "crypto: hisilicon - add debugfs for ZIP and QM", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/"], "subsystem_tier": 3, "files_changed": 3, "insertions": 704, "deletions": 1, "hunks": 46, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 9, "score_impact": 12, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New debugfs interface for HiSilicon ZIP/QM crypto driver with 704 lines added. Signed-off by maintainer Herbert Xu. Feature addition (not bug fix) adding debug capabilities to hardware crypto accelerator.", "code_snippet": "@@ -270,11 +274,17 @@ struct hisi_qm_hw_ops {\n \tvoid (*qm_db)(struct hisi_qm *qm, u16 qn,\n \t\t      u8 cmd, u16 index, u8 priority);\n \tu32 (*get_irq_num)(struct hisi_qm *qm);\n+\tint (*debug_init)(struct hisi_qm *qm);\n \tvoid (*hw_error_init)(struct hisi_qm *qm, u32 ce, u32 nfe, u32 fe,\n \t\t\t      u32 msi);\n \tpci_ers_result_t (*hw_error_handle)(struct hisi_qm *qm);\n };\n \n+static const char * const qm_debug_file_name[] = {\n+\t[CURRENT_Q]    = \"current_q\",\n+\t[CLEAR_ENABLE] = \"clear_enable\",\n+};\n+\n struct hisi_qm_hw_error {\n \tu32 int_msk;\n \tconst char *msg;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72c7a68d2ea34803e9c4ef948261ec6744fc72fc"}
{"commit_hash": "0866ba23b7efcc6837d6b4231bf91b79647b81ea", "short_hash": "0866ba23b7ef", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:27:58+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:58+10:00", "subject": "crypto: artpec6 - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 4, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Small change (-3 +1 lines) in crypto driver probe function. Reported by Hulk Robot (automation tool). Reviewed and signed by maintainer Herbert Xu. Low risk cleanup with no functional changes.", "code_snippet": "@@ -2854,7 +2854,6 @@ static int artpec6_crypto_probe(struct platform_device *pdev)\n \tstruct artpec6_crypto *ac;\n \tstruct device *dev = &pdev->dev;\n \tvoid __iomem *base;\n-\tstruct resource *res;\n \tint irq;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0866ba23b7efcc6837d6b4231bf91b79647b81ea"}
{"commit_hash": "f78c7123ff4cfb90572633d79d85e20f29f87112", "short_hash": "f78c7123ff4c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:01+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:59+10:00", "subject": "crypto: img-hash - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduced 4 lines to 1 in drivers/crypto/img-hash.c. Reported-by: Hulk Robot indicates automated detection. Signed-off by maintainer Herbert Xu.", "code_snippet": "@@ -958,9 +958,7 @@ static int img_hash_probe(struct platform_device *pdev)\n \tcrypto_init_queue(&hdev->queue, IMG_HASH_QUEUE_LENGTH);\n \n \t/* Register bank */\n-\thash_res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\n-\thdev->io_base = devm_ioremap_resource(dev, hash_res);\n+\thdev->io_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(hdev->io_base)) {\n \t\terr = PTR_ERR(hdev->io_base);\n \t\tdev_err(dev, \"can't ioremap, returned %d\\n\", err);\n", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/f78c7123ff4cfb90572633d79d85e20f29f87112"}
{"commit_hash": "6d1c0186f392e77b9e873490bed4d27b2fe580d7", "short_hash": "6d1c0186f392", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:00+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:59+10:00", "subject": "crypto: exynos - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto", "drivers/crypto"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Krzysztof Kozlowski <krzk@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function. Low code volume (1 insertion, 3 deletions). Crypto subsystem (tier 4). Good review chain with Reviewed-by and Signed-off-by from maintainer. No user impact, no stable backport.", "code_snippet": "@@ -268,7 +268,6 @@ static struct rng_alg exynos_rng_alg = {\n static int exynos_rng_probe(struct platform_device *pdev)\n {\n \tstruct exynos_rng_dev *rng;\n-\tstruct resource *res;\n \tint ret;\n \n \tif (exynos_rng_dev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d1c0186f392e77b9e873490bed4d27b2fe580d7"}
{"commit_hash": "17729e56f9b8f9f0a057ea16571cdea0457900f0", "short_hash": "17729e56f9b8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:27:59+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:11:59+10:00", "subject": "crypto: ccp - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/ccp/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 5, "score_quality": 7, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit using devm_platform_ioremap_resource() helper. 1 insertion, 3 deletions. Low impact cleanup detected by coccinelle. Proper maintainer sign-off chain.", "code_snippet": "@@ -125,7 +125,6 @@ static int sp_platform_probe(struct platform_device *pdev)\n \tstruct sp_platform *sp_platform;\n \tstruct device *dev = &pdev->dev;\n \tenum dev_dma_attr attr;\n-\tstruct resource *ior;\n \tint ret;\n \n \tret = -ENOMEM;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/17729e56f9b8f9f0a057ea16571cdea0457900f0"}
{"commit_hash": "b26120fdb9326052cc0bffe6a52c19a7145d3851", "short_hash": "b26120fdb932", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:03+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:00+10:00", "subject": "crypto: mediatek - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using devm_platform_ioremap_resource() helper to simplify mediatek crypto driver code. Minor cleanup (-1,+2 lines). Reported-by Hulk Robot indicates automated detection. Signed off by subsystem maintainer Herbert Xu. Low impact cleanup with good maintenance practices.", "code_snippet": "@@ -481,7 +481,6 @@ static int mtk_desc_ring_alloc(struct mtk_cryp *cryp)\n \n static int mtk_crypto_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tstruct mtk_cryp *cryp;\n \tint i, err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b26120fdb9326052cc0bffe6a52c19a7145d3851"}
{"commit_hash": "f8dab5575b76ea01b300e4b3a145955763ed61a9", "short_hash": "f8dab5575b76", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:02+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:00+10:00", "subject": "crypto: inside-secure - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/inside-secure/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Antoine Tenart <antoine.tenart@bootlin.com> (Bootlin)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINT-CLEANUP: Simplifies code by using devm_platform_ioremap_resource() helper (1 insertion, 3 deletions). Detected by Coccinelle script. Reported by Hulk Robot, Acked-by Antoine Tenart, signed off by crypto maintainer Herbert Xu. Cross-org contribution from Huawei author to Bootlin-maintained driver.", "code_snippet": "@@ -999,7 +999,6 @@ static void safexcel_init_register_offsets(struct safexcel_crypto_priv *priv)\n static int safexcel_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \tstruct safexcel_crypto_priv *priv;\n \tint i, ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f8dab5575b76ea01b300e4b3a145955763ed61a9"}
{"commit_hash": "9a8e0a513b2b07aad90182cce102032437795778", "short_hash": "9a8e0a513b2b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:04+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:01+10:00", "subject": "crypto: picoxcell - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jamie Iles <jamie@jamieiles.com> (Jamieiles)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function. Reduces code by 1 line, removes unnecessary variable. Crypto driver subsystem (tier 6). Clean code modernization with proper acknowledgments from maintainer.", "code_snippet": "@@ -1624,7 +1624,7 @@ MODULE_DEVICE_TABLE(of, spacc_of_id_table);\n static int spacc_probe(struct platform_device *pdev)\n {\n \tint i, err, ret;\n-\tstruct resource *mem, *irq;\n+\tstruct resource *irq;\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct spacc_engine *engine = devm_kzalloc(&pdev->dev, sizeof(*engine),\n \t\t\t\t\t\t   GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a8e0a513b2b07aad90182cce102032437795778"}
{"commit_hash": "cf68528f9aaae3e5022bf9a4c71769ad48636c89", "short_hash": "cf68528f9aaa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:05+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:01+10:00", "subject": "crypto: sunxi-ss - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/sunxi-ss/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper. Single file, low complexity, well-reviewed by subsystem maintainer.", "code_snippet": "@@ -225,7 +225,6 @@ static struct sun4i_ss_alg_template ss_algs[] = {\n \n static int sun4i_ss_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tu32 v;\n \tint err, i;\n \tunsigned long cr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf68528f9aaae3e5022bf9a4c71769ad48636c89"}
{"commit_hash": "473b4d995963b158f1713274c7992aed9240eb45", "short_hash": "473b4d995963", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:07+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:02+10:00", "subject": "crypto: stm32 - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/stm32/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource wrapper. 2 files, -6/+2 lines. Detected by Coccinelle (automated tooling). Clean refactoring with proper sign-offs from subsystem maintainer Herbert Xu. Low impact but good maintenance practice. Crypto subsystem tier 6.", "code_snippet": "@@ -264,8 +263,7 @@ static int stm32_crc_probe(struct platform_device *pdev)\n \n \tcrc->dev = dev;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tcrc->regs = devm_ioremap_resource(dev, res);\n+\tcrc->regs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(crc->regs)) {\n \t\tdev_err(dev, \"Cannot map CRC IO\\n\");\n \t\treturn PTR_ERR(crc->regs);\ndiff --git a/drivers/crypto/stm32/stm32-cryp.c b/drivers/crypto/stm32/stm32-cryp.c\nindex 72f86063b046..5cf6679da580 100644\n--- a/drivers/crypto/stm32/stm32-cryp.c\n+++ b/drivers/crypto/stm32/stm32-cryp.c", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/473b4d995963b158f1713274c7992aed9240eb45"}
{"commit_hash": "721744730ab06079df8197a700dc8929dadfcebc", "short_hash": "721744730ab0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:06+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:02+10:00", "subject": "crypto: rockchip - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/rockchip/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Heiko Stuebner <heiko@sntech.de> (Sntech)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring to use devm_platform_ioremap_resource() simplifies code by replacing two lines (platform_get_resource + devm_ioremap_resource) with one wrapper call. Low code volume (-2 insertions, 1 deletion). Crypto subsystem is moderately critical (tier 6). Cross-org contribution (Huawei to upstream) with reviewer endorsement (Heiko Stuebner) and maintainer sign-off (Herbert Xu).", "code_snippet": "@@ -311,7 +311,6 @@ MODULE_DEVICE_TABLE(of, crypto_of_id_table);\n \n static int rk_crypto_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct device *dev = &pdev->dev;\n \tstruct rk_crypto_info *crypto_info;\n \tint err = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/721744730ab06079df8197a700dc8929dadfcebc"}
{"commit_hash": "2229c74079285c8f99754450e56d4d9814558e57", "short_hash": "2229c7407928", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:09+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:03+10:00", "subject": "crypto: qcom-rng - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Removes unnecessary struct resource variable. Crypto driver subsystem (tier 6). Single file change (-3/+1 lines). Signed by maintainer Herbert Xu.", "code_snippet": "@@ -153,7 +153,6 @@ static struct rng_alg qcom_rng_alg = {\n \n static int qcom_rng_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct qcom_rng *rng;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2229c74079285c8f99754450e56d4d9814558e57"}
{"commit_hash": "a54d83d42890e986018d0957fdd683df536505aa", "short_hash": "a54d83d42890", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:28:08+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-09T15:12:03+10:00", "subject": "crypto: qce - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/qce"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Reduces 3 lines to 1, removes unnecessary 'res' variable. Low-risk cleanup detected by Coccinelle, properly signed off by maintainer Herbert Xu. Crypto driver subsystem has moderate criticality.", "code_snippet": "@@ -167,7 +167,6 @@ static int qce_crypto_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct qce_device *qce;\n-\tstruct resource *res;\n \tint ret;\n \n \tqce = devm_kzalloc(dev, sizeof(*qce), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a54d83d42890e986018d0957fdd683df536505aa"}
{"commit_hash": "dbf0649f4340c8bb7d36b8d6255dba03ed6981e7", "short_hash": "dbf0649f4340", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:32:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-09T18:12:38+01:00", "subject": "ASoC: max98926: remove two unused variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 5, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused static variables that generated compiler warnings. Only 9 lines deleted, no functional changes. Low code volume (1/10). Subsystem is ASoC codec driver - medium tier (4/10). No cross-subsystem impact (0/3). Maintenance cleanup category base score (3/15). No stable CC, minimal user impact (0/5). No novelty (0/5). Good review chain with maintainer sign-off (3/8). Clear commit message explaining warnings (4/6). No testing mentioned (0/3). Atomic cleanup (3/3). No cross-org collaboration (0/4). Strong maintainer endorsement from Mark Brown (4/4). Total: 22/100", "code_snippet": "@@ -20,15 +20,6 @@ static const char * const max98926_boost_voltage_txt[] = {\n \t\"6.5V\", \"6.5V\", \"6.5V\", \"6.5V\", \"6.5V\", \"6.5V\", \"6.5V\", \"6.5V\"\n };\n \n-static const char * const max98926_boost_current_txt[] = {\n-\t\"0.6\", \"0.8\", \"1.0\", \"1.2\", \"1.4\", \"1.6\", \"1.8\", \"2.0\",\n-\t\"2.2\", \"2.4\", \"2.6\", \"2.8\", \"3.2\", \"3.6\", \"4.0\", \"4.4\"\n-};\n-\n-static const char *const max98926_dai_txt[] = {\n-\t\"Left\", \"Right\", \"LeftRight\", \"LeftRightDiv2\",\n-};\n-\n static const char *const max98926_pdm_ch_text[] = {\n \t\"Current\", \"Voltage\",\n };\n", "flags": ["CLEANUP", "COMPILER_WARNING", "TRIVIAL"], "link": "https://lore.kernel.org/linux-kernel/dbf0649f4340c8bb7d36b8d6255dba03ed6981e7"}
{"commit_hash": "c86102a333f77dcd0f7ef20ba836c6f13f1a077a", "short_hash": "c86102a333f7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:35:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-09T18:12:39+01:00", "subject": "ASoC: max9850: remove unused variable 'max9850_reg'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "068416620c0d", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 5, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused register array that became obsolete after API conversion. Low technical complexity (13 deletions), subsystem tier 4 (audio codec driver). Category base 3 for cleanup. Strong commit message with context and reference to original change. Maintainer (Mark Brown) signed off. Cross-org contribution from Huawei to community tree.", "code_snippet": "@@ -27,19 +27,6 @@ struct max9850_priv {\n \tunsigned int sysclk;\n };\n \n-/* max9850 register cache */\n-static const struct reg_default max9850_reg[] = {\n-\t{  2, 0x0c },\n-\t{  3, 0x00 },\n-\t{  4, 0x00 },\n-\t{  5, 0x00 },\n-\t{  6, 0x00 },\n-\t{  7, 0x00 },\n-\t{  8, 0x00 },\n-\t{  9, 0x00 },\n-\t{ 10, 0x00 },\n-};\n-\n /* these registers are not used at the moment but provided for the sake of\n  * completeness */\n static bool max9850_volatile_register(struct device *dev, unsigned int reg)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c86102a333f77dcd0f7ef20ba836c6f13f1a077a"}
{"commit_hash": "4e34323135ec0752af152ac588a4f96495074849", "short_hash": "4e34323135ec", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-11T16:27:41-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-11T16:27:41-04:00", "subject": "ext4: fix warning when turn on dioread_nolock and inline_data", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 10, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 4, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 12, "score_impact": 19, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for WARN_ON triggered in ext4 when using dioread_nolock with inline_data. The commit moves the dioread_nolock check to after inline data conversion to prevent the warning. High subsystem criticality (filesystem), good reproduction steps provided, Reviewed-by and Signed-off-by maintainer chain present.", "code_snippet": "@@ -2785,15 +2785,6 @@ static int ext4_writepages(struct address_space *mapping,\n \t\tgoto out_writepages;\n \t}\n \n-\tif (ext4_should_dioread_nolock(inode)) {\n-\t\t/*\n-\t\t * We may need to convert up to one extent per block in\n-\t\t * the page and we may dirty the inode.\n-\t\t */\n-\t\trsv_blocks = 1 + ext4_chunk_trans_blocks(inode,\n-\t\t\t\t\t\tPAGE_SIZE >> inode->i_blkbits);\n-\t}\n-\n \t/*\n \t * If we have inline data and arrive here, it means that\n \t * we will soon create the block for the 1st page, so", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4e34323135ec0752af152ac588a4f96495074849"}
{"commit_hash": "991f52306ab8b5d8427f6f953162b5ab92e88e51", "short_hash": "991f52306ab8", "author_name": "Shi Siyuan", "author_email": "shisiyuan@xiaomi.com", "author_company": "Xiaomi", "author_date": "2019-08-11T16:28:41-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-11T16:28:41-04:00", "subject": "ext4: remove unnecessary error check", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["shisiyuan <shisiyuan@xiaomi.com> (Xiaomi)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 7, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing 2 lines of redundant error checking in ext4 file write path. Code removal (2 deletions, 0 insertions) is low volume but targets critical filesystem subsystem. Maintained by Theodore Ts'o (maintainer endorsement) with cross-org contribution from Xiaomi to upstream. Clean commit message explains the rationale - the check is redundant since it will be performed in ext4_write_checks() -> generic_write_checks(). Single file change, atomic cleanup, no testing evidence provided.", "code_snippet": "@@ -230,8 +230,6 @@ ext4_file_write_iter(struct kiocb *iocb, struct iov_iter *from)\n \tif (IS_DAX(inode))\n \t\treturn ext4_dax_write_iter(iocb, from);\n #endif\n-\tif (!o_direct && (iocb->ki_flags & IOCB_NOWAIT))\n-\t\treturn -EOPNOTSUPP;\n \n \tif (!inode_trylock(inode)) {\n \t\tif (iocb->ki_flags & IOCB_NOWAIT)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/991f52306ab8b5d8427f6f953162b5ab92e88e51"}
{"commit_hash": "73d9c8d4c0017e21e1ff519474ceb1450484dc9a", "short_hash": "73d9c8d4c001", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-07-23T22:10:42+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-12T08:15:36-06:00", "subject": "blk-mq: Fix memory leak in blk_mq_init_allocated_queue error handling", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d34849913819", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 6, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 14, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in blk-mq error handling path. Clean 9-line diff adding proper cleanup goto label. Well-structured commit with Fixes tag, clear explanation, and maintainer sign-off. Cross-org contribution from Huawei to block subsystem.", "code_snippet": "@@ -2846,6 +2846,8 @@ static unsigned int nr_hw_queues(struct blk_mq_tag_set *set)\n struct request_queue *blk_mq_init_allocated_queue(struct blk_mq_tag_set *set,\n \t\t\t\t\t\t  struct request_queue *q)\n {\n+\tint ret = -ENOMEM;\n+\n \t/* mark the queue as mq asap */\n \tq->mq_ops = set->ops;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73d9c8d4c0017e21e1ff519474ceb1450484dc9a"}
{"commit_hash": "a3e2d4c7e76653d7e7bb34b6ca1692e3ca462d80", "short_hash": "a3e2d4c7e766", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T11:22:28+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:19:43-04:00", "subject": "RDMA/hns: remove obsolete Kconfig comment", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing obsolete Kconfig comments (8 lines deleted, 0 added). Single file change in RDMA/hns driver subsystem. Proper commit message referencing the commit that made comments obsolete. Signed-off by maintainer Doug Ledford. No user impact, no stable CC, trivial cleanup.", "code_snippet": "@@ -8,8 +8,6 @@ config INFINIBAND_HNS\n \t  is used in Hisilicon Hip06 and more further ICT SoC based on\n \t  platform device.\n \n-\t  To compile HIP06 or HIP08 driver as module, choose M here.\n-\n config INFINIBAND_HNS_HIP06\n \ttristate \"Hisilicon Hip06 Family RoCE support\"\n \tdepends on INFINIBAND_HNS && HNS && HNS_DSAF && HNS_ENET", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3e2d4c7e76653d7e7bb34b6ca1692e3ca462d80"}
{"commit_hash": "ece9c205f707fc0fda832d5da18b745d30c7c6bc", "short_hash": "ece9c205f707", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:43+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:07-04:00", "subject": "RDMA/hns: Update the prompt message for creating and destroy qp", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 2, "insertions": 5, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial commit that only updates error message prompts in dev_err() calls. It adds QPN information to error messages during QP create/destroy operations for better debugging. No functional code changes, just logging improvements. Cross-org contribution from Huawei engineer reviewed by RedHat maintainer Doug Ledford.", "code_snippet": "@@ -4641,7 +4640,8 @@ static int hns_roce_v2_destroy_qp(struct ib_qp *ibqp, struct ib_udata *udata)\n \n \tret = hns_roce_v2_destroy_qp_common(hr_dev, hr_qp, udata);\n \tif (ret) {\n-\t\tdev_err(hr_dev->dev, \"Destroy qp failed(%d)\\n\", ret);\n+\t\tdev_err(hr_dev->dev, \"Destroy qp 0x%06lx failed(%d)\\n\",\n+\t\t\thr_qp->qpn, ret);\n \t\treturn ret;\n \t}\n \ndiff --git a/drivers/infiniband/hw/hns/hns_roce_qp.c b/drivers/infiniband/hw/hns/hns_roce_qp.c\nindex f76617bbf009..f803209b6e04 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_qp.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_qp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ece9c205f707fc0fda832d5da18b745d30c7c6bc"}
{"commit_hash": "2288b3b3b187520d7fef37197c07ca035d9b8111", "short_hash": "2288b3b3b187", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:44+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:07-04:00", "subject": "RDMA/hns: Remove unnessary init for cmq reg", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing unnecessary enable bit initialization for CMQ registers in Huawei's RDMA driver. Low code volume (2 insertions, 6 deletions), driver subsystem (tier 6). Cross-org collaboration between Huawei author and Red Hat maintainer. Clean commit message with proper links and tags. Self-contained change with no user impact or stable backport needed.", "code_snippet": "@@ -896,8 +895,7 @@ static void hns_roce_cmq_init_regs(struct hns_roce_dev *hr_dev, bool ring_type)\n \t\troce_write(hr_dev, ROCEE_RX_CMQ_BASEADDR_H_REG,\n \t\t\t   upper_32_bits(dma));\n \t\troce_write(hr_dev, ROCEE_RX_CMQ_DEPTH_REG,\n-\t\t\t  (ring->desc_num >> HNS_ROCE_CMQ_DESC_NUM_S) |\n-\t\t\t   HNS_ROCE_CMQ_ENABLE);\n+\t\t\t   ring->desc_num >> HNS_ROCE_CMQ_DESC_NUM_S);\n \t\troce_write(hr_dev, ROCEE_RX_CMQ_HEAD_REG, 0);\n \t\troce_write(hr_dev, ROCEE_RX_CMQ_TAIL_REG, 0);\n \t}\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v2.h b/drivers/infiniband/hw/hns/hns_roce_hw_v2.h\nindex 478f5a5b7aa1..58931b5399f8 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v2.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v2.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2288b3b3b187520d7fef37197c07ca035d9b8111"}
{"commit_hash": "8ea417ffc2db52a69b16712ab6ee07e8f74aa740", "short_hash": "8ea417ffc2db", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:42+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:07-04:00", "subject": "RDMA/hns: Optimize hns_roce_modify_qp function", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 69, "deletions": 48, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 11, "score_impact": 7, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactor commit extracting hns_roce_check_qp_attr() and check_mtu_validate() functions to reduce complexity in hns_roce_modify_qp(). 69 insertions, 48 deletions. Cross-company contribution from Huawei to RedHat maintainer. Clean refactoring with proper sign-offs.", "code_snippet": "@@ -1070,48 +1070,41 @@ int to_hr_qp_type(int qp_type)\n \treturn transport_type;\n }\n \n-int hns_roce_modify_qp(struct ib_qp *ibqp, struct ib_qp_attr *attr,\n-\t\t       int attr_mask, struct ib_udata *udata)\n+static int check_mtu_validate(struct hns_roce_dev *hr_dev,\n+\t\t\t      struct hns_roce_qp *hr_qp,\n+\t\t\t      struct ib_qp_attr *attr, int attr_mask)\n {\n-\tstruct hns_roce_dev *hr_dev = to_hr_dev(ibqp->device);\n-\tstruct hns_roce_qp *hr_qp = to_hr_qp(ibqp);\n-\tenum ib_qp_state cur_state, new_state;\n \tstruct device *dev = hr_dev->dev;\n-\tint ret = -EINVAL;\n-\tint p;\n \tenum ib_mtu active_mtu;\n+\tint p;\n \n-\tmutex_lock(&hr_qp->mutex);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ea417ffc2db52a69b16712ab6ee07e8f74aa740"}
{"commit_hash": "cc95b23c250005873e4a117fccc53a8378fb3aed", "short_hash": "cc95b23c2500", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:41+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:07-04:00", "subject": "RDMA/hns: Encapsulate some lines for setting sq size in user mode", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 22, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 7, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a code refactoring that extracts SQ size validation into a separate function for better organization. Limited scope (29 lines, 1 file), low risk refactoring. Cross-org contribution from Huawei engineer, reviewed and signed by RedHat maintainer Doug Ledford.", "code_snippet": "@@ -324,16 +324,12 @@ static int hns_roce_set_rq_size(struct hns_roce_dev *hr_dev,\n \treturn 0;\n }\n \n-static int hns_roce_set_user_sq_size(struct hns_roce_dev *hr_dev,\n-\t\t\t\t     struct ib_qp_cap *cap,\n-\t\t\t\t     struct hns_roce_qp *hr_qp,\n-\t\t\t\t     struct hns_roce_ib_create_qp *ucmd)\n+static int check_sq_size_with_integrity(struct hns_roce_dev *hr_dev,\n+\t\t\t\t\tstruct ib_qp_cap *cap,\n+\t\t\t\t\tstruct hns_roce_ib_create_qp *ucmd)\n {\n \tu32 roundup_sq_stride = roundup_pow_of_two(hr_dev->caps.max_sq_desc_sz);\n \tu8 max_sq_stride = ilog2(roundup_sq_stride);\n-\tu32 ex_sge_num;\n-\tu32 page_size;\n-\tu32 max_cnt;\n \n \t/* Sanity check SQ size before proceeding */\n \tif ((u32)(1 << ucmd->log_sq_bb_count) > hr_dev->caps.max_wqes ||", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc95b23c250005873e4a117fccc53a8378fb3aed"}
{"commit_hash": "260c3b3499198b2cfa911ea7fb4f28bb129ef1e8", "short_hash": "260c3b349919", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:51+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Refactor hns_roce_v2_set_hem for hip08", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 1, "insertions": 42, "deletions": 33, "hunks": 6, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 5, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting complex switch statement into separate function to reduce complexity. 75 lines changed (42 insertions, 33 deletions). Cross-org contribution from Huawei to Red Hat maintainer. Clean atomic refactoring with proper Signed-off-by chain and Link tag.", "code_snippet": "@@ -2903,11 +2903,49 @@ static int hns_roce_v2_poll_cq(struct ib_cq *ibcq, int num_entries,\n \treturn npolled;\n }\n \n+static int get_op_for_set_hem(struct hns_roce_dev *hr_dev, u32 type,\n+\t\t\t      int step_idx)\n+{\n+\tint op;\n+\n+\tif (type == HEM_TYPE_SCCC && step_idx)\n+\t\treturn -EINVAL;\n+\n+\tswitch (type) {\n+\tcase HEM_TYPE_QPC:\n+\t\top = HNS_ROCE_CMD_WRITE_QPC_BT0;\n+\t\tbreak;\n+\tcase HEM_TYPE_MTPT:\n+\t\top = HNS_ROCE_CMD_WRITE_MPT_BT0;\n+\t\tbreak;\n+\tcase HEM_TYPE_CQC:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/260c3b3499198b2cfa911ea7fb4f28bb129ef1e8"}
{"commit_hash": "bebdb83f97ee725a8327d36d7cedb85eb0492726", "short_hash": "bebdb83f97ee", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:49+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Refactor irq request code", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 13, "deletions": 12, "hunks": 2, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 4, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small refactoring (25 lines changed) in RDMA/hns driver, removing nested if/else in favor of three separate loops for clarity. Single subsystem, low complexity. Strong cross-org collaboration (Huawei author + Red Hat maintainer).", "code_snippet": "@@ -5749,18 +5749,19 @@ static int __hns_roce_request_irq(struct hns_roce_dev *hr_dev, int irq_num,\n \t}\n \n \t/* irq contains: abnormal + AEQ + CEQ */\n-\tfor (j = 0; j < irq_num; j++)\n-\t\tif (j < other_num)\n-\t\t\tsnprintf((char *)hr_dev->irq_names[j],\n-\t\t\t\t HNS_ROCE_INT_NAME_LEN, \"hns-abn-%d\", j);\n-\t\telse if (j < (other_num + aeq_num))\n-\t\t\tsnprintf((char *)hr_dev->irq_names[j],\n-\t\t\t\t HNS_ROCE_INT_NAME_LEN, \"hns-aeq-%d\",\n-\t\t\t\t j - other_num);\n-\t\telse\n-\t\t\tsnprintf((char *)hr_dev->irq_names[j],\n-\t\t\t\t HNS_ROCE_INT_NAME_LEN, \"hns-ceq-%d\",\n-\t\t\t\t j - other_num - aeq_num);\n+\tfor (j = 0; j < other_num; j++)\n+\t\tsnprintf((char *)hr_dev->irq_names[j],\n+\t\t\t HNS_ROCE_INT_NAME_LEN, \"hns-abn-%d\", j);\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bebdb83f97ee725a8327d36d7cedb85eb0492726"}
{"commit_hash": "4b42d05d0b2ca56bef42976d304f478f567966ec", "short_hash": "4b42d05d0b2c", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:50+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Remove unnecessary kzalloc", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 1, "insertions": 27, "deletions": 37, "hunks": 18, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 7, "score_quality": 11, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code volume: 27 insertions/37 deletions = 64 lines changed (3 points). Subsystem: infiniband/hw/hns is a hardware-specific driver (tier 6). Cross-subsystem: single file touched. Category base: refactoring cleanup (5 points). No stable CC. User impact: minor performance improvement from avoiding heap allocation. Novelty: straightforward stack allocation. Review chain: Signed-off-by author, Link tag, Signed-off-by maintainer Doug Ledford (partial chain, 4 points). Commit message: clear description (4 points). Testing: no explicit testing mentioned. Atomicity: single focused change (3 points). Cross-org: Huawei author, Red Hat maintainer (4 points). Maintainer endorsement: signed off by subsystem maintainer (4 points). Community response: implicit acceptance via merge.", "code_snippet": "@@ -4288,22 +4288,19 @@ static int hns_roce_v2_modify_qp(struct ib_qp *ibqp,\n {\n \tstruct hns_roce_dev *hr_dev = to_hr_dev(ibqp->device);\n \tstruct hns_roce_qp *hr_qp = to_hr_qp(ibqp);\n-\tstruct hns_roce_v2_qp_context *context;\n-\tstruct hns_roce_v2_qp_context *qpc_mask;\n+\tstruct hns_roce_v2_qp_context ctx[2];\n+\tstruct hns_roce_v2_qp_context *context = ctx;\n+\tstruct hns_roce_v2_qp_context *qpc_mask = ctx + 1;\n \tstruct device *dev = hr_dev->dev;\n \tint ret;\n \n-\tcontext = kcalloc(2, sizeof(*context), GFP_ATOMIC);\n-\tif (!context)\n-\t\treturn -ENOMEM;\n-\n-\tqpc_mask = context + 1;\n \t/*\n \t * In v2 engine, software pass context and context mask to hardware\n \t * when modifying qp. If software need modify some fields in context,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4b42d05d0b2ca56bef42976d304f478f567966ec"}
{"commit_hash": "e7f40440afb829594c3ae96187404bc0ecf15ce3", "short_hash": "e7f40440afb8", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:48+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Split bool statement and assign statement", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 1, "insertions": 8, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 4, "score_quality": 10, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code style cleanup fixing assignment-in-condition in RDMA Hisilicon driver. Small scope (14 lines), low technical impact. Well-reviewed by maintainer Doug Ledford. Cross-org contribution (Huawei to Red Hat maintainer). Clean refactoring with no functional changes.", "code_snippet": "@@ -5068,12 +5069,11 @@ static int hns_roce_v2_ceq_int(struct hns_roce_dev *hr_dev,\n \t\t\t       struct hns_roce_eq *eq)\n {\n \tstruct device *dev = hr_dev->dev;\n-\tstruct hns_roce_ceqe *ceqe;\n+\tstruct hns_roce_ceqe *ceqe = next_ceqe_sw_v2(eq);\n \tint ceqe_found = 0;\n \tu32 cqn;\n \n-\twhile ((ceqe = next_ceqe_sw_v2(eq))) {\n-\n+\twhile (ceqe) {\n \t\t/* Make sure we read CEQ entry after we have checked the\n \t\t * ownership bit\n \t\t */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e7f40440afb829594c3ae96187404bc0ecf15ce3"}
{"commit_hash": "0e20ebf8d48e02846e202cad23bbfd6850b0b003", "short_hash": "0e20ebf8d48e", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:47+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Handling the error return value of hem function", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 10, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 12, "score_quality": 8, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Error handling improvement for RDMA/hns driver. Adds proper return value checks for hns_roce_calc_hem_mhop function calls across 4 sites. Small scope (15 lines changed), focused on preventing potential crashes from unchecked errors in HEM (Hardware Entry Memory) calculations. Cross-org contribution from Huawei engineer with maintainer sign-off.", "code_snippet": "@@ -879,11 +880,13 @@ int hns_roce_table_get_range(struct hns_roce_dev *hr_dev,\n {\n \tstruct hns_roce_hem_mhop mhop;\n \tunsigned long inc = table->table_chunk_size / table->obj_size;\n-\tunsigned long i;\n+\tunsigned long i = 0;\n \tint ret;\n \n \tif (hns_roce_check_whether_mhop(hr_dev, table->type)) {\n-\t\thns_roce_calc_hem_mhop(hr_dev, table, NULL, &mhop);\n+\t\tret = hns_roce_calc_hem_mhop(hr_dev, table, NULL, &mhop);\n+\t\tif (ret)\n+\t\t\tgoto fail;\n \t\tinc = mhop.bt_chunk_size / table->obj_size;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e20ebf8d48e02846e202cad23bbfd6850b0b003"}
{"commit_hash": "b5c229dc1585adcbe158ecaebb5e6993c9c220b6", "short_hash": "b5c229dc1585", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:45+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Clean up unnecessary initial assignment", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unnecessary initializations for variables that are always assigned before use. Code change is minimal (2 insertions, 2 deletions) in a single driver file. The commit has proper review chain with dual Huawei authorship and was accepted by RDMA maintainer Doug Ledford. Cross-organization contribution from Huawei to the community RDMA subsystem.", "code_snippet": "@@ -239,7 +239,7 @@ static int hns_roce_v2_post_send(struct ib_qp *ibqp,\n \tstruct device *dev = hr_dev->dev;\n \tstruct hns_roce_v2_db sq_db;\n \tstruct ib_qp_attr attr;\n-\tunsigned int sge_ind = 0;\n+\tunsigned int sge_ind;\n \tunsigned int owner_bit;\n \tunsigned long flags;\n \tunsigned int ind;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b5c229dc1585adcbe158ecaebb5e6993c9c220b6"}
{"commit_hash": "6def7de6d450893852802794ab44d8053672cf88", "short_hash": "6def7de6d450", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:46+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:08-04:00", "subject": "RDMA/hns: Update some comments style", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 3, "files_changed": 4, "insertions": 38, "deletions": 43, "hunks": 34, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a pure comment cleanup commit in the RDMA/hns (Hisilicon) driver. The changes include: 1) Adding proper spacing after '/*' in comments (e.g., '/*Single' → '/* Single'), 2) Removing redundant/obvious comments like '/* hop_num = 0 */', '/* hop_num = 1 */', and '/* 4G/4K = 1M */'. This is code style maintenance with no functional changes. Cross-org contribution from Huawei engineer (chenglang@huawei.com) merged by Red Hat maintainer (dledford@redhat.com). Low technical impact as it only affects comments in a hardware-specific driver.", "code_snippet": "@@ -322,7 +321,7 @@ struct hns_roce_hem_table {\n \tunsigned long\tnum_hem;\n \t/* HEM entry record obj total num */\n \tunsigned long\tnum_obj;\n-\t/*Single obj size */\n+\t/* Single obj size */\n \tunsigned long\tobj_size;\n \tunsigned long\ttable_chunk_size;\n \tint\t\tlowmem;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6def7de6d450893852802794ab44d8053672cf88"}
{"commit_hash": "db50077b953072b420943e89fcf06d5922898b89", "short_hash": "db50077b9530", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T22:53:54+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:09-04:00", "subject": "RDMA/hns: Use the new APIs for printing log", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 8, "files_changed": 2, "insertions": 29, "deletions": 24, "hunks": 34, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 8, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit converting dev_err/dev_warn to ibdev_err/ibdev_warn APIs for consistency with RDMA subsystem conventions. 53 lines changed across 2 files in HNS RDMA driver. Cross-org contribution from Huawei (oulijun@huawei.com) with maintainer sign-off (Doug Ledford). Low user impact as this is logging infrastructure change only.", "code_snippet": "@@ -1119,14 +1121,16 @@ static int hns_roce_check_qp_attr(struct ib_qp *ibqp, struct ib_qp_attr *attr,\n \n \tif (attr_mask & IB_QP_MAX_QP_RD_ATOMIC &&\n \t    attr->max_rd_atomic > hr_dev->caps.max_qp_init_rdma) {\n-\t\tdev_err(dev, \"attr max_rd_atomic invalid.attr->max_rd_atomic=%d\\n\",\n+\t\tibdev_err(&hr_dev->ib_dev,\n+\t\t\t\"attr max_rd_atomic invalid.attr->max_rd_atomic=%d\\n\",\n \t\t\tattr->max_rd_atomic);\n \t\treturn -EINVAL;\n \t}\n \n \tif (attr_mask & IB_QP_MAX_DEST_RD_ATOMIC &&\n \t    attr->max_dest_rd_atomic > hr_dev->caps.max_qp_dest_rdma) {\n-\t\tdev_err(dev, \"attr max_dest_rd_atomic invalid.attr->max_dest_rd_atomic=%d\\n\",\n+\t\tibdev_err(&hr_dev->ib_dev,\n+\t\t\t\"attr max_dest_rd_atomic invalid.attr->max_dest_rd_atomic=%d\\n\",\n \t\t\tattr->max_dest_rd_atomic);\n \t\treturn -EINVAL;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db50077b953072b420943e89fcf06d5922898b89"}
{"commit_hash": "d967e2625faa43da9e3be3228b8c57d3cf404953", "short_hash": "d967e2625faa", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-08T22:53:53+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:09-04:00", "subject": "RDMA/hns: Disable alw_lcl_lpbk of SSU", "primary_category": "BUG-PERF", "secondary_categories": ["BUG-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 12, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Single-line fix disabling alw_lcl_lpbk bit to prevent performance degradation in RoCE promiscuous mode. Clear commit message explains the issue: duplicate packet handling in inner/outer loopback halves performance. Hisilicon author properly signed-off and routed through maintainer Doug Ledford.", "code_snippet": "@@ -1308,7 +1308,7 @@ static int hns_roce_set_vf_switch_param(struct hns_roce_dev *hr_dev,\n \t\tcpu_to_le16(HNS_ROCE_CMD_FLAG_NO_INTR | HNS_ROCE_CMD_FLAG_IN);\n \tdesc.flag &= cpu_to_le16(~HNS_ROCE_CMD_FLAG_WR);\n \troce_set_bit(swt->cfg, VF_SWITCH_DATA_CFG_ALW_LPBK_S, 1);\n-\troce_set_bit(swt->cfg, VF_SWITCH_DATA_CFG_ALW_LCL_LPBK_S, 1);\n+\troce_set_bit(swt->cfg, VF_SWITCH_DATA_CFG_ALW_LCL_LPBK_S, 0);\n \troce_set_bit(swt->cfg, VF_SWITCH_DATA_CFG_ALW_DST_OVRD_S, 1);\n \n \treturn hns_roce_cmq_send(hr_dev, &desc, 1);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d967e2625faa43da9e3be3228b8c57d3cf404953"}
{"commit_hash": "249f2f921f24db878b0cc5da80cb15d531587d79", "short_hash": "249f2f921f24", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-08T22:53:52+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-12T10:45:09-04:00", "subject": "RDMA/hns: Remove redundant print in hns_roce_v2_ceq_int()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant dev_warn() message in event queue overflow handling. Very small change (-3/+2 lines), single file in RDMA subsystem (tier 7). Not a bug fix, just removing unnecessary logging. Maintainer (Doug Ledford) signed off, showing proper review. Clean commit message explaining the rationale. No testing evidence, but atomic change with clear intent.", "code_snippet": "@@ -5009,10 +5009,9 @@ static int hns_roce_v2_aeq_int(struct hns_roce_dev *hr_dev,\n \t\t++eq->cons_index;\n \t\taeqe_found = 1;\n \n-\t\tif (eq->cons_index > (2 * eq->entries - 1)) {\n-\t\t\tdev_warn(dev, \"cons_index overflow, set back to 0.\\n\");\n+\t\tif (eq->cons_index > (2 * eq->entries - 1))\n \t\t\teq->cons_index = 0;\n-\t\t}\n+\n \t\thns_roce_v2_init_irq_work(hr_dev, eq, qpn, cqn);\n \n \t\taeqe = next_aeqe_sw_v2(eq);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/249f2f921f24db878b0cc5da80cb15d531587d79"}
{"commit_hash": "b194a77fcc4001dc40aecdd15d249648e8a436d1", "short_hash": "b194a77fcc40", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T09:43:37+08:00", "committer_name": "Ard Biesheuvel", "committer_email": "ard.biesheuvel@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-12T12:06:23+03:00", "subject": "efi: cper: print AER info of PCIe fatal error", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "37448adfc7ce", "cc_stable": false, "subsystem_prefix": "drivers/firmware/efi", "subsystems_touched": ["drivers/firmware/efi/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "Ard Biesheuvel <ard.biesheuvel@linaro.org> (Linaro)"], "reviewed_by": ["James Morse <james.morse@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 12, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Fixes missing AER info printing for PCIe fatal errors. The patch addresses a regression introduced by 37448adfc7ce where fatal errors panic before AER handler can print diagnostic info. Code is minimal (15 insertions), focused on adding printk statements in existing function cper_print_pcie(). Good commit message with detailed before/after log examples. Has Reviewed-by from James Morse and signed by maintainer Ard Biesheuvel. Cross-org contribution (Huawei to Linaro). Low-medium impact as it improves debug visibility for fatal hardware errors.", "code_snippet": "@@ -390,6 +390,21 @@ static void cper_print_pcie(const char *pfx, const struct cper_sec_pcie *pcie,\n \t\tprintk(\n \t\"%s\"\"bridge: secondary_status: 0x%04x, control: 0x%04x\\n\",\n \tpfx, pcie->bridge.secondary_status, pcie->bridge.control);\n+\n+\t/* Fatal errors call __ghes_panic() before AER handler prints this */\n+\tif ((pcie->validation_bits & CPER_PCIE_VALID_AER_INFO) &&\n+\t    (gdata->error_severity & CPER_SEV_FATAL)) {\n+\t\tstruct aer_capability_regs *aer;\n+\n+\t\taer = (struct aer_capability_regs *)pcie->aer_info;\n+\t\tprintk(\"%saer_uncor_status: 0x%08x, aer_uncor_mask: 0x%08x\\n\",\n+\t\t       pfx, aer->uncor_status, aer->uncor_mask);\n+\t\tprintk(\"%saer_uncor_severity: 0x%08x\\n\",\n+\t\t       pfx, aer->uncor_severity);\n+\t\tprintk(\"%sTLP Header: %08x %08x %08x %08x\\n\", pfx,\n+\t\t       aer->header_log.dw0, aer->header_log.dw1,\n+\t\t       aer->header_log.dw2, aer->header_log.dw3);\n+\t}\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b194a77fcc4001dc40aecdd15d249648e8a436d1"}
{"commit_hash": "708cb5cc3fde63a33afa0aaf7a26fd7ea9015dd3", "short_hash": "708cb5cc3fde", "author_name": "Hsin-Hsiung Wang", "author_email": "hsin-hsiung.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-05T13:21:49+08:00", "committer_name": "Lee Jones", "committer_email": "lee.jones@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-12T12:28:06+01:00", "subject": "mfd: mt6397: Rename macros to something more readable", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mfd", "subsystems_touched": ["drivers/mfd/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Lee Jones <lee.jones@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 6, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a simple macro rename refactoring (CID_CODE -> CHIP_ID) in MediaTek MFD driver for improved readability. Low code volume (8 insertions, 8 deletions), single file change in non-critical MFD subsystem. Good review chain with maintainer sign-off. Cross-org contribution from Mediatek to Linaro tree. Pure refactoring with no functional changes or user impact.", "code_snippet": "@@ -10,17 +10,17 @@\n #include <linux/of_irq.h>\n #include <linux/regmap.h>\n #include <linux/mfd/core.h>\n-#include <linux/mfd/mt6397/core.h>\n #include <linux/mfd/mt6323/core.h>\n-#include <linux/mfd/mt6397/registers.h>\n+#include <linux/mfd/mt6397/core.h>\n #include <linux/mfd/mt6323/registers.h>\n+#include <linux/mfd/mt6397/registers.h>\n \n #define MT6397_RTC_BASE\t\t0xe000\n #define MT6397_RTC_SIZE\t\t0x3e\n \n-#define MT6323_CID_CODE\t\t0x23\n-#define MT6391_CID_CODE\t\t0x91\n-#define MT6397_CID_CODE\t\t0x97\n+#define MT6323_CHIP_ID\t\t0x23\n+#define MT6391_CHIP_ID\t\t0x91\n+#define MT6397_CHIP_ID\t\t0x97", "flags": [], "link": "https://lore.kernel.org/linux-kernel/708cb5cc3fde63a33afa0aaf7a26fd7ea9015dd3"}
{"commit_hash": "a4872e80ce7d2a1844328176dbf279d0a2b89bdb", "short_hash": "a4872e80ce7d", "author_name": "Hsin-Hsiung Wang", "author_email": "hsin-hsiung.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-05T13:21:50+08:00", "committer_name": "Lee Jones", "committer_email": "lee.jones@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-12T12:29:30+01:00", "subject": "mfd: mt6397: Extract IRQ related code from core driver", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mfd", "subsystems_touched": ["drivers/mfd"], "subsystem_tier": 6, "files_changed": 4, "insertions": 192, "deletions": 147, "hunks": 12, "review_chain": {"signed_off_by": ["Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Lee Jones <lee.jones@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 11, "score_impact": 13, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a code refactoring commit that extracts IRQ-related code from the MT6397 MFD core driver into a separate file (mt6397-irq.c). The change involves moving ~147 lines of IRQ handling code to a new file, improving modularity and maintainability. The commit message clearly explains the rationale: to support different types of IRQ designs and keep the MFD core simple and reusable. The code is a direct move with minimal changes (mainly adding chip_id switch case for different PMIC generations). Maintainer Lee Jones signed off, indicating review. No testing evidence provided. Touches MFD subsystem (tier 6 - important but not core kernel).", "code_snippet": "@@ -240,7 +240,8 @@ obj-$(CONFIG_INTEL_SOC_PMIC)\t+= intel-soc-pmic.o\n obj-$(CONFIG_INTEL_SOC_PMIC_BXTWC)\t+= intel_soc_pmic_bxtwc.o\n obj-$(CONFIG_INTEL_SOC_PMIC_CHTWC)\t+= intel_soc_pmic_chtwc.o\n obj-$(CONFIG_INTEL_SOC_PMIC_CHTDC_TI)\t+= intel_soc_pmic_chtdc_ti.o\n-obj-$(CONFIG_MFD_MT6397)\t+= mt6397-core.o\n+mt6397-objs\t:= mt6397-core.o mt6397-irq.o\n+obj-$(CONFIG_MFD_MT6397)\t+= mt6397.o\n \n obj-$(CONFIG_MFD_ALTERA_A10SR)\t+= altera-a10sr.o\n obj-$(CONFIG_MFD_ALTERA_SYSMGR) += altera-sysmgr.o\ndiff --git a/drivers/mfd/mt6397-core.c b/drivers/mfd/mt6397-core.c\nindex c0708622f41b..93c888153b77 100644\n--- a/drivers/mfd/mt6397-core.c\n+++ b/drivers/mfd/mt6397-core.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4872e80ce7d2a1844328176dbf279d0a2b89bdb"}
{"commit_hash": "c8a738f4cfaeccce40b171aca6da5fc45433ce60", "short_hash": "c8a738f4cfae", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T12:10:54+08:00", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-08-13T04:40:11-07:00", "subject": "bus: ti-sysc: remove set but not used variable 'quirks'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "e0db94fe87da", "cc_stable": false, "subsystem_prefix": "drivers/bus", "subsystems_touched": ["drivers/bus/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 3, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing an unused variable to fix compiler warning. Low technical impact (1 insertion, 2 deletions) in a non-critical bus subsystem. Complete atomic change with good commit message and maintainer sign-off.", "code_snippet": "@@ -1549,12 +1549,11 @@ static int sysc_rstctrl_reset_deassert(struct sysc *ddata, bool reset)\n  */\n static int sysc_reset(struct sysc *ddata)\n {\n-\tint sysc_offset, syss_offset, sysc_val, rstval, quirks, error = 0;\n+\tint sysc_offset, syss_offset, sysc_val, rstval, error = 0;\n \tu32 sysc_mask, syss_done;\n \n \tsysc_offset = ddata->offsets[SYSC_SYSCONFIG];\n \tsyss_offset = ddata->offsets[SYSC_SYSSTATUS];\n-\tquirks = ddata->cfg.quirks;\n \n \tif (ddata->legacy_mode || sysc_offset < 0 ||\n \t    ddata->cap->regbits->srst_shift < 0 ||\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8a738f4cfaeccce40b171aca6da5fc45433ce60"}
{"commit_hash": "76827087bb3f82f3cc18871633e06a4df36a5ed9", "short_hash": "76827087bb3f", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:40:59+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:36-04:00", "subject": "RDMA/hns: Bugfix for creating qp attached to srq", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "926a01dc000d", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 17, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 17, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for memory leak/crash when creating QP attached to SRQ in RDMA hns driver. Fixes NULL pointer dereference where rq.wrid allocation was skipped for SRQ-attached QPs but cleanup still tried to free it. Code volume small (23 lines), subsystem is infiniband driver (tier 7), cross-org contribution (Huawei to RedHat maintainer), clean Fixes tag and good commit message.", "code_snippet": "@@ -854,11 +854,18 @@ static int hns_roce_create_qp_common(struct hns_roce_dev *hr_dev,\n \n \t\thr_qp->sq.wrid = kcalloc(hr_qp->sq.wqe_cnt, sizeof(u64),\n \t\t\t\t\t GFP_KERNEL);\n-\t\thr_qp->rq.wrid = kcalloc(hr_qp->rq.wqe_cnt, sizeof(u64),\n-\t\t\t\t\t GFP_KERNEL);\n-\t\tif (!hr_qp->sq.wrid || !hr_qp->rq.wrid) {\n+\t\tif (ZERO_OR_NULL_PTR(hr_qp->sq.wrid)) {\n \t\t\tret = -ENOMEM;\n-\t\t\tgoto err_wrid;\n+\t\t\tgoto err_get_bufs;\n+\t\t}\n+\n+\t\tif (hr_qp->rq.wqe_cnt) {\n+\t\t\thr_qp->rq.wrid = kcalloc(hr_qp->rq.wqe_cnt, sizeof(u64),\n+\t\t\t\t\t\t GFP_KERNEL);\n+\t\t\tif (ZERO_OR_NULL_PTR(hr_qp->rq.wrid)) {\n+\t\t\t\tret = -ENOMEM;\n+\t\t\t\tgoto err_sq_wrid;\n+\t\t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76827087bb3f82f3cc18871633e06a4df36a5ed9"}
{"commit_hash": "0e1aa6f0959e053651102c69cde9d6c42fea2a91", "short_hash": "0e1aa6f0959e", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-09T17:40:58+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:36-04:00", "subject": "RDMA/hns: Logic optimization of wc_flags", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 9, "score_impact": 12, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix (3 insertions, 1 deletion) correcting logic error where IB_WC_WITH_VLAN flag was set unconditionally instead of only when VLAN is valid. Code quality improvement with proper flag placement. Reviewed by maintainer Doug Ledford. RDMA driver is tier-8 subsystem.", "code_snippet": "@@ -2860,15 +2860,16 @@ static int hns_roce_v2_poll_one(struct hns_roce_cq *hr_cq,\n \t\twc->smac[5] = roce_get_field(cqe->byte_28,\n \t\t\t\t\t     V2_CQE_BYTE_28_SMAC_5_M,\n \t\t\t\t\t     V2_CQE_BYTE_28_SMAC_5_S);\n+\t\twc->wc_flags |= IB_WC_WITH_SMAC;\n \t\tif (roce_get_bit(cqe->byte_28, V2_CQE_BYTE_28_VID_VLD_S)) {\n \t\t\twc->vlan_id = (u16)roce_get_field(cqe->byte_28,\n \t\t\t\t\t\t\t  V2_CQE_BYTE_28_VID_M,\n \t\t\t\t\t\t\t  V2_CQE_BYTE_28_VID_S);\n+\t\t\twc->wc_flags |= IB_WC_WITH_VLAN;\n \t\t} else {\n \t\t\twc->vlan_id = 0xffff;\n \t\t}\n \n-\t\twc->wc_flags |= (IB_WC_WITH_VLAN | IB_WC_WITH_SMAC);\n \t\twc->network_hdr_type = roce_get_field(cqe->byte_28,\n \t\t\t\t\t\t    V2_CQE_BYTE_28_PORT_TYPE_M,\n \t\t\t\t\t\t    V2_CQE_BYTE_28_PORT_TYPE_S);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e1aa6f0959e053651102c69cde9d6c42fea2a91"}
{"commit_hash": "77905379e9b28a490051b15239bcaf6458d171ee", "short_hash": "77905379e9b2", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:41:04+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:37-04:00", "subject": "RDMA/hns: Remove unuseful member", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 2, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal: unused 'toggle' member from hns_roce_cmdq struct. 2 lines deleted across 2 files. Low impact cleanup maintained by subsystem maintainer. Cross-org contribution (Huawei -> Red Hat maintainer).", "code_snippet": "@@ -211,7 +211,6 @@ int hns_roce_cmd_init(struct hns_roce_dev *hr_dev)\n \tmutex_init(&hr_dev->cmd.hcr_mutex);\n \tsema_init(&hr_dev->cmd.poll_sem, 1);\n \thr_dev->cmd.use_events = 0;\n-\thr_dev->cmd.toggle = 1;\n \thr_dev->cmd.max_cmds = CMD_MAX_NUM;\n \thr_dev->cmd.pool = dma_pool_create(\"hns_roce_cmd\", dev,\n \t\t\t\t\t   HNS_ROCE_MAILBOX_SIZE,\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_device.h b/drivers/infiniband/hw/hns/hns_roce_device.h\nindex 4fffa3da3a87..c7bf738fb137 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_device.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_device.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77905379e9b28a490051b15239bcaf6458d171ee"}
{"commit_hash": "bf8c02f961c89e5ccae5987b7ab28f5592a35101", "short_hash": "bf8c02f961c8", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:41:03+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:37-04:00", "subject": "RDMA/hns: bugfix for slab-out-of-bounds when loading hip08 driver", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-KASAN"], "cve_ids": [], "fixes_tag": "a5073d6054f7", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 19, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KASAN slab-out-of-bounds bugfix in RDMA/hns driver. 6-line change adds bounds checking before accessing buf_dma[1]. Excellent commit message with full KASAN report. Cross-org contribution (Huawei author, Red Hat maintainer). Fixes tag present.", "code_snippet": "@@ -5547,7 +5547,8 @@ static int hns_roce_mhop_alloc_eq(struct hns_roce_dev *hr_dev,\n \t\t\t\tbreak;\n \t\t}\n \t\teq->cur_eqe_ba = eq->buf_dma[0];\n-\t\teq->nxt_eqe_ba = eq->buf_dma[1];\n+\t\tif (ba_num > 1)\n+\t\t\teq->nxt_eqe_ba = eq->buf_dma[1];\n \n \t} else if (mhop_num == 2) {\n \t\t/* alloc L1 BT and buf */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf8c02f961c89e5ccae5987b7ab28f5592a35101"}
{"commit_hash": "9bba3f0cbfc8abf2e1549ea03c0128186081d7a8", "short_hash": "9bba3f0cbfc8", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:41:02+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:37-04:00", "subject": "RDMA/hns: Bugfix for slab-out-of-bounds when unloading hip08 driver", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "a25d13cbe816", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 1, "insertions": 13, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 9, "score_impact": 19, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KASAN slab-out-of-bounds bugfix in RDMA/hns driver. Fix adds bounds checking to prevent array overflow in hns_roce_check_hem_null and hns_roce_table_mhop_get functions. High quality commit with detailed crash dump, Fixes tag, proper cross-org review (Huawei author, RedHat maintainer).", "code_snippet": "@@ -85,12 +85,13 @@ bool hns_roce_check_whether_mhop(struct hns_roce_dev *hr_dev, u32 type)\n }\n \n static bool hns_roce_check_hem_null(struct hns_roce_hem **hem, u64 start_idx,\n-\t\t\t    u32 bt_chunk_num)\n+\t\t\t    u32 bt_chunk_num, u64 hem_max_num)\n {\n-\tint i;\n+\tu64 check_max_num = start_idx + bt_chunk_num;\n+\tu64 i;\n \n-\tfor (i = 0; i < bt_chunk_num; i++)\n-\t\tif (hem[start_idx + i])\n+\tfor (i = start_idx; (i < check_max_num) && (i < hem_max_num); i++)\n+\t\tif (hem[i])\n \t\t\treturn false;\n \n \treturn true;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9bba3f0cbfc8abf2e1549ea03c0128186081d7a8"}
{"commit_hash": "d7e5ca88d60c0b5e166e33bfe356e961824ce0f4", "short_hash": "d7e5ca88d60c", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T17:41:01+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-13T12:32:37-04:00", "subject": "RDMA/hns: Modify pi vlaue when cq overflows", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 8, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix in RDMA driver CQ overflow handling. Changed comparison from == to > to correctly handle boundary condition where prod_index equals cons_index + cqe, which would leave a CQE unprocessed. Small 2-line change in infiniband driver. Cross-org contribution from Huawei to Red Hat maintainer.", "code_snippet": "@@ -2407,7 +2407,7 @@ static void __hns_roce_v2_cq_clean(struct hns_roce_cq *hr_cq, u32 qpn,\n \n \tfor (prod_index = hr_cq->cons_index; get_sw_cqe_v2(hr_cq, prod_index);\n \t     ++prod_index) {\n-\t\tif (prod_index == hr_cq->cons_index + hr_cq->ib_cq.cqe)\n+\t\tif (prod_index > hr_cq->cons_index + hr_cq->ib_cq.cqe)\n \t\t\tbreak;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d7e5ca88d60c0b5e166e33bfe356e961824ce0f4"}
{"commit_hash": "a9a96760165d8781570f2dadeed8e38484b13499", "short_hash": "a9a96760165d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T22:41:56+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-08-13T16:18:12-07:00", "subject": "net: hns3: Make hclge_func_reset_sync_vf static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 10, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to a function. Single-line change (1 insertion, 1 deletion). Properly reviewed through net subsystem (Signed-off-by maintainer Jakub Kicinski). Low impact cleanup change for specific hisilicon driver.", "code_snippet": "@@ -3187,7 +3187,7 @@ static int hclge_set_all_vf_rst(struct hclge_dev *hdev, bool reset)\n \treturn 0;\n }\n \n-int hclge_func_reset_sync_vf(struct hclge_dev *hdev)\n+static int hclge_func_reset_sync_vf(struct hclge_dev *hdev)\n {\n \tstruct hclge_pf_rst_sync_cmd *req;\n \tstruct hclge_desc desc;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9a96760165d8781570f2dadeed8e38484b13499"}
{"commit_hash": "175a60b73b1789dc624d16b8e24f5c3c9114d448", "short_hash": "175a60b73b17", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-25T06:59:40Z", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-08-13T16:37:03+02:00", "subject": "can: sja1000: f81601: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/can", "subsystems_touched": ["drivers/net/can"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused include. Single line deletion (-1). CAN subsystem (tier 6). Cross-org commit from Huawei to Pengutronix maintainer. Clean commit message with proper sign-offs. No testing evidence needed for trivial cleanup.", "code_snippet": "@@ -14,7 +14,6 @@\n #include <linux/pci.h>\n #include <linux/can/dev.h>\n #include <linux/io.h>\n-#include <linux/version.h>\n \n #include \"sja1000.h\"\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/175a60b73b1789dc624d16b8e24f5c3c9114d448"}
{"commit_hash": "5549369cfde0f86799bff110ce46c3721c19e2ca", "short_hash": "5549369cfde0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-25T07:02:17Z", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-08-13T16:37:03+02:00", "subject": "can: kvaser_pciefd: Remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/can"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 9, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused include. Single line deletion (A1=1). CAN subsystem is moderately critical (A2=8). No cross-subsystem impact (A3=0). Cleanup category has low base score (B1=2). No stable tagging or user impact (B2=0, B3=0). No novelty (B4=0). Two Signed-off-by tags show review chain (C1=4). Clear commit message with Reported-by tag (C2=3). No testing evidence (C3=0). Atomic change (C4=3). Cross-org collaboration between Huawei and Pengutronix (D1=2). Maintainer endorsement via second Signed-off-by (D2=2). No community response data (D3=0). Total: 25/100.", "code_snippet": "@@ -7,7 +7,6 @@\n  */\n \n #include <linux/kernel.h>\n-#include <linux/version.h>\n #include <linux/module.h>\n #include <linux/device.h>\n #include <linux/pci.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5549369cfde0f86799bff110ce46c3721c19e2ca"}
{"commit_hash": "7123e1c7ea29f841819900bcf99763aa51ecda58", "short_hash": "7123e1c7ea29", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-25T07:00:44Z", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-08-13T16:40:29+02:00", "subject": "can: ti_hecc: ti_hecc_mailbox_read(): remove set but not used variable 'mbx_mask'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/can", "subsystems_touched": ["drivers/net/can"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": ["Jeroen Hofstee <jhofstee@victronenergy.com> (Victronenergy)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 8, "score_impact": 3, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable to fix gcc warning. Low code volume (-2 lines), driver subsystem (tier 7). Maintenance/cleanup category (base 2). No stable CC, no user impact. Good review chain (Reviewed-by, maintainer Signed-off-by), clear commit message citing warning. Cross-org collaboration (Huawei author, Pengutronix maintainer).", "code_snippet": "@@ -526,9 +526,8 @@ static unsigned int ti_hecc_mailbox_read(struct can_rx_offload *offload,\n \t\t\t\t\t u32 *timestamp, unsigned int mbxno)\n {\n \tstruct ti_hecc_priv *priv = rx_offload_to_priv(offload);\n-\tu32 data, mbx_mask;\n+\tu32 data;\n \n-\tmbx_mask = BIT(mbxno);\n \tdata = hecc_read_mbx(priv, mbxno, HECC_CANMID);\n \tif (data & HECC_CANMID_IDE)\n \t\tcf->can_id = (data & CAN_EFF_MASK) | CAN_EFF_FLAG;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7123e1c7ea29f841819900bcf99763aa51ecda58"}
{"commit_hash": "31fa571c01d869c659d6bc0a7960a55ce314923c", "short_hash": "31fa571c01d8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:43:23+08:00", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-08-13T17:44:48+02:00", "subject": "ALSA: hda/sigmatel - remove unused variable 'stac9200_core_init'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/pci/hda"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 6, "score_impact": 3, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variable reported by Hulk Robot. Simple cleanup with proper maintainer sign-off (Takashi Iwai). Cross-org contribution from Huawei to SUSE maintainer.", "code_snippet": "@@ -975,15 +975,6 @@ static int stac_create_spdif_mux_ctls(struct hda_codec *codec)\n \treturn 0;\n }\n \n-/*\n- */\n-\n-static const struct hda_verb stac9200_core_init[] = {\n-\t/* set dac0mux for dac converter */\n-\t{ 0x07, AC_VERB_SET_CONNECT_SEL, 0x00},\n-\t{}\n-};\n-\n static const struct hda_verb stac9200_eapd_init[] = {\n \t/* set dac0mux for dac converter */\n \t{0x07, AC_VERB_SET_CONNECT_SEL, 0x00},\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31fa571c01d869c659d6bc0a7960a55ce314923c"}
{"commit_hash": "31664caaf4d8f4f6771ca33744297d420f579ed8", "short_hash": "31664caaf4d8", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T21:38:51+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-14T09:37:36+02:00", "subject": "iio:light:noa1305: Fix missing break statement.", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "741172d18e8a", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/light/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["0-DAY kernel test infrastructure"]}, "score_total": 42, "score_technical": 7, "score_impact": 18, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "Bug fix for missing break statement causing fall-through in switch case. Small 1-line change in IIO light sensor driver. Fixes tag references original bug. Reported by kernel test infrastructure. Cross-org contribution from Huawei employee, signed by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -85,6 +85,7 @@ static int noa1305_scale(struct noa1305_priv *priv, int *val, int *val2)\n \tcase NOA1305_INTEGR_TIME_400MS:\n \t\t*val = 100;\n \t\t*val2 = 77 * 4;\n+\t\tbreak;\n \tcase NOA1305_INTEGR_TIME_200MS:\n \t\t*val = 100;\n \t\t*val2 = 77 * 2;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31664caaf4d8f4f6771ca33744297d420f579ed8"}
{"commit_hash": "0a4d8fb229dd78f9e0752817339e19e903b37a60", "short_hash": "0a4d8fb229dd", "author_name": "Tan Xiaojun", "author_email": "tanxiaojun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T11:48:57+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-14T11:00:00-03:00", "subject": "perf record: Support aarch64 random socket_id assignment", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools", "subsystems_touched": ["tools/perf"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Tan Xiaojun <tanxiaojun@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 51, "score_technical": 7, "score_impact": 19, "score_quality": 16, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Bug fix for perf tool crash on aarch64 with socket_id overflow. Small scoped fix (4 lines), good documentation with before/after output, proper review chain (Acked-by, Signed-off-by), includes testing evidence. Cross-company contribution (Huawei to Red Hat maintainer).", "code_snippet": "@@ -2252,8 +2252,10 @@ static int process_cpu_topology(struct feat_fd *ff, void *data __maybe_unused)\n \t/* On s390 the socket_id number is not related to the numbers of cpus.\n \t * The socket_id number might be higher than the numbers of cpus.\n \t * This depends on the configuration.\n+\t * AArch64 is the same.\n \t */\n-\tif (ph->env.arch && !strncmp(ph->env.arch, \"s390\", 4))\n+\tif (ph->env.arch && (!strncmp(ph->env.arch, \"s390\", 4)\n+\t\t\t  || !strncmp(ph->env.arch, \"aarch64\", 7)))\n \t\tdo_core_id_test = false;\n \n \tfor (i = 0; i < (u32)cpu_nr; i++) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0a4d8fb229dd78f9e0752817339e19e903b37a60"}
{"commit_hash": "d00523097a3723ebc89e7752730e81aac65e549d", "short_hash": "d00523097a37", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-08-01T17:36:07+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-08-14T11:05:07+09:30", "subject": "ARM: dts: aspeed: fp5280g2: Fix power supply address", "primary_category": "BUG-OTHER", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm/boot/dts", "subsystems_touched": ["arch/arm/boot/dts/aspeed"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 2, "score_impact": 7, "score_quality": 7, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Device tree fix correcting incorrect I2C address for second power supply unit (PSU1) from 0x5a to 0x59. Minimal code change (2 insertions, 2 deletions) in BMC device tree for Inspur FP5280G2 platform. Cross-company contribution (Inspur author, Aspeed maintainer). Clear commit message explaining the hardware correction.", "code_snippet": "@@ -725,9 +725,9 @@ power-supply@58 {\n \t\treg = <0x58>;\n \t};\n \n-\tpower-supply@5a {\n+\tpower-supply@59 {\n \t\tcompatible = \"pmbus\";\n-\t\treg = <0x5a>;\n+\t\treg = <0x59>;\n \t};\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d00523097a3723ebc89e7752730e81aac65e549d"}
{"commit_hash": "dcc31687b8b9bf92aa1da1afbd7a91b1910f5512", "short_hash": "dcc31687b8b9", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T15:48:48+08:00", "committer_name": "Georgi Djakov", "committer_email": "georgi.djakov@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-15T11:19:12+03:00", "subject": "interconnect: qcom: remove COMPILE_TEST from CONFIG_INTERCONNECT_QCOM_QCS404", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "5e4e6c4d3ae0", "cc_stable": false, "subsystem_prefix": "drivers/interconnect", "subsystems_touched": ["drivers/interconnect/qcom/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Georgi Djakov <georgi.djakov@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 12, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build configuration fix for undefined reference error. Single-line Kconfig change removing COMPILE_TEST dependency to prevent compilation failure when QCOM_SMD_RPM is not set. Good commit message with detailed error logs and root cause analysis. Cross-org contribution (Huawei to Linaro maintainer). Fixes tag present.", "code_snippet": "@@ -8,7 +8,7 @@ config INTERCONNECT_QCOM\n config INTERCONNECT_QCOM_QCS404\n \ttristate \"Qualcomm QCS404 interconnect driver\"\n \tdepends on INTERCONNECT_QCOM\n-\tdepends on QCOM_SMD_RPM || COMPILE_TEST\n+\tdepends on QCOM_SMD_RPM\n \tselect INTERCONNECT_QCOM_SMD_RPM\n \thelp\n \t  This is a driver for the Qualcomm Network-on-Chip on qcs404-based\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dcc31687b8b9bf92aa1da1afbd7a91b1910f5512"}
{"commit_hash": "873343e7d4964fa70cac22e2f7653f510bfaaa11", "short_hash": "873343e7d496", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T20:41:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-15T11:50:37-07:00", "subject": "page_pool: remove unnecessary variable init", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core/page_pool.c"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jesper Dangaard Brouer <brouer@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unnecessary variable initialization. Low code volume (2 lines changed). Core networking subsystem (tier 10). No cross-subsystem impact. Acked-by from Jesper Dangaard Brouer indicates review quality. Minimal testing evidence. Single atomic change.", "code_snippet": "@@ -61,7 +61,7 @@ static int page_pool_init(struct page_pool *pool,\n struct page_pool *page_pool_create(const struct page_pool_params *params)\n {\n \tstruct page_pool *pool;\n-\tint err = 0;\n+\tint err;\n \n \tpool = kzalloc_node(sizeof(*pool), GFP_KERNEL, params->nid);\n \tif (!pool)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/873343e7d4964fa70cac22e2f7653f510bfaaa11"}
{"commit_hash": "630742c296341a8cfe00dfd941392025ba8dd4e8", "short_hash": "630742c29634", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:23:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:01:45+01:00", "subject": "ASoC: es8328: Fix copy-paste error in es8328_right_line_controls", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "567e4f98922c", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 5, "score_impact": 13, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Copy-paste bug in codec driver using wrong enum (es8328_lline_enum instead of es8328_rline_enum) for right line controls. Low code volume (1 line), medium subsystem tier (audio codec), driver bug category. Full review chain with author and maintainer S-o-b tags, good commit message with Fixes tag. Atomic single-line fix. Cross-org contribution from Huawei to community tree maintained by Mark Brown.", "code_snippet": "@@ -228,7 +228,7 @@ static const struct soc_enum es8328_rline_enum =\n \t\t\t      ARRAY_SIZE(es8328_line_texts),\n \t\t\t      es8328_line_texts);\n static const struct snd_kcontrol_new es8328_right_line_controls =\n-\tSOC_DAPM_ENUM(\"Route\", es8328_lline_enum);\n+\tSOC_DAPM_ENUM(\"Route\", es8328_rline_enum);\n \n /* Left Mixer */\n static const struct snd_kcontrol_new es8328_left_mixer_controls[] = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/630742c296341a8cfe00dfd941392025ba8dd4e8"}
{"commit_hash": "9b4275c415acca6264a3d7f1182589959c93d530", "short_hash": "9b4275c415ac", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:01:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:02:02+01:00", "subject": "ASoC: cs4349: Use PM ops 'cs4349_runtime_pm'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e40da86", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 6, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes compiler warning about unused cs4349_runtime_pm by connecting the already-defined PM ops to the driver. Single-line change enabling existing runtime PM functionality. Fixes tag present, reviewed by subsystem maintainer Mark Brown. Low complexity cleanup with minimal user impact.", "code_snippet": "@@ -378,6 +378,7 @@ static struct i2c_driver cs4349_i2c_driver = {\n \t.driver = {\n \t\t.name\t\t= \"cs4349\",\n \t\t.of_match_table\t= cs4349_of_match,\n+\t\t.pm = &cs4349_runtime_pm,\n \t},\n \t.id_table\t= cs4349_i2c_id,\n \t.probe\t\t= cs4349_i2c_probe,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b4275c415acca6264a3d7f1182589959c93d530"}
{"commit_hash": "554b75bde64bcad9662530726d1483f7ef012069", "short_hash": "554b75bde64b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:19:20+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:02:20+01:00", "subject": "ASoC: wm8737: Fix copy-paste error in wm8737_snd_controls", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "2a9ae13a2641", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Charles Keepax <ckeepax@opensource.cirrus.com> (Cirrus)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 4, "score_impact": 7, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial copy-paste bug fix in WM8737 codec driver. Wrong variable used (low_3d instead of high_3d) for 3D High Cut-off control, causing compiler warning and unused variable. Single line change, well-reviewed with Acked-by, fixes tag present. Low user impact as 3D sound enhancement feature likely rarely used.", "code_snippet": "@@ -167,7 +167,7 @@ SOC_DOUBLE(\"Polarity Invert Switch\", WM8737_ADC_CONTROL, 5, 6, 1, 0),\n SOC_SINGLE(\"3D Switch\", WM8737_3D_ENHANCE, 0, 1, 0),\n SOC_SINGLE(\"3D Depth\", WM8737_3D_ENHANCE, 1, 15, 0),\n SOC_ENUM(\"3D Low Cut-off\", low_3d),\n-SOC_ENUM(\"3D High Cut-off\", low_3d),\n+SOC_ENUM(\"3D High Cut-off\", high_3d),\n SOC_SINGLE_TLV(\"3D ADC Volume\", WM8737_3D_ENHANCE, 7, 1, 1, adc_tlv),\n \n SOC_SINGLE(\"Noise Gate Switch\", WM8737_NOISE_GATE, 0, 1, 0),\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/554b75bde64bcad9662530726d1483f7ef012069"}
{"commit_hash": "0faf1237c60a3791d7ff32035d3097d3e022e68f", "short_hash": "0faf1237c60a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:25:01+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:03:21+01:00", "subject": "ASoC: soc-core: Fix -Wunused-const-variable warning", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 6, "score_impact": 3, "score_quality": 7, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 1, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial compiler warning fix adding #ifdef guard. Low code volume (2 insertions), single subsystem (sound/soc), minimal user impact (build warning only). Cross-org contribution (Huawei -> kernel.org Maintainer). Clean atomic fix with good commit message.", "code_snippet": "@@ -73,6 +73,7 @@ static int pmdown_time = 5000;\n module_param(pmdown_time, int, 0);\n MODULE_PARM_DESC(pmdown_time, \"DAPM stream powerdown time (msecs)\");\n \n+#ifdef CONFIG_DMI\n /*\n  * If a DMI filed contain strings in this blacklist (e.g.\n  * \"Type2 - Board Manufacturer\" or \"Type1 - TBD by OEM\"), it will be taken", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0faf1237c60a3791d7ff32035d3097d3e022e68f"}
{"commit_hash": "a9e792d006edbd33724f2eb858887d3b591d82c5", "short_hash": "a9e792d006ed", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:38:11+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:03:39+01:00", "subject": "ASoC: mt2701: remove unused variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek/mt2701/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variables that triggered compiler warnings. Low code volume (-13 lines), single file in ASoC subsystem (tier 4). Well-reviewed with proper tags (Reported-by, Signed-off-by, Link), maintainer applied. No user impact, no stable CC, no cross-org involvement.", "code_snippet": "@@ -796,14 +796,6 @@ static const struct snd_kcontrol_new mt2701_afe_o22_mix[] = {\n \tSOC_DAPM_SINGLE_AUTODISABLE(\"I19 Switch\", AFE_CONN22, 19, 1, 0),\n };\n \n-static const struct snd_kcontrol_new mt2701_afe_o23_mix[] = {\n-\tSOC_DAPM_SINGLE_AUTODISABLE(\"I20 Switch\", AFE_CONN23, 20, 1, 0),\n-};\n-\n-static const struct snd_kcontrol_new mt2701_afe_o24_mix[] = {\n-\tSOC_DAPM_SINGLE_AUTODISABLE(\"I21 Switch\", AFE_CONN24, 21, 1, 0),\n-};\n-\n static const struct snd_kcontrol_new mt2701_afe_o31_mix[] = {\n \tSOC_DAPM_SINGLE_AUTODISABLE(\"I35 Switch\", AFE_CONN41, 9, 1, 0),\n };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9e792d006edbd33724f2eb858887d3b591d82c5"}
{"commit_hash": "57c3ed42f52cdc51f416c93b19708ef6ceb4a00b", "short_hash": "57c3ed42f52c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:39:52+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:03:47+01:00", "subject": "ASoC: mediatek: mt8183-da7219-max98357: remove unused variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variables flagged by compiler warnings. 9 lines deleted from ASoC driver. Cross-org contribution (Huawei->kernel.org) with maintainer sign-off. Good commit message with compiler warning context and Link tag.", "code_snippet": "@@ -116,15 +116,6 @@ static int mt8183_i2s_hw_params_fixup(struct snd_soc_pcm_runtime *rtd,\n \treturn 0;\n }\n \n-static const struct snd_soc_dapm_widget\n-mt8183_da7219_max98357_dapm_widgets[] = {\n-\tSND_SOC_DAPM_OUTPUT(\"IT6505_8CH\"),\n-};\n-\n-static const struct snd_soc_dapm_route mt8183_da7219_max98357_dapm_routes[] = {\n-\t{\"IT6505_8CH\", NULL, \"TDM\"},\n-};\n-\n /* FE */\n SND_SOC_DAILINK_DEFS(playback1,\n \tDAILINK_COMP_ARRAY(COMP_CPU(\"DL1\")),\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/57c3ed42f52cdc51f416c93b19708ef6ceb4a00b"}
{"commit_hash": "d59170b42610c7cbc6e96431ca8357a8bdbf592b", "short_hash": "d59170b42610", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:41:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:03:55+01:00", "subject": "ASoC: mediatek: mt8183-mt6358-ts3a227-max98357: remove unused variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Simple cleanup removing unused const variables reported by Hulk Robot. Low complexity (10 deletions), confined to single ASoC machine driver file. Good commit message with compiler warning context and Reported-by tag. Maintainer signed off directly indicating triviality.", "code_snippet": "@@ -46,16 +46,6 @@ static int mt8183_i2s_hw_params_fixup(struct snd_soc_pcm_runtime *rtd,\n \treturn 0;\n }\n \n-static const struct snd_soc_dapm_widget\n-mt8183_mt6358_ts3a227_max98357_dapm_widgets[] = {\n-\tSND_SOC_DAPM_OUTPUT(\"IT6505_8CH\"),\n-};\n-\n-static const struct snd_soc_dapm_route\n-mt8183_mt6358_ts3a227_max98357_dapm_routes[] = {\n-\t{\"IT6505_8CH\", NULL, \"TDM\"},\n-};\n-\n static int\n mt8183_mt6358_ts3a227_max98357_bt_sco_startup(\n \tstruct snd_pcm_substream *substream)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d59170b42610c7cbc6e96431ca8357a8bdbf592b"}
{"commit_hash": "ccb1fa21ef58a2ac15519bb878470762e967e8b3", "short_hash": "ccb1fa21ef58", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-05T12:56:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:04:04+01:00", "subject": "ASoC: mediatek: mt6358: add delay after dmic clock on", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 12, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix adding 100ms delay to prevent pop noise in MediaTek DMIC hardware. Single driver file change (4 lines) in ASoC codec subsystem. Proper explanation of hardware timing requirement and user-perceptible audio issue. Signed off by maintainer Mark Brown.", "code_snippet": "@@ -1730,6 +1730,10 @@ static int mt6358_dmic_enable(struct mt6358_priv *priv)\n \n \t/* UL turn on */\n \tregmap_write(priv->regmap, MT6358_AFE_UL_SRC_CON0_L, 0x0003);\n+\n+\t/* Prevent pop noise form dmic hw */\n+\tmsleep(100);\n+\n \treturn 0;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ccb1fa21ef58a2ac15519bb878470762e967e8b3"}
{"commit_hash": "c25b456dc579298ac0ed7304f7d06a66288e96df", "short_hash": "c25b456dc579", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T16:54:54+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:04:41+01:00", "subject": "ASoC: cs42l73: remove unused variables 'vsp_output_mux' and 'xsp_output_mux'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing 2 unused static variables (6 lines). Low subsystem tier (sound codec). Well-reviewed with proper tags (Reported-by, Signed-off-by, Link). Maintainer (Mark Brown) committed. No functional impact, no testing needed.", "code_snippet": "@@ -273,12 +273,6 @@ static SOC_ENUM_SINGLE_DECL(xsp_output_mux_enum,\n \t\t\t    CS42L73_MIXERCTL, 4,\n \t\t\t    cs42l73_spo_mixer_text);\n \n-static const struct snd_kcontrol_new vsp_output_mux =\n-\tSOC_DAPM_ENUM(\"Route\", vsp_output_mux_enum);\n-\n-static const struct snd_kcontrol_new xsp_output_mux =\n-\tSOC_DAPM_ENUM(\"Route\", xsp_output_mux_enum);\n-\n static const struct snd_kcontrol_new hp_amp_ctl =\n \tSOC_DAPM_SINGLE(\"Switch\", CS42L73_PWRCTL3, 0, 1, 1);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c25b456dc579298ac0ed7304f7d06a66288e96df"}
{"commit_hash": "bed7f1469f08fd123cdec7a351ef0d875feadcf6", "short_hash": "bed7f1469f08", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:01:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:05:00+01:00", "subject": "ASoC: cs4349: Use PM ops 'cs4349_runtime_pm'", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e40da86", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 4, "score_impact": 8, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Compiler warning fix enabling unused PM ops. Single line addition, low subsystem impact. Good commit quality with Fixes tag, Link, proper signoffs. Cross-org contribution (Huawei -> Kernel.org maintainer). Maintainer endorsement present.", "code_snippet": "@@ -378,6 +378,7 @@ static struct i2c_driver cs4349_i2c_driver = {\n \t.driver = {\n \t\t.name\t\t= \"cs4349\",\n \t\t.of_match_table\t= cs4349_of_match,\n+\t\t.pm = &cs4349_runtime_pm,\n \t},\n \t.id_table\t= cs4349_i2c_id,\n \t.probe\t\t= cs4349_i2c_probe,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bed7f1469f08fd123cdec7a351ef0d875feadcf6"}
{"commit_hash": "9d22142c9b1ec8612b880121dd0bc27311cbb2b5", "short_hash": "9d22142c9b1e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:04:04+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:05:18+01:00", "subject": "ASoC: max98371: remove unused variable 'max98371_noload_gain_tlv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing 4 lines of unused variable in ASoC codec driver. Low complexity (A1=1), low subsystem tier (sound codec, A2=3), minimal impact (B1=2, B3=0). Good commit message with compiler warning context and reported-by tag (C2=4). Clean atomic change (C4=3). Cross-org contribution from Huawei to maintainer Mark Brown (D1=2, D2=4).", "code_snippet": "@@ -154,10 +154,6 @@ static const DECLARE_TLV_DB_RANGE(max98371_gain_tlv,\n \t8, 10, TLV_DB_SCALE_ITEM(400, 100, 0)\n );\n \n-static const DECLARE_TLV_DB_RANGE(max98371_noload_gain_tlv,\n-\t0, 11, TLV_DB_SCALE_ITEM(950, 100, 0),\n-);\n-\n static const DECLARE_TLV_DB_SCALE(digital_tlv, -6300, 50, 1);\n \n static const struct snd_kcontrol_new max98371_snd_controls[] = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d22142c9b1ec8612b880121dd0bc27311cbb2b5"}
{"commit_hash": "5b366753c1c12feead0ae53b45482f569ed5399c", "short_hash": "5b366753c1c1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:06:02+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:05:36+01:00", "subject": "ASoC: rt1011: remove unused variable 'dac_vol_tlv' and 'adc_vol_tlv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused static variables to fix compiler warnings. Single file, single subsystem (sound/soc/codecs - audio codec driver tier 5). Low technical impact (0 insertions, 3 deletions). Cross-org contribution (Huawei author, kernel.org maintainer merge). Clean commit message with compiler warning context and proper Signed-off-by/Link tags.", "code_snippet": "@@ -978,9 +978,6 @@ static bool rt1011_readable_register(struct device *dev, unsigned int reg)\n \t}\n }\n \n-static const DECLARE_TLV_DB_SCALE(dac_vol_tlv, -9435, 37, 0);\n-static const DECLARE_TLV_DB_SCALE(adc_vol_tlv, -1739, 37, 0);\n-\n static const char * const rt1011_din_source_select[] = {\n \t\"Left\",\n \t\"Right\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5b366753c1c12feead0ae53b45482f569ed5399c"}
{"commit_hash": "ab0ac2707784a966927c229752849c343bd1dbbf", "short_hash": "ab0ac2707784", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:15:34+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:05:55+01:00", "subject": "ASoC: tlv320aic23: remove unused variable 'tlv320aic23_rec_src'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable flagged by compiler warning. Driver subsystem (tier 3). Low impact (2 deletions, no functional change). Good commit quality with clear justification and maintainer sign-off.", "code_snippet": "@@ -67,8 +67,6 @@ static SOC_ENUM_SINGLE_DECL(rec_src_enum,\n static const struct snd_kcontrol_new tlv320aic23_rec_src_mux_controls =\n SOC_DAPM_ENUM(\"Input Select\", rec_src_enum);\n \n-static SOC_ENUM_SINGLE_DECL(tlv320aic23_rec_src,\n-\t\t\t    TLV320AIC23_ANLG, 2, rec_src_text);\n static SOC_ENUM_SINGLE_DECL(tlv320aic23_deemph,\n \t\t\t    TLV320AIC23_DIGT, 1, deemph_text);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ab0ac2707784a966927c229752849c343bd1dbbf"}
{"commit_hash": "6d6376b143d59ab1b8635807c78d224d03580418", "short_hash": "6d6376b143d5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:17:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:06:13+01:00", "subject": "ASoC: tlv320aic31xx: remove unused variable 'cm_m_enum'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variable. Single-line deletion with clear build warning motivation. Maintainer-reviewed and signed. Low impact driver subsystem change.", "code_snippet": "@@ -258,7 +258,6 @@ static SOC_ENUM_SINGLE_DECL(mic1rp_p_enum, AIC31XX_MICPGAPI, 4,\n static SOC_ENUM_SINGLE_DECL(mic1lm_p_enum, AIC31XX_MICPGAPI, 2,\n \tmic_select_text);\n \n-static SOC_ENUM_SINGLE_DECL(cm_m_enum, AIC31XX_MICPGAMI, 6, mic_select_text);\n static SOC_ENUM_SINGLE_DECL(mic1lm_m_enum, AIC31XX_MICPGAMI, 4,\n \tmic_select_text);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d6376b143d59ab1b8635807c78d224d03580418"}
{"commit_hash": "97d39be9ce5befc2e36f15d0df33832e0f633565", "short_hash": "97d39be9ce5b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:20:56+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:06:31+01:00", "subject": "ASoC: es8328: remove unused variable 'pga_tlv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable pga_tlv from es8328 audio codec driver. Reported by automated Hulk Robot tool. Single line deletion, no functional change. Low subsystem tier (sound/soc/codecs). Good commit message with Reported-by tag. Maintainer (Mark Brown) signed off.", "code_snippet": "@@ -99,7 +99,6 @@ static SOC_ENUM_SINGLE_DECL(adcpol,\n \n static const DECLARE_TLV_DB_SCALE(play_tlv, -3000, 100, 0);\n static const DECLARE_TLV_DB_SCALE(dac_adc_tlv, -9600, 50, 0);\n-static const DECLARE_TLV_DB_SCALE(pga_tlv, 0, 300, 0);\n static const DECLARE_TLV_DB_SCALE(bypass_tlv, -1500, 300, 0);\n static const DECLARE_TLV_DB_SCALE(mic_tlv, 0, 300, 0);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97d39be9ce5befc2e36f15d0df33832e0f633565"}
{"commit_hash": "d63887bc4f50fede7013bda7c733d58ecc43efc1", "short_hash": "d63887bc4f50", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:23:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:06:49+01:00", "subject": "ASoC: es8328: Fix copy-paste error in es8328_right_line_controls", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "567e4f98922c", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 6, "score_impact": 14, "score_quality": 12, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 2, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Copy-paste bug fix in audio codec driver - wrong enum variable used in right line controls. Fixes tag present. Cross-org contribution from Huawei to kernel.org maintainer. Clean atomic fix with proper commit message.", "code_snippet": "@@ -227,7 +227,7 @@ static const struct soc_enum es8328_rline_enum =\n \t\t\t      ARRAY_SIZE(es8328_line_texts),\n \t\t\t      es8328_line_texts);\n static const struct snd_kcontrol_new es8328_right_line_controls =\n-\tSOC_DAPM_ENUM(\"Route\", es8328_lline_enum);\n+\tSOC_DAPM_ENUM(\"Route\", es8328_rline_enum);\n \n /* Left Mixer */\n static const struct snd_kcontrol_new es8328_left_mixer_controls[] = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d63887bc4f50fede7013bda7c733d58ecc43efc1"}
{"commit_hash": "e33d565795930d0341bb946aec457a814ccd53e6", "short_hash": "e33d56579593", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:24:36+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:07:07+01:00", "subject": "ASoC: cs42l56: remove unused variable 'adc_swap_enum'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in ASoC codec driver. Very low technical impact (1 line, 8 deletions). Cross-org contribution from Huawei to maintainer Mark Brown. Good commit message with warning context and reported-by tag. High maintainer endorsement (signed off by subsystem maintainer). No user impact, no stable CC.", "code_snippet": "@@ -199,14 +199,6 @@ static const struct soc_enum beep_bass_enum =\n \tSOC_ENUM_SINGLE(CS42L56_BEEP_TONE_CFG, 1,\n \t\t\tARRAY_SIZE(beep_bass_text), beep_bass_text);\n \n-static const char * const adc_swap_text[] = {\n-\t\"None\", \"A+B/2\", \"A-B/2\", \"Swap\"\n-};\n-\n-static const struct soc_enum adc_swap_enum =\n-\tSOC_ENUM_SINGLE(CS42L56_MISC_ADC_CTL, 3,\n-\t\t\tARRAY_SIZE(adc_swap_text), adc_swap_text);\n-\n static const char * const pgaa_mux_text[] = {\n \t\"AIN1A\", \"AIN2A\", \"AIN3A\"};\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e33d565795930d0341bb946aec457a814ccd53e6"}
{"commit_hash": "12f0bfadf69bb154052722e7e4e5cd1639044c76", "short_hash": "12f0bfadf69b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-15T17:25:47+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T15:07:25+01:00", "subject": "ASoC: 88pm860x: remove unused variables 'pcm_switch_controls' and 'aif1_mux'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 15, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variables reported by Hulk Robot. Low complexity (15 deletions, single file, single subsystem). Sound codec driver is mid-tier subsystem. Proper review chain with maintainer endorsement. No user impact or testing evidence.", "code_snippet": "@@ -529,10 +529,6 @@ static const struct snd_kcontrol_new pm860x_snd_controls[] = {\n  * DAPM Controls\n  */\n \n-/* PCM Switch / PCM Interface */\n-static const struct snd_kcontrol_new pcm_switch_controls =\n-\tSOC_DAPM_SINGLE(\"Switch\", PM860X_ADC_EN_2, 0, 1, 0);\n-\n /* AUX1 Switch */\n static const struct snd_kcontrol_new aux1_switch_controls =\n \tSOC_DAPM_SINGLE(\"Switch\", PM860X_ANA_TO_ANA, 4, 1, 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/12f0bfadf69bb154052722e7e4e5cd1639044c76"}
{"commit_hash": "5c0861989cc197c29433915774f805299a497977", "short_hash": "5c0861989cc1", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-14T17:28:37+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:12+10:00", "subject": "crypto: hisilicon - init curr_sgl_dma to fix compile warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "dfed0098ab91", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 19, "score_technical": 3, "score_impact": 1, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal 1-line fix initializing a variable to resolve a compiler warning. Low subsystem impact (crypto driver). Trivial build fix with maintainer sign-off. No functional change, testing evidence, or user impact.", "code_snippet": "@@ -150,7 +150,7 @@ hisi_acc_sg_buf_map_to_hw_sgl(struct device *dev,\n \t\t\t      u32 index, dma_addr_t *hw_sgl_dma)\n {\n \tstruct hisi_acc_hw_sgl *curr_hw_sgl;\n-\tdma_addr_t curr_sgl_dma;\n+\tdma_addr_t curr_sgl_dma = 0;\n \tstruct acc_hw_sge *curr_hw_sge;\n \tstruct scatterlist *sg;\n \tint sg_n = sg_nents(sgl);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5c0861989cc197c29433915774f805299a497977"}
{"commit_hash": "db01e4818bbdab626c78747dd8f494d586ac968d", "short_hash": "db01e4818bbd", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-14T17:28:36+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:12+10:00", "subject": "crypto: hisilicon - add dependency for CRYPTO_DEV_HISI_ZIP", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "62c455ca853e", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 37, "score_technical": 7, "score_impact": 11, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix adding missing Kconfig dependencies (ARM64, PCI, PCI_MSI) for HiSilicon ZIP crypto driver. Small 1-line change with clear Fixes tag addressing build dependency issue reported by kbuild test robot. Crypto subsystem tier 6. Maintainer-signed.", "code_snippet": "@@ -30,6 +30,7 @@ config CRYPTO_HISI_SGL\n \n config CRYPTO_DEV_HISI_ZIP\n \ttristate \"Support for HiSilicon ZIP accelerator\"\n+\tdepends on ARM64 && PCI && PCI_MSI\n \tselect CRYPTO_DEV_HISI_QM\n \tselect CRYPTO_HISI_SGL\n \tselect SG_SPLIT\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db01e4818bbdab626c78747dd8f494d586ac968d"}
{"commit_hash": "00ae05db583a7b5d5575bb601158139e25af3b02", "short_hash": "00ae05db583a", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-14T17:28:35+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:12+10:00", "subject": "crypto: hisilicon - fix kbuild warnings", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "263c9959c937", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 30, "score_technical": 7, "score_impact": 7, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Kbuild warning fix for type safety in debug print statements. Corrected format specifiers for dma_addr_t (%pad) and size_t (%zx). Small, localized change fixing incorrect type usage that could cause memory corruption on 32-bit architectures or incorrect debug output. Includes proper Fixes tag and reporter attribution. Maintainer Herbert Xu signed off.", "code_snippet": "@@ -347,7 +347,7 @@ static int qm_mb(struct hisi_qm *qm, u8 cmd, dma_addr_t dma_addr, u16 queue,\n \tstruct qm_mailbox mailbox;\n \tint ret = 0;\n \n-\tdev_dbg(&qm->pdev->dev, \"QM mailbox request to q%u: %u-%llx\\n\", queue,\n+\tdev_dbg(&qm->pdev->dev, \"QM mailbox request to q%u: %u-%pad\\n\", queue,\n \t\tcmd, dma_addr);\n \n \tmailbox.w0 = cmd |", "flags": ["HAS_FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/00ae05db583a7b5d5575bb601158139e25af3b02"}
{"commit_hash": "1ed2002f891dc1082eb110eaafccfde96d327aa3", "short_hash": "1ed2002f891d", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-14T17:28:39+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:13+10:00", "subject": "crypto: hisilicon - fix error handle in hisi_zip_create_req_q", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "62c455ca853e", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon/zip"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 5, "score_impact": 10, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small fix (6 lines) for resource leak in HiSilicon ZIP crypto driver. Fixes memory allocation error handling - original code had incorrect condition (i==1 instead of i==0) that could cause resource leak on first iteration failure. Low subsystem tier (crypto driver), moderate impact (driver-specific, no user-facing), good quality (includes Fixes tag, signed-off by both author and maintainer Herbert Xu). Cross-org contribution (Hisilicon author, upstream maintainer commit).", "code_snippet": "@@ -223,8 +223,10 @@ static int hisi_zip_create_req_q(struct hisi_zip_ctx *ctx)\n \t\t\t\t\t    sizeof(long), GFP_KERNEL);\n \t\tif (!req_q->req_bitmap) {\n \t\t\tret = -ENOMEM;\n-\t\t\tif (i == 1)\n-\t\t\t\tgoto err_free_loop0;\n+\t\t\tif (i == 0)\n+\t\t\t\treturn ret;\n+\n+\t\t\tgoto err_free_loop0;\n \t\t}\n \t\trwlock_init(&req_q->req_lock);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1ed2002f891dc1082eb110eaafccfde96d327aa3"}
{"commit_hash": "902f0babf5457578f6bfb9b6ac952c55c4482cb7", "short_hash": "902f0babf545", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-14T17:28:38+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:13+10:00", "subject": "crypto: hisilicon - add missing single_release", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "263c9959c937", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 10, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line fix adding missing single_release in file_operations to prevent resource leak. Fixes tag present indicating this addresses a bug introduced by commit 263c9959c937. Signed off by maintainer Herbert Xu. Crypto subsystem is security-sensitive but this is debugfs-related leak not security-critical.", "code_snippet": "@@ -958,6 +958,7 @@ static const struct file_operations qm_regs_fops = {\n \t.owner = THIS_MODULE,\n \t.open = qm_regs_open,\n \t.read = seq_read,\n+\t.release = single_release,\n };\n \n static int qm_create_debugfs_file(struct hisi_qm *qm, enum qm_debug_file index)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/902f0babf5457578f6bfb9b6ac952c55c4482cb7"}
{"commit_hash": "440dc9aab5286aec46b6bdf061c6eec4fd53887f", "short_hash": "440dc9aab528", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:49:05+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:14+10:00", "subject": "crypto: streebog - remove two unused variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 46, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Vitaly Chikunov <vt@altlinux.org> (Altlinux)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 10, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused constants (Pi, Tau) in crypto driver. Well-reviewed with Reviewed-by tag from maintainer. Cross-org contribution from Huawei accepted by crypto subsystem maintainer. Low functional impact as code was unused.", "code_snippet": "@@ -148,52 +148,6 @@ static const struct streebog_uint512 C[12] = {\n \t } }\n };\n \n-static const u8 Tau[64] = {\n-\t0,   8,  16,  24,  32,  40,  48,  56,\n-\t1,   9,  17,  25,  33,  41,  49,  57,\n-\t2,  10,  18,  26,  34,  42,  50,  58,\n-\t3,  11,  19,  27,  35,  43,  51,  59,\n-\t4,  12,  20,  28,  36,  44,  52,  60,\n-\t5,  13,  21,  29,  37,  45,  53,  61,\n-\t6,  14,  22,  30,  38,  46,  54,  62,\n-\t7,  15,  23,  31,  39,  47,  55,  63\n-};\n-\n-static const u8 Pi[256] = {\n-\t252, 238, 221,  17, 207, 110,  49,  22,\n-\t251, 196, 250, 218,  35, 197,   4,  77,\n-\t233, 119, 240, 219, 147,  46, 153, 186,\n-\t 23,  54, 241, 187,  20, 205,  95, 193,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/440dc9aab5286aec46b6bdf061c6eec4fd53887f"}
{"commit_hash": "c2ccfa9ed7fbe0924782363c56b462f23e9c91ab", "short_hash": "c2ccfa9ed7fb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:29:19+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-15T21:52:14+10:00", "subject": "crypto: aes-generic - remove unused variable 'rco_tab'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ard Biesheuvel <ard.biesheuvel@linaro.org> (Linaro)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 9, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variable 'rco_tab' reported by Hulk Robot. Low technical impact (2 deletions, 0 insertions) in crypto subsystem. Good review chain with Acked-by from maintainer Ard Biesheuvel and Signed-off-by from subsystem maintainer Herbert Xu. Clear commit message with compiler warning context. Atomic cleanup with no functional changes.", "code_snippet": "@@ -61,8 +61,6 @@ static inline u8 byte(const u32 x, const unsigned n)\n \treturn x >> (n << 3);\n }\n \n-static const u32 rco_tab[10] = { 1, 2, 4, 8, 16, 32, 64, 128, 27, 54 };\n-\n /* cacheline-aligned to facilitate prefetching into cache */\n __visible const u32 crypto_ft_tab[4][256] ____cacheline_aligned = {\n \t{\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2ccfa9ed7fbe0924782363c56b462f23e9c91ab"}
{"commit_hash": "e03250061b54041d3502696db421c44a4a8039f4", "short_hash": "e03250061b54", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T02:40:44Z", "committer_name": "Alexei Starovoitov", "committer_email": "ast@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-15T22:18:17-07:00", "subject": "btf: fix return value check in btf_vmlinux_init()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "341dfcf8d78e", "cc_stable": false, "subsystem_prefix": "kernel/bpf", "subsystems_touched": ["kernel/bpf"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Alexei Starovoitov <ast@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Andrii Nakryiko <andriin@fb.com> (Fb)"], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 18, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error handling in BTF sysfs initialization. Uses IS_ERR() instead of NULL check for kobject_create_and_add(). Fixes: tag present, Acked-by maintainer. Small scope (single function), BPF subsystem is moderately critical.", "code_snippet": "@@ -30,17 +30,12 @@ static struct kobject *btf_kobj;\n \n static int __init btf_vmlinux_init(void)\n {\n-\tint err;\n-\n \tif (!_binary__btf_vmlinux_bin_start)\n \t\treturn 0;\n \n \tbtf_kobj = kobject_create_and_add(\"btf\", kernel_kobj);\n-\tif (IS_ERR(btf_kobj)) {\n-\t\terr = PTR_ERR(btf_kobj);\n-\t\tbtf_kobj = NULL;\n-\t\treturn err;\n-\t}\n+\tif (!btf_kobj)\n+\t\treturn -ENOMEM;\n \n \tbin_attr_btf_vmlinux.size = _binary__btf_vmlinux_bin_end -\n \t\t\t\t    _binary__btf_vmlinux_bin_start;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e03250061b54041d3502696db421c44a4a8039f4"}
{"commit_hash": "0c26a3345b4f402b87d9be00df4d3054cd8ba46f", "short_hash": "0c26a3345b4f", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-07-29T09:32:24+08:00", "committer_name": "Wei Xu", "committer_email": "xuwei5@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-08-16T09:36:07+08:00", "subject": "arm64: defconfig: Enable CONFIG_ACPI_APEI_PCIEAER", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/configs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Wei Xu <xuwei5@hisilicon.com> (HiSilicon)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 11, "score_quality": 12, "score_community": 0, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Single-line config change enabling ACPI APEI PCIe AER support for Hisilicon D06 board. Low complexity (A1=1), high-tier subsystem (A2=8), feature addition (B1=8), moderate message quality (C2=5), atomic change (C4=3).", "code_snippet": "@@ -95,6 +95,7 @@ CONFIG_IMX_SCU_PD=y\n CONFIG_ACPI=y\n CONFIG_ACPI_APEI=y\n CONFIG_ACPI_APEI_GHES=y\n+CONFIG_ACPI_APEI_PCIEAER=y\n CONFIG_ACPI_APEI_MEMORY_FAILURE=y\n CONFIG_ACPI_APEI_EINJ=y\n CONFIG_VIRTUALIZATION=y\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c26a3345b4f402b87d9be00df4d3054cd8ba46f"}
{"commit_hash": "ac887be5b0fea53104fd6e2e5c904fb85f171f78", "short_hash": "ac887be5b0fe", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:12-07:00", "subject": "net: hns3: change print level of RAS error log from warning to error", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 44, "deletions": 44, "hunks": 28, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 6, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a logging-level change for RAS (Reliability, Availability, Serviceability) error reporting in the Hisilicon HNS3 network driver. The commit changes dev_warn/dev_info to dev_err for hardware error conditions and fixes format specifiers (%d to %u). Technical impact is minimal (44 insertions, 44 deletions) - purely mechanical changes across a single file. The driver-specific changes affect a vendor-specific network driver (tier 8). Quality score benefits from proper maintainer sign-off chain (4 sign-offs including David S. Miller) and good commit message explaining the rationale. Cross-org collaboration is present but same company (Huawei/Hisilicon). No CVEs, stable tags, or testing evidence.", "code_snippet": "@@ -637,8 +637,8 @@ static void hclge_log_error(struct device *dev, char *reg,\n {\n \twhile (err->msg) {\n \t\tif (err->int_msk & err_sts) {\n-\t\t\tdev_warn(dev, \"%s %s found [error status=0x%x]\\n\",\n-\t\t\t\t reg, err->msg, err_sts);\n+\t\t\tdev_err(dev, \"%s %s found [error status=0x%x]\\n\",\n+\t\t\t\treg, err->msg, err_sts);\n \t\t\tif (err->reset_level &&\n \t\t\t    err->reset_level != HNAE3_NONE_RESET)\n \t\t\t\tset_bit(err->reset_level, reset_requests);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac887be5b0fea53104fd6e2e5c904fb85f171f78"}
{"commit_hash": "37417c6625cae97762d7095863b0cf5a127f1c4e", "short_hash": "37417c6625ca", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:12-07:00", "subject": "net: hns3: fix error and incorrect format", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 4, "insertions": 6, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jian Shen <shenjian15@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 12, "score_quality": 7, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small bugfix (12 lines) in HNS3 ethernet driver fixing const correctness and uninitialized variable return. Multiple co-signed acknowledgments indicate good internal review. Fixes potential bugs but low user impact. Network subsystem tier 7.", "code_snippet": "@@ -46,7 +46,7 @@ void hnae3_set_client_init_flag(struct hnae3_client *client,\n EXPORT_SYMBOL(hnae3_set_client_init_flag);\n \n static int hnae3_get_client_init_flag(struct hnae3_client *client,\n-\t\t\t\t       struct hnae3_ae_dev *ae_dev)\n+\t\t\t\t      struct hnae3_ae_dev *ae_dev)\n {\n \tint inited = 0;\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\nindex 42606538bb01..0332d6fb4c0d 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/37417c6625cae97762d7095863b0cf5a127f1c4e"}
{"commit_hash": "cdd332accd4a93ac17d86024d52971d387b9a042", "short_hash": "cdd332accd4a", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:12-07:00", "subject": "net: hns3: modify redundant initialization of variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 6, "insertions": 8, "deletions": 9, "hunks": 18, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huzhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 4, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit removing redundant variable initializations in the hns3 network driver. The commit removes 9 lines and adds 8 lines across 6 files, eliminating unnecessary initialization of variables that are always set before use. The code quality is good with proper review chain (4 sign-offs including maintainer David S. Miller). Low technical impact as it's purely cleanup with no functional changes.", "code_snippet": "@@ -1557,8 +1557,8 @@ int hclge_config_rocee_ras_interrupt(struct hclge_dev *hdev, bool en)\n \n static void hclge_handle_rocee_ras_error(struct hnae3_ae_dev *ae_dev)\n {\n-\tenum hnae3_reset_type reset_type = HNAE3_NONE_RESET;\n \tstruct hclge_dev *hdev = ae_dev->priv;\n+\tenum hnae3_reset_type reset_type;\n \n \tif (test_bit(HCLGE_STATE_RST_HANDLING, &hdev->state) ||\n \t    hdev->pdev->revision < 0x21)\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\nindex f30d1126d378..e829101d576c 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cdd332accd4a93ac17d86024d52971d387b9a042"}
{"commit_hash": "46ee73508cbbfcb03216823043a2e24764f18664", "short_hash": "46ee73508cbb", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:12-07:00", "subject": "net: hns3: add or modify comments", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 8, "insertions": 27, "deletions": 25, "hunks": 34, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: TIMEOUT. This commit needs to be re-analyzed.", "code_snippet": "@@ -85,10 +85,10 @@ struct hnae3_queue {\n \tvoid __iomem *io_base;\n \tstruct hnae3_ae_algo *ae_algo;\n \tstruct hnae3_handle *handle;\n-\tint tqp_index;\t/* index in a handle */\n-\tu32 buf_size;\t/* size for hnae_desc->addr, preset by AE */\n-\tu16 tx_desc_num;/* total number of tx desc */\n-\tu16 rx_desc_num;/* total number of rx desc */\n+\tint tqp_index;\t\t/* index in a handle */\n+\tu32 buf_size;\t\t/* size for hnae_desc->addr, preset by AE */\n+\tu16 tx_desc_num;\t/* total number of tx desc */\n+\tu16 rx_desc_num;\t/* total number of rx desc */\n };\n \n struct hns3_mac_stats {", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/46ee73508cbbfcb03216823043a2e24764f18664"}
{"commit_hash": "20981a1e6b708536493e10ba90016ae28a9f3749", "short_hash": "20981a1e6b70", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:13-07:00", "subject": "net: hns3: prevent unnecessary MAC TNL interrupt", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "a63457878b12", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 11, "score_impact": 14, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small 2-line change to disable unnecessary MAC TNL interrupt during netdev stop, preventing noise in statistics. Has Fixes tag and proper review chain. Driver-specific optimization with modest impact.", "code_snippet": "@@ -6380,6 +6380,8 @@ static void hclge_ae_stop(struct hnae3_handle *handle)\n \tfor (i = 0; i < handle->kinfo.num_tqps; i++)\n \t\thclge_reset_tqp(handle, i);\n \n+\thclge_config_mac_tnl_int(hdev, false);\n+\n \t/* Mac disable */\n \thclge_cfg_mac_mode(hdev, false);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/20981a1e6b708536493e10ba90016ae28a9f3749"}
{"commit_hash": "1bef61fc7eedf6ac341fd73574c85ae199ca9aae", "short_hash": "1bef61fc7eed", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T16:09:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T12:59:13-07:00", "subject": "net: hns3: add phy_attached_info() to the hns3 driver", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 9, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Adds phy_attached_info() diagnostic call to hns3 driver for PHY identification. Very small change (2 insertions, 0 deletions) in a single driver file. Reviewed internally at Huawei with 3 developers. Features like this (diagnostic improvements) are typically low to moderate impact. The review chain shows strong internal review but no external maintainers beyond David S. Miller's signoff.", "code_snippet": "@@ -231,6 +231,8 @@ int hclge_mac_connect_phy(struct hnae3_handle *handle)\n \tlinkmode_clear_bit(ETHTOOL_LINK_MODE_Asym_Pause_BIT,\n \t\t\t   phydev->advertising);\n \n+\tphy_attached_info(phydev);\n+\n \treturn 0;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1bef61fc7eedf6ac341fd73574c85ae199ca9aae"}
{"commit_hash": "20e79a0a2cfd15b6cfb18119f2e108396be56716", "short_hash": "20e79a0a2cfd", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-17T10:21:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-18T14:21:59-07:00", "subject": "net: hns: add phy_attached_info() to the hns driver", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 6, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small diagnostic enhancement adding phy_attached_info() call for better PHY identification. Single line addition, good commit message with Suggested-by tag, proper sign-off chain including maintainer David S. Miller.", "code_snippet": "@@ -1182,6 +1182,8 @@ int hns_nic_init_phy(struct net_device *ndev, struct hnae_handle *h)\n \tif (unlikely(ret))\n \t\treturn -ENODEV;\n \n+\tphy_attached_info(phy_dev);\n+\n \treturn 0;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/20e79a0a2cfd15b6cfb18119f2e108396be56716"}
{"commit_hash": "3efdf83ca0f9d3149f8c2201dad86a74fd952f91", "short_hash": "3efdf83ca0f9", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-14T04:48:14Z", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-19T11:32:40-05:00", "subject": "drm/panfrost: Fix missing unlock on error in panfrost_mmu_map_fault_addr()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "187d2929206e", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/panfrost"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": ["Steven Price <steven.price@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 11, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Fixes missing mutex_unlock on error paths in panfrost MMU fault handling. Small change (5 lines) to GPU driver subsystem with moderate criticality. Has proper Fixes tag and Reviewed-by tag, indicating good review process. Cross-company contribution from Huawei to ARM-maintained driver. Medium user impact as lock leak could cause system hangs in GPU fault scenarios.", "code_snippet": "@@ -327,14 +327,17 @@ int panfrost_mmu_map_fault_addr(struct panfrost_device *pfdev, int as, u64 addr)\n \tif (!bo->base.pages) {\n \t\tbo->sgts = kvmalloc_array(bo->base.base.size / SZ_2M,\n \t\t\t\t     sizeof(struct sg_table), GFP_KERNEL | __GFP_ZERO);\n-\t\tif (!bo->sgts)\n+\t\tif (!bo->sgts) {\n+\t\t\tmutex_unlock(&bo->base.pages_lock);\n \t\t\treturn -ENOMEM;\n+\t\t}\n \n \t\tpages = kvmalloc_array(bo->base.base.size >> PAGE_SHIFT,\n \t\t\t\t       sizeof(struct page *), GFP_KERNEL | __GFP_ZERO);\n \t\tif (!pages) {\n \t\t\tkfree(bo->sgts);\n \t\t\tbo->sgts = NULL;\n+\t\t\tmutex_unlock(&bo->base.pages_lock);\n \t\t\treturn -ENOMEM;\n \t\t}\n \t\tbo->base.pages = pages;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3efdf83ca0f9d3149f8c2201dad86a74fd952f91"}
{"commit_hash": "ee050dc83bc326ad5ef8ee93bca344819371e7a5", "short_hash": "ee050dc83bc3", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-15T19:32:46+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-08-19T12:57:28+02:00", "subject": "lib/stackdepot: Fix outdated comments", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "lib", "subsystems_touched": ["lib/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 15, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Comment-only update fixing outdated function name references in lib/stackdepot. No functional code changes, very low technical impact (1 line changed). Proper message with references to prior commits. Maintainer sign-off present.", "code_snippet": "@@ -87,7 +87,7 @@ static bool init_stack_slab(void **prealloc)\n \t\tstack_slabs[depot_index + 1] = *prealloc;\n \t\t/*\n \t\t * This smp_store_release pairs with smp_load_acquire() from\n-\t\t * |next_slab_inited| above and in depot_save_stack().\n+\t\t * |next_slab_inited| above and in stack_depot_save().\n \t\t */\n \t\tsmp_store_release(&next_slab_inited, 1);\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee050dc83bc326ad5ef8ee93bca344819371e7a5"}
{"commit_hash": "af809709e9df2a44137429ba3694c339a11b710d", "short_hash": "af809709e9df", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-19T20:05:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-19T18:22:54-07:00", "subject": "net: remove empty inet_exit_net", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 11, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal: empty inet_exit_net() function deleted. Core networking subsystem (tier 10). Clean, atomic change with proper maintainer sign-off. No bug fix or feature - pure cleanup removing redundant exit handler since static NULL pointer initialization is safe. Low user impact but improves code cleanliness.", "code_snippet": "@@ -1845,13 +1845,8 @@ static __net_init int inet_init_net(struct net *net)\n \treturn 0;\n }\n \n-static __net_exit void inet_exit_net(struct net *net)\n-{\n-}\n-\n static __net_initdata struct pernet_operations af_inet_ops = {\n \t.init = inet_init_net,\n-\t.exit = inet_exit_net,\n };\n \n static int __init init_inet_pernet_ops(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af809709e9df2a44137429ba3694c339a11b710d"}
{"commit_hash": "8084499bd7d44b2c96658d788e329f3c232eb050", "short_hash": "8084499bd7d4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T09:56:02+08:00", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-08-19T22:15:37+01:00", "subject": "irqchip/irq-ingenic-tcu: Fix COMPILE_TEST building", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "9536eba03ec7", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 40, "score_technical": 8, "score_impact": 12, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for COMPILE_TEST configuration missing GENERIC_IRQ_CHIP dependency. Single-line Kconfig change with proper Fixes tag and acked by maintainer. Low complexity but correctly identified build dependency issue.", "code_snippet": "@@ -320,6 +320,7 @@ config INGENIC_TCU_IRQ\n \tdefault MACH_INGENIC\n \tdepends on MIPS || COMPILE_TEST\n \tselect MFD_SYSCON\n+\tselect GENERIC_IRQ_CHIP\n \thelp\n \t  Support for interrupts in the Timer/Counter Unit (TCU) of the Ingenic\n \t  JZ47xx SoCs.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8084499bd7d44b2c96658d788e329f3c232eb050"}
{"commit_hash": "342be1068d9b5b1fd364d270b4f731764e23de2b", "short_hash": "342be1068d9b", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-07-27T06:14:22Z", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-20T10:34:34+01:00", "subject": "irqchip/gic-v3-its: Remove the redundant set_bit for lpi_map", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 8, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removes redundant set_bit() call that bitmap_find_free_region() already handles. Clean, atomic refactor with clear explanation. Cross-org contribution (Huawei) with maintainer sign-off. Low impact as it removes dead code rather than fixing a bug.", "code_snippet": "@@ -2464,6 +2464,7 @@ static int its_alloc_device_irq(struct its_device *dev, int nvecs, irq_hw_number\n {\n \tint idx;\n \n+\t/* Find a free LPI region in lpi_map and allocate them. */\n \tidx = bitmap_find_free_region(dev->event_map.lpi_map,\n \t\t\t\t      dev->event_map.nr_lpis,\n \t\t\t\t      get_count_order(nvecs));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/342be1068d9b5b1fd364d270b4f731764e23de2b"}
{"commit_hash": "bb13f35b96f4c83dc4015d71fa2b543c665fbdae", "short_hash": "bb13f35b96f4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T01:32:43Z", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-20T11:15:34-04:00", "subject": "nfsd: remove duplicated include from filecache.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/nfsd", "subsystems_touched": ["fs/nfsd/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 2, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing duplicate #include statement in fs/nfsd/filecache.c. Single line deletion with no functional change. Cross-org contribution from Huawei to Red Hat maintainer. Proper sign-off chain present.", "code_snippet": "@@ -6,7 +6,6 @@\n \n #include <linux/hash.h>\n #include <linux/slab.h>\n-#include <linux/hash.h>\n #include <linux/file.h>\n #include <linux/sched.h>\n #include <linux/list_lru.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bb13f35b96f4c83dc4015d71fa2b543c665fbdae"}
{"commit_hash": "d9bd6d279236a1c90c1e73220c2ae52996c8ff52", "short_hash": "d9bd6d279236", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T22:14:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-20T13:46:32-07:00", "subject": "netdevsim: Fix build error without CONFIG_INET", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "da58f90f11f5", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Ido Schimmel <idosch@mellanox.com> (Mellanox)"], "tested_by": ["Ido Schimmel <idosch@mellanox.com> (Mellanox)"], "acked_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 58, "score_technical": 13, "score_impact": 19, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Build error fix for netdevsim driver when CONFIG_INET is not set. Replaced ip_send_check with ip_fast_csum to remove CONFIG_INET dependency. Strong review chain with Acked-by, Reviewed-by, and Tested-by tags. Cross-org contribution from Huawei to net subsystem maintained by David S. Miller.", "code_snippet": "@@ -389,7 +389,8 @@ static struct sk_buff *nsim_dev_trap_skb_build(void)\n \tiph->ihl = 0x5;\n \tiph->tot_len = htons(tot_len);\n \tiph->ttl = 100;\n-\tip_send_check(iph);\n+\tiph->check = 0;\n+\tiph->check = ip_fast_csum((unsigned char *)iph, iph->ihl);\n \n \tudph = skb_put_zero(skb, sizeof(struct udphdr) + data_len);\n \tget_random_bytes(&udph->source, sizeof(u16));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9bd6d279236a1c90c1e73220c2ae52996c8ff52"}
{"commit_hash": "ede6bc88d6bbe16a938de2b00f60f4e03768c988", "short_hash": "ede6bc88d6bb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T01:36:52Z", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-08-20T16:03:52+02:00", "subject": "bpf: Use PTR_ERR_OR_ZERO in xsk_map_inc()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["kernel/bpf/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Björn Töpel <bjorn.topel@intel.com> (Intel)"], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification using PTR_ERR_OR_ZERO macro instead of IS_ERR/PTR_ERR pattern. Very small change (1 line). BPF subsystem is moderately critical. Not a bug fix or feature, just cleanups. Strong review chain with Acked-by and Maintainer sign-off. Cross-org contribution from Huawei to Intel-maintained code.", "code_snippet": "@@ -21,7 +21,7 @@ int xsk_map_inc(struct xsk_map *map)\n \tstruct bpf_map *m = &map->map;\n \n \tm = bpf_map_inc(m, false);\n-\treturn IS_ERR(m) ? PTR_ERR(m) : 0;\n+\treturn PTR_ERR_OR_ZERO(m);\n }\n \n void xsk_map_put(struct xsk_map *map)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ede6bc88d6bbe16a938de2b00f60f4e03768c988"}
{"commit_hash": "d071fd294f2474118629f4021a6a3dedef28e09f", "short_hash": "d071fd294f24", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-14T15:21:05+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-20T17:09:34+05:30", "subject": "dmaengine: change alignment of mux_configure32 and fsl_edma_chan_mux", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "9d831528a656", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Pure whitespace/alignment change in function parameters. No functional change indicated. Has Fixes tag and proper maintainer sign-off. Minimal code volume (2 lines changed). DMA subsystem is moderately critical but this is purely cosmetic.", "code_snippet": "@@ -91,7 +91,7 @@ static void mux_configure8(struct fsl_edma_chan *fsl_chan, void __iomem *addr,\n }\n \n static void mux_configure32(struct fsl_edma_chan *fsl_chan, void __iomem *addr,\n-\t\t     u32 off, u32 slot, bool enable)\n+\t\t\t    u32 off, u32 slot, bool enable)\n {\n \tu32 val;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d071fd294f2474118629f4021a6a3dedef28e09f"}
{"commit_hash": "4f48e29f7673726a8c1a18b10906ccd58a031b95", "short_hash": "4f48e29f7673", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-14T15:21:04+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-20T17:09:34+05:30", "subject": "dmaengine: make mux_configure32 static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "232a7f18cf8ec", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to mux_configure32(). Single line change with clear justification, proper Fixes tag, signed off by maintainer Vinod Koul. Low impact driver subsystem cleanup.", "code_snippet": "@@ -90,7 +90,7 @@ static void mux_configure8(struct fsl_edma_chan *fsl_chan, void __iomem *addr,\n \tiowrite8(val8, addr + off);\n }\n \n-void mux_configure32(struct fsl_edma_chan *fsl_chan, void __iomem *addr,\n+static void mux_configure32(struct fsl_edma_chan *fsl_chan, void __iomem *addr,\n \t\t     u32 off, u32 slot, bool enable)\n {\n \tu32 val;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f48e29f7673726a8c1a18b10906ccd58a031b95"}
{"commit_hash": "6808f8cf57f10c1491074572eb247e7fc2a60f47", "short_hash": "6808f8cf57f1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:28:02+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-21T09:15:43-07:00", "subject": "staging: rtl8192e: remove set but not used variable 'data_len'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "5ee5265674ce", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["staging/rtl8192e"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing an unused variable in staging driver (low-tier subsystem). Fixes gcc warning. Minimal code change (1 addition, 2 deletions). Signed-off-by with proper attribution and links.", "code_snippet": "@@ -153,7 +153,7 @@ static int ccmp_init_iv_and_aad(struct rtllib_hdr_4addr *hdr,\n static int rtllib_ccmp_encrypt(struct sk_buff *skb, int hdr_len, void *priv)\n {\n \tstruct rtllib_ccmp_data *key = priv;\n-\tint data_len, i;\n+\tint i;\n \tu8 *pos;\n \tstruct rtllib_hdr_4addr *hdr;\n \tstruct cb_desc *tcb_desc = (struct cb_desc *)(skb->cb +", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6808f8cf57f10c1491074572eb247e7fc2a60f47"}
{"commit_hash": "4a67342ea9c7c34903f4068f21c98385f9f62b8d", "short_hash": "4a67342ea9c7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:25:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-21T09:15:43-07:00", "subject": "staging: rtl8192e: remove two set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 9, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings in staging driver. Low technical impact (6 deletions, staging subsystem tier 6). Base score 3 for cleanup. High commit message quality (5/6) - includes warning details and proper attribution. Strong maintainer endorsement (4/4) - signed by staging maintainer Greg Kroah-Hartman. Atomic change (3/3) - single purpose removal. Total: 32/100.", "code_snippet": "@@ -618,7 +618,7 @@ static void _rtl92e_dm_tx_update_tssi_strong_signal(struct net_device *dev,\n static void _rtl92e_dm_tx_power_tracking_callback_tssi(struct net_device *dev)\n {\n \tstruct r8192_priv *priv = rtllib_priv(dev);\n-\tbool\tbHighpowerstate, viviflag = false;\n+\tbool\tviviflag = false;\n \tstruct dcmd_txcmd tx_cmd;\n \tu8\tpowerlevelOFDM24G;\n \tint\ti = 0, j = 0, k = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a67342ea9c7c34903f4068f21c98385f9f62b8d"}
{"commit_hash": "68772c84f7e0380033ce560802b0d179d76be392", "short_hash": "68772c84f7e0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:22:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-21T09:15:43-07:00", "subject": "staging: rtl8192u: ieee80211: remove set but not used variable 'data_len'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "eb0e7bf3ca94", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/rtl8192u"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 3, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variable in staging driver. Well-documented with Fixes tag, Reported-by, and proper review chain from Greg KH. Staging drivers have low criticality.", "code_snippet": "@@ -159,7 +159,7 @@ static int ccmp_init_iv_and_aad(struct rtl_80211_hdr_4addr *hdr,\n static int ieee80211_ccmp_encrypt(struct sk_buff *skb, int hdr_len, void *priv)\n {\n \tstruct ieee80211_ccmp_data *key = priv;\n-\tint data_len, i;\n+\tint i;\n \tu8 *pos;\n \tstruct rtl_80211_hdr_4addr *hdr;\n \tstruct cb_desc *tcb_desc = (struct cb_desc *)(skb->cb + MAX_DEV_ADDR_SIZE);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68772c84f7e0380033ce560802b0d179d76be392"}
{"commit_hash": "1a1ba7118807e82fab7d44ccf0910d3bb0015b0b", "short_hash": "1a1ba7118807", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:02:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "cirrus: cs89x0: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/cirrus"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 4, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple refactoring using devm_platform_ioremap_resource() wrapper. Removed local variable, reduced lines. Network driver subsystem (tier 8). Maintainer David S. Miller signed off. Clean atomic change with no functional impact.", "code_snippet": "@@ -1845,7 +1845,6 @@ static int __init cs89x0_platform_probe(struct platform_device *pdev)\n {\n \tstruct net_device *dev = alloc_etherdev(sizeof(struct net_local));\n \tstruct net_local *lp;\n-\tstruct resource *mem_res;\n \tvoid __iomem *virt_addr;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a1ba7118807e82fab7d44ccf0910d3bb0015b0b"}
{"commit_hash": "ffb36a10c656c0b106401c6792b55b6506078949", "short_hash": "ffb36a10c656", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:59:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "net: sxgbe: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/samsung/sxgbe"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduces 4 lines to 1, eliminates local variable. Low-risk cleanup in non-critical ethernet driver (sxgbe). Properly signed-off by maintainer David S. Miller. Cross-org contribution from Huawei to Samsung driver.", "code_snippet": "@@ -78,7 +78,6 @@ static int sxgbe_platform_probe(struct platform_device *pdev)\n {\n \tint ret;\n \tint i, chan;\n-\tstruct resource *res;\n \tstruct device *dev = &pdev->dev;\n \tvoid __iomem *addr;\n \tstruct sxgbe_priv_data *priv = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ffb36a10c656c0b106401c6792b55b6506078949"}
{"commit_hash": "4865695c0f1aa302db2b817be3ef6b0cba53763b", "short_hash": "4865695c0f1a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:58:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "net: ks8851-ml: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/micrel/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup using devm_platform_ioremap_resource() helper. Low complexity (5 line reduction, single file). Network driver subsystem tier 7. MAINT-CLEANUP category base score 3. Good review chain (Hulk Robot report, maintainer sign-off). Clear commit message explaining the change. No testing evidence but atomic refactoring.", "code_snippet": "@@ -1225,7 +1225,6 @@ MODULE_DEVICE_TABLE(of, ks8851_ml_dt_ids);\n static int ks8851_probe(struct platform_device *pdev)\n {\n \tint err;\n-\tstruct resource *io_d, *io_c;\n \tstruct net_device *netdev;\n \tstruct ks_net *ks;\n \tu16 id, data;", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/4865695c0f1aa302db2b817be3ef6b0cba53763b"}
{"commit_hash": "5bd5b56457b0415c82f359ad67dc38d1b7eb381d", "short_hash": "5bd5b56457b0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:53:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "net: socionext: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/socionext"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 11, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring to use devm_platform_ioremap_resource() wrapper API. Simplifies resource mapping by replacing 2 lines with 1. Pure cleanup with no functional change, detected by Coccinelle script. Trivial maintenance in networking driver.", "code_snippet": "@@ -1553,7 +1553,6 @@ static int ave_probe(struct platform_device *pdev)\n \tstruct ave_private *priv;\n \tstruct net_device *ndev;\n \tstruct device_node *np;\n-\tstruct resource\t*res;\n \tconst void *mac_addr;\n \tvoid __iomem *base;\n \tconst char *name;", "flags": ["COCCINELLE", "TRIVIAL_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/5bd5b56457b0415c82f359ad67dc38d1b7eb381d"}
{"commit_hash": "8a54d4c21919022e9fc59e71ca0f86d4431a8e2a", "short_hash": "8a54d4c21919", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:50:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "via-rhine: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/via", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 5, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification commit using devm_platform_ioremap_resource() helper, detected by coccinelle. Minimal changes (1 insertion, 3 deletions) in network driver. Cross-org contribution from Huawei to net subsystem maintained by David S. Miller. Low impact cleanup with proper review chain.", "code_snippet": "@@ -1127,15 +1127,13 @@ static int rhine_init_one_platform(struct platform_device *pdev)\n \tconst struct of_device_id *match;\n \tconst u32 *quirks;\n \tint irq;\n-\tstruct resource *res;\n \tvoid __iomem *ioaddr;\n \n \tmatch = of_match_device(rhine_of_tbl, &pdev->dev);\n \tif (!match)\n \t\treturn -EINVAL;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tioaddr = devm_ioremap_resource(&pdev->dev, res);\n+\tioaddr = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(ioaddr))\n \t\treturn PTR_ERR(ioaddr);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a54d4c21919022e9fc59e71ca0f86d4431a8e2a"}
{"commit_hash": "c8ace62ff3a98bdc52c6df23c23465cfd9e3a847", "short_hash": "c8ace62ff3a9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:48:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "net: ethernet: ti: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/ti"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Grygorii Strashko <grygorii.strashko@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Very small change (-3/+2 lines) detected by Coccinelle. Has proper review chain (Hulk Robot report + Grygorii Strashko review). Cross-org contribution (Huawei author, TI maintainer review, David Miller merged). Low functional impact as it's pure refactoring with no behavior change.", "code_snippet": "@@ -2764,7 +2764,7 @@ static int cpsw_probe(struct platform_device *pdev)\n \tstruct net_device\t\t*ndev;\n \tstruct cpsw_priv\t\t*priv;\n \tvoid __iomem\t\t\t*ss_regs;\n-\tstruct resource\t\t\t*res, *ss_res;\n+\tstruct resource\t\t\t*ss_res;\n \tstruct gpio_descs\t\t*mode;\n \tconst struct soc_device_attribute *soc;\n \tstruct cpsw_common\t\t*cpsw;", "flags": ["COCCINELLE_DETECTED", "REFACTOR_NO_BEHAVIOR_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/c8ace62ff3a98bdc52c6df23c23465cfd9e3a847"}
{"commit_hash": "eba39fd6fe310710f011130e46e6d13e5c87d6f9", "short_hash": "eba39fd6fe31", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:32:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:12-07:00", "subject": "amd-xgbe: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/amd", "subsystems_touched": ["drivers/net/ethernet/amd/xgbe/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 8, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tom Lendacky <thomas.lendacky@amd.com> (AMD)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 9, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup replacing platform_get_resource/devm_ioremap_resource pairs with devm_platform_ioremap_resource. Technical score: 2 (1 file, 8 insertions/11 deletions) + 7 (network driver subsystem tier) + 0 (single subsystem). Impact: 3 (MAINT-CRITICAL base) + 0 (no stable tag) + 0 (no user-facing impact) + 0 (routine API consolidation). Quality: 5 (Acked-by from maintainer Tom Lendacky, Signed-off-by from maintainer David S. Miller) + 4 (clear message with Reported-by tag explaining coccinelle detection) + 0 (no explicit testing) + 3 (atomic refactoring). Community: 4 (cross-org: Huawei author, AMD maintainer ack, networking maintainer) + 4 (maintainer endorsement) + 0 (no response data). Total: 36/100.", "code_snippet": "@@ -373,8 +370,8 @@ static int xgbe_platform_probe(struct platform_device *pdev)\n \tif (netif_msg_probe(pdata))\n \t\tdev_dbg(dev, \"xpcs_regs  = %p\\n\", pdata->xpcs_regs);\n \n-\tres = platform_get_resource(phy_pdev, IORESOURCE_MEM, phy_memnum++);\n-\tpdata->rxtx_regs = devm_ioremap_resource(dev, res);\n+\tpdata->rxtx_regs = devm_platform_ioremap_resource(phy_pdev,\n+\t\t\t\t\t\t\t  phy_memnum++);\n \tif (IS_ERR(pdata->rxtx_regs)) {\n \t\tdev_err(dev, \"rxtx ioremap failed\\n\");\n \t\tret = PTR_ERR(pdata->rxtx_regs);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eba39fd6fe310710f011130e46e6d13e5c87d6f9"}
{"commit_hash": "4f830a5af7b5b3614a03ef784cd2f4a83ceebf27", "short_hash": "4f830a5af7b5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:29:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:13-07:00", "subject": "net: fec: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/freescale"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource + devm_ioremap_resource with devm_platform_ioremap_resource helper. Eliminates temporary variable, reduces lines from 2 to 1. Reported-by: Hulk Robot indicates automated detection via coccinelle. Signed off by maintainer David S. Miller.", "code_snippet": "@@ -3338,7 +3338,6 @@ fec_probe(struct platform_device *pdev)\n \tstruct fec_platform_data *pdata;\n \tstruct net_device *ndev;\n \tint i, irq, ret = 0;\n-\tstruct resource *r;\n \tconst struct of_device_id *of_id;\n \tstatic int dev_id;\n \tstruct device_node *np = pdev->dev.of_node, *phy_node;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f830a5af7b5b3614a03ef784cd2f4a83ceebf27"}
{"commit_hash": "b6df983076e517af660e14a3ed6d3b1a986dfc2c", "short_hash": "b6df983076e5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:05:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:42:13-07:00", "subject": "ezchip: nps_enet: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 9, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Very small change (1 insertion, 3 deletions). Low risk cleanup. Signed by networking maintainer David S. Miller.", "code_snippet": "@@ -576,7 +576,6 @@ static s32 nps_enet_probe(struct platform_device *pdev)\n \tstruct nps_enet_priv *priv;\n \ts32 err = 0;\n \tconst char *mac_addr;\n-\tstruct resource *res_regs;\n \n \tif (!dev->of_node)\n \t\treturn -ENODEV;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6df983076e517af660e14a3ed6d3b1a986dfc2c"}
{"commit_hash": "ad124aa34e514393218f46f9701fdeaf35cbf5d3", "short_hash": "ad124aa34e51", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:55:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: stmmac: dwmac-anarion: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial code modernization commit replacing platform_get_resource/devm_ioremap_resource with the simpler devm_platform_ioremap_resource helper. Code volume is minimal (-3/+1 lines). Single file touch in ethernet driver. Clean commit message with Reported-by tag. Proper sign-off chain including maintainer David S. Miller.", "code_snippet": "@@ -62,12 +62,10 @@ static void anarion_gmac_exit(struct platform_device *pdev, void *priv)\n static struct anarion_gmac *anarion_config_dt(struct platform_device *pdev)\n {\n \tint phy_mode;\n-\tstruct resource *res;\n \tvoid __iomem *ctl_block;\n \tstruct anarion_gmac *gmac;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n-\tctl_block = devm_ioremap_resource(&pdev->dev, res);\n+\tctl_block = devm_platform_ioremap_resource(pdev, 1);\n \tif (IS_ERR(ctl_block)) {\n \t\tdev_err(&pdev->dev, \"Cannot get reset region (%ld)!\\n\",\n \t\t\tPTR_ERR(ctl_block));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad124aa34e514393218f46f9701fdeaf35cbf5d3"}
{"commit_hash": "999232a38ff10209df1ce40cabe8cf8982c530e7", "short_hash": "999232a38ff1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:51:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: stmmac: dwmac-meson8b: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Simplifies code by removing intermediate variable. Low technical complexity as it's a mechanical transformation detected by coccinelle. Network driver but non-critical cleanup. Good review chain with Reviewed-by tag and proper sign-offs. Cross-org contribution from Huawei to networking subsystem maintained by David S. Miller.", "code_snippet": "@@ -308,7 +308,6 @@ static int meson8b_dwmac_probe(struct platform_device *pdev)\n {\n \tstruct plat_stmmacenet_data *plat_dat;\n \tstruct stmmac_resources stmmac_res;\n-\tstruct resource *res;\n \tstruct meson8b_dwmac *dwmac;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/999232a38ff10209df1ce40cabe8cf8982c530e7"}
{"commit_hash": "f33bf6b00f20c9d26c42dfdaf8b83c2b0c1e6f71", "short_hash": "f33bf6b00f20", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:54:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: stmmac: dwmac-meson: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function, reducing 2 lines to 1. Trivial cleanup detected by coccinelle script with proper review chain (Reviewed-by, Signed-off-by maintainers). No functional change, no user impact, low complexity driver code.", "code_snippet": "@@ -46,7 +46,6 @@ static int meson6_dwmac_probe(struct platform_device *pdev)\n \tstruct plat_stmmacenet_data *plat_dat;\n \tstruct stmmac_resources stmmac_res;\n \tstruct meson_dwmac *dwmac;\n-\tstruct resource *res;\n \tint ret;\n \n \tret = stmmac_get_platform_resources(pdev, &stmmac_res);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f33bf6b00f20c9d26c42dfdaf8b83c2b0c1e6f71"}
{"commit_hash": "4ca3348dff9ac63a571288019f6030a3d7e1e940", "short_hash": "4ca3348dff9a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:41:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: bcmgenet: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/broadcom/genet"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit using coccinelle-detected simplification. Replaces 2 lines with 1 using devm_platform_ioremap_resource() wrapper. Has proper Reviewed-by tag from maintainer Florian Fainelli. No functional change, no testing evidence needed. Low impact cleanup.", "code_snippet": "@@ -3437,7 +3437,6 @@ static int bcmgenet_probe(struct platform_device *pdev)\n \tstruct bcmgenet_priv *priv;\n \tstruct net_device *dev;\n \tconst void *macaddr;\n-\tstruct resource *r;\n \tunsigned int i;\n \tint err = -EIO;\n \tconst char *phy_mode_str;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4ca3348dff9ac63a571288019f6030a3d7e1e940"}
{"commit_hash": "913919e51ee69df7a3250056c522d683c937bf46", "short_hash": "913919e51ee6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:46:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: systemport: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/broadcom/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code cleanup replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() wrapper. Minor simplification (-3/+1 lines) detected by Coccinelle script. Network driver subsystem (tier 8). Has Reviewed-by tag and proper maintainer chain through David S. Miller. Cross-company contribution (Huawei to Broadcom subsystem).", "code_snippet": "@@ -2420,12 +2420,10 @@ static int bcm_sysport_probe(struct platform_device *pdev)\n \tstruct device_node *dn;\n \tstruct net_device *dev;\n \tconst void *macaddr;\n-\tstruct resource *r;\n \tu32 txq, rxq;\n \tint ret;\n \n \tdn = pdev->dev.of_node;\n-\tr = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tof_id = of_match_node(bcm_sysport_of_match, dn);\n \tif (!of_id || !of_id->data)\n \t\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/913919e51ee69df7a3250056c522d683c937bf46"}
{"commit_hash": "37f76049b095da153efa047538f73b1af8dfbc6a", "short_hash": "37f76049b095", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:33:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "net: mvneta: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-MODERNIZE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/marvell"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 5, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Very small scope (net driver), reduces code by 2 lines. Detected by coccinelle tool and reviewed by maintainer David S. Miller. Low impact as it's purely API consolidation without functional changes.", "code_snippet": "@@ -411,15 +411,13 @@ static int mvneta_bm_probe(struct platform_device *pdev)\n {\n \tstruct device_node *dn = pdev->dev.of_node;\n \tstruct mvneta_bm *priv;\n-\tstruct resource *res;\n \tint err;\n \n \tpriv = devm_kzalloc(&pdev->dev, sizeof(struct mvneta_bm), GFP_KERNEL);\n \tif (!priv)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->reg_base = devm_ioremap_resource(&pdev->dev, res);\n+\tpriv->reg_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->reg_base))\n \t\treturn PTR_ERR(priv->reg_base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/37f76049b095da153efa047538f73b1af8dfbc6a"}
{"commit_hash": "531fd23b00610fb066da7776ea25db8aa383a4b8", "short_hash": "531fd23b0061", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:38:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:33-07:00", "subject": "pxa168_eth: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduces 2 lines to 1, detected by coccinelle script. Network driver subsystem (tier 6). Clean maintenance change with proper maintainer signoff (David S. Miller). Low user impact as it's code simplification without functional change.", "code_snippet": "@@ -1425,8 +1425,7 @@ static int pxa168_eth_probe(struct platform_device *pdev)\n \tpep->dev = dev;\n \tpep->clk = clk;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpep->base = devm_ioremap_resource(&pdev->dev, res);\n+\tpep->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(pep->base)) {\n \t\terr = -ENOMEM;\n \t\tgoto err_netdev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/531fd23b00610fb066da7776ea25db8aa383a4b8"}
{"commit_hash": "2b9b5e74507fe8e6146b048c0dadbe2fe7b298e5", "short_hash": "2b9b5e74507f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:57:01+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T13:52:34-07:00", "subject": "net: stmmac: dwc-qos: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Reduces 4 lines to 1, removes temporary variable. Detected by coccinelle script (Hulk Robot). Signed off by maintainer David S. Miller. Low risk cleanup in ethernet driver probe path.", "code_snippet": "@@ -418,7 +418,6 @@ static int dwc_eth_dwmac_probe(struct platform_device *pdev)\n \tconst struct dwc_eth_dwmac_data *data;\n \tstruct plat_stmmacenet_data *plat_dat;\n \tstruct stmmac_resources stmmac_res;\n-\tstruct resource *res;\n \tvoid *priv;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b9b5e74507fe8e6146b048c0dadbe2fe7b298e5"}
{"commit_hash": "ff57c6513820efe945b61863cf4a51b79f18b592", "short_hash": "ff57c6513820", "author_name": "Da Lv", "author_email": "lvda3@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:02Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:32+02:00", "subject": "drm: kirin: Fix for hikey620 display offset problem", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 23, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Da Lv <lvda3@hisilicon.com> (HiSilicon)", "Yidong Lin <linyidong@huawei.com> (Huawei)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 53, "score_technical": 9, "score_impact": 21, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 3, "C1_review_chain": 7, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for display offset/crash issue on HiKey 620 hardware. DSI signal desync causes horizontal offset and color shifting - requires suspend/resume to recover. Well-reviewed with Acked-by and Reviewed-by tags. Cross-company collaboration between HiSilicon and Linaro/Sam Ravnborg. 23 line addition adds workqueue-based recovery mechanism triggered by LDI underflow interrupt.", "code_snippet": "@@ -345,6 +347,17 @@ static void ade_crtc_disable_vblank(struct drm_crtc *crtc)\n \t\t\tMASK(1), 0);\n }\n \n+static void drm_underflow_wq(struct work_struct *work)\n+{\n+\tstruct ade_crtc *acrtc = container_of(work, struct ade_crtc,\n+\t\t\t\t\t      display_reset_wq);\n+\tstruct drm_device *drm_dev = (&acrtc->base)->dev;\n+\tstruct drm_atomic_state *state;\n+\n+\tstate = drm_atomic_helper_suspend(drm_dev);\n+\tdrm_atomic_helper_resume(drm_dev, state);\n+}\n+\n static irqreturn_t ade_irq_handler(int irq, void *data)\n {\n \tstruct ade_crtc *acrtc = data;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff57c6513820efe945b61863cf4a51b79f18b592"}
{"commit_hash": "a202da164321c762c8592b129e5162b38446d7a9", "short_hash": "a202da164321", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:06Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:34+02:00", "subject": "drm: kirin: Remove out_format from ade_crtc", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 8, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring cleanup removing unused out_format field from kirin DRM driver. Good review chain with Acked-by and Reviewed-by tags. Cross-org contribution from Hisilicon with maintainer sign-offs. Low user impact as internal cleanup.", "code_snippet": "@@ -383,11 +382,10 @@ static irqreturn_t ade_irq_handler(int irq, void *data)\n \treturn IRQ_HANDLED;\n }\n \n-static void ade_display_enable(struct ade_crtc *acrtc)\n+static void ade_display_enable(struct ade_hw_ctx *ctx)\n {\n-\tstruct ade_hw_ctx *ctx = acrtc->ctx;\n \tvoid __iomem *base = ctx->base;\n-\tu32 out_fmt = acrtc->out_format;\n+\tu32 out_fmt = LDI_OUT_RGB_888;\n \n \t/* enable output overlay compositor */\n \twritel(ADE_ENABLE, base + ADE_OVLYX_CTL(OUT_OVLY));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a202da164321c762c8592b129e5162b38446d7a9"}
{"commit_hash": "e0d8eba5dd3373595f74f8a92abf4347877acd9d", "short_hash": "e0d8eba5dd33", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:05Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:34+02:00", "subject": "drm: kirin: Remove uncessary parameter indirection", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 5, "files_changed": 1, "insertions": 5, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 6, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit removing unnecessary parameter indirection in Kirin DRM driver. Affects low-tier subsystem (drivers/gpu/drm/hisilicon). Code volume minimal (-7/+5 lines). Strong review chain with Acked-by and Reviewed-by tags from subsystem maintainers. Cross-org collaboration between HiSilicon author and broader community. Clean atomic change with no functional impact, improving code readability.", "code_snippet": "@@ -210,11 +210,10 @@ static void ade_set_pix_clk(struct ade_hw_ctx *ctx,\n \tadj_mode->clock = clk_get_rate(ctx->ade_pix_clk) / 1000;\n }\n \n-static void ade_ldi_set_mode(struct ade_crtc *acrtc,\n+static void ade_ldi_set_mode(struct ade_hw_ctx *ctx,\n \t\t\t     struct drm_display_mode *mode,\n \t\t\t     struct drm_display_mode *adj_mode)\n {\n-\tstruct ade_hw_ctx *ctx = acrtc->ctx;\n \tvoid __iomem *base = ctx->base;\n \tu32 width = mode->hdisplay;\n \tu32 height = mode->vdisplay;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0d8eba5dd3373595f74f8a92abf4347877acd9d"}
{"commit_hash": "ada7f67da99def9fcbbd99dd03f323bc0182d21c", "short_hash": "ada7f67da99d", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:08Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:35+02:00", "subject": "drm: kirin: Rename ade_crtc to kirin_crtc", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 4, "files_changed": 1, "insertions": 37, "deletions": 37, "hunks": 32, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 35, "score_technical": 7, "score_impact": 5, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Pure refactoring renaming ade_crtc to kirin_crtc as part of hardware revision support preparation. 74 lines changed (37 insertions, 37 deletions) across single DRM driver file. Strong review chain with Acked-by and Reviewed-by tags from maintainers. Cross-org collaboration between Hisilicon author and multiple community maintainers. No user impact, no stable CC, pure internal restructuring.", "code_snippet": "@@ -499,11 +499,11 @@ static void ade_dump_regs(void __iomem *base) { }\n static void ade_crtc_atomic_enable(struct drm_crtc *crtc,\n \t\t\t\t   struct drm_crtc_state *old_state)\n {\n-\tstruct ade_crtc *acrtc = to_ade_crtc(crtc);\n-\tstruct ade_hw_ctx *ctx = acrtc->ctx;\n+\tstruct kirin_crtc *kcrtc = to_kirin_crtc(crtc);\n+\tstruct ade_hw_ctx *ctx = kcrtc->hw_ctx;\n \tint ret;\n \n-\tif (acrtc->enable)\n+\tif (kcrtc->enable)\n \t\treturn;\n \n \tif (!ctx->power_on) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ada7f67da99def9fcbbd99dd03f323bc0182d21c"}
{"commit_hash": "0ae622c5327bf98d005cc6e3db534e14d742194c", "short_hash": "0ae622c5327b", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:07Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:35+02:00", "subject": "drm: kirin: Rename ade_plane to kirin_plane", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon"], "subsystem_tier": 5, "files_changed": 1, "insertions": 29, "deletions": 28, "hunks": 20, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 9, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Refactoring commit renaming struct ade_plane to kirin_plane as part of supporting different hardware revisions. Clean mechanical change with good review chain (Acked-by, Reviewed-by) and clear documentation of future intent. Low impact as it's purely preparatory refactoring.", "code_snippet": "@@ -41,8 +41,9 @@\n #define to_ade_crtc(crtc) \\\n \tcontainer_of(crtc, struct ade_crtc, base)\n \n-#define to_ade_plane(plane) \\\n-\tcontainer_of(plane, struct ade_plane, base)\n+#define to_kirin_plane(plane) \\\n+\tcontainer_of(plane, struct kirin_plane, base)\n+\n \n struct ade_hw_ctx {\n \tvoid __iomem  *base;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ae622c5327bf98d005cc6e3db534e14d742194c"}
{"commit_hash": "36f8d22dbcd9bdbe0a6751defaaccbe97843e140", "short_hash": "36f8d22dbcd9", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:10Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:36+02:00", "subject": "drm: kirin: Move request irq handle in ade hw ctx alloc", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 17, "deletions": 12, "hunks": 12, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 10, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit moving IRQ request to allocation function to support future hardware revisions. Has strong review chain (Acked-by, Reviewed-by, 2 sign-offs). Good commit message explaining rationale. Small code volume (17 insertions, 12 deletions). Cross-org collaboration (HiSilicon author, Linaro co-signer, maintainer sign-off). No testing evidence, no stable CC, no user impact.", "code_snippet": "@@ -951,12 +953,14 @@ static int ade_plane_init(struct drm_device *dev, struct kirin_plane *kplane,\n \treturn 0;\n }\n \n-static void *ade_hw_ctx_alloc(struct platform_device *pdev)\n+static void *ade_hw_ctx_alloc(struct platform_device *pdev,\n+\t\t\t      struct drm_crtc *crtc)\n {\n \tstruct resource *res;\n \tstruct device *dev = &pdev->dev;\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct ade_hw_ctx *ctx = NULL;\n+\tint ret;\n \n \tctx = devm_kzalloc(dev, sizeof(*ctx), GFP_KERNEL);\n \tif (!ctx) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/36f8d22dbcd9bdbe0a6751defaaccbe97843e140"}
{"commit_hash": "43774b0eed5612a8830b82cb7122beb6d05b5ac5", "short_hash": "43774b0eed56", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:09Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:36+02:00", "subject": "drm: kirin: Dynamically allocate the hw_ctx", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 24, "deletions": 15, "hunks": 6, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 6, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit converting ade_hw_ctx from embedded structure to dynamically allocated pointer. Part of larger hardware revision support refactor. Has Reviewed-by from maintainer Sam Ravnborg and Acked-by from Xinliang Liu. 24 insertions/15 deletions, single file touched in DRM/Hisilicon Kirin driver. Low direct user impact but enables future hardware support.", "code_snippet": "@@ -72,7 +72,7 @@ struct kirin_plane {\n struct ade_data {\n \tstruct kirin_crtc crtc;\n \tstruct kirin_plane planes[ADE_CH_NUM];\n-\tstruct ade_hw_ctx ctx;\n+\tstruct ade_hw_ctx *hw_ctx;\n };\n \n /* ade-format info: */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/43774b0eed5612a8830b82cb7122beb6d05b5ac5"}
{"commit_hash": "c11a03f6eb5ff525c3253f693e31813ba4eabcbe", "short_hash": "c11a03f6eb5f", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:12Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:37+02:00", "subject": "drm: kirin: Move kirin_crtc, kirin_plane, kirin_format to kirin_drm_drv.h", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 5, "files_changed": 2, "insertions": 26, "deletions": 25, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 3, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit moving shared structures (kirin_crtc, kirin_plane, kirin_format) to common header to support multiple hardware revisions. Small code volume (26 insertions, 25 deletions). Strong review chain with Acked-by and Reviewed-by tags. Cross-org contribution from Hisilicon with maintainer endorsement.", "code_snippet": "@@ -59,18 +53,6 @@ struct ade_hw_ctx {\n \tstruct drm_crtc *crtc;\n };\n \n-struct kirin_crtc {\n-\tstruct drm_crtc base;\n-\tvoid *hw_ctx;\n-\tbool enable;\n-};\n-\n-struct kirin_plane {\n-\tstruct drm_plane base;\n-\tvoid *hw_ctx;\n-\tu32 ch;\n-};\n-\n struct ade_data {\n \tstruct kirin_crtc crtc;\n \tstruct kirin_plane planes[ADE_CH_NUM];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c11a03f6eb5ff525c3253f693e31813ba4eabcbe"}
{"commit_hash": "7903ba41e93197f8b13c04a8ad6be9701ffa4412", "short_hash": "7903ba41e931", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:13Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:38+02:00", "subject": "drm: kirin: Reanme dc_ops to kirin_drm_data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 11, "deletions": 11, "hunks": 14, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 4, "score_quality": 16, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Low-volume refactoring rename (11 insertions, 11 deletions) in mid-tier DRM subsystem for HiSilicon Kirin driver. Strong review chain with Acked-by and Reviewed-by tags from multiple maintainers. Cross-org collaboration between HiSilicon (xuyiping@hisilicon.com) and community maintainers (sam@ravnborg.org, john.stultz@linaro.org). Clean commit message explaining refactoring rationale. Pure renaming with no functional changes or user impact.", "code_snippet": "@@ -29,12 +29,12 @@\n \n #include \"kirin_drm_drv.h\"\n \n-static struct kirin_dc_ops *dc_ops;\n+static struct kirin_drm_data *driver_data;\n \n static int kirin_drm_kms_cleanup(struct drm_device *dev)\n {\n \tdrm_kms_helper_poll_fini(dev);\n-\tdc_ops->cleanup(to_platform_device(dev->dev));\n+\tdriver_data->cleanup(to_platform_device(dev->dev));\n \tdrm_mode_config_cleanup(dev);\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7903ba41e93197f8b13c04a8ad6be9701ffa4412"}
{"commit_hash": "e200d8eb390951fa10b87299ed084428b401fe85", "short_hash": "e200d8eb3909", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:15Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:39+02:00", "subject": "drm: kirin: Move channel formats to driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 10, "deletions": 23, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 5, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit moving channel formats to driver data structure for better hardware revision support. Small code volume (-13 lines). Low tier subsystem (DRM driver). Maintenance refactor base score of 4. Good review chain with Acked-by and Reviewed-by tags. Clear commit message explaining refactoring purpose. Cross-org collaboration between Hisilicon and community maintainers.", "code_snippet": "@@ -76,7 +76,7 @@ static const struct kirin_format ade_formats[] = {\n \t{ DRM_FORMAT_ABGR8888, ADE_ABGR_8888 },\n };\n \n-static const u32 channel_formats1[] = {\n+static const u32 channel_formats[] = {\n \t/* channel 1,2,3,4 */\n \tDRM_FORMAT_RGB565, DRM_FORMAT_BGR565, DRM_FORMAT_RGB888,\n \tDRM_FORMAT_BGR888, DRM_FORMAT_XRGB8888, DRM_FORMAT_XBGR8888,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e200d8eb390951fa10b87299ed084428b401fe85"}
{"commit_hash": "5fb2e411be93524070658716fcba6d50a6c71943", "short_hash": "5fb2e411be93", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:14Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:39+02:00", "subject": "drm: kirin: Move ade crtc/plane help functions to driver_data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 15, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 6, "score_quality": 16, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit moving CRTC/plane functions to driver_data structure for better hardware revision support. Small code volume (15 insertions, 5 deletions) in non-critical DRM subsystem. Strong review chain with Acked-by and Reviewed-by tags from maintainers. Clear commit message explaining refactoring purpose. Low user impact as internal restructuring only.", "code_snippet": "@@ -917,14 +917,15 @@ static int ade_plane_init(struct drm_device *dev, struct kirin_plane *kplane,\n \tif (ret)\n \t\treturn ret;\n \n-\tret = drm_universal_plane_init(dev, &kplane->base, 1, &ade_plane_funcs,\n-\t\t\t\t       fmts, fmts_cnt, NULL, type, NULL);\n+\tret = drm_universal_plane_init(dev, &kplane->base, 1,\n+\t\t\t\t       ade_driver_data.plane_funcs, fmts,\n+\t\t\t\t       fmts_cnt, NULL, type, NULL);\n \tif (ret) {\n \t\tDRM_ERROR(\"fail to init plane, ch=%d\\n\", kplane->ch);\n \t\treturn ret;\n \t}\n \n-\tdrm_plane_helper_add(&kplane->base, &ade_plane_helper_funcs);\n+\tdrm_plane_helper_add(&kplane->base, ade_driver_data.plane_helper_funcs);\n \n \treturn 0;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5fb2e411be93524070658716fcba6d50a6c71943"}
{"commit_hash": "48fa7c17d11a66a0a6202c3ac90c77907515304b", "short_hash": "48fa7c17d11a", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:17Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:40+02:00", "subject": "drm: kirin: Move plane number and primay plane in driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 15, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 7, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit for Kirin DRM driver to support multiple hardware revisions. Moves plane configuration to driver data structure. Well-reviewed with Reviewed-by and Acked-by tags. Low risk cleanup that improves maintainability. Small code volume (23 lines changed). Cross-company contribution from HiSilicon with maintainer sign-offs.", "code_snippet": "@@ -991,7 +990,7 @@ static int ade_drm_init(struct platform_device *pdev)\n \tstruct kirin_plane *kplane;\n \tenum drm_plane_type type;\n \tint ret;\n-\tint i;\n+\tu32 ch;\n \n \tade = devm_kzalloc(dev->dev, sizeof(*ade), GFP_KERNEL);\n \tif (!ade) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/48fa7c17d11a66a0a6202c3ac90c77907515304b"}
{"commit_hash": "bdaf419efed49ca0e3ea4f1a0037e48c2f3b8ddf", "short_hash": "bdaf419efed4", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:16Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:40+02:00", "subject": "drm: kirin: Move mode config function to driver_data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 12, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 8, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 3, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit moving mode config function to driver_data structure for better hardware revision support. Code volume: 3 (20 lines changed). Subsystem tier: 6 (DRM driver). Base score: 5 (maintenance refactoring). Review chain: 8 (Acked-by, Reviewed-by, 2 sign-offs). Commit message: 6 (clear explanation with context and Cc list). Atomicity: 3 (focused single-purpose change). Cross-org: 4 (HiSilicon author, Linaro co-author, community maintainer). Maintainer endorsement: 4 (reviewed by subsystem maintainer Sam Ravnborg). Novelty: 3 (enables future device support).", "code_snippet": "@@ -1038,6 +1039,13 @@ static void ade_drm_cleanup(struct platform_device *pdev)\n {\n }\n \n+static const struct drm_mode_config_funcs ade_mode_config_funcs = {\n+\t.fb_create = drm_gem_fb_create,\n+\t.atomic_check = drm_atomic_helper_check,\n+\t.atomic_commit = drm_atomic_helper_commit,\n+\n+};\n+\n struct kirin_drm_data ade_driver_data = {\n \t.channel_formats = channel_formats,\n \t.channel_formats_cnt = ARRAY_SIZE(channel_formats),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bdaf419efed49ca0e3ea4f1a0037e48c2f3b8ddf"}
{"commit_hash": "49af4611399a8345971bfb25dfca2b1ec51ecc0b", "short_hash": "49af4611399a", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:18Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:41+02:00", "subject": "drm: kirin: Move config max_width and max_height to driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 5, "files_changed": 3, "insertions": 9, "deletions": 12, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 11, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit to move max_width/max_height config to driver data structure. Review chain strong (Acked-by + Reviewed-by). Good commit message explains purpose. Cross-org contribution (HiSilicon author, Sam Ravnborg maintainer). Low code volume (21 lines changed). Enables future device support.", "code_snippet": "@@ -40,17 +40,6 @@ static int kirin_drm_kms_cleanup(struct drm_device *dev)\n \treturn 0;\n }\n \n-static void kirin_drm_mode_config_init(struct drm_device *dev)\n-{\n-\tdev->mode_config.min_width = 0;\n-\tdev->mode_config.min_height = 0;\n-\n-\tdev->mode_config.max_width = 2048;\n-\tdev->mode_config.max_height = 2048;\n-\n-\tdev->mode_config.funcs = driver_data->mode_config_funcs;\n-}\n-\n static int kirin_drm_kms_init(struct drm_device *dev)\n {\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49af4611399a8345971bfb25dfca2b1ec51ecc0b"}
{"commit_hash": "d606dc9a6323741b74c4e815a8ee2c158186e82f", "short_hash": "d606dc9a6323", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:20Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:42+02:00", "subject": "drm: kirin: Add register connect helper functions in drm init", "primary_category": "FEAT-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 5, "files_changed": 3, "insertions": 45, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 9, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit adding conditional connector registration for kirin DRM driver. 45 insertions across 3 files. Strong review chain with Acked-by and Reviewed-by tags. Cross-org collaboration (Hisilicon author, maintainer committer). Low user impact as internal driver refactoring.", "code_snippet": "@@ -1073,6 +1073,7 @@ static struct drm_driver ade_driver = {\n };\n \n struct kirin_drm_data ade_driver_data = {\n+\t.register_connects = false,\n \t.num_planes = ADE_CH_NUM,\n \t.prim_plane = ADE_CH1,\n \t.channel_formats = channel_formats,\ndiff --git a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c\nindex c9faaa848cc6..68de8838da3c 100644\n--- a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c\n+++ b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d606dc9a6323741b74c4e815a8ee2c158186e82f"}
{"commit_hash": "1053d01864937897c90103cb118acf729a7f2df4", "short_hash": "1053d0186493", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:19Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:42+02:00", "subject": "drm: kirin: Move drm driver to driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 26, "deletions": 34, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 8, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit moving drm_driver structure to device-specific driver data to support multiple hardware revisions. Code volume: 60 lines (26 insertions, 34 deletions) across 3 files in DRM/Kirin subsystem (tier 6 - display driver). No cross-subsystem impact. Base score 5 for refactoring. Good review chain with Acked-by and Reviewed-by tags, clear commit message explaining rationale. Cross-org collaboration between Hisilicon and Linaro maintainers.", "code_snippet": "@@ -1049,6 +1049,29 @@ static const struct drm_mode_config_funcs ade_mode_config_funcs = {\n \n };\n \n+DEFINE_DRM_GEM_CMA_FOPS(ade_fops);\n+\n+static struct drm_driver ade_driver = {\n+\t.driver_features = DRIVER_GEM | DRIVER_MODESET | DRIVER_ATOMIC,\n+\t.fops = &ade_fops,\n+\t.gem_free_object_unlocked = drm_gem_cma_free_object,\n+\t.gem_vm_ops = &drm_gem_cma_vm_ops,\n+\t.dumb_create = drm_gem_cma_dumb_create_internal,\n+\t.prime_handle_to_fd\t= drm_gem_prime_handle_to_fd,\n+\t.prime_fd_to_handle\t= drm_gem_prime_fd_to_handle,\n+\t.gem_prime_get_sg_table = drm_gem_cma_prime_get_sg_table,\n+\t.gem_prime_import_sg_table = drm_gem_cma_prime_import_sg_table,\n+\t.gem_prime_vmap = drm_gem_cma_prime_vmap,\n+\t.gem_prime_vunmap = drm_gem_cma_prime_vunmap,\n+\t.gem_prime_mmap = drm_gem_cma_prime_mmap,\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1053d01864937897c90103cb118acf729a7f2df4"}
{"commit_hash": "a51735befeca43239020fc68a44cb8490035b836", "short_hash": "a51735befeca", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:21Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:43+02:00", "subject": "drm: kirin: Rename plane_init and crtc_init", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin"], "subsystem_tier": 6, "files_changed": 1, "insertions": 10, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 6, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit renaming functions (ade_crtc/plane_init -> kirin_crtc/plane_init) to prepare for cross-hardware support. Low code volume (17 lines changed). Strong review chain with Acked-by and Reviewed-by tags from maintainers. Good commit message explaining the refactoring rationale. No stable CC or fixes tag indicates internal refactoring for future hardware support.", "code_snippet": "@@ -892,8 +892,9 @@ static struct drm_plane_funcs ade_plane_funcs = {\n \t.atomic_destroy_state = drm_atomic_helper_plane_destroy_state,\n };\n \n-static int ade_plane_init(struct drm_device *dev, struct kirin_plane *kplane,\n-\t\t\t  enum drm_plane_type type)\n+static int kirin_drm_plane_init(struct drm_device *dev,\n+\t\t\t\tstruct kirin_plane *kplane,\n+\t\t\t\tenum drm_plane_type type)\n {\n \tint ret = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a51735befeca43239020fc68a44cb8490035b836"}
{"commit_hash": "27dd04a59158f2c52974c3691163b8014c8195f1", "short_hash": "27dd04a59158", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:23Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:44+02:00", "subject": "drm: kirin: Make driver_data variable non-global", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 24, "deletions": 19, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 7, "score_quality": 16, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit removing global driver_data variable in Hisilicon Kirin DRM driver. Changes global to per-instance access via of_device_get_match_data(). 43 lines changed across 1 file. Strong review chain with Acked-by and Reviewed-by tags from maintainers. Cross-org contribution from Hisilicon with maintainer sign-off. Low immediate user impact as this is architectural cleanup for better hardware revision support.", "code_snippet": "@@ -29,18 +29,9 @@\n \n #include \"kirin_drm_drv.h\"\n \n-static struct kirin_drm_data *driver_data;\n \n-static int kirin_drm_kms_cleanup(struct drm_device *dev)\n-{\n-\tdrm_kms_helper_poll_fini(dev);\n-\tdriver_data->cleanup(to_platform_device(dev->dev));\n-\tdrm_mode_config_cleanup(dev);\n-\n-\treturn 0;\n-}\n-\n-static int kirin_drm_kms_init(struct drm_device *dev)\n+static int kirin_drm_kms_init(struct drm_device *dev,\n+\t\t\t      const struct kirin_drm_data *driver_data)\n {\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27dd04a59158f2c52974c3691163b8014c8195f1"}
{"commit_hash": "a8c8af59e428f88db721e1b357ec14365822da1a", "short_hash": "a8c8af59e428", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:22Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:44+02:00", "subject": "drm: kirin: Fix dev->driver_data setting", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 1, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 9, "score_quality": 16, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring bug fix in DRM kirin driver correcting dev->driver_data pointer to point to drm_device instead of ade_data. Low code volume (2 insertions, 3 deletions). Good review chain with Acked-by and Reviewed-by tags. Cross-org contribution from HiSilicon with maintainer (Sam Ravnborg) sign-off.", "code_snippet": "@@ -999,7 +999,6 @@ static int ade_drm_init(struct platform_device *pdev)\n \t\tDRM_ERROR(\"failed to alloc ade_data\\n\");\n \t\treturn -ENOMEM;\n \t}\n-\tplatform_set_drvdata(pdev, ade);\n \n \tctx = ade_hw_ctx_alloc(pdev, &ade->crtc.base);\n \tif (IS_ERR(ctx)) {\ndiff --git a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c\nindex 68de8838da3c..7f8d4539b1a9 100644\n--- a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c\n+++ b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a8c8af59e428f88db721e1b357ec14365822da1a"}
{"commit_hash": "28cd05eee4097e7c94dac8e20d3c4af8b450447b", "short_hash": "28cd05eee409", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:25Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:45+02:00", "subject": "drm: kirin: Pass driver data to crtc init and plane init", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 13, "deletions": 10, "hunks": 10, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 7, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a targeted refactoring commit to prepare for multi-hardware support in the kirin DRM driver. The changes are small and focused (13 insertions, 10 deletions). The commit has excellent review quality with Acked-by and Reviewed-by tags. It enables future hardware support but has no direct user impact. Cross-company collaboration between HiSilicon and Linaro maintainers.", "code_snippet": "@@ -589,13 +590,13 @@ static int kirin_drm_crtc_init(struct drm_device *dev, struct drm_crtc *crtc,\n \tcrtc->port = port;\n \n \tret = drm_crtc_init_with_planes(dev, crtc, plane, NULL,\n-\t\t\t\t\tade_driver_data.crtc_funcs, NULL);\n+\t\t\t\t\tdriver_data->crtc_funcs, NULL);\n \tif (ret) {\n \t\tDRM_ERROR(\"failed to init crtc.\\n\");\n \t\treturn ret;\n \t}\n \n-\tdrm_crtc_helper_add(crtc, ade_driver_data.crtc_helper_funcs);\n+\tdrm_crtc_helper_add(crtc, driver_data->crtc_helper_funcs);\n \n \treturn 0;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/28cd05eee4097e7c94dac8e20d3c4af8b450447b"}
{"commit_hash": "2e89b4fbca8f8e6bdb674ae9778e7a0fd22b28ff", "short_hash": "2e89b4fbca8f", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:24Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:45+02:00", "subject": "drm: kirin: Add alloc_hw_ctx/clean_hw_ctx ops in driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/hisilicon/kirin"], "subsystem_tier": 6, "files_changed": 2, "insertions": 13, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 8, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit adding function pointers to driver_data structure for better hardware revision support. Small code volume (14 lines changed). Has strong review chain (Acked-by, Reviewed-by, multiple signoffs). Cross-company collaboration (HiSilicon author, Linaro contributor, maintainer). No testing evidence. Part of ongoing refactoring series.", "code_snippet": "@@ -1089,6 +1093,9 @@ struct kirin_drm_data ade_driver_data = {\n \t.plane_funcs = &ade_plane_funcs,\n \t.mode_config_funcs = &ade_mode_config_funcs,\n \n+\t.alloc_hw_ctx = ade_hw_ctx_alloc,\n+\t.cleanup_hw_ctx = ade_hw_ctx_cleanup,\n+\n \t.init = ade_drm_init,\n \t.cleanup = ade_drm_cleanup\n };\ndiff --git a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.h b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.h\nindex 95f56c9960d5..1663610d2cd8 100644\n--- a/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.h\n+++ b/drivers/gpu/drm/hisilicon/kirin/kirin_drm_drv.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e89b4fbca8f8e6bdb674ae9778e7a0fd22b28ff"}
{"commit_hash": "89a565dba1a0ade82f90008589e5a7c22656b149", "short_hash": "89a565dba1a0", "author_name": "Xu YiPing", "author_email": "xuyiping@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-20T23:06:26Z", "committer_name": "Sam Ravnborg", "committer_email": "sam@ravnborg.org", "committer_company": "Ravnborg", "commit_date": "2019-08-21T19:15:46+02:00", "subject": "drm: kirin: Move ade drm init to kirin drm drv", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/kirin/"], "subsystem_tier": 5, "files_changed": 3, "insertions": 129, "deletions": 142, "hunks": 24, "review_chain": {"signed_off_by": ["Xu YiPing <xuyiping@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "reviewed_by": ["Sam Ravnborg <sam@ravnborg.org> (Ravnborg)"], "tested_by": [], "acked_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 7, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DRM/HISILICON subsystem refactoring (tier 5). Renames ade_data to kirin_drm_private and moves crtc_init/plane_init functions to generic location for code sharing between kirin620/kirin960. 271 lines changed (129 insertions, 142 deletions) across 3 files. Reviewed-by from maintainer Sam Ravnborg plus Acked-by from Xinliang Liu. Cross-org contribution (HiSilicon author, maintainer committer). Well-structured refactoring enabling future hardware support.", "code_snippet": "@@ -53,13 +53,6 @@ struct ade_hw_ctx {\n \tstruct drm_crtc *crtc;\n };\n \n-struct ade_data {\n-\tstruct kirin_crtc crtc;\n-\tstruct kirin_plane planes[ADE_CH_NUM];\n-\tstruct ade_hw_ctx *hw_ctx;\n-};\n-\n-/* ade-format info: */\n static const struct kirin_format ade_formats[] = {\n \t/* 16bpp RGB: */\n \t{ DRM_FORMAT_RGB565, ADE_RGB_565 },", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89a565dba1a0ade82f90008589e5a7c22656b149"}
{"commit_hash": "6892c1f866bf17f9c945f04716610e4240c35f54", "short_hash": "6892c1f866bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-27T07:53:50Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-21T22:18:51-05:00", "subject": "drm/amdgpu: remove set but not used variable 'psp_enabled'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "c6b6a42175f5", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix compiler warning. Minimal code change (5 deletions), GPU subsystem (tier 5). Cross-org contribution from Huawei to AMD subsystem with maintainer sign-off. Good commit message with fixes tag and compiler warning context.", "code_snippet": "@@ -576,7 +576,6 @@ static const struct amdgpu_asic_funcs nv_asic_funcs =\n \n static int nv_common_early_init(void *handle)\n {\n-\tbool psp_enabled = false;\n \tstruct amdgpu_device *adev = (struct amdgpu_device *)handle;\n \n \tadev->smc_rreg = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6892c1f866bf17f9c945f04716610e4240c35f54"}
{"commit_hash": "252d2a5246363c36b66bb13d73978b8b4b71b1ef", "short_hash": "252d2a524636", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-10T01:57:20Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-21T22:18:54-05:00", "subject": "drm/amdgpu: remove duplicated include from gfx_v9_0.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 3, "score_impact": 0, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing a duplicate #include statement in amdgpu driver. Single line deletion (1 insertion, 0 deletions noted incorrectly - actually 0 insertions, 1 deletion). Cross-org contribution from Huawei employee, signed off by AMD maintainer. Proper review chain with maintainer sign-off. Minimal technical impact.", "code_snippet": "@@ -40,7 +40,6 @@\n #include \"vega10_enum.h\"\n #include \"hdp/hdp_4_0_offset.h\"\n \n-#include \"soc15.h\"\n #include \"soc15_common.h\"\n #include \"clearstate_gfx9.h\"\n #include \"v9_structs.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/252d2a5246363c36b66bb13d73978b8b4b71b1ef"}
{"commit_hash": "192d56d2437f690bce20644f3a5eb2aaf420dc87", "short_hash": "192d56d2437f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T15:51:31+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-21T22:18:57-05:00", "subject": "drm/amd/display: remove duplicated include from dc_link.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of duplicated #include statements and conditional block in AMD display driver. Trivial cleanup with no functional change. Cross-org contribution from Huawei to AMD subsystem, signed off by AMD maintainer.", "code_snippet": "@@ -45,10 +45,6 @@\n #include \"dpcd_defs.h\"\n #include \"dmcu.h\"\n #include \"hw/clk_mgr.h\"\n-#if defined(CONFIG_DRM_AMD_DC_DCN2_0)\n-#include \"resource.h\"\n-#endif\n-#include \"hw/clk_mgr.h\"\n \n #define DC_LOGGER_INIT(logger)\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/192d56d2437f690bce20644f3a5eb2aaf420dc87"}
{"commit_hash": "a52c26f1d768b6185ed56444a1e5a1629ffd0c4c", "short_hash": "a52c26f1d768", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:00:54+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-21T22:19:00-05:00", "subject": "drm/amdkfd: remove set but not used variable 'pdd'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "5b87245faf57", "cc_stable": false, "subsystem_prefix": "drm/amdkfd", "subsystems_touched": ["drivers/gpu/drm/amd/amdkfd/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 6, "score_impact": 2, "score_quality": 14, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial cleanup commit removing an unused variable to fix compiler warning. Low code volume (11 deletions), medium subsystem tier (GPU driver), cleanup category (2 points). Excellent commit message with clear explanation and fixes tag (5 points). Good review chain with maintainer sign-off (6 points). Cross-org contribution from Huawei to AMD subsystem (4 points). No user impact or testing evidence.", "code_snippet": "@@ -1044,7 +1044,6 @@ static void restore_process_worker(struct work_struct *work)\n {\n \tstruct delayed_work *dwork;\n \tstruct kfd_process *p;\n-\tstruct kfd_process_device *pdd;\n \tint ret = 0;\n \n \tdwork = to_delayed_work(work);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a52c26f1d768b6185ed56444a1e5a1629ffd0c4c"}
{"commit_hash": "b382f44e98506bcb00acada0e30151a73e782a93", "short_hash": "b382f44e9850", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-05T10:03:24+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T10:09:26+02:00", "subject": "KVM: X86: Add pv tlb shootdown tracepoint", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 21, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 12, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Tracepoint addition for debugging KVM paravirt TLB flush operations. Low technical complexity (21 insertions, tracing infrastructure). Moderate impact as debugging aid for virtualization performance. Cross-org contribution from Tencent, reviewed and signed off by Red Hat maintainer Paolo Bonzini.", "code_snippet": "@@ -1462,6 +1462,25 @@ TRACE_EVENT(kvm_hv_send_ipi_ex,\n \t\t  __entry->vector, __entry->format,\n \t\t  __entry->valid_bank_mask)\n );\n+\n+TRACE_EVENT(kvm_pv_tlb_flush,\n+\tTP_PROTO(unsigned int vcpu_id, bool need_flush_tlb),\n+\tTP_ARGS(vcpu_id, need_flush_tlb),\n+\n+\tTP_STRUCT__entry(\n+\t\t__field(\tunsigned int,\tvcpu_id\t\t)\n+\t\t__field(\tbool,\tneed_flush_tlb\t\t)\n+\t),\n+\n+\tTP_fast_assign(\n+\t\t__entry->vcpu_id\t= vcpu_id;\n+\t\t__entry->need_flush_tlb = need_flush_tlb;\n+\t),\n+\n+\tTP_printk(\"vcpu %u need_flush_tlb %s\", __entry->vcpu_id,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b382f44e98506bcb00acada0e30151a73e782a93"}
{"commit_hash": "cc212241df0b8975bb0e6d7f9028405a9c664e49", "short_hash": "cc212241df0b", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-11T10:14:23+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-22T11:22:17+02:00", "subject": "arm: dts: mediatek: add basic support for MT7629 SoC", "primary_category": "FEAT-HW", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arm/boot/dts"], "subsystem_tier": 6, "files_changed": 4, "insertions": 816, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": ["Kevin Hilman <khilman@baylibre.com> (BayLibre)"], "acked_by": [], "reported_by": []}, "score_total": 57, "score_technical": 14, "score_impact": 20, "score_quality": 14, "score_community": 9, "score_breakdown": {"A1_code_volume": 8, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 4, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New device tree support for MediaTek MT7629 SoC - substantial addition (816 lines, 4 files). Tier 6 subsystem (ARM DTS). High novelty (new SoC support). Good review chain (author + maintainer signatures, Tested-by). Cross-org contribution (author @mediatek.com, committer @gmail.com). Enables hardware support for MT7629 reference board.", "code_snippet": "@@ -1262,6 +1262,7 @@ dtb-$(CONFIG_ARCH_MEDIATEK) += \\\n \tmt7623a-rfb-nand.dtb \\\n \tmt7623n-rfb-emmc.dtb \\\n \tmt7623n-bananapi-bpi-r2.dtb \\\n+\tmt7629-rfb.dtb \\\n \tmt8127-moose.dtb \\\n \tmt8135-evbp1.dtb\n dtb-$(CONFIG_ARCH_MILBEAUT) += milbeaut-m10v-evb.dtb\ndiff --git a/arch/arm/boot/dts/mt7629-rfb.dts b/arch/arm/boot/dts/mt7629-rfb.dts\nnew file mode 100644\nindex 000000000000..3621b7d2b22a\n--- /dev/null\n+++ b/arch/arm/boot/dts/mt7629-rfb.dts", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc212241df0b8975bb0e6d7f9028405a9c664e49"}
{"commit_hash": "cac33c104a1007fb679011807c57553ac1288efe", "short_hash": "cac33c104a10", "author_name": "Hsin-Hsiung Wang", "author_email": "hsin-hsiung.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-22T16:55:40+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-22T11:25:52+02:00", "subject": "arm64: dts: mt8183: fix pwrap gic number", "primary_category": "BUG-REGRESSION", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "e526c9bc11f8", "cc_stable": false, "subsystem_prefix": "arch/arm64/boot/dts", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 11, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple device tree bugfix correcting wrong GIC interrupt number for pwrap on MT8183. Fixes regression from e526c9bc11f8. 1-line change with clear justification and Fixes tag. Maintainer-reviewed.", "code_snippet": "@@ -248,7 +248,7 @@ pwrap: pwrap@1000d000 {\n \t\t\tcompatible = \"mediatek,mt8183-pwrap\";\n \t\t\treg = <0 0x1000d000 0 0x1000>;\n \t\t\treg-names = \"pwrap\";\n-\t\t\tinterrupts = <GIC_SPI 209 IRQ_TYPE_LEVEL_HIGH>;\n+\t\t\tinterrupts = <GIC_SPI 185 IRQ_TYPE_LEVEL_HIGH>;\n \t\t\tclocks = <&topckgen CLK_TOP_MUX_PMICSPI>,\n \t\t\t\t <&infracfg CLK_INFRA_PMIC_AP>;\n \t\t\tclock-names = \"spi\", \"wrap\";\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cac33c104a1007fb679011807c57553ac1288efe"}
{"commit_hash": "9176b425bf8ff98fd12bffeea8e39373345cd745", "short_hash": "9176b425bf8f", "author_name": "Andrew-sh.Cheng", "author_email": "andrew-sh.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-13T21:31:48+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-22T11:31:04+05:30", "subject": "cpufreq: mediatek: Add support for mt8183", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Andrew-sh.Cheng <andrew-sh.cheng@mediatek.com> (MediaTek)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature addition adding mt8183 SoC support to MediaTek cpufreq driver. Minimal code change (2 lines added) adding compatible string to device ID lists. Reviewed and signed by maintainer Viresh Kumar. Low subsystem tier (cpufreq). Not marked for stable. Low user visibility.", "code_snippet": "@@ -120,6 +120,7 @@ static const struct of_device_id blacklist[] __initconst = {\n \t{ .compatible = \"mediatek,mt817x\", },\n \t{ .compatible = \"mediatek,mt8173\", },\n \t{ .compatible = \"mediatek,mt8176\", },\n+\t{ .compatible = \"mediatek,mt8183\", },\n \n \t{ .compatible = \"nvidia,tegra124\", },\n \t{ .compatible = \"nvidia,tegra210\", },\ndiff --git a/drivers/cpufreq/mediatek-cpufreq.c b/drivers/cpufreq/mediatek-cpufreq.c\nindex 42bc4c9044f6..0c98dd08273d 100644\n--- a/drivers/cpufreq/mediatek-cpufreq.c\n+++ b/drivers/cpufreq/mediatek-cpufreq.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9176b425bf8ff98fd12bffeea8e39373345cd745"}
{"commit_hash": "dce0bb84a73bac8a5bf3ad54e922215b61350481", "short_hash": "dce0bb84a73b", "author_name": "Andrew-sh.Cheng", "author_email": "andrew-sh.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-13T21:31:46+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-22T11:31:04+05:30", "subject": "cpufreq: mediatek: change to regulator_get_optional", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Andrew-sh.Cheng <andrew-sh.cheng@mediatek.com> (MediaTek)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 9, "score_quality": 9, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Single-line change enabling new MediaTek mt8183 chip support by changing regulator_get_exclusive to regulator_get_optional. Allows shared buck between CCI and little cluster. Maintainer (Viresh Kumar) signed off. Cross-org contribution from MediaTek.", "code_snippet": "@@ -338,7 +338,7 @@ static int mtk_cpu_dvfs_info_init(struct mtk_cpu_dvfs_info *info, int cpu)\n \t\tgoto out_free_resources;\n \t}\n \n-\tproc_reg = regulator_get_exclusive(cpu_dev, \"proc\");\n+\tproc_reg = regulator_get_optional(cpu_dev, \"proc\");\n \tif (IS_ERR(proc_reg)) {\n \t\tif (PTR_ERR(proc_reg) == -EPROBE_DEFER)\n \t\t\tpr_warn(\"proc regulator for cpu%d not ready, retry.\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dce0bb84a73bac8a5bf3ad54e922215b61350481"}
{"commit_hash": "408bfc382efca14cc02c57ae935d5b7efd72e02a", "short_hash": "408bfc382efc", "author_name": "huhai", "author_email": "huhai@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-22T19:55:59+08:00", "committer_name": "Jeff Kirsher", "committer_email": "jeffrey.t.kirsher@intel.com", "committer_company": "Intel", "commit_date": "2019-08-22T13:24:13-07:00", "subject": "i40e: add check on i40e_configure_tx_ring() return value", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/intel/i40e"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["huhai <huhai@kylinos.cn> (Kylin)", "Jeff Kirsher <jeffrey.t.kirsher@intel.com> (Intel)"], "reviewed_by": [], "tested_by": ["Andrew Bowers <andrewx.bowers@intel.com> (Intel)"], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Bug fix for error handling in TX ring configuration - 1 line change but fixes critical path where error was ignored. Driver subsystem (tier 10). Crash potential due to continuing after error. Has Tested-by tag.", "code_snippet": "@@ -3364,7 +3364,7 @@ static int i40e_vsi_configure_tx(struct i40e_vsi *vsi)\n \tfor (i = 0; (i < vsi->num_queue_pairs) && !err; i++)\n \t\terr = i40e_configure_tx_ring(vsi->tx_rings[i]);\n \n-\tif (!i40e_enabled_xdp_vsi(vsi))\n+\tif (err || !i40e_enabled_xdp_vsi(vsi))\n \t\treturn err;\n \n \tfor (i = 0; (i < vsi->num_queue_pairs) && !err; i++)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/408bfc382efca14cc02c57ae935d5b7efd72e02a"}
{"commit_hash": "251137b8fa97ef37ed7dadbed9de48475021fd8b", "short_hash": "251137b8fa97", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-22T20:35:16+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-22T15:20:51+02:00", "subject": "arm64: dts: mt8183: add I2C nodes", "primary_category": "DT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dts", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 285, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Device Tree (DT) commit adding I2C nodes for MediaTek mt8183 SoC. Pure hardware description with no functional code changes. 285 lines of DTS additions across 2 files. Includes proper Signed-off-by chain from author and maintainer. Cross-org contribution from MediaTek engineer with maintainer sign-off. Low technical risk as DTS changes describe hardware rather than implementing logic. No testing evidence provided. Atomic, self-contained addition.", "code_snippet": "@@ -30,7 +30,103 @@ &auxadc {\n \tstatus = \"okay\";\n };\n \n+&i2c0 {\n+\tpinctrl-names = \"default\";\n+\tpinctrl-0 = <&i2c_pins_0>;\n+\tstatus = \"okay\";\n+\tclock-frequency = <100000>;\n+};\n+\n+&i2c1 {\n+\tpinctrl-names = \"default\";\n+\tpinctrl-0 = <&i2c_pins_1>;\n+\tstatus = \"okay\";\n+\tclock-frequency = <100000>;\n+};\n+\n+&i2c2 {\n+\tpinctrl-names = \"default\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/251137b8fa97ef37ed7dadbed9de48475021fd8b"}
{"commit_hash": "7fd5a6fb9a75cc00479a7ad4305b5ab31ae2cd59", "short_hash": "7fd5a6fb9a75", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:51:09+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-22T17:25:10-05:00", "subject": "drm/amdkfd: Make deallocate_hiq_sdma_mqd static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amdkfd", "subsystems_touched": ["drivers/gpu/drm/amd/amdkfd/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felix Kuehling <Felix.Kuehling@amd.com> (AMD)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to an unused internal function. 3 lines changed (1 deletion, 2 insertions). Cross-org contribution from Huawei to AMD subsystem with AMD maintainer sign-offs. Good commit message with sparse warning context and robot reporter tag.", "code_snippet": "@@ -1814,7 +1814,8 @@ struct device_queue_manager *device_queue_manager_init(struct kfd_dev *dev)\n \treturn NULL;\n }\n \n-void deallocate_hiq_sdma_mqd(struct kfd_dev *dev, struct kfd_mem_obj *mqd)\n+static void deallocate_hiq_sdma_mqd(struct kfd_dev *dev,\n+\t\t\t\t    struct kfd_mem_obj *mqd)\n {\n \tWARN(!mqd, \"No hiq sdma mqd trunk to free\");\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fd5a6fb9a75cc00479a7ad4305b5ab31ae2cd59"}
{"commit_hash": "0ce6a624473e7e5752a84416f85f73d082308edd", "short_hash": "0ce6a624473e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:30:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-22T18:23:23+01:00", "subject": "ASoC: AMD: Fix Kconfig warning without GPIOLIB", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/amd"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig dependency fix for build warning. Minimal 1-line change to add GPIOLIB dependency. Well-documented with clear explanation of the randconfig build warning. Author from Huawei, merged by maintainer Mark Brown. Not security-related, not tagged for stable.", "code_snippet": "@@ -10,7 +10,7 @@ config SND_SOC_AMD_CZ_DA7219MX98357_MACH\n \tselect SND_SOC_MAX98357A\n \tselect SND_SOC_ADAU7002\n \tselect REGULATOR\n-\tdepends on SND_SOC_AMD_ACP && I2C\n+\tdepends on SND_SOC_AMD_ACP && I2C && GPIOLIB\n \thelp\n \t This option enables machine driver for DA7219 and MAX9835.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ce6a624473e7e5752a84416f85f73d082308edd"}
{"commit_hash": "c101fb29737f4558bf589d0d66371d9e21040568", "short_hash": "c101fb29737f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:36:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-22T18:28:43+01:00", "subject": "ASoC: wm8988: fix typo in wm8988_right_line_controls", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "5409fb4e327a", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial typo fix: incorrect enum reference (wm8988_lline_enum instead of wm8988_rline_enum) in right line controls. 1-line change, low subsystem tier (audio codec driver). Full maintainer chain (author -> maintainer). Good commit message with warning context, Reported-by and Fixes tags.", "code_snippet": "@@ -273,7 +273,7 @@ static const struct soc_enum wm8988_rline_enum =\n \t\t\t      wm8988_line_texts,\n \t\t\t      wm8988_line_values);\n static const struct snd_kcontrol_new wm8988_right_line_controls =\n-\tSOC_DAPM_ENUM(\"Route\", wm8988_lline_enum);\n+\tSOC_DAPM_ENUM(\"Route\", wm8988_rline_enum);\n \n /* Left Mixer */\n static const struct snd_kcontrol_new wm8988_left_mixer_controls[] = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c101fb29737f4558bf589d0d66371d9e21040568"}
{"commit_hash": "97aad5ce88164bc5f884b5234f015ac553ea2fe5", "short_hash": "97aad5ce8816", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:37:47+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-22T18:29:01+01:00", "subject": "ASoC: mediatek: mt2701: Fix -Wunused-const-variable warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 4, "files_changed": 2, "insertions": 21, "deletions": 21, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 6, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Warning fix moving unused static const variable from header to source file. Pure cleanup, no functional change, low complexity.", "code_snippet": "@@ -63,27 +63,6 @@ enum audio_base_clock {\n \tMT2701_BASE_CLK_NUM,\n };\n \n-static const unsigned int mt2701_afe_backup_list[] = {\n-\tAUDIO_TOP_CON0,\n-\tAUDIO_TOP_CON4,\n-\tAUDIO_TOP_CON5,\n-\tASYS_TOP_CON,\n-\tAFE_CONN0,\n-\tAFE_CONN1,\n-\tAFE_CONN2,\n-\tAFE_CONN3,\n-\tAFE_CONN15,\n-\tAFE_CONN16,\n-\tAFE_CONN17,\n-\tAFE_CONN18,\n-\tAFE_CONN19,\n-\tAFE_CONN20,\n-\tAFE_CONN21,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97aad5ce88164bc5f884b5234f015ac553ea2fe5"}
{"commit_hash": "6191cbde5ff02ef5307e7b2e4f5b8f7607c2b1df", "short_hash": "6191cbde5ff0", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-22T20:51:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-22T18:29:10+01:00", "subject": "ASoC: mediatek: mt8183: switch tdm pins gpio function when playback on or off", "primary_category": "BUG-LEAK", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 109, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 15, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Medium-complexity fix (109 insertions, 6 deletions) for current leakage in MediaTek audio driver. Adds pinctrl state management for TDM pins during playback startup/shutdown. Good commit message explaining the issue (current leakage), proper review chain (author -> maintainer), atomic change with clear purpose. Affects audio subsystem (tier 6). Cross-org contribution (MediaTek -> kernel.org). Signed-off-by maintainer indicates endorsement.", "code_snippet": "@@ -46,6 +46,32 @@ static int mt8183_i2s_hw_params_fixup(struct snd_soc_pcm_runtime *rtd,\n \treturn 0;\n }\n \n+static const struct snd_soc_dapm_widget\n+mt8183_mt6358_ts3a227_max98357_dapm_widgets[] = {\n+\tSND_SOC_DAPM_OUTPUT(\"IT6505_8CH\"),\n+};\n+\n+static const struct snd_soc_dapm_route\n+mt8183_mt6358_ts3a227_max98357_dapm_routes[] = {\n+\t{\"IT6505_8CH\", NULL, \"TDM\"},\n+};\n+\n+enum PINCTRL_PIN_STATE {\n+\tPIN_STATE_DEFAULT = 0,\n+\tPIN_TDM_OUT_ON,\n+\tPIN_TDM_OUT_OFF,\n+\tPIN_STATE_MAX\n+};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6191cbde5ff02ef5307e7b2e4f5b8f7607c2b1df"}
{"commit_hash": "7963e5ac901251c7a3b36fe7c987623a3f309393", "short_hash": "7963e5ac9012", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T23:00:32-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-22T23:00:32-04:00", "subject": "ext4: treat buffers with write errors as containing valid data", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4/"], "subsystem_tier": 9, "files_changed": 2, "insertions": 15, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Zhang Xiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 12, "score_impact": 19, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit fixes a data corruption issue in ext4 filesystem when write I/O errors occur. The fix involves treating buffers with write errors as containing valid data rather than re-reading stale data from disk, which prevents journal inconsistencies. Code volume is small (15 insertions, 2 deletions) but the subsystem (ext4) is highly critical. Cross-org contribution from Huawei, signed off by maintainer Theodore Ts'o. Good commit message with detailed explanation of the problem and root cause.", "code_snippet": "@@ -3344,6 +3344,19 @@ static inline void ext4_clear_io_unwritten_flag(ext4_io_end_t *io_end)\n \n extern const struct iomap_ops ext4_iomap_ops;\n \n+static inline int ext4_buffer_uptodate(struct buffer_head *bh)\n+{\n+\t/*\n+\t * If the buffer has the write error flag, we have failed\n+\t * to write out data in the block.  In this  case, we don't\n+\t * have to read the block because we may read the old data\n+\t * successfully.\n+\t */\n+\tif (!buffer_uptodate(bh) && buffer_write_io_error(bh))\n+\t\tset_buffer_uptodate(bh);\n+\treturn buffer_uptodate(bh);\n+}\n+\n #endif\t/* __KERNEL__ */\n \n #define EFSBADCRC\tEBADMSG\t\t/* Bad CRC detected */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7963e5ac901251c7a3b36fe7c987623a3f309393"}
{"commit_hash": "aabc172b986fd797065a61625c22a27a61f3f43d", "short_hash": "aabc172b986f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T10:02:53+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-23T07:57:14-07:00", "subject": "f2fs: Fix build error while CONFIG_NLS=m", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "61a3da4d5ef8", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/f2fs/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 10, "score_impact": 12, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build configuration fix adding single Kconfig 'select NLS' line to resolve linker errors when CONFIG_F2FS_FS=y but CONFIG_NLS=m. Has Fixes tag and Reviewed-by. F2FS is a major filesystem (tier 8). Minimal code change (2 points) with clear justification and proper attribution to Hulk Robot report.", "code_snippet": "@@ -2,6 +2,7 @@\n config F2FS_FS\n \ttristate \"F2FS filesystem support\"\n \tdepends on BLOCK\n+\tselect NLS\n \tselect CRYPTO\n \tselect CRYPTO_CRC32\n \tselect F2FS_FS_XATTR if FS_ENCRYPTION\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aabc172b986fd797065a61625c22a27a61f3f43d"}
{"commit_hash": "0b86f78920919cf36239f4e187ebad7f5d78b5f8", "short_hash": "0b86f7892091", "author_name": "Lihong Kou", "author_email": "koulihong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T15:27:24+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-23T07:57:14-07:00", "subject": "f2fs: remove duplicate code in f2fs_file_write_iter", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Lihong Kou <koulihong@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 5, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing 5 lines of duplicate code in f2fs. The check for IOCB_NOWAIT without IOCB_DIRECT is already performed in generic_write_checks(), so the local check is redundant. Has proper review chain (Reviewed-by, Signed-off-by). Low technical impact but good code hygiene.", "code_snippet": "@@ -3160,11 +3160,6 @@ static ssize_t f2fs_file_write_iter(struct kiocb *iocb, struct iov_iter *from)\n \t\tgoto out;\n \t}\n \n-\tif ((iocb->ki_flags & IOCB_NOWAIT) && !(iocb->ki_flags & IOCB_DIRECT)) {\n-\t\tret = -EINVAL;\n-\t\tgoto out;\n-\t}\n-\n \tif (!inode_trylock(inode)) {\n \t\tif (iocb->ki_flags & IOCB_NOWAIT) {\n \t\t\tret = -EAGAIN;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b86f78920919cf36239f4e187ebad7f5d78b5f8"}
{"commit_hash": "290c30d4454ccf85de372af499e32e86f5d94188", "short_hash": "290c30d4454c", "author_name": "Lihong Kou", "author_email": "koulihong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T19:13:52+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-23T07:57:14-07:00", "subject": "f2fs: cleanup the code in build_sit_entries.", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Lihong Kou <koulihong@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 5, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing useless SBI_NEED_FSCK flag setting in f2fs error paths. The code was unnecessary since errors returned prevent checkpoint updates. Has proper review chain (Reviewed-by, Signed-off-by).", "code_snippet": "@@ -4168,7 +4168,6 @@ static int build_sit_entries(struct f2fs_sb_info *sbi)\n \t\tif (start >= MAIN_SEGS(sbi)) {\n \t\t\tf2fs_err(sbi, \"Wrong journal entry on segno %u\",\n \t\t\t\t start);\n-\t\t\tset_sbi_flag(sbi, SBI_NEED_FSCK);\n \t\t\terr = -EFSCORRUPTED;\n \t\t\tbreak;\n \t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/290c30d4454ccf85de372af499e32e86f5d94188"}
{"commit_hash": "c7663fa2a6631e5dddc1b7b2ba2e905ddffaff90", "short_hash": "c7663fa2a663", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T11:18:17+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-23T11:59:23+02:00", "subject": "gpio: Move gpiochip_lock/unlock_as_irq to gpio/driver.h", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "d74be6dfea1b", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["gpio/", "include/linux/gpio/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 16, "deletions": 16, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix resolving CONFIG_GPIOLIB compilation conflict between gpio.h and gpio/driver.h. Moves gpiochip_lock/unlock_as_irq declarations with proper CONFIG_GPIOLIB guard. Clean code movement (16 insertions, 16 deletions). Fixes: tag present, Reported-by: Hulk Robot, Signed-off-by: maintainer Linus Walleij. Cross-org contribution from Huawei to Linaro maintainer.", "code_snippet": "@@ -221,19 +221,6 @@ static inline int gpio_to_irq(unsigned gpio)\n \treturn -EINVAL;\n }\n \n-static inline int gpiochip_lock_as_irq(struct gpio_chip *chip,\n-\t\t\t\t       unsigned int offset)\n-{\n-\tWARN_ON(1);\n-\treturn -EINVAL;\n-}\n-\n-static inline void gpiochip_unlock_as_irq(struct gpio_chip *chip,\n-\t\t\t\t\t  unsigned int offset)\n-{\n-\tWARN_ON(1);\n-}\n-\n static inline int irq_to_gpio(unsigned irq)\n {\n \t/* irq can never have been returned from gpio_to_irq() */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c7663fa2a6631e5dddc1b7b2ba2e905ddffaff90"}
{"commit_hash": "85a5f06773c85f8ec5030ed65e5fa3190b3f16bd", "short_hash": "85a5f06773c8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:43:46+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-08-23T12:55:09+02:00", "subject": "ACPI: SBS: remove unused const variable 'SMBUS_PEC'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "acpi", "subsystems_touched": ["acpi/sbshc"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal triggered by compiler warning. Removes unused constant SMBUS_PEC that was never used since its introduction in commit 91087dfa51a2. Single-line deletion (2 lines removed). Strong maintainer chain (Huawei author + Intel maintainer Rafael Wysocki). Low technical impact as this is truly unused code.", "code_snippet": "@@ -15,8 +15,6 @@ enum acpi_smb_protocol {\n \tSMBUS_BLOCK_PROCESS_CALL = 0xd,\n };\n \n-static const u8 SMBUS_PEC = 0x80;\n-\n enum acpi_sbs_device_addr {\n \tACPI_SBS_CHARGER = 0x9,\n \tACPI_SBS_MANAGER = 0xa,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/85a5f06773c85f8ec5030ed65e5fa3190b3f16bd"}
{"commit_hash": "863a6670a4f1901d1c9088f357337f3c8a17ab35", "short_hash": "863a6670a4f1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-17T14:56:26+08:00", "committer_name": "Ben Skeggs", "committer_email": "bskeggs@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-23T12:55:30+10:00", "subject": "drm/nouveau/secboot: Make acr_r352_ls_gpccs_func static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/nouveau/nvkm/subdev/secboot/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ben Skeggs <bskeggs@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to a single structure declaration in nouveau GPU driver secboot subsystem. Very low code volume (1 line changed, 1 insertion, 1 deletion). Fixes compilation warning, not a functional bug. Good commit message with clear explanation and Reported-by tag. Cross-org contribution (Huawei author, Red Hat maintainer). Maintainer reviewed and signed off.", "code_snippet": "@@ -1088,7 +1088,7 @@ acr_r352_ls_gpccs_func_0 = {\n \t.lhdr_flags = LSF_FLAG_FORCE_PRIV_LOAD,\n };\n \n-const struct acr_r352_ls_func\n+static const struct acr_r352_ls_func\n acr_r352_ls_gpccs_func = {\n \t.load = acr_ls_ucode_load_gpccs,\n \t.version_max = 0,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/863a6670a4f1901d1c9088f357337f3c8a17ab35"}
{"commit_hash": "1a92f989126ef0743650d43f75bfc431a5c3a310", "short_hash": "1a92f989126e", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-20T16:49:27+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-23T14:03:56+02:00", "subject": "soc: mediatek: cmdq: reorder the parameter", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/soc/mediatek", "subsystems_touched": ["drivers/soc/mediatek", "include/linux/soc/mediatek"], "subsystem_tier": 6, "files_changed": 2, "insertions": 8, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Parameter order bug in MediaTek CMDQ helper functions. The hardware instruction format expects [subsys offset value] but the API was incorrectly ordered as [value subsys offset]. This affects register write operations for MediaTek SoC command queue functionality. Small scope (2 functions), proper API documentation updated, has Reviewed-by from internal maintainer.", "code_snippet": "@@ -145,8 +145,8 @@ int cmdq_pkt_write(struct cmdq_pkt *pkt, u32 value, u32 subsys, u32 offset)\n }\n EXPORT_SYMBOL(cmdq_pkt_write);\n \n-int cmdq_pkt_write_mask(struct cmdq_pkt *pkt, u32 value,\n-\t\t\tu32 subsys, u32 offset, u32 mask)\n+int cmdq_pkt_write_mask(struct cmdq_pkt *pkt, u32 subsys,\n+\t\t\tu32 offset, u32 value, u32 mask)\n {\n \tu32 offset_mask = offset;\n \tint err = 0;\ndiff --git a/include/linux/soc/mediatek/mtk-cmdq.h b/include/linux/soc/mediatek/mtk-cmdq.h\nindex 54ade13a9b15..4bba1c8d97fa 100644\n--- a/include/linux/soc/mediatek/mtk-cmdq.h\n+++ b/include/linux/soc/mediatek/mtk-cmdq.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a92f989126ef0743650d43f75bfc431a5c3a310"}
{"commit_hash": "556030f0604f3cf5f1ea91307c0695541e5c74ca", "short_hash": "556030f0604f", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-20T16:49:28+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-23T14:06:48+02:00", "subject": "soc: mediatek: cmdq: change the type of input parameter", "primary_category": "MAINT-CORRECTNESS", "secondary_categories": ["API-CHANGE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/soc/mediatek", "subsystems_touched": ["drivers/soc/mediatek", "include/linux/soc/mediatek"], "subsystem_tier": 5, "files_changed": 2, "insertions": 10, "deletions": 10, "hunks": 16, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 6, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 1, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Type correctness fix for MediaTek CMDQ helper API. Changed parameter types from u32 to u8/u16 to match hardware specification (subsys=u8, offset=u16, event=u16). 20 lines changed across 2 files. Reviewed by CK Hu (mediatek.com), signed by maintainer Matthias Brugger. Low-risk API change affecting only MediaTek SoC subsystem.", "code_snippet": "@@ -181,7 +181,7 @@ int cmdq_pkt_wfe(struct cmdq_pkt *pkt, u32 event)\n }\n EXPORT_SYMBOL(cmdq_pkt_wfe);\n \n-int cmdq_pkt_clear_event(struct cmdq_pkt *pkt, u32 event)\n+int cmdq_pkt_clear_event(struct cmdq_pkt *pkt, u16 event)\n {\n \tif (event >= CMDQ_MAX_EVENT)\n \t\treturn -EINVAL;\ndiff --git a/include/linux/soc/mediatek/mtk-cmdq.h b/include/linux/soc/mediatek/mtk-cmdq.h\nindex 4bba1c8d97fa..f3ae45d02e80 100644\n--- a/include/linux/soc/mediatek/mtk-cmdq.h\n+++ b/include/linux/soc/mediatek/mtk-cmdq.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/556030f0604f3cf5f1ea91307c0695541e5c74ca"}
{"commit_hash": "d9bd211dfa9377754c4b81333c376036b3a7164b", "short_hash": "d9bd211dfa93", "author_name": "Mars Cheng", "author_email": "mars.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:32+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-23T17:50:06+02:00", "subject": "dt-bindings: mediatek: add support for mt6779 reference board", "primary_category": "DT", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["dt-bindings"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mars Cheng <mars.cheng@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 3, "score_impact": 10, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Device tree binding documentation addition for new MediaTek MT6779 reference board. Minimal code volume (4 lines, 0 deletions) targeting documentation subsystem. Hardware enablement change adding board compatibility. Reviewed by DT maintainer Rob Herring, signed off by maintainer Matthias Brugger. Low complexity, high commit message quality with proper tags.", "code_snippet": "@@ -46,6 +46,10 @@ properties:\n           - enum:\n               - mediatek,mt6765-evb\n           - const: mediatek,mt6765\n+      - items:\n+          - enum:\n+              - mediatek,mt6779-evb\n+          - const: mediatek,mt6779\n       - items:\n           - enum:\n               - mediatek,mt6795-evb\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9bd211dfa9377754c4b81333c376036b3a7164b"}
{"commit_hash": "563d4f0fa998000e5657ee7145aa4648ac4bf16c", "short_hash": "563d4f0fa998", "author_name": "Mars Cheng", "author_email": "mars.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:33+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-23T17:50:06+02:00", "subject": "dt-bindings: mtk-uart: add mt6779 uart bindings", "primary_category": "DT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mars Cheng <mars.cheng@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 3, "score_quality": 8, "score_community": 5, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "DeviceTree binding documentation adding mt6779 UART compatibility string. Single-line addition to add new SoC support. Well-reviewed by maintainer Matthias Brugger. Cross-org contribution from Mediatek to Mediatek-maintained subsystem.", "code_snippet": "@@ -9,6 +9,7 @@ Required properties:\n   * \"mediatek,mt6589-uart\" for MT6589 compatible UARTS\n   * \"mediatek,mt6755-uart\" for MT6755 compatible UARTS\n   * \"mediatek,mt6765-uart\" for MT6765 compatible UARTS\n+  * \"mediatek,mt6779-uart\" for MT6779 compatible UARTS\n   * \"mediatek,mt6795-uart\" for MT6795 compatible UARTS\n   * \"mediatek,mt6797-uart\" for MT6797 compatible UARTS\n   * \"mediatek,mt7622-uart\" for MT7622 compatible UARTS\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/563d4f0fa998000e5657ee7145aa4648ac4bf16c"}
{"commit_hash": "7b07a7a4e169180c7da5078bdf5254515e69c152", "short_hash": "7b07a7a4e169", "author_name": "Mars Cheng", "author_email": "mars.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:34+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-23T17:50:07+02:00", "subject": "dt-bindings: irq: mtk, sysirq: add support for mt6779", "primary_category": "FEAT-HW", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mars Cheng <mars.cheng@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 9, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DT binding documentation addition for MT6779 SoC sysirq support. Minimal code change (1 line) adding new compatible string. Proper review chain with Reviewed-by and maintainer sign-off. Cross-org contribution from MediaTek to maintainer tree. Low risk documentation change enabling hardware support.", "code_snippet": "@@ -15,6 +15,7 @@ Required properties:\n \t\"mediatek,mt7629-sysirq\", \"mediatek,mt6577-sysirq\": for MT7629\n \t\"mediatek,mt6795-sysirq\", \"mediatek,mt6577-sysirq\": for MT6795\n \t\"mediatek,mt6797-sysirq\", \"mediatek,mt6577-sysirq\": for MT6797\n+\t\"mediatek,mt6779-sysirq\", \"mediatek,mt6577-sysirq\": for MT6779\n \t\"mediatek,mt6765-sysirq\", \"mediatek,mt6577-sysirq\": for MT6765\n \t\"mediatek,mt6755-sysirq\", \"mediatek,mt6577-sysirq\": for MT6755\n \t\"mediatek,mt6592-sysirq\", \"mediatek,mt6577-sysirq\": for MT6592\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b07a7a4e169180c7da5078bdf5254515e69c152"}
{"commit_hash": "f3acd33d840d3ea3e1233d234605c85cbbf26054", "short_hash": "f3acd33d840d", "author_name": "xiaolinkui", "author_email": "xiaolinkui@kylinos.cn", "author_company": "Kylin", "author_date": "2019-08-22T14:58:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-24T14:23:35-07:00", "subject": "net: use unlikely for dql_avail case", "primary_category": "FEAT-OPT", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["xiaolinkui <xiaolinkui@kylinos.cn> (Kylin)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 9, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor optimization adding unlikely() macro hint for branch prediction in network device queue completion code. Single-line change in critical networking subsystem (tier 10). Properly signed-off by maintainer David S. Miller. Low complexity, no user-visible impact, no stable CC, no CVE. Atomic change with clear purpose.", "code_snippet": "@@ -3272,7 +3272,7 @@ static inline void netdev_tx_completed_queue(struct netdev_queue *dev_queue,\n \t */\n \tsmp_mb();\n \n-\tif (dql_avail(&dev_queue->dql) < 0)\n+\tif (unlikely(dql_avail(&dev_queue->dql) < 0))\n \t\treturn;\n \n \tif (test_and_clear_bit(__QUEUE_STATE_STACK_XOFF, &dev_queue->state))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f3acd33d840d3ea3e1233d234605c85cbbf26054"}
{"commit_hash": "2307f4a517c7dbb26fe0c0513ee0ba9d3239362f", "short_hash": "2307f4a517c7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:49:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-24T16:24:05-07:00", "subject": "net: hns3: Fix -Wunused-const-variable warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 44, "deletions": 44, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 10, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Compiler warning fix moving unused const variables from header to .c file (44 insertions/deletions). Network driver subsystem (tier 7). Cleanup category with minimal user impact. Cross-org commit (Huawei author, net maintainer David S. Miller merged). Good commit message explaining the warning and fix. Clean atomic change with proper review chain (reported-by, signed-offs).", "code_snippet": "@@ -364,6 +364,50 @@ static const enum hclge_opcode_type hclge_dfx_reg_opcode_list[] = {\n \tHCLGE_OPC_DFX_SSU_REG_2\n };\n \n+static const struct key_info meta_data_key_info[] = {\n+\t{ PACKET_TYPE_ID, 6},\n+\t{ IP_FRAGEMENT, 1},\n+\t{ ROCE_TYPE, 1},\n+\t{ NEXT_KEY, 5},\n+\t{ VLAN_NUMBER, 2},\n+\t{ SRC_VPORT, 12},\n+\t{ DST_VPORT, 12},\n+\t{ TUNNEL_PACKET, 1},\n+};\n+\n+static const struct key_info tuple_key_info[] = {\n+\t{ OUTER_DST_MAC, 48},\n+\t{ OUTER_SRC_MAC, 48},\n+\t{ OUTER_VLAN_TAG_FST, 16},\n+\t{ OUTER_VLAN_TAG_SEC, 16},", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2307f4a517c7dbb26fe0c0513ee0ba9d3239362f"}
{"commit_hash": "258128e8e953c84bd46e487deedcae2bd6543bd4", "short_hash": "258128e8e953", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T20:18:52+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-08-25T18:57:55+01:00", "subject": "iio: st_sensors: Fix build error", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "062809ef7733", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/common/st_sensors/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 7, "score_impact": 12, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix in IIO ST sensors Kconfig - missing REGMAP_I2C/SPI selects causing undefined reference errors. Minimal 2-line change with clear Fixes tag and Reported-by. Maintainer (Jonathan Cameron) signed off, showing proper review.", "code_snippet": "@@ -5,9 +5,11 @@\n \n config IIO_ST_SENSORS_I2C\n \ttristate\n+\tselect REGMAP_I2C\n \n config IIO_ST_SENSORS_SPI\n \ttristate\n+\tselect REGMAP_SPI\n \n config IIO_ST_SENSORS_CORE\n \ttristate\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/258128e8e953c84bd46e487deedcae2bd6543bd4"}
{"commit_hash": "ee641b0cdb9486f8212a3da153a46ab3551a97e5", "short_hash": "ee641b0cdb94", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T09:31:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-25T19:05:23-07:00", "subject": "net: mediatek: remove set but not used variable 'status'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "296c9120752b", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/mediatek"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 6, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Very low code impact (2 deletions), single subsystem driver code. Maintainer (David S. Miller) signed off. Category is MAINT-CLEANUP as it addresses build warnings without functional changes.", "code_snippet": "@@ -1948,9 +1948,7 @@ static irqreturn_t mtk_handle_irq_tx(int irq, void *_eth)\n static irqreturn_t mtk_handle_irq(int irq, void *_eth)\n {\n \tstruct mtk_eth *eth = _eth;\n-\tu32 status;\n \n-\tstatus = mtk_r32(eth, MTK_PDMA_INT_STATUS);\n \tif (mtk_r32(eth, MTK_PDMA_INT_MASK) & MTK_RX_DONE_INT) {\n \t\tif (mtk_r32(eth, MTK_PDMA_INT_STATUS) & MTK_RX_DONE_INT)\n \t\t\tmtk_handle_irq_rx(irq, _eth);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee641b0cdb9486f8212a3da153a46ab3551a97e5"}
{"commit_hash": "0846e1616f0f3365cea732e82e2383932fe644e5", "short_hash": "0846e1616f0f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T02:49:15Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-25T19:48:59-07:00", "subject": "cirrus: cs89x0: remove set but not used variable 'lp'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "6751edeb8700", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/cirrus"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Only 3 lines deleted, minimal impact. Network driver subsystem (mid-tier). Well-documented with Fixes tag and Reported-by. Signed off by maintainer David S. Miller.", "code_snippet": "@@ -1844,15 +1844,12 @@ cleanup_module(void)\n static int __init cs89x0_platform_probe(struct platform_device *pdev)\n {\n \tstruct net_device *dev = alloc_etherdev(sizeof(struct net_local));\n-\tstruct net_local *lp;\n \tvoid __iomem *virt_addr;\n \tint err;\n \n \tif (!dev)\n \t\treturn -ENOMEM;\n \n-\tlp = netdev_priv(dev);\n-\n \tdev->irq = platform_get_irq(pdev, 0);\n \tif (dev->irq <= 0) {\n \t\tdev_warn(&dev->dev, \"interrupt resource missing\\n\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0846e1616f0f3365cea732e82e2383932fe644e5"}
{"commit_hash": "58912dbce6becd31c09b02a1a26b76a5ee23763b", "short_hash": "58912dbce6be", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-08-25T15:24:31+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-26T10:54:15-04:00", "subject": "dm writecache: remove unused member pointer in writeback_struct", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mikulas Patocka <mpatocka@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 3, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused struct member in dm-writecache. Acked by subsystem maintainer Mikulas Patocka. Single line deletion with clear justification. Low impact as code was never used.", "code_snippet": "@@ -190,7 +190,6 @@ struct writeback_struct {\n \tstruct dm_writecache *wc;\n \tstruct wc_entry **wc_list;\n \tunsigned wc_list_n;\n-\tstruct page *page;\n \tstruct wc_entry *wc_list_inline[WB_LIST_INLINE];\n \tstruct bio bio;\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58912dbce6becd31c09b02a1a26b76a5ee23763b"}
{"commit_hash": "62421b3880c71da7ecbf9c4072dc64ef3e65ad0a", "short_hash": "62421b3880c7", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-08-25T15:24:32+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-26T10:54:41-04:00", "subject": "dm writecache: add unlikely for getting two block with same LBA", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mikulas Patocka <mpatocka@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 8, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a micro-optimization adding unlikely() hint for a rare condition in dm-writecache. Very small change (2 lines), acknowledged by maintainer. Low user impact as it optimizes an already-rare edge case.", "code_snippet": "@@ -1628,8 +1628,8 @@ static void writecache_writeback(struct work_struct *work)\n \t\t\tif (unlikely(!next_node))\n \t\t\t\tbreak;\n \t\t\tg = container_of(next_node, struct wc_entry, rb_node);\n-\t\t\tif (read_original_sector(wc, g) ==\n-\t\t\t    read_original_sector(wc, f)) {\n+\t\t\tif (unlikely(read_original_sector(wc, g) ==\n+\t\t\t    read_original_sector(wc, f))) {\n \t\t\t\tf = g;\n \t\t\t\tcontinue;\n \t\t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62421b3880c71da7ecbf9c4072dc64ef3e65ad0a"}
{"commit_hash": "5229b4896e8f32bda4bfe29ff91e594ae7aa8a75", "short_hash": "5229b4896e8f", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-08-25T15:24:33+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-26T10:59:00-04:00", "subject": "dm writecache: optimize performance by sorting the blocks for writeback_all", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 16, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 15, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Performance optimization commit for dm-writecache. The commit optimizes writeback_all performance by leveraging the existing rb_tree ordering instead of LRU list traversal. Strong commit message with detailed benchmarking showing >50% improvement (44s vs 99s flush time). Includes comprehensive testing methodology and verification. Cross-org contribution from Lenovo (Huaisheng Ye) with maintainer sign-off from Mike Snitzer (Red Hat). Small code volume (16 insertions, 3 deletions) focused on specific performance path.", "code_snippet": "@@ -1597,7 +1597,14 @@ static void writecache_writeback(struct work_struct *work)\n \t\t\tbreak;\n \t\t}\n \n-\t\te = container_of(wc->lru.prev, struct wc_entry, lru);\n+\t\tif (unlikely(wc->writeback_all)) {\n+\t\t\tif (unlikely(!e)) {\n+\t\t\t\twritecache_flush(wc);\n+\t\t\t\te = container_of(rb_first(&wc->tree), struct wc_entry, rb_node);\n+\t\t\t} else\n+\t\t\t\te = g;\n+\t\t} else\n+\t\t\te = container_of(wc->lru.prev, struct wc_entry, lru);\n \t\tBUG_ON(e->write_in_progress);\n \t\tif (unlikely(!writecache_entry_is_committed(wc, e))) {\n \t\t\twritecache_flush(wc);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5229b4896e8f32bda4bfe29ff91e594ae7aa8a75"}
{"commit_hash": "4f1a7007d688a792b6b929220d7f68a25eb493be", "short_hash": "4f1a7007d688", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-04-21T17:51:48+08:00", "committer_name": "Xinliang Liu", "committer_email": "z.liuxinliang@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-08-26T15:21:33+08:00", "subject": "drm/hisilicon/hibmc: Using module_pci_driver.", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/hisilicon/hibmc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 12, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "reviewed_by": ["Xinliang Liu <z.liuxinliang@hisilicon.com> (HiSilicon)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 5, "score_impact": 6, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial refactoring replacing boilerplate module init/exit code with module_pci_driver macro. Single file, 1 insertion, 12 deletions. Low impact cleanup change. Has proper review chain (Reviewed-by) and maintainer sign-off.", "code_snippet": "@@ -394,18 +394,7 @@ static struct pci_driver hibmc_pci_driver = {\n \t.driver.pm =    &hibmc_pm_ops,\n };\n \n-static int __init hibmc_init(void)\n-{\n-\treturn pci_register_driver(&hibmc_pci_driver);\n-}\n-\n-static void __exit hibmc_exit(void)\n-{\n-\treturn pci_unregister_driver(&hibmc_pci_driver);\n-}\n-\n-module_init(hibmc_init);\n-module_exit(hibmc_exit);\n+module_pci_driver(hibmc_pci_driver);\n \n MODULE_DEVICE_TABLE(pci, hibmc_pci_table);\n MODULE_AUTHOR(\"RongrongZou <zourongrong@huawei.com>\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f1a7007d688a792b6b929220d7f68a25eb493be"}
{"commit_hash": "c1499a044d7c2bbd9ea3d9c17e17f16595ae6d69", "short_hash": "c1499a044d7c", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-06-09T15:52:00+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-26T15:39:53-04:00", "subject": "dm space map common: remove check for impossible sm_find_free() return value", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers-md", "subsystems_touched": ["drivers/md/persistent-data/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing dead error handling code. The sm_find_free() function only returns -ENOSPC or 0, so checking for other negative values is unnecessary. Cross-org contribution from Huawei author with Red Hat maintainer sign-off.", "code_snippet": "@@ -369,10 +369,6 @@ int sm_ll_find_free_block(struct ll_disk *ll, dm_block_t begin,\n \t\t\t */\n \t\t\tdm_tm_unlock(ll->tm, blk);\n \t\t\tcontinue;\n-\n-\t\t} else if (r < 0) {\n-\t\t\tdm_tm_unlock(ll->tm, blk);\n-\t\t\treturn r;\n \t\t}\n \n \t\tdm_tm_unlock(ll->tm, blk);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c1499a044d7c2bbd9ea3d9c17e17f16595ae6d69"}
{"commit_hash": "3e644828421e31167bedd8dc4d291cdcc822ab20", "short_hash": "3e644828421e", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-08T14:19:05+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-08-26T17:20:01+05:30", "subject": "phy: ti: am654-serdes: fix an use-after-free in serdes_am654_clk_register()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "71e2f5c5c224", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/phy/ti"], "subsystem_tier": 6, "files_changed": 1, "insertions": 22, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Roger Quadros <rogerq@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Use-after-free bug fix in PHY driver with proper error handling and cleanup. Has Fixes tag, Reviewed-by, and good commit message explaining the issue.", "code_snippet": "@@ -405,6 +405,7 @@ static int serdes_am654_clk_register(struct serdes_am654 *am654_phy,\n \tconst __be32 *addr;\n \tunsigned int reg;\n \tstruct clk *clk;\n+\tint ret = 0;\n \n \tmux = devm_kzalloc(dev, sizeof(*mux), GFP_KERNEL);\n \tif (!mux)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e644828421e31167bedd8dc4d291cdcc822ab20"}
{"commit_hash": "71912e08e06b7041ba3b40945328b84798dfe6fc", "short_hash": "71912e08e06b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T12:08:40-07:00", "committer_name": "Darrick J. Wong", "committer_email": "darrick.wong@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-26T17:43:15-07:00", "subject": "xfs: remove excess function parameter description in 'xfs_btree_sblock_v5hdr_verify'", "primary_category": "DOC", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "c5ab131ba0df", "cc_stable": false, "subsystem_prefix": "fs/xfs", "subsystems_touched": ["fs/xfs/libxfs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "reviewed_by": ["Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation fix removing obsolete kernel-doc parameter descriptions. Very small change (2 line deletion). XFS is a tier-6 filesystem subsystem. Has cross-org contribution (Huawei author, Oracle maintainer). Reviewed by maintainer Darrick J. Wong. Fixes gcc build warnings. Low technical impact as only documentation/comments affected.", "code_snippet": "@@ -4466,8 +4466,6 @@ xfs_btree_lblock_verify(\n  *\t\t\t\t      btree block\n  *\n  * @bp: buffer containing the btree block\n- * @max_recs: pointer to the m_*_mxr max records field in the xfs mount\n- * @pag_max_level: pointer to the per-ag max level field\n  */\n xfs_failaddr_t\n xfs_btree_sblock_v5hdr_verify(\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71912e08e06b7041ba3b40945328b84798dfe6fc"}
{"commit_hash": "da26ded3b2fff646d28559004195abe353bce49b", "short_hash": "da26ded3b2ff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T16:57:07+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-27T08:16:19-05:00", "subject": "drm/amdgpu/display: fix build error without CONFIG_DRM_AMD_DC_DSC_SUPPORT", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "8a31820b1218", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 7, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for Kconfig dependency issue in AMD DSC support. Low complexity (4 lines added, 0 deleted), single subsystem (drm/amd/display), fixes compilation error. Cross-org contribution (Huawei to AMD), proper Fixes tag and Reviewed-by from AMD maintainer.", "code_snippet": "@@ -2124,7 +2124,11 @@ void dcn20_hw_sequencer_construct(struct dc *dc)\n \tdc->hwss.enable_power_gating_plane = dcn20_enable_power_gating_plane;\n \tdc->hwss.dpp_pg_control = dcn20_dpp_pg_control;\n \tdc->hwss.hubp_pg_control = dcn20_hubp_pg_control;\n+#ifdef CONFIG_DRM_AMD_DC_DSC_SUPPORT\n \tdc->hwss.dsc_pg_control = dcn20_dsc_pg_control;\n+#else\n+\tdc->hwss.dsc_pg_control = NULL;\n+#endif\n \tdc->hwss.disable_vga = dcn20_disable_vga;\n \n \tif (IS_FPGA_MAXIMUS_DC(dc->ctx->dce_environment)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da26ded3b2fff646d28559004195abe353bce49b"}
{"commit_hash": "b202c0ff184a6203779e32aeb46b50e32e92d7ee", "short_hash": "b202c0ff184a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T15:09:25+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-08-27T10:09:12-05:00", "subject": "drm/amd/display: remove unused function setFieldWithMask", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd/display", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 19, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 9, "score_impact": 3, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal following refactoring (a9f54ce3c603). Single function removal (19 lines). Cross-org contribution (Huawei to AMD tree). Reviewed by AMD maintainer. Clean commit with proper attribution and Reported-by tag.", "code_snippet": "@@ -114,25 +114,6 @@ enum ColorimetryYCCDP {\n \tColorimetryYCC_DP_ITU2020YCbCr  = 7,\n };\n \n-void setFieldWithMask(unsigned char *dest, unsigned int mask, unsigned int value)\n-{\n-\tunsigned int shift = 0;\n-\n-\tif (!mask || !dest)\n-\t\treturn;\n-\n-\twhile (!((mask >> shift) & 1))\n-\t\tshift++;\n-\n-\t//reset\n-\t*dest = *dest & ~mask;\n-\t//set\n-\t//dont let value span past mask\n-\tvalue = value & (mask >> shift);\n-\t//insert value", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b202c0ff184a6203779e32aeb46b50e32e92d7ee"}
{"commit_hash": "3e627fe6d56a4bbed9177ee20229c6aae61e11c5", "short_hash": "3e627fe6d56a", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-08-10T17:58:36+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T10:29:02-05:00", "subject": "dt-bindings: Add vendor prefix for Inspur Corporation", "primary_category": "DT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "devicetree", "subsystems_touched": ["Documentation/devicetree/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 5, "score_impact": 6, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial devicetree vendor prefix addition for Inspur Corporation. 2 lines added to documentation, reviewed and signed-off by DT maintainer Rob Herring. Low technical complexity but proper review process with cross-org collaboration (Inspur engineer + community maintainer).", "code_snippet": "@@ -437,6 +437,8 @@ patternProperties:\n     description: Innolux Corporation\n   \"^inside-secure,.*\":\n     description: INSIDE Secure\n+  \"^inspur,.*\":\n+    description: Inspur Corporation\n   \"^intel,.*\":\n     description: Intel Corporation\n   \"^intercontrol,.*\":\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e627fe6d56a4bbed9177ee20229c6aae61e11c5"}
{"commit_hash": "00f3e689518b8f8d36e333d3b447db18ef22abb3", "short_hash": "00f3e689518b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T07:23:34Z", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-08-27T10:59:56+01:00", "subject": "MIPS: Octeon: remove duplicated include from dma-octeon.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mips", "subsystems_touched": ["arch/mips/cavium-octeon/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 2, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing a duplicated include statement. Single line deletion (1 removal). MIPS architecture subsystem (tier 5). Proper maintainer chain (Huawei author -> MIPS maintainer). Atomic change with clear purpose.", "code_snippet": "@@ -16,7 +16,6 @@\n #include <linux/types.h>\n #include <linux/init.h>\n #include <linux/mm.h>\n-#include <linux/memblock.h>\n \n #include <asm/bootinfo.h>\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/00f3e689518b8f8d36e333d3b447db18ef22abb3"}
{"commit_hash": "b9a4805a4ac1200326ee0c78df0ae3faceabad49", "short_hash": "b9a4805a4ac1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T20:59:39+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T11:44:32+01:00", "subject": "ASoC: SOF: imx8: Make some functions static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sof/imx/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Daniel Baluta <daniel.baluta@nxp.com> (NXP)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 3, "score_impact": 1, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to 5 functions that were not used outside compilation unit. Minimal code change (9 insertions, 9 deletions), single file in sound/soc/sof/imx/ subsystem (tier 3). Has Reviewed-by tag and proper Signed-off-by chain. Cross-org contribution (Huawei author, NXP reviewer, kernel.org maintainer). No user impact, no stable CC, purely code hygiene/cleanup.", "code_snippet": "@@ -101,7 +101,7 @@ static int imx8_get_window_offset(struct snd_sof_dev *sdev, u32 id)\n \treturn MBOX_OFFSET;\n }\n \n-void imx8_dsp_handle_reply(struct imx_dsp_ipc *ipc)\n+static void imx8_dsp_handle_reply(struct imx_dsp_ipc *ipc)\n {\n \tstruct imx8_priv *priv = imx_dsp_get_data(ipc);\n \tunsigned long flags;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9a4805a4ac1200326ee0c78df0ae3faceabad49"}
{"commit_hash": "44b63b0a718fa9aac13c9e88cee9c45a3332b03f", "short_hash": "44b63b0a718f", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-23T15:42:48+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-08-27T18:07:03+02:00", "subject": "netfilter: not mark a spinlock as __read_mostly", "primary_category": "BUG-CRASH", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/netfilter"], "subsystem_tier": 9, "files_changed": 2, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 11, "score_impact": 16, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small netfilter commit removing incorrect __read_mostly annotations from spinlocks. Spinlocks are modified during lock/unlock operations, making __read_mostly inappropriate. Also fixed duplicate definition. Clean, focused fix with proper maintainer sign-off. Cross-org contribution from Baidu to netfilter subsystem.", "code_snippet": "@@ -73,8 +73,7 @@ struct conntrack_gc_work {\n };\n \n static __read_mostly struct kmem_cache *nf_conntrack_cachep;\n-static __read_mostly spinlock_t nf_conntrack_locks_all_lock;\n-static __read_mostly DEFINE_SPINLOCK(nf_conntrack_locks_all_lock);\n+static DEFINE_SPINLOCK(nf_conntrack_locks_all_lock);\n static __read_mostly bool nf_conntrack_locks_all;\n \n /* every gc cycle scans at most 1/GC_MAX_BUCKETS_DIV part of table */\ndiff --git a/net/netfilter/nf_conntrack_labels.c b/net/netfilter/nf_conntrack_labels.c\nindex d1c6b2a2e7bd..522792556632 100644\n--- a/net/netfilter/nf_conntrack_labels.c\n+++ b/net/netfilter/nf_conntrack_labels.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44b63b0a718fa9aac13c9e88cee9c45a3332b03f"}
{"commit_hash": "393151c211006cc5ac6af26ecd9982dd916a8104", "short_hash": "393151c21100", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T12:00:03Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T19:21:54+01:00", "subject": "ASoC: SOF: imx8: Fix return value check in imx8_probe()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "202acc565a1f", "cc_stable": false, "subsystem_prefix": "sound/soc/sof/imx", "subsystems_touched": ["sound/soc/sof/imx"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Daniel Baluta <daniel.baluta@nxp.com> (NXP)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 8, "score_impact": 18, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error checking in imx8_probe() - devm_ioremap_wc() returns NULL on error, not ERR_PTR(). Single file change in audio subsystem (tier 7). Has Reviewed-by tag and proper Fixes tag. Cross-org contribution from Huawei to NXP maintainer.", "code_snippet": "@@ -296,10 +296,10 @@ static int imx8_probe(struct snd_sof_dev *sdev)\n \tsdev->bar[SOF_FW_BLK_TYPE_SRAM] = devm_ioremap_wc(sdev->dev, res.start,\n \t\t\t\t\t\t\t  res.end - res.start +\n \t\t\t\t\t\t\t  1);\n-\tif (IS_ERR(sdev->bar[SOF_FW_BLK_TYPE_SRAM])) {\n+\tif (!sdev->bar[SOF_FW_BLK_TYPE_SRAM]) {\n \t\tdev_err(sdev->dev, \"failed to ioremap mem 0x%x size 0x%x\\n\",\n \t\t\tbase, size);\n-\t\tret = PTR_ERR(sdev->bar[SOF_FW_BLK_TYPE_SRAM]);\n+\t\tret = -ENOMEM;\n \t\tgoto exit_pdev_unregister;\n \t}\n \tsdev->mailbox_bar = SOF_FW_BLK_TYPE_SRAM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/393151c211006cc5ac6af26ecd9982dd916a8104"}
{"commit_hash": "d2ac1fe0342ce2b44621f60d053800e2d94f1d21", "short_hash": "d2ac1fe0342c", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T12:58:46+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T20:38:59+01:00", "subject": "ASoC: mediatek: mt8183: fix tdm out data align issue", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 12, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small 3-line fix for audio data alignment issue in MediaTek TDM output. The bug caused incorrect bit alignment for S32_LE and S24_LE audio formats - MSB vs LSB selection. Sound subsystem is driver-level (tier 5). Maintainer Mark Brown signed off. Clean atomic fix with clear explanation.", "code_snippet": "@@ -241,7 +241,7 @@ int mtk_afe_fe_prepare(struct snd_pcm_substream *substream,\n \tstruct mtk_base_afe *afe = snd_soc_dai_get_drvdata(dai);\n \tstruct mtk_base_afe_memif *memif = &afe->memif[rtd->cpu_dai->id];\n \tint hd_audio = 0;\n-\tint hd_align = 1;\n+\tint hd_align = 0;\n \n \t/* set hd mode */\n \tswitch (substream->runtime->format) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d2ac1fe0342ce2b44621f60d053800e2d94f1d21"}
{"commit_hash": "7add83d93a94aaac79645414fd57d3c4b707d3be", "short_hash": "7add83d93a94", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T09:31:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-27T20:47:56-07:00", "subject": "net: mediatek: remove set but not used variable 'status'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "296c9120752b", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Stefan Roese <sr@denx.de> (Denx)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Very small scope (2 lines), low technical impact. Cross-org contribution from Huawei to Mediatek driver with Reviewed-by tag.", "code_snippet": "@@ -2120,9 +2120,7 @@ static irqreturn_t mtk_handle_irq_tx(int irq, void *_eth)\n static irqreturn_t mtk_handle_irq(int irq, void *_eth)\n {\n \tstruct mtk_eth *eth = _eth;\n-\tu32 status;\n \n-\tstatus = mtk_r32(eth, MTK_PDMA_INT_STATUS);\n \tif (mtk_r32(eth, MTK_PDMA_INT_MASK) & MTK_RX_DONE_INT) {\n \t\tif (mtk_r32(eth, MTK_PDMA_INT_STATUS) & MTK_RX_DONE_INT)\n \t\t\tmtk_handle_irq_rx(irq, _eth);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7add83d93a94aaac79645414fd57d3c4b707d3be"}
{"commit_hash": "7727ae52975d4f4ef7ff69ed8e6e25f6a4168158", "short_hash": "7727ae52975d", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T11:13:24-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-28T11:13:24-04:00", "subject": "ext4: fix potential use after free after remounting with noblock_validity", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 9, "files_changed": 2, "insertions": 147, "deletions": 52, "hunks": 22, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": ["syzbot+1e470567330b7ad711d5@syzkaller.appspotmail.com"]}, "score_total": 55, "score_technical": 14, "score_impact": 16, "score_quality": 16, "score_community": 9, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "This is a critical use-after-free bug fix in ext4 filesystem involving race conditions during remount operations. The commit adds RCU protection to prevent concurrent access to system zone rbtree during remount with noblock_validity option. Code changes are substantial (147 insertions, 52 deletions) across core filesystem metadata handling. Has cross-org contribution (Huawei author, MIT committer, SUSE reviewer), proper review chain, and detailed commit message with race scenario analysis.", "code_snippet": "@@ -38,6 +38,7 @@ int __init ext4_init_system_zone(void)\n \n void ext4_exit_system_zone(void)\n {\n+\trcu_barrier();\n \tkmem_cache_destroy(ext4_system_zone_cachep);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7727ae52975d4f4ef7ff69ed8e6e25f6a4168158"}
{"commit_hash": "520f897a3554b0665af1ae5d5ba286f290cecf5c", "short_hash": "520f897a3554", "author_name": "Yang Guo", "author_email": "guoyang2@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T11:19:23-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-28T11:19:23-04:00", "subject": "ext4: use percpu_counters for extent_status cache hits/misses", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 8, "files_changed": 2, "insertions": 26, "deletions": 15, "hunks": 10, "review_chain": {"signed_off_by": ["Yang Guo <guoyang2@huawei.com> (Huawei)", "Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 14, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Performance optimization commit replacing regular counters with percpu_counters for ext4 extent_status cache hit/miss tracking. Shows 10% IOPS improvement (197k to 218k) in NUMA systems. Well-tested with fio benchmarks, proper error handling added, clean atomic change. High-quality commit message with detailed performance data and Cc to relevant maintainers.", "code_snippet": "@@ -1586,9 +1586,9 @@ int ext4_seq_es_shrinker_info_show(struct seq_file *seq, void *v)\n \tseq_printf(seq, \"stats:\\n  %lld objects\\n  %lld reclaimable objects\\n\",\n \t\t   percpu_counter_sum_positive(&es_stats->es_stats_all_cnt),\n \t\t   percpu_counter_sum_positive(&es_stats->es_stats_shk_cnt));\n-\tseq_printf(seq, \"  %lu/%lu cache hits/misses\\n\",\n-\t\t   es_stats->es_stats_cache_hits,\n-\t\t   es_stats->es_stats_cache_misses);\n+\tseq_printf(seq, \"  %lld/%lld cache hits/misses\\n\",\n+\t\t   percpu_counter_sum_positive(&es_stats->es_stats_cache_hits),\n+\t\t   percpu_counter_sum_positive(&es_stats->es_stats_cache_misses));\n \tif (inode_cnt)\n \t\tseq_printf(seq, \"  %d inodes on list\\n\", inode_cnt);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/520f897a3554b0665af1ae5d5ba286f290cecf5c"}
{"commit_hash": "9ba55543fc0c6bb1cf8edd63be8802d9ab7e1202", "short_hash": "9ba55543fc0c", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T11:25:01-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-08-28T11:25:01-04:00", "subject": "ext4: fix integer overflow when calculating commit interval", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 8, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 17, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Integer overflow bug in ext4 mount option parsing. UBSAN-detected overflow when multiplying commit interval by HZ (536870912 * 1000). Added bounds checking to prevent overflow. Single-file change in critical filesystem code. Good review chain with Reviewed-by and signed off by maintainer Theodore Ts'o. Cross-company contribution from Huawei.", "code_snippet": "@@ -1874,6 +1874,13 @@ static int handle_mount_opt(struct super_block *sb, char *opt, int token,\n \t} else if (token == Opt_commit) {\n \t\tif (arg == 0)\n \t\t\targ = JBD2_DEFAULT_MAX_COMMIT_AGE;\n+\t\telse if (arg > INT_MAX / HZ) {\n+\t\t\text4_msg(sb, KERN_ERR,\n+\t\t\t\t \"Invalid commit interval %d, \"\n+\t\t\t\t \"must be smaller than %d\",\n+\t\t\t\t arg, INT_MAX / HZ);\n+\t\t\treturn -1;\n+\t\t}\n \t\tsbi->s_commit_interval = HZ * arg;\n \t} else if (token == Opt_debug_want_extra_isize) {\n \t\tsbi->s_want_extra_isize = arg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ba55543fc0c6bb1cf8edd63be8802d9ab7e1202"}
{"commit_hash": "8e58c521bcb823bfd6e81f4a85b76afdce098b1d", "short_hash": "8e58c521bcb8", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T12:37:24+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-28T11:50:25+01:00", "subject": "ASoC: mediatek: mt8183: tdm hw support tdm out and 8ch i2s out", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 144, "deletions": 34, "hunks": 14, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New feature adding TDM/I2S output mode support for MediaTek MT8183 audio driver. 178 lines changed across 2 files in sound/soc/mediatek subsystem. Adds new enums (TDM_OUT_I2S/TDM_OUT_TDM), new mtk_dai_tdm_set_fmt callback, and flexible channel configuration. Properly reviewed by Mark Brown (ALSA maintainer). Cross-org contribution from MediaTek engineer to mainline.", "code_snippet": "@@ -15,13 +15,30 @@\n struct mtk_afe_tdm_priv {\n \tint bck_id;\n \tint bck_rate;\n-\n+\tint tdm_out_mode;\n+\tint bck_invert;\n+\tint lck_invert;\n \tint mclk_id;\n \tint mclk_multiple; /* according to sample rate */\n \tint mclk_rate;\n \tint mclk_apll;\n };\n \n+enum {\n+\tTDM_OUT_I2S = 0,\n+\tTDM_OUT_TDM = 1,\n+};\n+\n+enum {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e58c521bcb823bfd6e81f4a85b76afdce098b1d"}
{"commit_hash": "2c650fd5a53beace2e7507f478562f0dd1885b89", "short_hash": "2c650fd5a53b", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T12:37:25+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-28T11:50:33+01:00", "subject": "ASoC: mediatek: mt8183: fix tdm out data is valid on rising edge", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek/mt8183/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 8, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 14, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for MediaTek mt8183 TDM audio driver - incorrect register was being used for BCK inversion. Fixes data validity issue on rising edge. Low subsystem impact (audio driver), single vendor (MediaTek), proper maintainer sign-off from Mark Brown.", "code_snippet": "@@ -505,7 +505,9 @@ static int mtk_dai_tdm_hw_params(struct snd_pcm_substream *substream,\n \n \t/* set tdm */\n \tif (tdm_priv->bck_invert)\n-\t\ttdm_con |= 1 << BCK_INVERSE_SFT;\n+\t\tregmap_update_bits(afe->regmap, AUDIO_TOP_CON3,\n+\t\t\t\t   BCK_INVERSE_MASK_SFT,\n+\t\t\t\t   0x1 << BCK_INVERSE_SFT);\n \n \tif (tdm_priv->lck_invert)\n \t\ttdm_con |= 1 << LRCK_INVERSE_SFT;\ndiff --git a/sound/soc/mediatek/mt8183/mt8183-reg.h b/sound/soc/mediatek/mt8183/mt8183-reg.h\nindex e0482f2826da..e544a09e1913 100644\n--- a/sound/soc/mediatek/mt8183/mt8183-reg.h\n+++ b/sound/soc/mediatek/mt8183/mt8183-reg.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c650fd5a53beace2e7507f478562f0dd1885b89"}
{"commit_hash": "fa00eb4eb2361ffc594bd9c6d78c585e7112c5dc", "short_hash": "fa00eb4eb236", "author_name": "Hsin-Hsiung Wang", "author_email": "hsin-hsiung.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-23T11:45:26+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-28T11:51:17+01:00", "subject": "regulator: Add document for MT6358 regulator", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "regulator", "subsystems_touched": ["Documentation/devicetree/bindings/regulator/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 358, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 8, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding devicetree bindings for MediaTek MT6358 PMIC regulator. 358 lines added, 0 deleted. Single new file in Documentation. Has Reviewed-by from DT maintainer Rob Herring. Low technical complexity as it's purely documentation, but enables hardware support for new PMIC. Maintainer (Mark Brown) signed off, indicating subsystem endorsement.", "code_snippet": "@@ -0,0 +1,358 @@\n+MediaTek MT6358 Regulator\n+\n+All voltage regulators provided by the MT6358 PMIC are described as the\n+subnodes of the MT6358 regulators node. Each regulator is named according\n+to its regulator type, buck_<name> and ldo_<name>. The definition for each\n+of these nodes is defined using the standard binding for regulators at\n+Documentation/devicetree/bindings/regulator/regulator.txt.\n+\n+The valid names for regulators are::\n+BUCK:\n+  buck_vdram1, buck_vcore, buck_vpa, buck_vproc11, buck_vproc12, buck_vgpu,\n+  buck_vs2, buck_vmodem, buck_vs1\n+LDO:\n+  ldo_vdram2, ldo_vsim1, ldo_vibr, ldo_vrf12, ldo_vio18, ldo_vusb, ldo_vcamio,\n+  ldo_vcamd, ldo_vcn18, ldo_vfe28, ldo_vsram_proc11, ldo_vcn28, ldo_vsram_others,\n+  ldo_vsram_gpu, ldo_vxo22, ldo_vefuse, ldo_vaux18, ldo_vmch, ldo_vbif28,\n+  ldo_vsram_proc12, ldo_vcama1, ldo_vemc, ldo_vio28, ldo_va12, ldo_vrf18,\n+  ldo_vcn33_bt, ldo_vcn33_wifi, ldo_vcama2, ldo_vmc, ldo_vldo28, ldo_vaud28,\n+  ldo_vsim2", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa00eb4eb2361ffc594bd9c6d78c585e7112c5dc"}
{"commit_hash": "f67ff1bd58f0c102f0194c3888ddbc4a87dd1382", "short_hash": "f67ff1bd58f0", "author_name": "Hsin-Hsiung Wang", "author_email": "hsin-hsiung.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-23T11:45:28+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-28T11:51:27+01:00", "subject": "regulator: mt6358: Add support for MT6358 regulator", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/regulator", "subsystems_touched": ["drivers/regulator"], "subsystem_tier": 5, "files_changed": 4, "insertions": 615, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 13, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 8, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New driver for MediaTek MT6358 PMIC regulator adding 615 lines. Driver enables power regulation support for MT8183 and other MediaTek SoCs. Well-structured commit with proper subsystem integration (Kconfig, Makefile, new driver file, header). Signed off by maintainer Mark Brown indicating proper review. Code volume significant (8/10) for hardware driver. Novel hardware support (3/5) extends kernel capabilities.", "code_snippet": "@@ -619,6 +619,15 @@ config REGULATOR_MT6323\n \t  This driver supports the control of different power rails of device\n \t  through regulator interface.\n \n+config REGULATOR_MT6358\n+\ttristate \"MediaTek MT6358 PMIC\"\n+\tdepends on MFD_MT6397\n+\thelp\n+\t  Say y here to select this option to enable the power regulator of\n+\t  MediaTek MT6358 PMIC.\n+\t  This driver supports the control of different power rails of device\n+\t  through regulator interface.\n+\n config REGULATOR_MT6380\n \ttristate \"MediaTek MT6380 PMIC\"\n \tdepends on MTK_PMIC_WRAP\ndiff --git a/drivers/regulator/Makefile b/drivers/regulator/Makefile\nindex 922bf975070f..2210ba56f9bd 100644\n--- a/drivers/regulator/Makefile\n+++ b/drivers/regulator/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f67ff1bd58f0c102f0194c3888ddbc4a87dd1382"}
{"commit_hash": "98c09b8c9767c61f97976c358c47ba17c026dc77", "short_hash": "98c09b8c9767", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:36+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Fix wrong assignment of qp_access_flags", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "2a3d923f8730", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 14, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix correcting swapped bit shift assignments in RDMA/hns driver. RRE/RWE shifts were exchanged, causing incorrect qp_access_flags assignment. Small 4-line change, subsystem tier 8 (infiniband). Fixes tag indicates regression from earlier commit. Good review chain: author (Huawei) -> maintainer (Red Hat Doug Ledford). Cross-org contribution (Huawei to upstream). Clean commit message with Fixes tag and clear explanation.", "code_snippet": "@@ -4574,9 +4574,9 @@ static int hns_roce_v2_query_qp(struct ib_qp *ibqp, struct ib_qp_attr *qp_attr,\n \t\t\t\t\t\t  V2_QPC_BYTE_56_DQPN_M,\n \t\t\t\t\t\t  V2_QPC_BYTE_56_DQPN_S);\n \tqp_attr->qp_access_flags = ((roce_get_bit(context.byte_76_srqn_op_en,\n-\t\t\t\t    V2_QPC_BYTE_76_RRE_S)) << V2_QP_RWE_S) |\n+\t\t\t\t    V2_QPC_BYTE_76_RRE_S)) << V2_QP_RRE_S) |\n \t\t\t\t    ((roce_get_bit(context.byte_76_srqn_op_en,\n-\t\t\t\t    V2_QPC_BYTE_76_RWE_S)) << V2_QP_RRE_S) |\n+\t\t\t\t    V2_QPC_BYTE_76_RWE_S)) << V2_QP_RWE_S) |\n \t\t\t\t    ((roce_get_bit(context.byte_76_srqn_op_en,\n \t\t\t\t    V2_QPC_BYTE_76_ATE_S)) << V2_QP_ATE_S);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/98c09b8c9767c61f97976c358c47ba17c026dc77"}
{"commit_hash": "afca2a2b837a8a93d8376f0843f225dd967aac12", "short_hash": "afca2a2b837a", "author_name": "Wenpeng Liang", "author_email": "liangwenpeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:35+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Delete the not-used lines", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wenpeng Liang <liangwenpeng@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Dead code removal in infiniband driver (hns). Single line deletion removing unused assignment. Huawei author merged by RedHat maintainer. Low impact cleanup.", "code_snippet": "@@ -412,7 +412,6 @@ int hns_roce_create_srq(struct ib_srq *ib_srq,\n \t\tgoto err_wrid;\n \n \tsrq->event = hns_roce_ib_srq_event;\n-\tsrq->ibsrq.ext.xrc.srq_num = srq->srqn;\n \tresp.srqn = srq->srqn;\n \n \tif (udata) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/afca2a2b837a8a93d8376f0843f225dd967aac12"}
{"commit_hash": "18df508c7970c2c5e8bcaed48469bb28f9075e89", "short_hash": "18df508c7970", "author_name": "Wenpeng Liang", "author_email": "liangwenpeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:34+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Remove if-else judgment statements for creating srq", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 7, "deletions": 22, "hunks": 4, "review_chain": {"signed_off_by": ["Wenpeng Liang <liangwenpeng@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 7, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification refactor removing redundant conditional branches. Huawei RDMA driver (Hisilicon). Small cleanup with proper review chain (2 reviewers from Huawei, merged by Doug Ledford). No testing mentioned. Simplifies logic by recognizing mathematical equivalence when srqwqe_buf_pg_sz=0.", "code_snippet": "@@ -191,15 +191,11 @@ static int create_user_srq(struct hns_roce_srq *srq, struct ib_udata *udata,\n \tif (IS_ERR(srq->umem))\n \t\treturn PTR_ERR(srq->umem);\n \n-\tif (hr_dev->caps.srqwqe_buf_pg_sz) {\n-\t\tnpages = (ib_umem_page_count(srq->umem) +\n-\t\t\t (1 << hr_dev->caps.srqwqe_buf_pg_sz) - 1) /\n-\t\t\t (1 << hr_dev->caps.srqwqe_buf_pg_sz);\n-\t\tpage_shift = PAGE_SHIFT + hr_dev->caps.srqwqe_buf_pg_sz;\n-\t\tret = hns_roce_mtt_init(hr_dev, npages, page_shift, &srq->mtt);\n-\t} else\n-\t\tret = hns_roce_mtt_init(hr_dev, ib_umem_page_count(srq->umem),\n-\t\t\t\t\tPAGE_SHIFT, &srq->mtt);\n+\tnpages = (ib_umem_page_count(srq->umem) +\n+\t\t(1 << hr_dev->caps.srqwqe_buf_pg_sz) - 1) /\n+\t\t(1 << hr_dev->caps.srqwqe_buf_pg_sz);\n+\tpage_shift = PAGE_SHIFT + hr_dev->caps.srqwqe_buf_pg_sz;\n+\tret = hns_roce_mtt_init(hr_dev, npages, page_shift, &srq->mtt);\n \tif (ret)\n \t\tgoto err_user_buf;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/18df508c7970c2c5e8bcaed48469bb28f9075e89"}
{"commit_hash": "e075da5e7c47ee1c20b4e8f9a20c6105be99b10f", "short_hash": "e075da5e7c47", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:33+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Add reset process for function-clear", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 2, "insertions": 98, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 14, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for RDMA/hns driver adding reset state checking during function-clear operations to prevent mailbox operations during hardware reset. Medium code volume (~100 lines), specialized subsystem (tier 6 driver), cross-org collaboration (Huawei author, RedHat maintainer sign-off), moderate user impact (prevents potential crashes in specific hardware scenarios).", "code_snippet": "@@ -1125,26 +1125,118 @@ static int hns_roce_cmq_query_hw_info(struct hns_roce_dev *hr_dev)\n \treturn 0;\n }\n \n+static bool hns_roce_func_clr_chk_rst(struct hns_roce_dev *hr_dev)\n+{\n+\tstruct hns_roce_v2_priv *priv = (struct hns_roce_v2_priv *)hr_dev->priv;\n+\tstruct hnae3_handle *handle = priv->handle;\n+\tconst struct hnae3_ae_ops *ops = handle->ae_algo->ops;\n+\tunsigned long reset_cnt;\n+\tbool sw_resetting;\n+\tbool hw_resetting;\n+\n+\treset_cnt = ops->ae_dev_reset_cnt(handle);\n+\thw_resetting = ops->get_hw_reset_stat(handle);\n+\tsw_resetting = ops->ae_dev_resetting(handle);\n+\n+\tif (reset_cnt != hr_dev->reset_cnt || hw_resetting || sw_resetting)\n+\t\treturn true;\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e075da5e7c47ee1c20b4e8f9a20c6105be99b10f"}
{"commit_hash": "bfe860351e31e71913d4e6c46aae5724b661a519", "short_hash": "bfe860351e31", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:32+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Fix cast from or to restricted __le32 for driver", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 8, "files_changed": 6, "insertions": 105, "deletions": 126, "hunks": 110, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 11, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse tool warning fix for endianness type annotations. Proper __le32/u32 usage for hardware vs software data paths. Clean refactoring with consolidated switch cases. Good commit message explaining the issue. Maintainer (Doug Ledford) signed off. No user-facing behavior change.", "code_snippet": "@@ -712,7 +712,7 @@ enum {\n };\n \n struct hns_roce_ceqe {\n-\tu32\t\t\tcomp;\n+\t__le32\t\t\tcomp;\n };\n \n struct hns_roce_aeqe {\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hem.c b/drivers/infiniband/hw/hns/hns_roce_hem.c\nindex f2c4fef0b70e..e82215774032 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hem.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hem.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bfe860351e31e71913d4e6c46aae5724b661a519"}
{"commit_hash": "90c559b1864aa52518c10d5535bf5d5ea74189e5", "short_hash": "90c559b1864a", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:31+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Remove the some magic number", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 4, "insertions": 11, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Lang Chen <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring replacing magic numbers with meaningful macros (EQ_DEPTH_COEFF, HNS_ROCE_V2_HW_RST_UNINT_DELAY). Cross-org contribution from Huawei (oulijun@huawei.com) merged by maintainer Doug Ledford (dledford@redhat.com). Well-reviewed with proper Signed-off-by chain and Link to mailing list discussion. Low complexity (11 insertions, 4 deletions across 4 files). Driver subsystem for RDMA/InfiniBand hardware.", "code_snippet": "@@ -127,6 +127,11 @@\n #define HNS_ROCE_IDX_QUE_ENTRY_SZ\t\t4\n #define SRQ_DB_REG\t\t\t\t0x230\n \n+/* The chip implementation of the consumer index is calculated\n+ * according to twice the actual EQ depth\n+ */\n+#define EQ_DEPTH_COEFF\t\t\t\t2\n+\n enum {\n \tHNS_ROCE_SUPPORT_RQ_RECORD_DB = 1 << 0,\n \tHNS_ROCE_SUPPORT_SQ_RECORD_DB = 1 << 1,\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v1.c b/drivers/infiniband/hw/hns/hns_roce_hw_v1.c\nindex e687b439269e..3fcd0bdc79dd 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v1.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v1.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/90c559b1864aa52518c10d5535bf5d5ea74189e5"}
{"commit_hash": "82e620d9c3a096108e8a2f90ce7199bdad2040eb", "short_hash": "82e620d9c3a0", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T21:14:30+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-28T11:57:26-04:00", "subject": "RDMA/hns: Modify the data structure of hns_roce_av", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 4, "insertions": 18, "deletions": 31, "hunks": 14, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 7, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that restructures the hns_roce_av data structure by changing types from __le32/__le16 to native CPU types (u32/u8/u16) and splitting the packed sl_tclass_flowlabel field into separate variables. This improves code readability by removing unnecessary endian conversions and bit manipulation. Moderate impact (4 files changed, -31/+18 lines). Cross-org collaboration between Huawei (author) and Red Hat (maintainer). Proper review chain with Signed-off-by tags.", "code_snippet": "@@ -66,11 +66,9 @@ int hns_roce_create_ah(struct ib_ah *ibah, struct rdma_ah_attr *ah_attr,\n \t\t\t     HNS_ROCE_VLAN_SL_SHIFT;\n \t}\n \n-\tah->av.port_pd = cpu_to_le32(to_hr_pd(ibah->pd)->pdn |\n-\t\t\t\t     (rdma_ah_get_port_num(ah_attr) <<\n-\t\t\t\t     HNS_ROCE_PORT_NUM_SHIFT));\n+\tah->av.port = rdma_ah_get_port_num(ah_attr);\n \tah->av.gid_index = grh->sgid_index;\n-\tah->av.vlan = cpu_to_le16(vlan_tag);\n+\tah->av.vlan = vlan_tag;\n \tah->av.vlan_en = vlan_en;\n \tdev_dbg(dev, \"gid_index = 0x%x,vlan = 0x%x\\n\", ah->av.gid_index,\n \t\tah->av.vlan);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/82e620d9c3a096108e8a2f90ce7199bdad2040eb"}
{"commit_hash": "566aacaf80b8ae0cb0e6bc3d11d49a36ab7f32ca", "short_hash": "566aacaf80b8", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T15:05:57+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-28T13:04:59+03:00", "subject": "usb: udc: lpc32xx: remove set but not used 3 variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing 3 unused variables to fix gcc compiler warnings. Very low technical impact (1+3-6 lines). Low subsystem tier (USB gadget driver). Cleanup category (2 base pts). Good commit message explaining the warning and root cause (90fccb529d24). Cross-org contribution (Huawei->Intel maintainer) with maintainer sign-off. No testing evidence.", "code_snippet": "@@ -1992,7 +1990,7 @@ void udc_handle_eps(struct lpc32xx_udc *udc, struct lpc32xx_ep *ep)\n /* DMA end of transfer completion */\n static void udc_handle_dma_ep(struct lpc32xx_udc *udc, struct lpc32xx_ep *ep)\n {\n-\tu32 status, epstatus;\n+\tu32 status;\n \tstruct lpc32xx_request *req;\n \tstruct lpc32xx_usbd_dd_gad *dd;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/566aacaf80b8ae0cb0e6bc3d11d49a36ab7f32ca"}
{"commit_hash": "3894793e4b1ae85e7af38cc5ab65de8749b9442a", "short_hash": "3894793e4b1a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:50:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T14:51:00-07:00", "subject": "phy: mdio-sun4i: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper. Removes manual resource handling. Low impact but well-reviewed with proper maintainer sign-offs.", "code_snippet": "@@ -92,7 +92,6 @@ static int sun4i_mdio_probe(struct platform_device *pdev)\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct mii_bus *bus;\n \tstruct sun4i_mdio_data *data;\n-\tstruct resource *res;\n \tint ret;\n \n \tbus = mdiobus_alloc_size(sizeof(*data));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3894793e4b1ae85e7af38cc5ab65de8749b9442a"}
{"commit_hash": "bd51ce0583e20a6e962bfdbb62f396ff6a61d7b2", "short_hash": "bd51ce0583e2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:49:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T14:51:00-07:00", "subject": "phy: mdio-mux-meson-g12a: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 16, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource()+devm_ioremap_resource() with devm_platform_ioremap_resource(). This is a trivial cleanup reducing 2 function calls to 1, detected by coccinelle script. Low impact PHY driver change with proper maintainer sign-off.", "code_snippet": "@@ -302,7 +302,6 @@ static int g12a_mdio_mux_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct g12a_mdio_mux *priv;\n-\tstruct resource *res;\n \tint ret;\n \n \tpriv = devm_kzalloc(dev, sizeof(*priv), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd51ce0583e20a6e962bfdbb62f396ff6a61d7b2"}
{"commit_hash": "ea7076923bde9c3c692f5c8d8a46b04ec3d00680", "short_hash": "ea7076923bde", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:48:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T14:51:00-07:00", "subject": "phy: mdio-moxart: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/phy"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() helper detected by coccinelle. Cross-org contribution from Huawei to networking subsystem, merged by maintainer David S. Miller. Low code volume (1 insertion, 3 deletions), no functional change.", "code_snippet": "@@ -113,7 +113,6 @@ static int moxart_mdio_probe(struct platform_device *pdev)\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct mii_bus *bus;\n \tstruct moxart_mdio_data *data;\n-\tstruct resource *res;\n \tint ret, i;\n \n \tbus = mdiobus_alloc_size(sizeof(*data));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ea7076923bde9c3c692f5c8d8a46b04ec3d00680"}
{"commit_hash": "ba869d3c40fc130649ba81326087802ec436c84f", "short_hash": "ba869d3c40fc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:47:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T14:51:00-07:00", "subject": "phy: mdio-hisi-femac: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Reduces 3 lines to 1, detected by coccinelle. Signed off by net maintainer David S. Miller. No functional change, low impact.", "code_snippet": "@@ -74,7 +74,6 @@ static int hisi_femac_mdio_probe(struct platform_device *pdev)\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct mii_bus *bus;\n \tstruct hisi_femac_mdio_data *data;\n-\tstruct resource *res;\n \tint ret;\n \n \tbus = mdiobus_alloc_size(sizeof(*data));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba869d3c40fc130649ba81326087802ec436c84f"}
{"commit_hash": "bd301e05ba06548ef5afcd28d601dd3acf63fc92", "short_hash": "bd301e05ba06", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:46:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T14:51:00-07:00", "subject": "phy: mdio-bcm-iproc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Ray Jui <ray.jui@broadcom.com> (Broadcom)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 9, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization patch replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces code by 2 lines, removes unnecessary variable. Low impact cleanup detected by coccinelle script. Has Reviewed-by from Broadcom maintainer (Ray Jui), cross-org contribution from Huawei to Broadcom driver.", "code_snippet": "@@ -123,15 +123,13 @@ static int iproc_mdio_probe(struct platform_device *pdev)\n {\n \tstruct iproc_mdio_priv *priv;\n \tstruct mii_bus *bus;\n-\tstruct resource *res;\n \tint rc;\n \n \tpriv = devm_kzalloc(&pdev->dev, sizeof(*priv), GFP_KERNEL);\n \tif (!priv)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->base = devm_ioremap_resource(&pdev->dev, res);\n+\tpriv->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->base)) {\n \t\tdev_err(&pdev->dev, \"failed to ioremap register\\n\");\n \t\treturn PTR_ERR(priv->base);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd301e05ba06548ef5afcd28d601dd3acf63fc92"}
{"commit_hash": "95fb8bb3181bbe1ee87c95e91dff94f74f148c33", "short_hash": "95fb8bb3181b", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T09:34:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-28T16:16:27-07:00", "subject": "net: phy: force phy suspend when calling phy_stop", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Heiner Kallweit <hkallweit1@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 13, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small code change (2 lines moved) in critical networking subsystem (PHY layer). Fixes logic bug where phy_suspend was incorrectly conditional on link state during PHY stop. Has reviewer endorsement (Reviewed-by) and crosses organizational boundaries (Huawei author, maintainer merge).", "code_snippet": "@@ -911,8 +911,8 @@ void phy_state_machine(struct work_struct *work)\n \t\tif (phydev->link) {\n \t\t\tphydev->link = 0;\n \t\t\tphy_link_down(phydev, true);\n-\t\t\tdo_suspend = true;\n \t\t}\n+\t\tdo_suspend = true;\n \t\tbreak;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/95fb8bb3181bbe1ee87c95e91dff94f74f148c33"}
{"commit_hash": "3982f1df00df57768f0782bc702fc4fbea347ca2", "short_hash": "3982f1df00df", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:13:46+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-28T22:22:13+02:00", "subject": "staging: most: sound: Fix error path of audio_init", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "919c03ae11b9", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/most"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 3, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix in staging driver adding missing cleanup call on error path. Proper commit message with Fixes tag and Reported-by. Staging subsystem has lower criticality. Maintainer signed off.", "code_snippet": "@@ -802,8 +802,11 @@ static int __init audio_init(void)\n \tif (ret)\n \t\tpr_err(\"Failed to register %s\\n\", comp.name);\n \tret = most_register_configfs_subsys(&comp);\n-\tif (ret)\n+\tif (ret) {\n \t\tpr_err(\"Failed to register %s configfs subsys\\n\", comp.name);\n+\t\tmost_deregister_component(&comp);\n+\t}\n+\n \treturn ret;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3982f1df00df57768f0782bc702fc4fbea347ca2"}
{"commit_hash": "b2fcb285ade36c2339ee6638223a65829ee9907f", "short_hash": "b2fcb285ade3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-23T14:40:25+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-28T22:50:25+02:00", "subject": "usb: xhci-mtk: add an optional xhci_ck clock", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 7, "files_changed": 2, "insertions": 14, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Mathias Nyman <mathias.nyman@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 13, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature addition adding optional xhci_clk support for Mediatek SoCs. Small code volume (14 insertions), single subsystem (USB host). Acked-by and Reviewed-by tags present. Clean atomic change following existing clock handling patterns. Hardware-specific feature for certain SoCs.", "code_snippet": "@@ -244,6 +248,12 @@ static int xhci_mtk_clks_enable(struct xhci_hcd_mtk *mtk)\n \t\tgoto sys_clk_err;\n \t}\n \n+\tret = clk_prepare_enable(mtk->xhci_clk);\n+\tif (ret) {\n+\t\tdev_err(mtk->dev, \"failed to enable xhci_clk\\n\");\n+\t\tgoto xhci_clk_err;\n+\t}\n+\n \tret = clk_prepare_enable(mtk->mcu_clk);\n \tif (ret) {\n \t\tdev_err(mtk->dev, \"failed to enable mcu_clk\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2fcb285ade36c2339ee6638223a65829ee9907f"}
{"commit_hash": "e74e8bbff6e3654db55a56d3000ef581a6166944", "short_hash": "e74e8bbff6e3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-23T14:40:24+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-08-28T22:50:25+02:00", "subject": "dt-bindings: usb: mtk-xhci: add an optional xhci_ck clock", "primary_category": "FEAT-DRIVER", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["Documentation/devicetree/bindings/usb/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 9, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small devicetree binding documentation change adding optional xhci_ck clock for MediaTek USB controller. Well-reviewed with Reviewed-by from DT maintainer Rob Herring and proper Signed-off-by chain. Low code volume (5 lines changed), single file touched (Documentation). Driver hardware support enhancement for MediaTek SoC.", "code_snippet": "@@ -30,7 +30,8 @@ Required properties:\n \tthe following ones are optional:\n \t\"ref_ck\": reference clock used by low power mode etc,\n \t\"mcu_ck\": mcu_bus clock for register access,\n-\t\"dma_ck\": dma_bus clock for data transfer by DMA\n+\t\"dma_ck\": dma_bus clock for data transfer by DMA,\n+\t\"xhci_ck\": controller clock\n \n  - phys : see usb-hcd.txt in the current directory\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e74e8bbff6e3654db55a56d3000ef581a6166944"}
{"commit_hash": "968bce2f59ce462d296af28610628fe7e03b120a", "short_hash": "968bce2f59ce", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:22:41-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-29T10:23:18-03:00", "subject": "media: imx: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/media", "subsystems_touched": ["drivers/staging/media/imx"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused include from staging driver. Low impact (staging/media tier 4). Single line deletion, well-signed (maintainer + 2 sign-offs). No user impact, no stable cc, minimal code volume.", "code_snippet": "@@ -8,7 +8,6 @@\n #include <linux/module.h>\n #include <linux/delay.h>\n #include <linux/fs.h>\n-#include <linux/version.h>\n #include <linux/sched.h>\n #include <linux/slab.h>\n #include <video/imx-ipu-v3.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/968bce2f59ce462d296af28610628fe7e03b120a"}
{"commit_hash": "a83d29618b1cd9176ad33fc415f5e033fd6a45a2", "short_hash": "a83d29618b1c", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-08-28T22:23:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: implement .process_hw_error for hns3 client", "primary_category": "BUG-CRASH", "secondary_categories": ["FEAT-HARDWARE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 9, "files_changed": 7, "insertions": 78, "deletions": 2, "hunks": 20, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 19, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware error handling implementation for Hisilicon HNS3 driver. 78 insertions across 7 files adds process_hw_error callback and error type enums for PPU poison, CMDQ ECC, and IMP RD poison errors. Proper review chain with author, 2 co-developers, reviewer, and maintainer signoffs. Limited to specific driver subsystem with no cross-tree impact.", "code_snippet": "@@ -210,7 +216,8 @@ struct hnae3_client_ops {\n \tint (*setup_tc)(struct hnae3_handle *handle, u8 tc);\n \tint (*reset_notify)(struct hnae3_handle *handle,\n \t\t\t    enum hnae3_reset_notify_type type);\n-\tenum hnae3_reset_type (*process_hw_error)(struct hnae3_handle *handle);\n+\tvoid (*process_hw_error)(struct hnae3_handle *handle,\n+\t\t\t\t enum hnae3_hw_error_type);\n };\n \n #define HNAE3_CLIENT_NAME_LENGTH 16\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex a11d514f7a25..9f3f8e3cb2c2 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a83d29618b1cd9176ad33fc415f5e033fd6a45a2"}
{"commit_hash": "82f7d0576fa6d511ecbfea73688176b700ae0e91", "short_hash": "82f7d0576fa6", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: fix incorrect type in assignment.", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 30, "deletions": 18, "hunks": 8, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 15, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse static analysis warning fix for endianness issues in HNS3 ethernet driver. Corrects improper handling of __le16/__le32 types in hardware register access. 48 lines changed across 2 files (hclge_err.c, hclgevf_mbx.c). Proper byte conversion macros (cpu_to_le32/le16_to_cpu) added where hardware interfaces exist. Internal Huawei review chain (Peng Li, Huazhong Tan) with networking maintainer David S. Miller sign-off. Driver-specific bug fix preventing potential data corruption on big-endian architectures.", "code_snippet": "@@ -930,32 +930,44 @@ static int hclge_config_ppu_error_interrupts(struct hclge_dev *hdev, u32 cmd,\n \t/* configure PPU error interrupts */\n \tif (cmd == HCLGE_PPU_MPF_ECC_INT_CMD) {\n \t\thclge_cmd_setup_basic_desc(&desc[0], cmd, false);\n-\t\tdesc[0].flag |= HCLGE_CMD_FLAG_NEXT;\n+\t\tdesc[0].flag |= cpu_to_le16(HCLGE_CMD_FLAG_NEXT);\n \t\thclge_cmd_setup_basic_desc(&desc[1], cmd, false);\n \t\tif (en) {\n-\t\t\tdesc[0].data[0] = HCLGE_PPU_MPF_ABNORMAL_INT0_EN;\n-\t\t\tdesc[0].data[1] = HCLGE_PPU_MPF_ABNORMAL_INT1_EN;\n-\t\t\tdesc[1].data[3] = HCLGE_PPU_MPF_ABNORMAL_INT3_EN;\n-\t\t\tdesc[1].data[4] = HCLGE_PPU_MPF_ABNORMAL_INT2_EN;\n+\t\t\tdesc[0].data[0] =\n+\t\t\t\tcpu_to_le32(HCLGE_PPU_MPF_ABNORMAL_INT0_EN);\n+\t\t\tdesc[0].data[1] =\n+\t\t\t\tcpu_to_le32(HCLGE_PPU_MPF_ABNORMAL_INT1_EN);\n+\t\t\tdesc[1].data[3] =\n+\t\t\t\tcpu_to_le32(HCLGE_PPU_MPF_ABNORMAL_INT3_EN);\n+\t\t\tdesc[1].data[4] =\n+\t\t\t\tcpu_to_le32(HCLGE_PPU_MPF_ABNORMAL_INT2_EN);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/82f7d0576fa6d511ecbfea73688176b700ae0e91"}
{"commit_hash": "e8df45c281342b6f0193faa242148acfe95c6f09", "short_hash": "e8df45c28134", "author_name": "Zhongzhu Liu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: optimize waiting time for TQP reset", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 2, "insertions": 7, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 15, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Optimization patch for TQP reset wait time in hns3 driver. Changes msleep(20) to usleep_range(1000,1200) and increases retry count from 10 to 200, reducing reset latency. Well-reviewed internally with 3 Huawei reviewers, merged by networking maintainer David S. Miller. Small focused change to single subsystem.", "code_snippet": "@@ -8300,11 +8301,12 @@ void hclge_reset_vf_queue(struct hclge_vport *vport, u16 queue_id)\n \t}\n \n \twhile (reset_try_times++ < HCLGE_TQP_RESET_TRY_TIMES) {\n-\t\t/* Wait for tqp hw reset */\n-\t\tmsleep(20);\n \t\treset_status = hclge_get_reset_status(hdev, queue_gid);\n \t\tif (reset_status)\n \t\t\tbreak;\n+\n+\t\t/* Wait for tqp hw reset */\n+\t\tusleep_range(1000, 1200);\n \t}\n \n \tif (reset_try_times >= HCLGE_TQP_RESET_TRY_TIMES) {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex 7ff03b9605e4..00c07f87e3d3 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8df45c281342b6f0193faa242148acfe95c6f09"}
{"commit_hash": "199d2dd416df3a224c2e20da5499a9200a716829", "short_hash": "199d2dd416df", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: make some reusable codes into a function", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 9, "files_changed": 1, "insertions": 28, "deletions": 26, "hunks": 12, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 11, "score_impact": 2, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring commit that extracts repeated client notification patterns into reusable helper functions (hclge_notify_down_uinit and hclge_notify_init_up). Reduces code duplication in hclge_dcb.c across multiple call sites. Clean, focused change with proper error handling preservation. Strong review chain: author (Liu), reviewer (Peng Li), maintainer (Tan), and networking subsystem maintainer (David S. Miller) all signed off.", "code_snippet": "@@ -198,6 +198,28 @@ static int hclge_client_setup_tc(struct hclge_dev *hdev)\n \treturn 0;\n }\n \n+static int hclge_notify_down_uinit(struct hclge_dev *hdev)\n+{\n+\tint ret;\n+\n+\tret = hclge_notify_client(hdev, HNAE3_DOWN_CLIENT);\n+\tif (ret)\n+\t\treturn ret;\n+\n+\treturn hclge_notify_client(hdev, HNAE3_UNINIT_CLIENT);\n+}\n+\n+static int hclge_notify_init_up(struct hclge_dev *hdev)\n+{\n+\tint ret;\n+\n+\tret = hclge_notify_client(hdev, HNAE3_INIT_CLIENT);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/199d2dd416df3a224c2e20da5499a9200a716829"}
{"commit_hash": "ed5b255ba679a2a6cf63a6891d9e802a9c77e5e1", "short_hash": "ed5b255ba679", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: optimize some log printings", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 30, "deletions": 29, "hunks": 38, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 4, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Low-scoring log message refinement commit for hns3 driver. Changes only affect debugfs output formatting and log messages (30 insertions, 29 deletions). No functional code changes, no security or bug fixes. High maintainer endorsement (David S. Miller) but minimal technical impact.", "code_snippet": "@@ -188,14 +188,14 @@ static int hns3_dbg_bd_info(struct hnae3_handle *h, const char *cmd_buf)\n \ttx_index = (cnt == 1) ? value : tx_index;\n \n \tif (tx_index >= ring->desc_num) {\n-\t\tdev_err(dev, \"bd index (%u) is out of range(%u)\\n\", tx_index,\n+\t\tdev_err(dev, \"bd index(%u) is out of range(0-%u)\\n\", tx_index,\n \t\t\tring->desc_num - 1);\n \t\treturn -EINVAL;\n \t}\n \n \ttx_desc = &ring->desc[tx_index];\n \tdev_info(dev, \"TX Queue Num: %u, BD Index: %u\\n\", q_num, tx_index);\n-\tdev_info(dev, \"(TX) addr: 0x%llx\\n\", tx_desc->addr);\n+\tdev_info(dev, \"(TX)addr: 0x%llx\\n\", tx_desc->addr);\n \tdev_info(dev, \"(TX)vlan_tag: %u\\n\", tx_desc->tx.vlan_tag);\n \tdev_info(dev, \"(TX)send_size: %u\\n\", tx_desc->tx.send_size);\n \tdev_info(dev, \"(TX)vlan_tso: %u\\n\", tx_desc->tx.type_cs_vlan_tso);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ed5b255ba679a2a6cf63a6891d9e802a9c77e5e1"}
{"commit_hash": "70a214903da9255b5e6aea35ca35c1a8e72dc5f6", "short_hash": "70a214903da9", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: reduce the parameters of some functions", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 14, "deletions": 14, "hunks": 26, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 10, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume: 28 LOC (14+/14-) = 3 points. Subsystem: Network driver (hns3) = 8 points. Category: MAINT-REFACTOR removing unused 'qos' parameter = 8 base points. Review chain: 5 developer sign-offs + networking maintainer = 4 points. Message quality: Clear explanation of simplification = 3 points. Atomicity: Single purpose change = 3 points. Cross-org: Huawei author + David Miller (maintainer) = 4 points.", "code_snippet": "@@ -7893,12 +7893,12 @@ static int hclge_update_vlan_filter_entries(struct hclge_vport *vport,\n \t\t\t\t\t\t htons(new_info->vlan_proto),\n \t\t\t\t\t\t vport->vport_id,\n \t\t\t\t\t\t new_info->vlan_tag,\n-\t\t\t\t\t\t new_info->qos, false);\n+\t\t\t\t\t\t false);\n \t}\n \n \tret = hclge_set_vlan_filter_hw(hdev, htons(old_info->vlan_proto),\n \t\t\t\t       vport->vport_id, old_info->vlan_tag,\n-\t\t\t\t       old_info->qos, true);\n+\t\t\t\t       true);\n \tif (ret)\n \t\treturn ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70a214903da9255b5e6aea35ca35c1a8e72dc5f6"}
{"commit_hash": "6125b52d2641497228e806c60b906769ab4b2c19", "short_hash": "6125b52d2641", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: modify base parameter of kstrtouint in hclge_dbg_dump_tm_map", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 8, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs code refactoring replacing hardcoded string index with macro and changing kstrtouint base from 10 to 0 for flexibility. Small change (4 insertions, 3 deletions) in a Huawei-specific network driver. Cross-org review from net maintainer David S. Miller. Low user impact as debugfs is typically developer-facing.", "code_snippet": "@@ -564,7 +564,7 @@ static void hclge_dbg_dump_tm_map(struct hclge_dev *hdev,\n \tint pri_id, ret;\n \tu32 i;\n \n-\tret = kstrtouint(&cmd_buf[12], 10, &queue_id);\n+\tret = kstrtouint(cmd_buf, 0, &queue_id);\n \tqueue_id = (ret != 0) ? 0 : queue_id;\n \n \tcmd = HCLGE_OPC_TM_NQ_TO_QS_LINK;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6125b52d2641497228e806c60b906769ab4b2c19"}
{"commit_hash": "6f92bfd70a8ae545bc08941baa55316d8bfba514", "short_hash": "6f92bfd70a8a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: use macro instead of magic number", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 2, "insertions": 6, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 2, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing magic numbers with macros (4->HCLGE_TC_NUM_ONE_DESC, 60->HCLGE_DBG_MAX_DFX_MSG_LEN). Low code volume (6 insertions, 3 deletions). Driver-specific (hns3 Hisilicon NIC), not core networking. Cross-org commit with net maintainer David S. Miller sign-off. Good atomicity, simple commit message. No testing evidence, no stable CC, no user impact.", "code_snippet": "@@ -796,7 +797,8 @@ static void hclge_dbg_dump_qos_buf_cfg(struct hclge_dev *hdev)\n \trx_com_thrd = (struct hclge_rx_com_thrd *)desc[1].data;\n \tfor (i = 0; i < HCLGE_TC_NUM_ONE_DESC; i++)\n \t\tdev_info(&hdev->pdev->dev,\n-\t\t\t \"rx_com_thrd_tc_%d: high: 0x%x, low: 0x%x\\n\", i + 4,\n+\t\t\t \"rx_com_thrd_tc_%d: high: 0x%x, low: 0x%x\\n\",\n+\t\t\t i + HCLGE_TC_NUM_ONE_DESC,\n \t\t\t rx_com_thrd->com_thrd[i].high,\n \t\t\t rx_com_thrd->com_thrd[i].low);\n \treturn;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.h\nindex 80e5cc29fc20..38b79321c4c4 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6f92bfd70a8ae545bc08941baa55316d8bfba514"}
{"commit_hash": "a582b78dfc33d211ecaadda4cb5765b382d9d682", "short_hash": "a582b78dfc33", "author_name": "Zhongzhu Liu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:43-07:00", "subject": "net: hns3: code optimization for debugfs related to \"dump reg\"", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 132, "deletions": 110, "hunks": 18, "review_chain": {"signed_off_by": ["Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring in HNS3 debugfs to improve readability by replacing hardcoded if-else chains with a data-driven array lookup. Cross-org contribution from Huawei to networking subsystem, signed off by multiple reviewers and maintainer David S. Miller.", "code_snippet": "@@ -4,14 +4,80 @@\n #include <linux/device.h>\n \n #include \"hclge_debugfs.h\"\n-#include \"hclge_cmd.h\"\n #include \"hclge_main.h\"\n #include \"hclge_tm.h\"\n #include \"hnae3.h\"\n \n+static struct hclge_dbg_reg_type_info hclge_dbg_reg_info[] = {\n+\t{ .reg_type = \"bios common\",\n+\t  .dfx_msg = &hclge_dbg_bios_common_reg[0],\n+\t  .reg_msg = { .msg_num = ARRAY_SIZE(hclge_dbg_bios_common_reg),\n+\t\t       .offset = HCLGE_DBG_DFX_BIOS_OFFSET,\n+\t\t       .cmd = HCLGE_OPC_DFX_BIOS_COMMON_REG } },\n+\t{ .reg_type = \"ssu\",\n+\t  .dfx_msg = &hclge_dbg_ssu_reg_0[0],\n+\t  .reg_msg = { .msg_num = ARRAY_SIZE(hclge_dbg_ssu_reg_0),\n+\t\t       .offset = HCLGE_DBG_DFX_SSU_0_OFFSET,\n+\t\t       .cmd = HCLGE_OPC_DFX_SSU_REG_0 } },", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a582b78dfc33d211ecaadda4cb5765b382d9d682"}
{"commit_hash": "2336f19d789223b9f42f111aab8de6ad66d12c28", "short_hash": "2336f19d7892", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:44-07:00", "subject": "net: hns3: check reset interrupt status when reset fails", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "72e2fb07997c", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for hns3 driver reset handling. Has Fixes tag indicating regression from previous commit. Reviewed by internal colleague, signed off by net maintainer David S. Miller. 8 insertions/deletions across 2 files in a specific hardware driver. Changes reset error handling logic to check interrupt status register instead of global reset register. Clean atomic fix for driver-specific issue.", "code_snippet": "@@ -3536,11 +3536,10 @@ static bool hclge_reset_err_handle(struct hclge_dev *hdev)\n \t\tdev_info(&hdev->pdev->dev, \"Reset pending %lu\\n\",\n \t\t\t hdev->reset_pending);\n \t\treturn true;\n-\t} else if ((hdev->reset_type != HNAE3_IMP_RESET) &&\n-\t\t   (hclge_read_dev(&hdev->hw, HCLGE_GLOBAL_RESET_REG) &\n-\t\t    BIT(HCLGE_IMP_RESET_BIT))) {\n+\t} else if (hclge_read_dev(&hdev->hw, HCLGE_MISC_VECTOR_INT_STS) &\n+\t\t   HCLGE_RESET_INT_M) {\n \t\tdev_info(&hdev->pdev->dev,\n-\t\t\t \"reset failed because IMP Reset is pending\\n\");\n+\t\t\t \"reset failed because new reset interrupt\\n\");\n \t\thclge_clear_reset_cause(hdev);\n \t\treturn false;\n \t} else if (hdev->reset_fail_cnt < MAX_RESET_FAIL_CNT) {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex a3bc382926bb..437a9ff8f588 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2336f19d789223b9f42f111aab8de6ad66d12c28"}
{"commit_hash": "dd2956eab104185bda122af162f90b06322a05e6", "short_hash": "dd2956eab104", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:44-07:00", "subject": "net: hns3: not allow SSU loopback while execute ethtool -t dev", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "c39c4d98dc65", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 4, "insertions": 75, "deletions": 2, "hunks": 16, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Peng Li <lipeng321@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 14, "score_impact": 16, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for loopback test failure in Hisilicon HNS3 driver. Fixes issue where VF address conflicts with DMAC address during ethtool loopback test. Disables SSU loopback for hardware revision >= 0x21 to allow proper MAC/serdes testing. Includes new firmware command structure (HCLGE_OPC_MAC_VLAN_SWITCH_PARAM) and conditional logic based on PCI revision. Good review chain with internal review (lipeng321@huawei.com) and subsystem maintainer sign-off. Well-documented commit with clear problem explanation and hardware-specific version handling.", "code_snippet": "@@ -160,7 +163,9 @@ static void hns3_lp_setup_skb(struct sk_buff *skb)\n \t * before the packet reaches mac or serdes, which will defect\n \t * the purpose of mac or serdes selftest.\n \t */\n-\tethh->h_dest[5] += 0x1f;\n+\thandle = hns3_get_handle(ndev);\n+\tif (handle->pdev->revision == 0x20)\n+\t\tethh->h_dest[5] += HNS3_NIC_LB_DST_MAC_ADDR;\n \teth_zero_addr(ethh->h_source);\n \tethh->h_proto = htons(ETH_P_ARP);\n \tskb_reset_mac_header(skb);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\nindex 29979be9e33a..4821fe08b5e4 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd2956eab104185bda122af162f90b06322a05e6"}
{"commit_hash": "c9765a89d142f614b917ead75e23f1915f7e748d", "short_hash": "c9765a89d142", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T22:23:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-29T16:57:44-07:00", "subject": "net: hns3: add phy selftest function", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 2, "insertions": 138, "deletions": 19, "hunks": 20, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 14, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Adds PHY selftest functionality to hns3 driver. 157 lines changed across 2 files. Feature enhancement for Hisilicon network driver. Good review chain with author, maintainer, and networking subsystem maintainer sign-offs. Clean implementation with proper error handling and code refactoring (extracted common link status wait logic). Not a security fix, not CC'd to stable.", "code_snippet": "@@ -330,6 +331,10 @@ static void hns3_self_test(struct net_device *ndev,\n \tst_param[HNAE3_LOOP_PARALLEL_SERDES][1] =\n \t\t\th->flags & HNAE3_SUPPORT_SERDES_PARALLEL_LOOPBACK;\n \n+\tst_param[HNAE3_LOOP_PHY][0] = HNAE3_LOOP_PHY;\n+\tst_param[HNAE3_LOOP_PHY][1] =\n+\t\t\th->flags & HNAE3_SUPPORT_PHY_LOOPBACK;\n+\n \tif (if_running)\n \t\tndev->netdev_ops->ndo_stop(ndev);\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 9ef1f468593f..428f7c0d2081 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c9765a89d142f614b917ead75e23f1915f7e748d"}
{"commit_hash": "b557217c8475f40bc765ee20ff6b3b9124c8a4fe", "short_hash": "b557217c8475", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T21:43:28+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T17:47:23-04:00", "subject": "scsi: ufs: fix broken hba->outstanding_tasks", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Chun-Hung Wu <chun-hung.wu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 13, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for UFS SCSI driver where outstanding_tasks bits were not cleared on timeout, causing power management issues. Small code change (4 insertions, 5 deletions) moving bit clearing outside success condition. SCSI subsystem is storage-critical but not core kernel. Review chain strong with 2 Sign-offs and Reviewed-by tag. Commit message excellent with clear problem description and solution rationale. Cross-org collaboration between Mediatek and WDC + maintainer sign-off.", "code_snippet": "@@ -5696,13 +5696,12 @@ static int __ufshcd_issue_tm_cmd(struct ufs_hba *hba,\n \t\tmemcpy(treq, hba->utmrdl_base_addr + free_slot, sizeof(*treq));\n \n \t\tufshcd_add_tm_upiu_trace(hba, task_tag, \"tm_complete\");\n-\n-\t\tspin_lock_irqsave(hba->host->host_lock, flags);\n-\t\t__clear_bit(free_slot, &hba->outstanding_tasks);\n-\t\tspin_unlock_irqrestore(hba->host->host_lock, flags);\n-\n \t}\n \n+\tspin_lock_irqsave(hba->host->host_lock, flags);\n+\t__clear_bit(free_slot, &hba->outstanding_tasks);\n+\tspin_unlock_irqrestore(hba->host->host_lock, flags);\n+\n \tclear_bit(free_slot, &hba->tm_condition);\n \tufshcd_put_tm_slot(hba, free_slot);\n \twake_up(&hba->tm_tag_wq);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b557217c8475f40bc765ee20ff6b3b9124c8a4fe"}
{"commit_hash": "328bc6debf3dcaf8859dd1323882e8e24ec6e3f8", "short_hash": "328bc6debf3d", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:20:47+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T18:01:58-04:00", "subject": "scsi: hisi_sas: remove set but not used variable 'irq_value'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 8, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix compiler warning. Minimal code change (-3/+1 lines) in SCSI subsystem (tier 7). Strong review chain with Acked-by and Signed-off-by maintainer endorsements. Cross-org contribution from Huawei to Oracle maintainer. No user impact or stability significance.", "code_snippet": "@@ -1497,11 +1497,9 @@ static irqreturn_t cq_interrupt_v1_hw(int irq, void *p)\n \tstruct hisi_sas_complete_v1_hdr *complete_queue =\n \t\t\t(struct hisi_sas_complete_v1_hdr *)\n \t\t\thisi_hba->complete_hdr[queue];\n-\tu32 irq_value, rd_point = cq->rd_point, wr_point;\n+\tu32 rd_point = cq->rd_point, wr_point;\n \n \tspin_lock(&hisi_hba->lock);\n-\tirq_value = hisi_sas_read32(hisi_hba, OQ_INT_SRC);\n-\n \thisi_sas_write32(hisi_hba, OQ_INT_SRC, 1 << queue);\n \twr_point = hisi_sas_read32(hisi_hba,\n \t\t\tCOMPL_Q_0_WR_PTR + (0x14 * queue));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/328bc6debf3dcaf8859dd1323882e8e24ec6e3f8"}
{"commit_hash": "844b17d7438bc6e8acbd85163b7c6b9bce0a6ea2", "short_hash": "844b17d7438b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T09:15:49+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T18:04:54-04:00", "subject": "scsi: ufs: remove set but not used variable 'val'", "primary_category": "TRIV-WHITESPACE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "1e1e465c6d23", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Avri Altman <Avri.Altman@wdc.com> (Wdc)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variable to fix compiler warning. 3 lines deleted. Acked-by from subsystem maintainer. Part of Huawei's automated cleanup effort (Hulk Robot). No functional change, low impact.", "code_snippet": "@@ -800,7 +800,6 @@ static int ufs_qcom_pwr_change_notify(struct ufs_hba *hba,\n \t\t\t\tstruct ufs_pa_layer_attr *dev_max_params,\n \t\t\t\tstruct ufs_pa_layer_attr *dev_req_params)\n {\n-\tu32 val;\n \tstruct ufs_qcom_host *host = ufshcd_get_variant(hba);\n \tstruct ufs_dev_params ufs_qcom_cap;\n \tint ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/844b17d7438bc6e8acbd85163b7c6b9bce0a6ea2"}
{"commit_hash": "84769706dde5881b8da0dc3da666f7443be95a8a", "short_hash": "84769706dde5", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T21:22:53+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T18:53:43-04:00", "subject": "scsi: bnx2fc: remove set but not used variables 'task','port','orig_task'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/bnx2fc/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 16, "hunks": 14, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saurav Kashyap <skashyap@marvell.com> (Marvell)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables flagged by gcc warnings. Removes 3 unused variables (task, port, orig_task) from SCSI bnx2fc driver. Cross-org contribution from Huawei to Oracle maintainer. Includes Reported-by, Acked-by, and Signed-off-by tags showing good review chain.", "code_snippet": "@@ -1463,10 +1454,7 @@ void bnx2fc_init_seq_cleanup_task(struct bnx2fc_cmd *seq_clnp_req,\n {\n \tstruct scsi_cmnd *sc_cmd = orig_io_req->sc_cmd;\n \tstruct bnx2fc_rport *tgt = seq_clnp_req->tgt;\n-\tstruct bnx2fc_interface *interface = tgt->port->priv;\n \tstruct fcoe_bd_ctx *bd = orig_io_req->bd_tbl->bd_tbl;\n-\tstruct fcoe_task_ctx_entry *orig_task;\n-\tstruct fcoe_task_ctx_entry *task_page;\n \tstruct fcoe_ext_mul_sges_ctx *sgl;\n \tu8 task_type = FCOE_TASK_TYPE_SEQUENCE_CLEANUP;\n \tu8 orig_task_type;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/84769706dde5881b8da0dc3da666f7443be95a8a"}
{"commit_hash": "2f8eeaa258a9e8ac922f72957a5b0643c0d1b7f0", "short_hash": "2f8eeaa258a9", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T21:22:52+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T18:53:43-04:00", "subject": "scsi: bnx2fc: remove set but not used variables 'lport','host'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/bnx2fc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saurav Kashyap <skashyap@marvell.com> (Marvell)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables flagged by gcc warnings. Well-reviewed with Reported-by, Signed-off-by, and Acked-by tags. Cross-org collaboration (Huawei author, Marvell reviewer, Oracle maintainer). Low technical impact as it only removes dead code without functional changes.", "code_snippet": "@@ -1927,8 +1923,6 @@ void bnx2fc_process_scsi_cmd_compl(struct bnx2fc_cmd *io_req,\n \tstruct fcoe_fcp_rsp_payload *fcp_rsp;\n \tstruct bnx2fc_rport *tgt = io_req->tgt;\n \tstruct scsi_cmnd *sc_cmd;\n-\tstruct Scsi_Host *host;\n-\n \n \t/* scsi_cmd_cmpl is called with tgt lock held */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f8eeaa258a9e8ac922f72957a5b0643c0d1b7f0"}
{"commit_hash": "7444ad400bfd8c85a28678a7b68accc6c41041fd", "short_hash": "7444ad400bfd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T21:22:51+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-08-29T18:53:43-04:00", "subject": "scsi: bnx2fc: remove set but not used variable 'fh'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/bnx2fc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saurav Kashyap <skashyap@marvell.com> (Marvell)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal cleanup commit removing unused variable to fix compiler warning. Low technical complexity (1/10 code volume). Target subsystem SCSI driver (tier 6). Base score 3 for cleanup category. Low user impact (1). Good review chain with Acked-by (5). Clear commit message with warning details (5). Atomic change (3). Cross-org collaboration between Huawei and Marvell (3). Maintainer endorsement through subsystem maintainer sign-off (4). Total: 35/100.", "code_snippet": "@@ -428,7 +428,6 @@ static int bnx2fc_rcv(struct sk_buff *skb, struct net_device *dev,\n \tstruct fc_lport *lport;\n \tstruct bnx2fc_interface *interface;\n \tstruct fcoe_ctlr *ctlr;\n-\tstruct fc_frame_header *fh;\n \tstruct fcoe_rcv_info *fr;\n \tstruct fcoe_percpu_s *bg;\n \tstruct sk_buff *tmp_skb;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7444ad400bfd8c85a28678a7b68accc6c41041fd"}
{"commit_hash": "b3e5eee76548f621bb1c3e9dab4a4ff98bebf0de", "short_hash": "b3e5eee76548", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:57+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/mediatek: Add larb-id remapped support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 6, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)", "Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 10, "score_impact": 17, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "This is a driver feature adding larb-id remapped support for MediaTek IOMMU, specifically preparing for mt8183 SoC. The change is small (6 insertions, 0 deletions) focused on hardware-specific functionality. Excellent review chain with 3 Reviewed-by tags from developers at Chromimum and MediaTek maintainers. Cross-org collaboration between Mediatek and Chromimum developers. Clear commit message with detailed hardware diagram explaining the remapping logic.", "code_snippet": "@@ -766,12 +768,14 @@ static const struct mtk_iommu_plat_data mt2712_data = {\n \t.m4u_plat     = M4U_MT2712,\n \t.has_4gb_mode = true,\n \t.has_bclk     = true,\n+\t.larbid_remap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},\n };\n \n static const struct mtk_iommu_plat_data mt8173_data = {\n \t.m4u_plat     = M4U_MT8173,\n \t.has_4gb_mode = true,\n \t.has_bclk     = true,\n+\t.larbid_remap = {0, 1, 2, 3, 4, 5}, /* Linear mapping. */\n };\n \n static const struct of_device_id mtk_iommu_of_ids[] = {\ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex 821172bd6c52..d1a1d8887a0e 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3e5eee76548f621bb1c3e9dab4a4ff98bebf0de"}
{"commit_hash": "2aa4c2597cd67139697eb3095d5b6d61074c7ffc", "short_hash": "2aa4c2597cd6", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:56+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/mediatek: Add bclk can be supported optionally", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 10, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 9, "score_impact": 16, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware support feature adding optional bclk for MediaTek IOMMU. Low code volume (13 lines), driver subsystem (tier 7). 2 Reviewed-by tags indicate good review quality. Cross-org contribution from Mediatek to maintainer Joerg Roedel. Prepares support for mt8183 SoC variant.", "code_snippet": "@@ -763,11 +765,13 @@ static const struct dev_pm_ops mtk_iommu_pm_ops = {\n static const struct mtk_iommu_plat_data mt2712_data = {\n \t.m4u_plat     = M4U_MT2712,\n \t.has_4gb_mode = true,\n+\t.has_bclk     = true,\n };\n \n static const struct mtk_iommu_plat_data mt8173_data = {\n \t.m4u_plat     = M4U_MT8173,\n \t.has_4gb_mode = true,\n+\t.has_bclk     = true,\n };\n \n static const struct of_device_id mtk_iommu_of_ids[] = {\ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex c281c01b2d5b..821172bd6c52 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2aa4c2597cd67139697eb3095d5b6d61074c7ffc"}
{"commit_hash": "b4dad40e4f35bbf2393f35f4492acf799eb8136d", "short_hash": "b4dad40e4f35", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:55+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/mediatek: Adjust the PA for the 4GB Mode", "primary_category": "BUG-CORRUPT", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 17, "deletions": 10, "hunks": 14, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "IOMMU PA remap fix for MediaTek 4GB mode - addresses physical address translation bug affecting memory mapping correctness. 27 LOC across 2 files in drivers/iommu subsystem. Author from MediaTek, maintainer sign-off present. Good commit message with detailed technical explanation of PA remapping logic.", "code_snippet": "@@ -129,7 +129,7 @@ static const struct iommu_ops mtk_iommu_ops;\n  * 'E', the CPU physical address keep as is.\n  * Additionally, The iommu consumers always use the CPU phyiscal address.\n  */\n-#define MTK_IOMMU_4GB_MODE_REMAP_BASE\t 0x40000000\n+#define MTK_IOMMU_4GB_MODE_REMAP_BASE\t 0x140000000UL\n \n static LIST_HEAD(m4ulist);\t/* List all the M4U HWs */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b4dad40e4f35bbf2393f35f4492acf799eb8136d"}
{"commit_hash": "4c019de653237674d38cf2b3119153b144ffe173", "short_hash": "4c019de65323", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:54+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/io-pgtable-arm-v7s: Extend to support PA[33:32] for MediaTek", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/", "include/linux/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 36, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 49, "score_technical": 11, "score_impact": 17, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 2, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a hardware driver feature adding MediaTek-specific IOMMU page table extensions to support 34-bit physical addresses. The commit adds proper encoding/decoding for PA bits 32-33 in ARM v7s page tables. Includes Acked-by from ARM maintainer Will Deacon. Cross-company collaboration (MediaTek author, SUSE committer, ARM reviewer). Clean implementation with helper function arm_v7s_is_mtk_enabled().", "code_snippet": "@@ -112,7 +112,9 @@\n #define ARM_V7S_TEX_MASK\t\t0x7\n #define ARM_V7S_ATTR_TEX(val)\t\t(((val) & ARM_V7S_TEX_MASK) << ARM_V7S_TEX_SHIFT)\n \n-#define ARM_V7S_ATTR_MTK_4GB\t\tBIT(9) /* MTK extend it for 4GB mode */\n+/* MediaTek extend the two bits for PA 32bit/33bit */\n+#define ARM_V7S_ATTR_MTK_PA_BIT32\tBIT(9)\n+#define ARM_V7S_ATTR_MTK_PA_BIT33\tBIT(4)\n \n /* *well, except for TEX on level 2 large pages, of course :( */\n #define ARM_V7S_CONT_PAGE_TEX_SHIFT\t6", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c019de653237674d38cf2b3119153b144ffe173"}
{"commit_hash": "73d50811bc91d2a173213a78b6b43ac762f6cc54", "short_hash": "73d50811bc91", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:53+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/io-pgtable-arm-v7s: Rename the quirk from MTK_4GB to MTK_EXT", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/", "include/linux/"], "subsystem_tier": 8, "files_changed": 3, "insertions": 6, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 46, "score_technical": 13, "score_impact": 7, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 2, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring rename-only commit changing MTK_4GB to MTK_EXT quirk name across 3 files (12 lines total). Well-reviewed with Acked-by from maintainer Will Deacon. Cross-org contribution from MediaTek to general IOMMU subsystem. Low functional impact - pure naming change to reflect extended PA support beyond 4GB.", "code_snippet": "@@ -737,12 +737,12 @@ static struct io_pgtable *arm_v7s_alloc_pgtable(struct io_pgtable_cfg *cfg,\n \tif (cfg->quirks & ~(IO_PGTABLE_QUIRK_ARM_NS |\n \t\t\t    IO_PGTABLE_QUIRK_NO_PERMS |\n \t\t\t    IO_PGTABLE_QUIRK_TLBI_ON_MAP |\n-\t\t\t    IO_PGTABLE_QUIRK_ARM_MTK_4GB |\n+\t\t\t    IO_PGTABLE_QUIRK_ARM_MTK_EXT |\n \t\t\t    IO_PGTABLE_QUIRK_NON_STRICT))\n \t\treturn NULL;\n \n \t/* If ARM_MTK_4GB is enabled, the NO_PERMS is also expected. */\n-\tif (cfg->quirks & IO_PGTABLE_QUIRK_ARM_MTK_4GB &&\n+\tif (cfg->quirks & IO_PGTABLE_QUIRK_ARM_MTK_EXT &&\n \t    !(cfg->quirks & IO_PGTABLE_QUIRK_NO_PERMS))\n \t\t\treturn NULL;\n \ndiff --git a/drivers/iommu/mtk_iommu.c b/drivers/iommu/mtk_iommu.c\nindex 9ba270620767..62edce75c366 100644\n--- a/drivers/iommu/mtk_iommu.c\n+++ b/drivers/iommu/mtk_iommu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73d50811bc91d2a173213a78b6b43ac762f6cc54"}
{"commit_hash": "5950b9541b509037aeb9e7b95f88a692bf3f46a3", "short_hash": "5950b9541b50", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:51+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/io-pgtable-arm-v7s: Add paddr_to_iopte and iopte_to_paddr helpers", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 33, "deletions": 12, "hunks": 18, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Robin Murphy <robin.murphy@arm.com> (ARM)", "Evan Green <evgreen@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 11, "score_impact": 12, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit adding paddr_to_iopte and iopte_to_paddr helper functions to improve code abstraction in ARMv7 short-descriptor io-pgtable. Changes are localized to drivers/iommu/io-pgtable-arm-v7s.c with 33 insertions and 12 deletions. Includes proper review chain (2 Reviewed-by tags). Code volume is modest and changes are architectural improvements rather than bug fixes or new features.", "code_snippet": "@@ -169,18 +169,38 @@ struct arm_v7s_io_pgtable {\n \tspinlock_t\t\tsplit_lock;\n };\n \n+static bool arm_v7s_pte_is_cont(arm_v7s_iopte pte, int lvl);\n+\n static dma_addr_t __arm_v7s_dma_addr(void *pages)\n {\n \treturn (dma_addr_t)virt_to_phys(pages);\n }\n \n-static arm_v7s_iopte *iopte_deref(arm_v7s_iopte pte, int lvl)\n+static arm_v7s_iopte paddr_to_iopte(phys_addr_t paddr, int lvl,\n+\t\t\t\t    struct io_pgtable_cfg *cfg)\n {\n+\treturn paddr & ARM_V7S_LVL_MASK(lvl);\n+}\n+\n+static phys_addr_t iopte_to_paddr(arm_v7s_iopte pte, int lvl,\n+\t\t\t\t  struct io_pgtable_cfg *cfg)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5950b9541b509037aeb9e7b95f88a692bf3f46a3"}
{"commit_hash": "76ce65464fcd2c21db84391572b7938b716aceb0", "short_hash": "76ce65464fcd", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:50+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/mediatek: Fix iova_to_phys PA start for 4GB mode", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "30e2fccf9512", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 25, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 18, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for MediaTek IOMMU 4GB mode address translation. Corrects physical address calculation in iova_to_phys function. Fixes tag references original commit. Well-documented with ASCII diagram explaining memory layout. Low code volume (26 lines), single file change in critical IOMMU subsystem. Cross-company review (MediaTek author, SUSE maintainer).", "code_snippet": "@@ -107,6 +107,30 @@ struct mtk_iommu_domain {\n \n static const struct iommu_ops mtk_iommu_ops;\n \n+/*\n+ * In M4U 4GB mode, the physical address is remapped as below:\n+ *\n+ * CPU Physical address:\n+ * ====================\n+ *\n+ * 0      1G       2G     3G       4G     5G\n+ * |---A---|---B---|---C---|---D---|---E---|\n+ * +--I/O--+------------Memory-------------+\n+ *\n+ * IOMMU output physical address:\n+ *  =============================\n+ *\n+ *                                 4G      5G     6G      7G      8G\n+ *                                 |---E---|---B---|---C---|---D---|\n+ *                                 +------------Memory-------------+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76ce65464fcd2c21db84391572b7938b716aceb0"}
{"commit_hash": "7f315c9da9f5e5f9ba720ca4b5e04e5ee91833f9", "short_hash": "7f315c9da9f5", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:52+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/io-pgtable-arm-v7s: Use ias/oas to check the valid iova/pa", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["iommu/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 16, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "IOMMU page table validation fix: aligns ARMv7 short-descriptor io-pgtable checking with ARM long-descriptor implementation. Small change (3 lines) in critical memory management subsystem. Acked-by ARM maintainer. Improves robustness of address validation logic.", "code_snippet": "@@ -504,7 +504,8 @@ static int arm_v7s_map(struct io_pgtable_ops *ops, unsigned long iova,\n \tif (!(prot & (IOMMU_READ | IOMMU_WRITE)))\n \t\treturn 0;\n \n-\tif (WARN_ON(upper_32_bits(iova) || upper_32_bits(paddr)))\n+\tif (WARN_ON(iova >= (1ULL << data->iop.cfg.ias) ||\n+\t\t    paddr >= (1ULL << data->iop.cfg.oas)))\n \t\treturn -ERANGE;\n \n \tret = __arm_v7s_map(data, iova, paddr, size, prot, 1, data->pgd);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f315c9da9f5e5f9ba720ca4b5e04e5ee91833f9"}
{"commit_hash": "2e9b0908f5aa26336b2a39091db1a10402054128", "short_hash": "2e9b0908f5aa", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:48+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "memory: mtk-smi: Use a general config_port interface", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 5, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)", "Evan Green <evgreen@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 11, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring to consolidate duplicate code between mt2712 and mt8183 config_port implementations. Adds larb_direct_to_common_mask field to handle special larb cases. Well-reviewed with 2 Reviewed-by tags. Preparing patch for mt8183 support. Minor code changes (5 insertions, 7 deletions). Cross-company contribution from MediaTek with maintainer endorsement.", "code_snippet": "@@ -45,6 +45,7 @@ struct mtk_smi_larb_gen {\n \tbool need_larbid;\n \tint port_in_larb[MTK_LARB_NR_MAX + 1];\n \tvoid (*config_port)(struct device *);\n+\tunsigned int\t\t\tlarb_direct_to_common_mask;\n };\n \n struct mtk_smi {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e9b0908f5aa26336b2a39091db1a10402054128"}
{"commit_hash": "42d42c76f8d2225aaed55997949d37424906e188", "short_hash": "42d42c76f8d2", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:49+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "memory: mtk-smi: Use a struct for the platform data for smi-common", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 24, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)", "Evan Green <evgreen@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 9, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit replacing enum with struct for platform data in MediaTek SMI driver. Preparing for mt8183 support. Clean code modernization with strong review chain (2 reviewers). Low impact as it's internal refactoring without user-visible changes. Cross-org contribution (MediaTek -> SUSE maintainer).", "code_snippet": "@@ -41,6 +41,15 @@\n #define SMI_LARB_NONSEC_CON(id)\t(0x380 + ((id) * 4))\n #define F_MMU_EN\t\tBIT(0)\n \n+enum mtk_smi_gen {\n+\tMTK_SMI_GEN1,\n+\tMTK_SMI_GEN2\n+};\n+\n+struct mtk_smi_common_plat {\n+\tenum mtk_smi_gen gen;\n+};\n+\n struct mtk_smi_larb_gen {\n \tbool need_larbid;\n \tint port_in_larb[MTK_LARB_NR_MAX + 1];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42d42c76f8d2225aaed55997949d37424906e188"}
{"commit_hash": "29746d012588f1de8517fc6921683c3844120989", "short_hash": "29746d012588", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:46+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "dt-bindings: mediatek: Add binding for mt8183 IOMMU and SMI", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/", "include/dt-bindings/"], "subsystem_tier": 4, "files_changed": 4, "insertions": 170, "deletions": 6, "hunks": 18, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Evan Green <evgreen@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 11, "score_impact": 11, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 7, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding device tree bindings for MediaTek mt8183 IOMMU and SMI. Added 170 lines across 4 files (3 binding docs + 1 new header). Two Reviewed-by tags from Rob Herring (DT maintainer) and Evan Green. High-quality commit message with detailed HW diagram and explanations. Not runtime code, no testing evidence expected. Documentation tier subsystem.", "code_snippet": "@@ -11,10 +11,23 @@ ARM Short-Descriptor translation table format for address translation.\n                |\n               m4u (Multimedia Memory Management Unit)\n                |\n+          +--------+\n+          |        |\n+      gals0-rx   gals1-rx    (Global Async Local Sync rx)\n+          |        |\n+          |        |\n+      gals0-tx   gals1-tx    (Global Async Local Sync tx)\n+          |        |          Some SoCs may have GALS.\n+          +--------+\n+               |\n            SMI Common(Smart Multimedia Interface Common)\n                |\n        +----------------+-------\n        |                |\n+       |             gals-rx        There may be GALS in some larbs.\n+       |                |\n+       |                |", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29746d012588f1de8517fc6921683c3844120989"}
{"commit_hash": "cecdce9d7eed33ce24da8dd4a2151b68d5c17865", "short_hash": "cecdce9d7eed", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:47+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:26+02:00", "subject": "iommu/mediatek: Use a struct as the platform data", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 21, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)", "Evan Green <evgreen@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 10, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit replacing enum with struct for platform data in MediaTek IOMMU driver. This is preparation work for mt8183 support. Code volume is small (30 lines changed, 2 files). IOMMU subsystem is moderately critical (memory management). Well-reviewed with 2 Reviewed-by tags and proper maintainer sign-off. Cross-org contribution from Mediatek with maintainer (Joerg Roedel) sign-off.", "code_snippet": "@@ -533,14 +533,14 @@ static int mtk_iommu_hw_init(const struct mtk_iommu_data *data)\n \t\tF_INT_PRETETCH_TRANSATION_FIFO_FAULT;\n \twritel_relaxed(regval, data->base + REG_MMU_INT_MAIN_CONTROL);\n \n-\tif (data->m4u_plat == M4U_MT8173)\n+\tif (data->plat_data->m4u_plat == M4U_MT8173)\n \t\tregval = (data->protect_base >> 1) | (data->enable_4GB << 31);\n \telse\n \t\tregval = lower_32_bits(data->protect_base) |\n \t\t\t upper_32_bits(data->protect_base);\n \twritel_relaxed(regval, data->base + REG_MMU_IVRP_PADDR);\n \n-\tif (data->enable_4GB && data->m4u_plat != M4U_MT8173) {\n+\tif (data->enable_4GB && data->plat_data->m4u_plat != M4U_MT8173) {\n \t\t/*\n \t\t * If 4GB mode is enabled, the validate PA range is from\n \t\t * 0x1_0000_0000 to 0x1_ffff_ffff. here record bit[32:30].", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cecdce9d7eed33ce24da8dd4a2151b68d5c17865"}
{"commit_hash": "ec2da07ca1202552d87fb01b238d46642817da2b", "short_hash": "ec2da07ca120", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:07+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "memory: mtk-smi: Get rid of need_larbid", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/iommu/", "drivers/memory/", "include/soc/mediatek/"], "subsystem_tier": 5, "files_changed": 4, "insertions": 2, "deletions": 28, "hunks": 18, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 6, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 3, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring/cleanup commit removing redundant 'mediatek,larb-id' parsing from SMI driver since it's already handled in MTK IOMMU driver. Low technical impact (2 insertions, 28 deletions across 4 files). Medium subsystem tier (memory management/IOMMU). Cross-subsystem changes (iommu + memory). Strong review chain with 2 Reviewed-by tags (Evan Green, Matthias Brugger) and maintainer sign-off. Clean commit message with clear justification. Cross-org contribution from MediaTek to SUSE maintainer.", "code_snippet": "@@ -616,8 +616,6 @@ static int mtk_iommu_probe(struct platform_device *pdev)\n \t\tlarb_nr++;\n \t}\n \n-\tdata->smi_imu.larb_nr = larb_nr;\n-\n \tplatform_set_drvdata(pdev, data);\n \n \tret = mtk_iommu_hw_init(data);\ndiff --git a/drivers/memory/mtk-smi.c b/drivers/memory/mtk-smi.c\nindex 289e59543a04..d6dc62fd89fe 100644\n--- a/drivers/memory/mtk-smi.c\n+++ b/drivers/memory/mtk-smi.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec2da07ca1202552d87fb01b238d46642817da2b"}
{"commit_hash": "1ee9feb2c9f893b893c900d2492c6a01dca680f3", "short_hash": "1ee9feb2c9f8", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:08+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Clean up struct mtk_smi_iommu", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/", "drivers/memory/", "include/soc/mediatek/"], "subsystem_tier": 6, "files_changed": 5, "insertions": 10, "deletions": 14, "hunks": 18, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 2, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume: -4 lines (tier 1). Subsystem: IOMMU driver (tier 6). Cross-subsystem: touches iommu, memory subsystems and headers (tier 2). Category: refactoring/cleanup (tier 4). Review chain: Reviewed-by Matthias Brugger, Signed-off-by maintainer Joerg Roedel (tier 4). Commit message: clear explanation of removing single-item struct (tier 4). Atomicity: single cohesive change (tier 3). Cross-org: author from MediaTek, maintainer from SUSE (tier 4). Maintainer endorsement: upstream maintainer Signed-off-by (tier 4).", "code_snippet": "@@ -680,7 +680,7 @@ static int mtk_iommu_probe(struct platform_device *pdev)\n \t\t\tof_node_put(larbnode);\n \t\t\treturn -EPROBE_DEFER;\n \t\t}\n-\t\tdata->smi_imu.larb_imu[id].dev = &plarbdev->dev;\n+\t\tdata->larb_imu[id].dev = &plarbdev->dev;\n \n \t\tcomponent_match_add_release(dev, &match, release_of,\n \t\t\t\t\t    compare_of, larbnode);\ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex 56b579c5a088..fc0f16eabacd 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1ee9feb2c9f893b893c900d2492c6a01dca680f3"}
{"commit_hash": "b9475b3471f81a60a727886230b0903be72dc96d", "short_hash": "b9475b3471f8", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:06+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Fix VLD_PA_RNG register backup when suspend", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "30e2fccf9512", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 3, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 12, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small bug fix (3 insertions) adding missing VLD_PA_RNG register backup/restore during suspend/resume for Mediatek IOMMU. Fixes regression from commit 30e2fccf9512. Good review chain with 2 Reviewed-by tags (Evan Green, Matthias Brugger), proper Fixes tag, and clear commit message. Cross-org contribution (MediaTek to SUSE maintainer). Limited user impact (power management only) and no stable CC.", "code_snippet": "@@ -766,6 +767,7 @@ static int __maybe_unused mtk_iommu_resume(struct device *dev)\n \twritel_relaxed(reg->int_control0, base + REG_MMU_INT_CONTROL0);\n \twritel_relaxed(reg->int_main_control, base + REG_MMU_INT_MAIN_CONTROL);\n \twritel_relaxed(reg->ivrp_paddr, base + REG_MMU_IVRP_PADDR);\n+\twritel_relaxed(reg->vld_pa_rng, base + REG_MMU_VLD_PA_RNG);\n \tif (m4u_dom)\n \t\twritel(m4u_dom->cfg.arm_v7s_cfg.ttbr[0] & MMU_PT_ADDR_MASK,\n \t\t       base + REG_MMU_PT_BASE_ADDR);\ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex 6b1f833696a6..56b579c5a088 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9475b3471f81a60a727886230b0903be72dc96d"}
{"commit_hash": "567e58cf96dda2cc1d8dbdafbc1c089b5ea2be25", "short_hash": "567e58cf96dd", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:05+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "memory: mtk-smi: Add bus_sel for mt8183", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 22, "deletions": 2, "hunks": 14, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 14, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "MediaTek MMU driver enhancement adding bus selection register support for mt8183 to balance bandwidth across 2 MMU cells. Well-reviewed driver feature with clear documentation and platform-specific handling.", "code_snippet": "@@ -41,6 +41,12 @@\n #define SMI_LARB_NONSEC_CON(id)\t(0x380 + ((id) * 4))\n #define F_MMU_EN\t\tBIT(0)\n \n+/* SMI COMMON */\n+#define SMI_BUS_SEL\t\t\t0x220\n+#define SMI_BUS_LARB_SHIFT(larbid)\t((larbid) << 1)\n+/* All are MMU0 defaultly. Only specialize mmu1 here. */\n+#define F_MMU1_LARB(larbid)\t\t(0x1 << SMI_BUS_LARB_SHIFT(larbid))\n+\n enum mtk_smi_gen {\n \tMTK_SMI_GEN1,\n \tMTK_SMI_GEN2", "flags": [], "link": "https://lore.kernel.org/linux-kernel/567e58cf96dda2cc1d8dbdafbc1c089b5ea2be25"}
{"commit_hash": "4f0a1a1ae35197e9b7a6d11b4e881bcfe973ad8f", "short_hash": "4f0a1a1ae351", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:04+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "memory: mtk-smi: Invoke pm runtime_callback to enable clocks", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 72, "deletions": 41, "hunks": 8, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 11, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring commit moving clock enable/disable logic to runtime PM callbacks for MediaTek SMI driver. 72 insertions/41 deletions across single file. Prepares for mt8183 SMI_BUS_SEL adjustments. Strong review chain with 2 Reviewed-by tags (Evan Green, Matthias Brugger). Cross-org contribution (MediaTek author, SUSE maintainer commit). Driver subsystem tier 4. No user-visible impact stated, preparation for future feature.", "code_snippet": "@@ -78,17 +78,13 @@ struct mtk_smi_larb { /* larb: local arbiter */\n \tu32\t\t\t\t*mmu;\n };\n \n-static int mtk_smi_enable(const struct mtk_smi *smi)\n+static int mtk_smi_clk_enable(const struct mtk_smi *smi)\n {\n \tint ret;\n \n-\tret = pm_runtime_get_sync(smi->dev);\n-\tif (ret < 0)\n-\t\treturn ret;\n-\n \tret = clk_prepare_enable(smi->clk_apb);\n \tif (ret)\n-\t\tgoto err_put_pm;\n+\t\treturn ret;\n \n \tret = clk_prepare_enable(smi->clk_smi);\n \tif (ret)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f0a1a1ae35197e9b7a6d11b4e881bcfe973ad8f"}
{"commit_hash": "15a01f4c60607ad888faf0386070181f9c97577f", "short_hash": "15a01f4c6060", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:03+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Add mmu1 support", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 29, "deletions": 17, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware feature addition for MediaTek IOMMU driver adding mmu1 support. Reviewed by 2 developers, moderate technical complexity with register mapping changes. IOMMU subsystem is important but not tier-1 critical. Code adds dual MMU cell support for performance optimization.", "code_snippet": "@@ -64,26 +64,32 @@\n #define F_INT_CLR_BIT\t\t\t\tBIT(12)\n \n #define REG_MMU_INT_MAIN_CONTROL\t\t0x124\n-#define F_INT_TRANSLATION_FAULT\t\t\tBIT(0)\n-#define F_INT_MAIN_MULTI_HIT_FAULT\t\tBIT(1)\n-#define F_INT_INVALID_PA_FAULT\t\t\tBIT(2)\n-#define F_INT_ENTRY_REPLACEMENT_FAULT\t\tBIT(3)\n-#define F_INT_TLB_MISS_FAULT\t\t\tBIT(4)\n-#define F_INT_MISS_TRANSACTION_FIFO_FAULT\tBIT(5)\n-#define F_INT_PRETETCH_TRANSATION_FIFO_FAULT\tBIT(6)\n+\t\t\t\t\t\t/* mmu0 | mmu1 */\n+#define F_INT_TRANSLATION_FAULT\t\t\t(BIT(0) | BIT(7))\n+#define F_INT_MAIN_MULTI_HIT_FAULT\t\t(BIT(1) | BIT(8))\n+#define F_INT_INVALID_PA_FAULT\t\t\t(BIT(2) | BIT(9))\n+#define F_INT_ENTRY_REPLACEMENT_FAULT\t\t(BIT(3) | BIT(10))\n+#define F_INT_TLB_MISS_FAULT\t\t\t(BIT(4) | BIT(11))\n+#define F_INT_MISS_TRANSACTION_FIFO_FAULT\t(BIT(5) | BIT(12))\n+#define F_INT_PRETETCH_TRANSATION_FIFO_FAULT\t(BIT(6) | BIT(13))\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/15a01f4c60607ad888faf0386070181f9c97577f"}
{"commit_hash": "907ba6a195991adb2a3edf4aff0d8dbb308d4d97", "short_hash": "907ba6a19599", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:02+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Add mt8183 IOMMU support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu", "drivers/memory"], "subsystem_tier": 7, "files_changed": 3, "insertions": 33, "deletions": 3, "hunks": 20, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 11, "score_impact": 15, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 2, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New driver support for MediaTek mt8183 IOMMU hardware. Well-reviewed commit with 2 Reviewed-by tags. Adds platform-specific data structure and device tree bindings. Cross-subsystem changes to IOMMU and memory subsystems. Detailed commit message explaining 7 specific hardware differences.", "code_snippet": "@@ -752,8 +754,8 @@ static int __maybe_unused mtk_iommu_resume(struct device *dev)\n \twritel_relaxed(reg->int_control0, base + REG_MMU_INT_CONTROL0);\n \twritel_relaxed(reg->int_main_control, base + REG_MMU_INT_MAIN_CONTROL);\n \twritel_relaxed(reg->ivrp_paddr, base + REG_MMU_IVRP_PADDR);\n-\tif (data->m4u_dom)\n-\t\twritel(data->m4u_dom->cfg.arm_v7s_cfg.ttbr[0],\n+\tif (m4u_dom)\n+\t\twritel(m4u_dom->cfg.arm_v7s_cfg.ttbr[0] & MMU_PT_ADDR_MASK,\n \t\t       base + REG_MMU_PT_BASE_ADDR);\n \treturn 0;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/907ba6a195991adb2a3edf4aff0d8dbb308d4d97"}
{"commit_hash": "2b326d8b1d2b443c3dad96f54c6b279559f87751", "short_hash": "2b326d8b1d2b", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:00+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Move vld_pa_rng into plat_data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 3, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 7, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small refactor (4 lines changed) moving vld_pa_rng handling into plat_data structure for MediaTek IOMMU driver. Good review chain with 2 reviewers. Maintainer Joerg Roedel merged. Low impact driver-specific refactoring.", "code_snippet": "@@ -766,6 +766,7 @@ static const struct mtk_iommu_plat_data mt2712_data = {\n \t.m4u_plat     = M4U_MT2712,\n \t.has_4gb_mode = true,\n \t.has_bclk     = true,\n+\t.has_vld_pa_rng   = true,\n \t.larbid_remap = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9},\n };\n \ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex 8d3b525b8752..973d6e077e43 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b326d8b1d2b443c3dad96f54c6b279559f87751"}
{"commit_hash": "64fea74a0d205ac9aff39997e5fe9d64115a4bd3", "short_hash": "64fea74a0d20", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:02:01+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "memory: mtk-smi: Add gals support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 36, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 7, "score_impact": 15, "score_quality": 18, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit adds GALS (Global Async Local Sync) support for MediaTek SMI driver, a hardware-specific feature for mt8183 SoC. Code volume is moderate (36 insertions, 0 deletions). The driver subsystem (memory) has moderate criticality. Strong review chain with two Reviewed-by tags. Commit message is detailed with ASCII diagram explaining the hardware architecture. This is new hardware enablement, preparing support for mt8183.", "code_snippet": "@@ -55,11 +56,13 @@ struct mtk_smi_larb_gen {\n \tint port_in_larb[MTK_LARB_NR_MAX + 1];\n \tvoid (*config_port)(struct device *);\n \tunsigned int\t\t\tlarb_direct_to_common_mask;\n+\tbool\t\t\t\thas_gals;\n };\n \n struct mtk_smi {\n \tstruct device\t\t\t*dev;\n \tstruct clk\t\t\t*clk_apb, *clk_smi;\n+\tstruct clk\t\t\t*clk_gals0, *clk_gals1;\n \tstruct clk\t\t\t*clk_async; /*only needed by mt2701*/\n \tvoid __iomem\t\t\t*smi_ao_base;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64fea74a0d205ac9aff39997e5fe9d64115a4bd3"}
{"commit_hash": "50822b0b948fabfc8bcee9a89d031c276b135506", "short_hash": "50822b0b948f", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:59+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Move reset_axi into plat_data", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)", "Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 9, "score_impact": 13, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MediaTek IOMMU driver refactoring moving reset_axi property to plat_data structure. Low complexity (6 insertions, 6 deletions across 2 files). Excellent review quality with 3 Reviewed-by tags including maintainer. Cross-org contribution from MediaTek to mainline via Joerg Roedel. Preparing for mt8183 SoC support.", "code_snippet": "@@ -774,6 +773,7 @@ static const struct mtk_iommu_plat_data mt8173_data = {\n \t.m4u_plat     = M4U_MT8173,\n \t.has_4gb_mode = true,\n \t.has_bclk     = true,\n+\t.reset_axi    = true,\n \t.larbid_remap = {0, 1, 2, 3, 4, 5}, /* Linear mapping. */\n };\n \ndiff --git a/drivers/iommu/mtk_iommu.h b/drivers/iommu/mtk_iommu.h\nindex d1a1d8887a0e..8d3b525b8752 100644\n--- a/drivers/iommu/mtk_iommu.h\n+++ b/drivers/iommu/mtk_iommu.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/50822b0b948fabfc8bcee9a89d031c276b135506"}
{"commit_hash": "acb3c92a61306a8bc3b6bb8ed72977201affdd9a", "short_hash": "acb3c92a6130", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-24T11:01:58+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T15:57:27+02:00", "subject": "iommu/mediatek: Refine protect memory definition", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 6, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Evan Green <evgreen@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 3, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a code refactoring commit that simplifies macro definitions in the MediaTek IOMMU driver. It replaces complex macros with simpler if-else logic for handling different SoC variants. The commit has good review quality with 2 Reviewed-by tags, cross-org contribution (MediaTek author, SUSE maintainer), and clean atomic change focused on a single file. Low impact as it's internal cleanup without user-visible effects.", "code_snippet": "@@ -44,12 +44,9 @@\n #define REG_MMU_DCM_DIS\t\t\t\t0x050\n \n #define REG_MMU_CTRL_REG\t\t\t0x110\n+#define F_MMU_TF_PROT_TO_PROGRAM_ADDR\t\t(2 << 4)\n #define F_MMU_PREFETCH_RT_REPLACE_MOD\t\tBIT(4)\n-#define F_MMU_TF_PROTECT_SEL_SHIFT(data) \\\n-\t((data)->plat_data->m4u_plat == M4U_MT2712 ? 4 : 5)\n-/* It's named by F_MMU_TF_PROT_SEL in mt2712. */\n-#define F_MMU_TF_PROTECT_SEL(prot, data) \\\n-\t(((prot) & 0x3) << F_MMU_TF_PROTECT_SEL_SHIFT(data))\n+#define F_MMU_TF_PROT_TO_PROGRAM_ADDR_MT8173\t(2 << 5)\n \n #define REG_MMU_IVRP_PADDR\t\t\t0x114\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/acb3c92a61306a8bc3b6bb8ed72977201affdd9a"}
{"commit_hash": "6b0c54e7f2715997c366e8374209bc74259b0a59", "short_hash": "6b0c54e7f271", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-24T09:47:12+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-08-30T16:23:19+02:00", "subject": "iommu/dma: Fix for dereferencing before null checking", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "fdbe574eb693", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 19, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Null pointer dereference fix in IOMMU DMA code - critical memory management subsystem. Small targeted fix (4 lines) with proper Fixes tag. Cross-org contribution (Huawei author, SUSE maintainer). Clear commit message explaining the bug and fix.", "code_snippet": "@@ -303,13 +303,15 @@ static int iommu_dma_init_domain(struct iommu_domain *domain, dma_addr_t base,\n \t\tu64 size, struct device *dev)\n {\n \tstruct iommu_dma_cookie *cookie = domain->iova_cookie;\n-\tstruct iova_domain *iovad = &cookie->iovad;\n \tunsigned long order, base_pfn;\n+\tstruct iova_domain *iovad;\n \tint attr;\n \n \tif (!cookie || cookie->type != IOMMU_DMA_IOVA_COOKIE)\n \t\treturn -EINVAL;\n \n+\tiovad = &cookie->iovad;\n+\n \t/* Use the smallest supported page size for IOVA granularity */\n \torder = __ffs(domain->pgsize_bitmap);\n \tbase_pfn = max_t(unsigned long, 1, base >> order);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6b0c54e7f2715997c366e8374209bc74259b0a59"}
{"commit_hash": "f1d087b912c61f23685fcfc1bf61dfce517d89f3", "short_hash": "f1d087b912c6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:41:38+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-30T18:05:30+10:00", "subject": "crypto: aegis128 - Fix -Wunused-const-variable warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 11, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes compiler warning by moving unused const variable from header to its only usage site. Minimal code movement (11 insertions, 11 deletions). Herbert Xu (crypto maintainer) signed off. Clean-up task reported by automated testing robot. No functional change, no security impact.", "code_snippet": "@@ -24,17 +24,6 @@ union aegis_block {\n #define AEGIS_BLOCK_ALIGN (__alignof__(union aegis_block))\n #define AEGIS_ALIGNED(p) IS_ALIGNED((uintptr_t)p, AEGIS_BLOCK_ALIGN)\n \n-static const union aegis_block crypto_aegis_const[2] = {\n-\t{ .words64 = {\n-\t\tcpu_to_le64(U64_C(0x0d08050302010100)),\n-\t\tcpu_to_le64(U64_C(0x6279e99059372215)),\n-\t} },\n-\t{ .words64 = {\n-\t\tcpu_to_le64(U64_C(0xf12fc26d55183ddb)),\n-\t\tcpu_to_le64(U64_C(0xdd28b57342311120)),\n-\t} },\n-};\n-\n static __always_inline void crypto_aegis_block_xor(union aegis_block *dst,\n \t\t\t\t\t\t   const union aegis_block *src)\n {\ndiff --git a/crypto/aegis128-core.c b/crypto/aegis128-core.c\nindex fa69e99968e2..80e73611bd5c 100644", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1d087b912c61f23685fcfc1bf61dfce517d89f3"}
{"commit_hash": "2be7f901610ca0d8588865b13ca9046ec32fb9bb", "short_hash": "2be7f901610c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:46:49+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-30T18:05:31+10:00", "subject": "crypto: nx - remove unused variables 'nx_driver_string' and 'nx_driver_version'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/nx"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing 2 unused const variables to fix compiler warnings. Single file, single subsystem (drivers/crypto/nx). Clean review chain with maintainer sign-off. Low technical impact as code was never used.", "code_snippet": "@@ -9,9 +9,6 @@\n #define NX_STRING\t\"IBM Power7+ Nest Accelerator Crypto Driver\"\n #define NX_VERSION\t\"1.0\"\n \n-static const char nx_driver_string[] = NX_STRING;\n-static const char nx_driver_version[] = NX_VERSION;\n-\n /* a scatterlist in the format PHYP is expecting */\n struct nx_sg {\n \tu64 addr;\n", "flags": ["CLEANUP", "WARNING_FIX", "TRIVIAL"], "link": "https://lore.kernel.org/linux-kernel/2be7f901610ca0d8588865b13ca9046ec32fb9bb"}
{"commit_hash": "1bbbbcfdc0f0fa7a98ba0d551fd03d2c45d5a318", "short_hash": "1bbbbcfdc0f0", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-28T16:07:40+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-30T18:05:31+10:00", "subject": "crypto: hisilicon - select CRYPTO_LIB_DES while compiling SEC driver", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "04007b0e6cbb (\"crypto: des - split off DES library from generic DES cipher driver\")", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/", "drivers/crypto/hisilicon/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 14, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for undefined reference error in Hisilicon SEC crypto driver caused by DES library relocation. Minimal Kconfig change (1 line). Crypto subsystem tier 7. Fixed compilation breakage affecting ARM64 platforms. Well-documented with proper Fixes tags and acknowledgments.", "code_snippet": "@@ -4,6 +4,7 @@ config CRYPTO_DEV_HISI_SEC\n \ttristate \"Support for Hisilicon SEC crypto block cipher accelerator\"\n \tselect CRYPTO_BLKCIPHER\n \tselect CRYPTO_ALGAPI\n+\tselect CRYPTO_LIB_DES\n \tselect SG_SPLIT\n \tdepends on ARM64 || COMPILE_TEST\n \tdepends on HAS_IOMEM\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1bbbbcfdc0f0fa7a98ba0d551fd03d2c45d5a318"}
{"commit_hash": "25e9960c370b23d6627a3424d0d9820e72152096", "short_hash": "25e9960c370b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T22:44:44+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-08-30T18:05:31+10:00", "subject": "crypto: atmel - Fix -Wunused-const-variable warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 12, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a compiler warning fix moving a static const array from header to source file. Low complexity (12+12 lines), crypto subsystem (tier 4), single subsystem. Cleanup category base (3), no stable tagging. Herbert Xu (crypto maintainer) signed off, and commit message clearly explains the warning fix with Reported-by tag.", "code_snippet": "@@ -21,6 +21,18 @@\n #include <linux/workqueue.h>\n #include \"atmel-i2c.h\"\n \n+static const struct {\n+\tu8 value;\n+\tconst char *error_text;\n+} error_list[] = {\n+\t{ 0x01, \"CheckMac or Verify miscompare\" },\n+\t{ 0x03, \"Parse Error\" },\n+\t{ 0x05, \"ECC Fault\" },\n+\t{ 0x0F, \"Execution Error\" },\n+\t{ 0xEE, \"Watchdog about to expire\" },\n+\t{ 0xFF, \"CRC or other communication error\" },\n+};\n+\n /**\n  * atmel_i2c_checksum() - Generate 16-bit CRC as required by ATMEL ECC.\n  * CRC16 verification of the count, opcode, param1, param2 and data bytes.\ndiff --git a/drivers/crypto/atmel-i2c.h b/drivers/crypto/atmel-i2c.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/25e9960c370b23d6627a3424d0d9820e72152096"}
{"commit_hash": "b943e03341e69cfd384ceabbb4efc28a82f69e0c", "short_hash": "b943e03341e6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-31T12:29:11Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-01T12:12:59-07:00", "subject": "net: hns3: remove set but not used variable 'qos'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "70a214903da9", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. 3 line change in single driver file. Maintainer (David S. Miller) signed off. Cross-org contribution with proper Fixes tag. No functional impact, no testing needed.", "code_snippet": "@@ -8013,7 +8013,7 @@ static void hclge_restore_vlan_table(struct hnae3_handle *handle)\n \tstruct hclge_vport *vport = hclge_get_vport(handle);\n \tstruct hclge_vport_vlan_cfg *vlan, *tmp;\n \tstruct hclge_dev *hdev = vport->back;\n-\tu16 vlan_proto, qos;\n+\tu16 vlan_proto;\n \tu16 state, vlan_id;\n \tint i;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b943e03341e69cfd384ceabbb4efc28a82f69e0c"}
{"commit_hash": "52c9c130780095fdf72fbf6920a6a1c936fb5e6f", "short_hash": "52c9c1307800", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:42:31+08:00", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-02T11:43:54+01:00", "subject": "afs: remove unused variable 'afs_zero_fid'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "025db80c9e42", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable reported by automated tool. Low code volume (1 line), single subsystem (fs/afs tier 5), maintenance category base (2). Strong review chain (5): Reported-by Hulk Robot, Signed-off-by author, Signed-off-by maintainer David Howells. Good commit message (4): includes compiler warning, references commit that made it unused. Atomic (3), single purpose. Maintainer endorsement (4) through SOB.", "code_snippet": "@@ -15,8 +15,6 @@\n #include \"xdr_fs.h\"\n #include \"protocol_yfs.h\"\n \n-static const struct afs_fid afs_zero_fid;\n-\n static inline void afs_use_fs_server(struct afs_call *call, struct afs_cb_interest *cbi)\n {\n \tcall->cbi = afs_get_cb_interest(cbi);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/52c9c130780095fdf72fbf6920a6a1c936fb5e6f"}
{"commit_hash": "cacf2d7dcf966a57e30f66c0598c88e2b64865a3", "short_hash": "cacf2d7dcf96", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:40:37+08:00", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-02T11:43:54+01:00", "subject": "afs: remove unused variable 'afs_voltypes'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal 2-line deletion removing unused const array reported by Hulk Robot. Clean maintenance fix for AFS filesystem. Cross-org contribution from Huawei to Red Hat maintainer with proper sign-offs. No user impact, no CVE, trivial cleanup.", "code_snippet": "@@ -12,8 +12,6 @@\n unsigned __read_mostly afs_volume_gc_delay = 10;\n unsigned __read_mostly afs_volume_record_life = 60 * 60;\n \n-static const char *const afs_voltypes[] = { \"R/W\", \"R/O\", \"BAK\" };\n-\n /*\n  * Allocate a volume record and load it up from a vldb record.\n  */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cacf2d7dcf966a57e30f66c0598c88e2b64865a3"}
{"commit_hash": "dbcc574a4bfad810ce6e118f3cf327c7b6e7c897", "short_hash": "dbcc574a4bfa", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T06:17:33Z", "committer_name": "Lucas Stach", "committer_email": "l.stach@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-09-02T12:48:55+02:00", "subject": "drm/etnaviv: fix missing unlock on error in etnaviv_iommuv1_context_alloc()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "27b67278e007", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/etnaviv"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Lucas Stach <l.stach@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for missing mutex unlock on error path in DRM driver. Cross-org contribution (Huawei -> Pengutronix maintainer). Proper Fixes tag included. Clear commit message with good explanation.", "code_snippet": "@@ -140,8 +140,10 @@ etnaviv_iommuv1_context_alloc(struct etnaviv_iommu_global *global)\n \t}\n \n \tv1_context = kzalloc(sizeof(*v1_context), GFP_KERNEL);\n-\tif (!v1_context)\n+\tif (!v1_context) {\n+\t\tmutex_unlock(&global->lock);\n \t\treturn NULL;\n+\t}\n \n \tv1_context->pgtable_cpu = dma_alloc_wc(global->dev, PT_SIZE,\n \t\t\t\t\t       &v1_context->pgtable_dma,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dbcc574a4bfad810ce6e118f3cf327c7b6e7c897"}
{"commit_hash": "9eab9a5b4c53df850c5a7f4f48b783fac3bbffe8", "short_hash": "9eab9a5b4c53", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-17T22:18:48+08:00", "committer_name": "Sebastian Reichel", "committer_email": "sebastian.reichel@collabora.com", "committer_company": "Collabora", "commit_date": "2019-09-02T21:04:50+02:00", "subject": "power: supply: ab8500: remove set but not used variables 'vbup33_vrtcn' and 'bup_vch_range'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4c4268dc97c4", "cc_stable": false, "subsystem_prefix": "power", "subsystems_touched": ["power/supply"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sebastian Reichel <sebastian.reichel@collabora.com> (Collabora)"], "reviewed_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variables flagged by gcc warning. Low complexity cleanup with clear justification (Fixes tag), proper review chain (Reviewed-by), and cross-org collaboration (Huawei author, Collabora committer, Linaro reviewer). 7 deletions, 0 insertions affecting power/supply subsystem.", "code_snippet": "@@ -3011,7 +3011,6 @@ static int ab8500_charger_usb_get_property(struct power_supply *psy,\n static int ab8500_charger_init_hw_registers(struct ab8500_charger *di)\n {\n \tint ret = 0;\n-\tu8 bup_vch_range = 0, vbup33_vrtcn = 0;\n \n \t/* Setup maximum charger current and voltage for ABB cut2.0 */\n \tif (!is_ab8500_1p1_or_earlier(di->parent)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9eab9a5b4c53df850c5a7f4f48b783fac3bbffe8"}
{"commit_hash": "be7ec9196bc487771415ba063188e6356625f703", "short_hash": "be7ec9196bc4", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-08-19T17:14:25+08:00", "committer_name": "Guenter Roeck", "committer_email": "linux@roeck-us.net", "committer_company": "Roeck-us", "commit_date": "2019-09-03T12:47:17-07:00", "subject": "dt-bindings: Add ipsps1 as a trivial device", "primary_category": "DT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 5, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DeviceTree binding addition for Inspur power supply unit - trivial device documentation change. Reviewed by DT maintainer Rob Herring, applied by Guenter Roeck. Minimal code change (2 lines) adding hardware documentation for existing device support.", "code_snippet": "@@ -104,6 +104,8 @@ properties:\n           - infineon,slb9645tt\n             # Infineon TLV493D-A1B6 I2C 3D Magnetic Sensor\n           - infineon,tlv493d-a1b6\n+            # Inspur Power System power supply unit version 1\n+          - inspur,ipsps1\n             # Intersil ISL29028 Ambient Light and Proximity Sensor\n           - isil,isl29028\n             # Intersil ISL29030 Ambient Light and Proximity Sensor\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be7ec9196bc487771415ba063188e6356625f703"}
{"commit_hash": "edd2a4d6608b06be0b198ff2540f5a969cca7b8a", "short_hash": "edd2a4d6608b", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-08-19T17:15:09+08:00", "committer_name": "Guenter Roeck", "committer_email": "linux@roeck-us.net", "committer_company": "Roeck-us", "commit_date": "2019-09-03T12:47:17-07:00", "subject": "hwmon: pmbus: Add Inspur Power System power supply driver", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "hwmon", "subsystems_touched": ["hwmon/pmbus"], "subsystem_tier": 4, "files_changed": 4, "insertions": 317, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "reviewed_by": ["Joel Stanley <joel@jms.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 9, "score_impact": 16, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New driver for Inspur Power System power supplies via PMBus. Adds 317 lines across 4 files including documentation, Kconfig, Makefile, and driver implementation. Well-reviewed with Reviewed-by and Signed-off-by from maintainer Guenter Roeck. Implements vendor-specific attributes for PSU monitoring (vendor, model, serial numbers, firmware/hardware revisions, power mode). Clean driver leveraging existing PMBus infrastructure.", "code_snippet": "@@ -0,0 +1,79 @@\n+Kernel driver inspur-ipsps1\n+=======================\n+\n+Supported chips:\n+\n+  * Inspur Power System power supply unit\n+\n+Author: John Wang <wangzqbj@inspur.com>\n+\n+Description\n+-----------\n+\n+This driver supports Inspur Power System power supplies. This driver\n+is a client to the core PMBus driver.\n+\n+Usage Notes\n+-----------\n+\n+This driver does not auto-detect devices. You will have to instantiate the", "flags": [], "link": "https://lore.kernel.org/linux-kernel/edd2a4d6608b06be0b198ff2540f5a969cca7b8a"}
{"commit_hash": "07f1a6850c5d5a65c917c3165692b5179ac4cb6b", "short_hash": "07f1a6850c5d", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T21:12:41+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-09-03T14:52:03-07:00", "subject": "md/raid1: fail run raid1 array when active disk less than one", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["md/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 12, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": ["NeilBrown <neilb@suse.de> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 54, "score_technical": 9, "score_impact": 19, "score_quality": 18, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "RAID1 bug fix addressing crash scenario when active disks < 1. Well-tested with detailed reproduction steps. Includes Reviewed-by from maintainer NeilBrown and signed by maintainer Song Liu. Cross-org contribution (Huawei -> Facebook maintainer). Small focused change with proper error handling.", "code_snippet": "@@ -3129,6 +3129,13 @@ static int raid1_run(struct mddev *mddev)\n \t\t    !test_bit(In_sync, &conf->mirrors[i].rdev->flags) ||\n \t\t    test_bit(Faulty, &conf->mirrors[i].rdev->flags))\n \t\t\tmddev->degraded++;\n+\t/*\n+\t * RAID1 needs at least one disk in active\n+\t */\n+\tif (conf->raid_disks - mddev->degraded < 1) {\n+\t\tret = -EINVAL;\n+\t\tgoto abort;\n+\t}\n \n \tif (conf->raid_disks - mddev->degraded == 1)\n \t\tmddev->recovery_cp = MaxSector;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/07f1a6850c5d5a65c917c3165692b5179ac4cb6b"}
{"commit_hash": "097a7df2e3af1b716cd39ce90001a2c372488e58", "short_hash": "097a7df2e3af", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T14:50:56+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-09-03T14:58:20+02:00", "subject": "iommu/arm-smmu-v3: Fix build error without CONFIG_PCI_ATS", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "bfff88ec1afe", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 13, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for CONFIG_PCI_ATS dependency. Guard function with #ifdef to fix compilation error. Low-medium complexity, good commit message with Fixes tag, maintainer sign-off.", "code_snippet": "@@ -2311,6 +2311,7 @@ static void arm_smmu_install_ste_for_dev(struct arm_smmu_master *master)\n \t}\n }\n \n+#ifdef CONFIG_PCI_ATS\n static bool arm_smmu_ats_supported(struct arm_smmu_master *master)\n {\n \tstruct pci_dev *pdev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/097a7df2e3af1b716cd39ce90001a2c372488e58"}
{"commit_hash": "b3d72616b428e28200615dcc7fc5fde04f777d07", "short_hash": "b3d72616b428", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T20:06:15+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T15:46:45+02:00", "subject": "usb: cdns3: Fix Wunused-but-set-variable warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "7733f6c32e36", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/cdns3"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Compiler warning fix removing unused variable wIndex and using previously-unused wValue. Tiny change (1 insertion, 3 deletions) fixing a build warning, not a functional bug. Has proper Fixes tag and reviewer chain (Hulk Robot reported, Greg KH merged). Low technical impact as USB peripheral driver is not core kernel infrastructure.", "code_snippet": "@@ -287,15 +287,13 @@ static int cdns3_ep0_feature_handle_device(struct cdns3_device *priv_dev,\n \tenum usb_device_speed speed;\n \tint ret = 0;\n \tu32 wValue;\n-\tu32 wIndex;\n \tu16 tmode;\n \n \twValue = le16_to_cpu(ctrl->wValue);\n-\twIndex = le16_to_cpu(ctrl->wIndex);\n \tstate = priv_dev->gadget.state;\n \tspeed = priv_dev->gadget.speed;\n \n-\tswitch (ctrl->wValue) {\n+\tswitch (wValue) {\n \tcase USB_DEVICE_REMOTE_WAKEUP:\n \t\tpriv_dev->wake_up_flag = !!set;\n \t\tbreak;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3d72616b428e28200615dcc7fc5fde04f777d07"}
{"commit_hash": "35af2445dc306403254a181507b390ec9eb725d5", "short_hash": "35af2445dc30", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T20:10:26+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T15:46:46+02:00", "subject": "usb: typec: tps6598x: Fix build error without CONFIG_REGMAP_I2C", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "0a4c005bd171", "cc_stable": false, "subsystem_prefix": "drivers/usb/typec", "subsystems_touched": ["drivers/usb/typec"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 8, "score_impact": 13, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix adding missing REGMAP_I2C select. Single-line Kconfig change with proper Fixes tag, maintainer Acked-by, and cross-org contribution (Huawei to Linux Foundation). Low technical complexity as config-only change.", "code_snippet": "@@ -53,6 +53,7 @@ source \"drivers/usb/typec/ucsi/Kconfig\"\n config TYPEC_TPS6598X\n \ttristate \"TI TPS6598x USB Power Delivery controller driver\"\n \tdepends on I2C\n+\tselect REGMAP_I2C\n \thelp\n \t  Say Y or M here if your system has TI TPS65982 or TPS65983 USB Power\n \t  Delivery controller.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35af2445dc306403254a181507b390ec9eb725d5"}
{"commit_hash": "f271b966bff19363b621204c035dce028c534cdd", "short_hash": "f271b966bff1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T20:04:45+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T15:46:46+02:00", "subject": "usb: cdns3: remove set but not used variable 'priv_dev'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/cdns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables flagged by compiler warning. 5 lines deleted, 0 added. Single file in USB gadget driver subsystem. No functional change, no user impact, no stable tag. Reported by internal Hulk Robot tool, signed off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -354,13 +354,11 @@ enum usb_device_speed cdns3_get_speed(struct cdns3_device *priv_dev)\n static int cdns3_start_all_request(struct cdns3_device *priv_dev,\n \t\t\t\t   struct cdns3_endpoint *priv_ep)\n {\n-\tstruct cdns3_request *priv_req;\n \tstruct usb_request *request;\n \tint ret = 0;\n \n \twhile (!list_empty(&priv_ep->deferred_req_list)) {\n \t\trequest = cdns3_next_request(&priv_ep->deferred_req_list);\n-\t\tpriv_req = to_cdns3_request(request);\n \n \t\tret = cdns3_ep_run_transfer(priv_ep, request);\n \t\tif (ret)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f271b966bff19363b621204c035dce028c534cdd"}
{"commit_hash": "f651c73e71f53f65e9846677d79d8e120452b59f", "short_hash": "f651c73e71f5", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:30+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T16:00:39+02:00", "subject": "dt-bindings: usb: add binding for USB GPIO based connection detection driver", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings/usb/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 30, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)", "Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change adding device tree binding for USB GPIO connection detection. Clean technical writing with proper example. Two Reviewed-by tags from maintainers (Linus Walleij, Rob Herring) indicate strong review. Low subsystem tier (bindings/docs), no stable CC, minimal code impact.", "code_snippet": "@@ -0,0 +1,30 @@\n+USB GPIO Based Connection Detection\n+\n+This is typically used to switch dual role mode from the USB ID pin connected\n+to an input GPIO, and also used to enable/disable device mode from the USB\n+Vbus pin connected to an input GPIO.\n+\n+Required properties:\n+- compatible : should include \"gpio-usb-b-connector\" and \"usb-b-connector\".\n+- id-gpios, vbus-gpios : input gpios, either one of them must be present,\n+\tand both can be present as well.\n+\tsee connector/usb-connector.txt\n+\n+Optional properties:\n+- vbus-supply : can be present if needed when supports dual role mode.\n+\tsee connector/usb-connector.txt\n+\n+- Sub-nodes:\n+\t- port : can be present.\n+\t\tsee graph.txt", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f651c73e71f53f65e9846677d79d8e120452b59f"}
{"commit_hash": "6b68240d7c54f314da720d2dbb063d5d41e5d10c", "short_hash": "6b68240d7c54", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:29+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T16:00:39+02:00", "subject": "dt-bindings: connector: add optional properties for Type-B", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 5, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Documentation-only change adding optional device tree properties for USB Type-B connector bindings. Small change (14 insertions) to bindings documentation. Well-reviewed with two Reviewed-by tags (Rob Herring, Linus Walleij). Low subsystem tier as this is DT documentation, not core code. Low user impact as it only affects DT configuration.", "code_snippet": "@@ -17,6 +17,20 @@ Optional properties:\n - self-powered: Set this property if the usb device that has its own power\n   source.\n \n+Optional properties for usb-b-connector:\n+- id-gpios: an input gpio for USB ID pin.\n+- vbus-gpios: an input gpio for USB VBUS pin, used to detect presence of\n+  VBUS 5V.\n+  see gpio/gpio.txt.\n+- vbus-supply: a phandle to the regulator for USB VBUS if needed when host\n+  mode or dual role mode is supported.\n+  Particularly, if use an output GPIO to control a VBUS regulator, should\n+  model it as a regulator.\n+  see regulator/fixed-regulator.yaml\n+- pinctrl-names : a pinctrl state named \"default\" is optional\n+- pinctrl-0 : pin control group\n+  see pinctrl/pinctrl-bindings.txt\n+\n Optional properties for usb-c-connector:\n - power-role: should be one of \"source\", \"sink\" or \"dual\"(DRP) if typec", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6b68240d7c54f314da720d2dbb063d5d41e5d10c"}
{"commit_hash": "451d15a1731c7db9d4868ea084174346e8ffe0dd", "short_hash": "451d15a1731c", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:28+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T16:00:39+02:00", "subject": "dt-binding: usb: add usb-role-switch property", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings/usb/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 4, "score_impact": 5, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change adding devicetree binding for usb-role-switch property. Small scope (4 lines added), low-tier subsystem (documentation). Strong review chain with 2 Reviewed-by tags. Clean atomic change. Cross-org collaboration between Mediatek and Intel/Linaro.", "code_snippet": "@@ -30,6 +30,10 @@ Optional properties:\n \t\t\toptional for OTG device.\n  - adp-disable: tells OTG controllers we want to disable OTG ADP, ADP is\n \t\t\toptional for OTG device.\n+ - usb-role-switch: boolean, indicates that the device is capable of assigning\n+\t\t\tthe USB data role (USB host or USB device) for a given\n+\t\t\tUSB connector, such as Type-C, Type-B(micro).\n+\t\t\tsee connector/usb-connector.txt.\n \n This is an attribute to a USB controller such as:\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/451d15a1731c7db9d4868ea084174346e8ffe0dd"}
{"commit_hash": "977607653cdd06a2c4d1d0f179ff46cc0cbe83a5", "short_hash": "977607653cdd", "author_name": "Yu Chen", "author_email": "chenyu56@huawei.com", "author_company": "Huawei", "author_date": "2019-08-29T17:22:32+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T16:02:32+02:00", "subject": "usb: roles: Introduce stubs for the exiting functions in role.h", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["usb"], "subsystem_tier": 6, "files_changed": 1, "insertions": 30, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yu Chen <chenyu56@huawei.com> (Huawei)", "Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "This is a build infrastructure refactor adding stub functions for CONFIG_USB_ROLE_SWITCH disabled configurations. The commit adds 30 lines of static inline stub functions to prevent build failures when USB role switching is disabled. It has proper review chain (Reviewed-by) and enables the code to compile in more configurations. Cross-org collaboration between Huawei and Mediatek developers. Low technical complexity but valuable for build coverage.", "code_snippet": "@@ -42,6 +42,8 @@ struct usb_role_switch_desc {\n \tbool allow_userspace_control;\n };\n \n+\n+#if IS_ENABLED(CONFIG_USB_ROLE_SWITCH)\n int usb_role_switch_set_role(struct usb_role_switch *sw, enum usb_role role);\n enum usb_role usb_role_switch_get_role(struct usb_role_switch *sw);\n struct usb_role_switch *usb_role_switch_get(struct device *dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/977607653cdd06a2c4d1d0f179ff46cc0cbe83a5"}
{"commit_hash": "3ef8685f84b316ea0e6ad00d65fa5f932d995c64", "short_hash": "3ef8685f84b3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:31+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T16:02:32+02:00", "subject": "dt-bindings: usb: mtu3: add properties about USB Role Switch", "primary_category": "DOC", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/devicetree/bindings/usb/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 10, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 6, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Documentation-only change adding USB Role Switch properties for MediaTek MTU3 device tree bindings. Low code volume (10 insertions, 0 deletions). Documentation subsystem has lower criticality. Includes Reviewed-by tag from Rob Herring (DT maintainer). Introduces new properties for dual-role USB switch support.", "code_snippet": "@@ -28,8 +28,13 @@ Optional properties:\n \tparent's address space\n  - extcon : external connector for vbus and idpin changes detection, needed\n \twhen supports dual-role mode.\n+\tit's considered valid for compatibility reasons, not allowed for\n+\tnew bindings, and use \"usb-role-switch\" property instead.\n  - vbus-supply : reference to the VBUS regulator, needed when supports\n \tdual-role mode.\n+\tit's considered valid for compatibility reasons, not allowed for\n+\tnew bindings, and put into a usb-connector node.\n+\tsee connector/usb-connector.txt.\n  - pinctrl-names : a pinctrl state named \"default\" is optional, and need be\n \tdefined if auto drd switch is enabled, that means the property dr_mode\n \tis set as \"otg\", and meanwhile the property \"mediatek,enable-manual-drd\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3ef8685f84b316ea0e6ad00d65fa5f932d995c64"}
{"commit_hash": "84d31d3b6234919953855f758401279208ee3b58", "short_hash": "84d31d3b6234", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T22:05:13+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-03T16:28:37+03:00", "subject": "rtlwifi: remove unused variables 'RTL8712_SDIO_EFUSE_TABLE' and 'MAX_PGPKT_SIZE'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 17, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 11, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused constants flagged by compiler warnings. Well-reviewed with maintainer signoff. Low technical complexity, no functional impact.", "code_snippet": "@@ -6,29 +6,12 @@\n #include \"pci.h\"\n #include <linux/export.h>\n \n-static const u8 MAX_PGPKT_SIZE = 9;\n static const u8 PGPKT_DATA_SIZE = 8;\n static const int EFUSE_MAX_SIZE = 512;\n \n #define START_ADDRESS\t\t0x1000\n #define REG_MCUFWDL\t\t0x0080\n \n-static const struct efuse_map RTL8712_SDIO_EFUSE_TABLE[] = {\n-\t{0, 0, 0, 2},\n-\t{0, 1, 0, 2},\n-\t{0, 2, 0, 2},\n-\t{1, 0, 0, 1},\n-\t{1, 0, 1, 1},\n-\t{1, 1, 0, 1},\n-\t{1, 1, 1, 3},\n-\t{1, 3, 0, 17},", "flags": [], "link": "https://lore.kernel.org/linux-kernel/84d31d3b6234919953855f758401279208ee3b58"}
{"commit_hash": "0a60e0aa495ff86aaee14b543f3ddab5d1327607", "short_hash": "0a60e0aa495f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-09T16:53:08+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-03T16:37:53+03:00", "subject": "bcma: remove two unused variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/bcma"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 16, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused const variables that triggered compiler warnings. Low technical impact (16 deletions, 0 insertions) in bcma driver (tier 6 subsystem). Base score of 3 for cleanup. Good commit message with compiler warning context and Reported-by tag. Maintainer Kalle Valo signed off, indicating proper review. Atomic change removing only unused code. No cross-org collaboration or stable backport.", "code_snippet": "@@ -59,22 +59,6 @@ static inline void mips_write32(struct bcma_drv_mips *mcore,\n \tbcma_write32(mcore->core, offset, value);\n }\n \n-static const u32 ipsflag_irq_mask[] = {\n-\t0,\n-\tBCMA_MIPS_IPSFLAG_IRQ1,\n-\tBCMA_MIPS_IPSFLAG_IRQ2,\n-\tBCMA_MIPS_IPSFLAG_IRQ3,\n-\tBCMA_MIPS_IPSFLAG_IRQ4,\n-};\n-\n-static const u32 ipsflag_irq_shift[] = {\n-\t0,\n-\tBCMA_MIPS_IPSFLAG_IRQ1_SHIFT,\n-\tBCMA_MIPS_IPSFLAG_IRQ2_SHIFT,\n-\tBCMA_MIPS_IPSFLAG_IRQ3_SHIFT,\n-\tBCMA_MIPS_IPSFLAG_IRQ4_SHIFT,\n-};\n-", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0a60e0aa495ff86aaee14b543f3ddab5d1327607"}
{"commit_hash": "6fadd72943b80ff5bef175aacc2458c8a9ee3dbc", "short_hash": "6fadd72943b8", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:35+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T18:00:43+02:00", "subject": "usb: roles: get usb-role-switch from parent", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/roles", "subsystems_touched": ["drivers/usb/roles"], "subsystem_tier": 7, "files_changed": 1, "insertions": 21, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 9, "score_impact": 14, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "USB role switch enhancement to check parent device for usb-role-switch property before falling back to device graph. Adds new helper function usb_role_switch_is_parent() to handle type-B connectors where host controller is parent. Cross-org contribution from Mediatek to Intel-maintained USB subsystem. Well-reviewed with Suggested-by tag from Intel maintainer.", "code_snippet": "@@ -102,6 +102,19 @@ static void *usb_role_switch_match(struct device_connection *con, int ep,\n \treturn dev ? to_role_switch(dev) : ERR_PTR(-EPROBE_DEFER);\n }\n \n+static struct usb_role_switch *\n+usb_role_switch_is_parent(struct fwnode_handle *fwnode)\n+{\n+\tstruct fwnode_handle *parent = fwnode_get_parent(fwnode);\n+\tstruct device *dev;\n+\n+\tif (!parent || !fwnode_property_present(parent, \"usb-role-switch\"))\n+\t\treturn NULL;\n+\n+\tdev = class_find_device_by_fwnode(role_class, parent);\n+\treturn dev ? to_role_switch(dev) : ERR_PTR(-EPROBE_DEFER);\n+}\n+\n /**\n  * usb_role_switch_get - Find USB role switch linked with the caller\n  * @dev: The caller device", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6fadd72943b80ff5bef175aacc2458c8a9ee3dbc"}
{"commit_hash": "12b591bccc463307a21d925c19e7f61982902e08", "short_hash": "12b591bccc46", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:36+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T19:00:39+02:00", "subject": "usb: common: create Kconfig file", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 39, "deletions": 34, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 5, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig refactoring: moves USB_COMMON, USB_LED_TRIG, and USB_ULPI_BUS configs from drivers/usb/Kconfig to new drivers/usb/common/Kconfig file. Pure build system reorganization with no functional changes. Low complexity (39/34 lines), non-critical subsystem (USB), approved by maintainer Greg Kroah-Hartman. Message is clear with Signed-off-by and Link tags.", "code_snippet": "@@ -36,8 +36,7 @@ menuconfig USB_SUPPORT\n \n if USB_SUPPORT\n \n-config USB_COMMON\n-\ttristate\n+source \"drivers/usb/common/Kconfig\"\n \n config USB_ARCH_HAS_HCD\n \tdef_bool y", "flags": [], "link": "https://lore.kernel.org/linux-kernel/12b591bccc463307a21d925c19e7f61982902e08"}
{"commit_hash": "4602f3bff2669012c1147eecfe74c121765f5c56", "short_hash": "4602f3bff266", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:37+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T19:01:04+02:00", "subject": "usb: common: add USB GPIO based connection detection driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/common"], "subsystem_tier": 6, "files_changed": 3, "insertions": 298, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": ["Nagarjuna Kristam <nkristam@nvidia.com> (NVIDIA)"], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 17, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New USB GPIO connection detection driver (298 lines) to replace deprecated extcon-usb-gpio for Type-B connectors. Has Reviewed-by and Tested-by tags from subsystem maintainers, good commit message with explanation. Moderate subsystem tier (USB drivers), some novelty in replacing deprecated functionality.", "code_snippet": "@@ -36,3 +36,16 @@ config USB_ULPI_BUS\n \t  To compile this driver as a module, choose M here: the module will\n \t  be called ulpi.\n \n+config USB_CONN_GPIO\n+\ttristate \"USB GPIO Based Connection Detection Driver\"\n+\tdepends on GPIOLIB\n+\tselect USB_ROLE_SWITCH\n+\thelp\n+\t  The driver supports USB role switch between host and device via GPIO\n+\t  based USB cable detection, used typically if an input GPIO is used\n+\t  to detect USB ID pin, and another input GPIO may be also used to detect\n+\t  Vbus pin at the same time, it also can be used to enable/disable\n+\t  device if an input GPIO is only used to detect Vbus pin.\n+\n+\t  To compile the driver as a module, choose M here: the module will\n+\t  be called usb-conn-gpio.ko\ndiff --git a/drivers/usb/common/Makefile b/drivers/usb/common/Makefile\nindex 76f3e80623db..8ac4d21ef5c8 100644\n--- a/drivers/usb/common/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4602f3bff2669012c1147eecfe74c121765f5c56"}
{"commit_hash": "1ac91ac5d097c1928efe6691d72c619462a9e3c5", "short_hash": "1ac91ac5d097", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T17:22:38+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T20:02:15+02:00", "subject": "usb: mtu3: register a USB Role Switch for dual role mode", "primary_category": "FEAT-DRIVER", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 6, "files_changed": 6, "insertions": 60, "deletions": 7, "hunks": 24, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature driver adding USB Role Switch support to replace deprecated extcon for MediaTek MTU3 dual-role mode. Clean refactoring with proper maintainership chain (Greg KH). 60 insertions/7 deletions across 6 files in USB subsystem.", "code_snippet": "@@ -453,9 +453,9 @@ static ssize_t ssusb_mode_write(struct file *file, const char __user *ubuf,\n \t\treturn -EFAULT;\n \n \tif (!strncmp(buf, \"host\", 4) && !ssusb->is_host) {\n-\t\tssusb_mode_manual_switch(ssusb, 1);\n+\t\tssusb_mode_switch(ssusb, 1);\n \t} else if (!strncmp(buf, \"device\", 6) && ssusb->is_host) {\n-\t\tssusb_mode_manual_switch(ssusb, 0);\n+\t\tssusb_mode_switch(ssusb, 0);\n \t} else {\n \t\tdev_err(ssusb->dev, \"wrong or duplicated setting\\n\");\n \t\treturn -EINVAL;\ndiff --git a/drivers/usb/mtu3/mtu3_dr.c b/drivers/usb/mtu3/mtu3_dr.c\nindex 5fcb71af875a..08e18448e8b8 100644\n--- a/drivers/usb/mtu3/mtu3_dr.c\n+++ b/drivers/usb/mtu3/mtu3_dr.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1ac91ac5d097c1928efe6691d72c619462a9e3c5"}
{"commit_hash": "815cdcc334048fcc2383d24d5122e58ba4b1fd3f", "short_hash": "815cdcc33404", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T15:36:25Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-03T20:31:34+02:00", "subject": "usb: cdns3: Remove redundant dev_err call in cdns3_probe()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/cdns3/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing redundant error logging in USB driver. Well-reviewed with proper Signed-off-by chain. Low impact as it's just removing duplicate error message that devm_ioremap_resource already provides.", "code_snippet": "@@ -462,10 +462,8 @@ static int cdns3_probe(struct platform_device *pdev)\n \n \tres = platform_get_resource_byname(pdev, IORESOURCE_MEM, \"dev\");\n \tregs = devm_ioremap_resource(dev, res);\n-\tif (IS_ERR(regs)) {\n-\t\tdev_err(dev, \"couldn't iomap dev resource\\n\");\n+\tif (IS_ERR(regs))\n \t\treturn PTR_ERR(regs);\n-\t}\n \tcdns->dev_regs\t= regs;\n \n \tcdns->otg_irq = platform_get_irq_byname(pdev, \"otg\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/815cdcc334048fcc2383d24d5122e58ba4b1fd3f"}
{"commit_hash": "ecf4d59a4ebf1237bde1cb2de71a0a6e927d4b0c", "short_hash": "ecf4d59a4ebf", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T16:59:44+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-04T07:00:33-06:00", "subject": "paride/pf: need to set queue to NULL before put_disk", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "77218ddf46d8", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/block/paride"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 9, "score_impact": 19, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Null pointer dereference bug fix in block driver error path. Critical crash bug with clear root cause analysis showing the call chain from put_disk through disk_release to blk_put_queue accessing the uninitialized queue. Maintainer Jens Axboe signed off directly. Cross-company contribution from Huawei to community-maintained subsystem.", "code_snippet": "@@ -300,8 +300,8 @@ static void __init pf_init_units(void)\n \t\tdisk->queue = blk_mq_init_sq_queue(&pf->tag_set, &pf_mq_ops,\n \t\t\t\t\t\t\t1, BLK_MQ_F_SHOULD_MERGE);\n \t\tif (IS_ERR(disk->queue)) {\n-\t\t\tput_disk(disk);\n \t\t\tdisk->queue = NULL;\n+\t\t\tput_disk(disk);\n \t\t\tcontinue;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ecf4d59a4ebf1237bde1cb2de71a0a6e927d4b0c"}
{"commit_hash": "d821cce8ac4625ceecabb9c9e2420daaf41d41d8", "short_hash": "d821cce8ac46", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T19:27:40+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-04T07:01:02-06:00", "subject": "paride/pcd: need to set queue to NULL before put_disk", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "f0d176255401", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block/paride/pcd.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 47, "score_technical": 10, "score_impact": 19, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for null pointer dereference in block layer error path. Small 2-line change fixing order of operations (set NULL before put_disk). Fixes tag present. Clean commit message with stack trace explanation. Maintainer (Axboe) signed off. Subsystem tier 7 (block device driver). Low user visibility (paride is legacy).", "code_snippet": "@@ -314,8 +314,8 @@ static void pcd_init_units(void)\n \t\tdisk->queue = blk_mq_init_sq_queue(&cd->tag_set, &pcd_mq_ops,\n \t\t\t\t\t\t   1, BLK_MQ_F_SHOULD_MERGE);\n \t\tif (IS_ERR(disk->queue)) {\n-\t\t\tput_disk(disk);\n \t\t\tdisk->queue = NULL;\n+\t\t\tput_disk(disk);\n \t\t\tcontinue;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d821cce8ac4625ceecabb9c9e2420daaf41d41d8"}
{"commit_hash": "03754ea361826fd477d7824ea75ad9e42df1580d", "short_hash": "03754ea36182", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T19:23:12+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-04T07:04:37-06:00", "subject": "paride/pcd: need to check if cd->disk is null in pcd_detect", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block/paride"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 4, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Null pointer dereference fix in paride/pcd driver. alloc_disk failure leaves cd->disk null, which was not checked before dereferencing in pcd_detect. Small defensive patch (6 insertions, 4 deletions) with proper Reported-by tag from Hulk Robot. Jens Axboe (block maintainer) signed off. Legacy paride driver has low subsystem tier. No stable cc, no CVE filed.", "code_snippet": "@@ -723,9 +723,9 @@ static int pcd_detect(void)\n \tk = 0;\n \tif (pcd_drive_count == 0) { /* nothing spec'd - so autoprobe for 1 */\n \t\tcd = pcd;\n-\t\tif (pi_init(cd->pi, 1, -1, -1, -1, -1, -1, pcd_buffer,\n-\t\t\t    PI_PCD, verbose, cd->name)) {\n-\t\t\tif (!pcd_probe(cd, -1, id) && cd->disk) {\n+\t\tif (cd->disk && pi_init(cd->pi, 1, -1, -1, -1, -1, -1,\n+\t\t\t    pcd_buffer, PI_PCD, verbose, cd->name)) {\n+\t\t\tif (!pcd_probe(cd, -1, id)) {\n \t\t\t\tcd->present = 1;\n \t\t\t\tk++;\n \t\t\t} else", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03754ea361826fd477d7824ea75ad9e42df1580d"}
{"commit_hash": "4e690bf985bd2e1517f58d514bd73222062e0ce8", "short_hash": "4e690bf985bd", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:01:19+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-04T08:25:22+02:00", "subject": "Staging: rtl8723bs: Use kzfree rather than its implementation", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/rtl8723bs/core"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing memset+ kfree with kzfree in a staging driver. Low complexity (-3 lines), low-tier staging subsystem (4), minimal user impact. Cross-org contribution from Huawei to Greg Kroah-Hartman. Well-contained atomic change with clear purpose.", "code_snippet": "@@ -2290,8 +2290,7 @@ static void gf_mulx(u8 *pad)\n \n static void aes_encrypt_deinit(void *ctx)\n {\n-\tmemset(ctx, 0, AES_PRIV_SIZE);\n-\tkfree(ctx);\n+\tkzfree(ctx);\n }\n \n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4e690bf985bd2e1517f58d514bd73222062e0ce8"}
{"commit_hash": "68092f9cf932ed894131a3b845923f4b555024ca", "short_hash": "68092f9cf932", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T22:12:07+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-04T09:09:34+03:00", "subject": "carl9170: remove set but not used variable 'udev'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "feb09b293327", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Christian Lamparter <chunkeey@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 2, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. 2-line deletion in wireless driver subsystem. Acked by maintainer, references commit that made variable obsolete. Low technical impact but well-documented cleanup.", "code_snippet": "@@ -1107,12 +1107,10 @@ static int carl9170_usb_probe(struct usb_interface *intf,\n static void carl9170_usb_disconnect(struct usb_interface *intf)\n {\n \tstruct ar9170 *ar = usb_get_intfdata(intf);\n-\tstruct usb_device *udev;\n \n \tif (WARN_ON(!ar))\n \t\treturn;\n \n-\tudev = ar->udev;\n \twait_for_completion(&ar->fw_load_wait);\n \n \tif (IS_INITIALIZED(ar)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68092f9cf932ed894131a3b845923f4b555024ca"}
{"commit_hash": "09104bb1b5d4680444687839b1d155ed69e89248", "short_hash": "09104bb1b5d4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-21T20:19:08+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T10:15:38+05:30", "subject": "dmaengine: iop-adma: remove set but not used variable 'slots_per_op'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in DMA driver. Minimal scope (-2 lines), low subsystem tier (DMA=6), no user impact. Good review chain (Hulk Robot report, maintainer signoff), atomic cleanup with proper attribution.", "code_snippet": "@@ -364,13 +364,11 @@ iop_adma_tx_submit(struct dma_async_tx_descriptor *tx)\n \tstruct iop_adma_chan *iop_chan = to_iop_adma_chan(tx->chan);\n \tstruct iop_adma_desc_slot *grp_start, *old_chain_tail;\n \tint slot_cnt;\n-\tint slots_per_op;\n \tdma_cookie_t cookie;\n \tdma_addr_t next_dma;\n \n \tgrp_start = sw_desc->group_head;\n \tslot_cnt = grp_start->slot_cnt;\n-\tslots_per_op = grp_start->slots_per_op;\n \n \tspin_lock_bh(&iop_chan->lock);\n \tcookie = dma_cookie_assign(tx);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/09104bb1b5d4680444687839b1d155ed69e89248"}
{"commit_hash": "44e60d527e59f90d75bfda8521a10dc6e2d000d4", "short_hash": "44e60d527e59", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:08:17+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-04T12:43:50+02:00", "subject": "tty: serial: qcom_geni_serial: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 6, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a trivial code modernization commit replacing deprecated API calls with a simplified helper function. Minimal code change (1 insertion, 3 deletions) in a serial driver. No functional changes, no user impact, no stable CC. Clean commit message with proper tags and reviewer chain.", "code_snippet": "@@ -198,10 +198,8 @@ static int qcom_geni_serial_request_port(struct uart_port *uport)\n {\n \tstruct platform_device *pdev = to_platform_device(uport->dev);\n \tstruct qcom_geni_serial_port *port = to_dev_port(uport, uport);\n-\tstruct resource *res;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tuport->membase = devm_ioremap_resource(&pdev->dev, res);\n+\tuport->membase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(uport->membase))\n \t\treturn PTR_ERR(uport->membase);\n \tport->se.base = uport->membase;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44e60d527e59f90d75bfda8521a10dc6e2d000d4"}
{"commit_hash": "c140e97f803f66c0d20a891aba848c1b77880830", "short_hash": "c140e97f803f", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T20:40:15+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-04T12:43:54+02:00", "subject": "tty: serial: add dependence for CONFIG_SERIAL_FSL_LINFLEXUART", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "b953815b819b", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix for compilation failure when CONFIG_PRINTK is not set. Single-line Kconfig dependency addition. Fixes regression from b953815b819b. Maintainer (Greg KH) signed off, indicating proper review.", "code_snippet": "@@ -1418,6 +1418,7 @@ config SERIAL_FSL_LPUART_CONSOLE\n \n config SERIAL_FSL_LINFLEXUART\n \ttristate \"Freescale linflexuart serial port support\"\n+\tdepends on PRINTK\n \tselect SERIAL_CORE\n \thelp\n \t  Support for the on-chip linflexuart on some Freescale SOCs.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c140e97f803f66c0d20a891aba848c1b77880830"}
{"commit_hash": "06e9b2fe7f1279bea649002cc40cce54a383f052", "short_hash": "06e9b2fe7f12", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T11:46:14Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-04T12:43:55+02:00", "subject": "tty: serial: linflexuart: Use DEFINE_SPINLOCK() for spinlock", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup patch replacing manual spinlock initialization with DEFINE_SPINLOCK() macro. Reduces code by 4 lines (1 insertion, 5 deletions). Single file change in serial driver. Signed off by maintainer Greg Kroah-Hartman. No functional change, no stable tagging, no cross-subsystem impact.", "code_snippet": "@@ -136,7 +136,7 @@ MODULE_DEVICE_TABLE(of, linflex_dt_ids);\n #ifdef CONFIG_SERIAL_FSL_LINFLEXUART_CONSOLE\n static struct uart_port *earlycon_port;\n static bool linflex_earlycon_same_instance;\n-static spinlock_t init_lock;\n+static DEFINE_SPINLOCK(init_lock);\n static bool during_init;\n \n static struct {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/06e9b2fe7f1279bea649002cc40cce54a383f052"}
{"commit_hash": "dfafc1822f6826c9d250223f59ce8c3b227866a6", "short_hash": "dfafc1822f68", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T15:48:33+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T13:48:04+01:00", "subject": "ASoC: amd: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/amd"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 4, "score_impact": 4, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using helper function to simplify code. Low impact cleanup change with good maintainer review.", "code_snippet": "@@ -1251,8 +1251,7 @@ static int acp_audio_probe(struct platform_device *pdev)\n \tif (!audio_drv_data)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\taudio_drv_data->acp_mmio = devm_ioremap_resource(&pdev->dev, res);\n+\taudio_drv_data->acp_mmio = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(audio_drv_data->acp_mmio))\n \t\treturn PTR_ERR(audio_drv_data->acp_mmio);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dfafc1822f6826c9d250223f59ce8c3b227866a6"}
{"commit_hash": "f295495ec657c5fb2cff355456c2a20c4c945d93", "short_hash": "f295495ec657", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:25:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T13:48:22+01:00", "subject": "ASoC: ep93xx: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/cirrus"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit using devm_platform_ioremap_resource() helper. Low code volume (1 insertions, 3 deletions). ASoC subsystem is mid-tier. Cleanup category has low base score. Proper commit message with Reported-by tag. Maintainer Mark Brown signed off. No functional change, just modernization.", "code_snippet": "@@ -362,7 +362,6 @@ static const struct snd_soc_component_driver ep93xx_ac97_component = {\n static int ep93xx_ac97_probe(struct platform_device *pdev)\n {\n \tstruct ep93xx_ac97_info *info;\n-\tstruct resource *res;\n \tint irq;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f295495ec657c5fb2cff355456c2a20c4c945d93"}
{"commit_hash": "2f302d476c960fdf8481399a46b8df92408d06e2", "short_hash": "2f302d476c96", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:34:12+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T13:48:31+01:00", "subject": "ASoC: sirf-audio: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code cleanup using devm_platform_ioremap_resource() helper to simplify code. Single file change in ASoC codec driver. Low risk refactoring. Signed off by maintainer Mark Brown. Author from Huawei, merged by kernel.org maintainer (cross-org).", "code_snippet": "@@ -459,7 +459,6 @@ static int sirf_audio_codec_driver_probe(struct platform_device *pdev)\n \tint ret;\n \tstruct sirf_audio_codec *sirf_audio_codec;\n \tvoid __iomem *base;\n-\tstruct resource *mem_res;\n \n \tsirf_audio_codec = devm_kzalloc(&pdev->dev,\n \t\tsizeof(struct sirf_audio_codec), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f302d476c960fdf8481399a46b8df92408d06e2"}
{"commit_hash": "a813d0e8884e514e6e1b28ad3b22f7658d446b16", "short_hash": "a813d0e8884e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:39:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T13:48:50+01:00", "subject": "ASoC: tegra: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/tegra"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 5, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup using devm_platform_ioremap_resource() helper. Low code volume (-1 net), peripheral audio subsystem (tier 4). No functional change. Good maintainer chain (Hulk Robot report -> YueHaibing -> Mark Brown). Cross-org contribution from Huawei.", "code_snippet": "@@ -511,7 +511,7 @@ static int tegra30_ahub_probe(struct platform_device *pdev)\n \tconst struct tegra30_ahub_soc_data *soc_data;\n \tstruct reset_control *rst;\n \tint i;\n-\tstruct resource *res0, *res1;\n+\tstruct resource *res0;\n \tvoid __iomem *regs_apbif, *regs_ahub;\n \tint ret = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a813d0e8884e514e6e1b28ad3b22f7658d446b16"}
{"commit_hash": "5277ab6c83832082e01249976fa7d93b9e5b9da0", "short_hash": "5277ab6c8383", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:43+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:14:50+01:00", "subject": "spi: altera: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi", "drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit modernizing SPI driver to use devm_platform_ioremap_resource() helper. Low complexity (1 insertion, 3 deletions), affects single driver subsystem. Received proper maintainer review (Signed-off-by: Mark Brown). Coccinelle-detected simplification with automated reporting tag.", "code_snippet": "@@ -170,7 +170,6 @@ static int altera_spi_probe(struct platform_device *pdev)\n {\n \tstruct altera_spi *hw;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tint err = -ENODEV;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(struct altera_spi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5277ab6c83832082e01249976fa7d93b9e5b9da0"}
{"commit_hash": "084fae2fd7d3d668e47748be674b698b6ab9e1aa", "short_hash": "084fae2fd7d3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:44+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:15:09+01:00", "subject": "spi: a3700: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 5, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Modernization refactor replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Low code volume (1 insertion, 3 deletions). SPI driver subsystem (tier 4). Cross-org contribution from Huawei to community maintainer Mark Brown. Clean atomic change with proper review chain and robot detection.", "code_snippet": "@@ -817,7 +817,6 @@ static int a3700_spi_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct device_node *of_node = dev->of_node;\n-\tstruct resource *res;\n \tstruct spi_master *master;\n \tstruct a3700_spi *spi;\n \tu32 num_cs = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/084fae2fd7d3d668e47748be674b698b6ab9e1aa"}
{"commit_hash": "bf3484190fd45e2d7c5c52306a4973ce55f7e694", "short_hash": "bf3484190fd4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:45+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:15:29+01:00", "subject": "spi: ath79: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 7, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup refactoring using modern API (devm_platform_ioremap_resource) to replace older platform_get_resource/devm_ioremap_resource pattern. Reduces lines of code and eliminates temporary variable. Detected by automated tool (coccinelle/Hulk Robot). Properly reviewed and signed by subsystem maintainer Mark Brown. Low impact code style improvement.", "code_snippet": "@@ -139,7 +139,6 @@ static int ath79_spi_probe(struct platform_device *pdev)\n \tstruct spi_master *master;\n \tstruct ath79_spi *sp;\n \tstruct ath79_spi_platform_data *pdata;\n-\tstruct resource\t*r;\n \tunsigned long rate;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf3484190fd45e2d7c5c52306a4973ce55f7e694"}
{"commit_hash": "7d6a5e2b17d46e8c48a6c7e326acb0aa4e8f9b2d", "short_hash": "7d6a5e2b17d4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:46+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:15:49+01:00", "subject": "spi: spi-axi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Low complexity, well-reviewed cleanup detected by Coccinelle.", "code_snippet": "@@ -460,7 +460,6 @@ static int spi_engine_probe(struct platform_device *pdev)\n \tstruct spi_engine *spi_engine;\n \tstruct spi_master *master;\n \tunsigned int version;\n-\tstruct resource *res;\n \tint irq;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d6a5e2b17d46e8c48a6c7e326acb0aa4e8f9b2d"}
{"commit_hash": "d1975d0596ce6d25aff9aeea14ec3806548604d0", "short_hash": "d1975d0596ce", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:47+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:16:08+01:00", "subject": "spi: bcm2835aux: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -491,7 +491,6 @@ static int bcm2835aux_spi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct bcm2835aux_spi *bs;\n-\tstruct resource *res;\n \tunsigned long clk_hz;\n \tint err;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d1975d0596ce6d25aff9aeea14ec3806548604d0"}
{"commit_hash": "6ba794dfbb537719f96b8ba96c8bf73930969759", "short_hash": "6ba794dfbb53", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:48+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:16:28+01:00", "subject": "spi: bcm2835: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -1001,7 +1001,6 @@ static int bcm2835_spi_probe(struct platform_device *pdev)\n {\n \tstruct spi_controller *ctlr;\n \tstruct bcm2835_spi *bs;\n-\tstruct resource *res;\n \tint err;\n \n \tctlr = spi_alloc_master(&pdev->dev, sizeof(*bs));", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/6ba794dfbb537719f96b8ba96c8bf73930969759"}
{"commit_hash": "e364c8c204db786b15978aabd2459bba3f4f09a6", "short_hash": "e364c8c204db", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:49+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:16:47+01:00", "subject": "spi: bcm63xx-hsspi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -330,7 +330,6 @@ static int bcm63xx_hsspi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct bcm63xx_hsspi *bs;\n-\tstruct resource *res_mem;\n \tvoid __iomem *regs;\n \tstruct device *dev = &pdev->dev;\n \tstruct clk *clk, *pll_clk = NULL;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e364c8c204db786b15978aabd2459bba3f4f09a6"}
{"commit_hash": "4585bb92a57605984faa49c8f9f36b8a9b14bb12", "short_hash": "4585bb92a576", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:50+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:17:07+01:00", "subject": "spi: cadence: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -474,7 +474,6 @@ static int cdns_spi_probe(struct platform_device *pdev)\n \tint ret = 0, irq;\n \tstruct spi_master *master;\n \tstruct cdns_spi *xspi;\n-\tstruct resource *res;\n \tu32 num_cs;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(*xspi));", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/4585bb92a57605984faa49c8f9f36b8a9b14bb12"}
{"commit_hash": "050688dc72d0d60fb6648895a33483d9cbf6fc63", "short_hash": "050688dc72d0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:51+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:17:27+01:00", "subject": "spi: octeon: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -18,7 +18,6 @@\n \n static int octeon_spi_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res_mem;\n \tvoid __iomem *reg_base;\n \tstruct spi_master *master;\n \tstruct octeon_spi *p;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/050688dc72d0d60fb6648895a33483d9cbf6fc63"}
{"commit_hash": "ae43724d6439f1d5682d07af76dfe316b11bf041", "short_hash": "ae43724d6439", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:52+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:17:36+01:00", "subject": "spi: clps711x: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() wrapper. Low impact cleanup detected by coccinelle tool, reduces lines of code in SPI driver probe function. Proper sign-off chain from author through maintainer.", "code_snippet": "@@ -91,7 +91,6 @@ static int spi_clps711x_probe(struct platform_device *pdev)\n {\n \tstruct spi_clps711x_data *hw;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tint irq, ret;\n \n \tirq = platform_get_irq(pdev, 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae43724d6439f1d5682d07af76dfe316b11bf041"}
{"commit_hash": "1e2d65d06d4160d9b0db317302d7020449440da5", "short_hash": "1e2d65d06d41", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:53+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:17:56+01:00", "subject": "spi: coldfire-qspi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code modernization commit replacing manual resource extraction with devm_platform_ioremap_resource() helper. Single file change in SPI driver (tier 6 subsystem). Simplified code with proper review chain (Reviewed/Tested tags absent but Signed-off-by from maintainer Mark Brown present). Cross-org contribution from Huawei to kernel.org maintainer.", "code_snippet": "@@ -339,7 +339,6 @@ static int mcfqspi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct mcfqspi *mcfqspi;\n-\tstruct resource *res;\n \tstruct mcfqspi_platform_data *pdata;\n \tint status;\n ", "flags": ["CODE-OPTIMIZATION", "COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/1e2d65d06d4160d9b0db317302d7020449440da5"}
{"commit_hash": "5cc6fdccbb4a9357ec8b6ef52c44bdffd83c7c6f", "short_hash": "5cc6fdccbb4a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:54+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:18:05+01:00", "subject": "spi: dw-mmio: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper. Reduces code from 3 lines to 1, eliminates temporary variable. Detected by Coccinelle (Hulk Robot). SPI subsystem is moderately critical (hardware interface). Low technical impact (code simplification only), good quality indicators (proper tags, Link, Signed-off-by chain, maintainer ack by Mark Brown). Not user-visible, no functional change.", "code_snippet": "@@ -79,14 +79,12 @@ static int dw_spi_mscc_init(struct platform_device *pdev,\n \t\t\t    const char *cpu_syscon, u32 if_si_owner_offset)\n {\n \tstruct dw_spi_mscc *dwsmscc;\n-\tstruct resource *res;\n \n \tdwsmscc = devm_kzalloc(&pdev->dev, sizeof(*dwsmscc), GFP_KERNEL);\n \tif (!dwsmscc)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n-\tdwsmscc->spi_mst = devm_ioremap_resource(&pdev->dev, res);\n+\tdwsmscc->spi_mst = devm_platform_ioremap_resource(pdev, 1);\n \tif (IS_ERR(dwsmscc->spi_mst)) {\n \t\tdev_err(&pdev->dev, \"SPI_MST region map failed\\n\");\n \t\treturn PTR_ERR(dwsmscc->spi_mst);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5cc6fdccbb4a9357ec8b6ef52c44bdffd83c7c6f"}
{"commit_hash": "d8e477abec244c0ff9b4c4979253f8c349bf1fdd", "short_hash": "d8e477abec24", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:55+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:18:25+01:00", "subject": "spi: spi-geni-qcom: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: TIMEOUT. This commit needs to be re-analyzed.", "code_snippet": "@@ -534,7 +534,6 @@ static int spi_geni_probe(struct platform_device *pdev)\n \tint ret, irq;\n \tstruct spi_master *spi;\n \tstruct spi_geni_master *mas;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tstruct clk *clk;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/d8e477abec244c0ff9b4c4979253f8c349bf1fdd"}
{"commit_hash": "7d2600b9cc1346978f81756078e3c815775be22e", "short_hash": "7d2600b9cc13", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:56+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:18:35+01:00", "subject": "spi: lp-8841: use devm_platform_ioremap_resource() to simplify code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: JSON_ERROR. This commit needs to be re-analyzed.", "code_snippet": "@@ -185,7 +185,6 @@ spi_lp8841_rtc_probe(struct platform_device *pdev)\n \tint\t\t\t\tret;\n \tstruct spi_master\t\t*master;\n \tstruct spi_lp8841_rtc\t\t*data;\n-\tvoid\t\t\t\t*iomem;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(*data));\n \tif (!master)", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/7d2600b9cc1346978f81756078e3c815775be22e"}
{"commit_hash": "362385c045f580c88d2882858ea77f965d25d46b", "short_hash": "362385c045f5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:18:55+01:00", "subject": "spi: meson-spicc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small code modernization commit (1 insertion, 3 deletions) using devm_platform_ioremap_resource() helper to simplify SPI driver probe function. Has proper review chain (Acked-by maintainer, Signed-off-by subsystem maintainer). Low impact cleanup detected by Coccinelle/Hulk Robot.", "code_snippet": "@@ -503,7 +503,6 @@ static int meson_spicc_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct meson_spicc_device *spicc;\n-\tstruct resource *res;\n \tint ret, irq, rate;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(*spicc));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/362385c045f580c88d2882858ea77f965d25d46b"}
{"commit_hash": "425aa308a23cf321a7421bdada2f980ed87ae909", "short_hash": "425aa308a23c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:58+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:19:14+01:00", "subject": "spi: spi-meson-spifc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function. Reduces code from 4 lines (2 statements) to 1 line. Minor cleanup in SPI driver. Has Reviewed-by tag and proper Signed-off-by chain. No functional changes, no user impact, no stable marking.", "code_snippet": "@@ -286,7 +286,6 @@ static int meson_spifc_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct meson_spifc *spifc;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tunsigned int rate;\n \tint ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/425aa308a23cf321a7421bdada2f980ed87ae909"}
{"commit_hash": "f88771ca7104e47d3c62ec9872104d8252f844a0", "short_hash": "f88771ca7104", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:58:59+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:19:34+01:00", "subject": "spi: mt7621: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 6, "score_impact": 6, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup patch modernizing SPI driver to use devm_platform_ioremap_resource() helper, removing manual resource handling. Low code volume (-3/+1 lines), single file change. Maintainer signed off. Coccinelle-detected simplification with Hulk Robot report.", "code_snippet": "@@ -327,7 +327,6 @@ static int mt7621_spi_probe(struct platform_device *pdev)\n \tstruct spi_controller *master;\n \tstruct mt7621_spi *rs;\n \tvoid __iomem *base;\n-\tstruct resource *r;\n \tint status = 0;\n \tstruct clk *clk;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f88771ca7104e47d3c62ec9872104d8252f844a0"}
{"commit_hash": "d4225b3665e37167c9661c1c67cb2787134ce53a", "short_hash": "d4225b3665e3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:19:54+01:00", "subject": "spi: mxs: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit using devm_platform_ioremap_resource() helper to simplify SPI probe code. Single file, 1 insertion/3 deletions. Detected by coccinelle script. Reported-by tag from internal robot tool. Proper sign-off chain and Lore link. Low impact maintenance refactoring.", "code_snippet": "@@ -532,7 +532,6 @@ static int mxs_spi_probe(struct platform_device *pdev)\n \tstruct spi_master *master;\n \tstruct mxs_spi *spi;\n \tstruct mxs_ssp *ssp;\n-\tstruct resource *iores;\n \tstruct clk *clk;\n \tvoid __iomem *base;\n \tint devid, clk_freq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4225b3665e37167c9661c1c67cb2787134ce53a"}
{"commit_hash": "dcbceb6de0db24d383797d574e4a800fbef3580b", "short_hash": "dcbceb6de0db", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:01+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:20:03+01:00", "subject": "spi: npcm: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 4, "score_impact": 5, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor code modernization replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Reduces 3 lines to 1, removes local variable. Detected by coccinelle script, Reviewed by maintainer Mark Brown. Low-risk refactoring in SPI driver probe function.", "code_snippet": "@@ -341,7 +341,6 @@ static int npcm_pspi_probe(struct platform_device *pdev)\n {\n \tstruct npcm_pspi *priv;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tunsigned long clk_hz;\n \tstruct device_node *np = pdev->dev.of_node;\n \tint num_cs, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dcbceb6de0db24d383797d574e4a800fbef3580b"}
{"commit_hash": "4c6f537a0397d24cd74eefd473a74488801be673", "short_hash": "4c6f537a0397", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:02+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:20:23+01:00", "subject": "spi: nuc900: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Low complexity (1 insertion, 3 deletions), single file in SPI subsystem. Good commit message with proper tags and links. Reviewed by maintainer Mark Brown.", "code_snippet": "@@ -327,7 +327,6 @@ static int nuc900_spi_probe(struct platform_device *pdev)\n {\n \tstruct nuc900_spi *hw;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tint err = 0;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(struct nuc900_spi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c6f537a0397d24cd74eefd473a74488801be673"}
{"commit_hash": "f601a654bb47b89a469446ecca6c0183a5c75b96", "short_hash": "f601a654bb47", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:03+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:20:33+01:00", "subject": "spi: oc-tiny: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 2 lines to 1. Well-reviewed, signed by maintainer Mark Brown. Low impact driver subsystem cleanup.", "code_snippet": "@@ -240,7 +240,6 @@ static int tiny_spi_probe(struct platform_device *pdev)\n \tstruct tiny_spi_platform_data *platp = dev_get_platdata(&pdev->dev);\n \tstruct tiny_spi *hw;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tunsigned int i;\n \tint err = -ENODEV;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f601a654bb47b89a469446ecca6c0183a5c75b96"}
{"commit_hash": "e751032bcbd73667dde1a640109653a64f45a7d1", "short_hash": "e751032bcbd7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:04+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:20:52+01:00", "subject": "spi: pic32-sqi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "SPI subsystem driver modernization using devm_platform_ioremap_resource() helper. Small cleanup (1 insertion, 3 deletions) removing redundant resource variable. Reported by Hulk Robot, signed by maintainer Mark Brown. Low impact cleanup for non-critical hardware driver (Microchip PIC32 SQI).", "code_snippet": "@@ -570,7 +570,6 @@ static int pic32_sqi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct pic32_sqi *sqi;\n-\tstruct resource *reg;\n \tint ret;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(*sqi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e751032bcbd73667dde1a640109653a64f45a7d1"}
{"commit_hash": "e0ea3cc2baf600d71fddf692e27da2e580233140", "short_hash": "e0ea3cc2baf6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:05+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:21:12+01:00", "subject": "spi: spi-qcom-qspi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit using devm_platform_ioremap_resource() helper to simplify SPI driver probe code. Remove redundant 'res' variable and combine platform_get_resource/devm_ioremap_resource calls. Reported-by automated robot (Hulk Robot), signed off by subsystem maintainer Mark Brown.", "code_snippet": "@@ -424,7 +424,6 @@ static int qcom_qspi_probe(struct platform_device *pdev)\n {\n \tint ret;\n \tstruct device *dev;\n-\tstruct resource *res;\n \tstruct spi_master *master;\n \tstruct qcom_qspi *ctrl;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0ea3cc2baf600d71fddf692e27da2e580233140"}
{"commit_hash": "7d4c208326a0eae8eb296d2c35e1eed59accd9e5", "short_hash": "7d4c208326a0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:06+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:21:21+01:00", "subject": "spi: rb4xx: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi", "drivers/spi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 4, "score_impact": 2, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINT-REFACTOR: Code simplification using devm_platform_ioremap_resource(). Low technical impact (1 insertion, 3 deletions) in SPI driver subsystem. Automated change detected by coccinelle. Well-documented with Reported-by tag. Maintainer endorsement via Mark Brown's sign-off.", "code_snippet": "@@ -135,12 +135,10 @@ static int rb4xx_spi_probe(struct platform_device *pdev)\n \tstruct spi_master *master;\n \tstruct clk *ahb_clk;\n \tstruct rb4xx_spi *rbspi;\n-\tstruct resource *r;\n \tint err;\n \tvoid __iomem *spi_base;\n \n-\tr = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tspi_base = devm_ioremap_resource(&pdev->dev, r);\n+\tspi_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(spi_base))\n \t\treturn PTR_ERR(spi_base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d4c208326a0eae8eb296d2c35e1eed59accd9e5"}
{"commit_hash": "b38f1f9b6e108a4d73107c93e470f5a20b1ca982", "short_hash": "b38f1f9b6e10", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:21:31+01:00", "subject": "spi: s3c24xx: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 9, "score_quality": 6, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 1, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 2}, "score_justification": "API migration to devm_platform_ioremap_resource() simplifying code in SPI driver, detected by coccinelle tool", "code_snippet": "@@ -487,7 +487,6 @@ static int s3c24xx_spi_probe(struct platform_device *pdev)\n \tstruct s3c2410_spi_info *pdata;\n \tstruct s3c24xx_spi *hw;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tint err = 0;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(struct s3c24xx_spi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b38f1f9b6e108a4d73107c93e470f5a20b1ca982"}
{"commit_hash": "fa79f20047115678abca3c5c20247192128facb6", "short_hash": "fa79f2004711", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:21:41+01:00", "subject": "spi: sifive: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 6, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification commit using devm_platform_ioremap_resource() helper. Changes 1 file with -3/+1 lines. Driver subsystem (tier 5). Reported by Hulk Robot, Signed-off-by author, signed off by maintainer Mark Brown. Cross-org contribution from Huawei to SPI subsystem.", "code_snippet": "@@ -292,7 +292,6 @@ sifive_spi_transfer_one(struct spi_master *master, struct spi_device *device,\n static int sifive_spi_probe(struct platform_device *pdev)\n {\n \tstruct sifive_spi *spi;\n-\tstruct resource *res;\n \tint ret, irq, num_cs;\n \tu32 cs_bits, max_bits_per_word;\n \tstruct spi_master *master;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa79f20047115678abca3c5c20247192128facb6"}
{"commit_hash": "a755008377df0a2053663177f2bc5d2cef1b0f97", "short_hash": "a755008377df", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:22:00+01:00", "subject": "spi: sirf: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit using devm_platform_ioremap_resource() helper. Low complexity (1 insertion, 3 deletions). SPI subsystem is moderately critical. Cleanup category scores low. Good commit message with Reported-by tag. Maintainer (Mark Brown) signed off. Single-file, single-purpose atomic change.", "code_snippet": "@@ -1070,7 +1070,6 @@ static int spi_sirfsoc_probe(struct platform_device *pdev)\n {\n \tstruct sirfsoc_spi *sspi;\n \tstruct spi_master *master;\n-\tstruct resource *mem_res;\n \tconst struct sirf_spi_comp_data *spi_comp_data;\n \tint irq;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a755008377df0a2053663177f2bc5d2cef1b0f97"}
{"commit_hash": "338dd352acf007b886ff52bc68a2a0af3980f52d", "short_hash": "338dd352acf0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:10+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:22:10+01:00", "subject": "spi: st-ssc4: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 3, "score_impact": 4, "score_quality": 7, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 1, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup using devm_platform_ioremap_resource() helper to simplify spi-st-ssc4 driver probe. Remove local resource variable and consolidate two lines into one. Code reduction: -3/+1 lines. Automated detection by Hulk Robot. Maintainer (Mark Brown) signed off, indicating standard acceptance path for non-critical modernization.", "code_snippet": "@@ -298,7 +298,6 @@ static int spi_st_probe(struct platform_device *pdev)\n {\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tstruct spi_st *spi_st;\n \tint irq, ret = 0;\n \tu32 var;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/338dd352acf007b886ff52bc68a2a0af3980f52d"}
{"commit_hash": "8c649f4d4e92b7c8dd355279a584e4bca3302a6c", "short_hash": "8c649f4d4e92", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:11+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:22:29+01:00", "subject": "spi: sun4i: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Single file (drivers/spi/spi-sun4i.c), trivial code reduction (-3 +1 lines). Reported by Hulk Robot (automated tool), reviewed and signed by maintainer Mark Brown. Low impact cleanup pattern.", "code_snippet": "@@ -428,7 +428,6 @@ static int sun4i_spi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct sun4i_spi *sspi;\n-\tstruct resource\t*res;\n \tint ret = 0, irq;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(struct sun4i_spi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8c649f4d4e92b7c8dd355279a584e4bca3302a6c"}
{"commit_hash": "7c7c31f7f934a79c99ab72c30517950b5c090c48", "short_hash": "7c7c31f7f934", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:12+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:22:49+01:00", "subject": "spi: sun6i: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi", "drivers/spi"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup using devm_platform_ioremap_resource() helper. Low complexity (-1/+3 lines), single file in SPI driver subsystem. Tagged by Hulk Robot (Huawei's internal tool), reviewed by subsystem maintainer Mark Brown. Good commit message with Link tag, atomic change with clear purpose. No stable backport needed (helper existed before this change).", "code_snippet": "@@ -435,7 +435,6 @@ static int sun6i_spi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct sun6i_spi *sspi;\n-\tstruct resource\t*res;\n \tint ret = 0, irq;\n \n \tmaster = spi_alloc_master(&pdev->dev, sizeof(struct sun6i_spi));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c7c31f7f934a79c99ab72c30517950b5c090c48"}
{"commit_hash": "e8d63b38b1d6895e7e36abfe2b15eac47d66aeee", "short_hash": "e8d63b38b1d6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:13+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:22:58+01:00", "subject": "spi: tegra: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 4, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource wrapper. Removes 2 lines, adds 1. Detected by coccinelle script. Cross-org contribution from Huawei to SPI subsystem. Signed off by maintainer Mark Brown. Low impact cleanup using modern API pattern.", "code_snippet": "@@ -419,7 +419,6 @@ static int tegra_sflash_probe(struct platform_device *pdev)\n {\n \tstruct spi_master\t*master;\n \tstruct tegra_sflash_data\t*tsd;\n-\tstruct resource\t\t*r;\n \tint ret;\n \tconst struct of_device_id *match;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8d63b38b1d6895e7e36abfe2b15eac47d66aeee"}
{"commit_hash": "755f1a25004c36ddaace893f906a30d32e483e09", "short_hash": "755f1a25004c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:14+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:23:08+01:00", "subject": "spi: uniphier: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup refactoring using devm_platform_ioremap_resource() helper. Reduces 2 lines to 1, removes local variable. Low-risk driver subsystem change. Proper sign-off chain with maintainer (Mark Brown). Reported-by tag indicates automated tooling. No stable CC, no fixes tag, minimal user impact.", "code_snippet": "@@ -469,7 +469,6 @@ static int uniphier_spi_probe(struct platform_device *pdev)\n {\n \tstruct uniphier_spi_priv *priv;\n \tstruct spi_master *master;\n-\tstruct resource *res;\n \tunsigned long clk_rate;\n \tint irq;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/755f1a25004c36ddaace893f906a30d32e483e09"}
{"commit_hash": "77348293078b6047947bf38a1fc2ec6e142ba4ee", "short_hash": "77348293078b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:23:28+01:00", "subject": "spi: xlp: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 3, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit simplifying code by using devm_platform_ioremap_resource(). 1 insertion, 3 deletions. SPI driver subsystem (tier 2). Cross-org contribution from Huawei to kernel.org maintainer. Proper tags and links present. This is automated refactoring detected by coccinelle, not a bug fix or feature.", "code_snippet": "@@ -370,7 +370,6 @@ static int xlp_spi_probe(struct platform_device *pdev)\n {\n \tstruct spi_master *master;\n \tstruct xlp_spi_priv *xspi;\n-\tstruct resource *res;\n \tstruct clk *clk;\n \tint irq, err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77348293078b6047947bf38a1fc2ec6e142ba4ee"}
{"commit_hash": "214d1edb60432ac9d024966e6f672e8cb024e672", "short_hash": "214d1edb6043", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:16+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:23:48+01:00", "subject": "spi: zynqmp: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Low complexity (1 insertion, 3 deletions) in SPI driver (tier 5). Trivial cleanup category (base 3). Good review chain with Reported-by, Signed-off-by, Link tags (4 points). Clean commit message (4 points). Atomic change (3 points). Cross-org contribution from Huawei to maintainer Mark Brown (4 points each). Total: 32/100.", "code_snippet": "@@ -1016,7 +1016,6 @@ static int zynqmp_qspi_probe(struct platform_device *pdev)\n \tint ret = 0;\n \tstruct spi_master *master;\n \tstruct zynqmp_qspi *xqspi;\n-\tstruct resource *res;\n \tstruct device *dev = &pdev->dev;\n \n \teemi_ops = zynqmp_pm_get_eemi_ops();", "flags": [], "link": "https://lore.kernel.org/linux-kernel/214d1edb60432ac9d024966e6f672e8cb024e672"}
{"commit_hash": "ae91a439ac7ec8e1e925621293f45794de6366f2", "short_hash": "ae91a439ac7e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:17+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:24:07+01:00", "subject": "spi: zynq-qspi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper function. Detected by Coccinelle script and reported by Hulk Robot. Proper sign-off chain with maintainer endorsement. Low impact as it's purely code simplification with no functional change.", "code_snippet": "@@ -620,7 +620,6 @@ static int zynq_qspi_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct device_node *np = dev->of_node;\n \tstruct zynq_qspi *xqspi;\n-\tstruct resource *res;\n \tu32 num_cs;\n \n \tctlr = spi_alloc_master(&pdev->dev, sizeof(*xqspi));", "flags": ["COCCINELLE", "HULK_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/ae91a439ac7ec8e1e925621293f45794de6366f2"}
{"commit_hash": "43a5baa6d8b8c6d93458ab0c6a8a7700e94b9708", "short_hash": "43a5baa6d8b8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:59:18+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-04T17:24:26+01:00", "subject": "spi: fsl-spi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 2, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Low impact cleanup detected by Coccinelle script. Proper maintainer sign-off chain from Huawei author through subsystem maintainer Mark Brown.", "code_snippet": "@@ -305,12 +305,10 @@ int fsl_spi_cpm_init(struct mpc8xxx_spi *mspi)\n \t}\n \n \tif (mspi->flags & SPI_CPM1) {\n-\t\tstruct resource *res;\n \t\tvoid *pram;\n \n-\t\tres = platform_get_resource(to_platform_device(dev),\n-\t\t\t\t\t    IORESOURCE_MEM, 1);\n-\t\tpram = devm_ioremap_resource(dev, res);\n+\t\tpram = devm_platform_ioremap_resource(to_platform_device(dev),\n+\t\t\t\t\t\t      1);\n \t\tif (IS_ERR(pram))\n \t\t\tmspi->pram = NULL;\n \t\telse\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/43a5baa6d8b8c6d93458ab0c6a8a7700e94b9708"}
{"commit_hash": "caebdd3c114e522b5c9bda2098990e09abfba5b0", "short_hash": "caebdd3c114e", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-08-22T03:03:51+02:00", "committer_name": "Arnd Bergmann", "committer_email": "arnd@arndb.de", "committer_company": "Arndb", "commit_date": "2019-09-04T17:30:10+02:00", "subject": "bus: moxtet: remove set but not used variable 'dummy'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/bus"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Marek Behún <marek.behun@nic.cz> (Nic)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable to fix a compiler warning. Minimal code change (-2 +1 lines), non-critical subsystem (drivers/bus), no user impact or runtime effect. Well-reviewed with proper chain (author->Behun->Arnd), clean commit message with warning details, atomic change. Cross-org contribution (Huawei->nic.cz->arndb) with maintainer sign-off.", "code_snippet": "@@ -819,7 +819,6 @@ static int moxtet_probe(struct spi_device *spi)\n static int moxtet_remove(struct spi_device *spi)\n {\n \tstruct moxtet *moxtet = spi_get_drvdata(spi);\n-\tint dummy;\n \n \tfree_irq(moxtet->dev_irq, moxtet);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/caebdd3c114e522b5c9bda2098990e09abfba5b0"}
{"commit_hash": "59d45f2a4d4a9fbea07f285994cae31ac13f2493", "short_hash": "59d45f2a4d4a", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T18:03:28+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-04T19:14:46+02:00", "subject": "staging: exfat: remove the redundant check when kfree an object in exfat_destroy_inode", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/exfat"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)"]}, "score_total": 28, "score_technical": 4, "score_impact": 6, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Small cleanup commit (3 lines changed) removing redundant NULL check before kfree() in staging driver. Well-reported by Julia Lawall, properly signed off by maintainer Greg Kroah-Hartman. Staging subsystem has lower criticality score. Atomic cleanup with clear justification.", "code_snippet": "@@ -3498,8 +3498,7 @@ static struct inode *exfat_alloc_inode(struct super_block *sb)\n \n static void exfat_destroy_inode(struct inode *inode)\n {\n-\tif (EXFAT_I(inode)->target)\n-\t\tkfree(EXFAT_I(inode)->target);\n+\tkfree(EXFAT_I(inode)->target);\n \tEXFAT_I(inode)->target = NULL;\n \n \tkmem_cache_free(exfat_inode_cachep, EXFAT_I(inode));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/59d45f2a4d4a9fbea07f285994cae31ac13f2493"}
{"commit_hash": "f30bd2989b110cfa5050bd98dcf4bc1ec32f9000", "short_hash": "f30bd2989b11", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T03:00:47Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-05T09:37:31+02:00", "subject": "staging: exfat: Use kmemdup in exfat_symlink()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/exfat"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing kmalloc+memcpy with kmemdup in exfat staging driver. Single file, low subsystem tier (staging), minimal code change. Well-reviewed with Greg KH sign-off. Cross-org contribution from Huawei to Linux Foundation.", "code_snippet": "@@ -2706,12 +2706,11 @@ static int exfat_symlink(struct inode *dir, struct dentry *dentry,\n \tinode->i_mtime = inode->i_atime = inode->i_ctime = current_time(inode);\n \t/* timestamp is already written, so mark_inode_dirty() is unneeded. */\n \n-\tEXFAT_I(inode)->target = kmalloc(len+1, GFP_KERNEL);\n+\tEXFAT_I(inode)->target = kmemdup(target, len + 1, GFP_KERNEL);\n \tif (!EXFAT_I(inode)->target) {\n \t\terr = -ENOMEM;\n \t\tgoto out;\n \t}\n-\tmemcpy(EXFAT_I(inode)->target, target, len+1);\n \n \tdentry->d_time = GET_IVERSION(dentry->d_parent->d_inode);\n \td_instantiate(dentry, inode);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f30bd2989b110cfa5050bd98dcf4bc1ec32f9000"}
{"commit_hash": "981cdf7d577904aef003c878710e479eec60a1be", "short_hash": "981cdf7d5779", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T02:56:23Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-05T09:37:31+02:00", "subject": "staging: exfat: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/exfat"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused include from staging driver. Low impact (staging filesystem), minimal code change (1 deletion), proper maintainer flow through Greg KH. Well-formed commit message with Link tag. No testing evidence needed for trivial cleanup.", "code_snippet": "@@ -3,7 +3,6 @@\n  *  Copyright (C) 2012-2013 Samsung Electronics Co., Ltd.\n  */\n \n-#include <linux/version.h>\n #include <linux/module.h>\n #include <linux/init.h>\n #include <linux/time.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/981cdf7d577904aef003c878710e479eec60a1be"}
{"commit_hash": "0f16ebb9dcd60021e1a496b64b0b44f97cc2d8d9", "short_hash": "0f16ebb9dcd6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T02:56:08Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-05T09:37:31+02:00", "subject": "staging: exfat: remove duplicated include from exfat_super.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/exfat"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 3, "score_quality": 7, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing duplicated #include statement in staging driver. Low code volume (1 deletion), staging subsystem tier (non-critical), no functional change. Cross-org contribution from Huawei employee, signed off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -26,7 +26,6 @@\n #include <linux/sched.h>\n #include <linux/fs_struct.h>\n #include <linux/namei.h>\n-#include <linux/time.h>\n \n #include <linux/string.h>\n #include <linux/nls.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0f16ebb9dcd60021e1a496b64b0b44f97cc2d8d9"}
{"commit_hash": "60b3990c2cef8667a659e44accffc8da0144ea98", "short_hash": "60b3990c2cef", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T10:39:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-05T12:06:04+02:00", "subject": "sunrpc: Use kzfree rather than its implementation.", "primary_category": "SEC-HARDEN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sunrpc"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 11, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Security hardening: replaces memset+kfree with kzfree to properly zero cryptographic key material (krb5 derivation keys). Net/sunrpc subsystem (tier 10). Minimal code change (-3 lines). Clean atomic cleanup with proper maintainer signoff. No CVE or stable CC, but prevents potential key material leakage in memory.", "code_snippet": "@@ -228,14 +228,11 @@ u32 krb5_derive_key(const struct gss_krb5_enctype *gk5e,\n \tret = 0;\n \n err_free_raw:\n-\tmemset(rawkey, 0, keybytes);\n-\tkfree(rawkey);\n+\tkzfree(rawkey);\n err_free_out:\n-\tmemset(outblockdata, 0, blocksize);\n-\tkfree(outblockdata);\n+\tkzfree(outblockdata);\n err_free_in:\n-\tmemset(inblockdata, 0, blocksize);\n-\tkfree(inblockdata);\n+\tkzfree(inblockdata);\n err_free_cipher:\n \tcrypto_free_sync_skcipher(cipher);\n err_return:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60b3990c2cef8667a659e44accffc8da0144ea98"}
{"commit_hash": "10ae8f4e81d8af84bfe5d017b897a80fa4b27c8a", "short_hash": "10ae8f4e81d8", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T10:39:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-05T12:06:04+02:00", "subject": "ixgbe: Use kzfree() rather than its implementation.", "primary_category": "BUG-LEAK", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/intel/ixgbe"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 13, "score_impact": 15, "score_quality": 4, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Security-sensitive memory leak fix replacing manual memset+kfree with kzfree() for cryptographic data in network driver. High subsystem tier (network). Cross-org contribution from Huawei to Intel subsystem, merged by networking maintainer David S. Miller. Small code volume but high security impact due to proper memory sanitization of IPsec cryptographic material.", "code_snippet": "@@ -960,11 +960,9 @@ int ixgbe_ipsec_vf_add_sa(struct ixgbe_adapter *adapter, u32 *msgbuf, u32 vf)\n \treturn 0;\n \n err_aead:\n-\tmemset(xs->aead, 0, sizeof(*xs->aead));\n-\tkfree(xs->aead);\n+\tkzfree(xs->aead);\n err_xs:\n-\tmemset(xs, 0, sizeof(*xs));\n-\tkfree(xs);\n+\tkzfree(xs);\n err_out:\n \tmsgbuf[1] = err;\n \treturn err;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/10ae8f4e81d8af84bfe5d017b897a80fa4b27c8a"}
{"commit_hash": "da3a3b653b34fe8c623a0ade88cdf92eb9a35827", "short_hash": "da3a3b653b34", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T10:39:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-05T12:06:04+02:00", "subject": "net: mpoa: Use kzfree rather than its implementation.", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/atm"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 9, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup change replacing memset+ kfree with kzfree for security hardening (prevents potential information leaks from freed memory). Low code volume (2 insertions, 4 deletions) but touches networking subsystem. Cross-org contribution from Huawei to net tree maintained by David S. Miller. Good commit message with clear rationale and proper SOB chain.", "code_snippet": "@@ -180,8 +180,7 @@ static int cache_hit(in_cache_entry *entry, struct mpoa_client *mpc)\n static void in_cache_put(in_cache_entry *entry)\n {\n \tif (refcount_dec_and_test(&entry->use)) {\n-\t\tmemset(entry, 0, sizeof(in_cache_entry));\n-\t\tkfree(entry);\n+\t\tkzfree(entry);\n \t}\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da3a3b653b34fe8c623a0ade88cdf92eb9a35827"}
{"commit_hash": "6d1959138c8bdaf69f1116c86c77e6733db6ab34", "short_hash": "6d1959138c8b", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-09-02T18:04:50+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-05T13:22:05-04:00", "subject": "dm writecache: skip writecache_wait for pmem mode", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mikulas Patocka <mpatocka@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 7, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small optimization (3 lines) skipping unnecessary wait_for_ios in pmem mode. Acked by maintainer Mikulas Patocka. Cross-org contribution from Lenovo to Red Hat-maintained code. Low technical complexity but well-reviewed.", "code_snippet": "@@ -726,7 +726,8 @@ static void writecache_flush(struct dm_writecache *wc)\n \t}\n \twritecache_commit_flushed(wc);\n \n-\twritecache_wait_for_ios(wc, WRITE);\n+\tif (!WC_MODE_PMEM(wc))\n+\t\twritecache_wait_for_ios(wc, WRITE);\n \n \twc->seq_count++;\n \tpmem_assign(sb(wc)->seq_count, cpu_to_le64(wc->seq_count));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d1959138c8bdaf69f1116c86c77e6733db6ab34"}
{"commit_hash": "a3d7c50c416c378c91272e6b2905f91fde682319", "short_hash": "a3d7c50c416c", "author_name": "Vic Wu", "author_email": "vic.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T14:37:16+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-05T14:36:54+10:00", "subject": "crypto: mediatek - fix incorrect crypto key setting", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/mediatek/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Vic Wu <vic.wu@mediatek.com> (MediaTek)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": ["John Crispin <john@phrozen.og> (Phrozen)"], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 7, "score_impact": 16, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect crypto key handling in MediaTek AES driver. Keys were being written to state buffer during setkey() instead of during encrypt/decrypt operations, causing potential data corruption. Added key field to context structure and moved key write to mtk_aes_handle_queue(). Crypto subsystem is tier 4 (security-sensitive driver code). Good commit message with proper explanation, tested-by tag, and maintainer sign-off. Atomic focused fix with no unnecessary changes.", "code_snippet": "@@ -534,6 +535,8 @@ static int mtk_aes_handle_queue(struct mtk_cryp *cryp, u8 id,\n \t\tbacklog->complete(backlog, -EINPROGRESS);\n \n \tctx = crypto_tfm_ctx(areq->tfm);\n+\t/* Write key into state buffer */\n+\tmemcpy(ctx->info.state, ctx->key, sizeof(ctx->key));\n \n \taes->areq = areq;\n \taes->ctx = ctx;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3d7c50c416c378c91272e6b2905f91fde682319"}
{"commit_hash": "069ec891823a5211c48c68c9b9f1571d9647606d", "short_hash": "069ec891823a", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T14:37:15+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-05T14:36:54+10:00", "subject": "crypto: mediatek - add support to OFB/CFB mode", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 78, "deletions": 7, "hunks": 14, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Vic Wu <vic.wu@mediatek.com> (MediaTek)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 12, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Driver feature adding OFB/CFB cipher mode support to Mediatek crypto hardware. Clean implementation following existing patterns. Signed off by subsystem maintainer Herbert Xu. 78 insertions, single file change.", "code_snippet": "@@ -23,7 +23,7 @@\n \n #define AES_CT_CTRL_HDR\t\tcpu_to_le32(0x00220000)\n \n-/* AES-CBC/ECB/CTR command token */\n+/* AES-CBC/ECB/CTR/OFB/CFB command token */\n #define AES_CMD0\t\tcpu_to_le32(0x05000000)\n #define AES_CMD1\t\tcpu_to_le32(0x2d060000)\n #define AES_CMD2\t\tcpu_to_le32(0xe4a63806)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/069ec891823a5211c48c68c9b9f1571d9647606d"}
{"commit_hash": "e049ff5af04b18bfb4105787be198d58c841fc99", "short_hash": "e049ff5af04b", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T14:37:13+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-05T14:36:54+10:00", "subject": "crypto: mediatek - fix uninitialized value of gctx->textlen", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "e47270665b5f", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Vic Wu <vic.wu@mediatek.com> (MediaTek)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 2, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Fixes uninitialized value bug in MediaTek crypto driver GCM mode. Small scope (10 insertions/deletions) in hardware-specific crypto driver. Fixes tag present indicates regression. Good commit message with clear explanation. Multiple sign-offs including maintainer Herbert Xu show proper review chain. Atomic fix focused on single uninitialized value issue.", "code_snippet": "@@ -896,14 +896,11 @@ static int mtk_aes_gcm_start(struct mtk_cryp *cryp, struct mtk_aes_rec *aes)\n \t\taes->resume = mtk_aes_transfer_complete;\n \t\t/* Compute total process length. */\n \t\taes->total = len + gctx->authsize;\n-\t\t/* Compute text length. */\n-\t\tgctx->textlen = req->cryptlen;\n \t\t/* Hardware will append authenticated tag to output buffer */\n \t\tscatterwalk_map_and_copy(tag, req->dst, len, gctx->authsize, 1);\n \t} else {\n \t\taes->resume = mtk_aes_gcm_tag_verify;\n \t\taes->total = len;\n-\t\tgctx->textlen = req->cryptlen - gctx->authsize;\n \t}\n \n \treturn mtk_aes_gcm_dma(cryp, aes, req->src, req->dst, len);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e049ff5af04b18bfb4105787be198d58c841fc99"}
{"commit_hash": "f271ea9fe1de6455a6855ef320c6946a7f7bf6e7", "short_hash": "f271ea9fe1de", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T14:37:14+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-05T14:36:54+10:00", "subject": "crypto: mediatek - only treat EBUSY as transient if backlog", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/crypto/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Vic Wu <vic.wu@mediatek.com> (MediaTek)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for Mediatek crypto driver - EBUSY was incorrectly treated as transient without checking backlog flag. Small focused fix (4 lines changed), proper review chain (author->co-developer->maintainer), good commit message explaining the issue. Crypto subsystem is moderately critical. Direct maintainer commit indicates strong endorsement.", "code_snippet": "@@ -778,7 +778,9 @@ static int mtk_sha_finup(struct ahash_request *req)\n \tctx->flags |= SHA_FLAGS_FINUP;\n \n \terr1 = mtk_sha_update(req);\n-\tif (err1 == -EINPROGRESS || err1 == -EBUSY)\n+\tif (err1 == -EINPROGRESS ||\n+\t    (err1 == -EBUSY && (ahash_request_flags(req) &\n+\t\t\t\tCRYPTO_TFM_REQ_MAY_BACKLOG)))\n \t\treturn err1;\n \t/*\n \t * final() has to be always called to cleanup resources\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f271ea9fe1de6455a6855ef320c6946a7f7bf6e7"}
{"commit_hash": "4797f6cab5096aa4e97cee2d0044dcf8e6bcd7b8", "short_hash": "4797f6cab509", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T14:37:12+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-05T14:36:54+10:00", "subject": "crypto: mediatek - move mtk_aes_find_dev() to the right place", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/mediatek/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 14, "deletions": 25, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Vic Wu <vic.wu@mediatek.com> (MediaTek)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 8, "score_impact": 3, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Refactoring commit that moves mtk_aes_find_dev() from initialization functions to crypto operations to eliminate duplicate checks. 14 insertions, 25 deletions across single file. Single subsystem (crypto driver), no security implications. Signed off by maintainer Herbert Xu.", "code_snippet": "@@ -651,14 +651,19 @@ static int mtk_aes_setkey(struct crypto_ablkcipher *tfm,\n \n static int mtk_aes_crypt(struct ablkcipher_request *req, u64 mode)\n {\n-\tstruct mtk_aes_base_ctx *ctx;\n+\tstruct crypto_ablkcipher *ablkcipher = crypto_ablkcipher_reqtfm(req);\n+\tstruct mtk_aes_base_ctx *ctx = crypto_ablkcipher_ctx(ablkcipher);\n \tstruct mtk_aes_reqctx *rctx;\n+\tstruct mtk_cryp *cryp;\n+\n+\tcryp = mtk_aes_find_dev(ctx);\n+\tif (!cryp)\n+\t\treturn -ENODEV;\n \n-\tctx = crypto_ablkcipher_ctx(crypto_ablkcipher_reqtfm(req));\n \trctx = ablkcipher_request_ctx(req);\n \trctx->mode = mode;\n \n-\treturn mtk_aes_handle_queue(ctx->cryp, !(mode & AES_FLAGS_ENCRYPT),\n+\treturn mtk_aes_handle_queue(cryp, !(mode & AES_FLAGS_ENCRYPT),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4797f6cab5096aa4e97cee2d0044dcf8e6bcd7b8"}
{"commit_hash": "4057a7652b74af25ba1197689fc144cdb766f423", "short_hash": "4057a7652b74", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T11:12:51+08:00", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-05T14:44:40-07:00", "subject": "net/mlx5: Kconfig: Fix MLX5_CORE dependency with PCI_HYPERV_INTERFACE", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cef35af34d6d", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mellanox/mlx5/core/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 13, "score_impact": 19, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig dependency fix preventing undefined reference build errors in mlx5 driver. Cross-org contribution from Huawei to Mellanox driver with maintainer sign-off. Clear problem description with specific build error messages and fixes tag.", "code_snippet": "@@ -10,6 +10,7 @@ config MLX5_CORE\n \timply PTP_1588_CLOCK\n \timply VXLAN\n \timply MLXFW\n+\timply PCI_HYPERV_INTERFACE\n \tdefault n\n \t---help---\n \t  Core driver for low level functionality of the ConnectX-4 and\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4057a7652b74af25ba1197689fc144cdb766f423"}
{"commit_hash": "a2b7189be6b5dd697c333beb91f988dfc3ca87fb", "short_hash": "a2b7189be6b5", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T14:56:10+08:00", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-05T14:44:41-07:00", "subject": "net/mlx5: Use PTR_ERR_OR_ZERO rather than its implementation", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 2, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code style refactoring replacing manual IS_ERR/PTR_ERR pattern with PTR_ERR_OR_ZERO macro. Cross-org contribution from Huawei to Mellanox subsystem with full maintainer Acked-by/Signed-off-by chain.", "code_snippet": "@@ -988,10 +988,7 @@ mlx5e_tc_add_nic_flow(struct mlx5e_priv *priv,\n \t\t\t\t\t    &flow_act, dest, dest_ix);\n \tmutex_unlock(&priv->fs.tc.t_lock);\n \n-\tif (IS_ERR(flow->rule[0]))\n-\t\treturn PTR_ERR(flow->rule[0]);\n-\n-\treturn 0;\n+\treturn PTR_ERR_OR_ZERO(flow->rule[0]);\n }\n \n static void mlx5e_tc_del_nic_flow(struct mlx5e_priv *priv,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a2b7189be6b5dd697c333beb91f988dfc3ca87fb"}
{"commit_hash": "83de91f826652e080d323f748509b6d943c8e33c", "short_hash": "83de91f82665", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T09:56:00Z", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-05T14:44:42-07:00", "subject": "net/mlx5: DR, Fix error return code in dr_domain_init_resources()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4ec9e7b02697", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 12, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Error handling bug fixing incorrect return codes in mlx5 DR domain initialization. 3 lines added across 3 error paths. Networking subsystem (tier 10). Cross-org contribution from Huawei to Mellanox driver. Strong commit message with Fixes tag and proper Signed-off-by chain including maintainer. Atomic fix focused on single issue.", "code_snippet": "@@ -66,6 +66,7 @@ static int dr_domain_init_resources(struct mlx5dr_domain *dmn)\n \tdmn->uar = mlx5_get_uars_page(dmn->mdev);\n \tif (!dmn->uar) {\n \t\tmlx5dr_err(dmn, \"Couldn't allocate UAR\\n\");\n+\t\tret = -ENOMEM;\n \t\tgoto clean_pd;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83de91f826652e080d323f748509b6d943c8e33c"}
{"commit_hash": "f6a8cddfb50a5d530400f10c435f420b15962800", "short_hash": "f6a8cddfb50a", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T09:53:26Z", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-05T14:44:42-07:00", "subject": "net/mlx5: DR, Remove useless set memory to zero use memset()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 11, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant memset() after kzalloc(). Cross-org contribution (Huawei to Mellanox driver) with maintainer sign-off. Minimal technical impact but good hygiene.", "code_snippet": "@@ -899,7 +899,6 @@ int mlx5dr_send_ring_alloc(struct mlx5dr_domain *dmn)\n \t\tgoto clean_qp;\n \t}\n \n-\tmemset(dmn->send_ring->buf, 0, size);\n \tdmn->send_ring->buf_size = size;\n \n \tdmn->send_ring->mr = dr_reg_mr(dmn->mdev,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f6a8cddfb50a5d530400f10c435f420b15962800"}
{"commit_hash": "987ca7ca1fda0ac470179b2110716d62e107ab06", "short_hash": "987ca7ca1fda", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T08:33:15Z", "committer_name": "Vasily Gorbik", "committer_email": "gor@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-09-05T15:18:15+02:00", "subject": "vfio-ccw: fix error return code in vfio_ccw_sch_init()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "60e05d1cf087", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/s390/cio"], "subsystem_tier": 7, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Christian Borntraeger <borntraeger@de.ibm.com> (IBM)", "Vasily Gorbik <gor@linux.ibm.com> (IBM)"], "reviewed_by": ["Cornelia Huck <cohuck@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 9, "score_impact": 17, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Bug fix returning -ENOMEM on allocation failure in vfio-ccw driver. 8 lines changed (6 insertions, 2 deletions). s390 drivers subsystem (tier 7). Fixes error handling in initialization code. Has Fixes tag, reviewed by maintainer, cross-org contribution (Huawei to IBM-maintained code). High quality commit message with clear explanation.", "code_snippet": "@@ -317,15 +317,19 @@ static int __init vfio_ccw_sch_init(void)\n \t\t\t\t\tsizeof(struct ccw_io_region), 0,\n \t\t\t\t\tSLAB_ACCOUNT, 0,\n \t\t\t\t\tsizeof(struct ccw_io_region), NULL);\n-\tif (!vfio_ccw_io_region)\n+\tif (!vfio_ccw_io_region) {\n+\t\tret = -ENOMEM;\n \t\tgoto out_err;\n+\t}\n \n \tvfio_ccw_cmd_region = kmem_cache_create_usercopy(\"vfio_ccw_cmd_region\",\n \t\t\t\t\tsizeof(struct ccw_cmd_region), 0,\n \t\t\t\t\tSLAB_ACCOUNT, 0,\n \t\t\t\t\tsizeof(struct ccw_cmd_region), NULL);\n-\tif (!vfio_ccw_cmd_region)\n+\tif (!vfio_ccw_cmd_region) {\n+\t\tret = -ENOMEM;\n \t\tgoto out_err;\n+\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/987ca7ca1fda0ac470179b2110716d62e107ab06"}
{"commit_hash": "ff7c8380c9d36252a6b977cf9c7f8b75abfb8719", "short_hash": "ff7c8380c9d3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T14:22:11+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-09-05T17:27:21+02:00", "subject": "Bluetooth: hci_bcm: Fix -Wunused-const-variable warnings", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 7, "files_changed": 1, "insertions": 15, "deletions": 15, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 8, "score_impact": 2, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Build warning fix for unused variables when CONFIG_ACPI is not set. Minimal code movement (15 insertions, 15 deletions) wrapping existing code in #ifdef. Bluetooth driver subsystem (tier 7). Reviewed by maintainer Marcel Holtmann. Clear commit message with compiler warning context and Reported-by tag from Hulk Robot.", "code_snippet": "@@ -824,6 +824,21 @@ static int bcm_resume(struct device *dev)\n }\n #endif\n \n+/* Some firmware reports an IRQ which does not work (wrong pin in fw table?) */\n+static const struct dmi_system_id bcm_broken_irq_dmi_table[] = {\n+\t{\n+\t\t.ident = \"Meegopad T08\",\n+\t\t.matches = {\n+\t\t\tDMI_EXACT_MATCH(DMI_BOARD_VENDOR,\n+\t\t\t\t\t\"To be filled by OEM.\"),\n+\t\t\tDMI_EXACT_MATCH(DMI_BOARD_NAME, \"T3 MRD\"),\n+\t\t\tDMI_EXACT_MATCH(DMI_BOARD_VERSION, \"V1.1\"),\n+\t\t},\n+\t},\n+\t{ }\n+};\n+\n+#ifdef CONFIG_ACPI\n static const struct acpi_gpio_params first_gpio = { 0, 0, false };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff7c8380c9d36252a6b977cf9c7f8b75abfb8719"}
{"commit_hash": "7f17b86a042e5ac0453434db700fab3ce97cfba6", "short_hash": "7f17b86a042e", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-24T16:58:16+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:30+02:00", "subject": "mt76: mt7603: fix some checkpatch warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/mediatek/mt76/mt7603"], "subsystem_tier": 7, "files_changed": 11, "insertions": 19, "deletions": 18, "hunks": 36, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Checkpatch warning fixes for SPDX comment style and spacing after casts. Low-impact cleanup affecting 11 files in mt7603 wireless driver. Proper dual-signoff chain (author + maintainer Fietkau). Code volume minimal (19 insertions/18 deletions). No functional changes, no testing evidence needed.", "code_snippet": "@@ -1017,8 +1016,9 @@ mt7603_fill_txs(struct mt7603_dev *dev, struct mt7603_sta *sta,\n \t\t\tsta->rate_probe = false;\n \t\t}\n \t\tspin_unlock_bh(&dev->mt76.lock);\n-\t} else\n+\t} else {\n \t\tinfo->status.rates[0] = rs->rates[first_idx / 2];\n+\t}\n \tinfo->status.rates[0].count = 0;\n \n \tfor (i = 0, idx = first_idx; count && idx <= last_idx; idx++) {\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7603/main.c b/drivers/net/wireless/mediatek/mt76/mt7603/main.c\nindex 88c869002311..cc3ccb49276f 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7603/main.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7603/main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f17b86a042e5ac0453434db700fab3ce97cfba6"}
{"commit_hash": "06413abe55af0c176012e20da5c1e4f904dca8f3", "short_hash": "06413abe55af", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-24T16:58:15+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:30+02:00", "subject": "mt76: Add paragraphs to describe the config symbols fully", "primary_category": "DOC", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 5, "files_changed": 4, "insertions": 31, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change improving Kconfig help text to comply with kernel coding style (checkpatch). 31 insertions, 8 deletions across 4 similar files. Maintainer (Felix Fietkau) signed off. Low technical impact as it only affects build configuration documentation.", "code_snippet": "@@ -5,6 +5,8 @@ config MT7603E\n \tdepends on MAC80211\n \tdepends on PCI\n \thelp\n-\t  This adds support for MT7603E wireless PCIe devices and the WLAN core on\n-\t  MT7628/MT7688 SoC devices\n+\t  This adds support for MT7603E wireless PCIe devices and the WLAN core\n+\t  on MT7628/MT7688 SoC devices. This family supports IEEE 802.11n 2x2\n+\t  to 300Mbps PHY rate\n \n+\t  To compile this driver as a module, choose M here.\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig b/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig\nindex 2ed47b309b6e..4cabba9aa2ea 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig", "flags": [], "link": "https://lore.kernel.org/linux-kernel/06413abe55af0c176012e20da5c1e4f904dca8f3"}
{"commit_hash": "4f8a4f17fb1c8c1deba0b3cbd11205e9c9080697", "short_hash": "4f8a4f17fb1c", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-22T16:50:09+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:30+02:00", "subject": "mt76: mt7615: update cw_min/max related settings", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/mediatek/mt76/mt7615"], "subsystem_tier": 8, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit fixes incorrect cw_min/max configuration in MediaTek mt7615 wireless driver. Previously the code directly used params values; now it properly uses fls() to calculate log2 values. Adds sensible defaults (cw_min=5, cw_max=10). Cross-company review (Mediatek author, nbd committer). Low code volume (9+/9-) but corrects logic error in WMM QoS parameter configuration.", "code_snippet": "@@ -626,6 +626,8 @@ int mt7615_mcu_set_wmm(struct mt7615_dev *dev, u8 queue,\n #define WMM_CW_MIN_SET\tBIT(1)\n #define WMM_CW_MAX_SET\tBIT(2)\n #define WMM_TXOP_SET\tBIT(3)\n+#define WMM_PARAM_SET\t(WMM_AIFS_SET | WMM_CW_MIN_SET | \\\n+\t\t\t WMM_CW_MAX_SET | WMM_TXOP_SET)\n \tstruct req_data {\n \t\tu8 number;\n \t\tu8 rsv[3];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f8a4f17fb1c8c1deba0b3cbd11205e9c9080697"}
{"commit_hash": "49f1132cdb2f748648e1db1414da8321724918d2", "short_hash": "49f1132cdb2f", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-22T16:50:08+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:30+02:00", "subject": "mt76: mt7615: add 4 WMM sets support", "primary_category": "FEAT-OTHER", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 3, "insertions": 10, "deletions": 12, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 11, "score_impact": 13, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Mediatek wireless driver feature adding 4 WMM sets support (10 insertions, 12 deletions). Fixes incorrect queue mapping bug in mt7615_conf_tx(). Signed-off by maintainer Felix Fietkau. Wireless networking is tier 1 (score 10). Code properly uses wmm_idx offset calculation across multiple interfaces. Atomic fix with dual purpose: feature enhancement + bug correction.", "code_snippet": "@@ -335,7 +336,7 @@ int mt7615_mac_write_txwi(struct mt7615_dev *dev, __le32 *txwi,\n \tfc_stype = (le16_to_cpu(fc) & IEEE80211_FCTL_STYPE) >> 4;\n \n \tif (ieee80211_is_data(fc) || ieee80211_is_bufferable_mmpdu(fc)) {\n-\t\tq_idx = skb_get_queue_mapping(skb);\n+\t\tq_idx = skb_get_queue_mapping(skb) + wmm_idx * MT7615_MAX_WMM_SETS;\n \t\tp_fmt = MT_TX_TYPE_CT;\n \t} else if (ieee80211_is_beacon(fc)) {\n \t\tq_idx = MT_LMAC_BCN0;\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/main.c b/drivers/net/wireless/mediatek/mt76/mt7615/main.c\nindex 1c365b02d7f8..6238b29170ae 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/main.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49f1132cdb2f748648e1db1414da8321724918d2"}
{"commit_hash": "0e3d677750fbee9e5e5dbace091870e7386e553d", "short_hash": "0e3d677750fb", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-24T16:58:20+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:31+02:00", "subject": "mt76: switch to SPDX tag instead of verbose boilerplate text", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 6, "files_changed": 63, "insertions": 63, "deletions": 756, "hunks": 126, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "License boilerplate replacement commit - 63 files changed with 63 insertions and 756 deletions. Pure maintenance/cleanup change replacing verbose ISC license text with SPDX tags. Author is from Mediatek, committer is Felix Fietkau (mt76 maintainer). No functional change as explicitly stated. Good review chain (maintainer sign-off), clear commit message. Cross-org contribution (Mediatek author, maintainer committer). Low technical value as it's purely administrative cleanup.", "code_snippet": "@@ -1,17 +1,6 @@\n+// SPDX-License-Identifier: ISC\n /*\n  * Copyright (C) 2018 Felix Fietkau <nbd@nbd.name>\n- *\n- * Permission to use, copy, modify, and/or distribute this software for any\n- * purpose with or without fee is hereby granted, provided that the above\n- * copyright notice and this permission notice appear in all copies.\n- *\n- * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n- * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n- * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n- * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n- * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n- * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n- * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n  */\n #include \"mt76.h\"\n \ndiff --git a/drivers/net/wireless/mediatek/mt76/debugfs.c b/drivers/net/wireless/mediatek/mt76/debugfs.c", "flags": ["CLEANUP", "SPDX", "LICENSE-UPDATE", "NO-FUNCTIONAL-CHANGE"], "link": "https://lore.kernel.org/linux-kernel/0e3d677750fbee9e5e5dbace091870e7386e553d"}
{"commit_hash": "ff97c52a3a0a552e5c77653a147c377d4b676426", "short_hash": "ff97c52a3a0a", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-24T16:58:18+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:31+02:00", "subject": "mt76: mt76x02: fix some checkpatch warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76/"], "subsystem_tier": 8, "files_changed": 18, "insertions": 114, "deletions": 100, "hunks": 114, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 5, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code volume: 214 lines changed across 18 files in mt76 wireless driver subsystem (tier 8). This is a pure cleanup commit fixing checkpatch warnings - no functional changes, no bug fixes, no new features. Category base: MAINT-CLEANUP (4). Review chain: Author from MediaTek, maintainer Felix Fietkau committed - good collaboration (4). Message quality: Excellent - clearly lists all checkpatch warnings fixed (4). Atomicity: Single purpose cleanup (3). Low user impact (1) as no functional changes. Cross-org: No (0). Maintainer endorsement: Maintainer signed off (2). Total technical score: 10/40, impact: 5/30, quality: 11/20, community: 2/10.", "code_snippet": "@@ -359,11 +360,12 @@ mt76x0_phy_set_chan_rf_params(struct mt76x02_dev *dev, u8 channel, u16 rf_bw_ban\n \n \tband = (rf_band & RF_G_BAND) ? NL80211_BAND_2GHZ : NL80211_BAND_5GHZ;\n \tif (mt76x02_ext_pa_enabled(dev, band)) {\n-\t\t/*\n-\t\t\tMT_RF_MISC (offset: 0x0518)\n-\t\t\t[2]1'b1: enable external A band PA, 1'b0: disable external A band PA\n-\t\t\t[3]1'b1: enable external G band PA, 1'b0: disable external G band PA\n-\t\t*/\n+\t\t/* MT_RF_MISC (offset: 0x0518)\n+\t\t * [2]1'b1: enable external A band PA\n+\t\t *    1'b0: disable external A band PA\n+\t\t * [3]1'b1: enable external G band PA\n+\t\t *    1'b0: disable external G band PA\n+\t\t */\n \t\tif (rf_band & RF_A_BAND)\n \t\t\tmt76_set(dev, MT_RF_MISC, BIT(2));\n \t\telse", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff97c52a3a0a552e5c77653a147c377d4b676426"}
{"commit_hash": "0dacf9d3abf55b1289137981ecd59bbb1d8815c3", "short_hash": "0dacf9d3abf5", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-24T16:58:17+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:31+02:00", "subject": "mt76: mt7615: fix some checkpatch warnings", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 3, "insertions": 3, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial checkpatch warning fixes. Small changes (3 insertions, 5 deletions) fixing SPDX comment style and blank lines in MediaTek mt7615 wireless driver. Low subsystem tier (driver-specific). Maintainer (Felix Fietkau) signed off. No functional changes, no user impact, no stable CC.", "code_snippet": "@@ -819,8 +818,9 @@ static bool mt7615_fill_txs(struct mt7615_dev *dev, struct mt7615_sta *sta,\n \t\t\tsta->rate_probe = false;\n \t\t}\n \t\tspin_unlock_bh(&dev->mt76.lock);\n-\t} else\n+\t} else {\n \t\tinfo->status.rates[0] = rs->rates[first_idx / 2];\n+\t}\n \tinfo->status.rates[0].count = 0;\n \n \tfor (i = 0, idx = first_idx; count && idx <= last_idx; idx++) {\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\nindex c1f71213ef07..51554af5aa2d 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0dacf9d3abf55b1289137981ecd59bbb1d8815c3"}
{"commit_hash": "13381dcdb3acad453718c2383da3745f99088de7", "short_hash": "13381dcdb3ac", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-21T11:11:15+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T17:42:32+02:00", "subject": "mt76: fix some checkpatch warnings", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless"], "subsystem_tier": 9, "files_changed": 10, "insertions": 70, "deletions": 63, "hunks": 70, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial checkpatch whitespace/coding style fix - no functional changes, removes space after casts and fixes alignment. Cross-org contribution (MediaTek author, nbd maintainer signoff). Good commit message explaining the checkpatch warnings being fixed.", "code_snippet": "@@ -63,15 +64,14 @@ mt76_rx_aggr_check_release(struct mt76_rx_tid *tid, struct sk_buff_head *frames)\n \tfor (idx = (tid->head + 1) % tid->size;\n \t     idx != start && nframes;\n \t     idx = (idx + 1) % tid->size) {\n-\n \t\tskb = tid->reorder_buf[idx];\n \t\tif (!skb)\n \t\t\tcontinue;\n \n \t\tnframes--;\n-\t\tstatus = (struct mt76_rx_status *) skb->cb;\n-\t\tif (!time_after(jiffies, status->reorder_time +\n-\t\t\t\t\t REORDER_TIMEOUT))\n+\t\tstatus = (struct mt76_rx_status *)skb->cb;\n+\t\tif (!time_after(jiffies,\n+\t\t\t\tstatus->reorder_time + REORDER_TIMEOUT))\n \t\t\tcontinue;\n \n \t\tmt76_rx_aggr_release_frames(tid, frames, status->seqno);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/13381dcdb3acad453718c2383da3745f99088de7"}
{"commit_hash": "4c49c099472c2430c5bf83a26410460dac1b03e5", "short_hash": "4c49c099472c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T21:44:45+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-09-05T18:14:13+02:00", "subject": "mt76: mt7603: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-MODERNIZE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 6, "score_impact": 5, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Low code volume (1 insertion, 2 deletions). Wireless driver subsystem (tier 5). Proper sign-off chain from author through maintainer. Clean commit message with Reported-by tag. No functional changes.", "code_snippet": "@@ -9,7 +9,6 @@\n static int\n mt76_wmac_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tstruct mt7603_dev *dev;\n \tvoid __iomem *mem_base;\n \tstruct mt76_dev *mdev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c49c099472c2430c5bf83a26410460dac1b03e5"}
{"commit_hash": "f4df4e4042b045c6ddbaff878a17ae169fe68ba6", "short_hash": "f4df4e4042b0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T14:44:00+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-05T18:18:25+01:00", "subject": "ASoC: SOF: imx8: Fix COMPILE_TEST error", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "202acc565a1f", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sof/imx"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Daniel Baluta <daniel.baluta@nxp.com> (NXP)", "Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 7, "score_impact": 8, "score_quality": 13, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Kconfig dependency fix for COMPILE_TEST build error in sound/soc/sof/imx. Small change (3 lines) with clear build error documentation, fixes tag, 2 reviewers (Daniel Baluta @nxp.com, Pierre-Louis Bossart @intel.com indicating cross-org review), and proper commit message structure.", "code_snippet": "@@ -2,7 +2,8 @@\n \n config SND_SOC_SOF_IMX_TOPLEVEL\n \tbool \"SOF support for NXP i.MX audio DSPs\"\n-\tdepends on ARM64 && SND_SOC_SOF_OF || COMPILE_TEST\n+\tdepends on ARM64|| COMPILE_TEST\n+\tdepends on SND_SOC_SOF_OF\n \thelp\n           This adds support for Sound Open Firmware for NXP i.MX platforms.\n           Say Y if you have such a device.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4df4e4042b045c6ddbaff878a17ae169fe68ba6"}
{"commit_hash": "a0ce1fd11e587be803eb2f299d478c962df3706f", "short_hash": "a0ce1fd11e58", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T15:24:36+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-05T18:19:45+01:00", "subject": "spi: npcm-fiu: remove set but not used variable 'retlen'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in SPI driver. Minimal code impact (3 deletions), low subsystem tier (drivers/spi), no functional change. Cross-org contribution from Huawei to maintainer Mark Brown. Well-documented with compiler warning reference and proper link tag.", "code_snippet": "@@ -469,7 +469,6 @@ static int npcm_fiu_read(struct spi_mem *mem, const struct spi_mem_op *op)\n {\n \tu8 *data = op->data.buf.in;\n \tint i, readlen, currlen;\n-\tsize_t retlen = 0;\n \tu8 *buf_ptr;\n \tu32 addr;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0ce1fd11e587be803eb2f299d478c962df3706f"}
{"commit_hash": "ca7ce5a2710ad2a57bf7d0c4c712590bb69a5e1c", "short_hash": "ca7ce5a2710a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T11:30:06+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-06T10:10:28+02:00", "subject": "coccinelle: platform_get_irq: Fix parse error", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "98051ba2b28b", "cc_stable": false, "subsystem_prefix": "scripts", "subsystems_touched": ["scripts/coccinelle/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Stephen Boyd <swboyd@chromium.org> (Chromium)"], "tested_by": [], "acked_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)"], "reported_by": []}, "score_total": 28, "score_technical": 3, "score_impact": 2, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Fixes Coccinelle script parse error affecting coccicheck. Low impact as only affects developer tooling, not runtime. Fixes incorrect regex pattern \\( < \\| <= \\) to proper form \\( ret < 0 \\| ret <= 0 \\). Strong review chain with Reviewed-by and Acked-by from relevant maintainers.", "code_snippet": "@@ -21,7 +21,7 @@ platform_get_irq\n platform_get_irq_byname\n )(E, ...);\n \n-if ( ret \\( < \\| <= \\) 0 )\n+if ( \\( ret < 0 \\| ret <= 0 \\) )\n {\n (\n if (ret != -EPROBE_DEFER)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca7ce5a2710ad2a57bf7d0c4c712590bb69a5e1c"}
{"commit_hash": "e03a47deaff424976fe9f6e1f1550f321a6dda75", "short_hash": "e03a47deaff4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T21:53:41+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-06T10:26:32-07:00", "subject": "clk: st: clkgen-fsyn: remove unused variable 'st_quadfs_fs660c32_ops'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/st/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Gabriel Fernandez <gabriel.fernandez@st.com> (STMicroelectronics)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable declaration. Low complexity (1 line), low-tier subsystem (clk), no functional impact. Good review chain with maintainer Acked-by. Clear commit message with warning context.", "code_snippet": "@@ -67,7 +67,6 @@ struct clkgen_quadfs_data {\n };\n \n static const struct clk_ops st_quadfs_pll_c32_ops;\n-static const struct clk_ops st_quadfs_fs660c32_ops;\n \n static int clk_fs660c32_dig_get_params(unsigned long input,\n \t\tunsigned long output, struct stm_fs *fs);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e03a47deaff424976fe9f6e1f1550f321a6dda75"}
{"commit_hash": "8863a5bf689adbf676702cd291f53a86f5a4e1ad", "short_hash": "8863a5bf689a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-16T21:55:23+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-06T10:26:58-07:00", "subject": "clk: st: clkgen-pll: remove unused variable 'st_pll3200c32_407_a0'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk", "subsystems_touched": ["drivers/clk/st"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Gabriel Fernandez <gabriel.fernandez@st.com> (STMicroelectronics)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused const variable reported by compiler warning. Acked by subsystem maintainer. No functional change, low impact.", "code_snippet": "@@ -61,19 +61,6 @@ static const struct clk_ops stm_pll3200c32_ops;\n static const struct clk_ops stm_pll3200c32_a9_ops;\n static const struct clk_ops stm_pll4600c28_ops;\n \n-static const struct clkgen_pll_data st_pll3200c32_407_a0 = {\n-\t/* 407 A0 */\n-\t.pdn_status\t= CLKGEN_FIELD(0x2a0,\t0x1,\t\t\t8),\n-\t.pdn_ctrl\t= CLKGEN_FIELD(0x2a0,\t0x1,\t\t\t8),\n-\t.locked_status\t= CLKGEN_FIELD(0x2a0,\t0x1,\t\t\t24),\n-\t.ndiv\t\t= CLKGEN_FIELD(0x2a4,\tC32_NDIV_MASK,\t\t16),\n-\t.idf\t\t= CLKGEN_FIELD(0x2a4,\tC32_IDF_MASK,\t\t0x0),\n-\t.num_odfs = 1,\n-\t.odf\t\t= { CLKGEN_FIELD(0x2b4, C32_ODF_MASK,\t\t0) },\n-\t.odf_gate\t= { CLKGEN_FIELD(0x2b4,\t0x1,\t\t\t6) },\n-\t.ops\t\t= &stm_pll3200c32_ops,\n-};\n-\n static const struct clkgen_pll_data st_pll3200c32_cx_0 = {\n \t/* 407 C0 PLL0 */\n \t.pdn_status\t= CLKGEN_FIELD(0x2a0,\t0x1,\t\t\t8),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8863a5bf689adbf676702cd291f53a86f5a4e1ad"}
{"commit_hash": "e9d3c866bf4cdbb6637e6cb268c26dfdf06d8cd3", "short_hash": "e9d3c866bf4c", "author_name": "Fam Zheng", "author_email": "zhengfeiran@bytedance.com", "author_company": "ByteDance", "author_date": "2019-08-28T11:54:51+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-06T14:33:48-06:00", "subject": "bfq: Fix the missing barrier in __bfq_entity_update_weight_prio", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Fam Zheng <zhengfeiran@bytedance.com> (ByteDance)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Paolo Valente <paolo.valente@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 15, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory barrier fix in BFQ I/O scheduler - missing smp_rmb() could cause race condition in weight/priority updates. Small change (2 lines) in critical block subsystem. Proper Reviewed-by tag from maintainer, clear commit message explaining barrier pairing.", "code_snippet": "@@ -744,6 +744,8 @@ __bfq_entity_update_weight_prio(struct bfq_service_tree *old_st,\n \t\t}\n #endif\n \n+\t\t/* Matches the smp_wmb() in bfq_group_set_weight. */\n+\t\tsmp_rmb();\n \t\told_st->wsum -= entity->weight;\n \n \t\tif (entity->new_weight != entity->orig_weight) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9d3c866bf4cdbb6637e6cb268c26dfdf06d8cd3"}
{"commit_hash": "5ff047e32812f57c13389c4a9cdb1427620b3a6f", "short_hash": "5ff047e32812", "author_name": "Fam Zheng", "author_email": "zhengfeiran@bytedance.com", "author_company": "ByteDance", "author_date": "2019-08-28T11:54:52+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-06T14:33:50-06:00", "subject": "bfq: Extract bfq_group_set_weight from bfq_io_set_weight_legacy", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/bfq-cgroup.c"], "subsystem_tier": 7, "files_changed": 1, "insertions": 32, "deletions": 28, "hunks": 4, "review_chain": {"signed_off_by": ["Fam Zheng <zhengfeiran@bytedance.com> (ByteDance)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Paolo Valente <paolo.valente@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 5, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring extracting bfq_group_set_weight function for future per-device interface. 32 insertions, 28 deletions in single file. BFQ block I/O subsystem (tier 7). Reviewed by maintainer Paolo Valente and signed by block maintainer Jens Axboe. Clean atomic extraction with proper memory barrier comments preserved.", "code_snippet": "@@ -919,6 +919,36 @@ static int bfq_io_show_weight(struct seq_file *sf, void *v)\n \treturn 0;\n }\n \n+static void bfq_group_set_weight(struct bfq_group *bfqg, u64 weight)\n+{\n+\t/*\n+\t * Setting the prio_changed flag of the entity\n+\t * to 1 with new_weight == weight would re-set\n+\t * the value of the weight to its ioprio mapping.\n+\t * Set the flag only if necessary.\n+\t */\n+\tif ((unsigned short)weight != bfqg->entity.new_weight) {\n+\t\tbfqg->entity.new_weight = (unsigned short)weight;\n+\t\t/*\n+\t\t * Make sure that the above new value has been\n+\t\t * stored in bfqg->entity.new_weight before\n+\t\t * setting the prio_changed flag. In fact,\n+\t\t * this flag may be read asynchronously (in\n+\t\t * critical sections protected by a different", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ff047e32812f57c13389c4a9cdb1427620b3a6f"}
{"commit_hash": "795fe54c2a828099e461e8c36b04210b2df462ed", "short_hash": "795fe54c2a82", "author_name": "Fam Zheng", "author_email": "zhengfeiran@bytedance.com", "author_company": "ByteDance", "author_date": "2019-08-28T11:54:53+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-06T14:33:52-06:00", "subject": "bfq: Add per-device weight", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 8, "files_changed": 2, "insertions": 87, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["Fam Zheng <zhengfeiran@bytedance.com> (ByteDance)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Paolo Valente <paolo.valente@linaro.org> (Linaro)"], "tested_by": [], "acked_by": ["Tejun Heo <tj@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 56, "score_technical": 14, "score_impact": 16, "score_quality": 19, "score_community": 7, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Feature addition to BFQ I/O scheduler adding per-device weight interfaces for cgroups v1 and v2. Code volume is moderate (87 insertions, 11 deletions). Block subsystem is tier-2 criticality. Good review chain with Signed-off-by, Acked-by, and Reviewed-by tags including maintainer Jens Axboe. Comprehensive commit message with detailed test results showing cgroup v1 and v2 validation. Cross-org contribution from Bytedance with community maintainer endorsement.", "code_snippet": "@@ -905,7 +905,7 @@ void bfq_end_wr_async(struct bfq_data *bfqd)\n \tbfq_end_wr_async_queues(bfqd, bfqd->root_group);\n }\n \n-static int bfq_io_show_weight(struct seq_file *sf, void *v)\n+static int bfq_io_show_weight_legacy(struct seq_file *sf, void *v)\n {\n \tstruct blkcg *blkcg = css_to_blkcg(seq_css(sf));\n \tstruct bfq_group_data *bfqgd = blkcg_to_bfqgd(blkcg);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/795fe54c2a828099e461e8c36b04210b2df462ed"}
{"commit_hash": "47e25277693c566c47678ac3ea1929a854071e09", "short_hash": "47e25277693c", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:46:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T14:58:21+02:00", "subject": "nfp: Drop unnecessary continue in nfp_net_pf_alloc_vnics", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/netronome/nfp"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup removing unnecessary continue statement. Network driver subsystem (tier 7). Signed off by maintainer David S. Miller. Atomic change with clear justification.", "code_snippet": "@@ -205,10 +205,8 @@ nfp_net_pf_alloc_vnics(struct nfp_pf *pf, void __iomem *ctrl_bar,\n \t\tctrl_bar += NFP_PF_CSR_SLICE_SIZE;\n \n \t\t/* Kill the vNIC if app init marked it as invalid */\n-\t\tif (nn->port && nn->port->type == NFP_PORT_INVALID) {\n+\t\tif (nn->port && nn->port->type == NFP_PORT_INVALID)\n \t\t\tnfp_net_pf_free_vnic(pf, nn);\n-\t\t\tcontinue;\n-\t\t}\n \t}\n \n \tif (list_empty(&pf->vnics))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/47e25277693c566c47678ac3ea1929a854071e09"}
{"commit_hash": "1483fa4946435d6b7cac53096922fa85f9886647", "short_hash": "1483fa494643", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:34+02:00", "subject": "net: hns3: remove explicit conversion to bool", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup removing redundant ternary operator in favor of direct boolean evaluation. Minimal code change (1 line, net -2 lines). Limited to Hisilicon hns3 driver. Good review chain with 3 Signed-off-bys including maintainer David S. Miller. Low impact cleanup.", "code_snippet": "@@ -6174,7 +6174,7 @@ static void hclge_enable_fd(struct hnae3_handle *handle, bool enable)\n \tbool clear;\n \n \thdev->fd_en = enable;\n-\tclear = hdev->fd_active_type == HCLGE_FD_ARFS_ACTIVE ? true : false;\n+\tclear = hdev->fd_active_type == HCLGE_FD_ARFS_ACTIVE;\n \tif (!enable)\n \t\thclge_del_all_fd_entries(handle, clear);\n \telse\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1483fa4946435d6b7cac53096922fa85f9886647"}
{"commit_hash": "b7cf22b74a3f58933d652237503f4e53fb3791f9", "short_hash": "b7cf22b74a3f", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:34+02:00", "subject": "net: hns3: add client node validity judgment", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 16, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 11, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "BUG-CRASH: Prevents potential crash from unregistering non-existent client. Adds validity check before client unregistration in HNS3 driver. 16 insertions, driver-specific code. David S. Miller (networking maintainer) applied.", "code_snippet": "@@ -138,12 +138,28 @@ EXPORT_SYMBOL(hnae3_register_client);\n \n void hnae3_unregister_client(struct hnae3_client *client)\n {\n+\tstruct hnae3_client *client_tmp;\n \tstruct hnae3_ae_dev *ae_dev;\n+\tbool existed = false;\n \n \tif (!client)\n \t\treturn;\n \n \tmutex_lock(&hnae3_common_lock);\n+\n+\tlist_for_each_entry(client_tmp, &hnae3_client_list, node) {\n+\t\tif (client_tmp->type == client->type) {\n+\t\t\texisted = true;\n+\t\t\tbreak;\n+\t\t}\n+\t}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7cf22b74a3f58933d652237503f4e53fb3791f9"}
{"commit_hash": "525a294e6080a6d99722e58419a6830754b57ff3", "short_hash": "525a294e6080", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:34+02:00", "subject": "net: hns3: fix mis-assignment to hdev->reset_level in hclge_reset", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "012fcb52f67c", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/", "drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 5, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 13, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a regression fix for the hns3 Ethernet driver. The commit fixes a bug where hdev->reset_level was incorrectly assigned with a return value that could be HNAE3_NONE_RESET, causing errors in hclge_reset_event. The fix introduces a local variable to hold the reset level and only updates hdev->reset_request when a valid reset is needed. Code changes are minimal (9 lines changed), targeting a specific hardware driver. The commit includes a Fixes tag, has gone through proper maintainer review (signed off by both author and net maintainer David S. Miller), and addresses a clear functional bug.", "code_snippet": "@@ -3619,6 +3619,7 @@ static int hclge_reset_stack(struct hclge_dev *hdev)\n static void hclge_reset(struct hclge_dev *hdev)\n {\n \tstruct hnae3_ae_dev *ae_dev = pci_get_drvdata(hdev->pdev);\n+\tenum hnae3_reset_type reset_level;\n \tint ret;\n \n \t/* Initialize ae_dev reset status as well, in case enet layer wants to", "flags": [], "link": "https://lore.kernel.org/linux-kernel/525a294e6080a6d99722e58419a6830754b57ff3"}
{"commit_hash": "323a2ac52227c20f3387ea1cd16c04a844cd1ea1", "short_hash": "323a2ac52227", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:34+02:00", "subject": "net: hns3: fix double free bug when setting ringparam", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "a723fb8efe29", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 13, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical network driver bug causing kernel panic on double-free. High subsystem tier (10), user-triggerable via ethtool, detailed commit with crash dump and fixes tag. Code volume minimal (3 lines added, 1 modified) but impact severe.", "code_snippet": "@@ -908,9 +908,11 @@ static struct hns3_enet_ring *hns3_backup_ringparam(struct hns3_nic_priv *priv)\n \tif (!tmp_rings)\n \t\treturn NULL;\n \n-\tfor (i = 0; i < handle->kinfo.num_tqps * 2; i++)\n+\tfor (i = 0; i < handle->kinfo.num_tqps * 2; i++) {\n \t\tmemcpy(&tmp_rings[i], priv->ring_data[i].ring,\n \t\t       sizeof(struct hns3_enet_ring));\n+\t\ttmp_rings[i].skb = NULL;\n+\t}\n \n \treturn tmp_rings;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/323a2ac52227c20f3387ea1cd16c04a844cd1ea1"}
{"commit_hash": "d9c0f2756a33833b2653f7a3612814fa5f52a568", "short_hash": "d9c0f2756a33", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:34+02:00", "subject": "net: hns3: fix error VF index when setting VLAN offload", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "052ece6dc19c", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 10, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 17, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect VF index calculation in VLAN offload configuration. The original code caused bitmap corruption when VF ID > 8, setting incorrect bits. Clean, atomic fix targeting specific functions with proper Fixes tag. Good commit message explaining the issue and solution. Multi-level review chain (author -> co-developer -> maintainer).", "code_snippet": "@@ -7713,8 +7714,10 @@ static int hclge_set_vlan_tx_offload_cfg(struct hclge_vport *vport)\n \thnae3_set_bit(req->vport_vlan_cfg, HCLGE_CFG_NIC_ROCE_SEL_B, 0);\n \n \treq->vf_offset = vport->vport_id / HCLGE_VF_NUM_PER_CMD;\n-\treq->vf_bitmap[req->vf_offset] =\n-\t\t1 << (vport->vport_id % HCLGE_VF_NUM_PER_BYTE);\n+\tbmap_index = vport->vport_id % HCLGE_VF_NUM_PER_CMD /\n+\t\t\tHCLGE_VF_NUM_PER_BYTE;\n+\treq->vf_bitmap[bmap_index] =\n+\t\t1U << (vport->vport_id % HCLGE_VF_NUM_PER_BYTE);\n \n \tstatus = hclge_cmd_send(&hdev->hw, &desc, 1);\n \tif (status)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9c0f2756a33833b2653f7a3612814fa5f52a568"}
{"commit_hash": "91f8ff09ada1df21d07acee5ef526c436d9cd8e4", "short_hash": "91f8ff09ada1", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:35+02:00", "subject": "net: hns3: make hclge_dbg_get_m7_stats_info static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup change making a debugfs function static since it's only used within its own file. Minimal code impact (1 line changed) in a vendor-specific network driver (Hisilicon HNS3). Proper review chain with author and maintainer sign-offs, clean commit message explaining the change.", "code_snippet": "@@ -949,7 +949,7 @@ static void hclge_dbg_dump_rst_info(struct hclge_dev *hdev)\n \t\t hdev->rst_stats.reset_cnt);\n }\n \n-void hclge_dbg_get_m7_stats_info(struct hclge_dev *hdev)\n+static void hclge_dbg_get_m7_stats_info(struct hclge_dev *hdev)\n {\n \tstruct hclge_desc *desc_src, *desc_tmp;\n \tstruct hclge_get_m7_bd_cmd *req;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/91f8ff09ada1df21d07acee5ef526c436d9cd8e4"}
{"commit_hash": "1cbc662dd847ea4d6e934002757d3e00449013f4", "short_hash": "1cbc662dd847", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T21:31:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:20:35+02:00", "subject": "net: hns3: disable loopback setting in hclge_mac_init", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 33, "deletions": 1, "hunks": 10, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for Hisilicon HNS3 network driver where loopback setting could remain enabled after reset, preventing packet transmission. Fix adds default loopback disable in hclge_mac_init. Proper review chain with Huawei maintainer and net maintainer David S. Miller sign-offs.", "code_snippet": "@@ -6392,6 +6397,17 @@ static int hclge_set_serdes_loopback(struct hclge_dev *hdev, bool en,\n \t\tdev_err(&hdev->pdev->dev, \"serdes loopback set failed in fw\\n\");\n \t\treturn -EIO;\n \t}\n+\treturn ret;\n+}\n+\n+static int hclge_set_serdes_loopback(struct hclge_dev *hdev, bool en,\n+\t\t\t\t     enum hnae3_loop loop_mode)\n+{\n+\tint ret;\n+\n+\tret = hclge_cfg_serdes_loopback(hdev, en, loop_mode);\n+\tif (ret)\n+\t\treturn ret;\n \n \thclge_cfg_mac_mode(hdev, en);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1cbc662dd847ea4d6e934002757d3e00449013f4"}
{"commit_hash": "64827a6ac04993c42aae7c3fed4c3b74c14da693", "short_hash": "64827a6ac049", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T15:57:10+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-06T17:09:37+03:00", "subject": "hostap: remove set but not used variable 'copied' in prism2_io_debug_proc_read", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variable 'copied' in wireless driver proc file. Simple cleanup with 1 insertion, 2 deletions. Cross-org contribution from Huawei to maintainer Kalle Valo. Clean commit message with proper sign-offs.", "code_snippet": "@@ -234,7 +234,7 @@ static int prism2_io_debug_proc_read(char *page, char **start, off_t off,\n {\n \tlocal_info_t *local = (local_info_t *) data;\n \tint head = local->io_debug_head;\n-\tint start_bytes, left, copy, copied;\n+\tint start_bytes, left, copy;\n \n \tif (off + count > PRISM2_IO_DEBUG_SIZE * 4) {\n \t\t*eof = 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64827a6ac04993c42aae7c3fed4c3b74c14da693"}
{"commit_hash": "eb9affaeff701ce90fcf476ff5332624f9d0ddd2", "short_hash": "eb9affaeff70", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:16:01Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-06T17:10:33+03:00", "subject": "rtw88: fix seq_file memory leak", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e3037485c68e", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 13, "score_impact": 11, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in rtw88 wireless driver. Single-line change replacing seq_release with single_release to match single_open usage. Fixes tag present with commit reference. Cross-org contribution from Huawei to Qualcom-maintained subsystem. Well-documented with Coccinelle detection attribution. Network subsystem tier 10.", "code_snippet": "@@ -77,7 +77,7 @@ static const struct file_operations file_ops_single_r = {\n \t.open = rtw_debugfs_single_open_rw,\n \t.read = seq_read,\n \t.llseek = seq_lseek,\n-\t.release = seq_release,\n+\t.release = single_release,\n };\n \n static const struct file_operations file_ops_single_rw = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb9affaeff701ce90fcf476ff5332624f9d0ddd2"}
{"commit_hash": "4c3e48794dec7cb568974ba3bf2ab62b9c45ca3e", "short_hash": "4c3e48794dec", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:16:11Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-06T17:11:36+03:00", "subject": "rtlwifi: Fix file release memory leak", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "610247f46feb", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 13, "score_impact": 17, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in wireless driver debugfs code. Single line change from seq_release to single_release to match single_open usage. Network subsystem is tier-10 critical. Proper Fixes tag and detection via Coccinelle semantic patch. Cross-org contribution from Huawei to maintainer Kalle Valo.", "code_snippet": "@@ -88,7 +88,7 @@ static const struct file_operations file_ops_common = {\n \t.open = dl_debug_open_common,\n \t.read = seq_read,\n \t.llseek = seq_lseek,\n-\t.release = seq_release,\n+\t.release = single_release,\n };\n \n static int rtl_debug_get_mac_page(struct seq_file *m, void *v)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c3e48794dec7cb568974ba3bf2ab62b9c45ca3e"}
{"commit_hash": "5f57704dbcfe8ed718fc7cef0b1699c3aad7739c", "short_hash": "5f57704dbcfe", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-31T12:44:24Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-07T16:39:30-04:00", "subject": "scsi: ufs: Use kmemdup in ufshcd_read_string_desc()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tomas Winkler <tomas.winkler@intel.com> (Intel)"], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing kzalloc+memcpy with kmemdup helper function in UFS driver. Low code volume (-1/+2), well-reviewed with Acked-by, good commit message with link. No user impact, no stable CC, single subsystem (SCSI/UFS tier 5).", "code_snippet": "@@ -3309,12 +3309,11 @@ int ufshcd_read_string_desc(struct ufs_hba *hba, u8 desc_index,\n \t\tstr[ret++] = '\\0';\n \n \t} else {\n-\t\tstr = kzalloc(uc_str->len, GFP_KERNEL);\n+\t\tstr = kmemdup(uc_str, uc_str->len, GFP_KERNEL);\n \t\tif (!str) {\n \t\t\tret = -ENOMEM;\n \t\t\tgoto out;\n \t\t}\n-\t\tmemcpy(str, uc_str, uc_str->len);\n \t\tret = uc_str->len;\n \t}\n out:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f57704dbcfe8ed718fc7cef0b1699c3aad7739c"}
{"commit_hash": "c0c1a71e9542e6b0b58642332eb86fd32c9b2ed8", "short_hash": "c0c1a71e9542", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:02:56+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-07T16:40:56-04:00", "subject": "scsi: hisi_sas: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource wrapper. Acked by maintainer, low code volume (-1/+2 lines), no user impact or stable consideration.", "code_snippet": "@@ -2579,8 +2579,7 @@ static struct Scsi_Host *hisi_sas_shost_alloc(struct platform_device *pdev,\n \t\tgoto err_out;\n \t}\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\thisi_hba->regs = devm_ioremap_resource(dev, res);\n+\thisi_hba->regs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(hisi_hba->regs))\n \t\tgoto err_out;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c0c1a71e9542e6b0b58642332eb86fd32c9b2ed8"}
{"commit_hash": "0b27555166241cb54e203f82bb98ebea2286fe9e", "short_hash": "0b2755516624", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:03:48+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-07T16:42:07-04:00", "subject": "scsi: ufshcd: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 8, "score_impact": 7, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Modernization cleanup replacing platform_get_resource+devm_ioremap_resource with devm_platform_ioremap_resource wrapper. Reduces code by 2 lines (1 insertion, 3 deletions). Single subsystem (SCSI UFS). Low functional impact - pure refactoring. Strong review chain with Reviewed-by tag. Cross-org contribution (Huawei to Oracle maintainer). Code quality is high with proper testing implied by existing codebase usage.", "code_snippet": "@@ -391,12 +391,10 @@ int ufshcd_pltfrm_init(struct platform_device *pdev,\n {\n \tstruct ufs_hba *hba;\n \tvoid __iomem *mmio_base;\n-\tstruct resource *mem_res;\n \tint irq, err;\n \tstruct device *dev = &pdev->dev;\n \n-\tmem_res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tmmio_base = devm_ioremap_resource(dev, mem_res);\n+\tmmio_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(mmio_base)) {\n \t\terr = PTR_ERR(mmio_base);\n \t\tgoto out;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b27555166241cb54e203f82bb98ebea2286fe9e"}
{"commit_hash": "7ce5eed0998c0b2884329a06f29d0251079fca62", "short_hash": "7ce5eed0998c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T21:04:57+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-07T16:43:05-04:00", "subject": "scsi: ufs-hisi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org> (Linaro)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Trivial cleanup commit replacing manual resource handling with devm_platform_ioremap_resource() helper. Very small change (1 insertion, 3 deletions) in a specific driver subsystem (UFS HISI). Has good review chain (Reviewed-by, Acked-by) and cross-org contribution from Huawei. No user impact, no stable marking, low complexity maintenance change.", "code_snippet": "@@ -447,13 +447,11 @@ static int ufs_hisi_resume(struct ufs_hba *hba, enum ufs_pm_op pm_op)\n \n static int ufs_hisi_get_resource(struct ufs_hisi_host *host)\n {\n-\tstruct resource *mem_res;\n \tstruct device *dev = host->hba->dev;\n \tstruct platform_device *pdev = to_platform_device(dev);\n \n \t/* get resource of ufs sys ctrl */\n-\tmem_res = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n-\thost->ufs_sys_ctrl = devm_ioremap_resource(dev, mem_res);\n+\thost->ufs_sys_ctrl = devm_platform_ioremap_resource(pdev, 1);\n \tif (IS_ERR(host->ufs_sys_ctrl))\n \t\treturn PTR_ERR(host->ufs_sys_ctrl);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7ce5eed0998c0b2884329a06f29d0251079fca62"}
{"commit_hash": "9b789f476eca4b95f9cc7dc7926a30ad12f17017", "short_hash": "9b789f476eca", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T23:53:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-07T17:17:02+02:00", "subject": "ethernet: micrel: Use DIV_ROUND_CLOSEST directly to make it readable", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing manual division rounding with kernel macro DIV_ROUND_CLOSEST for readability. Single line change in ethernet driver (non-critical subsystem). Cross-org contribution from Huawei to networking maintainer David S. Miller. Low technical complexity and impact.", "code_snippet": "@@ -2166,7 +2166,7 @@ static void sw_get_broad_storm(struct ksz_hw *hw, u8 *percent)\n \tnum = (data & BROADCAST_STORM_RATE_HI);\n \tnum <<= 8;\n \tnum |= (data & BROADCAST_STORM_RATE_LO) >> 8;\n-\tnum = (num * 100 + BROADCAST_STORM_VALUE / 2) / BROADCAST_STORM_VALUE;\n+\tnum = DIV_ROUND_CLOSEST(num * 100, BROADCAST_STORM_VALUE);\n \t*percent = (u8) num;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b789f476eca4b95f9cc7dc7926a30ad12f17017"}
{"commit_hash": "52d565404647ca5924c49d87c46cb2bd66f5562b", "short_hash": "52d565404647", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T09:54:09Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-07T18:01:14+02:00", "subject": "ionic: Remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Shannon Nelson <snelson@pensando.io> (Pensando)"], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 2, "score_quality": 9, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused header include. Single line deletion in network driver. Cross-org contribution (Huawei to Pensando driver). Acked by subsystem maintainer.", "code_snippet": "@@ -2,7 +2,6 @@\n /* Copyright(c) 2017 - 2019 Pensando Systems, Inc */\n \n #include <linux/module.h>\n-#include <linux/version.h>\n #include <linux/netdevice.h>\n #include <linux/utsname.h>\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/52d565404647ca5924c49d87c46cb2bd66f5562b"}
{"commit_hash": "85b18fe7049466cb15e7d33b51aa51854e0e05e7", "short_hash": "85b18fe70494", "author_name": "mtk01761", "author_email": "wendell.lin@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:40+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-09T09:37:29-07:00", "subject": "clk: mediatek: Add dt-bindings for MT6779 clocks", "primary_category": "FEAT-DRIVER", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/", "dt-bindings/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 436, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["mtk01761 <wendell.lin@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 11, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 1, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New device tree bindings for MediaTek MT6779 clock support. Adds 436 lines of clock definitions for a new SoC. Properly reviewed by DT maintainer Rob Herring and merged by clk maintainer Stephen Boyd. This is enabling infrastructure for new hardware support with moderate technical significance.", "code_snippet": "@@ -0,0 +1,436 @@\n+/* SPDX-License-Identifier: GPL-2.0 */\n+/*\n+ * Copyright (c) 2019 MediaTek Inc.\n+ * Author: Wendell Lin <wendell.lin@mediatek.com>\n+ */\n+\n+#ifndef _DT_BINDINGS_CLK_MT6779_H\n+#define _DT_BINDINGS_CLK_MT6779_H\n+\n+/* TOPCKGEN */\n+#define CLK_TOP_AXI\t\t\t1\n+#define CLK_TOP_MM\t\t\t2\n+#define CLK_TOP_CAM\t\t\t3\n+#define CLK_TOP_MFG\t\t\t4\n+#define CLK_TOP_CAMTG\t\t\t5\n+#define CLK_TOP_UART\t\t\t6\n+#define CLK_TOP_SPI\t\t\t7\n+#define CLK_TOP_MSDC50_0_HCLK\t\t8\n+#define CLK_TOP_MSDC50_0\t\t9", "flags": [], "link": "https://lore.kernel.org/linux-kernel/85b18fe7049466cb15e7d33b51aa51854e0e05e7"}
{"commit_hash": "171f68a3b27aa76d42c566bc869c829671497f5e", "short_hash": "171f68a3b27a", "author_name": "mtk01761", "author_email": "wendell.lin@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:39+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-09T09:37:29-07:00", "subject": "dt-bindings: mediatek: bindings for MT6779 clk", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/arm/mediatek/"], "subsystem_tier": 4, "files_changed": 11, "insertions": 32, "deletions": 0, "hunks": 22, "review_chain": {"signed_off_by": ["mtk01761 <wendell.lin@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 5, "score_impact": 8, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Documentation-only commit adding devicetree bindings for MediaTek MT6779 clock controllers. Reviewed-by Rob Herring (DT maintainer). 11 files added/modified with 32 insertions total. Adds support for new SoC to existing binding documents. Well-reviewed with proper maintainer sign-offs.", "code_snippet": "@@ -9,6 +9,7 @@ Required Properties:\n - compatible: Should be one of:\n \t- \"mediatek,mt2701-infracfg\", \"syscon\"\n \t- \"mediatek,mt2712-infracfg\", \"syscon\"\n+\t- \"mediatek,mt6779-infracfg_ao\", \"syscon\"\n \t- \"mediatek,mt6797-infracfg\", \"syscon\"\n \t- \"mediatek,mt7622-infracfg\", \"syscon\"\n \t- \"mediatek,mt7623-infracfg\", \"mediatek,mt2701-infracfg\", \"syscon\"\ndiff --git a/Documentation/devicetree/bindings/arm/mediatek/mediatek,ipesys.txt b/Documentation/devicetree/bindings/arm/mediatek/mediatek,ipesys.txt\nnew file mode 100644\nindex 000000000000..2ce889b023d9\n--- /dev/null\n+++ b/Documentation/devicetree/bindings/arm/mediatek/mediatek,ipesys.txt", "flags": [], "link": "https://lore.kernel.org/linux-kernel/171f68a3b27aa76d42c566bc869c829671497f5e"}
{"commit_hash": "710774e048614c761a39a98e8d0fa75f688c83b6", "short_hash": "710774e04861", "author_name": "mtk01761", "author_email": "wendell.lin@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-19T17:21:41+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-09T09:37:30-07:00", "subject": "clk: mediatek: Add MT6779 clock support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 5, "files_changed": 11, "insertions": 1974, "deletions": 0, "hunks": 22, "review_chain": {"signed_off_by": ["mtk01761 <wendell.lin@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 15, "score_impact": 16, "score_quality": 11, "score_community": 9, "score_breakdown": {"A1_code_volume": 10, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New clock driver support for MediaTek MT6779 SoC. 1974 lines added across 11 new driver files plus Kconfig/Makefile updates. Well-structured feature addition following existing MediaTek clock driver patterns. Maintainer Stephen Boyd applied the patch. Cross-org contribution (Mediatek author, kernel.org maintainer). Good commit message with Signed-off-by chain. Standard platform driver pattern with gate clock registration.", "code_snippet": "@@ -117,6 +117,62 @@ config COMMON_CLK_MT2712_VENCSYS\n \t---help---\n \t  This driver supports MediaTek MT2712 vencsys clocks.\n \n+config COMMON_CLK_MT6779\n+\tbool \"Clock driver for MediaTek MT6779\"\n+\tdepends on (ARCH_MEDIATEK && ARM64) || COMPILE_TEST\n+\tselect COMMON_CLK_MEDIATEK\n+\tdefault ARCH_MEDIATEK && ARM64\n+\thelp\n+\t  This driver supports MediaTek MT6779 basic clocks.\n+\n+config COMMON_CLK_MT6779_MMSYS\n+\tbool \"Clock driver for MediaTek MT6779 mmsys\"\n+\tdepends on COMMON_CLK_MT6779\n+\thelp\n+\t  This driver supports MediaTek MT6779 mmsys clocks.\n+\n+config COMMON_CLK_MT6779_IMGSYS\n+\tbool \"Clock driver for MediaTek MT6779 imgsys\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/710774e048614c761a39a98e8d0fa75f688c83b6"}
{"commit_hash": "2410a3dad498c4fe3e82d0e91b60fbd7ddc7596b", "short_hash": "2410a3dad498", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T14:20:21+08:00", "committer_name": "Jeff Kirsher", "committer_email": "jeffrey.t.kirsher@intel.com", "committer_company": "Intel", "commit_date": "2019-09-09T10:08:38-07:00", "subject": "iavf: remove unused debug function iavf_debug_d", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/intel/iavf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 22, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jeff Kirsher <jeffrey.t.kirsher@intel.com> (Intel)"], "reviewed_by": [], "tested_by": ["Andrew Bowers <andrewx.bowers@intel.com> (Intel)"], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 5, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Dead code removal in iavf driver. Clean removal of unused function (22 lines). Cross-org contribution from Huawei to Intel subsystem with proper maintainer sign-offs. Well-documented with Reported-by and Tested-by tags.", "code_snippet": "@@ -142,28 +142,6 @@ enum iavf_status iavf_free_virt_mem_d(struct iavf_hw *hw,\n \treturn 0;\n }\n \n-/**\n- * iavf_debug_d - OS dependent version of debug printing\n- * @hw:  pointer to the HW structure\n- * @mask: debug level mask\n- * @fmt_str: printf-type format description\n- **/\n-void iavf_debug_d(void *hw, u32 mask, char *fmt_str, ...)\n-{\n-\tchar buf[512];\n-\tva_list argptr;\n-\n-\tif (!(mask & ((struct iavf_hw *)hw)->debug_mask))\n-\t\treturn;\n-\n-\tva_start(argptr, fmt_str);\n-\tvsnprintf(buf, sizeof(buf), fmt_str, argptr);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2410a3dad498c4fe3e82d0e91b60fbd7ddc7596b"}
{"commit_hash": "99fccf33c203f63ea10e611c505a26686b0b8738", "short_hash": "99fccf33c203", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T22:15:21+08:00", "committer_name": "David Sterba", "committer_email": "dsterba@suse.com", "committer_company": "SUSE", "commit_date": "2019-09-09T14:58:58+02:00", "subject": "btrfs: remove set but not used variable 'offset'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "343abd1c0ca9", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/btrfs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Sterba <dsterba@suse.com> (SUSE)"], "reviewed_by": ["David Sterba <dsterba@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix compiler warning. Very small change (2 deletions), well-reviewed with maintainer sign-off, follows up to previous refactoring. Low impact as variable was already unused.", "code_snippet": "@@ -6011,7 +6011,6 @@ static int __btrfs_map_block(struct btrfs_fs_info *fs_info,\n {\n \tstruct extent_map *em;\n \tstruct map_lookup *map;\n-\tu64 offset;\n \tu64 stripe_offset;\n \tu64 stripe_nr;\n \tu64 stripe_len;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/99fccf33c203f63ea10e611c505a26686b0b8738"}
{"commit_hash": "8776f3fa15a5cd213c4dfab7ddaf557983374ea6", "short_hash": "8776f3fa15a5", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-09-09T20:50:39+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-09T16:14:47-06:00", "subject": "io_uring: fix wrong sequence setting logic", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "de0617e4671", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 19, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for io_uring DRAIN flag logic causing sqo_thread to never exit. Small targeted fix (3 insertions, 1 deletion) with proper Fixes tag. High subsystem impact (io_uring is critical I/O infrastructure). Maintainer (Jens Axboe) signed off. Good commit message with clear explanation and Fixes reference.", "code_snippet": "@@ -2016,7 +2017,7 @@ static int io_req_set_file(struct io_ring_ctx *ctx, const struct sqe_submit *s,\n \n \tif (flags & IOSQE_IO_DRAIN) {\n \t\treq->flags |= REQ_F_IO_DRAIN;\n-\t\treq->sequence = ctx->cached_sq_head - 1;\n+\t\treq->sequence = s->sequence;\n \t}\n \n \tif (!io_op_needs_file(s->sqe))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8776f3fa15a5cd213c4dfab7ddaf557983374ea6"}
{"commit_hash": "4fe2c963154c31227bec2f2d690e01f9cab383ea", "short_hash": "4fe2c963154c", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-09-09T20:50:40+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-09T16:15:00-06:00", "subject": "io_uring: add support for link with drain", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 97, "deletions": 17, "hunks": 24, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 14, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit adds support for link-with-drain functionality in io_uring, a new feature for the I/O submission interface. The implementation is substantial (97 insertions, 17 deletions) and adds a new flag REQ_F_SHADOW_DRAIN along with helper function io_queue_link_head. The commit message includes detailed ASCII diagrams explaining the mechanism. Signed off by maintainer Jens Axboe.", "code_snippet": "@@ -2015,10 +2022,14 @@ static int io_req_set_file(struct io_ring_ctx *ctx, const struct sqe_submit *s,\n \tflags = READ_ONCE(s->sqe->flags);\n \tfd = READ_ONCE(s->sqe->fd);\n \n-\tif (flags & IOSQE_IO_DRAIN) {\n+\tif (flags & IOSQE_IO_DRAIN)\n \t\treq->flags |= REQ_F_IO_DRAIN;\n-\t\treq->sequence = s->sequence;\n-\t}\n+\t/*\n+\t * All io need record the previous position, if LINK vs DARIN,\n+\t * it can be used to mark the position of the first IO in the\n+\t * link list.\n+\t */\n+\treq->sequence = s->sequence;\n \n \tif (!io_op_needs_file(s->sqe))\n \t\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fe2c963154c31227bec2f2d690e01f9cab383ea"}
{"commit_hash": "7b865ec15ed3a1a4204537bc28bbc68202f4c52f", "short_hash": "7b865ec15ed3", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T14:54:16+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-09T17:35:27+10:00", "subject": "crypto: arm64/aes - Use PTR_ERR_OR_ZERO rather than its implementation.", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/", "arch/arm64/crypto/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing IS_ERR/PTR_ERR pattern with PTR_ERR_OR_ZERO macro. Crypto subsystem code. Acked by arm64 maintainer Will Deacon, merged by Herbert Xu. Minimal code change (1 insertion, 3 deletions). No functional change.", "code_snippet": "@@ -409,10 +409,8 @@ static int essiv_cbc_init_tfm(struct crypto_skcipher *tfm)\n \tstruct crypto_aes_essiv_cbc_ctx *ctx = crypto_skcipher_ctx(tfm);\n \n \tctx->hash = crypto_alloc_shash(\"sha256\", 0, 0);\n-\tif (IS_ERR(ctx->hash))\n-\t\treturn PTR_ERR(ctx->hash);\n \n-\treturn 0;\n+\treturn PTR_ERR_OR_ZERO(ctx->hash);\n }\n \n static void essiv_cbc_exit_tfm(struct crypto_skcipher *tfm)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b865ec15ed3a1a4204537bc28bbc68202f4c52f"}
{"commit_hash": "18a0bb4aca81839578fef79c9bdef6710ed1c4dc", "short_hash": "18a0bb4aca81", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:01:17+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-09T23:48:40+10:00", "subject": "crypto: marvell - Use kzfree rather than its implementation", "primary_category": "SEC-HARDEN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/marvell"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Security hardening commit replacing manual memset+ kfree with kzfree to prevent potential key material leakage in crypto driver. Simple atomic change with clear security intent, properly signed off by subsystem maintainer Herbert Xu.", "code_snippet": "@@ -1148,8 +1148,7 @@ static int mv_cesa_ahmac_pad_init(struct ahash_request *req,\n \t\t}\n \n \t\t/* Set the memory region to 0 to avoid any leak. */\n-\t\tmemset(keydup, 0, keylen);\n-\t\tkfree(keydup);\n+\t\tkzfree(keydup);\n \n \t\tif (ret)\n \t\t\treturn ret;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/18a0bb4aca81839578fef79c9bdef6710ed1c4dc"}
{"commit_hash": "c552ffb5c93d9d65aaf34f5f001c4e7e8484ced1", "short_hash": "c552ffb5c93d", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:18:09Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-09T23:48:41+10:00", "subject": "crypto: cavium/zip - Add missing single_release()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "09ae5d37e093", "cc_stable": true, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/cavium/zip/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 20, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 5, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in crypto driver debugfs code. Minimal 3-line change adding single_release() to three file_operations structures. Corrects API misuse where single_open() was paired with seq_release(). Proper Fixes tag and stable CC indicate thorough maintenance practice.", "code_snippet": "@@ -593,6 +593,7 @@ static const struct file_operations zip_stats_fops = {\n \t.owner = THIS_MODULE,\n \t.open  = zip_stats_open,\n \t.read  = seq_read,\n+\t.release = single_release,\n };\n \n static int zip_clear_open(struct inode *inode, struct file *file)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c552ffb5c93d9d65aaf34f5f001c4e7e8484ced1"}
{"commit_hash": "45f09a1c5b8584334899121d4b33a4aebe05e068", "short_hash": "45f09a1c5b85", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:43:48+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-10T16:24:27+03:00", "subject": "ath9k: Remove unneeded variable to store return value", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/ath/ath9k"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused return value variable (1 insertion, 3 deletions). Single-file change in ath9k wireless driver (tier 3 subsystem). Cross-org contribution from Huawei to CodeAurora maintainer with proper sign-off chain. Message is clear but concise. No testing evidence provided.", "code_snippet": "@@ -463,7 +463,7 @@ static void ath9k_enable_rmw_buffer(void *hw_priv)\n \tatomic_inc(&priv->wmi->m_rmw_cnt);\n }\n \n-static u32 ath9k_reg_rmw_single(void *hw_priv,\n+static void ath9k_reg_rmw_single(void *hw_priv,\n \t\t\t\t u32 reg_offset, u32 set, u32 clr)\n {\n \tstruct ath_hw *ah = hw_priv;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/45f09a1c5b8584334899121d4b33a4aebe05e068"}
{"commit_hash": "f96d279f0a5e53f4b96b16a5c08e2c75e139ba0b", "short_hash": "f96d279f0a5e", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T13:43:09+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T21:19:55-04:00", "subject": "scsi: fcoe: fix null-ptr-deref Read in fc_release_transport", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["scsi/fcoe"], "subsystem_tier": 8, "files_changed": 1, "insertions": 11, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Hannes Reinecke <hare@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 17, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug-CRASH: fixes null-ptr-deref preventing kernel crash in error path. Small diff (16 lines) with focused fix in FCoE transport initialization. SCSI subsystem (tier 8) storage driver. Single-subsystem change. Base score 13 for crash bug. No stable CC. User impact 4 (storage reliability). Low novelty (error handling cleanup). Review chain: Reviewed-by, Signed-off by maintainer (4 pts). Good commit message with clear root cause analysis and call trace (5 pts). No explicit testing mentioned (0 pts). Highly atomic fix focused on error path (3 pts). No cross-org collaboration. Maintainer endorsement: Signed-off by SCSI maintainer Martin K. Petersen (4 pts).", "code_snippet": "@@ -1250,15 +1250,21 @@ static int __init fcoe_if_init(void)\n \t/* attach to scsi transport */\n \tfcoe_nport_scsi_transport =\n \t\tfc_attach_transport(&fcoe_nport_fc_functions);\n+\tif (!fcoe_nport_scsi_transport)\n+\t\tgoto err;\n+\n \tfcoe_vport_scsi_transport =\n \t\tfc_attach_transport(&fcoe_vport_fc_functions);\n-\n-\tif (!fcoe_nport_scsi_transport) {\n-\t\tprintk(KERN_ERR \"fcoe: Failed to attach to the FC transport\\n\");\n-\t\treturn -ENODEV;\n-\t}\n+\tif (!fcoe_vport_scsi_transport)\n+\t\tgoto err_vport;\n \n \treturn 0;\n+\n+err_vport:", "flags": ["ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/f96d279f0a5e53f4b96b16a5c08e2c75e139ba0b"}
{"commit_hash": "c2bae4f7d721e06e6bb8d1174ec7f8ff7604892c", "short_hash": "c2bae4f7d721", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:27+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:55-04:00", "subject": "scsi: hisi_sas: Directly return when running I_T_nexus reset if phy disabled", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 12, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small optimization to avoid unnecessary phy reset requests when phy is disabled. Properly reviewed through maintainer chain with clean commit message explaining the rationale. Low impact as it only affects error path in debug reset function.", "code_snippet": "@@ -1752,6 +1752,11 @@ static int hisi_sas_debug_I_T_nexus_reset(struct domain_device *device)\n \tDECLARE_COMPLETION_ONSTACK(phyreset);\n \tint rc, reset_type;\n \n+\tif (!local_phy->enabled) {\n+\t\tsas_put_local_phy(local_phy);\n+\t\treturn -ENODEV;\n+\t}\n+\n \tif (scsi_is_sas_phy_local(local_phy)) {\n \t\tstruct asd_sas_phy *sas_phy =\n \t\t\tsas_ha->sas_phy[local_phy->number];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2bae4f7d721e06e6bb8d1174ec7f8ff7604892c"}
{"commit_hash": "af01b2b92454c0f9aa71f8f57d8e85dd68b774db", "short_hash": "af01b2b92454", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:26+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:55-04:00", "subject": "scsi: hisi_sas: Use true/false as input parameter of sas_phy_reset()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code style cleanup replacing integer literals (1/0) with boolean constants (true/false) for better readability. Low technical impact (4 lines changed) but well-reviewed with Huawei developer -> John Garry -> maintainer Martin K. Petersen chain. SCSI subsystem tier 7 driver code.", "code_snippet": "@@ -1762,7 +1762,7 @@ static int hisi_sas_debug_I_T_nexus_reset(struct domain_device *device)\n \t}\n \n \treset_type = (sas_dev->dev_status == HISI_SAS_DEV_INIT ||\n-\t\t      !dev_is_sata(device)) ? 1 : 0;\n+\t\t      !dev_is_sata(device)) ? true : false;\n \n \trc = sas_phy_reset(local_phy, reset_type);\n \tsas_put_local_phy(local_phy);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af01b2b92454c0f9aa71f8f57d8e85dd68b774db"}
{"commit_hash": "7105e68afaec062c0329910a491e57c9f3a82bef", "short_hash": "7105e68afaec", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:25+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:55-04:00", "subject": "scsi: hisi_sas: add debugfs auto-trigger for internal abort time out", "primary_category": "BUG-HANG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 17, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs trigger addition for internal abort timeout detection in HiSilicon SAS driver. Small 3-line insertion enabling diagnostic data collection when task aborts time out. SCSI subsystem tier (7). Bug-HANG category for timeout handling (11). Maintainer Martin K. Petersen endorsement (4). Huawei author with maintainer sign-offs indicates cross-org collaboration (2). Clean atomic change (3). Good commit message with Link tag (3).", "code_snippet": "@@ -2060,6 +2060,9 @@ _hisi_sas_internal_task_abort(struct hisi_hba *hisi_hba,\n \n \t/* Internal abort timed out */\n \tif ((task->task_state_flags & SAS_TASK_STATE_ABORTED)) {\n+\t\tif (hisi_sas_debugfs_enable && hisi_hba->debugfs_itct)\n+\t\t\tqueue_work(hisi_hba->wq, &hisi_hba->debugfs_work);\n+\n \t\tif (!(task->task_state_flags & SAS_TASK_STATE_DONE)) {\n \t\t\tstruct hisi_sas_slot *slot = task->lldd_task;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7105e68afaec062c0329910a491e57c9f3a82bef"}
{"commit_hash": "4bc058097aa8b1af046fa000fbc6bf5408ace9bf", "short_hash": "4bc058097aa8", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:34+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Remove some unused function arguments", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 4, "insertions": 17, "deletions": 20, "hunks": 16, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 3, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup removing unused function arguments in hisi_sas driver. Changed wait_cmds_complete_timeout return type from int to void since return value was never used. Also moved timeout print message into the function itself. 4 files modified with minimal diffstat (+17/-20). Strong review chain with 3 sign-offs including maintainer Martin K. Petersen.", "code_snippet": "@@ -306,8 +306,8 @@ struct hisi_sas_hw {\n \tu32 (*get_phys_state)(struct hisi_hba *hisi_hba);\n \tint (*write_gpio)(struct hisi_hba *hisi_hba, u8 reg_type,\n \t\t\t\tu8 reg_index, u8 reg_count, u8 *write_data);\n-\tint (*wait_cmds_complete_timeout)(struct hisi_hba *hisi_hba,\n-\t\t\t\t\t  int delay_ms, int timeout_ms);\n+\tvoid (*wait_cmds_complete_timeout)(struct hisi_hba *hisi_hba,\n+\t\t\t\t\t   int delay_ms, int timeout_ms);\n \tvoid (*snapshot_prepare)(struct hisi_hba *hisi_hba);\n \tvoid (*snapshot_restore)(struct hisi_hba *hisi_hba);\n \tvoid (*read_iost_itct_cache)(struct hisi_hba *hisi_hba,\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 751db9588a1e..dcbb1aa005b5 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bc058097aa8b1af046fa000fbc6bf5408ace9bf"}
{"commit_hash": "27f22723c3f4a1a3e66642b3da7a3d16ee602972", "short_hash": "27f22723c3f4", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:33+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Remove redundant work declaration", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 2, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line deletion removing redundant DECLARE_WORK macro from stack-based reset work declaration. Cleanup change in SCSI subsystem with proper review chain through maintainer.", "code_snippet": "@@ -134,7 +134,6 @@ struct hisi_sas_rst {\n \n #define HISI_SAS_DECLARE_RST_WORK_ON_STACK(r) \\\n \tDECLARE_COMPLETION_ONSTACK(c); \\\n-\tDECLARE_WORK(w, hisi_sas_sync_rst_work_handler); \\\n \tstruct hisi_sas_rst r = HISI_SAS_RST_WORK_INIT(r, c)\n \n enum hisi_sas_bit_err_type {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27f22723c3f4a1a3e66642b3da7a3d16ee602972"}
{"commit_hash": "971b59443f213d8085d122fae65aa96087b269bc", "short_hash": "971b59443f21", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:32+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Remove hisi_sas_hw.slot_complete", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 4, "insertions": 0, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 2, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal from SCSI subsystem. Low technical impact (1+8+0=9) as it only removes an unused function pointer. Low impact score (2+0+0+0=2) for cleanup category with no stable/user impact. High quality (5+5+0+3=13) with proper review chain through John Garry to maintainer Martin K. Petersen, clear commit message. Community score 6/10 includes Huawei-Oracle cross-org collaboration and maintainer sign-off. Total: 30/100.", "code_snippet": "@@ -289,8 +289,6 @@ struct hisi_sas_hw {\n \tvoid (*prep_abort)(struct hisi_hba *hisi_hba,\n \t\t\t  struct hisi_sas_slot *slot,\n \t\t\t  int device_id, int abort_flag, int tag_to_abort);\n-\tint (*slot_complete)(struct hisi_hba *hisi_hba,\n-\t\t\t     struct hisi_sas_slot *slot);\n \tvoid (*phys_init)(struct hisi_hba *hisi_hba);\n \tvoid (*phy_start)(struct hisi_hba *hisi_hba, int phy_no);\n \tvoid (*phy_disable)(struct hisi_hba *hisi_hba, int phy_no);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c\nindex 3a584feca843..b861a0f14c9d 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/971b59443f213d8085d122fae65aa96087b269bc"}
{"commit_hash": "435a05cf8c003221fd945229e2b61b5ecca9070d", "short_hash": "435a05cf8c00", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:31+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Assign NCQ tag for all NCQ commands", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 4, "insertions": 8, "deletions": 18, "hunks": 8, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for NCQ tag assignment in HiSilicon SAS driver. The commit removes a function that only handled FPDMA READ/WRITE commands and ensures all NCQ commands (including FPDMA SEND) get proper NCQ tags. Code impact is modest (26 lines across 4 files, -18/+8). SCSI subsystem is important but not core kernel. Cross-org contribution from Hisilicon with proper maintainer sign-offs from John Garry and Martin K. Petersen.", "code_snippet": "@@ -559,7 +559,6 @@ extern u8 hisi_sas_get_ata_protocol(struct host_to_dev_fis *fis,\n extern struct hisi_sas_port *to_hisi_sas_port(struct asd_sas_port *sas_port);\n extern void hisi_sas_sata_done(struct sas_task *task,\n \t\t\t    struct hisi_sas_slot *slot);\n-extern int hisi_sas_get_ncq_tag(struct sas_task *task, u32 *tag);\n extern int hisi_sas_get_fw_info(struct hisi_hba *hisi_hba);\n extern int hisi_sas_probe(struct platform_device *pdev,\n \t\t\t  const struct hisi_sas_hw *ops);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 6392869a4e41..751db9588a1e 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/435a05cf8c003221fd945229e2b61b5ecca9070d"}
{"commit_hash": "73a4925d154cbd3c73e6643033e7167cb2353d9a", "short_hash": "73a4925d154c", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:30+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Update all the registers after suspend and resume", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for suspend/resume register initialization in SCSI driver. Proper error handling added to prevent crashes. Good review chain (author->maintainer->subsystem maintainer). Clear commit message explaining the hardware issue.", "code_snippet": "@@ -3283,15 +3283,21 @@ static int hisi_sas_v3_resume(struct pci_dev *pdev)\n \tpci_enable_wake(pdev, PCI_D0, 0);\n \tpci_restore_state(pdev);\n \trc = pci_enable_device(pdev);\n-\tif (rc)\n+\tif (rc) {\n \t\tdev_err(dev, \"enable device failed during resume (%d)\\n\", rc);\n+\t\treturn rc;\n+\t}\n \n \tpci_set_master(pdev);\n \tscsi_unblock_requests(shost);\n \tclear_bit(HISI_SAS_REJECT_CMD_BIT, &hisi_hba->flags);\n \n \tsas_prep_resume_ha(sha);\n-\tinit_reg_v3_hw(hisi_hba);\n+\trc = hw_init_v3_hw(hisi_hba);\n+\tif (rc) {\n+\t\tscsi_remove_host(shost);\n+\t\tpci_disable_device(pdev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73a4925d154cbd3c73e6643033e7167cb2353d9a"}
{"commit_hash": "b45e05aa5d29264e2b7905cba6ff0626beda3637", "short_hash": "b45e05aa5d29", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:29+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Retry 3 times TMF IO for SAS disks when init device", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 10, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 19, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for SCSI/SAS disk initialization retry logic. 16 lines changed (10 insertions, 6 deletions). Driver subsystem (tier 7). Addresses device timeout during initialization when controller reset occurs - adds retry mechanism for TMF IO. Good commit message with detailed context and log output. Multiple sign-offs including maintainer Martin K. Petersen. Huawei internal contribution (hisilicon.com domain).", "code_snippet": "@@ -698,13 +698,13 @@ static struct hisi_sas_device *hisi_sas_alloc_dev(struct domain_device *device)\n \treturn sas_dev;\n }\n \n-#define HISI_SAS_SRST_ATA_DISK_CNT 3\n+#define HISI_SAS_DISK_RECOVER_CNT 3\n static int hisi_sas_init_device(struct domain_device *device)\n {\n \tint rc = TMF_RESP_FUNC_COMPLETE;\n \tstruct scsi_lun lun;\n \tstruct hisi_sas_tmf_task tmf_task;\n-\tint retry = HISI_SAS_SRST_ATA_DISK_CNT;\n+\tint retry = HISI_SAS_DISK_RECOVER_CNT;\n \tstruct hisi_hba *hisi_hba = dev_to_hisi_hba(device);\n \tstruct device *dev = hisi_hba->dev;\n \tstruct sas_phy *local_phy;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b45e05aa5d29264e2b7905cba6ff0626beda3637"}
{"commit_hash": "76dd768b4471848672b4689aa926e9910c52a158", "short_hash": "76dd768b4471", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:28+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:56-04:00", "subject": "scsi: hisi_sas: Remove sleep after issue phy reset if sas_smp_phy_control() fails", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 12, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small optimization removing unnecessary 2-second sleep when phy reset fails. Code volume minimal (5 lines changed), single subsystem (SCSI), limited user impact. Good review chain with multiple sign-offs, clear commit message. Cross-org contribution (Huawei to Oracle maintainer).", "code_snippet": "@@ -1791,9 +1791,10 @@ static int hisi_sas_debug_I_T_nexus_reset(struct domain_device *device)\n \t} else if (sas_dev->dev_status != HISI_SAS_DEV_INIT) {\n \t\t/*\n \t\t * If in init state, we rely on caller to wait for link to be\n-\t\t * ready; otherwise, delay.\n+\t\t * ready; otherwise, except phy reset is fail, delay.\n \t\t */\n-\t\tmsleep(2000);\n+\t\tif (!rc)\n+\t\t\tmsleep(2000);\n \t}\n \n \treturn rc;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76dd768b4471848672b4689aa926e9910c52a158"}
{"commit_hash": "e74006edd0d42b45ff37ae4ae13c614cfa30056b", "short_hash": "e74006edd0d4", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:37+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:57-04:00", "subject": "scsi: hisi_sas: Fix the conflict between device gone and host reset", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Race condition fix between device gone and host reset paths in HiSilicon SAS driver. Null pointer dereference risk due to concurrent execution. Proper semaphore synchronization added with expanded critical section. Good commit message with detailed race analysis and thread timing diagram. Three sign-offs including maintainer.", "code_snippet": "@@ -1049,21 +1049,22 @@ static void hisi_sas_dev_gone(struct domain_device *device)\n \tdev_info(dev, \"dev[%d:%x] is gone\\n\",\n \t\t sas_dev->device_id, sas_dev->dev_type);\n \n+\tdown(&hisi_hba->sem);\n \tif (!test_bit(HISI_SAS_RESET_BIT, &hisi_hba->flags)) {\n \t\thisi_sas_internal_task_abort(hisi_hba, device,\n \t\t\t\t\t     HISI_SAS_INT_ABT_DEV, 0);\n \n \t\thisi_sas_dereg_device(hisi_hba, device);\n \n-\t\tdown(&hisi_hba->sem);\n \t\thisi_hba->hw->clear_itct(hisi_hba, sas_dev);\n-\t\tup(&hisi_hba->sem);\n \t\tdevice->lldd_dev = NULL;\n \t}\n \n \tif (hisi_hba->hw->free_device)\n \t\thisi_hba->hw->free_device(sas_dev);\n \tsas_dev->dev_type = SAS_PHY_UNUSED;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e74006edd0d42b45ff37ae4ae13c614cfa30056b"}
{"commit_hash": "7ec7082c57ecdd8d37040d31203951f7e2e8e218", "short_hash": "7ec7082c57ec", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T20:55:35+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:57-04:00", "subject": "scsi: hisi_sas: Add hisi_sas_debugfs_alloc() to centralise allocation", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 58, "deletions": 44, "hunks": 10, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 11, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting memory allocation logic into separate function for hisi_sas SCSI driver. Good code quality with proper error handling cleanup. Low impact as it's preparatory work for future optimization.", "code_snippet": "@@ -3306,27 +3306,44 @@ void hisi_sas_debugfs_work_handler(struct work_struct *work)\n }\n EXPORT_SYMBOL_GPL(hisi_sas_debugfs_work_handler);\n \n-void hisi_sas_debugfs_init(struct hisi_hba *hisi_hba)\n+void hisi_sas_debugfs_release(struct hisi_hba *hisi_hba)\n+{\n+\tstruct device *dev = hisi_hba->dev;\n+\tint i;\n+\n+\tdevm_kfree(dev, hisi_hba->debugfs_iost_cache);\n+\tdevm_kfree(dev, hisi_hba->debugfs_itct_cache);\n+\tdevm_kfree(dev, hisi_hba->debugfs_iost);\n+\n+\tfor (i = 0; i < hisi_hba->queue_count; i++)\n+\t\tdevm_kfree(dev, hisi_hba->debugfs_cmd_hdr[i]);\n+\n+\tfor (i = 0; i < hisi_hba->queue_count; i++)\n+\t\tdevm_kfree(dev, hisi_hba->debugfs_complete_hdr[i]);\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7ec7082c57ecdd8d37040d31203951f7e2e8e218"}
{"commit_hash": "97b151e75861674a176ff8fb5e243dc2aa066af4", "short_hash": "97b151e75861", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-06T20:55:36+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-10T22:28:57-04:00", "subject": "scsi: hisi_sas: Add BIST support for phy loopback", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 543, "deletions": 0, "hunks": 18, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 13, "score_impact": 14, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 7, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New BIST (built-in self-test) feature for phy loopback in hisi_sas driver. Adds debugfs interface for hardware testing. 543 insertions across 3 files. Properly reviewed through linux-scsi mailing list with maintainer sign-offs.", "code_snippet": "@@ -391,6 +392,14 @@ struct hisi_hba {\n \tint cq_nvecs;\n \tunsigned int *reply_map;\n \n+\t/* bist */\n+\tenum sas_linkrate debugfs_bist_linkrate;\n+\tint debugfs_bist_code_mode;\n+\tint debugfs_bist_phy_no;\n+\tint debugfs_bist_mode;\n+\tu32 debugfs_bist_cnt;\n+\tint debugfs_bist_enable;\n+\n \t/* debugfs memories */\n \t/* Put Global AXI and RAS Register into register array */\n \tu32 *debugfs_regs[DEBUGFS_REGS_NUM];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97b151e75861674a176ff8fb5e243dc2aa066af4"}
{"commit_hash": "16a0f687cac70301f49d6f99c4115824e6aad42b", "short_hash": "16a0f687cac7", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T14:43:13+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-10T23:18:05+01:00", "subject": "misc: mic: Use PTR_ERR_OR_ZERO rather than its implementation", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/misc/mic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 4, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing manual IS_ERR/PTR_ERR pattern with PTR_ERR_OR_ZERO helper. Single file in low-tier MIC subsystem. Well-signed with proper tags and maintainer ack.", "code_snippet": "@@ -156,9 +156,8 @@ static inline int scif_verify_epd(struct scif_endpt *ep)\n static inline int scif_anon_inode_getfile(scif_epd_t epd)\n {\n \tepd->anon = anon_inode_getfile(\"scif\", &scif_anon_fops, NULL, 0);\n-\tif (IS_ERR(epd->anon))\n-\t\treturn PTR_ERR(epd->anon);\n-\treturn 0;\n+\n+\treturn PTR_ERR_OR_ZERO(epd->anon);\n }\n \n static inline void scif_anon_inode_fput(scif_epd_t epd)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16a0f687cac70301f49d6f99c4115824e6aad42b"}
{"commit_hash": "96e65abb77002722b27d773a1c28e63ed1934d4a", "short_hash": "96e65abb7700", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:45+01:00", "subject": "net: hns3: modify some logs format", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 3, "insertions": 7, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 6, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit fixing debug logging format issues in the hns3 driver. It changes hexadecimal display format for pfc_en/pfc_map, uses %pad for DMA addresses, and adds missing newlines. Low technical impact (11 lines changed), limited to debugfs code. Base score of 5 for maintenance cleanup. Strong review chain with proper Signed-off-by chain including maintainer David S. Miller. Clean commit message explaining the changes clearly.", "code_snippet": "@@ -217,8 +219,9 @@ static int hns3_dbg_bd_info(struct hnae3_handle *h, const char *cmd_buf)\n \trx_index = (cnt == 1) ? value : tx_index;\n \trx_desc\t = &ring->desc[rx_index];\n \n+\taddr = le64_to_cpu(rx_desc->addr);\n \tdev_info(dev, \"RX Queue Num: %u, BD Index: %u\\n\", q_num, rx_index);\n-\tdev_info(dev, \"(RX)addr: 0x%llx\\n\", rx_desc->addr);\n+\tdev_info(dev, \"(RX)addr: %pad\\n\", &addr);\n \tdev_info(dev, \"(RX)l234_info: %u\\n\", rx_desc->rx.l234_info);\n \tdev_info(dev, \"(RX)pkt_len: %u\\n\", rx_desc->rx.pkt_len);\n \tdev_info(dev, \"(RX)size: %u\\n\", rx_desc->rx.size);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_dcb.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_dcb.c\nindex 816f92084138..c063301d6060 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_dcb.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_dcb.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/96e65abb77002722b27d773a1c28e63ed1934d4a"}
{"commit_hash": "24283ece5a0f1040842367966c8e0245b871e309", "short_hash": "24283ece5a0f", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:45+01:00", "subject": "net: hns3: fix port setting handle for fibre port", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "22f48e24a23d", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 13, "score_impact": 13, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for Hisilicon HNS3 ethernet driver - fixes incorrect port speed/duplex handling for fibre ports during autonegotiation. Small scope (single file, 15 insertions) but in critical networking subsystem. Has proper Fixes tag, clear commit message, and review chain from author to maintainer David S. Miller.", "code_snippet": "@@ -726,6 +726,12 @@ static int hns3_check_ksettings_param(const struct net_device *netdev,\n \tu8 duplex;\n \tint ret;\n \n+\t/* hw doesn't support use specified speed and duplex to negotiate,\n+\t * unnecessary to check them when autoneg on.\n+\t */\n+\tif (cmd->base.autoneg)\n+\t\treturn 0;\n+\n \tif (ops->get_ksettings_an_result) {\n \t\tops->get_ksettings_an_result(handle, &autoneg, &speed, &duplex);\n \t\tif (cmd->base.autoneg == autoneg && cmd->base.speed == speed &&", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24283ece5a0f1040842367966c8e0245b871e309"}
{"commit_hash": "1a92497dc3f90280aebfea8044741d75438110e0", "short_hash": "1a92497dc3f9", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:45+01:00", "subject": "net: hns3: fix shaper parameter algorithm", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "848440544b41", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 4, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect bandwidth calculation in hns3 driver shaper. Driver-specific networking code. Small change (4 insertions, 7 deletions) fixing algorithm accuracy for bandwidths below 20Mbit. Good commit message with problem description and Fixes tag. Proper review chain (2 signed-offs). Maintainer David S. Miller merged it.", "code_snippet": "@@ -81,16 +81,13 @@ static int hclge_shaper_para_calc(u32 ir, u8 shaper_level,\n \t\treturn 0;\n \t} else if (ir_calc > ir) {\n \t\t/* Increasing the denominator to select ir_s value */\n-\t\twhile (ir_calc > ir) {\n+\t\twhile (ir_calc >= ir && ir) {\n \t\t\tir_s_calc++;\n \t\t\tir_calc = DIVISOR_IR_B_126 / (tick * (1 << ir_s_calc));\n \t\t}\n \n-\t\tif (ir_calc == ir)\n-\t\t\t*ir_b = 126;\n-\t\telse\n-\t\t\t*ir_b = (ir * tick * (1 << ir_s_calc) +\n-\t\t\t\t (DIVISOR_CLK >> 1)) / DIVISOR_CLK;\n+\t\t*ir_b = (ir * tick * (1 << ir_s_calc) + (DIVISOR_CLK >> 1)) /\n+\t\t\tDIVISOR_CLK;\n \t} else {\n \t\t/* Increasing the numerator to select ir_u value */\n \t\tu32 numerator;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a92497dc3f90280aebfea8044741d75438110e0"}
{"commit_hash": "3a5a5f06d4d2ddb257cb71e9c52106f50abad8fc", "short_hash": "3a5a5f06d4d2", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:45+01:00", "subject": "net: hns3: revert to old channel when setting new channel num fail", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 37, "deletions": 14, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 13, "score_impact": 19, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for network driver crash when channel reconfiguration fails. Adds proper rollback logic to prevent fatal errors. 51 lines changed in critical networking subsystem. Good commit message explaining the failure scenario and solution. Maintainer sign-offs present.", "code_snippet": "@@ -4410,6 +4410,30 @@ static int hns3_reset_notify(struct hnae3_handle *handle,\n \treturn ret;\n }\n \n+static int hns3_change_channels(struct hnae3_handle *handle, u32 new_tqp_num,\n+\t\t\t\tbool rxfh_configured)\n+{\n+\tint ret;\n+\n+\tret = handle->ae_algo->ops->set_channels(handle, new_tqp_num,\n+\t\t\t\t\t\t rxfh_configured);\n+\tif (ret) {\n+\t\tdev_err(&handle->pdev->dev,\n+\t\t\t\"Change tqp num(%u) fail.\\n\", new_tqp_num);\n+\t\treturn ret;\n+\t}\n+\n+\tret = hns3_reset_notify(handle, HNAE3_INIT_CLIENT);\n+\tif (ret)\n+\t\treturn ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a5a5f06d4d2ddb257cb71e9c52106f50abad8fc"}
{"commit_hash": "4093d1a262617475d8eaf05ebcfa8ecc1c78df7f", "short_hash": "4093d1a26261", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:33+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:45+01:00", "subject": "net: hns3: add ethtool_ops.set_channels support for HNS3 VF driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-API", "BUG-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 79, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 10, "score_impact": 16, "score_quality": 18, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit adds ethtool set_channels support for HNS3 VF driver, enabling runtime TQP configuration. It is primarily a feature (79 insertions, 5 deletions) for a specific network driver. Includes minor fix for whitespace error. Strong review chain with 3 Signed-off-by tags including maintainer David S. Miller. Clean atomic change adding a single API endpoint.", "code_snippet": "@@ -2099,13 +2100,13 @@ static int hclgevf_rss_init_hw(struct hclgevf_dev *hdev)\n \n \t/* Initialize RSS indirect table */\n \tfor (i = 0; i < HCLGEVF_RSS_IND_TBL_SIZE; i++)\n-\t\trss_cfg->rss_indirection_tbl[i] = i % hdev->rss_size_max;\n+\t\trss_cfg->rss_indirection_tbl[i] = i % rss_cfg->rss_size;\n \n \tret = hclgevf_set_rss_indir_table(hdev);\n \tif (ret)\n \t\treturn ret;\n \n-\treturn hclgevf_set_rss_tc_mode(hdev, hdev->rss_size_max);\n+\treturn hclgevf_set_rss_tc_mode(hdev, rss_cfg->rss_size);\n }\n \n static int hclgevf_init_vlan_config(struct hclgevf_dev *hdev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4093d1a262617475d8eaf05ebcfa8ecc1c78df7f"}
{"commit_hash": "0ecf1f7b28b7b062480dfc3bfb1023811e9d83ad", "short_hash": "0ecf1f7b28b7", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:46+01:00", "subject": "net: hns3: add some DFX info for reset issue", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 9, "files_changed": 3, "insertions": 30, "deletions": 15, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 12, "score_impact": 7, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that moves reset_fail_cnt into struct hclge_rst_stats for better organization, adds hardware register dumps for debugging reset issues (DFX), and cleans up print format specifiers from %d to %u. Author is from Huawei, maintainer David S. Miller signed off. Code volume is modest (30 insertions, 15 deletions). This is driver-specific debugging enhancement, not a bug fix or security issue.", "code_snippet": "@@ -931,22 +931,36 @@ static void hclge_dbg_fd_tcam(struct hclge_dev *hdev)\n \n static void hclge_dbg_dump_rst_info(struct hclge_dev *hdev)\n {\n-\tdev_info(&hdev->pdev->dev, \"PF reset count: %d\\n\",\n+\tdev_info(&hdev->pdev->dev, \"PF reset count: %u\\n\",\n \t\t hdev->rst_stats.pf_rst_cnt);\n-\tdev_info(&hdev->pdev->dev, \"FLR reset count: %d\\n\",\n+\tdev_info(&hdev->pdev->dev, \"FLR reset count: %u\\n\",\n \t\t hdev->rst_stats.flr_rst_cnt);\n-\tdev_info(&hdev->pdev->dev, \"CORE reset count: %d\\n\",\n-\t\t hdev->rst_stats.core_rst_cnt);\n-\tdev_info(&hdev->pdev->dev, \"GLOBAL reset count: %d\\n\",\n+\tdev_info(&hdev->pdev->dev, \"GLOBAL reset count: %u\\n\",\n \t\t hdev->rst_stats.global_rst_cnt);\n-\tdev_info(&hdev->pdev->dev, \"IMP reset count: %d\\n\",\n+\tdev_info(&hdev->pdev->dev, \"IMP reset count: %u\\n\",\n \t\t hdev->rst_stats.imp_rst_cnt);\n-\tdev_info(&hdev->pdev->dev, \"reset done count: %d\\n\",\n+\tdev_info(&hdev->pdev->dev, \"reset done count: %u\\n\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ecf1f7b28b7b062480dfc3bfb1023811e9d83ad"}
{"commit_hash": "fa17c708ff5aa169eb87c9de665c1f2011cc51b9", "short_hash": "fa17c708ff5a", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T10:40:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:08:46+01:00", "subject": "net: hns3: check NULL pointer before use", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 19, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "NULL pointer check in PCI error recovery path prevents potential kernel crash. 3-line change in network driver (hns3). Category: BUG-CRASH (prevents dereference of NULL function pointer). Strong internal review (3 sign-offs including maintainer). Good commit message explaining the fix. Single atomic change. Network driver is high-value subsystem (tier 8/10). Cross-org: 0 (all Huawei).", "code_snippet": "@@ -2006,7 +2006,8 @@ static pci_ers_result_t hns3_slot_reset(struct pci_dev *pdev)\n \n \tops = ae_dev->ops;\n \t/* request the reset */\n-\tif (ops->reset_event && ops->get_reset_level) {\n+\tif (ops->reset_event && ops->get_reset_level &&\n+\t    ops->set_default_reset_request) {\n \t\tif (ae_dev->hw_err_reset_req) {\n \t\t\treset_type = ops->get_reset_level(ae_dev,\n \t\t\t\t\t\t&ae_dev->hw_err_reset_req);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa17c708ff5aa169eb87c9de665c1f2011cc51b9"}
{"commit_hash": "24f6d765c8926ef32b88db8abab4188f23094d46", "short_hash": "24f6d765c892", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T12:25:37+08:00", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-09-11T09:33:29+02:00", "subject": "cfg80211: Do not compare with boolean in nl80211_common_reg_change_event", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless"], "subsystem_tier": 9, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 3, "score_impact": 2, "score_quality": 6, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code style cleanup replacing boolean comparison (!x == false) with direct negation (!x) and converting early return to goto for consistency. Minimal impact (3 insertions, 5 deletions) in wireless regulatory code. Cross-org contribution from Huawei to Intel maintainer.", "code_snippet": "@@ -14997,12 +14997,10 @@ void nl80211_common_reg_change_event(enum nl80211_commands cmd_id,\n \t\treturn;\n \n \thdr = nl80211hdr_put(msg, 0, 0, 0, cmd_id);\n-\tif (!hdr) {\n-\t\tnlmsg_free(msg);\n-\t\treturn;\n-\t}\n+\tif (!hdr)\n+\t\tgoto nla_put_failure;\n \n-\tif (nl80211_reg_change_event_fill(msg, request) == false)\n+\tif (!nl80211_reg_change_event_fill(msg, request))\n \t\tgoto nla_put_failure;\n \n \tgenlmsg_end(msg, hdr);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24f6d765c8926ef32b88db8abab4188f23094d46"}
{"commit_hash": "aba30f6f312ccb82b44eaf53db1047e023a97d5c", "short_hash": "aba30f6f312c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T21:10:32+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-11T14:50:02+01:00", "subject": "gpio: creg-snps: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpio", "subsystems_touched": ["drivers/gpio/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com> (Synopsys)"], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 4, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor code modernization in GPIO driver replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Low code volume (-3/+1 lines), non-critical subsystem, no stable CC. Good review chain (Acked-by, Signed-off-by maintainer), clean atomic change.", "code_snippet": "@@ -137,7 +137,6 @@ static int creg_gpio_probe(struct platform_device *pdev)\n \tconst struct of_device_id *match;\n \tstruct device *dev = &pdev->dev;\n \tstruct creg_gpio *hcg;\n-\tstruct resource *mem;\n \tu32 ngpios;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aba30f6f312ccb82b44eaf53db1047e023a97d5c"}
{"commit_hash": "26c71a13a8f9db0c5f24f5c0ec6a9f7e1da0dd5a", "short_hash": "26c71a13a8f9", "author_name": "yong mao", "author_email": "yong.mao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:45:24+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-11T15:58:39+02:00", "subject": "mmc: mediatek: enable SDIO IRQ low level trigger function", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Mao <yong.mao@mediatek.com> (MediaTek)", "Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 8, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for SDIO IRQ loss on MediaTek MMC controller. Very small change (2 insertions) adding register define and configuration call. Critical subsystem (MMC/SD storage) but tier 6. Fixes potential IRQ loss in special conditions. Good review chain with multiple sign-offs from MediaTek and maintainer Ulf Hansson. Clear commit message explaining the hardware behavior.", "code_snippet": "@@ -192,6 +192,7 @@\n #define SDC_STS_CMDBUSY         (0x1 << 1)\t/* RW */\n #define SDC_STS_SWR_COMPL       (0x1 << 31)\t/* RW */\n \n+#define SDC_DAT1_IRQ_TRIGGER\t(0x1 << 19)\t/* RW */\n /* SDC_ADV_CFG0 mask */\n #define SDC_RX_ENHANCE_EN\t(0x1 << 20)\t/* RW */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/26c71a13a8f9db0c5f24f5c0ec6a9f7e1da0dd5a"}
{"commit_hash": "f70d9a2440346d942f1f9dbda31da5a77510a05f", "short_hash": "f70d9a244034", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-26T12:00:13Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-11T15:58:39+02:00", "subject": "mmc: sdhci-of-aspeed: Fix return value check in aspeed_sdc_probe()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix in MMC/SDHCI driver correcting error handling logic. Changed IS_ERR() check to NULL pointer check for of_platform_device_create() return value, preventing potential crashes from incorrect error code extraction. Small scope (2 lines), proper review chain (Reviewed-by), maintainer applied.", "code_snippet": "@@ -261,9 +261,9 @@ static int aspeed_sdc_probe(struct platform_device *pdev)\n \t\tstruct platform_device *cpdev;\n \n \t\tcpdev = of_platform_device_create(child, NULL, &pdev->dev);\n-\t\tif (IS_ERR(cpdev)) {\n+\t\tif (!cpdev) {\n \t\t\tof_node_put(child);\n-\t\t\tret = PTR_ERR(cpdev);\n+\t\t\tret = -ENODEV;\n \t\t\tgoto err_clk;\n \t\t}\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f70d9a2440346d942f1f9dbda31da5a77510a05f"}
{"commit_hash": "6ef042bd00124d589fe8685994af73142bce66d6", "short_hash": "6ef042bd0012", "author_name": "Chaotian Jing", "author_email": "chaotian.jing@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-22T14:47:41+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-11T15:58:39+02:00", "subject": "mmc: mediatek: support 24bits segment size", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/mmc/host/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 13, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 12, "score_quality": 10, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature driver commit adding hardware support for 24-bit BDMA buffer length in MediaTek MSDC controller for 64GB DRAM configurations. Clean code change with proper conditional logic based on device compatibility support_64g flag. Well-reviewed with maintainer sign-off. Low-medium subsystem tier (MMC host driver). Small code volume (16 lines changed). No stable backport, CVE, or fixes tags.", "code_snippet": "@@ -641,8 +642,14 @@ static inline void msdc_dma_setup(struct msdc_host *host, struct msdc_dma *dma,\n \t\t\tbd[j].bd_info |= (upper_32_bits(dma_address) & 0xf)\n \t\t\t\t\t << 28;\n \t\t}\n-\t\tbd[j].bd_data_len &= ~BDMA_DESC_BUFLEN;\n-\t\tbd[j].bd_data_len |= (dma_len & BDMA_DESC_BUFLEN);\n+\n+\t\tif (host->dev_comp->support_64g) {\n+\t\t\tbd[j].bd_data_len &= ~BDMA_DESC_BUFLEN_EXT;\n+\t\t\tbd[j].bd_data_len |= (dma_len & BDMA_DESC_BUFLEN_EXT);\n+\t\t} else {\n+\t\t\tbd[j].bd_data_len &= ~BDMA_DESC_BUFLEN;\n+\t\t\tbd[j].bd_data_len |= (dma_len & BDMA_DESC_BUFLEN);\n+\t\t}\n \n \t\tif (j == data->sg_count - 1) /* the last bd */\n \t\t\tbd[j].bd_info |= BDMA_DESC_EOL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6ef042bd00124d589fe8685994af73142bce66d6"}
{"commit_hash": "da6e0f7024ff92e2a68033d6b3980a047d005a85", "short_hash": "da6e0f7024ff", "author_name": "Chaotian Jing", "author_email": "chaotian.jing@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-22T14:47:40+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-11T15:58:39+02:00", "subject": "mmc: mediatek: fix controller busy when plug out SD", "primary_category": "BUG-HANG", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mmc", "subsystems_touched": ["drivers/mmc/host/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware-specific bug fix for MediaTek MMC controller. Addresses controller hang condition during SD card removal with proper reset logic. Maintainer-endorsed with clean commit message explaining the root cause.", "code_snippet": "@@ -1071,11 +1071,13 @@ static bool msdc_cmd_done(struct msdc_host *host, int events,\n \t}\n \n \tif (!sbc_error && !(events & MSDC_INT_CMDRDY)) {\n-\t\tif (cmd->opcode != MMC_SEND_TUNING_BLOCK &&\n-\t\t    cmd->opcode != MMC_SEND_TUNING_BLOCK_HS200)\n+\t\tif (events & MSDC_INT_CMDTMO ||\n+\t\t    (cmd->opcode != MMC_SEND_TUNING_BLOCK &&\n+\t\t     cmd->opcode != MMC_SEND_TUNING_BLOCK_HS200))\n \t\t\t/*\n \t\t\t * should not clear fifo/interrupt as the tune data\n-\t\t\t * may have alreay come.\n+\t\t\t * may have alreay come when cmd19/cmd21 gets response\n+\t\t\t * CRC error.\n \t\t\t */\n \t\t\tmsdc_reset_hw(host);\n \t\tif (events & MSDC_INT_RSPCRCERR) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da6e0f7024ff92e2a68033d6b3980a047d005a85"}
{"commit_hash": "aac60f1a867773de9eb164013d89c99f3ea1f009", "short_hash": "aac60f1a8677", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T02:33:35Z", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-11T16:36:19+01:00", "subject": "KVM: arm/arm64: vgic: Use the appropriate TRACE_INCLUDE_PATH", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "49dfe94fe5ad", "cc_stable": false, "subsystem_prefix": "virt/kvm/arm", "subsystems_touched": ["virt/kvm/arm/vgic/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": ["Masahiro Yamada <yamada.masahiro@socionext.com> (Socionext)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 7, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trace header path fix for KVM/arm VGIC subsystem. References similar fix (49dfe94fe5ad). Single-line change correcting TRACE_INCLUDE_PATH from incorrect ../../../virt/kvm/arm/vgic to ../../virt/kvm/arm/vgic. Has Reviewed-by from Masahiro Yamada (build system maintainer) and Signed-off-by from maintainer Marc Zyngier. Cross-org contribution from Huawei to kernel.org. Build infrastructure fix with low functional impact but high correctness for tracing.", "code_snippet": "@@ -30,7 +30,7 @@ TRACE_EVENT(vgic_update_irq_pending,\n #endif /* _TRACE_VGIC_H */\n \n #undef TRACE_INCLUDE_PATH\n-#define TRACE_INCLUDE_PATH ../../../virt/kvm/arm/vgic\n+#define TRACE_INCLUDE_PATH ../../virt/kvm/arm/vgic\n #undef TRACE_INCLUDE_FILE\n #define TRACE_INCLUDE_FILE trace\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aac60f1a867773de9eb164013d89c99f3ea1f009"}
{"commit_hash": "1328edca4a142ee3c7442d1eece2c3ca383eff35", "short_hash": "1328edca4a14", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-29T16:49:57+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-09-11T17:46:15+02:00", "subject": "cpuidle-haltpoll: Enable kvm guest polling when dedicated physical CPUs are available", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpuidle", "subsystems_touched": ["arch/x86/kernel", "drivers/cpuidle"], "subsystem_tier": 8, "files_changed": 2, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 42, "score_technical": 14, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 3, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "KVM guest polling optimization: exports kvm_arch_para_hints and adds KVM_HINTS_REALTIME check to haltpoll driver, enabling polling only when dedicated CPUs available. Cross-subsystem change (arch/x86 + drivers/cpuidle) with proper review chain.", "code_snippet": "@@ -711,6 +711,7 @@ unsigned int kvm_arch_para_hints(void)\n {\n \treturn cpuid_edx(kvm_cpuid_base() | KVM_CPUID_FEATURES);\n }\n+EXPORT_SYMBOL_GPL(kvm_arch_para_hints);\n \n static uint32_t __init kvm_detect(void)\n {\ndiff --git a/drivers/cpuidle/cpuidle-haltpoll.c b/drivers/cpuidle/cpuidle-haltpoll.c\nindex 49a65c6fe91e..932390b028f1 100644\n--- a/drivers/cpuidle/cpuidle-haltpoll.c\n+++ b/drivers/cpuidle/cpuidle-haltpoll.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1328edca4a142ee3c7442d1eece2c3ca383eff35"}
{"commit_hash": "2b0911d1311e8f3a3cda472e08df21bcc49a5e61", "short_hash": "2b0911d1311e", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-05T14:26:27+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-11T18:05:29+02:00", "subject": "KVM: LAPIC: Micro optimize IPI latency", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 9, "files_changed": 1, "insertions": 4, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 15, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Performance optimization for KVM LAPIC IPI latency. Small focused change (9 lines) reducing IPI testing latency from 3319 to 3203 cycles (~3.5% improvement). Well-tested with kvm-unit-tests benchmark data. Clear commit message with performance metrics. Maintainer (Paolo Bonzini) co-signs. Single file change in critical KVM subsystem.", "code_snippet": "@@ -1198,10 +1198,8 @@ void kvm_apic_set_eoi_accelerated(struct kvm_vcpu *vcpu, int vector)\n }\n EXPORT_SYMBOL_GPL(kvm_apic_set_eoi_accelerated);\n \n-static void apic_send_ipi(struct kvm_lapic *apic)\n+static void apic_send_ipi(struct kvm_lapic *apic, u32 icr_low, u32 icr_high)\n {\n-\tu32 icr_low = kvm_lapic_get_reg(apic, APIC_ICR);\n-\tu32 icr_high = kvm_lapic_get_reg(apic, APIC_ICR2);\n \tstruct kvm_lapic_irq irq;\n \n \tirq.vector = icr_low & APIC_VECTOR_MASK;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b0911d1311e8f3a3cda472e08df21bcc49a5e61"}
{"commit_hash": "95c065400a127291f05ab8a9e72ba65fbcda2335", "short_hash": "95c065400a12", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-05T14:26:28+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-11T18:05:53+02:00", "subject": "KVM: VMX: Stop the preemption timer during vCPU reset", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 19, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line fix for KVM VMX preemption timer bug during vCPU reset. Critical virtualization subsystem. Cross-org contribution from Tencent, signed by Red Hat maintainer. Clear commit message explaining the consistency issue with lapic timer.", "code_snippet": "@@ -4162,6 +4162,7 @@ static void vmx_vcpu_reset(struct kvm_vcpu *vcpu, bool init_event)\n \n \tvcpu->arch.microcode_version = 0x100000000ULL;\n \tvmx->vcpu.arch.regs[VCPU_REGS_RDX] = get_rdx_init_val();\n+\tvmx->hv_deadline_tsc = -1;\n \tkvm_set_cr8(vcpu, 0);\n \n \tif (!init_event) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/95c065400a127291f05ab8a9e72ba65fbcda2335"}
{"commit_hash": "8a15b4d7cd872b784f585d38d9240f6ee588381b", "short_hash": "8a15b4d7cd87", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-12T16:35:27+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-12T07:11:56-06:00", "subject": "block: bypass blk_set_runtime_active for uninitialized q->dev", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 7, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 17, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Null pointer dereference fix in critical block layer power management code. Small defensive patch (7 insertions, 5 deletions) adding safety check for q->dev before accessing it. Excellent commit message explaining the root cause (UFS Well-Known LUNs skipping blk_pm_runtime_init) and rationale for moving validation into the function. Cross-org contribution from Mediatek to block subsystem, signed off by maintainer Jens Axboe.", "code_snippet": "@@ -207,10 +207,12 @@ EXPORT_SYMBOL(blk_post_runtime_resume);\n  */\n void blk_set_runtime_active(struct request_queue *q)\n {\n-\tspin_lock_irq(&q->queue_lock);\n-\tq->rpm_status = RPM_ACTIVE;\n-\tpm_runtime_mark_last_busy(q->dev);\n-\tpm_request_autosuspend(q->dev);\n-\tspin_unlock_irq(&q->queue_lock);\n+\tif (q->dev) {\n+\t\tspin_lock_irq(&q->queue_lock);\n+\t\tq->rpm_status = RPM_ACTIVE;\n+\t\tpm_runtime_mark_last_busy(q->dev);\n+\t\tpm_request_autosuspend(q->dev);\n+\t\tspin_unlock_irq(&q->queue_lock);\n+\t}\n }\n EXPORT_SYMBOL(blk_set_runtime_active);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a15b4d7cd872b784f585d38d9240f6ee588381b"}
{"commit_hash": "b804049dce9128a88558bc1594ff96d6632fbc10", "short_hash": "b804049dce91", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-12T16:35:28+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-12T07:11:58-06:00", "subject": "scsi: core: remove dummy q->dev check", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup removing redundant NULL check in SCSI power management code. Well-reviewed with maintainer sign-off. Low impact as it removes dead code already handled by the called function.", "code_snippet": "@@ -94,8 +94,7 @@ static int scsi_dev_type_resume(struct device *dev,\n \t\tif (!err && scsi_is_sdev_device(dev)) {\n \t\t\tstruct scsi_device *sdev = to_scsi_device(dev);\n \n-\t\t\tif (sdev->request_queue->dev)\n-\t\t\t\tblk_set_runtime_active(sdev->request_queue);\n+\t\t\tblk_set_runtime_active(sdev->request_queue);\n \t\t}\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b804049dce9128a88558bc1594ff96d6632fbc10"}
{"commit_hash": "4adcdcea717cb2d8436bef00dd689aa5bc76f11b", "short_hash": "4adcdcea717c", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-12T18:34:52+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-13T07:49:28+02:00", "subject": "sched/psi: Correct overly pessimistic size calculation", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/sched", "subsystems_touched": ["kernel/sched"], "subsystem_tier": 9, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 12, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for PSI (Pressure Stall Information) buffer size calculation causing data truncation. Single-line change from sizeof(buf)-1 to sizeof(buf). Core scheduler subsystem (tier 9). Strong commit message with detailed before/after test output demonstrating the issue. Signed off by maintainer Ingo Molnar. Low user impact as normal use cases unaffected. Manual testing shown in commit message.", "code_snippet": "@@ -1190,7 +1190,7 @@ static ssize_t psi_write(struct file *file, const char __user *user_buf,\n \tif (static_branch_likely(&psi_disabled))\n \t\treturn -EOPNOTSUPP;\n \n-\tbuf_size = min(nbytes, (sizeof(buf) - 1));\n+\tbuf_size = min(nbytes, sizeof(buf));\n \tif (copy_from_user(buf, user_buf, buf_size))\n \t\treturn -EFAULT;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4adcdcea717cb2d8436bef00dd689aa5bc76f11b"}
{"commit_hash": "7359d108d44b823d5da049ee12302125a08f2216", "short_hash": "7359d108d44b", "author_name": "luhua.xu", "author_email": "luhua.xu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-11T05:55:29-04:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-13T10:40:08+01:00", "subject": "dt-bindings: spi: update bindings for MT6765 SoC", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/spi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["luhua.xu <luhua.xu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding DT binding entry for MT6765 SoC. Single line addition to device tree binding documentation. Clean commit message with proper tags. Cross-org contribution from MediaTek developer, reviewed and signed off by maintainer Mark Brown.", "code_snippet": "@@ -5,6 +5,7 @@ Required properties:\n     - mediatek,mt2701-spi: for mt2701 platforms\n     - mediatek,mt2712-spi: for mt2712 platforms\n     - mediatek,mt6589-spi: for mt6589 platforms\n+    - mediatek,mt6765-spi: for mt6765 platforms\n     - mediatek,mt7622-spi: for mt7622 platforms\n     - \"mediatek,mt7629-spi\", \"mediatek,mt7622-spi\": for mt7629 platforms\n     - mediatek,mt8135-spi: for mt8135 platforms\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7359d108d44b823d5da049ee12302125a08f2216"}
{"commit_hash": "2c231e0ab638519759c9a7203ecced0aa457c6c3", "short_hash": "2c231e0ab638", "author_name": "luhua.xu", "author_email": "luhua.xu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-11T05:55:30-04:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-13T10:40:37+01:00", "subject": "spi: mediatek: add spi support for mt6765 IC", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["luhua.xu <luhua.xu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Driver enablement commit adding SPI support for MediaTek MT6765 SoC. Low code volume (9 insertions) adding device ID and compatibility struct. Signed by maintainer Mark Brown. Hardware feature addition in SPI subsystem (tier 4).", "code_snippet": "@@ -102,6 +102,12 @@ static const struct mtk_spi_compatible mt2712_compat = {\n \t.must_tx = true,\n };\n \n+static const struct mtk_spi_compatible mt6765_compat = {\n+\t.need_pad_sel = true,\n+\t.must_tx = true,\n+\t.enhance_timing = true,\n+};\n+\n static const struct mtk_spi_compatible mt7622_compat = {\n \t.must_tx = true,\n \t.enhance_timing = true,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c231e0ab638519759c9a7203ecced0aa457c6c3"}
{"commit_hash": "fdeae8f5a2e5eb3fcc9c295bfb28503c3abd4d6e", "short_hash": "fdeae8f5a2e5", "author_name": "luhua.xu", "author_email": "luhua.xu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-11T05:55:31-04:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-13T10:41:10+01:00", "subject": "spi: mediatek: support large PA", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["spi/", "drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 39, "deletions": 5, "hunks": 16, "review_chain": {"signed_off_by": ["luhua.xu <luhua.xu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 7, "score_impact": 16, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature adds 36-bit DMA address support for MediaTek SPI controller to enable transfers up to 64GB. Well-scoped driver enhancement with proper SoC compatibility handling (dma_ext flag). Code added appropriately masks 32-bit register writes and conditionally writes upper 4 bits via new 64-bit registers on capable hardware. Maintainer (Mark Brown) signed off, indicating review. Cross-org contribution from MediaTek engineer.", "code_snippet": "@@ -73,6 +76,10 @@\n \n #define MTK_SPI_MAX_FIFO_SIZE 32U\n #define MTK_SPI_PACKET_SIZE 1024\n+#define MTK_SPI_32BITS_MASK  (0xffffffff)\n+\n+#define DMA_ADDR_EXT_BITS (36)\n+#define DMA_ADDR_DEF_BITS (32)\n \n struct mtk_spi_compatible {\n \tbool need_pad_sel;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fdeae8f5a2e5eb3fcc9c295bfb28503c3abd4d6e"}
{"commit_hash": "3dfb22003f98ab076c2c19121f05d8fe9e150e17", "short_hash": "3dfb22003f98", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T00:24:08+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-09-13T16:45:17+03:00", "subject": "brcmsmac: Use DIV_ROUND_CLOSEST directly to make it readable", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/brcm80211/brcmsmac/phy/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 7, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing manual rounding calculations with DIV_ROUND_CLOSEST macro for improved readability. Affects wireless driver PHY calibration code. Cross-org contribution from Huawei to Broadcom wireless subsystem, reviewed by maintainer Kalle Valo. Low functional impact as behavior is identical, only code presentation changes.", "code_snippet": "@@ -26990,8 +26990,8 @@ wlc_phy_rxcal_gainctrl_nphy_rev5(struct brcms_phy *pi, u8 rx_core,\n \t\t\t\t     NPHY_RXCAL_TONEAMP, 0, cal_type, false);\n \n \t\twlc_phy_rx_iq_est_nphy(pi, est, num_samps, 32, 0);\n-\t\ti_pwr = (est[rx_core].i_pwr + num_samps / 2) / num_samps;\n-\t\tq_pwr = (est[rx_core].q_pwr + num_samps / 2) / num_samps;\n+\t\ti_pwr = DIV_ROUND_CLOSEST(est[rx_core].i_pwr, num_samps);\n+\t\tq_pwr = DIV_ROUND_CLOSEST(est[rx_core].q_pwr, num_samps);\n \t\tcurr_pwr = i_pwr + q_pwr;\n \n \t\tswitch (gainctrl_dirn) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3dfb22003f98ab076c2c19121f05d8fe9e150e17"}
{"commit_hash": "3b961b4f83161857ed671f489d00266469f34053", "short_hash": "3b961b4f8316", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T22:17:27+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-13T16:55:55-03:00", "subject": "RDMA/hns: Use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 7, "score_impact": 6, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use modern API helper. Code volume minimal (-3/+1 lines). Subsystem is mid-tier (infiniband driver). Maintenance category gets low base score. Cross-org collaboration (Huawei author, Mellanox maintainer). Good review chain with Reviewed-by and maintainer sign-off.", "code_snippet": "@@ -4517,7 +4517,6 @@ static int hns_roce_get_cfg(struct hns_roce_dev *hr_dev)\n \tstruct platform_device *pdev = NULL;\n \tstruct net_device *netdev = NULL;\n \tstruct device_node *net_node;\n-\tstruct resource *res;\n \tint port_cnt = 0;\n \tu8 phy_port;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b961b4f83161857ed671f489d00266469f34053"}
{"commit_hash": "fb3925d06c285e1acb248addc5d80b33ea771b0f", "short_hash": "fb3925d06c28", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-05T10:03:22+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-14T00:19:46+02:00", "subject": "KVM: X86: Use IPI shorthands in kvm guest when support", "primary_category": "FEAT-OPT", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/x86/kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 53, "score_technical": 11, "score_impact": 19, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Optimization patch enabling IPI shorthands in KVM guests to reduce PV IPI hypercalls. Clean removal of 2 wrapper functions (12 deletions, 0 insertions). Strong author-maintainer collaboration (Tencent -> Red Hat). Well-documented with clear technical rationale and proper CCs to subsystem maintainers.", "code_snippet": "@@ -502,16 +502,6 @@ static void kvm_send_ipi_mask_allbutself(const struct cpumask *mask, int vector)\n \t__send_ipi_mask(local_mask, vector);\n }\n \n-static void kvm_send_ipi_allbutself(int vector)\n-{\n-\tkvm_send_ipi_mask_allbutself(cpu_online_mask, vector);\n-}\n-\n-static void kvm_send_ipi_all(int vector)\n-{\n-\t__send_ipi_mask(cpu_online_mask, vector);\n-}\n-\n /*\n  * Set the IPI entry points\n  */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb3925d06c285e1acb248addc5d80b33ea771b0f"}
{"commit_hash": "3d24430694077313c75c6b89f618db09943621e4", "short_hash": "3d2443069407", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-21T15:59:03+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-15T16:02:08-06:00", "subject": "block: make rq sector size accessible for block stats", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "4bc6339a583c", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 9, "files_changed": 3, "insertions": 19, "deletions": 10, "hunks": 14, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": ["Pavel Begunkov <asml.silence@gmail.com> (Gmail)"], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 12, "score_impact": 13, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for block stats sampling broken by previous commit. Reuses throtl_size field as stats_sectors to preserve request size through completion. Cross-org contribution (Huawei -> Axboe), clean fixes tag, tested-by tag, good explanation. Core block layer subsystem (tier 9). Moderate impact - affects stats accuracy but not critical functionality.", "code_snippet": "@@ -44,12 +44,12 @@ static void blk_mq_poll_stats_fn(struct blk_stat_callback *cb);\n \n static int blk_mq_poll_stats_bkt(const struct request *rq)\n {\n-\tint ddir, bytes, bucket;\n+\tint ddir, sectors, bucket;\n \n \tddir = rq_data_dir(rq);\n-\tbytes = blk_rq_bytes(rq);\n+\tsectors = blk_rq_stats_sectors(rq);\n \n-\tbucket = ddir + 2*(ilog2(bytes) - 9);\n+\tbucket = ddir + 2 * ilog2(sectors);\n \n \tif (bucket < 0)\n \t\treturn -1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d24430694077313c75c6b89f618db09943621e4"}
{"commit_hash": "9a91b05bba58e5bd83034e69407d11641e8064e9", "short_hash": "9a91b05bba58", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-21T15:59:04+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-15T16:02:10-06:00", "subject": "block: also check RQF_STATS in blk_mq_need_time_stamp()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 9, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor bug fix in block layer ensuring timestamp validity when block stats are enabled. Small change (3 insertions, 3 deletions) in core block subsystem. Cross-org contribution (Huawei author, Axboe maintainer signoff). Clean commit message explaining the root cause and fix.", "code_snippet": "@@ -282,12 +282,12 @@ bool blk_mq_can_queue(struct blk_mq_hw_ctx *hctx)\n EXPORT_SYMBOL(blk_mq_can_queue);\n \n /*\n- * Only need start/end time stamping if we have stats enabled, or using\n- * an IO scheduler.\n+ * Only need start/end time stamping if we have iostat or\n+ * blk stats enabled, or using an IO scheduler.\n  */\n static inline bool blk_mq_need_time_stamp(struct request *rq)\n {\n-\treturn (rq->rq_flags & RQF_IO_STAT) || rq->q->elevator;\n+\treturn (rq->rq_flags & (RQF_IO_STAT | RQF_STATS)) || rq->q->elevator;\n }\n \n static struct request *blk_mq_rq_ctx_init(struct blk_mq_alloc_data *data,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a91b05bba58e5bd83034e69407d11641e8064e9"}
{"commit_hash": "8615b94f029a4fb4306d3512aaf1c45f5fc24d4b", "short_hash": "8615b94f029a", "author_name": "Zhihao Cheng", "author_email": "chengzhihao1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-10T17:57:41+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-09-15T21:55:19+02:00", "subject": "ubi: ubi_wl_get_peb: Increase the number of attempts while getting PEB", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd/ubi", "subsystems_touched": ["drivers/mtd/ubi/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zhihao Cheng <chengzhihao1@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 7, "score_impact": 16, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Race condition fix in UBI fastmap workqueue causing ENOSPC errors. Small change (6 lines) but fixes critical concurrency bug that could brick devices. Cross-org contribution (Huawei to maintainer). Excellent commit message with detailed reproduction steps and test data across multiple architectures.", "code_snippet": "@@ -196,7 +196,7 @@ static int produce_free_peb(struct ubi_device *ubi)\n  */\n int ubi_wl_get_peb(struct ubi_device *ubi)\n {\n-\tint ret, retried = 0;\n+\tint ret, attempts = 0;\n \tstruct ubi_fm_pool *pool = &ubi->fm_pool;\n \tstruct ubi_fm_pool *wl_pool = &ubi->fm_wl_pool;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8615b94f029a4fb4306d3512aaf1c45f5fc24d4b"}
{"commit_hash": "f3d45ac21e464f24cb97b3f6cc68be8eef7f7b56", "short_hash": "f3d45ac21e46", "author_name": "Xiaoming Ni", "author_email": "nixiaoming@huawei.com", "author_company": "Huawei", "author_date": "2019-07-14T11:57:18+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-09-15T23:50:38+02:00", "subject": "mtd: phram: Module parameters add writable permissions", "primary_category": "FEAT-OTHER", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd", "subsystems_touched": ["drivers/mtd/devices/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiaoming Ni <nixiaoming@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 4, "score_impact": 10, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Huawei developer adds multi-device support to phram MTD driver by changing module permissions from 000 to 0200. Very small change (1 line) that enables sysfs interface for runtime device configuration. Cross-org contribution (Huawei author, upstream maintainer signoff). Good commit message explaining the problem and solution.", "code_snippet": "@@ -294,7 +294,7 @@ static int phram_param_call(const char *val, const struct kernel_param *kp)\n #endif\n }\n \n-module_param_call(phram, phram_param_call, NULL, NULL, 000);\n+module_param_call(phram, phram_param_call, NULL, NULL, 0200);\n MODULE_PARM_DESC(phram, \"Memory region to map. \\\"phram=<name>,<start>,<length>\\\"\");\n \n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f3d45ac21e464f24cb97b3f6cc68be8eef7f7b56"}
{"commit_hash": "2cfcfadb8e1380938d6631cffa4fa567b13f52b2", "short_hash": "2cfcfadb8e13", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T10:52:30+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-09-15T23:51:07+02:00", "subject": "mtd: pmc551: Remove set but not used variable 'soff_lo'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/devices/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable to fix compiler warnings. 3 insertions, 6 deletions across one file in MTD subsystem (low tier). Good commit message with context and references. Cross-org contribution from Huawei to maintainer Richard Weinberger.", "code_snippet": "@@ -135,7 +135,7 @@ static int pmc551_point(struct mtd_info *mtd, loff_t from, size_t len,\n static int pmc551_erase(struct mtd_info *mtd, struct erase_info *instr)\n {\n \tstruct mypriv *priv = mtd->priv;\n-\tu32 soff_hi, soff_lo;\t/* start address offset hi/lo */\n+\tu32 soff_hi;\t\t/* start address offset hi */\n \tu32 eoff_hi, eoff_lo;\t/* end address offset hi/lo */\n \tunsigned long end;\n \tu_char *ptr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2cfcfadb8e1380938d6631cffa4fa567b13f52b2"}
{"commit_hash": "2032324682c1ca563e33c56e51d9ae17a2b38105", "short_hash": "2032324682c1", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T14:15:05+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-09-16T10:42:56-05:00", "subject": "drm/amdgpu: remove the redundant null checks", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing redundant NULL checks before kfree() and debugfs_remove(). Cross-org contribution from Huawei to AMD GPU subsystem with maintainer sign-off. No functional change, low impact.", "code_snippet": "@@ -1077,8 +1077,7 @@ static int amdgpu_debugfs_ib_preempt(void *data, u64 val)\n \n \tttm_bo_unlock_delayed_workqueue(&adev->mman.bdev, resched);\n \n-\tif (fences)\n-\t\tkfree(fences);\n+\tkfree(fences);\n \n \treturn 0;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2032324682c1ca563e33c56e51d9ae17a2b38105"}
{"commit_hash": "395b59a116a24916019cfc5e34b3f44743c01b2d", "short_hash": "395b59a116a2", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-08-29T16:41:42+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-16T10:52:20-03:00", "subject": "RDMA/hns: Package operations of rq inline buffer into separate functions", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 56, "deletions": 39, "hunks": 16, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 10, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 1, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that extracts RQ inline buffer allocation/freeing into separate functions to reduce complexity in hns_roce_create_qp_common. Good review chain (author + maintainer sign-offs), clean commit message with link. No user-visible changes, no stable backport, driver-specific code.", "code_snippet": "@@ -635,6 +635,50 @@ static int hns_roce_qp_has_rq(struct ib_qp_init_attr *attr)\n \treturn 1;\n }\n \n+static int alloc_rq_inline_buf(struct hns_roce_qp *hr_qp,\n+\t\t\t       struct ib_qp_init_attr *init_attr)\n+{\n+\tu32 max_recv_sge = init_attr->cap.max_recv_sge;\n+\tstruct hns_roce_rinl_wqe *wqe_list;\n+\tu32 wqe_cnt = hr_qp->rq.wqe_cnt;\n+\tint i;\n+\n+\t/* allocate recv inline buf */\n+\twqe_list = kcalloc(wqe_cnt, sizeof(struct hns_roce_rinl_wqe),\n+\t\t\t   GFP_KERNEL);\n+\n+\tif (!wqe_list)\n+\t\tgoto err;\n+\n+\t/* Allocate a continuous buffer for all inline sge we need */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/395b59a116a24916019cfc5e34b3f44743c01b2d"}
{"commit_hash": "3d50503b3b33d87bc929eee6b65d206a36bc4579", "short_hash": "3d50503b3b33", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-08-29T16:41:41+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-09-16T10:52:20-03:00", "subject": "RDMA/hns: Optimize cmd init and mode selection for hip08", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 2, "insertions": 5, "deletions": 13, "hunks": 8, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 6, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring of command queue mode switching logic in RDMA/hns driver. Removes unnecessary semaphore operations during mode transitions, simplifying the code. 2 files changed with -5/+13 lines. Good commit message with detailed explanation. Cross-company collaboration (Huawei author, Mellanox maintainer). No CVE, no stable tag, focused on internal driver optimization.", "code_snippet": "@@ -251,23 +251,15 @@ int hns_roce_cmd_use_events(struct hns_roce_dev *hr_dev)\n \thr_cmd->token_mask = CMD_TOKEN_MASK;\n \thr_cmd->use_events = 1;\n \n-\tdown(&hr_cmd->poll_sem);\n-\n \treturn 0;\n }\n \n void hns_roce_cmd_use_polling(struct hns_roce_dev *hr_dev)\n {\n \tstruct hns_roce_cmdq *hr_cmd = &hr_dev->cmd;\n-\tint i;\n-\n-\thr_cmd->use_events = 0;\n-\n-\tfor (i = 0; i < hr_cmd->max_cmds; ++i)\n-\t\tdown(&hr_cmd->event_sem);\n \n \tkfree(hr_cmd->context);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d50503b3b33d87bc929eee6b65d206a36bc4579"}
{"commit_hash": "31ebdc11340abfdb02b7cdbfcc5531b7f479d58d", "short_hash": "31ebdc11340a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-23T20:15:35+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-09-16T11:43:37-05:00", "subject": "cifs: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 8, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing 3 unused variables in CIFS filesystem to fix gcc compiler warnings. Simple deletion-only change with well-documented rationale tracing historical commits. Cross-org contribution from Huawei with maintainer sign-off.", "code_snippet": "@@ -1770,8 +1767,6 @@ cifs_write(struct cifsFileInfo *open_file, __u32 pid, const char *write_data,\n \tstruct cifsInodeInfo *cifsi = CIFS_I(d_inode(dentry));\n \tstruct cifs_io_parms io_parms;\n \n-\tcifs_sb = CIFS_SB(dentry->d_sb);\n-\n \tcifs_dbg(FYI, \"write %zd bytes to offset %lld of %pd\\n\",\n \t\t write_size, *offset, dentry);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31ebdc11340abfdb02b7cdbfcc5531b7f479d58d"}
{"commit_hash": "2617474bfa33ab6c47c515e57dfbe754f8970640", "short_hash": "2617474bfa33", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T22:00:47+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-09-16T11:43:37-05:00", "subject": "cifs: remove unused variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 7, "files_changed": 2, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 9, "score_impact": 6, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables in CIFS/SMB2 code. Low code volume (4 deletions), mid-tier filesystem subsystem. Base score 5 for cleanup. Good review chain with maintainer sign-off. Clear commit message explaining the change. Cross-org contribution from Huawei to Microsoft-maintained code.", "code_snippet": "@@ -1711,7 +1710,6 @@ int cifs_lock(struct file *file, int cmd, struct file_lock *flock)\n \tcifs_read_flock(flock, &type, &lock, &unlock, &wait_flag,\n \t\t\ttcon->ses->server);\n \tcifs_sb = CIFS_FILE_SB(file);\n-\tnetfid = cfile->fid.netfid;\n \tcinode = CIFS_I(file_inode(file));\n \n \tif (cap_unix(tcon->ses) &&\ndiff --git a/fs/cifs/smb2ops.c b/fs/cifs/smb2ops.c\nindex 461a68fdff1f..070d0b7b21dc 100644\n--- a/fs/cifs/smb2ops.c\n+++ b/fs/cifs/smb2ops.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2617474bfa33ab6c47c515e57dfbe754f8970640"}
{"commit_hash": "6058f11870b8e6d4f5cc7b591097c00bf69a000d", "short_hash": "6058f11870b8", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:12+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "mailbox: mediatek: cmdq: clear the event in cmdq initial flow", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "623a6143a845", "cc_stable": false, "subsystem_prefix": "drivers/mailbox", "subsystems_touched": ["drivers/mailbox", "include/linux/mailbox", "include/linux/soc"], "subsystem_tier": 6, "files_changed": 3, "insertions": 8, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 9, "score_impact": 15, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 1, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for MediaTek CMDQ driver hardware initialization issue. Includes Fixes tag referencing original commit. Has 2 reviewers from same company. Low code volume (11 lines changed), affects mailbox subsystem. Good commit message explaining hardware behavior. No stable CC or cross-org involvement.", "code_snippet": "@@ -104,8 +105,12 @@ static void cmdq_thread_resume(struct cmdq_thread *thread)\n \n static void cmdq_init(struct cmdq *cmdq)\n {\n+\tint i;\n+\n \tWARN_ON(clk_enable(cmdq->clock) < 0);\n \twritel(CMDQ_THR_ACTIVE_SLOT_CYCLES, cmdq->base + CMDQ_THR_SLOT_CYCLES);\n+\tfor (i = 0; i <= CMDQ_MAX_EVENT; i++)\n+\t\twritel(i, cmdq->base + CMDQ_SYNC_TOKEN_UPDATE);\n \tclk_disable(cmdq->clock);\n }\n \ndiff --git a/include/linux/mailbox/mtk-cmdq-mailbox.h b/include/linux/mailbox/mtk-cmdq-mailbox.h\nindex ccb73422c2fa..e6f54ef6698b 100644\n--- a/include/linux/mailbox/mtk-cmdq-mailbox.h\n+++ b/include/linux/mailbox/mtk-cmdq-mailbox.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6058f11870b8e6d4f5cc7b591097c00bf69a000d"}
{"commit_hash": "286358c444d5bcae260659bcd8a0b3bf317e9cc8", "short_hash": "286358c444d5", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:11+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "mailbox: mediatek: cmdq: support mt8183 gce function", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/mailbox"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Driver support addition for MediaTek MT8183 GCE (Command Queue Engine) - single line compatible string addition with proper review chain. Low code volume (1 insertion) but enables new hardware support. Reviewed internally by CK Hu, signed by subsystem maintainer Jassi Brar.", "code_snippet": "@@ -539,6 +539,7 @@ static const struct dev_pm_ops cmdq_pm_ops = {\n \n static const struct of_device_id cmdq_of_ids[] = {\n \t{.compatible = \"mediatek,mt8173-gce\", .data = (void *)16},\n+\t{.compatible = \"mediatek,mt8183-gce\", .data = (void *)24},\n \t{}\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/286358c444d5bcae260659bcd8a0b3bf317e9cc8"}
{"commit_hash": "2c49e4e846bf365e8e683e3229d240f70eef65fc", "short_hash": "2c49e4e846bf", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:10+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "mailbox: mediatek: cmdq: move the CMDQ_IRQ_MASK into cmdq driver data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/mailbox/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 7, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that moves CMDQ_IRQ_MASK from a macro to driver data, calculated dynamically from thread number using GENMASK. This improves maintainability by removing hardcoded values. Code change is small (7 insertions, 5 deletions) contained within a single driver file. Strong review chain with two Reviewed-by tags from Mediatek maintainers. Clean commit message explaining the positive correlation between interrupt mask and thread number. No cross-subsystem impact, no stable cc, no user-facing changes.", "code_snippet": "@@ -285,11 +285,11 @@ static irqreturn_t cmdq_irq_handler(int irq, void *dev)\n \tunsigned long irq_status, flags = 0L;\n \tint bit;\n \n-\tirq_status = readl(cmdq->base + CMDQ_CURR_IRQ_STATUS) & CMDQ_IRQ_MASK;\n-\tif (!(irq_status ^ CMDQ_IRQ_MASK))\n+\tirq_status = readl(cmdq->base + CMDQ_CURR_IRQ_STATUS) & cmdq->irq_mask;\n+\tif (!(irq_status ^ cmdq->irq_mask))\n \t\treturn IRQ_NONE;\n \n-\tfor_each_clear_bit(bit, &irq_status, fls(CMDQ_IRQ_MASK)) {\n+\tfor_each_clear_bit(bit, &irq_status, cmdq->thread_nr) {\n \t\tstruct cmdq_thread *thread = &cmdq->thread[bit];\n \n \t\tspin_lock_irqsave(&thread->chan->lock, flags);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c49e4e846bf365e8e683e3229d240f70eef65fc"}
{"commit_hash": "2d645217f1982190a54b2b0cb5f5ca42ec4d165e", "short_hash": "2d645217f198", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:09+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "dt-binding: gce: add binding for gce client reg property", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 12, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change for device tree binding. Adds new optional property 'mediatek,gce-client-reg' to replace required 'mediatek,gce-subsys'. Reviewed by DT maintainer Rob Herring. Small scope (12 insertions, 4 deletions) affecting only binding documentation. Low technical impact as it's documentation, not code.", "code_snippet": "@@ -25,8 +25,16 @@ Required properties:\n Required properties for a client device:\n - mboxes: Client use mailbox to communicate with GCE, it should have this\n   property and list of phandle, mailbox specifiers.\n-- mediatek,gce-subsys: u32, specify the sub-system id which is corresponding\n-  to the register address.\n+Optional properties for a client device:\n+- mediatek,gce-client-reg: Specify the sub-system id which is corresponding\n+  to the register address, it should have this property and list of phandle,\n+  sub-system specifiers.\n+  <&phandle subsys_number start_offset size>\n+  phandle: Label name of a gce node.\n+  subsys_number: specify the sub-system id which is corresponding\n+                 to the register address.\n+  start_offset: the start offset of register address that GCE can access.\n+  size: the total size of register address that GCE can access.\n \n Some vaules of properties are defined in 'dt-bindings/gce/mt8173-gce.h'\n or 'dt-binding/gce/mt8183-gce.h'. Such as sub-system ids, thread priority, event ids.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2d645217f1982190a54b2b0cb5f5ca42ec4d165e"}
{"commit_hash": "8fedf805fa42842c0ef0aece9dbee957d805a8ea", "short_hash": "8fedf805fa42", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:08+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "dt-binding: gce: add gce header file for mt8183", "primary_category": "FEAT-DRIVER", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mailbox", "subsystems_touched": ["Documentation/devicetree/bindings/mailbox/", "include/dt-bindings/gce/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 178, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "New device tree binding support for MediaTek MT8183 GCE (Global Command Engine) hardware. Adds comprehensive header file with 175 lines of hardware event definitions and subsystem IDs. Properly reviewed by Rob Herring (DT maintainer). Low technical complexity as it's pure header/documentation additions without driver logic changes.", "code_snippet": "@@ -28,8 +28,8 @@ Required properties for a client device:\n - mediatek,gce-subsys: u32, specify the sub-system id which is corresponding\n   to the register address.\n \n-Some vaules of properties are defined in 'dt-bindings/gce/mt8173-gce.h'. Such as\n-sub-system ids, thread priority, event ids.\n+Some vaules of properties are defined in 'dt-bindings/gce/mt8173-gce.h'\n+or 'dt-binding/gce/mt8183-gce.h'. Such as sub-system ids, thread priority, event ids.\n \n Example:\n \ndiff --git a/include/dt-bindings/gce/mt8183-gce.h b/include/dt-bindings/gce/mt8183-gce.h\nnew file mode 100644\nindex 000000000000..29c967476f73\n--- /dev/null\n+++ b/include/dt-bindings/gce/mt8183-gce.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8fedf805fa42842c0ef0aece9dbee957d805a8ea"}
{"commit_hash": "472dff037178dffdf28b8d942f1b32c1b2531ad8", "short_hash": "472dff037178", "author_name": "Bibby Hsieh", "author_email": "bibby.hsieh@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T09:48:07+08:00", "committer_name": "Jassi Brar", "committer_email": "jaswinder.singh@linaro.org", "committer_company": "Linaro", "commit_date": "2019-09-17T00:40:05-05:00", "subject": "dt-binding: gce: remove thread-num property", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/", "subsystems_touched": ["Documentation/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Bibby Hsieh <bibby.hsieh@mediatek.com> (MediaTek)", "Jassi Brar <jaswinder.singh@linaro.org> (Linaro)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: TIMEOUT. This commit needs to be re-analyzed.", "code_snippet": "@@ -39,7 +39,6 @@ Example:\n \t\tinterrupts = <GIC_SPI 135 IRQ_TYPE_LEVEL_LOW>;\n \t\tclocks = <&infracfg CLK_INFRA_GCE>;\n \t\tclock-names = \"gce\";\n-\t\tthread-num = CMDQ_THR_MAX_COUNT;\n \t\t#mbox-cells = <3>;\n \t};\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/472dff037178dffdf28b8d942f1b32c1b2531ad8"}
{"commit_hash": "5aa00ad3fd3338eba1ed8bbb1a142eb40f43d728", "short_hash": "5aa00ad3fd33", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T16:22:12+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-17T10:17:39-07:00", "subject": "dt-bindings: clock: mediatek: add pericfg for MT8183", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/devicetree", "subsystems_touched": ["Documentation/devicetree/bindings/arm/mediatek/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 5, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Documentation-only change adding DT binding entry for MT8183 pericfg. Single line addition to devicetree bindings. Acked by Rob Herring (DT maintainer). Low technical complexity and impact.", "code_snippet": "@@ -14,6 +14,7 @@ Required Properties:\n \t- \"mediatek,mt7629-pericfg\", \"syscon\"\n \t- \"mediatek,mt8135-pericfg\", \"syscon\"\n \t- \"mediatek,mt8173-pericfg\", \"syscon\"\n+\t- \"mediatek,mt8183-pericfg\", \"syscon\"\n - #clock-cells: Must be 1\n - #reset-cells: Must be 1\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5aa00ad3fd3338eba1ed8bbb1a142eb40f43d728"}
{"commit_hash": "f9e55ac22ce9246c085e1c97ddda93608ce17eaf", "short_hash": "f9e55ac22ce9", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T16:22:13+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-17T10:17:41-07:00", "subject": "clk: mediatek: add pericfg clocks for MT8183", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek/", "include/dt-bindings/clock/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 34, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 15, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New peripheral clock support for MT8183 SoC enabling USB remote wakeup feature. Well-reviewed driver addition with proper maintainer ack (Rob Herring) and sign-offs. Medium-tier clock subsystem, low code volume (34 insertions), no deletions. Clean atomic commit adding complete pericfg clock controller support.", "code_snippet": "@@ -1002,6 +1002,20 @@ static const struct mtk_gate infra_clks[] = {\n \t\t\"msdc50_0_sel\", 24),\n };\n \n+static const struct mtk_gate_regs peri_cg_regs = {\n+\t.set_ofs = 0x20c,\n+\t.clr_ofs = 0x20c,\n+\t.sta_ofs = 0x20c,\n+};\n+\n+#define GATE_PERI(_id, _name, _parent, _shift)\t\t\t\\\n+\tGATE_MTK(_id, _name, _parent, &peri_cg_regs, _shift,\t\\\n+\t\t&mtk_clk_gate_ops_no_setclr_inv)\n+\n+static const struct mtk_gate peri_clks[] = {\n+\tGATE_PERI(CLK_PERI_AXI, \"peri_axi\", \"axi_sel\", 31),\n+};\n+\n static const struct mtk_gate_regs apmixed_cg_regs = {\n \t.set_ofs = 0x20,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f9e55ac22ce9246c085e1c97ddda93608ce17eaf"}
{"commit_hash": "327aa741563806f8b67fbf5e665be203acf5f4f5", "short_hash": "327aa7415638", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-02T17:00:58+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-17T10:22:49-07:00", "subject": "clk: mediatek: Runtime PM support for MT8183 mcucfg clock provider", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 9, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small change adding runtime PM support to MediaTek clock provider. Forwarded by maintainer Stephen Boyd. Enablement of power management feature for better power efficiency in MT8183 mcucfg clock provider.", "code_snippet": "@@ -5,6 +5,7 @@\n \n #include <linux/clk-provider.h>\n #include <linux/platform_device.h>\n+#include <linux/pm_runtime.h>\n \n #include \"clk-mtk.h\"\n #include \"clk-gate.h\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/327aa741563806f8b67fbf5e665be203acf5f4f5"}
{"commit_hash": "e4c23e19aa2a611c2068f7c55487d2cbfea690ef", "short_hash": "e4c23e19aa2a", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-02T17:00:57+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-17T10:22:49-07:00", "subject": "clk: mediatek: Register clock gate with device", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/mediatek"], "subsystem_tier": 4, "files_changed": 4, "insertions": 23, "deletions": 6, "hunks": 16, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 11, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature adding runtime PM support to MediaTek clock gates by forwarding device pointer. Small scope (4 files, 29 lines), affects clk subsystem tier 4. Maintainer Stephen Boyd signed off. Cross-org contribution from Mediatek. Clean implementation with new wrapper function for backward compatibility.", "code_snippet": "@@ -136,6 +138,14 @@ int mtk_clk_register_gates(struct device_node *node,\n \treturn 0;\n }\n \n+int mtk_clk_register_gates(struct device_node *node,\n+\t\tconst struct mtk_gate *clks,\n+\t\tint num, struct clk_onecell_data *clk_data)\n+{\n+\treturn mtk_clk_register_gates_with_dev(node,\n+\t\tclks, num, clk_data, NULL);\n+}\n+\n struct clk *mtk_clk_register_composite(const struct mtk_composite *mc,\n \t\tvoid __iomem *base, spinlock_t *lock)\n {\ndiff --git a/drivers/clk/mediatek/clk-mtk.h b/drivers/clk/mediatek/clk-mtk.h\nindex 2e9e26084798..c3d6756b0c7e 100644\n--- a/drivers/clk/mediatek/clk-mtk.h\n+++ b/drivers/clk/mediatek/clk-mtk.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4c23e19aa2a611c2068f7c55487d2cbfea690ef"}
{"commit_hash": "5f5ad9ced33621d353be6429c3900f8a526fcae8", "short_hash": "5f5ad9ced336", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-09-18T10:37:53+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-18T11:19:06-06:00", "subject": "io_uring: fix use-after-free of shadow_req", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "4fe2c963154c", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 20, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Use-after-free fix in io_uring core. Maintainer-signed (Axboe). 2-line NULL pointer cleanup preventing dangling pointer in linked SQE series. Fixes: tag present.", "code_snippet": "@@ -2357,6 +2357,7 @@ static int io_submit_sqes(struct io_ring_ctx *ctx, struct sqe_submit *sqes,\n \t\t\tio_queue_link_head(ctx, link, &link->submit, shadow_req,\n \t\t\t\t\t\ttrue);\n \t\t\tlink = NULL;\n+\t\t\tshadow_req = NULL;\n \t\t}\n \t\tprev_was_link = (sqes[i].sqe->flags & IOSQE_IO_LINK) != 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f5ad9ced33621d353be6429c3900f8a526fcae8"}
{"commit_hash": "954dab193d19cbbff8f83b58c9360bf00ddb273c", "short_hash": "954dab193d19", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-09-18T10:37:52+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-18T11:19:06-06:00", "subject": "io_uring: use kmemdup instead of kmalloc and memcpy", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 9, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code cleanup replacing kmalloc+memcpy with kmemdup in fs/io_uring. Low volume (1 insert, 3 deletes), cleanup category, properly signed off by maintainer Jens Axboe. No functional changes per commit message.", "code_snippet": "@@ -2098,13 +2098,11 @@ static int __io_queue_sqe(struct io_ring_ctx *ctx, struct io_kiocb *req,\n \tif (ret == -EAGAIN && !(req->flags & REQ_F_NOWAIT)) {\n \t\tstruct io_uring_sqe *sqe_copy;\n \n-\t\tsqe_copy = kmalloc(sizeof(*sqe_copy), GFP_KERNEL);\n+\t\tsqe_copy = kmemdup(s->sqe, sizeof(*sqe_copy), GFP_KERNEL);\n \t\tif (sqe_copy) {\n \t\t\tstruct async_list *list;\n \n-\t\t\tmemcpy(sqe_copy, s->sqe, sizeof(*sqe_copy));\n \t\t\ts->sqe = sqe_copy;\n-\n \t\t\tmemcpy(&req->submit, s, sizeof(*s));\n \t\t\tlist = io_async_list_from_sqe(ctx, s->sqe);\n \t\t\tif (!io_add_to_prev_work(list, req)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/954dab193d19cbbff8f83b58c9360bf00ddb273c"}
{"commit_hash": "a1041c27b64ce744632147e19701c95fed14fab1", "short_hash": "a1041c27b64c", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-09-18T17:25:52+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-18T11:20:04-06:00", "subject": "io_uring: fix potential crash issue due to io_get_req failure", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4fe2c963154c", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 8, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 19, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Null pointer dereference fix in io_uring with proper error handling. From KylinOS (China) committed by maintainer Jens Axboe. 6 insertions across 2 locations adding null checks after io_get_req calls.", "code_snippet": "@@ -2364,12 +2364,15 @@ static int io_submit_sqes(struct io_ring_ctx *ctx, struct sqe_submit *sqes,\n \t\tif (link && (sqes[i].sqe->flags & IOSQE_IO_DRAIN)) {\n \t\t\tif (!shadow_req) {\n \t\t\t\tshadow_req = io_get_req(ctx, NULL);\n+\t\t\t\tif (unlikely(!shadow_req))\n+\t\t\t\t\tgoto out;\n \t\t\t\tshadow_req->flags |= (REQ_F_IO_DRAIN | REQ_F_SHADOW_DRAIN);\n \t\t\t\trefcount_dec(&shadow_req->refs);\n \t\t\t}\n \t\t\tshadow_req->sequence = sqes[i].sequence;\n \t\t}\n \n+out:\n \t\tif (unlikely(mm_fault)) {\n \t\t\tio_cqring_add_event(ctx, sqes[i].sqe->user_data,\n \t\t\t\t\t\t-EFAULT);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1041c27b64ce744632147e19701c95fed14fab1"}
{"commit_hash": "c107d613f9204ff9c7624c229938153d7492c56e", "short_hash": "c107d613f920", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-09-18T06:57:30Z", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-18T11:42:23+01:00", "subject": "irqchip/gic-v3: Fix GIC_LINE_NR accessor", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 10, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes incorrect max() usage in GIC_LINE_NR macro that should use min() per GIC spec. ITLinesNumber indicates maximum SPI INTID (1019 max), so min(GICD_TYPER_SPIS, 1020) is correct. Single-line change, well-explained, signed off by maintainer Marc Zyngier. Critical interrupt chip subsystem but localized change.", "code_snippet": "@@ -59,7 +59,7 @@ static struct gic_chip_data gic_data __read_mostly;\n static DEFINE_STATIC_KEY_TRUE(supports_deactivate_key);\n \n #define GIC_ID_NR\t(1U << GICD_TYPER_ID_BITS(gic_data.rdists.gicd_typer))\n-#define GIC_LINE_NR\tmax(GICD_TYPER_SPIS(gic_data.rdists.gicd_typer), 1020U)\n+#define GIC_LINE_NR\tmin(GICD_TYPER_SPIS(gic_data.rdists.gicd_typer), 1020U)\n #define GIC_ESPI_NR\tGICD_TYPER_ESPIS(gic_data.rdists.gicd_typer)\n \n /*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c107d613f9204ff9c7624c229938153d7492c56e"}
{"commit_hash": "e430d802d6a3aaf61bd3ed03d9404888a29b9bf9", "short_hash": "e430d802d6a3", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-09-19T20:04:47+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-09-19T17:50:11+02:00", "subject": "timer: Read jiffies once when forwarding base clk", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "236968383cf5", "cc_stable": true, "subsystem_prefix": "kernel/time", "subsystems_touched": ["kernel/time/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Liang ZhiCheng <liangzhicheng@baidu.com> (Baidu)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 59, "score_technical": 12, "score_impact": 26, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Timer subsystem bug fix addressing race condition in jiffies access causing delayed timer expiry. Critical kernel/time subsystem (tier 10). Fixes real crash observed in production (sched_tick_remote). Small focused change (8 lines). Excellent commit message with detailed root cause analysis, stack trace, and link to original commit. Forwarded to stable@,Cc:stable@. Multiple sign-offs including maintainer Thomas Gleixner. Cross-org contribution (Baidu -> Linutronix). Uses READ_ONCE() for memory safety.", "code_snippet": "@@ -1678,24 +1678,26 @@ void timer_clear_idle(void)\n static int collect_expired_timers(struct timer_base *base,\n \t\t\t\t  struct hlist_head *heads)\n {\n+\tunsigned long now = READ_ONCE(jiffies);\n+\n \t/*\n \t * NOHZ optimization. After a long idle sleep we need to forward the\n \t * base to current jiffies. Avoid a loop by searching the bitfield for\n \t * the next expiring timer.\n \t */\n-\tif ((long)(jiffies - base->clk) > 2) {\n+\tif ((long)(now - base->clk) > 2) {\n \t\tunsigned long next = __next_timer_interrupt(base);\n \n \t\t/*\n \t\t * If the next timer is ahead of time forward to current\n \t\t * jiffies, otherwise forward to the next expiry time:\n \t\t */\n-\t\tif (time_after(next, jiffies)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e430d802d6a3aaf61bd3ed03d9404888a29b9bf9"}
{"commit_hash": "e00371af1d4ce73d527d8ee69fda2febaf5a42c2", "short_hash": "e00371af1d4c", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-15T17:31:14+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-20T22:53:09+10:00", "subject": "crypto: hisilicon - Matching the dma address for dma_pool_free()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "915e4e8413da", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon/sec/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 19, "deletions": 25, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes DMA address mismatch bug in error path of crypto driver that could cause memory corruption. 44 lines changed (net -6). Fixes tag present. Herbert Xu (crypto maintainer) signed off. Bug in DMA pool free parameters - mismatched address/data pair could corrupt memory allocator.", "code_snippet": "@@ -153,6 +153,24 @@ static void sec_alg_skcipher_init_context(struct crypto_skcipher *atfm,\n \t\t\t\t       ctx->cipher_alg);\n }\n \n+static void sec_free_hw_sgl(struct sec_hw_sgl *hw_sgl,\n+\t\t\t    dma_addr_t psec_sgl, struct sec_dev_info *info)\n+{\n+\tstruct sec_hw_sgl *sgl_current, *sgl_next;\n+\tdma_addr_t sgl_next_dma;\n+\n+\tsgl_current = hw_sgl;\n+\twhile (sgl_current) {\n+\t\tsgl_next = sgl_current->next;\n+\t\tsgl_next_dma = sgl_current->next_sgl;\n+\n+\t\tdma_pool_free(info->hw_sgl_pool, sgl_current, psec_sgl);\n+\n+\t\tsgl_current = sgl_next;\n+\t\tpsec_sgl = sgl_next_dma;\n+\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e00371af1d4ce73d527d8ee69fda2febaf5a42c2"}
{"commit_hash": "62a9d9fc7a210005cdbbf186d6e655228497dfac", "short_hash": "62a9d9fc7a21", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-16T14:38:25+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-20T22:53:09+10:00", "subject": "crypto: hisilicon - Fix return value check in hisi_zip_acompress()", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-LEAK"], "cve_ids": [], "fixes_tag": "62c455ca853e", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon/zip"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)"], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Type mismatch bug: size_t (unsigned) vs int (signed) caused error check 'head_size < 0' to never work, potentially allowing error paths to execute. Small focused fix (2 lines). Crypto subsystem importance. Acked by maintainer Zhou Wang, signed off by crypto maintainer Herbert Xu.", "code_snippet": "@@ -559,7 +559,7 @@ static int hisi_zip_acompress(struct acomp_req *acomp_req)\n \tstruct hisi_zip_ctx *ctx = crypto_tfm_ctx(acomp_req->base.tfm);\n \tstruct hisi_zip_qp_ctx *qp_ctx = &ctx->qp_ctx[QPC_COMP];\n \tstruct hisi_zip_req *req;\n-\tsize_t head_size;\n+\tint head_size;\n \tint ret;\n \n \t/* let's output compression head now */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62a9d9fc7a210005cdbbf186d6e655228497dfac"}
{"commit_hash": "24fbf7bad888767bed952f540ac963bc57e47e15", "short_hash": "24fbf7bad888", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-15T17:26:56+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-09-20T22:53:09+10:00", "subject": "crypto: hisilicon - Fix double free in sec_free_hw_sgl()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "915e4e8413da", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon/sec"], "subsystem_tier": 8, "files_changed": 1, "insertions": 7, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for double free and incorrect DMA address handling in crypto driver. Clear commit message with detailed problem description. Includes Fixes tag. Maintainer signed off. Single atomic change.", "code_snippet": "@@ -215,17 +215,18 @@ static void sec_free_hw_sgl(struct sec_hw_sgl *hw_sgl,\n \t\t\t    dma_addr_t psec_sgl, struct sec_dev_info *info)\n {\n \tstruct sec_hw_sgl *sgl_current, *sgl_next;\n+\tdma_addr_t sgl_next_dma;\n \n-\tif (!hw_sgl)\n-\t\treturn;\n \tsgl_current = hw_sgl;\n-\twhile (sgl_current->next) {\n+\twhile (sgl_current) {\n \t\tsgl_next = sgl_current->next;\n-\t\tdma_pool_free(info->hw_sgl_pool, sgl_current,\n-\t\t\t      sgl_current->next_sgl);\n+\t\tsgl_next_dma = sgl_current->next_sgl;\n+\n+\t\tdma_pool_free(info->hw_sgl_pool, sgl_current, psec_sgl);\n+\n \t\tsgl_current = sgl_next;\n+\t\tpsec_sgl = sgl_next_dma;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24fbf7bad888767bed952f540ac963bc57e47e15"}
{"commit_hash": "e6c7c258f035ffec9d8a808c1bc34b6a5beae0ef", "short_hash": "e6c7c258f035", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:02+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-21T03:25:11+02:00", "subject": "pwm: mediatek: Drop the check for of_device_get_match_data()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Uwe Kleine-König <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Small cleanup removing unnecessary NULL check for of_device_get_match_data() in MediaTek PWM driver. Simplified probe function by removing redundant local variable. Well-reviewed with maintainer ACK. Low impact driver-specific maintenance.", "code_snippet": "@@ -226,7 +226,6 @@ static const struct pwm_ops mtk_pwm_ops = {\n \n static int mtk_pwm_probe(struct platform_device *pdev)\n {\n-\tconst struct mtk_pwm_platform_data *data;\n \tstruct mtk_pwm_chip *pc;\n \tstruct resource *res;\n \tunsigned int i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e6c7c258f035ffec9d8a808c1bc34b6a5beae0ef"}
{"commit_hash": "a8d570de0cc6acd6dc994515f163ccbc5e54ab60", "short_hash": "a8d570de0cc6", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-19T14:38:19+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-09-21T19:41:19-07:00", "subject": "net: dsa: sja1105: Add dependency for NET_DSA_SJA1105_TAS", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "317ab5b86c8e", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa/sja1105"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 11, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Build fix for Kconfig dependency issue. 1 line addition adding NET_SCH_TAPRIO dependency to prevent undefined reference errors. Single-file change in network DSA driver subsystem (tier 8). Has Reviewed-by tag and proper Fixes tag, demonstrating good maintenance practices. Low code volume and narrow scope.", "code_snippet": "@@ -27,6 +27,7 @@ config NET_DSA_SJA1105_PTP\n config NET_DSA_SJA1105_TAS\n \tbool \"Support for the Time-Aware Scheduler on NXP SJA1105\"\n \tdepends on NET_DSA_SJA1105\n+\tdepends on NET_SCH_TAPRIO\n \thelp\n \t  This enables support for the TTEthernet-based egress scheduling\n \t  engine in the SJA1105 DSA driver, which is controlled using a\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a8d570de0cc6acd6dc994515f163ccbc5e54ab60"}
{"commit_hash": "ff04cfbaa23644562f369eeca0b44ef66e185c9e", "short_hash": "ff04cfbaa236", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-22T13:38:08+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-09-22T14:05:18-07:00", "subject": "net: ena: Select DIMLIB for ENA_ETHERNET", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "282faf61a053", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/amazon/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 9, "score_impact": 19, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for undefined reference errors in ENA driver. Resolves linker errors when DIMLIB is not selected but ENA_ETHERNET is built. Author from Huawei, reviewed and merged by net subsystem maintainer Jakub Kicinski. Excellent commit message with clear problem description, error output, and references. Single-line Kconfig change is atomic and well-targeted.", "code_snippet": "@@ -19,6 +19,7 @@ if NET_VENDOR_AMAZON\n config ENA_ETHERNET\n \ttristate \"Elastic Network Adapter (ENA) support\"\n \tdepends on PCI_MSI && !CPU_BIG_ENDIAN\n+\tselect DIMLIB\n \t---help---\n \t  This driver supports Elastic Network Adapter (ENA)\"\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff04cfbaa23644562f369eeca0b44ef66e185c9e"}
{"commit_hash": "65643f4c8217edb1f40f7fb05f996c3a4798442a", "short_hash": "65643f4c8217", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T13:58:59+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-23T12:20:10-04:00", "subject": "nfsd: Make nfsd_reset_boot_verifier_locked static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfsd"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to unused external function. Minimal code change (1 line). Cross-org contribution (Huawei -> Red Hat maintainer). Good commit message with build warning context and Reported-by tag.", "code_snippet": "@@ -361,7 +361,7 @@ void nfsd_copy_boot_verifier(__be32 verf[2], struct nfsd_net *nn)\n \tdone_seqretry(&nn->boot_lock, seq);\n }\n \n-void nfsd_reset_boot_verifier_locked(struct nfsd_net *nn)\n+static void nfsd_reset_boot_verifier_locked(struct nfsd_net *nn)\n {\n \tktime_get_real_ts64(&nn->nfssvc_boot);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/65643f4c8217edb1f40f7fb05f996c3a4798442a"}
{"commit_hash": "388962e8e9ce8b253e91cbaed94e78a07dc92d84", "short_hash": "388962e8e9ce", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:06:18+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-09-23T22:49:05-05:00", "subject": "fs/cifs/smb2pdu.c: Make SMB2_notify_init static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix making SMB2_notify_init static in fs/cifs. Minimal change (1 line), single file in cifs subsystem (tier 6). No functional impact, clean-up only. Good review chain with maintainer sign-off.", "code_snippet": "@@ -3181,7 +3181,7 @@ SMB2_get_srv_num(const unsigned int xid, struct cifs_tcon *tcon,\n  * See MS-SMB2 2.2.35 and 2.2.36\n  */\n \n-int\n+static int\n SMB2_notify_init(const unsigned int xid, struct smb_rqst *rqst,\n \t\tstruct cifs_tcon *tcon, u64 persistent_fid, u64 volatile_fid,\n \t\tu32 completion_filter, bool watch_tree)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/388962e8e9ce8b253e91cbaed94e78a07dc92d84"}
{"commit_hash": "8559ad8e89185ca55d8c9ef1e0b20f58578a4055", "short_hash": "8559ad8e8918", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-24T10:13:47+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-09-23T22:51:57-05:00", "subject": "fs/cifs/sess.c: Remove set but not used variable 'capabilities'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 6, "score_impact": 6, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable to fix compiler warning. Low technical impact (3 lines changed in fs/cifs). Cross-org contribution (Huawei author, Microsoft maintainer). Good commit message with clear justification and Reported-by tag.", "code_snippet": "@@ -698,7 +698,6 @@ sess_auth_lanman(struct sess_data *sess_data)\n \tchar *bcc_ptr;\n \tstruct cifs_ses *ses = sess_data->ses;\n \tchar lnm_session_key[CIFS_AUTH_RESP_SIZE];\n-\t__u32 capabilities;\n \t__u16 bytes_remaining;\n \n \t/* lanman 2 style sessionsetup */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8559ad8e89185ca55d8c9ef1e0b20f58578a4055"}
{"commit_hash": "4b6b1bb68628ec49e4cbfabd8ac17a169f079cd8", "short_hash": "4b6b1bb68628", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T13:40:35+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-23T23:09:42-04:00", "subject": "scsi: hisi_sas: Make three functions static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["scsi/hisi_sas"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to three functions in hisi_sas debugfs code. 6 lines changed (3 insertions, 3 deletions) in a single file. SCSI subsystem tier 6. Maintenance/cleanup category base 3. Well-reviewed with Acked-by and proper Link tag. No user impact or stable CC.", "code_snippet": "@@ -3683,7 +3683,7 @@ void hisi_sas_debugfs_work_handler(struct work_struct *work)\n }\n EXPORT_SYMBOL_GPL(hisi_sas_debugfs_work_handler);\n \n-void hisi_sas_debugfs_release(struct hisi_hba *hisi_hba)\n+static void hisi_sas_debugfs_release(struct hisi_hba *hisi_hba)\n {\n \tstruct device *dev = hisi_hba->dev;\n \tint i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4b6b1bb68628ec49e4cbfabd8ac17a169f079cd8"}
{"commit_hash": "70054aa39a013fa52eff432f2223b8bd5c0048f8", "short_hash": "70054aa39a01", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-07T09:07:30+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-23T23:09:42-04:00", "subject": "scsi: megaraid: disable device when probe failed after enabled device", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "PCI device resource leak fix - replacing early returns with goto to ensure device is disabled after probe failure. Small change (4 lines) but prevents resource leaks in SCSI driver. Has reviewed-by and proper maintainer sign-off.", "code_snippet": "@@ -4183,11 +4183,11 @@ megaraid_probe_one(struct pci_dev *pdev, const struct pci_device_id *id)\n \t\t */\n \t\tif (pdev->subsystem_vendor == PCI_VENDOR_ID_COMPAQ &&\n \t\t    pdev->subsystem_device == 0xC000)\n-\t\t   \treturn -ENODEV;\n+\t\t\tgoto out_disable_device;\n \t\t/* Now check the magic signature byte */\n \t\tpci_read_config_word(pdev, PCI_CONF_AMISIG, &magic);\n \t\tif (magic != HBA_SIGNATURE_471 && magic != HBA_SIGNATURE)\n-\t\t\treturn -ENODEV;\n+\t\t\tgoto out_disable_device;\n \t\t/* Ok it is probably a megaraid */\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70054aa39a013fa52eff432f2223b8bd5c0048f8"}
{"commit_hash": "f51913eef23f74c3bd07899dc7f1ed6df9e521d8", "short_hash": "f51913eef23f", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-18T12:20:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-23T23:09:42-04:00", "subject": "scsi: ufs: skip shutdown if hba is not powered", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/scsi/ufs/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Bean Huo <beanhuo@micron.com> (Micron)"], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for system hang during UFS shutdown flow when HBA is not powered. Small 3-line addition adds safety check to prevent accessing host registers in unpowered state. SCSI/UFSD subsystem is moderately critical (storage driver). Acked by subsystem maintainer Bean Huo and signed by SCSI maintainer Martin K. Petersen. Clear commit message with explanation of root cause and link to mailing list discussion.", "code_snippet": "@@ -8140,6 +8140,9 @@ int ufshcd_shutdown(struct ufs_hba *hba)\n {\n \tint ret = 0;\n \n+\tif (!hba->is_powered)\n+\t\tgoto out;\n+\n \tif (ufshcd_is_ufs_dev_poweroff(hba) && ufshcd_is_link_off(hba))\n \t\tgoto out;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f51913eef23f74c3bd07899dc7f1ed6df9e521d8"}
{"commit_hash": "daa5de5415849b9a53056ec1e1e88fe4c5c9aa2b", "short_hash": "daa5de541584", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-09-24T20:53:34+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-24T07:04:15-06:00", "subject": "io_uring: compare cached_cq_tail with cq.head in_io_uring_poll", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "75b28affdd6a", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 9, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 11, "score_impact": 20, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 3, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical bug fix for io_uring poll logic - wrong variable (sq.head vs cq.head) used after refactoring in commit 75b28affdd6a. This is a regression fix affecting epoll functionality in the io_uring subsystem. Tiny 2-line change (1 insertion, 1 deletion) but high impact due to incorrect completion queue polling. Cross-org contribution (Huawei author, Axboe maintainer sign-off). Good commit message with Fixes tag and clear explanation.", "code_snippet": "@@ -3455,7 +3455,7 @@ static __poll_t io_uring_poll(struct file *file, poll_table *wait)\n \tif (READ_ONCE(ctx->rings->sq.tail) - ctx->cached_sq_head !=\n \t    ctx->rings->sq_ring_entries)\n \t\tmask |= EPOLLOUT | EPOLLWRNORM;\n-\tif (READ_ONCE(ctx->rings->sq.head) != ctx->cached_cq_tail)\n+\tif (READ_ONCE(ctx->rings->cq.head) != ctx->cached_cq_tail)\n \t\tmask |= EPOLLIN | EPOLLRDNORM;\n \n \treturn mask;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/daa5de5415849b9a53056ec1e1e88fe4c5c9aa2b"}
{"commit_hash": "a073d7e3ad687a7ef32b65affe80faa7ce89bf92", "short_hash": "a073d7e3ad68", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-16T15:42:32+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-24T13:37:27+02:00", "subject": "KVM: hyperv: Fix Direct Synthetic timers assert an interrupt w/o lapic_in_kernel", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 10, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Vitaly Kuznetsov <vkuznets@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": ["syzbot+dff25ee91f0c7d5c1695@syzkaller.appspotmail.com"]}, "score_total": 58, "score_technical": 12, "score_impact": 20, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Bug-CRASH (GPF/NULL-deref from syzkaller) + Harden (defensive check). KVM/hyperv is tier-9 virtualization subsystem. Cross-org: Tencent->Red Hat. Has syzbot repro, 2 reviewers, clean atomic fix with guard condition.", "code_snippet": "@@ -645,7 +645,9 @@ static int stimer_notify_direct(struct kvm_vcpu_hv_stimer *stimer)\n \t\t.vector = stimer->config.apic_vector\n \t};\n \n-\treturn !kvm_apic_set_irq(vcpu, &irq, NULL);\n+\tif (lapic_in_kernel(vcpu))\n+\t\treturn !kvm_apic_set_irq(vcpu, &irq, NULL);\n+\treturn 0;\n }\n \n static void stimer_expiration(struct kvm_vcpu_hv_stimer *stimer)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a073d7e3ad687a7ef32b65affe80faa7ce89bf92"}
{"commit_hash": "d0f5a86a34072c46b7fe1b8f8768e666d9d6f87f", "short_hash": "d0f5a86a3407", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-17T16:16:26+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-24T14:35:06+02:00", "subject": "KVM: LAPIC: Tune lapic_timer_advance_ns smoothly", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 14, "deletions": 15, "hunks": 10, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 11, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KVM LAPIC timer optimization commit. Removes timer_advance_adjust_done flag, replaces with continuous dynamic adjustment using MIN/MAX bounds (100-5000ns). Filters drastic/random fluctuations. 29 lines changed (14 insertions, 15 deletions) across 2 files. Cross-org contribution from Tencent (Wanpeng Li) with maintainer sign-off from Paolo Bonzini (Red Hat). Clean refactoring with clear comments.", "code_snippet": "@@ -65,7 +65,9 @@\n #define APIC_BROADCAST\t\t\t0xFF\n #define X2APIC_BROADCAST\t\t0xFFFFFFFFul\n \n-#define LAPIC_TIMER_ADVANCE_ADJUST_DONE 100\n+static bool lapic_timer_advance_dynamic __read_mostly;\n+#define LAPIC_TIMER_ADVANCE_ADJUST_MIN 100\n+#define LAPIC_TIMER_ADVANCE_ADJUST_MAX 5000\n #define LAPIC_TIMER_ADVANCE_ADJUST_INIT 1000\n /* step-by-step approximation to mitigate fluctuation */\n #define LAPIC_TIMER_ADVANCE_ADJUST_STEP 8", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0f5a86a34072c46b7fe1b8f8768e666d9d6f87f"}
{"commit_hash": "9ad09b1976c562061636ff1e01bfc3a57aebe56b", "short_hash": "9ad09b1976c5", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-14T15:59:09+08:00", "committer_name": "Miklos Szeredi", "committer_email": "mszeredi@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-24T15:28:01+02:00", "subject": "fuse: fix memleak in cuse_channel_open", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cc080e9e9be1", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/fuse"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Miklos Szeredi <mszeredi@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in FUSE CUSE channel open error path. Single line addition (fuse_conn_put) addresses missing cleanup when cuse_send_init fails. Cross-org contribution from Huawei, reviewed and signed by subsystem maintainer Miklos Szeredi. Includes Fixes tag and Reported-by from automated testing (Hulk Robot), demonstrating good process hygiene despite minimal code change.", "code_snippet": "@@ -521,6 +521,7 @@ static int cuse_channel_open(struct inode *inode, struct file *file)\n \trc = cuse_send_init(cc);\n \tif (rc) {\n \t\tfuse_dev_free(fud);\n+\t\tfuse_conn_put(&cc->fc);\n \t\treturn rc;\n \t}\n \tfile->private_data = fud;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ad09b1976c562061636ff1e01bfc3a57aebe56b"}
{"commit_hash": "5addcd5dbd8c2d2bcf719a2eb41a9b43bf9a7935", "short_hash": "5addcd5dbd8c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T13:52:31+08:00", "committer_name": "Miklos Szeredi", "committer_email": "mszeredi@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-24T15:28:02+02:00", "subject": "fuse: Make fuse_args_to_req static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "68583165f962", "cc_stable": false, "subsystem_prefix": "fs/fuse", "subsystems_touched": ["fs/fuse/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miklos Szeredi <mszeredi@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix making a function static. Single line change (1 insertion, 1 deletion). FUSE is a mid-tier filesystem. Proper commit message with Fixes tag and Signed-off-by. Cross-org contribution (Huawei to Red Hat maintainer). Maintainer endorsed via SOB chain.", "code_snippet": "@@ -464,7 +464,7 @@ static void fuse_force_creds(struct fuse_conn *fc, struct fuse_req *req)\n \treq->in.h.pid = pid_nr_ns(task_pid(current), fc->pid_ns);\n }\n \n-void fuse_args_to_req(struct fuse_req *req, struct fuse_args *args)\n+static void fuse_args_to_req(struct fuse_req *req, struct fuse_args *args)\n {\n \treq->in.h.opcode = args->opcode;\n \treq->in.h.nodeid = args->nodeid;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5addcd5dbd8c2d2bcf719a2eb41a9b43bf9a7935"}
{"commit_hash": "ae8f06b31a83e54777514308a63f669a1fed519e", "short_hash": "ae8f06b31a83", "author_name": "Walter Wu", "author_email": "walter-zh.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-23T15:34:13-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:07-07:00", "subject": "kasan: add memory corruption identification for software tag-based mode", "primary_category": "FEAT-OTHER", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/kasan", "lib"], "subsystem_tier": 8, "files_changed": 5, "insertions": 99, "deletions": 13, "hunks": 26, "review_chain": {"signed_off_by": ["Walter Wu <walter-zh.wu@mediatek.com> (MediaTek)", "Andrey Ryabinin <aryabinin@virtuozzo.com> (Virtuozzo)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Andrey Konovalov <andreyknvl@google.com> (Google)"], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 15, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature enhancement for KASAN (Kernel Address SANitizer) that adds memory corruption type identification (use-after-free vs out-of-bounds) for software tag-based mode. Strong review chain with 4 developers including Andrey Ryabinin (co-author), Andrew Morton (mm maintainer), and Linus Torvalds. Cross-org contribution from MediaTek with Google (Andrey Konovalov, Dmitry Vyukov, Alexander Potapenko) involvement. Code extends slab metadata to store 5 old free pointer tags and backtraces for improved bug reporting. Clean implementation with new Kconfig option.", "code_snippet": "@@ -134,6 +134,14 @@ config KASAN_S390_4_LEVEL_PAGING\n \t  to 3TB of RAM with KASan enabled). This options allows to force\n \t  4-level paging instead.\n \n+config KASAN_SW_TAGS_IDENTIFY\n+\tbool \"Enable memory corruption identification\"\n+\tdepends on KASAN_SW_TAGS\n+\thelp\n+\t  This option enables best-effort identification of bug type\n+\t  (use-after-free or out-of-bounds) at the cost of increased\n+\t  memory consumption.\n+\n config TEST_KASAN\n \ttristate \"Module for testing KASAN for bug detection\"\n \tdepends on m && KASAN\ndiff --git a/mm/kasan/common.c b/mm/kasan/common.c\nindex 95d16a42db6b..6b6f1198c72b 100644\n--- a/mm/kasan/common.c\n+++ b/mm/kasan/common.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae8f06b31a83e54777514308a63f669a1fed519e"}
{"commit_hash": "77461ba1d17673da47eeb5cccb928e10cf97a01e", "short_hash": "77461ba1d176", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:33:30-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:07-07:00", "subject": "fs/ocfs2/dir.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ocfs2"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Changwei Ge <chge@linux.alibaba.com> (Alibaba)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 2, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in OCFS2 filesystem. Low technical impact (3 lines changed, 1 insertion, 2 deletions). Good review chain with multiple Reviewed-by tags (Joseph Qi, Changwei Ge) and signed off by maintainers from both Huawei and Oracle ecosystem. Cross-organizational contribution (Huawei author, Alibaba reviewer, Oracle maintainers CC'd). Addresses compiler warning but no functional change or user impact.", "code_snippet": "@@ -3636,7 +3636,7 @@ static void ocfs2_dx_dir_transfer_leaf(struct inode *dir, u32 split_hash,\n \tint i, j, num_used;\n \tu32 major_hash;\n \tstruct ocfs2_dx_leaf *orig_dx_leaf, *new_dx_leaf;\n-\tstruct ocfs2_dx_entry_list *orig_list, *new_list, *tmp_list;\n+\tstruct ocfs2_dx_entry_list *orig_list, *tmp_list;\n \tstruct ocfs2_dx_entry *dx_entry;\n \n \ttmp_list = &tmp_dx_leaf->dl_list;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77461ba1d17673da47eeb5cccb928e10cf97a01e"}
{"commit_hash": "236dcc2ae4945e00201dbab9b8f76905849b7515", "short_hash": "236dcc2ae494", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:33:27-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:07-07:00", "subject": "fs/ocfs2/file.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ocfs2"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Changwei Ge <chge@linux.alibaba.com> (Alibaba)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 1, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable reported by Hulk Robot. Well-reviewed with multiple Reviewed-by tags (Joseph Qi, Changwei Ge) and Signed-off-by from Andrew Morton and Linus Torvalds. Single file, single subsystem (ocfs2). No functional change, just removing dead code to fix compiler warning.", "code_snippet": "@@ -2130,7 +2130,6 @@ static int ocfs2_prepare_inode_for_write(struct file *file,\n \tstruct dentry *dentry = file->f_path.dentry;\n \tstruct inode *inode = d_inode(dentry);\n \tstruct buffer_head *di_bh = NULL;\n-\tloff_t end;\n \n \t/*\n \t * We start with a read level meta lock and only jump to an ex", "flags": ["CLEANUP", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/236dcc2ae4945e00201dbab9b8f76905849b7515"}
{"commit_hash": "225dcadf8ee869d4429373ef04fdce49ac3fc266", "short_hash": "225dcadf8ee8", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:33:24-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:07-07:00", "subject": "fs/ocfs2/namei.c: remove set but not used variables", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ocfs2"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)", "Changwei Ge <chge@linux.alibaba.com> (Alibaba)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 3, "score_impact": 2, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit removing unused variable 'di' to fix gcc compiler warning. Minimal code impact (2 deletions), OCFS2 is tier-4 filesystem. Strong review chain (Reviewed-by: Joseph Qi, Changwei Ge + Signed-off-by: Andrew Morton, Linus Torvalds). Cross-org collaboration (Huawei + Alibaba + Oracle). No functional change, no user impact, no stable tagging.", "code_snippet": "@@ -2486,7 +2486,6 @@ int ocfs2_create_inode_in_orphan(struct inode *dir,\n \tstruct inode *inode = NULL;\n \tstruct inode *orphan_dir = NULL;\n \tstruct ocfs2_super *osb = OCFS2_SB(dir->i_sb);\n-\tstruct ocfs2_dinode *di = NULL;\n \thandle_t *handle = NULL;\n \tchar orphan_name[OCFS2_ORPHAN_NAMELEN + 1];\n \tstruct buffer_head *parent_di_bh = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/225dcadf8ee869d4429373ef04fdce49ac3fc266"}
{"commit_hash": "1f18b296699c83d858ca8ebb8b77dbc641d87cae", "short_hash": "1f18b296699c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:34:22-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:08-07:00", "subject": "mm/rmap.c: remove set but not used variable 'cstart'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cdb07bdea28e", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Mike Kravetz <mike.kravetz@oracle.com> (Oracle)", "Kirill Tkhai <ktkhai@virtuozzo.com> (Virtuozzo)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 10, "score_impact": 3, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in memory management subsystem. Fixes compiler warning from previous commit. Strong review chain with 2 Reviewed-by tags and maintainer sign-off. Minimal code change (1 insert, 3 deletes). Cross-org contribution from Huawei with Oracle/Virtuozzo reviews.", "code_snippet": "@@ -903,10 +903,9 @@ static bool page_mkclean_one(struct page *page, struct vm_area_struct *vma,\n \tmmu_notifier_invalidate_range_start(&range);\n \n \twhile (page_vma_mapped_walk(&pvmw)) {\n-\t\tunsigned long cstart;\n \t\tint ret = 0;\n \n-\t\tcstart = address = pvmw.address;\n+\t\taddress = pvmw.address;\n \t\tif (pvmw.pte) {\n \t\t\tpte_t entry;\n \t\t\tpte_t *pte = pvmw.pte;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f18b296699c83d858ca8ebb8b77dbc641d87cae"}
{"commit_hash": "db57e98d87908b8837352abe08515e42752270c1", "short_hash": "db57e98d8790", "author_name": "Lecopzer Chen", "author_email": "lecopzer.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-23T15:36:24-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:09-07:00", "subject": "mm/sparse.c: fix ALIGN() without power of 2 in sparse_buffer_alloc()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lecopzer Chen <lecopzer.chen@mediatek.com> (MediaTek)", "Mark-PK Tsai <Mark-PK.Tsai@mediatek.com> (MediaTek)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 11, "score_impact": 19, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix in critical memory management subsystem. PTR_ALIGN() incorrectly handled non-power-of-2 sizes (e.g., 0x480000), potentially causing memory corruption. Changed to roundup() for proper alignment. Strong review chain with Andrew Morton and Linus Torvalds. Minimal code change (1 line) but high impact due to mm subsystem criticality.", "code_snippet": "@@ -501,7 +501,7 @@ void * __meminit sparse_buffer_alloc(unsigned long size)\n \tvoid *ptr = NULL;\n \n \tif (sparsemap_buf) {\n-\t\tptr = PTR_ALIGN(sparsemap_buf, size);\n+\t\tptr = (void *) roundup((unsigned long)sparsemap_buf, size);\n \t\tif (ptr + size > sparsemap_buf_end)\n \t\t\tptr = NULL;\n \t\telse {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db57e98d87908b8837352abe08515e42752270c1"}
{"commit_hash": "ae83189405ea5c693683327fa69ac95a23ec59be", "short_hash": "ae83189405ea", "author_name": "Lecopzer Chen", "author_email": "lecopzer.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-23T15:36:21-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:09-07:00", "subject": "mm/sparse.c: fix memory leak of sparsemap_buf in aligned memory", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 12, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Lecopzer Chen <lecopzer.chen@mediatek.com> (MediaTek)", "Mark-PK Tsai <Mark-PK.Tsai@mediatek.com> (MediaTek)", "Arnd Bergmann <arnd@arndb.de> (Arndb)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 13, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory management bug fix addressing memory leak in sparse memory initialization. The commit fixes a leak of 1.9M-4.4M of memory on ARM platforms by properly freeing aligned space. High subsystem tier (mm is critical), moderate code volume (+12/-2), good commit message with detailed analysis showing specific memory leaks on ARM32/ARM64 platforms. Strong review chain with multiple maintainers (Arnd Bergmann, Andrew Morton, Linus Torvalds). Clean atomic fix adding helper function and modifying allocation path.", "code_snippet": "@@ -470,6 +470,12 @@ struct page __init *__populate_section_memmap(unsigned long pfn,\n static void *sparsemap_buf __meminitdata;\n static void *sparsemap_buf_end __meminitdata;\n \n+static inline void __meminit sparse_buffer_free(unsigned long size)\n+{\n+\tWARN_ON(!sparsemap_buf || size == 0);\n+\tmemblock_free_early(__pa(sparsemap_buf), size);\n+}\n+\n static void __init sparse_buffer_init(unsigned long size, int nid)\n {\n \tphys_addr_t addr = __pa(MAX_DMA_ADDRESS);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae83189405ea5c693683327fa69ac95a23ec59be"}
{"commit_hash": "6aa9b8b2c6355fc3339d6819ec250eadfe79fdb5", "short_hash": "6aa9b8b2c635", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:35:34-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:09-07:00", "subject": "mm: do not hash address in print_bad_pte()", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 11, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debug improvement changing %p to %px format specifiers in print_bad_pte() for better debugging visibility. Small change (1 insertion, 1 deletion) in critical mm/memory.c subsystem. Acked by maintainer Michal Hocko and signed by Andrew Morton. No CVE, no stable cc, single file modification.", "code_snippet": "@@ -518,7 +518,7 @@ static void print_bad_pte(struct vm_area_struct *vma, unsigned long addr,\n \t\t (long long)pte_val(pte), (long long)pmd_val(*pmd));\n \tif (page)\n \t\tdump_page(page, \"bad pte\");\n-\tpr_alert(\"addr:%p vm_flags:%08lx anon_vma:%p mapping:%p index:%lx\\n\",\n+\tpr_alert(\"addr:%px vm_flags:%08lx anon_vma:%px mapping:%px index:%lx\\n\",\n \t\t (void *)addr, vma->vm_flags, vma->anon_vma, mapping, index);\n \tpr_alert(\"file:%pD fault:%ps mmap:%ps readpage:%ps\\n\",\n \t\t vma->vm_file,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6aa9b8b2c6355fc3339d6819ec250eadfe79fdb5"}
{"commit_hash": "9ef258bad7af2f6abee2bdfaaa6c41890d4f4db6", "short_hash": "9ef258bad7af", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:37:41-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:10-07:00", "subject": "thp: update split_huge_page_pmd() comment", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm", "arch/powerpc/mm"], "subsystem_tier": 7, "files_changed": 2, "insertions": 3, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 2, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Comment-only update reflecting function rename. Minimal impact (2 insertions, 4 deletions). Cross-subsystem touch (mm + arch). Proper review chain (author->akpm->torvalds). Clear reference to originating commit 78ddc5347341. No functional change, no testing needed.", "code_snippet": "@@ -1748,7 +1748,7 @@ void flush_hash_hugepage(unsigned long vsid, unsigned long addr,\n \t/*\n \t * IF we try to do a HUGE PTE update after a withdraw is done.\n \t * we will find the below NULL. This happens when we do\n-\t * split_huge_page_pmd\n+\t * split_huge_pmd\n \t */\n \tif (!hpte_slot_array)\n \t\treturn;\ndiff --git a/include/asm-generic/pgtable.h b/include/asm-generic/pgtable.h\nindex fae6abb3d586..818691846c90 100644\n--- a/include/asm-generic/pgtable.h\n+++ b/include/asm-generic/pgtable.h", "flags": ["COMMENT_ONLY", "NO_FUNCTIONAL_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/9ef258bad7af2f6abee2bdfaaa6c41890d4f4db6"}
{"commit_hash": "f364f06b34b55285df7b132b4e3752d820412ad4", "short_hash": "f364f06b34b5", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-09-23T15:37:14-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:10-07:00", "subject": "mm/oom_kill.c: fix oom_cpuset_eligible() comment", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Comment-only fix for outdated documentation after function rename. 1 line changed. Critical subsystem (mm - memory management OOM killer). Strong review chain (author->acked by maintainer->signed by maintainer->signed by Linus). Clear commit message with link and proper sign-offs. No runtime impact, no CVE, no stable tagging.", "code_snippet": "@@ -73,7 +73,7 @@ static inline bool is_memcg_oom(struct oom_control *oc)\n /**\n  * oom_cpuset_eligible() - check task eligiblity for kill\n  * @start: task struct of which task to consider\n- * @mask: nodemask passed to page allocator for mempolicy ooms\n+ * @oc: pointer to struct oom_control\n  *\n  * Task eligibility is determined by whether or not a candidate task, @tsk,\n  * shares the same mempolicy nodes as current if it is bound by such a policy\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f364f06b34b55285df7b132b4e3752d820412ad4"}
{"commit_hash": "4406548ee39c2268876b61a927acad45da6f9aef", "short_hash": "4406548ee39c", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T15:37:01-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:10-07:00", "subject": "mm/mempolicy.c: remove unnecessary nodemask check in kernel_migrate_pages()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Vlastimil Babka <vbabka@suse.cz> (Suse)"], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 8, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small cleanup removing redundant nodemask check in kernel_migrate_pages(). Well-reviewed by maintainer (Acked-by) with detailed technical justification. Core memory management subsystem.", "code_snippet": "@@ -1512,10 +1512,6 @@ static int kernel_migrate_pages(pid_t pid, unsigned long maxnode,\n \tif (nodes_empty(*new))\n \t\tgoto out_put;\n \n-\tnodes_and(*new, *new, node_states[N_MEMORY]);\n-\tif (nodes_empty(*new))\n-\t\tgoto out_put;\n-\n \terr = security_task_movememory(task);\n \tif (err)\n \t\tgoto out_put;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4406548ee39c2268876b61a927acad45da6f9aef"}
{"commit_hash": "28eb3c80871951cae59b9c1b7385262e5d045ac3", "short_hash": "28eb3c808719", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-23T15:39:34-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-24T15:54:12-07:00", "subject": "shmem: fix obsolete comment in shmem_getpage_gfp()", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a trivial comment-only fix updating an obsolete parameter name from 'fault_mm' to 'vmf' to match a previous API change. The change affects only documentation (1 line changed, no functional code). It went through proper review with maintainer sign-offs (Hugh Dickins cc'd, Andrew Morton and Linus Torvalds signed off). Very low impact across all dimensions - no user impact, no stable consideration, purely cosmetic doc update.", "code_snippet": "@@ -1734,7 +1734,7 @@ static int shmem_swapin_page(struct inode *inode, pgoff_t index,\n  * vm. If we swap it in we mark it dirty since we also free the swap\n  * entry since a page cannot live in both the swap and page cache.\n  *\n- * fault_mm and fault_type are only supplied by shmem_fault:\n+ * vmf and fault_type are only supplied by shmem_fault:\n  * otherwise they are NULL.\n  */\n static int shmem_getpage_gfp(struct inode *inode, pgoff_t index,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/28eb3c80871951cae59b9c1b7385262e5d045ac3"}
{"commit_hash": "9f75c82246313d4c2a6bc77e947b45655b3b5ad5", "short_hash": "9f75c8224631", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-09-13T20:51:36+02:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-09-25T02:43:53+03:00", "subject": "KEYS: trusted: correctly initialize digests and fix locking issue", "primary_category": "BUG-OTHER", "secondary_categories": ["BUG-LEAK"], "cve_ids": [], "fixes_tag": "0b6cf6b97b7e", "cc_stable": true, "subsystem_prefix": "security/keys", "subsystems_touched": ["security/keys", "drivers/char/tpm"], "subsystem_tier": 7, "files_changed": 2, "insertions": 14, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jerry Snitselaar <jsnitsel@redhat.com> (Redhat)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 15, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 3, "B1_category_base": 8, "B2_stable_significance": 5, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for TPM trusted keys module addressing missing initialization of digest algorithm IDs and a lock leak (missing tpm_put_ops call). Cross-subsystem fix touching security/keys and drivers/char/tpm. CC'd to stable, includes Fixes tag, strong review chain (Reviewed-by tags from 2 reviewers). Cross-org contribution from Huawei to Intel-maintained code.", "code_snippet": "@@ -320,18 +320,22 @@ int tpm_pcr_extend(struct tpm_chip *chip, u32 pcr_idx,\n \tif (!chip)\n \t\treturn -ENODEV;\n \n-\tfor (i = 0; i < chip->nr_allocated_banks; i++)\n-\t\tif (digests[i].alg_id != chip->allocated_banks[i].alg_id)\n-\t\t\treturn -EINVAL;\n+\tfor (i = 0; i < chip->nr_allocated_banks; i++) {\n+\t\tif (digests[i].alg_id != chip->allocated_banks[i].alg_id) {\n+\t\t\trc = EINVAL;\n+\t\t\tgoto out;\n+\t\t}\n+\t}\n \n \tif (chip->flags & TPM_CHIP_FLAG_TPM2) {\n \t\trc = tpm2_pcr_extend(chip, pcr_idx, digests);\n-\t\ttpm_put_ops(chip);\n-\t\treturn rc;\n+\t\tgoto out;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f75c82246313d4c2a6bc77e947b45655b3b5ad5"}
{"commit_hash": "61aa258ab1a50b834267f5df6cabef0d10f8955a", "short_hash": "61aa258ab1a5", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:03+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-25T09:48:58+02:00", "subject": "pwm: mediatek: Remove the has_clks field", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pwm", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 13, "hunks": 10, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Uwe Kleine-König <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 5, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring commit removing has_clks field from MediaTek PWM driver. Simplifies clock handling by using fixed clocks for legacy MIPS SoC (mt7628). 1 insertion, 13 deletions across single file. Acked by maintainer Uwe Kleine-König, signed by maintainer Thierry Reding. Clean atomic change with no functional behavior change for systems with clocks.", "code_snippet": "@@ -87,9 +86,6 @@ static int mtk_pwm_clk_enable(struct pwm_chip *chip, struct pwm_device *pwm)\n \tstruct mtk_pwm_chip *pc = to_mtk_pwm_chip(chip);\n \tint ret;\n \n-\tif (!pc->soc->has_clks)\n-\t\treturn 0;\n-\n \tret = clk_prepare_enable(pc->clks[MTK_CLK_TOP]);\n \tif (ret < 0)\n \t\treturn ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61aa258ab1a50b834267f5df6cabef0d10f8955a"}
{"commit_hash": "4bea6dd5be7e2ab8c2368ee9724ef88793b2421b", "short_hash": "4bea6dd5be7e", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:06+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-25T09:49:15+02:00", "subject": "pwm: mediatek: Update license and switch to SPDX tag", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": ["Uwe Kleine-König <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "License cleanup commit adding SPDX identifier and correcting company name spelling (Mediatek -> MediaTek). Minimal code changes (3 insertions, 5 deletions) in a single PWM driver file. Has proper review chain withReviewed-by tag from subsystem maintainer Uwe Kleine-König and Signed-off-by from maintainer Thierry Reding. Cross-org contribution from MediaTek.", "code_snippet": "@@ -1,12 +1,10 @@\n+// SPDX-License-Identifier: GPL-2.0\n /*\n- * Mediatek Pulse Width Modulator driver\n+ * MediaTek Pulse Width Modulator driver\n  *\n  * Copyright (C) 2015 John Crispin <blogic@openwrt.org>\n  * Copyright (C) 2017 Zhi Mao <zhi.mao@mediatek.com>\n  *\n- * This file is licensed under the terms of the GNU General Public\n- * License version 2. This program is licensed \"as is\" without any\n- * warranty of any kind, whether express or implied.\n  */\n \n #include <linux/err.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bea6dd5be7e2ab8c2368ee9724ef88793b2421b"}
{"commit_hash": "2503781c97fa66f1ee7ffac21f8c5c330b82b5eb", "short_hash": "2503781c97fa", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:05+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-25T09:49:15+02:00", "subject": "pwm: mediatek: Use pwm_mediatek as common prefix", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pwm", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 60, "deletions": 57, "hunks": 18, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Uwe Kleine-König <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 6, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a pure refactoring commit that renames functions, structs, and variables from mtk_pwm_* to pwm_mediatek_* to match the filename. The commit explicitly states 'No functional change intended.' Code volume is moderate (117 lines changed). Subsystem tier is 3 (driver subsystem). Review chain is solid with author sign-off, Acked-by, and maintainer sign-off. Commit message is clear about intent. Atomicity is high as it's a single-purpose refactoring.", "code_snippet": "@@ -35,13 +35,13 @@\n \n #define PWM_CLK_DIV_MAX\t\t7\n \n-struct mtk_pwm_platform_data {\n+struct pwm_mediatek_of_data {\n \tunsigned int num_pwms;\n \tbool pwm45_fixup;\n };\n \n /**\n- * struct mtk_pwm_chip - struct representing PWM chip\n+ * struct pwm_mediatek_chip - struct representing PWM chip\n  * @chip: linux PWM chip representation\n  * @regs: base address of PWM chip\n  * @clk_top: the top clock generator", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2503781c97fa66f1ee7ffac21f8c5c330b82b5eb"}
{"commit_hash": "efecdeb82f21d4100566ce85bda2d7ffb9c9edff", "short_hash": "efecdeb82f21", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:04+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-25T09:49:15+02:00", "subject": "pwm: mediatek: Allocate the clks array dynamically", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pwm", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 44, "deletions": 35, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": ["Uwe Kleine-König <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 9, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit converting MediaTek PWM driver from fixed-size clock arrays to dynamic allocation based on SoC-specific PWM count. Changes struct mtk_pwm_chip to use clk_top, clk_main, and dynamically allocated clk_pwms array instead of fixed mtk_pwm_clk_name[MTK_CLK_MAX]. Code volume moderate (79 lines changed, single file). Driver subsystem (tier 4). Has proper review chain (Reviewed-by Uwe Kleine-König) and maintainer signoff (Thierry Reding). Commit message clearly describes the change. No user-visible impact, no stable cc, no CVE.", "code_snippet": "@@ -35,25 +35,6 @@\n \n #define PWM_CLK_DIV_MAX\t\t7\n \n-enum {\n-\tMTK_CLK_MAIN = 0,\n-\tMTK_CLK_TOP,\n-\tMTK_CLK_PWM1,\n-\tMTK_CLK_PWM2,\n-\tMTK_CLK_PWM3,\n-\tMTK_CLK_PWM4,\n-\tMTK_CLK_PWM5,\n-\tMTK_CLK_PWM6,\n-\tMTK_CLK_PWM7,\n-\tMTK_CLK_PWM8,\n-\tMTK_CLK_MAX,\n-};\n-\n-static const char * const mtk_pwm_clk_name[MTK_CLK_MAX] = {\n-\t\"main\", \"top\", \"pwm1\", \"pwm2\", \"pwm3\", \"pwm4\", \"pwm5\", \"pwm6\", \"pwm7\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/efecdeb82f21d4100566ce85bda2d7ffb9c9edff"}
{"commit_hash": "1c00ad6ebf36aa3b0fa598a48b8ae59782be4121", "short_hash": "1c00ad6ebf36", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-20T06:49:10+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-25T09:49:16+02:00", "subject": "dt-bindings: pwm: Update bindings for MT7629 SoC", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change updating devicetree bindings for MT7629 SoC. Single-line addition to PWM binding documentation. Strong review chain with Reviewed-by from Rob Herring (DT maintainer) and Matthias Brugger. Maintainer-applied by Thierry Reding (PWM maintainer). Low technical complexity but high process quality.", "code_snippet": "@@ -6,6 +6,7 @@ Required properties:\n    - \"mediatek,mt7622-pwm\": found on mt7622 SoC.\n    - \"mediatek,mt7623-pwm\": found on mt7623 SoC.\n    - \"mediatek,mt7628-pwm\": found on mt7628 SoC.\n+   - \"mediatek,mt7629-pwm\", \"mediatek,mt7622-pwm\": found on mt7629 SoC.\n    - \"mediatek,mt8516-pwm\": found on mt8516 SoC.\n  - reg: physical base address and length of the controller's registers.\n  - #pwm-cells: must be 2. See pwm.txt in this directory for a description of\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c00ad6ebf36aa3b0fa598a48b8ae59782be4121"}
{"commit_hash": "89340d0935c9296c7b8222b6eab30e67cb57ab82", "short_hash": "89340d0935c9", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-09T09:40:28+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-25T10:22:37+02:00", "subject": "Revert \"locking/pvqspinlock: Don't wait if vCPU is preempted\"", "primary_category": "BUG-REGRESSION", "secondary_categories": ["PERF"], "cve_ids": [], "fixes_tag": "75437bb304b20 (locking/pvqspinlock: Don't wait if vCPU is preempted)", "cc_stable": true, "subsystem_prefix": "kernel/locking", "subsystems_touched": ["kernel/locking/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": ["loobinliu@tencent.com"], "acked_by": [], "reported_by": []}, "score_total": 60, "score_technical": 11, "score_impact": 23, "score_quality": 18, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Critical kernel/locking subsystem regression fix. Reverts commit 75437bb that caused severe performance degradation (80%+ drop in ebizzy scores from 13000-14000 to 1700-1800 records/s). Minimal code change (1 line) but high impact on virtualized environments. Includes comprehensive performance testing data, Tested-by tag, Cc: stable@vger.kernel.org, and reviewed by multiple subsystem maintainers (Paolo Bonzini committer, extensive Cc list including Peter Zijlstra, Thomas Gleixner, Ingo Molnar). Cross-company contribution from Tencent (Wanpeng Li) with Red Hat maintainer (Paolo Bonzini) sign-off.", "code_snippet": "@@ -269,7 +269,7 @@ pv_wait_early(struct pv_node *prev, int loop)\n \tif ((loop & PV_PREV_CHECK_MASK) != 0)\n \t\treturn false;\n \n-\treturn READ_ONCE(prev->state) != vcpu_running || vcpu_is_preempted(prev->cpu);\n+\treturn READ_ONCE(prev->state) != vcpu_running;\n }\n \n /*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89340d0935c9296c7b8222b6eab30e67cb57ab82"}
{"commit_hash": "9f5c44cf61a7cf29d85d2c0d2065ab2d62764a41", "short_hash": "9f5c44cf61a7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T14:16:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-25T13:56:41+02:00", "subject": "gianfar: Make reset_gfar static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/freescale"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 9, "score_impact": 2, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to reset_gfar function in gianfar driver. Minimal code change (1 insertion, 1 deletion). Proper commit message with Reported-by tag. Network driver subsystem (tier 8). Reviewed by networking maintainer David S. Miller.", "code_snippet": "@@ -2067,7 +2067,7 @@ static int gfar_change_mtu(struct net_device *dev, int new_mtu)\n \treturn 0;\n }\n \n-void reset_gfar(struct net_device *ndev)\n+static void reset_gfar(struct net_device *ndev)\n {\n \tstruct gfar_private *priv = netdev_priv(ndev);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f5c44cf61a7cf29d85d2c0d2065ab2d62764a41"}
{"commit_hash": "714e501e16cd473538b609b3e351b2cc9f7f09ed", "short_hash": "714e501e16cd", "author_name": "KeMeng Shi", "author_email": "shikemeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-16T06:53:28Z", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-25T17:42:31+02:00", "subject": "sched/core: Fix migration to invalid CPU in __set_cpus_allowed_ptr()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sched", "subsystems_touched": ["kernel/sched/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["KeMeng Shi <shikemeng@huawei.com> (Huawei)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": ["Valentin Schneider <valentin.schneider@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 56, "score_technical": 11, "score_impact": 23, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Critical scheduler bug fix preventing kernel oops during CPU hotplug. 4-line diff in core scheduler code. Well-documented with detailed crash analysis and reproduction steps. Reviewed-by received, signed by maintainer Ingo Molnar. Cross-company contribution (Huawei). High technical impact in tier-1 subsystem.", "code_snippet": "@@ -1656,7 +1656,8 @@ static int __set_cpus_allowed_ptr(struct task_struct *p,\n \tif (cpumask_equal(p->cpus_ptr, new_mask))\n \t\tgoto out;\n \n-\tif (!cpumask_intersects(new_mask, cpu_valid_mask)) {\n+\tdest_cpu = cpumask_any_and(cpu_valid_mask, new_mask);\n+\tif (dest_cpu >= nr_cpu_ids) {\n \t\tret = -EINVAL;\n \t\tgoto out;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/714e501e16cd473538b609b3e351b2cc9f7f09ed"}
{"commit_hash": "b25bab17221ba366ffdff9dd62945932aac7dc98", "short_hash": "b25bab17221b", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:22-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/do_balan.c: remove set but not used variable", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "This is a trivial cleanup commit removing an unused variable to fix a gcc warning. The change (1 insertion, 2 deletions) removes an unreferenced 'ret' variable in fs/reiserfs/do_balan.c. The commit has good review chain (author -> Andrew Morton -> Linus Torvalds) and clear message explaining the warning fix. Reiserfs is a legacy filesystem with lower criticality. Cross-org contribution from Huawei employee.", "code_snippet": "@@ -626,7 +626,6 @@ static void balance_leaf_insert_right(struct tree_balance *tb,\n \tstruct buffer_head *tbS0 = PATH_PLAST_BUFFER(tb->tb_path);\n \tint n = B_NR_ITEMS(tbS0);\n \tstruct buffer_info bi;\n-\tint ret;\n \n \t/* new item or part of it doesn't fall into R[0] */\n \tif (n - tb->rnum[0] >= tb->item_pos) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b25bab17221ba366ffdff9dd62945932aac7dc98"}
{"commit_hash": "3e9fd5a48cb7b0ef93be097c2c1066738d37f5b7", "short_hash": "3e9fd5a48cb7", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:19-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/journal.c: remove set but not used variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix gcc warning. Very small change (7 lines total), limited to reiserfs filesystem. Low user impact and no functional change. Good review chain with proper sign-offs. Atomic change with clear purpose.", "code_snippet": "@@ -1788,7 +1788,6 @@ static int flush_used_journal_lists(struct super_block *s,\n {\n \tunsigned long len = 0;\n \tunsigned long cur_len;\n-\tint ret;\n \tint i;\n \tint limit = 256;\n \tstruct reiserfs_journal_list *tjl;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e9fd5a48cb7b0ef93be097c2c1066738d37f5b7"}
{"commit_hash": "da5184c2ab10b57bf9b58f818405aa0054a2f829", "short_hash": "da5184c2ab10", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:16-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/do_balan.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 2, "score_quality": 14, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables reported by compiler warnings in reiserfs. Minor code deletion (11 lines), single file. Includes proper sign-off chain through Andrew Morton to Linus Torvalds. Maintainer (Jan Kara) CC'd. Low impact as variables were already unused.", "code_snippet": "@@ -646,13 +640,11 @@ static void balance_leaf_insert_right(struct tree_balance *tb,\n \tif (tb->item_pos == n - tb->rnum[0] + 1 && tb->rbytes != -1) {\n \t\tloff_t old_key_comp, old_len, r_zeroes_number;\n \t\tconst char *r_body;\n-\t\tint version, shift;\n+\t\tint shift;\n \t\tloff_t offset;\n \n \t\tleaf_shift_right(tb, tb->rnum[0] - 1, -1);\n \n-\t\tversion = ih_version(ih);\n-\n \t\t/* Remember key component and item length */\n \t\told_key_comp = le_ih_k_offset(ih);\n \t\told_len = ih_item_len(ih);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da5184c2ab10b57bf9b58f818405aa0054a2f829"}
{"commit_hash": "4fadcd1c14d810ec6a695039cfc71e03ae742deb", "short_hash": "4fadcd1c14d8", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:13-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/fix_node.c: remove set but not used variables", "primary_category": "TRIV-WHITESPACE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 3, "score_impact": 0, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Minor cleanup removing unused variables in reiserfs. Low technical volume (1 insertion, 5 deletions) addressing compiler warnings in a legacy filesystem. Good review chain (author -> maintainer -> Linus) with proper sign-offs. No functional impact or user-facing changes.", "code_snippet": "@@ -376,7 +376,6 @@ static int get_num_ver(int mode, struct tree_balance *tb, int h,\n \t\t       int to, int to_bytes, short *snum012, int flow)\n {\n \tint i;\n-\tint cur_free;\n \tint units;\n \tstruct virtual_node *vn = tb->tb_vn;\n \tint total_node_size, max_node_size, current_item_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fadcd1c14d810ec6a695039cfc71e03ae742deb"}
{"commit_hash": "73fbff5eea3c0684519c0d8b60177557b5ac8f9b", "short_hash": "73fbff5eea3c", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:10-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/prints.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variables to fix compiler warnings. Minimal code change (3 deletions), low-tier subsystem (reiserfs), no functional impact. Good commit message with proper tags and review chain (author -> Andrew Morton -> Linus). Cross-org contribution from Huawei.", "code_snippet": "@@ -746,9 +746,6 @@ static void check_leaf_block_head(struct buffer_head *bh)\n \n static void check_internal_block_head(struct buffer_head *bh)\n {\n-\tstruct block_head *blkh;\n-\n-\tblkh = B_BLK_HEAD(bh);\n \tif (!(B_LEVEL(bh) > DISK_LEAF_NODE_LEVEL && B_LEVEL(bh) <= MAX_HEIGHT))\n \t\treiserfs_panic(NULL, \"vs-6025\", \"invalid level %z\", bh);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73fbff5eea3c0684519c0d8b60177557b5ac8f9b"}
{"commit_hash": "4a70aebb12689b2e7b51c4b10157c4c4e99c59e4", "short_hash": "4a70aebb1268", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:07-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/objectid.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 3, "score_quality": 13, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable to fix compiler warning. Low code volume (1 insertion, 2 deletions). reiserfs is legacy filesystem with tier 4 criticality. Single subsystem, no cross-cutting impact. Strong review chain (author->Andrew Morton->Linus Torvalds). Clear commit message with warning details. No testing evidence, trivial atomic change. No cross-org collaboration. Maintainer endorsement through Andrew Morton ack.", "code_snippet": "@@ -183,13 +183,12 @@ int reiserfs_convert_objectid_map_v1(struct super_block *s)\n \tint new_size = (s->s_blocksize - SB_SIZE) / sizeof(__u32) / 2 * 2;\n \tint old_max = sb_oid_maxsize(disk_sb);\n \tstruct reiserfs_super_block_v1 *disk_sb_v1;\n-\t__le32 *objectid_map, *new_objectid_map;\n+\t__le32 *objectid_map;\n \tint i;\n \n \tdisk_sb_v1 =\n \t    (struct reiserfs_super_block_v1 *)(SB_BUFFER_WITH_SB(s)->b_data);\n \tobjectid_map = (__le32 *) (disk_sb_v1 + 1);\n-\tnew_objectid_map = (__le32 *) (disk_sb + 1);\n \n \tif (cur_size > new_size) {\n \t\t/*\n", "flags": ["CLEANUP", "COMPILER_WARNING", "NO_TESTING"], "link": "https://lore.kernel.org/linux-kernel/4a70aebb12689b2e7b51c4b10157c4c4e99c59e4"}
{"commit_hash": "66985cb9ee107f2596e9d721252b679249c41858", "short_hash": "66985cb9ee10", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:01-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/stree.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 16, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "Minimal code change (4 deletions) removing unused variable to fix compiler warning. Reiserfs is a legacy filesystem (tier 7). Low technical impact as cleanup only. Strong review chain through Andrew Morton to Linus. Good commit message with warning details. Atomic change with no runtime effects. No cross-org collaboration or maintainer endorsement beyond standard sign-offs.", "code_snippet": "@@ -614,8 +613,6 @@ int search_by_key(struct super_block *sb, const struct cpu_key *key,\n \n \tpathrelse(search_path);\n \n-\tright_neighbor_of_leaf_node = 0;\n-\n \t/*\n \t * With each iteration of this loop we search through the items in the\n \t * current node, and calculate the next current node(next path element)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/66985cb9ee107f2596e9d721252b679249c41858"}
{"commit_hash": "6e9ca45f77bc944d44face28059ab4db02e280fa", "short_hash": "6e9ca45f77bc", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:46:58-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/journal.c: remove set but not used variables", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing 4 unused variables that triggered gcc warnings. No functional change, low code volume (-9 +1), reiserfs is a legacy filesystem with tier 4 criticality. Passed through Andrew Morton and Linus Torvalds, earning moderate review chain and maintainer endorsement scores. Category base 2 reflects minimal technical value.", "code_snippet": "@@ -914,8 +913,6 @@ static int flush_older_commits(struct super_block *s,\n \t\treturn 0;\n \t}\n \n-\tfirst_trans_id = first_jl->j_trans_id;\n-\n \tentry = &first_jl->j_list;\n \twhile (1) {\n \t\tother_jl = JOURNAL_LIST_ENTRY(entry);", "flags": ["CLEANUP", "NO_FUNCTIONAL_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/6e9ca45f77bc944d44face28059ab4db02e280fa"}
{"commit_hash": "d4a1a857e31abe7acc9586450119d9c4bc6cc2cd", "short_hash": "d4a1a857e31a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-25T16:47:04-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-09-25T17:51:40-07:00", "subject": "fs/reiserfs/lbalance.c: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/reiserfs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 2, "score_quality": 14, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Small scope (3 lines), low-risk change in non-critical filesystem (reiserfs). Good review chain (author->Morton->Torvalds) with clear commit message explaining the fix.", "code_snippet": "@@ -1322,7 +1322,7 @@ void leaf_paste_entries(struct buffer_info *bi,\n \tchar *item;\n \tstruct reiserfs_de_head *deh;\n \tchar *insert_point;\n-\tint i, old_entry_num;\n+\tint i;\n \tstruct buffer_head *bh = bi->bi_bh;\n \n \tif (new_entry_count == 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4a1a857e31abe7acc9586450119d9c4bc6cc2cd"}
{"commit_hash": "ea8564c865299815095bebeb4b25bef474218e4c", "short_hash": "ea8564c86529", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-09-24T19:11:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-26T09:32:33+02:00", "subject": "openvswitch: change type of UPCALL_PID attribute to NLA_UNSPEC", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "5cd667b0a456", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/openvswitch"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Pravin B Shelar <pshelar@ovn.org> (Ovn)"], "reported_by": []}, "score_total": 31, "score_technical": 11, "score_impact": 7, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a trivial 1-line fix addressing a type mismatch between kernel and userspace Open vswitch components. The fix changes NLA_U32 to NLA_UNSPEC for the UPCALL_PID attribute. While affecting a critical networking subsystem (tier 10), the change is minimal and localized. Good commit message with Fixes tag, Acked-by maintainer endorsement. Low user impact as it primarily resolves a warning message and maintains compatibility with userspace changes.", "code_snippet": "@@ -2294,7 +2294,7 @@ static const struct nla_policy vport_policy[OVS_VPORT_ATTR_MAX + 1] = {\n \t[OVS_VPORT_ATTR_STATS] = { .len = sizeof(struct ovs_vport_stats) },\n \t[OVS_VPORT_ATTR_PORT_NO] = { .type = NLA_U32 },\n \t[OVS_VPORT_ATTR_TYPE] = { .type = NLA_U32 },\n-\t[OVS_VPORT_ATTR_UPCALL_PID] = { .type = NLA_U32 },\n+\t[OVS_VPORT_ATTR_UPCALL_PID] = { .type = NLA_UNSPEC },\n \t[OVS_VPORT_ATTR_OPTIONS] = { .type = NLA_NESTED },\n \t[OVS_VPORT_ATTR_IFINDEX] = { .type = NLA_U32 },\n \t[OVS_VPORT_ATTR_NETNSID] = { .type = NLA_S32 },\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ea8564c865299815095bebeb4b25bef474218e4c"}
{"commit_hash": "a0f0037e908c656573d165aadbfae6c05fc4dd75", "short_hash": "a0f0037e908c", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-26T08:54:03+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-26T12:31:29+02:00", "subject": "KVM: LAPIC: Loosen filter for adaptive tuning of lapic_timer_advance_ns", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 10, "files_changed": 1, "insertions": 7, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 13, "score_impact": 15, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KVM LAPIC timer tuning optimization. Small changes (13 lines) to critical hypervisor subsystem. Addresses performance issue on desktop systems where adaptive tuning was stuck at initial value. Cross-org contribution from Tencent with Red Hat maintainer sign-off. Clean refactor separating clock cycle vs nanosecond constants. Good commit message explaining the problem.", "code_snippet": "@@ -66,9 +66,10 @@\n #define X2APIC_BROADCAST\t\t0xFFFFFFFFul\n \n static bool lapic_timer_advance_dynamic __read_mostly;\n-#define LAPIC_TIMER_ADVANCE_ADJUST_MIN 100\n-#define LAPIC_TIMER_ADVANCE_ADJUST_MAX 5000\n-#define LAPIC_TIMER_ADVANCE_ADJUST_INIT 1000\n+#define LAPIC_TIMER_ADVANCE_ADJUST_MIN\t100\t/* clock cycles */\n+#define LAPIC_TIMER_ADVANCE_ADJUST_MAX\t10000\t/* clock cycles */\n+#define LAPIC_TIMER_ADVANCE_NS_INIT\t1000\n+#define LAPIC_TIMER_ADVANCE_NS_MAX     5000\n /* step-by-step approximation to mitigate fluctuation */\n #define LAPIC_TIMER_ADVANCE_ADJUST_STEP 8\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0f0037e908c656573d165aadbfae6c05fc4dd75"}
{"commit_hash": "3ca94192278ca8de169d78c085396c424be123b3", "short_hash": "3ca94192278c", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-18T17:50:10+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-26T12:31:31+02:00", "subject": "KVM: X86: Fix userspace set invalid CR4", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 21, "deletions": 17, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Sean Christopherson <sean.j.christopherson@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": ["syzbot+0f1819555fbdce992df9@syzkaller.appspotmail.com"]}, "score_total": 63, "score_technical": 12, "score_impact": 25, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 5, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Bug fix for KVM x86 CR4 validation issue reported by syzkaller. Extracted kvm_valid_cr4() function to validate CR4/CPUID combinations, preventing userspace from setting invalid CR4 values that could trigger warnings (handle_desc). 38 lines changed (21 insertions, 17 deletions) across 1 file in critical KVM subsystem. Includes stable@ CC, Reviewed-by from Intel maintainer, and syzkaller reproducer. High quality commit with good testing evidence.", "code_snippet": "@@ -885,34 +885,42 @@ int kvm_set_xcr(struct kvm_vcpu *vcpu, u32 index, u64 xcr)\n }\n EXPORT_SYMBOL_GPL(kvm_set_xcr);\n \n-int kvm_set_cr4(struct kvm_vcpu *vcpu, unsigned long cr4)\n+static int kvm_valid_cr4(struct kvm_vcpu *vcpu, unsigned long cr4)\n {\n-\tunsigned long old_cr4 = kvm_read_cr4(vcpu);\n-\tunsigned long pdptr_bits = X86_CR4_PGE | X86_CR4_PSE | X86_CR4_PAE |\n-\t\t\t\t   X86_CR4_SMEP | X86_CR4_SMAP | X86_CR4_PKE;\n-\n \tif (cr4 & CR4_RESERVED_BITS)\n-\t\treturn 1;\n+\t\treturn -EINVAL;\n \n \tif (!guest_cpuid_has(vcpu, X86_FEATURE_XSAVE) && (cr4 & X86_CR4_OSXSAVE))\n-\t\treturn 1;\n+\t\treturn -EINVAL;\n \n \tif (!guest_cpuid_has(vcpu, X86_FEATURE_SMEP) && (cr4 & X86_CR4_SMEP))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3ca94192278ca8de169d78c085396c424be123b3"}
{"commit_hash": "715d14da670e353c8c827f97e61ba00969929e33", "short_hash": "715d14da670e", "author_name": "Sam Shih", "author_email": "sam.shih@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-25T22:32:33+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-09-26T13:27:50+02:00", "subject": "pwm: mediatek: Add MT7629 compatible string", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Sam Shih <sam.shih@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 8, "score_impact": 17, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Driver enablement commit adding MT7629 PWM support. Low code volume (6 insertions) adding compatible string and device data. Proper sign-off chain from author to subsystem maintainer. Cross-org contribution from MediaTek to community tree.", "code_snippet": "@@ -297,6 +297,11 @@ static const struct pwm_mediatek_of_data mt7628_pwm_data = {\n \t.pwm45_fixup = true,\n };\n \n+static const struct pwm_mediatek_of_data mt7629_pwm_data = {\n+\t.num_pwms = 1,\n+\t.pwm45_fixup = false,\n+};\n+\n static const struct pwm_mediatek_of_data mt8516_pwm_data = {\n \t.num_pwms = 5,\n \t.pwm45_fixup = false,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/715d14da670e353c8c827f97e61ba00969929e33"}
{"commit_hash": "2af2783f2ea4f273598557b247e320509247df80", "short_hash": "2af2783f2ea4", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-09-17T20:04:27+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-27T01:13:10-06:00", "subject": "rq-qos: get rid of redundant wbt_update_limits()", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Bob Liu <bob.liu@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing redundant wbt_update_limits() call in block layer write-back latency sysfs handler. 1-line deletion with clear justification, reviewed by Bob Liu and signed off by maintainer Jens Axboe. Cross-org contribution from Huawei to Oracle-maintained code.", "code_snippet": "@@ -482,7 +482,6 @@ static ssize_t queue_wb_lat_store(struct request_queue *q, const char *page,\n \tblk_mq_quiesce_queue(q);\n \n \twbt_set_min_lat(q, val);\n-\twbt_update_limits(q);\n \n \tblk_mq_unquiesce_queue(q);\n \tblk_mq_unfreeze_queue(q);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2af2783f2ea4f273598557b247e320509247df80"}
{"commit_hash": "8d6996630c03d7ceeabe2611378fea5ca1c3f1b3", "short_hash": "8d6996630c03", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-09-27T16:19:55+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-09-27T07:01:25-06:00", "subject": "block: fix null pointer dereference in blk_mq_rq_timed_out()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "block", "subsystems_touched": ["block/"], "subsystem_tier": 9, "files_changed": 3, "insertions": 21, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Ming Lei <ming.lei@redhat.com> (Redhat)", "Bob Liu <bob.liu@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 58, "score_technical": 11, "score_impact": 24, "score_quality": 14, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 4, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Critical null pointer dereference bug fix in block layer. 21 lines inserted/1 deleted across 3 files. Race condition between timeout and completion for flush requests. Includes detailed kernel crash dump in commit message. 2 Reviewed-by tags, CCed to stable@vger.kernel.org for v4.18+. Cross-org collaboration (Huawei author, Red Hat reviewer, Oracle reviewer). Maintainer (Axboe) signed off. 5 version iterations showing thorough development process.", "code_snippet": "@@ -214,6 +214,16 @@ static void flush_end_io(struct request *flush_rq, blk_status_t error)\n \n \t/* release the tag's ownership to the req cloned from */\n \tspin_lock_irqsave(&fq->mq_flush_lock, flags);\n+\n+\tif (!refcount_dec_and_test(&flush_rq->ref)) {\n+\t\tfq->rq_status = error;\n+\t\tspin_unlock_irqrestore(&fq->mq_flush_lock, flags);\n+\t\treturn;\n+\t}\n+\n+\tif (fq->rq_status != BLK_STS_OK)\n+\t\terror = fq->rq_status;\n+\n \thctx = flush_rq->mq_hctx;\n \tif (!q->elevator) {\n \t\tblk_mq_tag_set_rq(hctx, flush_rq->tag, fq->orig_rq);\ndiff --git a/block/blk-mq.c b/block/blk-mq.c\nindex 29275f5a996f..6e3b15f70cd7 100644\n--- a/block/blk-mq.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d6996630c03d7ceeabe2611378fea5ca1c3f1b3"}
{"commit_hash": "af42abb680e33f3428a38080decd205f6b2e4770", "short_hash": "af42abb680e3", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T14:25:33+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-09-30T21:58:00+02:00", "subject": "staging: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/isdn/gigaset/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API modernization replacing deprecated pr_warning() with pr_warn(). Single file change in staging driver. Well-documented commit message referencing prior similar work. Maintainer sign-off present.", "code_snippet": "@@ -518,7 +518,7 @@ void gigaset_if_init(struct cardstate *cs)\n \tif (!IS_ERR(cs->tty_dev))\n \t\tdev_set_drvdata(cs->tty_dev, cs);\n \telse {\n-\t\tpr_warning(\"could not register device to the tty subsystem\\n\");\n+\t\tpr_warn(\"could not register device to the tty subsystem\\n\");\n \t\tcs->tty_dev = NULL;\n \t}\n \tmutex_unlock(&cs->mutex);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af42abb680e33f3428a38080decd205f6b2e4770"}
{"commit_hash": "1c6294858950a3cc609570f050734e1492e6a155", "short_hash": "1c6294858950", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-31T13:03:48Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-30T22:37:18-04:00", "subject": "scsi: smartpqi: remove set but not used variable 'ctrl_info'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "6d615f1346", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/smartpqi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables reported by Hulk Robot. Fixes gcc warning. Minimal code impact (6 deletions). Single subsystem (SCSI smartpqi driver). Cross-org collaboration between Huawei author and Oracle maintainer. Clean commit message with fixes tag and link.", "code_snippet": "@@ -6157,12 +6157,6 @@ static ssize_t pqi_firmware_version_show(struct device *dev,\n static ssize_t pqi_driver_version_show(struct device *dev,\n \tstruct device_attribute *attr, char *buffer)\n {\n-\tstruct Scsi_Host *shost;\n-\tstruct pqi_ctrl_info *ctrl_info;\n-\n-\tshost = class_to_shost(dev);\n-\tctrl_info = shost_to_hba(shost);\n-\n \treturn snprintf(buffer, PAGE_SIZE,\n \t\t\"%s\\n\", DRIVER_VERSION BUILD_TIMESTAMP);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c6294858950a3cc609570f050734e1492e6a155"}
{"commit_hash": "e6d6ba8014e5205d66e3711047463f04132c3b1e", "short_hash": "e6d6ba8014e5", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-16T23:56:51+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-30T23:01:17-04:00", "subject": "scsi: ufs-mediatek: enable auto suspend capability", "primary_category": "FEAT-OPT", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 13, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MediaTek UFS driver enabling runtime autosuspend capability - a power optimization feature. 3 lines added to enable UFSHCD_CAP_RPM_AUTOSUSPEND flag in driver initialization. Has proper review chain with Reviewed-by from Avri Altman (WD) and Signed-off-by from maintainer Martin K. Petersen. Cross-company contribution (MediaTek to upstream). Clean atomic change with clear purpose.", "code_snippet": "@@ -147,6 +147,9 @@ static int ufs_mtk_init(struct ufs_hba *hba)\n \tif (err)\n \t\tgoto out_variant_clear;\n \n+\t/* Enable runtime autosuspend */\n+\thba->caps |= UFSHCD_CAP_RPM_AUTOSUSPEND;\n+\n \t/*\n \t * ufshcd_vops_init() is invoked after\n \t * ufshcd_setup_clock(true) in ufshcd_hba_init() thus\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e6d6ba8014e5205d66e3711047463f04132c3b1e"}
{"commit_hash": "49615ba144a0929c725d08f0d3ba8494c8b77404", "short_hash": "49615ba144a0", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-16T23:56:50+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-30T23:01:17-04:00", "subject": "scsi: ufs: override auto suspend tunables for ufs", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 19, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)", "Bean Huo <beanhuo@micron.com> (Micron)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 11, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Power management optimization for UFS devices. 19 insertions across 2 files in SCSI/UFS subsystem. Two Reviewed-by tags from community developers (Avri Altman, Bean Huo) indicate review quality. Signed off by maintainer Martin K. Petersen. Adds runtime PM autosuspend capability with 2000ms delay for better power efficiency.", "code_snippet": "@@ -4631,9 +4634,14 @@ static int ufshcd_change_queue_depth(struct scsi_device *sdev, int depth)\n  */\n static int ufshcd_slave_configure(struct scsi_device *sdev)\n {\n+\tstruct ufs_hba *hba = shost_priv(sdev->host);\n \tstruct request_queue *q = sdev->request_queue;\n \n \tblk_queue_update_dma_pad(q, PRDT_DATA_BYTE_COUNT_PAD - 1);\n+\n+\tif (ufshcd_is_rpm_autosuspend_allowed(hba))\n+\t\tsdev->rpm_autosuspend = 1;\n+\n \treturn 0;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49615ba144a0929c725d08f0d3ba8494c8b77404"}
{"commit_hash": "c74f8056621738f5be9f5d3d7e0caa927b21aef6", "short_hash": "c74f80566217", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-16T23:56:49+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-30T23:01:17-04:00", "subject": "scsi: core: allow auto suspend override by low-level driver", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/", "include/scsi/"], "subsystem_tier": 7, "files_changed": 4, "insertions": 11, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)", "Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 9, "score_impact": 16, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "SCSI runtime power management feature allowing low-level drivers to override autosuspend behavior. Code volume minimal (13 insertions, 2 deletions). SCSI subsystem tier 7 storage. Power management feature with battery life impact. Good review quality with 2 Reviewed-by tags. Well-structured commit message with clear rationale. Maintainer (Martin K. Petersen) signed off.", "code_snippet": "@@ -3367,6 +3367,10 @@ static int sd_probe(struct device *dev)\n \t}\n \n \tblk_pm_runtime_init(sdp->request_queue, dev);\n+\tif (sdp->rpm_autosuspend) {\n+\t\tpm_runtime_set_autosuspend_delay(dev,\n+\t\t\tsdp->host->hostt->rpm_autosuspend_delay);\n+\t}\n \tdevice_add_disk(dev, gd, NULL);\n \tif (sdkp->capacity)\n \t\tsd_dif_config_host(sdkp);\ndiff --git a/include/scsi/scsi_device.h b/include/scsi/scsi_device.h\nindex 202f4d6a4342..039e289f295e 100644\n--- a/include/scsi/scsi_device.h\n+++ b/include/scsi/scsi_device.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c74f8056621738f5be9f5d3d7e0caa927b21aef6"}
{"commit_hash": "7cd4cb94cf4f3bfd070d78714d4fe249700250a8", "short_hash": "7cd4cb94cf4f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:43:27+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-09-30T23:59:53-04:00", "subject": "scsi: bfa: Make restart_bfa static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/bfa/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to restart_bfa function in SCSI driver. Minimal code change (1 line), single subsystem. Cross-org contribution (Huawei author, Oracle maintainer). Good commit message with Link tag and proper sign-offs. High subsystem tier for SCSI storage driver.", "code_snippet": "@@ -1487,8 +1487,7 @@ bfad_pci_error_detected(struct pci_dev *pdev, pci_channel_state_t state)\n \treturn ret;\n }\n \n-int\n-restart_bfa(struct bfad_s *bfad)\n+static int restart_bfa(struct bfad_s *bfad)\n {\n \tunsigned long flags;\n \tstruct pci_dev *pdev = bfad->pcidev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7cd4cb94cf4f3bfd070d78714d4fe249700250a8"}
{"commit_hash": "517d6b9c6f71bee15c729155445c42cc4ef77dda", "short_hash": "517d6b9c6f71", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-18T08:30:33Z", "committer_name": "Gao Xiang", "committer_email": "gaoxiang25@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-01T04:53:50+08:00", "subject": "erofs: fix return value check in erofs_read_superblock()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "fe7c2423570d", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/erofs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Gao Xiang <gaoxiang25@huawei.com> (Huawei)"], "reviewed_by": ["Gao Xiang <gaoxiang25@huawei.com> (Huawei)", "Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 8, "score_impact": 19, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error handling in erofs filesystem superblock reading. Changed NULL check to IS_ERR() for read_mapping_page() return value. Properly propagates error codes via PTR_ERR(). Two Reviewed-by tags from maintainers. Small, focused fix in filesystem subsystem.", "code_snippet": "@@ -105,9 +105,9 @@ static int erofs_read_superblock(struct super_block *sb)\n \tint ret;\n \n \tpage = read_mapping_page(sb->s_bdev->bd_inode->i_mapping, 0, NULL);\n-\tif (!page) {\n+\tif (IS_ERR(page)) {\n \t\terofs_err(sb, \"cannot read erofs superblock\");\n-\t\treturn -EIO;\n+\t\treturn PTR_ERR(page);\n \t}\n \n \tsbi = EROFS_SB(sb);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/517d6b9c6f71bee15c729155445c42cc4ef77dda"}
{"commit_hash": "e40642dc01b87a8b202ce39013b0a4881025a816", "short_hash": "e40642dc01b8", "author_name": "zhanglin", "author_email": "zhang.lin16@zte.com.cn", "author_company": "ZTE", "author_date": "2019-09-21T09:57:15+08:00", "committer_name": "Paul Moore", "committer_email": "paul@paul-moore.com", "committer_company": "Paul-moore", "commit_date": "2019-10-01T09:29:04-04:00", "subject": "selinux: remove load size limit", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security/selinux"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["zhanglin <zhang.lin16@zte.com.cn> (ZTE)", "Paul Moore <paul@paul-moore.com> (Paul-moore)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 6, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing legacy 64MB load size limit in SELinux that was obsoleted by vmalloc improvements. Minimal code change (4 lines deleted), single file touched. Cross-org contribution from ZTE to SELinux subsystem, reviewed and signed off by maintainer Paul Moore.", "code_snippet": "@@ -548,10 +548,6 @@ static ssize_t sel_write_load(struct file *file, const char __user *buf,\n \tif (*ppos != 0)\n \t\tgoto out;\n \n-\tlength = -EFBIG;\n-\tif (count > 64 * 1024 * 1024)\n-\t\tgoto out;\n-\n \tlength = -ENOMEM;\n \tdata = vmalloc(count);\n \tif (!data)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e40642dc01b87a8b202ce39013b0a4881025a816"}
{"commit_hash": "713f871b30a66dc4daff4d17b760c9916aaaf2e1", "short_hash": "713f871b30a6", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-18T22:51:30-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:26:35-03:00", "subject": "media: mc-device.c: fix memleak in media_device_register_entity", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 33, "deletions": 32, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sakari Ailus <sakari.ailus@linux.intel.com> (Intel)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 7, "score_impact": 12, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in media device entity registration. Code refactors existing cleanup function to be called on error path. Strong review chain with 3 sign-offs including maintainer Mauro Carvalho Chehab. Cross-org contribution from Huawei developer. Clean atomic fix addressing specific error path.", "code_snippet": "@@ -575,6 +575,38 @@ static void media_device_release(struct media_devnode *devnode)\n \tdev_dbg(devnode->parent, \"Media device released\\n\");\n }\n \n+static void __media_device_unregister_entity(struct media_entity *entity)\n+{\n+\tstruct media_device *mdev = entity->graph_obj.mdev;\n+\tstruct media_link *link, *tmp;\n+\tstruct media_interface *intf;\n+\tunsigned int i;\n+\n+\tida_free(&mdev->entity_internal_idx, entity->internal_idx);\n+\n+\t/* Remove all interface links pointing to this entity */\n+\tlist_for_each_entry(intf, &mdev->interfaces, graph_obj.list) {\n+\t\tlist_for_each_entry_safe(link, tmp, &intf->links, list) {\n+\t\t\tif (link->entity == entity)\n+\t\t\t\t__media_remove_intf_link(link);\n+\t\t}\n+\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/713f871b30a66dc4daff4d17b760c9916aaaf2e1"}
{"commit_hash": "7fdd7f7c33d2451cf4865b95b24d57785c0ff515", "short_hash": "7fdd7f7c33d2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T22:37:35+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:28:46+01:00", "subject": "perf: xgene: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 10, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper to replace platform_get_resource/devm_ioremap_resource pattern. Detected by coccinelle. Low technical value (1+6+0=7) as it's pure refactoring with minimal changes (4 insertions, 10 deletions). Low impact (3+0+1+0=4) as it's cleanup with no functional change, no stable tagging, minimal user impact. Good quality (2+3+0+3=8) with proper maintainer sign-off (Will Deacon), clear commit message, and atomic change. Community score 4 due to maintainer endorsement. Total: 23/100.", "code_snippet": "@@ -1282,25 +1282,21 @@ static int acpi_pmu_probe_active_mcb_mcu_l3c(struct xgene_pmu *xgene_pmu,\n \t\t\t\t\t     struct platform_device *pdev)\n {\n \tvoid __iomem *csw_csr, *mcba_csr, *mcbb_csr;\n-\tstruct resource *res;\n \tunsigned int reg;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n-\tcsw_csr = devm_ioremap_resource(&pdev->dev, res);\n+\tcsw_csr = devm_platform_ioremap_resource(pdev, 1);\n \tif (IS_ERR(csw_csr)) {\n \t\tdev_err(&pdev->dev, \"ioremap failed for CSW CSR resource\\n\");\n \t\treturn PTR_ERR(csw_csr);\n \t}\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 2);\n-\tmcba_csr = devm_ioremap_resource(&pdev->dev, res);\n+\tmcba_csr = devm_platform_ioremap_resource(pdev, 2);\n \tif (IS_ERR(mcba_csr)) {\n \t\tdev_err(&pdev->dev, \"ioremap failed for MCBA CSR resource\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fdd7f7c33d2451cf4865b95b24d57785c0ff515"}
{"commit_hash": "1c8d96b41d8b05ed9dbc2bea03edf878f544f93e", "short_hash": "1c8d96b41d8b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T22:39:28+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:28:46+01:00", "subject": "perf/arm-ccn: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit using devm_platform_ioremap_resource() helper to simplify ARM CCN driver probe function. Reduces 2 lines to 1, eliminates temporary resource variable. Cross-org contribution (Huawei author, kernel.org maintainer). Maintainer signed off. Low technical complexity as it's a straightforward API usage consolidation.", "code_snippet": "@@ -1477,8 +1477,7 @@ static int arm_ccn_probe(struct platform_device *pdev)\n \tccn->dev = &pdev->dev;\n \tplatform_set_drvdata(pdev, ccn);\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tccn->base = devm_ioremap_resource(ccn->dev, res);\n+\tccn->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(ccn->base))\n \t\treturn PTR_ERR(ccn->base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c8d96b41d8b05ed9dbc2bea03edf878f544f93e"}
{"commit_hash": "42c184ade43a79d36f50a0b3394b3326633f53f5", "short_hash": "42c184ade43a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T22:36:44+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:28:46+01:00", "subject": "perf: hisi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf/hisilicon"], "subsystem_tier": 6, "files_changed": 3, "insertions": 3, "deletions": 10, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization replacing platform_get_resource+devm_ioremap_resource with devm_platform_ioremap_resource helper. Low complexity (3 files, -10+3 lines), cleanup/modernization category with minimal functional impact. Cross-org contribution from Huawei to perf subsystem with maintainer sign-off.", "code_snippet": "@@ -263,8 +261,7 @@ static int hisi_ddrc_pmu_init_data(struct platform_device *pdev,\n \t/* DDRC PMUs only share the same SCCL */\n \tddrc_pmu->ccl_id = -1;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tddrc_pmu->base = devm_ioremap_resource(&pdev->dev, res);\n+\tddrc_pmu->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(ddrc_pmu->base)) {\n \t\tdev_err(&pdev->dev, \"ioremap failed for ddrc_pmu resource\\n\");\n \t\treturn PTR_ERR(ddrc_pmu->base);\ndiff --git a/drivers/perf/hisilicon/hisi_uncore_hha_pmu.c b/drivers/perf/hisilicon/hisi_uncore_hha_pmu.c\nindex f28063873e11..6a1dd72d8abb 100644\n--- a/drivers/perf/hisilicon/hisi_uncore_hha_pmu.c\n+++ b/drivers/perf/hisilicon/hisi_uncore_hha_pmu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42c184ade43a79d36f50a0b3394b3326633f53f5"}
{"commit_hash": "504db0f82660898cbb76478cb2eaee46817c85b8", "short_hash": "504db0f82660", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-06T22:40:14+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:28:47+01:00", "subject": "perf/arm-cci: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper. Removes local variable and combines platform_get_resource/devm_ioremap_resource calls. Low impact cleanup commit detected by coccinelle. Cross-org contribution from Huawei to arm-cci maintained by Will Deacon.", "code_snippet": "@@ -1642,7 +1642,6 @@ static struct cci_pmu *cci_pmu_alloc(struct device *dev)\n \n static int cci_pmu_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct cci_pmu *cci_pmu;\n \tint i, ret, irq;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/504db0f82660898cbb76478cb2eaee46817c85b8"}
{"commit_hash": "c8b0de762e0b7cf9f51ad13b19bd279809317f37", "short_hash": "c8b0de762e0b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-09T09:22:57+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:35:44+01:00", "subject": "perf/smmuv3: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing devm_ioremap_resource with devm_platform_ioremap_resource helper. Detected by coccinelle, reduces boilerplate code. Low impact cleanup in ARM SMMUv3 PMU driver. Cross-org contribution from Huawei to ARM maintainer Will Deacon.", "code_snippet": "@@ -727,7 +727,7 @@ static void smmu_pmu_get_acpi_options(struct smmu_pmu *smmu_pmu)\n static int smmu_pmu_probe(struct platform_device *pdev)\n {\n \tstruct smmu_pmu *smmu_pmu;\n-\tstruct resource *res_0, *res_1;\n+\tstruct resource *res_0;\n \tu32 cfgr, reg_size;\n \tu64 ceid_64[2];\n \tint irq, err;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8b0de762e0b7cf9f51ad13b19bd279809317f37"}
{"commit_hash": "182a1d8bc4ed30f5e0bb7fb52606fa1888430ca4", "short_hash": "182a1d8bc4ed", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-28T16:55:40+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T12:46:37+01:00", "subject": "regulator: pcap-regulator: remove unused variable 'SW3_table'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/regulator"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variable. Author from Huawei, merged by maintainer Mark Brown. Well-formed commit message with Link tag. No functional change, compiler warning fix only.", "code_snippet": "@@ -86,10 +86,6 @@ static const unsigned int SW1_table[] = {\n \n #define SW2_table SW1_table\n \n-static const unsigned int SW3_table[] = {\n-\t4000000, 4500000, 5000000, 5500000,\n-};\n-\n struct pcap_regulator {\n \tconst u8 reg;\n \tconst u8 en;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/182a1d8bc4ed30f5e0bb7fb52606fa1888430ca4"}
{"commit_hash": "6aff90c5bab77886f99a1b6b1b1933f9b1e9b855", "short_hash": "6aff90c5bab7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T13:56:32Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-01T14:11:38+03:00", "subject": "ath9k: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/ath/ath9k"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing an unused include. Single file, single line deletion (1 deletion, 0 insertions). Cross-org contribution from Huawei author with maintainer sign-off. Good commit message quality. No stable tagging, no CVE, no user impact. Low subsystem tier (driver-specific wireless code).", "code_snippet": "@@ -12,7 +12,6 @@\n  * initialize the chip when the user-space is ready to extract the init code.\n  */\n #include <linux/module.h>\n-#include <linux/version.h>\n #include <linux/completion.h>\n #include <linux/etherdevice.h>\n #include <linux/firmware.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6aff90c5bab77886f99a1b6b1b1933f9b1e9b855"}
{"commit_hash": "dda8415e17c99ad3d6ac56d8aa722198f816fc74", "short_hash": "dda8415e17c9", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-06T08:55:01-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T16:44:57-03:00", "subject": "media: mtk-vcodec: vdec: fix incorrect pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/platform/mtk-vcodec/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Alexandre Courbot <acourbot@chromium.org> (Chromium)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 16, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes incorrect pointer dereference bug in MediaTek video codec driver. The bug changed dst_q_data->fmt.fourcc to dst_q_data->fmt->fourcc, as fmt is a pointer. This is a classic pointer dereference bug that could cause crashes. Strong review chain with 4 Sign-offs including maintainer Mauro Carvalho Chehab and Hans Verkuil. Cross-org contribution from MediaTek with Chromium review. Minimal code change (1 line) with clear commit message.", "code_snippet": "@@ -284,7 +284,7 @@ static void mtk_vdec_update_fmt(struct mtk_vcodec_ctx *ctx,\n \t\tfmt = &mtk_video_formats[k];\n \t\tif (fmt->fourcc == pixelformat) {\n \t\t\tmtk_v4l2_debug(1, \"Update cap fourcc(%d -> %d)\",\n-\t\t\t\tdst_q_data->fmt.fourcc, pixelformat);\n+\t\t\t\tdst_q_data->fmt->fourcc, pixelformat);\n \t\t\tdst_q_data->fmt = fmt;\n \t\t\treturn;\n \t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dda8415e17c99ad3d6ac56d8aa722198f816fc74"}
{"commit_hash": "2455d417c03aa0cbafed04c46cbb354643238318", "short_hash": "2455d417c03a", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-08T01:12:54-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T16:52:52-03:00", "subject": "media: vim2m: Fix BUG_ON in vim2m_device_release()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "ea6c7e34f3b2", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 52, "score_technical": 7, "score_impact": 20, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical BUG-CRASH fix addressing kernel panic (BUG_ON) in media driver. Single-line change prevents kfree() on ERR_PTR. Strong review chain with 3 sign-offs including maintainer. Fixes tag included. Cross-org contribution (Huawei). Clear commit message with stack trace evidence.", "code_snippet": "@@ -1343,6 +1343,7 @@ static int vim2m_probe(struct platform_device *pdev)\n \tif (IS_ERR(dev->m2m_dev)) {\n \t\tv4l2_err(&dev->v4l2_dev, \"Failed to init mem2mem device\\n\");\n \t\tret = PTR_ERR(dev->m2m_dev);\n+\t\tdev->m2m_dev = NULL;\n \t\tgoto error_dev;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2455d417c03aa0cbafed04c46cbb354643238318"}
{"commit_hash": "36756fbff1e4a31d71d262ae6a04a20b38efa874", "short_hash": "36756fbff1e4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T09:09:45-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T17:25:55-03:00", "subject": "media: max2175: Fix build error without CONFIG_REGMAP_I2C", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "b47b79d8a231", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/i2c/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sakari Ailus <sakari.ailus@linux.intel.com> (Intel)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 7, "score_impact": 13, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix for undefined reference to __devm_regmap_init_i2c in max2175 driver. Minimal 1-line Kconfig change adding 'select REGMAP_I2C'. Strong review chain with 3 Signed-off-bys (author + Intel + Samsung maintainers), proper Fixes tag, and Reported-by from Hulk Robot. Cross-org contribution from Huawei to Intel/Samsung-maintained media subsystem.", "code_snippet": "@@ -1113,6 +1113,7 @@ comment \"SDR tuner chips\"\n config SDR_MAX2175\n \ttristate \"Maxim 2175 RF to Bits tuner\"\n \tdepends on VIDEO_V4L2 && MEDIA_SDR_SUPPORT && I2C\n+\tselect REGMAP_I2C\n \thelp\n \t  Support for Maxim 2175 tuner. It is an advanced analog/digital\n \t  radio receiver with RF-to-Bits front-end designed for SDR solutions.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/36756fbff1e4a31d71d262ae6a04a20b38efa874"}
{"commit_hash": "623df5d710fe222c00328dddb757f5045164771c", "short_hash": "623df5d710fe", "author_name": "Dongchun Zhu", "author_email": "dongchun.zhu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-27T04:18:24-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-01T17:33:21-03:00", "subject": "media: i2c: ov5695: Modify the function of async register subdev related devices", "primary_category": "FEAT-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/i2c", "subsystems_touched": ["drivers/media/i2c"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Dongchun Zhu <dongchun.zhu@mediatek.com> (MediaTek)", "Sakari Ailus <sakari.ailus@linux.intel.com> (Intel)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": ["Tomasz Figa <tfiga@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 9, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line API change replacing v4l2_async_register_subdev with v4l2_async_register_subdev_sensor_common to support async registration of sensor sub-devices and related devices like actuators/VCM. Strong review chain with 3 sign-offs including subsystem maintainer. Cross-org contribution from Mediatek with review from Chromiu", "code_snippet": "@@ -1325,7 +1325,7 @@ static int ov5695_probe(struct i2c_client *client,\n \t\tgoto err_power_off;\n #endif\n \n-\tret = v4l2_async_register_subdev(sd);\n+\tret = v4l2_async_register_subdev_sensor_common(sd);\n \tif (ret) {\n \t\tdev_err(dev, \"v4l2 async register subdev failed\\n\");\n \t\tgoto err_clean_entity;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/623df5d710fe222c00328dddb757f5045164771c"}
{"commit_hash": "70906d941ccd54c6bf419ea20b240c06753e0956", "short_hash": "70906d941ccd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T16:54:48+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-02T07:32:50+03:00", "subject": "rtlwifi: Remove set but not used variables 'dataempty','hoffset'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 10, "score_impact": 4, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables in wireless driver (gcc warning fix). Low technical complexity (2 insertions, 4 deletions, 1 file). Moderate subsystem tier (wireless networking). Low base score for cleanup category. Good commit message with clear justification. Cross-org contribution (Huawei to Qualcomm maintainer). Proper maintainer sign-off.", "code_snippet": "@@ -915,7 +915,7 @@ static int efuse_pg_packet_write(struct ieee80211_hw *hw,\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct pgpkt_struct target_pkt;\n \tu8 write_state = PG_STATE_HEADER;\n-\tint continual = true, dataempty = true, result = true;\n+\tint continual = true, result = true;\n \tu16 efuse_addr = 0;\n \tu8 efuse_data;\n \tu8 target_word_cnts = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70906d941ccd54c6bf419ea20b240c06753e0956"}
{"commit_hash": "4010758eb082467509c4e95e3c0bec57b1dec3d9", "short_hash": "4010758eb082", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T16:54:47+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-02T07:32:50+03:00", "subject": "rtlwifi: Remove set but not used variable 'rtstate'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "f1d2b4d338bf", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing a set-but-unused variable reported by Hulk Robot. Fixes gcc warning. Single subsystem (wireless driver), low complexity (3 line deletion). Cross-org contribution (Huawei -> Codeaurora maintainer). Maintainer signed off.", "code_snippet": "@@ -68,7 +68,6 @@ static bool rtl_ps_set_rf_state(struct ieee80211_hw *hw,\n {\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct rtl_ps_ctl *ppsc = rtl_psc(rtl_priv(hw));\n-\tenum rf_pwrstate rtstate;\n \tbool actionallowed = false;\n \tu16 rfwait_cnt = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4010758eb082467509c4e95e3c0bec57b1dec3d9"}
{"commit_hash": "4a26e11500b85198d54147a82fb44dd9b647bd93", "short_hash": "4a26e11500b8", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T16:54:50+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-02T07:32:51+03:00", "subject": "rtlwifi: rtl8192ee: Remove set but not used variables 'short_gi','buf_len'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "f1d2b4d338bf", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/realtek/rtlwifi"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variables in wireless driver subsystem. Cross-org contribution (Huawei -> Codeaurora) with proper maintainer sign-off. Good commit message with Fixes tag and compiler warning context. No user impact, no testing evidence.", "code_snippet": "@@ -651,7 +651,6 @@ void rtl92ee_tx_fill_desc(struct ieee80211_hw *hw,\n \tstruct rtlwifi_tx_info *tx_info = rtl_tx_skb_cb_info(skb);\n \tu16 seq_number;\n \t__le16 fc = hdr->frame_control;\n-\tunsigned int buf_len;\n \tu8 fw_qsel = _rtl92ee_map_hwqueue_to_fwqueue(skb, hw_queue);\n \tbool firstseg = ((hdr->seq_ctrl &\n \t\t\t    cpu_to_le16(IEEE80211_SCTL_FRAG)) == 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a26e11500b85198d54147a82fb44dd9b647bd93"}
{"commit_hash": "533e3de4120566bb90b6193aae7a6c15e26cc4fd", "short_hash": "533e3de41205", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T16:54:51+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-02T07:32:52+03:00", "subject": "rtlwifi: rtl8192ee: Remove set but not used variables 'reg_ecc','reg_eac'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 11, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables in wireless driver (1 insertion, 6 deletions). Fixes compiler warnings. Net subsystem tier 10 for wireless driver. Signed off by maintainer Kalle Valo.", "code_snippet": "@@ -2873,11 +2873,9 @@ void rtl92ee_phy_iq_calibrate(struct ieee80211_hw *hw, bool b_recovery)\n \t\treg_e94 = result[i][0];\n \t\treg_e9c = result[i][1];\n \t\treg_ea4 = result[i][2];\n-\t\treg_eac = result[i][3];\n \t\treg_eb4 = result[i][4];\n \t\treg_ebc = result[i][5];\n \t\treg_ec4 = result[i][6];\n-\t\treg_ecc = result[i][7];\n \t}\n \n \tif (final_candidate != 0xff) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/533e3de4120566bb90b6193aae7a6c15e26cc4fd"}
{"commit_hash": "66070e86878cc62d8b7e80c1729c4de6bd1b222c", "short_hash": "66070e86878c", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T16:54:52+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-02T07:32:53+03:00", "subject": "rtlwifi: rtl8723be: Remove set but not used variables 'reg_ecc','reg_eac'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 12, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Removal of unused variables (reg_eac, reg_ecc) to fix gcc -Wunused-but-set-variable warning in rtl8723be wireless driver. Pure cleanup - no functional change. Small code footprint (2 insertions, 6 deletions). Signed by maintainer Kalle Valo. Reported by internal Hulk Robot tool.", "code_snippet": "@@ -2334,11 +2334,9 @@ void rtl8723be_phy_iq_calibrate(struct ieee80211_hw *hw, bool b_recovery)\n \t\treg_e94 = result[i][0];\n \t\treg_e9c = result[i][1];\n \t\treg_ea4 = result[i][2];\n-\t\treg_eac = result[i][3];\n \t\treg_eb4 = result[i][4];\n \t\treg_ebc = result[i][5];\n \t\treg_ec4 = result[i][6];\n-\t\treg_ecc = result[i][7];\n \t}\n \tif (final_candidate != 0xff) {\n \t\treg_e94 = result[final_candidate][0];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/66070e86878cc62d8b7e80c1729c4de6bd1b222c"}
{"commit_hash": "33ea5aaa87cdae0f9af4d6b7ee4f650a1a36fd1d", "short_hash": "33ea5aaa87cd", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-09-26T14:29:38+08:00", "committer_name": "Anna Schumaker", "committer_email": "Anna.Schumaker@Netapp.com", "committer_company": "Netapp", "commit_date": "2019-10-02T08:52:17-04:00", "subject": "nfs: Fix nfsi->nrequests count error on nfs_inode_remove_request", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 9, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Anna Schumaker <Anna.Schumaker@Netapp.com> (Netapp)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 12, "score_impact": 19, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for NFS inode request counter causing kernel WARNING during unmount. Fix is minimal (3 lines) and atomic. Reported by Hulk Robot, reviewed by maintainer Anna Schumaker. Cross-company contribution (Huawei to NetApp maintainer). Good commit message with detailed call trace and root cause explanation.", "code_snippet": "@@ -786,7 +786,6 @@ static void nfs_inode_remove_request(struct nfs_page *req)\n \tstruct nfs_inode *nfsi = NFS_I(inode);\n \tstruct nfs_page *head;\n \n-\tatomic_long_dec(&nfsi->nrequests);\n \tif (nfs_page_group_sync_on_bit(req, PG_REMOVE)) {\n \t\thead = req->wb_head;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/33ea5aaa87cdae0f9af4d6b7ee4f650a1a36fd1d"}
{"commit_hash": "d0580c09c65cff211f589a40e08eabc62da463fb", "short_hash": "d0580c09c65c", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-09-19T22:09:09+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-03T09:11:00-05:00", "subject": "drm/amdgpu: remove excess function parameter description", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cbead2bdfcf1", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation cleanup fixing gcc warnings about excess kernel-doc parameter descriptions. Cross-org contribution from Huawei (yu kuai) with maintainer sign-off from Alex Deucher (AMD). Very low technical impact (2-line deletion, no functional changes).", "code_snippet": "@@ -423,7 +423,6 @@ static void vcn_v2_5_mc_resume(struct amdgpu_device *adev)\n  * vcn_v2_5_disable_clock_gating - disable VCN clock gating\n  *\n  * @adev: amdgpu_device pointer\n- * @sw: enable SW clock gating\n  *\n  * Disable clock gating for VCN block\n  */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0580c09c65cff211f589a40e08eabc62da463fb"}
{"commit_hash": "2e0db9dec25f8d60acb61ddc1a48cbbcabdbdd19", "short_hash": "2e0db9dec25f", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-09-29T20:38:43+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-03T09:11:06-05:00", "subject": "drm/amdgpu: remove set but not used variable 'pipe'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 3, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable 'pipe' to fix gcc warning. Minimal code change (-3/+1 lines). Cross-org contribution from Huawei to AMD GPU subsystem. Acknowledged by AMD maintainer Alex Deucher. No functional impact, no CVE, no stable cc.", "code_snippet": "@@ -232,12 +232,10 @@ void amdgpu_gfx_compute_queue_acquire(struct amdgpu_device *adev)\n \n void amdgpu_gfx_graphics_queue_acquire(struct amdgpu_device *adev)\n {\n-\tint i, queue, pipe, me;\n+\tint i, queue, me;\n \n \tfor (i = 0; i < AMDGPU_MAX_GFX_QUEUES; ++i) {\n \t\tqueue = i % adev->gfx.me.num_queue_per_pipe;\n-\t\tpipe = (i / adev->gfx.me.num_queue_per_pipe)\n-\t\t\t% adev->gfx.me.num_pipe_per_me;\n \t\tme = (i / adev->gfx.me.num_queue_per_pipe)\n \t\t      / adev->gfx.me.num_pipe_per_me;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e0db9dec25f8d60acb61ddc1a48cbbcabdbdd19"}
{"commit_hash": "dab8f7e94ee491126b1ca89839a19acf3e33e929", "short_hash": "dab8f7e94ee4", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T17:37:40+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-04T08:53:14-05:00", "subject": "drm/amd/display: Make some functions static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit making 4 functions static to fix sparse warnings. Low code volume (12 lines changed), single file in AMD GPU display subsystem. Cross-org contribution (Huawei author, AMD maintainer). Proper commit message with Reported-by tags. No user-facing impact or testing evidence.", "code_snippet": "@@ -29,7 +29,8 @@\n #include \"dm_helpers.h\"\n #include <drm/drm_hdcp.h>\n \n-bool lp_write_i2c(void *handle, uint32_t address, const uint8_t *data, uint32_t size)\n+static bool\n+lp_write_i2c(void *handle, uint32_t address, const uint8_t *data, uint32_t size)\n {\n \n \tstruct dc_link *link = handle;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dab8f7e94ee491126b1ca89839a19acf3e33e929"}
{"commit_hash": "3f384d7c490374b2ae8f61a6c67f14deab77bab2", "short_hash": "3f384d7c4903", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-16T23:09:21+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T11:02:59+02:00", "subject": "usbip: vhci_hcd indicate failed message", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "0775a9cbc694", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/usbip"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Shuah Khan <skhan@linuxfoundation.org> (Linuxfoundation)"], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 9, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor error message improvement in USB/IP driver. Changes pr_err to dev_err for better device tracing and adds 'failed' wording to error messages. Acked-by maintainer. Fixes tag references older commit. Very low complexity (4 lines changed), limited to single error path in vhci_start().", "code_snippet": "@@ -1195,12 +1195,12 @@ static int vhci_start(struct usb_hcd *hcd)\n \tif (id == 0 && usb_hcd_is_primary_hcd(hcd)) {\n \t\terr = vhci_init_attr_group();\n \t\tif (err) {\n-\t\t\tpr_err(\"init attr group\\n\");\n+\t\t\tdev_err(hcd_dev(hcd), \"init attr group failed, err = %d\\n\", err);\n \t\t\treturn err;\n \t\t}\n \t\terr = sysfs_create_group(&hcd_dev(hcd)->kobj, &vhci_attr_group);\n \t\tif (err) {\n-\t\t\tpr_err(\"create sysfs files\\n\");\n+\t\t\tdev_err(hcd_dev(hcd), \"create sysfs files failed, err = %d\\n\", err);\n \t\t\tvhci_finish_attr_group();\n \t\t\treturn err;\n \t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3f384d7c490374b2ae8f61a6c67f14deab77bab2"}
{"commit_hash": "ec035f91297d81506384c18563101a2c21cd8177", "short_hash": "ec035f91297d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:40:33+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: gr_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 8, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function. Low code volume (-3, +1 lines), USB gadget subsystem (tier 6). No functional change, just code modernization detected by coccinelle. Good commit message with Reported-by tag, proper sign-offs, and lore.kernel.org link. Greg KH as committer indicates maintainer endorsement.", "code_snippet": "@@ -2118,7 +2118,6 @@ static int gr_request_irq(struct gr_udc *dev, int irq)\n static int gr_probe(struct platform_device *pdev)\n {\n \tstruct gr_udc *dev;\n-\tstruct resource *res;\n \tstruct gr_regs __iomem *regs;\n \tint retval;\n \tu32 status;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec035f91297d81506384c18563101a2c21cd8177"}
{"commit_hash": "80d59826d2d00d4e5751d26c4d743a9021d09b0f", "short_hash": "80d59826d2d0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:42:22+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: pxa25x_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 2 lines to 1, removes unused variable. Reported-by tag indicates automated tooling. Low complexity, no functional change.", "code_snippet": "@@ -2321,7 +2321,6 @@ static int pxa25x_udc_probe(struct platform_device *pdev)\n \tstruct pxa25x_udc *dev = &memory;\n \tint retval, irq;\n \tu32 chiprev;\n-\tstruct resource *res;\n \n \tpr_info(\"%s: version %s\\n\", driver_name, DRIVER_VERSION);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/80d59826d2d00d4e5751d26c4d743a9021d09b0f"}
{"commit_hash": "9fd7a05e9776400f05fe07f81d3d71dc231d4fc3", "short_hash": "9fd7a05e9776", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:45:57+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: pxa27x_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor code modernization in USB gadget driver replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 2 lines to 1, detected by coccinelle script. Cross-org contribution from Huawei to subsystem maintained by Greg Kroah-Hartman with proper sign-off chain.", "code_snippet": "@@ -2356,7 +2356,6 @@ MODULE_DEVICE_TABLE(of, udc_pxa_dt_ids);\n  */\n static int pxa_udc_probe(struct platform_device *pdev)\n {\n-\tstruct resource *regs;\n \tstruct pxa_udc *udc = &memory;\n \tint retval = 0, gpio;\n \tstruct pxa2xx_udc_mach_info *mach = dev_get_platdata(&pdev->dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9fd7a05e9776400f05fe07f81d3d71dc231d4fc3"}
{"commit_hash": "3c60e959fa3543491f829ae52a4d70b58dea6f06", "short_hash": "3c60e959fa35", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:47:38+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: r8a66597-udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 7, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization using devm_platform_ioremap_resource() helper. Minimal code change (2 insertions, 3 deletions) in USB gadget driver. Non-critical subsystem (tier 6). Cleanup category with low impact. Proper maintainer signoff and review chain.", "code_snippet": "@@ -1838,7 +1838,7 @@ static int r8a66597_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tchar clk_name[8];\n-\tstruct resource *res, *ires;\n+\tstruct resource *ires;\n \tint irq;\n \tvoid __iomem *reg = NULL;\n \tstruct r8a66597 *r8a66597 = NULL;", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/3c60e959fa3543491f829ae52a4d70b58dea6f06"}
{"commit_hash": "601acc7899566f597c2f1980c3cc751a35dc4281", "short_hash": "601acc789956", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:48:36+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: renesas_usb3: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor refactoring using devm_platform_ioremap_resource() helper function. 1 line added, 3 removed. USB gadget driver (tier 5). Clean commit with proper tags (Reported-by, Signed-off-by, Link). Greg Kroah-Hartman applied directly. No user impact, no stable tag.", "code_snippet": "@@ -2732,7 +2732,6 @@ static struct usb_role_switch_desc renesas_usb3_role_switch_desc = {\n static int renesas_usb3_probe(struct platform_device *pdev)\n {\n \tstruct renesas_usb3 *usb3;\n-\tstruct resource *res;\n \tint irq, ret;\n \tconst struct renesas_usb3_priv *priv;\n \tconst struct soc_device_attribute *attr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/601acc7899566f597c2f1980c3cc751a35dc4281"}
{"commit_hash": "237b668c1c5da7e22c296ceb9daf772fbb5731f3", "short_hash": "237b668c1c5d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:50:22+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:39+02:00", "subject": "usb: gadget: s3c-hsudc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 7, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Modernization commit converting to devm_platform_ioremap_resource() helper. Simplifies probe code by removing manual resource variable. Very small scope (-4 +1 lines). USB gadget driver is mid-tier subsystem. Non-functional cleanup, no user impact. Robot-reported via coccinelle. Maintainer signed off.", "code_snippet": "@@ -1263,7 +1263,6 @@ static const struct usb_gadget_ops s3c_hsudc_gadget_ops = {\n static int s3c_hsudc_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \tstruct s3c_hsudc *hsudc;\n \tstruct s3c24xx_hsudc_platdata *pd = dev_get_platdata(&pdev->dev);\n \tint ret, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/237b668c1c5da7e22c296ceb9daf772fbb5731f3"}
{"commit_hash": "d706a95bb48a2c03c42ae15e28c1ca245f3362ab", "short_hash": "d706a95bb48a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:50:45+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: renesas_usbhs: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/renesas_usbhs/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 6, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization commit replacing deprecated API calls with devm_platform_ioremap_resource(). Affects only a single USB driver subsystem. Clean commit message with proper tags and links. Maintainer-signed. Very low technical complexity and impact.", "code_snippet": "@@ -590,7 +590,7 @@ static int usbhs_probe(struct platform_device *pdev)\n {\n \tconst struct renesas_usbhs_platform_info *info;\n \tstruct usbhs_priv *priv;\n-\tstruct resource *res, *irq_res;\n+\tstruct resource *irq_res;\n \tstruct device *dev = &pdev->dev;\n \tint ret, gpio;\n \tu32 tmp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d706a95bb48a2c03c42ae15e28c1ca245f3362ab"}
{"commit_hash": "e719ffbf872ecf4d9b56314fb25ebe019895abe7", "short_hash": "e719ffbf872e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:02:39+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: gadget: at91_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-MODERNIZE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing manual platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Low risk cleanup detected by coccinelle script. Includes proper tags (Reported-by, Signed-off-by, Link). Maintainer Greg Kroah-Hartman signed off. USB gadget subsystem is peripheral driver code (tier 4). Minimal code change (-3 +1 lines). No functional change, only API consolidation.", "code_snippet": "@@ -1808,7 +1808,6 @@ static int at91udc_probe(struct platform_device *pdev)\n \tstruct device\t*dev = &pdev->dev;\n \tstruct at91_udc\t*udc;\n \tint\t\tretval;\n-\tstruct resource\t*res;\n \tstruct at91_ep\t*ep;\n \tint\t\ti;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e719ffbf872ecf4d9b56314fb25ebe019895abe7"}
{"commit_hash": "9cbe0c60c7919d98c6ea51fd91a6ba8c7b09eed6", "short_hash": "9cbe0c60c791", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:05:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: isp1362-hcd: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/host/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 7, "score_impact": 5, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper. Low code volume (5 lines changed), non-critical USB driver subsystem. Proper review chain with maintainer sign-off. Atomic change with clear purpose.", "code_snippet": "@@ -2627,7 +2627,7 @@ static int isp1362_probe(struct platform_device *pdev)\n {\n \tstruct usb_hcd *hcd;\n \tstruct isp1362_hcd *isp1362_hcd;\n-\tstruct resource *addr, *data, *irq_res;\n+\tstruct resource *data, *irq_res;\n \tvoid __iomem *addr_reg;\n \tvoid __iomem *data_reg;\n \tint irq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9cbe0c60c7919d98c6ea51fd91a6ba8c7b09eed6"}
{"commit_hash": "3aec68e3e020b6c7b6e5bac41605a1fee59097e6", "short_hash": "3aec68e3e020", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:32:27+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: gadget: bcm63xx_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 6, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Low technical impact (1 insertions, 5 deletions) in USB gadget driver. Detected by coccinelle script and reported by Hulk Robot. Good commit message with proper tags and reviewer chain (author -> Signed-off-by maintainer). No stable CC, no fixes tag, no user-visible impact beyond code cleanup.", "code_snippet": "@@ -2282,7 +2282,6 @@ static int bcm63xx_udc_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct bcm63xx_usbd_platform_data *pd = dev_get_platdata(dev);\n \tstruct bcm63xx_udc *udc;\n-\tstruct resource *res;\n \tint rc = -ENOMEM, i, irq;\n \n \tudc = devm_kzalloc(dev, sizeof(*udc), GFP_KERNEL);", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/3aec68e3e020b6c7b6e5bac41605a1fee59097e6"}
{"commit_hash": "55419932d2ace7af2ce76eb6bec11d36e8e27f2f", "short_hash": "55419932d2ac", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:10:04+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: host: xhci-tegra: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit using coccinelle-detected pattern to replace platform_get_resource + devm_ioremap_resource with devm_platform_ioremap_resource. Low technical complexity (3 insertions, 5 deletions), single file in USB host subsystem. Category base score 2 for MAINT-CLEANUP. Review chain: Huawei author -> Greg KH maintainer sign-off = 4 points. Good commit message with Link tag and Reported-by = 4 points. Cross-org collaboration (Huawei -> Linux Foundation) = 4 points.", "code_snippet": "@@ -970,7 +970,7 @@ static int tegra_xusb_powerdomain_init(struct device *dev,\n static int tegra_xusb_probe(struct platform_device *pdev)\n {\n \tstruct tegra_xusb_mbox_msg msg;\n-\tstruct resource *res, *regs;\n+\tstruct resource *regs;\n \tstruct tegra_xusb *tegra;\n \tstruct xhci_hcd *xhci;\n \tunsigned int i, j, k;", "flags": ["COCCINELLE", "CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/55419932d2ace7af2ce76eb6bec11d36e8e27f2f"}
{"commit_hash": "893a66d342981f8b67cdbf476f0b81f7015cda49", "short_hash": "893a66d34298", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:33:35+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:40+02:00", "subject": "usb: bdc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 4, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code modernization commit replacing manual platform_get_resource/devm_ioremap_resource calls with devm_platform_ioremap_resource helper. Removes 3 lines, adds 1 line. Low complexity but proper API usage. Acked by maintainer Greg Kroah-Hartman. Reported by automated tool (Hulk Robot).", "code_snippet": "@@ -480,7 +480,6 @@ static void bdc_phy_exit(struct bdc *bdc)\n static int bdc_probe(struct platform_device *pdev)\n {\n \tstruct bdc *bdc;\n-\tstruct resource *res;\n \tint ret = -ENOMEM;\n \tint irq;\n \tu32 temp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/893a66d342981f8b67cdbf476f0b81f7015cda49"}
{"commit_hash": "f68341d194c35f4e8577d6f4ac90765f58e3f05f", "short_hash": "f68341d194c3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:44:27+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:41+02:00", "subject": "USB: musb: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/musb", "subsystems_touched": ["drivers/usb/musb"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 3, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor code modernization in USB driver using devm_platform_ioremap_resource(). Trivial cleanup detected by coccinelle, reduces 3 lines to 1. Low subsystem tier (USB), no user impact, properly reviewed by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -2431,14 +2431,12 @@ static int musb_probe(struct platform_device *pdev)\n {\n \tstruct device\t*dev = &pdev->dev;\n \tint\t\tirq = platform_get_irq_byname(pdev, \"mc\");\n-\tstruct resource\t*iomem;\n \tvoid __iomem\t*base;\n \n \tif (irq <= 0)\n \t\treturn -ENODEV;\n \n-\tiomem = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(dev, iomem);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f68341d194c35f4e8577d6f4ac90765f58e3f05f"}
{"commit_hash": "89fa75acc40fd053115ce24d68c9a75be96af3e2", "short_hash": "89fa75acc40f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:45:58+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:41+02:00", "subject": "usb: phy: keystone: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/phy", "subsystems_touched": ["drivers/usb/phy/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Small change (1 insertion, 3 deletions) in a non-critical USB PHY driver. Detected by coccinelle tool (Hulk Robot). Proper sign-off chain from author through subsystem maintainer Greg Kroah-Hartman. Low impact refactoring with no functional changes.", "code_snippet": "@@ -66,15 +66,13 @@ static int keystone_usbphy_probe(struct platform_device *pdev)\n {\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct keystone_usbphy\t*k_phy;\n-\tstruct resource\t\t*res;\n \tint ret;\n \n \tk_phy = devm_kzalloc(dev, sizeof(*k_phy), GFP_KERNEL);\n \tif (!k_phy)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tk_phy->phy_ctrl = devm_ioremap_resource(dev, res);\n+\tk_phy->phy_ctrl = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(k_phy->phy_ctrl))\n \t\treturn PTR_ERR(k_phy->phy_ctrl);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89fa75acc40fd053115ce24d68c9a75be96af3e2"}
{"commit_hash": "33b4332f928256744ec59aa8fb30989f878bd4db", "short_hash": "33b4332f9282", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:48:27+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:09:41+02:00", "subject": "usb: phy: mxs: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/phy", "subsystems_touched": ["drivers/usb/phy"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using a new helper API. Low code volume (-2 lines), single file in drivers/usb/phy (tier 4). Category base 2 for refactoring. Greg Kroah-Hartman as maintainer endorser gives full points. Cross-org between Huawei contributor and Linux Foundation maintainer.", "code_snippet": "@@ -710,7 +710,6 @@ static enum usb_charger_type mxs_phy_charger_detect(struct usb_phy *phy)\n \n static int mxs_phy_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tstruct clk *clk;\n \tstruct mxs_phy *mxs_phy;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/33b4332f928256744ec59aa8fb30989f878bd4db"}
{"commit_hash": "ee4155f40cefea8af78b0bd20897ca97e2a8e72e", "short_hash": "ee4155f40cef", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T10:00:01Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T14:37:53+02:00", "subject": "xhci-ext-caps.c: Add missing platform_device_put() on error in xhci_create_intel_xhci_sw_pdev()", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "6ed151f26484", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/host/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line resource leak fix in USB host controller. Adds missing platform_device_put() in error path to prevent reference leak. Has proper Fixes tag and review chain from Greg KH. Low user impact (error path cleanup), high quality commit message.", "code_snippet": "@@ -57,6 +57,7 @@ static int xhci_create_intel_xhci_sw_pdev(struct xhci_hcd *xhci, u32 cap_offset)\n \t\tret = platform_device_add_properties(pdev, role_switch_props);\n \t\tif (ret) {\n \t\t\tdev_err(dev, \"failed to register device properties\\n\");\n+\t\t\tplatform_device_put(pdev);\n \t\t\treturn ret;\n \t\t}\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee4155f40cefea8af78b0bd20897ca97e2a8e72e"}
{"commit_hash": "7726fb53e75fa48714181efd00167e0734303afb", "short_hash": "7726fb53e75f", "author_name": "Xiaoming Ni", "author_email": "nixiaoming@huawei.com", "author_company": "Huawei", "author_date": "2019-09-24T17:25:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T15:11:26+02:00", "subject": "tty:n_gsm.c: destroy port by tty_port_destroy()", "primary_category": "BUG-LEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/tty/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiaoming Ni <nixiaoming@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 15, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak fix in TTY subsystem. Missing tty_port_destroy() call causes memory leak when freeing DLCI structures. Single line addition follows proper API usage pattern. Greg Kroah-Hartman (maintainer) signed off, indicating subsystem endorsement. Clear commit message with justification referencing API documentation.", "code_snippet": "@@ -1681,6 +1681,7 @@ static void gsm_dlci_free(struct tty_port *port)\n \n \tdel_timer_sync(&dlci->t1);\n \tdlci->gsm->dlci[dlci->addr] = NULL;\n+\ttty_port_destroy(&dlci->port);\n \tkfifo_free(dlci->fifo);\n \twhile ((dlci->skb = skb_dequeue(&dlci->skb_list)))\n \t\tdev_kfree_skb(dlci->skb);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7726fb53e75fa48714181efd00167e0734303afb"}
{"commit_hash": "8b063441b7417a79b0c27efc401479748ccf8ad1", "short_hash": "8b063441b741", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-13T00:52:27+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-04T15:14:37+02:00", "subject": "drivers/misc: ti-st: Remove unneeded variable in st_tty_open", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc", "subsystems_touched": ["drivers/misc/ti-st"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in non-critical driver (TI ST). Author from Huawei, merged by Greg KH. No stable CC, no cross-subsystem impact. Simple dead code elimination.", "code_snippet": "@@ -708,7 +708,6 @@ EXPORT_SYMBOL_GPL(st_unregister);\n  */\n static int st_tty_open(struct tty_struct *tty)\n {\n-\tint err = 0;\n \tstruct st_data_s *st_gdata;\n \tpr_info(\"%s \", __func__);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8b063441b7417a79b0c27efc401479748ccf8ad1"}
{"commit_hash": "26e0105550862a137eba701e2f4e3eeb343759e9", "short_hash": "26e010555086", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T17:57:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-04T17:25:04-07:00", "subject": "net: dsa: sja1105: Make function sja1105_xfer_long_buf static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/dsa/sja1105/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial sparse warning fix - adding 'static' keyword to an internal function. Minimal code change (1 line), low impact. Cross-org contribution (Huawei -> Davem) with maintainer sign-off indicates proper review.", "code_snippet": "@@ -156,9 +156,9 @@ int sja1105_xfer_u32(const struct sja1105_private *priv,\n  * must be sent/received. Splitting the buffer into chunks and assembling\n  * those into SPI messages is done automatically by this function.\n  */\n-int sja1105_xfer_long_buf(const struct sja1105_private *priv,\n-\t\t\t  sja1105_spi_rw_mode_t rw, u64 base_addr,\n-\t\t\t  void *packed_buf, u64 buf_len)\n+static int sja1105_xfer_long_buf(const struct sja1105_private *priv,\n+\t\t\t\t sja1105_spi_rw_mode_t rw, u64 base_addr,\n+\t\t\t\t void *packed_buf, u64 buf_len)\n {\n \tstruct chunk {\n \t\tvoid *buf_ptr;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/26e0105550862a137eba701e2f4e3eeb343759e9"}
{"commit_hash": "d131c5bb60123f29ed15dd2f829b6644c2deec87", "short_hash": "d131c5bb6012", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T15:08:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-06T18:34:10+02:00", "subject": "net/rds: Add missing include file", "primary_category": "BUILD", "secondary_categories": ["FIXES"], "cve_ids": [], "fixes_tag": "9b17f5884be4", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/rds"], "subsystem_tier": 8, "files_changed": 2, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 10, "score_impact": 5, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for missing DMA pool header causing compilation errors in RDS subsystem. Trivial addition of #include directive. Fixes tag present, reviewed by networking maintainer David S. Miller. Cross-company contribution from Huawei.", "code_snippet": "@@ -30,6 +30,7 @@\n  * SOFTWARE.\n  *\n  */\n+#include <linux/dmapool.h>\n #include <linux/kernel.h>\n #include <linux/in.h>\n #include <linux/if.h>\ndiff --git a/net/rds/ib_cm.c b/net/rds/ib_cm.c\nindex d08251f4a00c..6b345c858dba 100644\n--- a/net/rds/ib_cm.c\n+++ b/net/rds/ib_cm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d131c5bb60123f29ed15dd2f829b6644c2deec87"}
{"commit_hash": "59d55789def92c504784295be7980d5e63c90896", "short_hash": "59d55789def9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:50:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-06T18:37:43+02:00", "subject": "net: dsa: ksz9477: fix platform_no_drv_owner.cocci warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Coccinelle-generated cleanup removing redundant .owner field from platform driver. Single-line deletion (-1) is mechanically correct. Cross-org commit from Huawei author with maintainer sign-off from David S. Miller (net subsystem maintainer). Fixes build warning but no functional impact.", "code_snippet": "@@ -85,7 +85,6 @@ MODULE_DEVICE_TABLE(of, ksz9477_dt_ids);\n static struct i2c_driver ksz9477_i2c_driver = {\n \t.driver = {\n \t\t.name\t= \"ksz9477-switch\",\n-\t\t.owner\t= THIS_MODULE,\n \t\t.of_match_table = of_match_ptr(ksz9477_dt_ids),\n \t},\n \t.probe\t= ksz9477_i2c_probe,\n", "flags": ["COCCINELLE", "CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/59d55789def92c504784295be7980d5e63c90896"}
{"commit_hash": "b4d5191371a9db53e527749c6cf3bd7f000aa6a2", "short_hash": "b4d5191371a9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:52:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-06T18:38:28+02:00", "subject": "nfc: nfcmrvl: fix platform_no_drv_owner.cocci warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/nfc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit generated by Coccinelle script to remove redundant .owner field from platform driver. Single line deletion, NFC subsystem (tier 4), no functional change. Signed off by maintainer David S. Miller.", "code_snippet": "@@ -278,7 +278,6 @@ static struct i2c_driver nfcmrvl_i2c_driver = {\n \t.remove = nfcmrvl_i2c_remove,\n \t.driver = {\n \t\t.name\t\t= \"nfcmrvl_i2c\",\n-\t\t.owner\t\t= THIS_MODULE,\n \t\t.of_match_table\t= of_match_ptr(of_nfcmrvl_i2c_match),\n \t},\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b4d5191371a9db53e527749c6cf3bd7f000aa6a2"}
{"commit_hash": "04c1b4c70de958c229fc3d63298b807909a6f31a", "short_hash": "04c1b4c70de9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:53:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-06T18:38:52+02:00", "subject": "nfc: s3fwrn5: fix platform_no_drv_owner.cocci warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/nfc", "subsystems_touched": ["drivers/nfc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Automated Coccinelle cleanup removing redundant .owner field from platform driver. 1 line deletion, NFC subsystem (tier 3). Low technical impact but proper maintainer chain through David S. Miller. Cross-org contribution from Huawei.", "code_snippet": "@@ -279,7 +279,6 @@ MODULE_DEVICE_TABLE(of, of_s3fwrn5_i2c_match);\n \n static struct i2c_driver s3fwrn5_i2c_driver = {\n \t.driver = {\n-\t\t.owner = THIS_MODULE,\n \t\t.name = S3FWRN5_I2C_DRIVER_NAME,\n \t\t.of_match_table = of_match_ptr(of_s3fwrn5_i2c_match),\n \t},\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04c1b4c70de958c229fc3d63298b807909a6f31a"}
{"commit_hash": "09ef18bcd5ac6c2213cedd20f4f8cad08bbe3d74", "short_hash": "09ef18bcd5ac", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:29:20+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-10-07T01:07:35+02:00", "subject": "rtc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/rtc", "subsystems_touched": ["drivers/rtc/"], "subsystem_tier": 4, "files_changed": 34, "insertions": 34, "deletions": 103, "hunks": 122, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization replacing platform_get_resource+devm_ioremap_resource with devm_platform_ioremap_resource across 34 RTC drivers. Mechanically generated via coccinelle script. Low functional impact but high consistency improvement. Cross-org contribution from Huawei, reviewed and signed off by RTC maintainer Alexandre Belloni.", "code_snippet": "@@ -260,8 +259,7 @@ static int asm9260_rtc_probe(struct platform_device *pdev)\n \tif (irq_alarm < 0)\n \t\treturn irq_alarm;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->iobase = devm_ioremap_resource(dev, res);\n+\tpriv->iobase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->iobase))\n \t\treturn PTR_ERR(priv->iobase);\n \ndiff --git a/drivers/rtc/rtc-aspeed.c b/drivers/rtc/rtc-aspeed.c\nindex e351d35b29a3..eacdd0637cce 100644\n--- a/drivers/rtc/rtc-aspeed.c\n+++ b/drivers/rtc/rtc-aspeed.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/09ef18bcd5ac6c2213cedd20f4f8cad08bbe3d74"}
{"commit_hash": "61e867fde21ea94f2166899f24f16cad85cc7b24", "short_hash": "61e867fde21e", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-09-29T16:06:58+08:00", "committer_name": "Tejun Heo", "committer_email": "tj@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-07T07:01:09-07:00", "subject": "cgroup: short-circuit current_cgns_cgroup_from_root() on the default hierarchy", "primary_category": "FEAT-OPT", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/cgroup", "subsystems_touched": ["kernel/cgroup/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Tejun Heo <tj@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 13, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small optimization (2 lines) adding short-circuit path for default hierarchy cgroup lookup, following existing pattern from commit 13d82fb77abb. Core cgroup subsystem with high criticality. Cross-org contribution from Huawei (linmiaohe@huawei.com) with maintainer (Tejun Heo) sign-off indicating endorsement. Clean atomic change following established patterns.", "code_snippet": "@@ -1374,6 +1374,8 @@ current_cgns_cgroup_from_root(struct cgroup_root *root)\n \tcset = current->nsproxy->cgroup_ns->root_cset;\n \tif (cset == &init_css_set) {\n \t\tres = &root->cgrp;\n+\t} else if (root == &cgrp_dfl_root) {\n+\t\tres = cset->dfl_cgrp;\n \t} else {\n \t\tstruct cgrp_cset_link *link;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61e867fde21ea94f2166899f24f16cad85cc7b24"}
{"commit_hash": "649cd16c438f51d4cd777e71ca1f47f6e0c5e65d", "short_hash": "649cd16c438f", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-24T06:49:04-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-07T07:51:17-03:00", "subject": "media: flexcop-usb: fix NULL-ptr deref in flexcop_usb_transfer_init()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/usb", "subsystems_touched": ["drivers/media/usb"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 6, "score_impact": 18, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "NULL pointer dereference bug fix in USB driver. Checks return value of usb_set_interface() to prevent crash on failure. Proper commit message with clear explanation. Three-level review chain (author -> Sean Young -> Mauro Carvalho Chehab). Low-risk change confined to single function. User impact through potential crash on USB device initialization failure.", "code_snippet": "@@ -504,7 +504,13 @@ static int flexcop_usb_transfer_init(struct flexcop_usb *fc_usb)\n static int flexcop_usb_init(struct flexcop_usb *fc_usb)\n {\n \t/* use the alternate setting with the larges buffer */\n-\tusb_set_interface(fc_usb->udev,0,1);\n+\tint ret = usb_set_interface(fc_usb->udev, 0, 1);\n+\n+\tif (ret) {\n+\t\terr(\"set interface failed.\");\n+\t\treturn ret;\n+\t}\n+\n \tswitch (fc_usb->udev->speed) {\n \tcase USB_SPEED_LOW:\n \t\terr(\"cannot handle USB speed because it is too slow.\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/649cd16c438f51d4cd777e71ca1f47f6e0c5e65d"}
{"commit_hash": "3fa19069cd11ce9d86268164d8055fdd3ce1239b", "short_hash": "3fa19069cd11", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:45+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:32:10-07:00", "subject": "drm/msm/dpu: Remove set but not used variable 'priv' in dpu_encoder_phys_vid.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "25fdd5933e4c", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/disp/dpu1/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variable fixing GCC warning. Very trivial cleanup (2 deletions) in display subsystem. Cross-org contribution from Huawei to Chromecast maintainer. Good commit message with fixes tag and proper sign-offs.", "code_snippet": "@@ -566,7 +566,6 @@ static void dpu_encoder_phys_vid_prepare_for_kickoff(\n \n static void dpu_encoder_phys_vid_disable(struct dpu_encoder_phys *phys_enc)\n {\n-\tstruct msm_drm_private *priv;\n \tunsigned long lock_flags;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3fa19069cd11ce9d86268164d8055fdd3ce1239b"}
{"commit_hash": "a663a2b1350b68b62fc3162297bea18fb3ea2ab8", "short_hash": "a663a2b1350b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:44+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:32:10-07:00", "subject": "drm/msm/dpu: Remove set but not used variable 'priv' in dpu_kms.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "25fdd5933e4c", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/disp/dpu1"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 6, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing 2 unused variable declarations in DRM/MSM DPU driver to fix gcc warnings. Cross-org commit from Huawei author with maintainer sign-off. Clean commit message with Fixes tag, proper Reported-by credit. Single atomic change, no functional impact.", "code_snippet": "@@ -64,7 +64,6 @@ static int _dpu_danger_signal_status(struct seq_file *s,\n \t\tbool danger_status)\n {\n \tstruct dpu_kms *kms = (struct dpu_kms *)s->private;\n-\tstruct msm_drm_private *priv;\n \tstruct dpu_danger_safe_status status;\n \tint i;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a663a2b1350b68b62fc3162297bea18fb3ea2ab8"}
{"commit_hash": "d4f1bec36c5db7ead9d098f23c0d22c52969d0fb", "short_hash": "d4f1bec36c5d", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:46+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:33:30-07:00", "subject": "drm/msm/dpu: Remove set but not used variable 'priv' in dpu_core_irq.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "25fdd5933e4c", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/msm"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 6, "score_impact": 2, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable. Low code volume (1 line removed, 6 deletions total). Driver subsystem (tier 5). Cross-org contribution from Huawei to Chromium maintainer. Good commit message with Fixes tag and compiler warning context. Clean single-purpose change.", "code_snippet": "@@ -340,11 +340,8 @@ void dpu_debugfs_core_irq_init(struct dpu_kms *dpu_kms,\n \n void dpu_core_irq_preinstall(struct dpu_kms *dpu_kms)\n {\n-\tstruct msm_drm_private *priv;\n \tint i;\n \n-\tpriv = dpu_kms->dev->dev_private;\n-\n \tpm_runtime_get_sync(&dpu_kms->pdev->dev);\n \tdpu_clear_all_irqs(dpu_kms);\n \tdpu_disable_all_irqs(dpu_kms);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4f1bec36c5db7ead9d098f23c0d22c52969d0fb"}
{"commit_hash": "f09662c1a6b44639fb25b8250249229dfaf207f7", "short_hash": "f09662c1a6b4", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:47+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:33:30-07:00", "subject": "drm/msm/dpu: Remove set but not used variables 'dpu_cstate', 'priv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "25fdd5933e4c", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/disp/dpu1"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 9, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variables to fix compiler warnings. Very small scope (4 deletions in 1 file), low complexity. Cross-org contribution from Huawei to Chromiaum maintainer. Good commit message with Fixes tag and proper sign-offs. Atomic change with clear purpose. Low user impact as it only affects build warnings.", "code_snippet": "@@ -204,7 +204,6 @@ static int _dpu_core_perf_crtc_update_bus(struct dpu_kms *kms,\n void dpu_core_perf_crtc_release_bw(struct drm_crtc *crtc)\n {\n \tstruct dpu_crtc *dpu_crtc;\n-\tstruct dpu_crtc_state *dpu_cstate;\n \tstruct dpu_kms *kms;\n \n \tif (!crtc) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f09662c1a6b44639fb25b8250249229dfaf207f7"}
{"commit_hash": "60b42f2ae69f5491eace2f8a3a6040be2deea34f", "short_hash": "60b42f2ae69f", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:48+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:34:28-07:00", "subject": "drm/msm/dpu: Remove set but not used variables 'cmd_enc', 'priv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/msm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 5, "score_impact": 2, "score_quality": 7, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 1, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables to fix compiler warnings. 11 lines removed, 0 added. Well-documented commit message with compiler warning details and reference to originating commit. Cross-company contribution from Huawei to Chromium.org maintainer.", "code_snippet": "@@ -124,13 +124,11 @@ static void dpu_encoder_phys_cmd_pp_rd_ptr_irq(void *arg, int irq_idx)\n static void dpu_encoder_phys_cmd_ctl_start_irq(void *arg, int irq_idx)\n {\n \tstruct dpu_encoder_phys *phys_enc = arg;\n-\tstruct dpu_encoder_phys_cmd *cmd_enc;\n \n \tif (!phys_enc || !phys_enc->hw_ctl)\n \t\treturn;\n \n \tDPU_ATRACE_BEGIN(\"ctl_start_irq\");\n-\tcmd_enc = to_dpu_encoder_phys_cmd(phys_enc);\n \n \tatomic_add_unless(&phys_enc->pending_ctlstart_cnt, -1, 0);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60b42f2ae69f5491eace2f8a3a6040be2deea34f"}
{"commit_hash": "8fbd534b7248f5d0311d9dbfd7b4749317e4395a", "short_hash": "8fbd534b7248", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T12:33:49+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-07T09:35:15-07:00", "subject": "drm/msm/dpu: Remove set but not used variables 'mode', 'dpu_kms', 'priv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "25fdd5933e4c", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/msm/disp/dpu1/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 7, "score_impact": 4, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variables to fix compiler warnings. Only 3 lines removed, no functional changes. References prior commit that made variables obsolete. Proper sign-off chain from author to maintainer.", "code_snippet": "@@ -1174,7 +1174,6 @@ static void dpu_encoder_virt_disable(struct drm_encoder *drm_enc)\n \tstruct dpu_encoder_virt *dpu_enc = NULL;\n \tstruct msm_drm_private *priv;\n \tstruct dpu_kms *dpu_kms;\n-\tstruct drm_display_mode *mode;\n \tint i = 0;\n \n \tif (!drm_enc) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8fbd534b7248f5d0311d9dbfd7b4749317e4395a"}
{"commit_hash": "a5a5ec2538ab76fda4ec66f86adf0b80ef7c40bc", "short_hash": "a5a5ec2538ab", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:33:02+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-07T12:25:46+02:00", "subject": "staging: rtl8723bs: Remove set but not used variable 'oldcnt'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "dedf215bd1c7", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 3, "score_impact": 2, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing an unused variable in staging driver (low-tier subsystem). Only 2 lines deleted, no functional change. Good review chain (author -> Greg KH), clear commit message with compiler warning context. Staging drivers are for cleanup before mainline inclusion.", "code_snippet": "@@ -427,7 +427,6 @@ static u32 sdio_read_port(\n \tstruct adapter *adapter;\n \tstruct sdio_data *psdio;\n \tstruct hal_com_data *hal;\n-\tu32 oldcnt;\n \ts32 err;\n \n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5a5ec2538ab76fda4ec66f86adf0b80ef7c40bc"}
{"commit_hash": "f92013259d32c903d360039ff26a659f8f1552f5", "short_hash": "f92013259d32", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-07T16:46:43+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:36+08:00", "subject": "dt-bindings: display: mediatek: update dsi supported chips", "primary_category": "DOC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/display/mediatek/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Documentation update adding MT8183 support to device tree bindings. Minimal code change (2 insertions, 2 deletions). Acked by DT maintainer Rob Herring. Low subsystem tier for DT bindings. Category is documentation (DOC) with secondary feature-hardware classification for enabling new chip support.", "code_snippet": "@@ -7,7 +7,7 @@ channel output.\n \n Required properties:\n - compatible: \"mediatek,<chip>-dsi\"\n-  the supported chips are mt2701 and mt8173.\n+  the supported chips are mt2701, mt8173 and mt8183.\n - reg: Physical base address and length of the controller's registers\n - interrupts: The interrupt signal from the function block.\n - clocks: device clocks", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f92013259d32c903d360039ff26a659f8f1552f5"}
{"commit_hash": "89d0e3f8825822ca20f3af2d61e5e1e6df4c2476", "short_hash": "89d0e3f88258", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-19T14:58:00+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:37+08:00", "subject": "drm/mediatek: replace writeb() with mtk_dsi_mask()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug-fix for hardware access issue on mt8173. writeb() is unsupported on this SoC, replaced with mtk_dsi_mask() for proper 32-bit masked access. Small targeted fix (4 lines changed) in DRM/mediatek DSI driver with proper maintainer sign-off.", "code_snippet": "@@ -962,7 +962,9 @@ static void mtk_dsi_cmdq(struct mtk_dsi *dsi, const struct mipi_dsi_msg *msg)\n \t}\n \n \tfor (i = 0; i < msg->tx_len; i++)\n-\t\twriteb(tx_buf[i], dsi->regs + reg_cmdq_off + cmdq_off + i);\n+\t\tmtk_dsi_mask(dsi, (reg_cmdq_off + cmdq_off + i) & (~0x3U),\n+\t\t\t     (0xffUL << (((i + cmdq_off) & 3U) * 8U)),\n+\t\t\t     tx_buf[i] << (((i + cmdq_off) & 3U) * 8U));\n \n \tmtk_dsi_mask(dsi, reg_cmdq_off, cmdq_mask, reg_val);\n \tmtk_dsi_mask(dsi, DSI_CMDQ_SIZE, CMDQ_SIZE, cmdq_size);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89d0e3f8825822ca20f3af2d61e5e1e6df4c2476"}
{"commit_hash": "bb6bc2982a28d5d8e83c3bf0887949be1cc6bb5d", "short_hash": "bb6bc2982a28", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-19T14:57:59+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:37+08:00", "subject": "drm/mediatek: fixes CMDQ reg address of mt8173 is different with mt2701", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 22, "deletions": 5, "hunks": 14, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 14, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Medium-complexity driver bugfix (27 insertions, 5 deletions) addressing incorrect CMDQ register address for mt8173 SoC that differs from mt2701. The fix introduces driver data structure with platform-specific register offsets (0x200 for mt8173, 0x180 for mt2701) and uses of_device_get_match_data() for proper per-SoC configuration. Dual maintainer sign-offs (Jitao Shi and CK Hu) indicate proper review. Hardware-specific register access bug could cause display corruption on mt8173 devices without being immediately obvious.", "code_snippet": "@@ -957,9 +962,9 @@ static void mtk_dsi_cmdq(struct mtk_dsi *dsi, const struct mipi_dsi_msg *msg)\n \t}\n \n \tfor (i = 0; i < msg->tx_len; i++)\n-\t\twriteb(tx_buf[i], dsi->regs + DSI_CMDQ0 + cmdq_off + i);\n+\t\twriteb(tx_buf[i], dsi->regs + reg_cmdq_off + cmdq_off + i);\n \n-\tmtk_dsi_mask(dsi, DSI_CMDQ0, cmdq_mask, reg_val);\n+\tmtk_dsi_mask(dsi, reg_cmdq_off, cmdq_mask, reg_val);\n \tmtk_dsi_mask(dsi, DSI_CMDQ_SIZE, CMDQ_SIZE, cmdq_size);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bb6bc2982a28d5d8e83c3bf0887949be1cc6bb5d"}
{"commit_hash": "b3218e74367aacefeb4975bd0b69c8cb897bcb6a", "short_hash": "b3218e74367a", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-11T18:40:02+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:37+08:00", "subject": "drm/mediatek: move mipi_dsi_host_register to probe", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 31, "deletions": 22, "hunks": 16, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 9, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a driver refactoring commit that moves mipi_dsi_host_register from bind to probe to fix DSI panel probe timing. The commit involves 1 file changed with 53 lines total (31 insertions, 22 deletions). The DRM/mediatek subsystem is moderately critical (tier 6). Category base score of 8 for maintenance refactoring. Good commit message explaining the rationale. Proper error handling paths added. Same-company maintainer endorsement (CK Hu from Mediatek). Total: 39/100", "code_snippet": "@@ -1049,12 +1049,6 @@ static int mtk_dsi_bind(struct device *dev, struct device *master, void *data)\n \t\treturn ret;\n \t}\n \n-\tret = mipi_dsi_host_register(&dsi->host);\n-\tif (ret < 0) {\n-\t\tdev_err(dev, \"failed to register DSI host: %d\\n\", ret);\n-\t\tgoto err_ddp_comp_unregister;\n-\t}\n-\n \tret = mtk_dsi_create_conn_enc(drm, dsi);\n \tif (ret) {\n \t\tDRM_ERROR(\"Encoder create failed with %d\\n\", ret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3218e74367aacefeb4975bd0b69c8cb897bcb6a"}
{"commit_hash": "efda51a58b4ae8a0584dc785e0ef24a71677503c", "short_hash": "efda51a58b4a", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-07T16:46:45+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:37+08:00", "subject": "drm/mediatek: add mipi_tx driver for mt8183", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 4, "insertions": 153, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 2, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "New driver support for MediaTek MT8183 MIPI TX. Adds 153 lines of new driver code with clean hardware abstraction. Dual sign-off from author (Jitao Shi) and maintainer (CK Hu) indicates good review process. Well-structured commit extending existing driver framework to new SoC.", "code_snippet": "@@ -175,6 +175,8 @@ static const struct of_device_id mtk_mipi_tx_match[] = {\n \t  .data = &mt2701_mipitx_data },\n \t{ .compatible = \"mediatek,mt8173-mipi-tx\",\n \t  .data = &mt8173_mipitx_data },\n+\t{ .compatible = \"mediatek,mt8183-mipi-tx\",\n+\t  .data = &mt8183_mipitx_data },\n \t{ },\n };\n \ndiff --git a/drivers/gpu/drm/mediatek/mtk_mipi_tx.h b/drivers/gpu/drm/mediatek/mtk_mipi_tx.h\nindex 4f905313564f..413f35d86219 100644\n--- a/drivers/gpu/drm/mediatek/mtk_mipi_tx.h\n+++ b/drivers/gpu/drm/mediatek/mtk_mipi_tx.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/efda51a58b4ae8a0584dc785e0ef24a71677503c"}
{"commit_hash": "78e01a8d0f4662a9de4ef21bff254bf4f833d05a", "short_hash": "78e01a8d0f46", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-07T16:46:44+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:37+08:00", "subject": "drm/mediatek: separate mipi_tx to different file", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/mediatek"], "subsystem_tier": 4, "files_changed": 4, "insertions": 358, "deletions": 315, "hunks": 24, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 11, "score_impact": 13, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 7, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring commit separating MIPI TX hardware-specific code for mt8173 into a new file. Code volume: 673 total lines (358 insertions, 315 deletions) across 4 files. Both author and committer are from MediaTek (internal). Clear commit message explaining the purpose of separating hardware-specific parts for different ICs. Proper refactoring structure with new header file and clean separation. No fixes tag, no stable CC, limited to single subsystem (DRM/Mediatek).", "code_snippet": "@@ -12,6 +12,7 @@ mediatek-drm-y := mtk_disp_color.o \\\n \t\t  mtk_drm_plane.o \\\n \t\t  mtk_dsi.o \\\n \t\t  mtk_mipi_tx.o \\\n+\t\t  mtk_mt8173_mipi_tx.o \\\n \t\t  mtk_dpi.o\n \n obj-$(CONFIG_DRM_MEDIATEK) += mediatek-drm.o\ndiff --git a/drivers/gpu/drm/mediatek/mtk_mipi_tx.c b/drivers/gpu/drm/mediatek/mtk_mipi_tx.c\nindex 1842dc2caae9..77b9a185e970 100644\n--- a/drivers/gpu/drm/mediatek/mtk_mipi_tx.c\n+++ b/drivers/gpu/drm/mediatek/mtk_mipi_tx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78e01a8d0f4662a9de4ef21bff254bf4f833d05a"}
{"commit_hash": "2f501cc0b020b9d991128a70e26c84552121a31d", "short_hash": "2f501cc0b020", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-11T18:40:08+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:38+08:00", "subject": "drm/mediatek: adjust dsi and mipi_tx probe sequence", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 11, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes driver probe ordering issue where mtk_dsi probes before its phy mtk_mipi_tx, causing defer probing. Simple 2-line swap in driver array. Single subsystem (DRM/Mediatek). 2-line diff with clear explanation. Dual maintainer sign-off indicates proper review.", "code_snippet": "@@ -669,8 +669,8 @@ static struct platform_driver * const mtk_drm_drivers[] = {\n \t&mtk_disp_rdma_driver,\n \t&mtk_dpi_driver,\n \t&mtk_drm_platform_driver,\n-\t&mtk_dsi_driver,\n \t&mtk_mipi_tx_driver,\n+\t&mtk_dsi_driver,\n };\n \n static int __init mtk_drm_init(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f501cc0b020b9d991128a70e26c84552121a31d"}
{"commit_hash": "7a5bc4e22ecfd74dc3662342beaa909770a3b786", "short_hash": "7a5bc4e22ecf", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-19T14:58:04+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:38+08:00", "subject": "drm/mediatek: change the dsi phytiming calculate method", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 81, "deletions": 37, "hunks": 16, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": ["Ryan Case <ryandcase@chromium.org> (Chromium)"], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 11, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 0, "D3_community_response": 1}, "score_justification": "This is a bug fix/improvement for the MediaTek DSI PHY timing calculation. The commit replaces hardcoded timing constants with dynamically calculated values based on data rate, and fixes the frame rate calculation method. Code volume: 81 insertions, 37 deletions (moderate). Subsystem: GPU DRM MediaTek driver (mid-tier). Has Tested-by tag from external contributor (Google/Chromium), indicating cross-org collaboration. The commit message explains the technical change well with formula documentation.", "code_snippet": "@@ -138,12 +138,6 @@\n #define DATA_0\t\t\t\t(0xff << 16)\n #define DATA_1\t\t\t\t(0xff << 24)\n \n-#define T_LPX\t\t5\n-#define T_HS_PREP\t6\n-#define T_HS_TRAIL\t8\n-#define T_HS_EXIT\t7\n-#define T_HS_ZERO\t10\n-\n #define NS_TO_CYCLE(n, c)    ((n) / (c) + (((n) % (c)) ? 1 : 0))\n \n #define MTK_DSI_HOST_IS_READ(type) \\", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7a5bc4e22ecfd74dc3662342beaa909770a3b786"}
{"commit_hash": "e249e3e86b33386738e1ce4a37374aaea019a7e0", "short_hash": "e249e3e86b33", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-11T18:40:06+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:38+08:00", "subject": "drm/mediatek: add mt8183 dsi driver support", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 8, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New hardware support for MediaTek mt8183 DSI driver - adds device-specific driver data structure with register offset and feature flags. Small addition (8 lines), single subsystem, proper maintainer sign-offs.", "code_snippet": "@@ -1229,11 +1229,19 @@ static const struct mtk_dsi_driver_data mt2701_dsi_driver_data = {\n \t.reg_cmdq_off = 0x180,\n };\n \n+static const struct mtk_dsi_driver_data mt8183_dsi_driver_data = {\n+\t.reg_cmdq_off = 0x200,\n+\t.has_shadow_ctl = true,\n+\t.has_size_ctl = true,\n+};\n+\n static const struct of_device_id mtk_dsi_of_match[] = {\n \t{ .compatible = \"mediatek,mt2701-dsi\",\n \t  .data = &mt2701_dsi_driver_data },\n \t{ .compatible = \"mediatek,mt8173-dsi\",\n \t  .data = &mt8173_dsi_driver_data },\n+\t{ .compatible = \"mediatek,mt8183-dsi\",\n+\t  .data = &mt8183_dsi_driver_data },\n \t{ },\n };\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e249e3e86b33386738e1ce4a37374aaea019a7e0"}
{"commit_hash": "3c6bd94d32c45d47a0fce49e9cd64d72ff612bb5", "short_hash": "3c6bd94d32c4", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-11T18:40:04+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:38+08:00", "subject": "drm/mediatek: add dsi reg commit disable control", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 10, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 4, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Driver feature adding shadow register bypass control for new MediaTek DSI IP. 10 lines added, single file in DRM/mediatek subsystem. Proper commit message with Signed-off-by chain. Both author and committer from MediaTek, no cross-org review.", "code_snippet": "@@ -125,6 +125,10 @@\n #define VM_CMD_EN\t\t\tBIT(0)\n #define TS_VFP_EN\t\t\tBIT(5)\n \n+#define DSI_SHADOW_DEBUG\t0x190U\n+#define FORCE_COMMIT\t\t\tBIT(0)\n+#define BYPASS_SHADOW\t\t\tBIT(1)\n+\n #define CONFIG\t\t\t\t(0xff << 0)\n #define SHORT_PACKET\t\t\t0\n #define LONG_PACKET\t\t\t2", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3c6bd94d32c45d47a0fce49e9cd64d72ff612bb5"}
{"commit_hash": "7bf54afec961504d9618074539ec9ae2b8de8554", "short_hash": "7bf54afec961", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-11T18:40:05+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:38+08:00", "subject": "drm/mediatek: add frame size control", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature addition adding frame size control for new MediaTek DSI chip. Small scope (6 insertions), single driver file. Adds new hardware-specific control via has_size_ctl flag. Good commit hygiene with dual sign-offs from author and maintainer CK Hu.", "code_snippet": "@@ -72,6 +72,7 @@\n #define DSI_VBP_NL\t\t0x24\n #define DSI_VFP_NL\t\t0x28\n #define DSI_VACT_NL\t\t0x2C\n+#define DSI_SIZE_CON\t\t0x38\n #define DSI_HSA_WC\t\t0x50\n #define DSI_HBP_WC\t\t0x54\n #define DSI_HFP_WC\t\t0x58", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7bf54afec961504d9618074539ec9ae2b8de8554"}
{"commit_hash": "41ee3b815a35afec8f03a3c7f3e5cf462725db62", "short_hash": "41ee3b815a35", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:27+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:39+08:00", "subject": "dt-bindings: mediatek: add mutex description for mt8183 display", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/devicetree/bindings/display/mediatek/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change adding devicetree binding description for mt8183 display mutex. Minimal code volume (1 insertion, 0 deletions). Acked-by DT maintainer Rob Herring, signed off by Mediatek maintainers. Low subsystem criticality (docs/bindings tier). No user-visible impact beyond documentation completeness. Strong review chain with Acked-by from subsystem maintainer.", "code_snippet": "@@ -52,6 +52,7 @@ Required properties (all function blocks):\n   For most function blocks this is just a single clock input. Only the DSI and\n   DPI controller nodes have multiple clock inputs. These are documented in\n   mediatek,dsi.txt and mediatek,dpi.txt, respectively.\n+  An exception is that the mt8183 mutex is always free running with no clocks property.\n \n Required properties (DMA function blocks):\n - compatible: Should be one of\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/41ee3b815a35afec8f03a3c7f3e5cf462725db62"}
{"commit_hash": "4df74719066788fb9ae9cf5385df02893b46bbbe", "short_hash": "4df747190667", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:26+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:39+08:00", "subject": "dt-bindings: mediatek: add dither description for mt8183 display", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/devicetree/bindings/display/mediatek/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": ["Rob Herring <robh at kernel.org> (Robh at kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 7, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Documentation-only change adding one line to device tree bindings for MediaTek display dither component. Minimal code volume (1 insertion), low subsystem tier (DT docs), reviewed by Rob Herring (maintainer). Clean atomic change with proper sign-offs.", "code_snippet": "@@ -33,6 +33,7 @@ Required properties (all function blocks):\n \t\"mediatek,<chip>-disp-wdma\"  \t\t- write DMA\n \t\"mediatek,<chip>-disp-ccorr\"            - color correction\n \t\"mediatek,<chip>-disp-color\" \t\t- color processor\n+\t\"mediatek,<chip>-disp-dither\"           - dither\n \t\"mediatek,<chip>-disp-aal\"   \t\t- adaptive ambient light controller\n \t\"mediatek,<chip>-disp-gamma\" \t\t- gamma correction\n \t\"mediatek,<chip>-disp-merge\" \t\t- merge streams from two RDMA sources\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4df74719066788fb9ae9cf5385df02893b46bbbe"}
{"commit_hash": "6e031636d1f13905e225aa1be3b58d426ede2d90", "short_hash": "6e031636d1f1", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:25+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:39+08:00", "subject": "dt-bindings: mediatek: add ccorr description for mt8183 display", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/display/mediatek/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": ["Rob Herring <robh at kernel.org> (Robh at kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line documentation update to device tree bindings for Mediatek MT8183 display subsystem, adding color correction component description. Reviewed by DT maintainer Rob Herring, indicating proper review chain. Cross-organization contribution from Mediatek.", "code_snippet": "@@ -31,6 +31,7 @@ Required properties (all function blocks):\n \t\"mediatek,<chip>-disp-ovl-2l\"           - overlay (2 layers, blending, csc)\n \t\"mediatek,<chip>-disp-rdma\"  \t\t- read DMA / line buffer\n \t\"mediatek,<chip>-disp-wdma\"  \t\t- write DMA\n+\t\"mediatek,<chip>-disp-ccorr\"            - color correction\n \t\"mediatek,<chip>-disp-color\" \t\t- color processor\n \t\"mediatek,<chip>-disp-aal\"   \t\t- adaptive ambient light controller\n \t\"mediatek,<chip>-disp-gamma\" \t\t- gamma correction\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e031636d1f13905e225aa1be3b58d426ede2d90"}
{"commit_hash": "ccfcaa5234e5cdadc0c6db8da6e9c486bb248a26", "short_hash": "ccfcaa5234e5", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:24+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:39+08:00", "subject": "dt-bindings: mediatek: add ovl_2l description for mt8183 display", "primary_category": "DT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/display/mediatek/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 14, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 6, "score_quality": 9, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Documentation-only change adding ovl_2l binding description for MT8183 display. Low code volume (27 lines). Device tree bindings are critical but not runtime code. Reviewed-by from DT maintainer Rob Herring. Clean commit message with proper sign-offs. Atomic change to documentation.", "code_snippet": "@@ -27,19 +27,20 @@ Documentation/devicetree/bindings/display/mediatek/mediatek,dpi.txt.\n \n Required properties (all function blocks):\n - compatible: \"mediatek,<chip>-disp-<function>\", one of\n-\t\"mediatek,<chip>-disp-ovl\"   - overlay (4 layers, blending, csc)\n-\t\"mediatek,<chip>-disp-rdma\"  - read DMA / line buffer\n-\t\"mediatek,<chip>-disp-wdma\"  - write DMA\n-\t\"mediatek,<chip>-disp-color\" - color processor\n-\t\"mediatek,<chip>-disp-aal\"   - adaptive ambient light controller\n-\t\"mediatek,<chip>-disp-gamma\" - gamma correction\n-\t\"mediatek,<chip>-disp-merge\" - merge streams from two RDMA sources\n-\t\"mediatek,<chip>-disp-split\" - split stream to two encoders\n-\t\"mediatek,<chip>-disp-ufoe\"  - data compression engine\n-\t\"mediatek,<chip>-dsi\"        - DSI controller, see mediatek,dsi.txt\n-\t\"mediatek,<chip>-dpi\"        - DPI controller, see mediatek,dpi.txt\n-\t\"mediatek,<chip>-disp-mutex\" - display mutex\n-\t\"mediatek,<chip>-disp-od\"    - overdrive\n+\t\"mediatek,<chip>-disp-ovl\"   \t\t- overlay (4 layers, blending, csc)\n+\t\"mediatek,<chip>-disp-ovl-2l\"           - overlay (2 layers, blending, csc)\n+\t\"mediatek,<chip>-disp-rdma\"  \t\t- read DMA / line buffer", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ccfcaa5234e5cdadc0c6db8da6e9c486bb248a26"}
{"commit_hash": "75374fc2c152ef42c45c6bf716743d5f5bb6d24d", "short_hash": "75374fc2c152", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-19T14:58:06+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-07T12:29:39+08:00", "subject": "drm/mediatek: add dphy reset after setting lanes number", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for DSI PHY FIFO error. Small hardware-specific fix (9 lines) in MediaTek DRM driver. Adds dphy reset after lane configuration to prevent fifo errors. Reviewed by maintainer (CK Hu). Driver subsystem tier (6). Direct user impact on display stability.", "code_snippet": "@@ -282,6 +283,12 @@ static void mtk_dsi_reset_engine(struct mtk_dsi *dsi)\n \tmtk_dsi_mask(dsi, DSI_CON_CTRL, DSI_RESET, 0);\n }\n \n+static void mtk_dsi_reset_dphy(struct mtk_dsi *dsi)\n+{\n+\tmtk_dsi_mask(dsi, DSI_CON_CTRL, DPHY_RESET, DPHY_RESET);\n+\tmtk_dsi_mask(dsi, DSI_CON_CTRL, DPHY_RESET, 0);\n+}\n+\n static void mtk_dsi_clk_ulp_mode_enter(struct mtk_dsi *dsi)\n {\n \tmtk_dsi_mask(dsi, DSI_PHY_LCCON, LC_HS_TX_EN, 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/75374fc2c152ef42c45c6bf716743d5f5bb6d24d"}
{"commit_hash": "d34befc134d14c2ca8f69f62be1e6225f8fae738", "short_hash": "d34befc134d1", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:09:57+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-07T12:31:32+02:00", "subject": "staging: rtl8723bs: Remove set but not used variable 'prwskeylen'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variable in staging driver (low-tier subsystem). Minimal code change (9 deletions). Well-documented commit message explaining gcc warning fixes. Maintainer-signed by Greg KH. No functional impact.", "code_snippet": "@@ -819,10 +815,8 @@ u32 rtw_tkip_decrypt(struct adapter *padapter, u8 *precvframe)\n \t\t\t\t/* DBG_871X(\"rx bc/mc packets, to perform sw rtw_tkip_decrypt\\n\"); */\n \t\t\t\t/* prwskey = psecuritypriv->dot118021XGrpKey[psecuritypriv->dot118021XGrpKeyid].skey; */\n \t\t\t\tprwskey = psecuritypriv->dot118021XGrpKey[prxattrib->key_index].skey;\n-\t\t\t\tprwskeylen = 16;\n \t\t\t} else {\n \t\t\t\tprwskey = &stainfo->dot118021x_UncstKey.skey[0];\n-\t\t\t\tprwskeylen = 16;\n \t\t\t}\n \n \t\t\tiv = pframe+prxattrib->hdrlen;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d34befc134d14c2ca8f69f62be1e6225f8fae738"}
{"commit_hash": "4ccb5b0bc3e8fb36db931c42a47cf29d20ada427", "short_hash": "4ccb5b0bc3e8", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:09:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-07T12:31:32+02:00", "subject": "staging: rtl8723bs: Remove set but not used variable 'tmp_aid'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "554c0a3abf21", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 2, "score_impact": 1, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial dead variable removal in staging driver. Very low impact (tier 2 subsystem). Clean commit message with proper Fixes tag and robot reporter attribution. Cross-org contribution from Huawei to staging tree maintained by Greg Kroah-Hartman.", "code_snippet": "@@ -187,7 +187,6 @@ u32 _rtw_free_sta_priv(struct\tsta_priv *pstapriv)\n /* struct\tsta_info *rtw_alloc_stainfo(_queue *pfree_sta_queue, unsigned char *hwaddr) */\n struct\tsta_info *rtw_alloc_stainfo(struct\tsta_priv *pstapriv, u8 *hwaddr)\n {\n-\tuint tmp_aid;\n \ts32\tindex;\n \tstruct list_head\t*phash_list;\n \tstruct sta_info *psta;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4ccb5b0bc3e8fb36db931c42a47cf29d20ada427"}
{"commit_hash": "f342e258085bde61696bd64505f7551829647934", "short_hash": "f342e258085b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:09:59+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-07T12:31:33+02:00", "subject": "staging: rtl8723bs: Remove set but not used variable 'adapter'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable in staging driver. Low subsystem tier (staging). Cross-org contribution from Huawei to maintainer Greg Kroah-Hartman. Well-documented commit message with Fixes reference.", "code_snippet": "@@ -1989,7 +1989,6 @@ int rtw_select_roaming_candidate(struct mlme_priv *mlme)\n {\n \tint ret = _FAIL;\n \tstruct list_head\t*phead;\n-\tstruct adapter *adapter;\n \tstruct __queue\t*queue\t= &(mlme->scanned_queue);\n \tstruct\twlan_network\t*pnetwork = NULL;\n \tstruct\twlan_network\t*candidate = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f342e258085bde61696bd64505f7551829647934"}
{"commit_hash": "0fd1dc1ea477942fe1354fc49578dc3906dbd354", "short_hash": "0fd1dc1ea477", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:09:58+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-07T12:31:33+02:00", "subject": "staging: rtl8723bs: Remove set but not used variables 'ppp', 'type', 'data'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 6, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Removes unused variables to fix compiler warnings in staging driver. Low code volume (-7/+2 lines). Greg KH signed off indicates maintainer endorsement. Staging drivers have lower subsystem tier.", "code_snippet": "@@ -1400,10 +1400,8 @@ static sint validate_80211w_mgmt(struct adapter *adapter, union recv_frame *prec\n \tstruct mlme_priv *pmlmepriv = &adapter->mlmepriv;\n \tstruct rx_pkt_attrib *pattrib = &precv_frame->u.hdr.attrib;\n \tu8 *ptr = precv_frame->u.hdr.rx_data;\n-\tu8 type;\n \tu8 subtype;\n \n-\ttype =  GetFrameType(ptr);\n \tsubtype = GetFrameSubType(ptr); /* bit(7)~bit(2) */\n \n \t/* only support station mode */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fd1dc1ea477942fe1354fc49578dc3906dbd354"}
{"commit_hash": "03fe492e8346d3da59b6eb7ea306d46ebf22e9d5", "short_hash": "03fe492e8346", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:46:31+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-07T13:52:45+01:00", "subject": "ASoc: tas2770: Fix build error without GPIOLIB", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "1a476abc723e", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 12, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build fix for sound codec driver - adds missing include for GPIOLIB API. Single line insertion with proper Fixes tag and maintainer review.", "code_snippet": "@@ -15,6 +15,7 @@\n #include <linux/pm.h>\n #include <linux/i2c.h>\n #include <linux/gpio.h>\n+#include <linux/gpio/consumer.h>\n #include <linux/pm_runtime.h>\n #include <linux/regulator/consumer.h>\n #include <linux/firmware.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03fe492e8346d3da59b6eb7ea306d46ebf22e9d5"}
{"commit_hash": "e9e8fc9ed63e7e0fb30f8612f628924fbd868467", "short_hash": "e9e8fc9ed63e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:55:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-07T13:53:04+01:00", "subject": "ASoC: fsl_mqs: remove set but not used variable 'bclk'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removes unused variable to fix compiler warning. Minimal code change (-2 lines, +1 line). ASoC subsystem is moderately important (tier 5). Clean-up category with low impact. Proper sign-off chain from author to maintainer Mark Brown. Well-structured commit message with warning details and Reported-by tag. Atomic change, no testing needed. Cross-org contribution (Huawei author, kernel.org maintainer).", "code_snippet": "@@ -51,10 +51,9 @@ static int fsl_mqs_hw_params(struct snd_pcm_substream *substream,\n \tstruct fsl_mqs *mqs_priv = snd_soc_component_get_drvdata(component);\n \tunsigned long mclk_rate;\n \tint div, res;\n-\tint bclk, lrclk;\n+\tint lrclk;\n \n \tmclk_rate = clk_get_rate(mqs_priv->mclk);\n-\tbclk = snd_soc_params_to_bclk(params);\n \tlrclk = params_rate(params);\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9e8fc9ed63e7e0fb30f8612f628924fbd868467"}
{"commit_hash": "72caac6b62c291a095948a80995b9c40c3956796", "short_hash": "72caac6b62c2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T18:57:35+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:16-05:00", "subject": "drm/amd/display: remove set but not used variable 'core_freesync'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. 4 lines deleted, single file in DRM display subsystem. Cross-org contribution (Huawei author, AMD maintainer). Good review chain with Reviewed-by and proper signoffs. Clean commit message explaining the warning and referencing the refactoring commit. No testing mentioned, trivial cleanup.", "code_snippet": "@@ -981,13 +981,9 @@ void mod_freesync_get_settings(struct mod_freesync *mod_freesync,\n \t\tunsigned int *inserted_frames,\n \t\tunsigned int *inserted_duration_in_us)\n {\n-\tstruct core_freesync *core_freesync = NULL;\n-\n \tif (mod_freesync == NULL)\n \t\treturn;\n \n-\tcore_freesync = MOD_FREESYNC_TO_CORE(mod_freesync);\n-\n \tif (vrr->supported) {\n \t\t*v_total_min = vrr->adjust.v_total_min;\n \t\t*v_total_max = vrr->adjust.v_total_max;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72caac6b62c291a095948a80995b9c40c3956796"}
{"commit_hash": "8f49c8220bb12e637f19fc9c4142f4c2e4d6f5cc", "short_hash": "8f49c8220bb1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T07:44:04Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:23-05:00", "subject": "drm/amdgpu: remove duplicated include from mmhub_v1_0.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing duplicated header include. Cross-org contribution (Huawei author, AMD maintainer commit). Proper maintainer review chain.", "code_snippet": "@@ -31,7 +31,6 @@\n #include \"vega10_enum.h\"\n \n #include \"soc15_common.h\"\n-#include \"amdgpu_ras.h\"\n \n #define mmDAGB0_CNTL_MISC2_RV 0x008f\n #define mmDAGB0_CNTL_MISC2_RV_BASE_IDX 0\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f49c8220bb12e637f19fc9c4142f4c2e4d6f5cc"}
{"commit_hash": "b77095d5e1b5df2e38d15cd7ed180176b3284ba5", "short_hash": "b77095d5e1b5", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T10:44:32+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:29-05:00", "subject": "drm/amd/display: Make function wait_for_alt_mode static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/display"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 8, "score_impact": 3, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Sparse warning fix - adding static to wait_for_alt_mode function. Minimal code change (1 line), subsystem tier 7 for display driver. MAINT-CLEANUP category with low impact. Has review chain (Reviewed-by, Signed-off-by), good commit message with clear rationale. Cross-org contribution (Huawei to AMD), maintainer endorsement present.", "code_snippet": "@@ -685,7 +685,7 @@ static bool is_same_edid(struct dc_edid *old_edid, struct dc_edid *new_edid)\n \treturn (memcmp(old_edid->raw_edid, new_edid->raw_edid, new_edid->length) == 0);\n }\n \n-bool wait_for_alt_mode(struct dc_link *link)\n+static bool wait_for_alt_mode(struct dc_link *link)\n {\n \n \t/**\n", "flags": ["SPARSE_WARNING", "CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/b77095d5e1b5df2e38d15cd7ed180176b3284ba5"}
{"commit_hash": "a1fc51477cd08f2380f98d98b34490205f4b8c6b", "short_hash": "a1fc51477cd0", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T10:44:33+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:34-05:00", "subject": "drm/amd/display: Remove set but not used variable 'source_bpp'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "97bda0322b8a", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing an unused variable in AMD display DSC code. Has proper reviewer chain (Reviewed-by) and references the commit that made the variable obsolete (97bda0322b8a). Cross-org contribution from Huawei to AMD subsystem with maintainer sign-off.", "code_snippet": "@@ -177,7 +177,6 @@ void calc_rc_params(struct rc_params *rc, enum colour_mode cm, enum bits_per_com\n {\n \tfloat bpp_group;\n \tfloat initial_xmit_delay_factor;\n-\tint source_bpp;\n \tint padding_pixels;\n \tint i;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1fc51477cd08f2380f98d98b34490205f4b8c6b"}
{"commit_hash": "2b0619c159e99c67a14cbf1851a19b915a74d7e8", "short_hash": "2b0619c159e9", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T10:44:34+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:43-05:00", "subject": "drm/amd/display: Remove set but not used variables 'h_ratio_chroma', 'v_ratio_chroma'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 6, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix gcc warnings. Low code volume (4 deletions), single file. AMD display driver is mid-tier (5/10). Cleanup category base 2pts. Strong review chain with internal Reviewed-by and maintainer sign-off (4pts). Excellent commit message with warning details and fix reference (4pts). Atomic cleanup (3pts). Cross-org contribution from Huawei to AMD (4pts). Maintainer Alex Deucher signed off (4pts).", "code_snippet": "@@ -722,7 +722,6 @@ bool dwb_program_horz_scalar(struct dcn20_dwbc *dwbc20,\n \t\tstruct scaling_taps num_taps)\n {\n \tuint32_t h_ratio_luma = 1;\n-\tuint32_t h_ratio_chroma = 1;\n \tuint32_t h_taps_luma = num_taps.h_taps;\n \tuint32_t h_taps_chroma = num_taps.h_taps_c;\n \tint32_t h_init_phase_luma = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b0619c159e99c67a14cbf1851a19b915a74d7e8"}
{"commit_hash": "adda1367a862e70be1d5ac6b845bd1d8c09af9a4", "short_hash": "adda1367a862", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T10:44:35+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:45-05:00", "subject": "drm/amd/display: Remove set but not used variable 'pixel_width'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "f7de96ee8b5f", "cc_stable": false, "subsystem_prefix": "drm/amd/display", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Removal of unused variable that was set but never used. This is a trivial cleanup commit fixing a compiler warning. The code was orphaned since commit f7de96ee8b5f. Has proper review chain (Reviewed-by, Signed-off-by) and cross-org contribution (Huawei to AMD). No functional change, no testing needed.", "code_snippet": "@@ -376,13 +376,6 @@ bool dpp2_get_optimal_number_of_taps(\n \t\tstruct scaler_data *scl_data,\n \t\tconst struct scaling_taps *in_taps)\n {\n-\tuint32_t pixel_width;\n-\n-\tif (scl_data->viewport.width > scl_data->recout.width)\n-\t\tpixel_width = scl_data->recout.width;\n-\telse\n-\t\tpixel_width = scl_data->viewport.width;\n-\n \t/* Some ASICs does not support  FP16 scaling, so we reject modes require this*/\n \tif (scl_data->viewport.width  != scl_data->h_active &&\n \t\tscl_data->viewport.height != scl_data->v_active &&\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/adda1367a862e70be1d5ac6b845bd1d8c09af9a4"}
{"commit_hash": "6a1112da65f985fb407f82caee158091717c72c7", "short_hash": "6a1112da65f9", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-05T10:44:36+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-07T15:10:50-05:00", "subject": "drm/amd/display: Remove set but not used variables 'pp_smu', 'old_pipe'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd/display", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 12, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Dead code removal fixing gcc unused variable warnings. 12 lines deleted across 3 functions (pp_smu, old_pipe variables). Cross-org contribution (Huawei author, AMD maintainer commit). Proper review chain with Reviewed-by tag. Excellent commit message explaining the warnings and referencing commits that made variables obsolete. Low functional impact as this removes dead code post-refactoring. DRM/AMD display subsystem is driver-tier criticality.", "code_snippet": "@@ -957,9 +956,6 @@ void dce110_enable_audio_stream(struct pipe_ctx *pipe_ctx)\n \tif (pipe_ctx->stream_res.audio && pipe_ctx->stream_res.audio->enabled == true)\n \t\treturn;\n \n-\tif (core_dc->res_pool->pp_smu)\n-\t\tpp_smu = core_dc->res_pool->pp_smu;\n-\n \tif (pipe_ctx->stream_res.audio) {\n \t\tfor (i = 0; i < MAX_PIPES; i++) {\n \t\t\t/*current_state not updated yet*/", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a1112da65f985fb407f82caee158091717c72c7"}
{"commit_hash": "758b8db4a56ab03eca4ecbfa7fa641ed30fb2a90", "short_hash": "758b8db4a56a", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-06T17:58:12-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-10-07T15:47:19-07:00", "subject": "mm: fix -Wmissing-prototypes warnings", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["David Hildenbrand <david@redhat.com> (Redhat)", "Kees Cook <keescook@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 6, "score_quality": 15, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build warning fix: changes extern to static in mm/shuffle.c and mm/sparse.c to resolve -Wmissing-prototypes warnings. Minimal code change (2 insertions, 2 deletions). MM subsystem is high-tier (memory management). Strong review chain with Reviewed-by from David Hildenbrand and Kees Cook, signed by Andrew Morton and Linus Torvalds. Cross-org contribution from ZTE. No stable CC, low user impact (compiler warning only).", "code_snippet": "@@ -33,7 +33,7 @@ __meminit void page_alloc_shuffle(enum mm_shuffle_ctl ctl)\n }\n \n static bool shuffle_param;\n-extern int shuffle_show(char *buffer, const struct kernel_param *kp)\n+static int shuffle_show(char *buffer, const struct kernel_param *kp)\n {\n \treturn sprintf(buffer, \"%c\\n\", test_bit(SHUFFLE_ENABLE, &shuffle_state)\n \t\t\t? 'Y' : 'N');\ndiff --git a/mm/sparse.c b/mm/sparse.c\nindex bf32de9e666b..f6891c1992b1 100644\n--- a/mm/sparse.c\n+++ b/mm/sparse.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/758b8db4a56ab03eca4ecbfa7fa641ed30fb2a90"}
{"commit_hash": "7a243c82ea527cd1da47381ad9cd646844f3b693", "short_hash": "7a243c82ea52", "author_name": "Jia Guo", "author_email": "guojia12@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T17:57:47-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-10-07T15:47:19-07:00", "subject": "ocfs2: clear zero in unaligned direct IO", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-DATA-INCONSISTENCY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ocfs2", "subsystems_touched": ["fs/ocfs2/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 21, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Jia Guo <guojia12@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Yiwen Jiang <jiangyiwen@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 19, "score_quality": 13, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Data corruption bug in OCFS2 filesystem where unaligned direct IO writes leave dirty data in unused portions of blocks. Serious data inconsistency issue affecting append writes. Clean targeted fix with proper handling of two cases (write outside/inside file size). Strong review chain with internal review by Yiwen Jiang and acks from maintainers. Detailed commit message with clear problem description and technical explanation.", "code_snippet": "@@ -2146,13 +2146,30 @@ static int ocfs2_dio_wr_get_block(struct inode *inode, sector_t iblock,\n \tstruct ocfs2_dio_write_ctxt *dwc = NULL;\n \tstruct buffer_head *di_bh = NULL;\n \tu64 p_blkno;\n-\tloff_t pos = iblock << inode->i_sb->s_blocksize_bits;\n+\tunsigned int i_blkbits = inode->i_sb->s_blocksize_bits;\n+\tloff_t pos = iblock << i_blkbits;\n+\tsector_t endblk = (i_size_read(inode) - 1) >> i_blkbits;\n \tunsigned len, total_len = bh_result->b_size;\n \tint ret = 0, first_get_block = 0;\n \n \tlen = osb->s_clustersize - (pos & (osb->s_clustersize - 1));\n \tlen = min(total_len, len);\n \n+\t/*\n+\t * bh_result->b_size is count in get_more_blocks according to write\n+\t * \"pos\" and \"end\", we need map twice to return different buffer state:\n+\t * 1. area in file size, not set NEW;\n+\t * 2. area out file size, set  NEW.\n+\t *", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7a243c82ea527cd1da47381ad9cd646844f3b693"}
{"commit_hash": "c7c4e29fb5a422fd144b3fb0d3e32375d8f9b0ba", "short_hash": "c7c4e29fb5a4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T12:44:56+08:00", "committer_name": "Jessica Yu", "committer_email": "jeyu@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-07T16:37:53+02:00", "subject": "scripts: add_namespace: Fix coccicheck failed", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "eb8305aecb95", "cc_stable": false, "subsystem_prefix": "scripts", "subsystems_touched": ["scripts/coccinelle"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jessica Yu <jeyu@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)", "Matthias Maennich <maennich@google.com> (Google)"], "reported_by": []}, "score_total": 26, "score_technical": 3, "score_impact": 5, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build infrastructure fix for coccicheck script. Minimal code change (2 lines insertions). Acked by 2 maintainers. Fixes tag present. Low subsystem tier (scripts/coccinelle is tooling, not core functionality). Good commit message with clear problem description.", "code_snippet": "@@ -6,6 +6,8 @@\n /// add a missing namespace tag to a module source file.\n ///\n \n+virtual report\n+\n @has_ns_import@\n declarer name MODULE_IMPORT_NS;\n identifier virtual.ns;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c7c4e29fb5a422fd144b3fb0d3e32375d8f9b0ba"}
{"commit_hash": "a14bf1dc494aa5126e4f23ebd9fa04991133814e", "short_hash": "a14bf1dc494a", "author_name": "Tiezhu Yang", "author_email": "yangtiezhu@loongson.cn", "author_company": "Loongson", "author_date": "2019-10-09T00:15:09+08:00", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-10-08T10:54:44-07:00", "subject": "MIPS: generic: Use __initconst for const init data", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "eed0eabd12ef", "cc_stable": false, "subsystem_prefix": "mips", "subsystems_touched": ["arch/mips/generic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Tiezhu Yang <yangtiezhu@loongson.cn> (Loongson)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial fix changing __initdata to __initconst for const variables (3 lines). Fixes checkpatch errors in MIPS generic init code. Includes proper Fixes tag and maintainer sign-off.", "code_snippet": "@@ -20,9 +20,9 @@\n #include <asm/smp-ops.h>\n #include <asm/time.h>\n \n-static __initdata const void *fdt;\n-static __initdata const struct mips_machine *mach;\n-static __initdata const void *mach_match_data;\n+static __initconst const void *fdt;\n+static __initconst const struct mips_machine *mach;\n+static __initconst const void *mach_match_data;\n \n void __init prom_init(void)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a14bf1dc494aa5126e4f23ebd9fa04991133814e"}
{"commit_hash": "3e7c93bd04edfb0cae7dad1215544c9350254b8f", "short_hash": "3e7c93bd04ed", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-29T12:44:17+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-08T13:34:04+01:00", "subject": "arm64: armv8_deprecated: Checking return value for memory allocation", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/kernel/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Adds null pointer checks after memory allocation in arm64 deprecated instruction handling. Prevents potential kernel crashes on allocation failure during boot. Cross-org contribution from Huawei to ARM64 subsystem, signed by maintainer Will Deacon.", "code_snippet": "@@ -174,6 +174,9 @@ static void __init register_insn_emulation(struct insn_emulation_ops *ops)\n \tstruct insn_emulation *insn;\n \n \tinsn = kzalloc(sizeof(*insn), GFP_KERNEL);\n+\tif (!insn)\n+\t\treturn;\n+\n \tinsn->ops = ops;\n \tinsn->min = INSN_UNDEF;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e7c93bd04edfb0cae7dad1215544c9350254b8f"}
{"commit_hash": "8d6aa1367a7df44bb5939c4bb2727b8d8f7d01b3", "short_hash": "8d6aa1367a7d", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-27T18:31:56+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-08T13:39:36+01:00", "subject": "dt-bindings: medaitek: mt8183: add property \"resets\" && \"reset-names\"", "primary_category": "DT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/devicetree/bindings/sound", "subsystems_touched": ["Documentation/devicetree/bindings/sound"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DT documentation update adding reset properties to MT8183 audio bindings. Low code volume (6 lines), non-critical subsystem (DT bindings), basic commit message quality, good review chain (maintainer sign-off), atomic change focused on single binding file.", "code_snippet": "@@ -4,6 +4,10 @@ Required properties:\n - compatible = \"mediatek,mt68183-audio\";\n - reg: register location and size\n - interrupts: should contain AFE interrupt\n+- resets: Must contain an entry for each entry in reset-names\n+  See ../reset/reset.txt for details.\n+- reset-names: should have these reset names:\n+\t\t\"audiosys\";\n - power-domains: should define the power domain\n - clocks: Must contain an entry for each entry in clock-names\n - clock-names: should have these clock names:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d6aa1367a7df44bb5939c4bb2727b8d8f7d01b3"}
{"commit_hash": "9e985503ee4b23d576c303a17dfe52cfc8f32727", "short_hash": "9e985503ee4b", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-27T18:31:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-08T13:39:45+01:00", "subject": "ASoC: mt8183: fix audio playback slowly after playback during bootup", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Yingjoe Chen <yingjoe.chen@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for audio playback issue in MediaTek MT8183. Adds reset controller handling before regmap_reinit_cache. Small code volume (15 insertions), single file in ASoC subsystem. Good commit message with technical explanation. Has internal review and maintainer sign-off.", "code_snippet": "@@ -11,6 +11,7 @@\n #include <linux/of.h>\n #include <linux/of_address.h>\n #include <linux/pm_runtime.h>\n+#include <linux/reset.h>\n \n #include \"mt8183-afe-common.h\"\n #include \"mt8183-afe-clk.h\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e985503ee4b23d576c303a17dfe52cfc8f32727"}
{"commit_hash": "0a005856d35936e351cc20ff3de04499bd7ffbfd", "short_hash": "0a005856d359", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T14:11:11+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-08T14:04:54-04:00", "subject": "dm clone: Make __hash_find static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minimal compiler warning fix adding 'static' keyword to an internal function. Cross-org contribution (Huawei to Red Hat maintainer) with proper maintainer sign-off. No functional change, no testing evidence needed.", "code_snippet": "@@ -591,8 +591,8 @@ static struct hash_table_bucket *get_hash_table_bucket(struct clone *clone,\n  *\n  * NOTE: Must be called with the bucket lock held\n  */\n-struct dm_clone_region_hydration *__hash_find(struct hash_table_bucket *bucket,\n-\t\t\t\t\t      unsigned long region_nr)\n+static struct dm_clone_region_hydration *__hash_find(struct hash_table_bucket *bucket,\n+\t\t\t\t\t\t     unsigned long region_nr)\n {\n \tstruct dm_clone_region_hydration *hd;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0a005856d35936e351cc20ff3de04499bd7ffbfd"}
{"commit_hash": "5193dbdaf0b07a46b6659c7a38c80c947f7ab732", "short_hash": "5193dbdaf0b0", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:41:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-08T14:52:55+02:00", "subject": "staging: bcm2835-audio: Need to judge the return value of vchi_msg_dequeue in audio_vchi_callback", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/vc04_services/bcm2835-audio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 40, "score_technical": 6, "score_impact": 19, "score_quality": 13, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for uninitialized variable use when vchi_msg_dequeue fails. Staging driver (tier 3). Small change (3 lines, 0 removals). Has Reviewed-by tag. Clear commit message with Reported-by. Single-purpose atomic fix.", "code_snippet": "@@ -103,6 +103,9 @@ static void audio_vchi_callback(void *param,\n \n \tstatus = vchi_msg_dequeue(instance->vchi_handle,\n \t\t\t\t  &m, sizeof(m), &msg_len, VCHI_FLAGS_NONE);\n+\tif (status)\n+\t\treturn;\n+\n \tif (m.type == VC_AUDIO_MSG_TYPE_RESULT) {\n \t\tinstance->result = m.result.success;\n \t\tcomplete(&instance->msg_avail_comp);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5193dbdaf0b07a46b6659c7a38c80c947f7ab732"}
{"commit_hash": "3740b6351509d19d44ba39e47f6a76aa68799586", "short_hash": "3740b6351509", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:41:52+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-08T14:52:56+02:00", "subject": "staging: sm750fb: Remove set but not used variable 'actual_mx_clk'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/sm750fb/"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 2, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 1, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in staging driver. Very low impact (non-critical staging subsystem), but good commit message with Fixes tag, Robot reporter, and reviewed by maintainer Dan Carpenter. Cross-org contribution from Huawei to Linux Foundation tree.", "code_snippet": "@@ -56,7 +56,6 @@ static unsigned int get_mxclk_freq(void)\n static void set_chip_clock(unsigned int frequency)\n {\n \tstruct pll_value pll;\n-\tunsigned int actual_mx_clk;\n \n \t/* Cheok_0509: For SM750LE, the chip clock is fixed. Nothing to set. */\n \tif (sm750_get_chip_type() == SM750LE)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3740b6351509d19d44ba39e47f6a76aa68799586"}
{"commit_hash": "66bc9cde241ef69031e90a9971e91c634521e94e", "short_hash": "66bc9cde241e", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:41:51+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-08T14:52:56+02:00", "subject": "staging: sm750fb: Remove set but not used variable 'uiActualPixelClk'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "81dee67e215b", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 3, "score_impact": 3, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable in staging driver. Low code volume (1 insertion, 2 deletions). Staging subsystem has low criticality (tier 2). No cross-subsystem impact. Good commit message with fixes tag and warning context. Has reviewer (Dan Carpenter) and maintainer sign-off. Atomic change.", "code_snippet": "@@ -209,12 +209,11 @@ static int programModeRegisters(struct mode_parameter *pModeParam,\n int ddk750_setModeTiming(struct mode_parameter *parm, enum clock_type clock)\n {\n \tstruct pll_value pll;\n-\tunsigned int uiActualPixelClk;\n \n \tpll.input_freq = DEFAULT_INPUT_CLOCK;\n \tpll.clock_type = clock;\n \n-\tuiActualPixelClk = sm750_calc_pll_value(parm->pixel_clock, &pll);\n+\tsm750_calc_pll_value(parm->pixel_clock, &pll);\n \tif (sm750_get_chip_type() == SM750LE) {\n \t\t/* set graphic mode via IO method */\n \t\toutb_p(0x88, 0x3d4);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/66bc9cde241ef69031e90a9971e91c634521e94e"}
{"commit_hash": "19a1aad8886fd5b704b02870020cb6694f686991", "short_hash": "19a1aad8886f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-28T12:21:56+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-08T16:01:33-04:00", "subject": "nfsd: remove set but not used variable 'len'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "83a63072c815", "cc_stable": false, "subsystem_prefix": "fs/nfsd", "subsystems_touched": ["fs/nfsd/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 8, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Well-documented with proper Fixes tag and cross-org review (Huawei author, RedHat maintainer). Low technical complexity but high quality commit message.", "code_snippet": "@@ -3461,7 +3461,6 @@ static __be32 nfsd4_encode_splice_read(\n \tstruct xdr_stream *xdr = &resp->xdr;\n \tstruct xdr_buf *buf = xdr->buf;\n \tu32 eof;\n-\tlong len;\n \tint space_left;\n \t__be32 nfserr;\n \t__be32 *p = xdr->p - 2;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19a1aad8886fd5b704b02870020cb6694f686991"}
{"commit_hash": "d49d1c76b96ebf39539e93d5ab7943a01ef70e4f", "short_hash": "d49d1c76b96e", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:41:55+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-08T17:15:23+02:00", "subject": "staging: comedi: Remove set but not used variable 'aref'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "2e310235ca8f", "cc_stable": false, "subsystem_prefix": "drivers/staging/comedi", "subsystems_touched": ["drivers/staging/comedi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)", "Ian Abbott <abbotti@mev.co.uk> (Co)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 2, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal cleanup removing unused variable in staging driver (tier 3). 1 line added, 2 removed. Two Reviewed-by tags (Dan Carpenter, Ian Abbott) and Reported-by from Hulk Robot. Well-documented with reference to originating commit 2e310235ca8f. Staging drivers are lower priority, making this a low-scoring maintenance change.", "code_snippet": "@@ -508,12 +508,11 @@ static int dt3k_ai_insn_read(struct comedi_device *dev,\n \t\t\t     unsigned int *data)\n {\n \tint i;\n-\tunsigned int chan, gain, aref;\n+\tunsigned int chan, gain;\n \n \tchan = CR_CHAN(insn->chanspec);\n \tgain = CR_RANGE(insn->chanspec);\n \t/* XXX docs don't explain how to select aref */\n-\taref = CR_AREF(insn->chanspec);\n \n \tfor (i = 0; i < insn->n; i++)\n \t\tdata[i] = dt3k_readsingle(dev, DPR_SUBSYS_AI, chan, gain);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d49d1c76b96ebf39539e93d5ab7943a01ef70e4f"}
{"commit_hash": "6430f744a45adb722dc51982a7df7ac1367dc90d", "short_hash": "6430f744a45a", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:04+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:04-07:00", "subject": "net: hns3: add support for setting VF link status on the host", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 5, "insertions": 111, "deletions": 1, "hunks": 24, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 17, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a driver feature adding VF link state control for Huawei's HNS3 ethernet NIC. A1=4 (112 lines added across 5 files, moderate complexity). A2=8 (network driver, tier-2 subsystem). A3=0 (contained within hns3 driver). B1=12 (FEAT-DRIVER base 12). B2=0 (no stable cc). B3=3 (admins managing SR-IOV VFs). B4=2 (standard SR-IOV feature, not novel). C1=3 (3 signed-bys including maintainer Jakub Kicinski). C2=5 (excellent: describes options, commands, usage). C3=1 (logic appears sound, no explicit test mentioned). C4=3 (single coherent feature, clean implementation). D1=4 (Huawei author + Netronome maintainer). D2=4 (Jakub Kicinski signed). D3=0 (no response context). Total: 48/100.", "code_snippet": "@@ -529,6 +533,10 @@ struct hnae3_ae_ops {\n \tint (*mac_connect_phy)(struct hnae3_handle *handle);\n \tvoid (*mac_disconnect_phy)(struct hnae3_handle *handle);\n \tvoid (*restore_vlan_table)(struct hnae3_handle *handle);\n+\tint (*get_vf_config)(struct hnae3_handle *handle, int vf,\n+\t\t\t     struct ifla_vf_info *ivf);\n+\tint (*set_vf_link_state)(struct hnae3_handle *handle, int vf,\n+\t\t\t\t int link_state);\n };\n \n struct hnae3_dcb_ops {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 616cad0faa21..2136323bd9b9 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6430f744a45adb722dc51982a7df7ac1367dc90d"}
{"commit_hash": "8ae10cfb508977c186c9d6e1ac873c4280b10fa3", "short_hash": "8ae10cfb5089", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:09+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:05-07:00", "subject": "net: hns3: support tx-scatter-gather-fraglist feature", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 7, "files_changed": 2, "insertions": 168, "deletions": 93, "hunks": 44, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 11, "score_impact": 19, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "TX scatter-gather fraglist feature addition for Huawei HNS3 driver. 168 insertions/93 deletions across network driver. 50% performance improvement (1GB->1.5GB) documented. Proper review chain: author (Huawei) -> co-developer (Huawei) -> maintainer (Netronome). Includes refactoring of error handling and macro naming improvements.", "code_snippet": "@@ -962,14 +962,6 @@ static int hns3_set_l2l3l4(struct sk_buff *skb, u8 ol4_proto,\n \treturn 0;\n }\n \n-static void hns3_set_txbd_baseinfo(u16 *bdtp_fe_sc_vld_ra_ri, int frag_end)\n-{\n-\t/* Config bd buffer end */\n-\tif (!!frag_end)\n-\t\thns3_set_field(*bdtp_fe_sc_vld_ra_ri, HNS3_TXD_FE_B, 1U);\n-\thns3_set_field(*bdtp_fe_sc_vld_ra_ri, HNS3_TXD_VLD_B, 1U);\n-}\n-\n static int hns3_handle_vtags(struct hns3_enet_ring *tx_ring,\n \t\t\t     struct sk_buff *skb)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ae10cfb508977c186c9d6e1ac873c4280b10fa3"}
{"commit_hash": "ee9e44248f52b6f1425cd50b5941f491b4629456", "short_hash": "ee9e44248f52", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:07+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:05-07:00", "subject": "net: hns3: add support for configuring bandwidth of VF on the host", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 6, "files_changed": 8, "insertions": 280, "deletions": 2, "hunks": 38, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 15, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "This commit adds VF bandwidth configuration support for HNS3 ethernet driver (Hisilicon). It implements set_vf_rate netdev op, adds traffic management shaper configuration, debugfs support, and proper reset/resume handling. The code adds 280 lines across 8 files with proper error handling and validation. Maintainer Jakub Kicinski signed off. Driver feature API with moderate subsystem impact.", "code_snippet": "@@ -1850,6 +1850,18 @@ static int hns3_nic_set_vf_link_state(struct net_device *ndev, int vf,\n \treturn h->ae_algo->ops->set_vf_link_state(h, vf, link_state);\n }\n \n+static int hns3_nic_set_vf_rate(struct net_device *ndev, int vf,\n+\t\t\t\tint min_tx_rate, int max_tx_rate)\n+{\n+\tstruct hnae3_handle *h = hns3_get_handle(ndev);\n+\n+\tif (!h->ae_algo->ops->set_vf_rate)\n+\t\treturn -EOPNOTSUPP;\n+\n+\treturn h->ae_algo->ops->set_vf_rate(h, vf, min_tx_rate, max_tx_rate,\n+\t\t\t\t\t    false);\n+}\n+\n static const struct net_device_ops hns3_nic_netdev_ops = {\n \t.ndo_open\t\t= hns3_nic_net_open,\n \t.ndo_stop\t\t= hns3_nic_net_stop,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee9e44248f52b6f1425cd50b5941f491b4629456"}
{"commit_hash": "8e6de441b8e663e33d457494f88860f269933317", "short_hash": "8e6de441b8e6", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:08+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:05-07:00", "subject": "net: hns3: add support for configuring VF MAC from the host", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 6, "insertions": 158, "deletions": 8, "hunks": 32, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 13, "score_impact": 16, "score_quality": 13, "score_community": 9, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Feature addition for HNS3 driver to configure VF MAC from host. 158 insertions across 6 files in network driver subsystem. Clean implementation with proper error handling, reviewed by maintainer Jakub Kicinski. Cross-org contribution from Huawei. Good commit message explaining both feature and related cleanup.", "code_snippet": "@@ -1413,6 +1413,16 @@ static int hns3_nic_net_set_mac_address(struct net_device *netdev, void *p)\n \t\treturn 0;\n \t}\n \n+\t/* For VF device, if there is a perm_addr, then the user will not\n+\t * be allowed to change the address.\n+\t */\n+\tif (!hns3_is_phys_func(h->pdev) &&\n+\t    !is_zero_ether_addr(netdev->perm_addr)) {\n+\t\tnetdev_err(netdev, \"has permanent MAC %pM, user MAC %pM not allow\\n\",\n+\t\t\t   netdev->perm_addr, mac_addr->sa_data);\n+\t\treturn -EPERM;\n+\t}\n+\n \tret = h->ae_algo->ops->set_mac_addr(h, mac_addr->sa_data, false);\n \tif (ret) {\n \t\tnetdev_err(netdev, \"set_mac_address fail, ret=%d!\\n\", ret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e6de441b8e663e33d457494f88860f269933317"}
{"commit_hash": "e196ec75958e16f5a6d418a1296244f825109d8a", "short_hash": "e196ec75958e", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:06+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:05-07:00", "subject": "net: hns3: add support for setting VF trust", "primary_category": "FEAT-DRIVER", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 9, "insertions": 129, "deletions": 40, "hunks": 52, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 17, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "New feature for VF trust in HNS3 driver. 169 lines added across 9 files. Enables security control for VF promiscuous mode. Good commit structure with proper SOB chain (author, co-author, maintainer). Cross-company contribution (Huawei author, Netronome maintainer). Driver-specific networking code.", "code_snippet": "@@ -1656,6 +1656,16 @@ static int hns3_set_vf_spoofchk(struct net_device *netdev, int vf, bool enable)\n \treturn handle->ae_algo->ops->set_vf_spoofchk(handle, vf, enable);\n }\n \n+static int hns3_set_vf_trust(struct net_device *netdev, int vf, bool enable)\n+{\n+\tstruct hnae3_handle *handle = hns3_get_handle(netdev);\n+\n+\tif (!handle->ae_algo->ops->set_vf_trust)\n+\t\treturn -EOPNOTSUPP;\n+\n+\treturn handle->ae_algo->ops->set_vf_trust(handle, vf, enable);\n+}\n+\n static int hns3_nic_change_mtu(struct net_device *netdev, int new_mtu)\n {\n \tstruct hnae3_handle *h = hns3_get_handle(netdev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e196ec75958e16f5a6d418a1296244f825109d8a"}
{"commit_hash": "22044f95faa05cb8ceb96101bfe18a42613914dc", "short_hash": "22044f95faa0", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T09:20:05+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-08T17:18:05-07:00", "subject": "net: hns3: add support for spoof check setting", "primary_category": "FEAT-DRIVER", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 6, "insertions": 140, "deletions": 9, "hunks": 28, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 13, "score_quality": 15, "score_community": 3, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "New feature implementation adding VF spoof check support for hns3 NIC driver. 140 insertions across 6 files. Proper multi-level review (author->maintainer). Good commit message explaining functionality. Hardware-specific security feature for SR-IOV virtualization.", "code_snippet": "@@ -537,6 +539,8 @@ struct hnae3_ae_ops {\n \t\t\t     struct ifla_vf_info *ivf);\n \tint (*set_vf_link_state)(struct hnae3_handle *handle, int vf,\n \t\t\t\t int link_state);\n+\tint (*set_vf_spoofchk)(struct hnae3_handle *handle, int vf,\n+\t\t\t       bool enable);\n };\n \n struct hnae3_dcb_ops {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 2136323bd9b9..4a5404ef39a6 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/22044f95faa05cb8ceb96101bfe18a42613914dc"}
{"commit_hash": "89da2ba947b1080199f4a6413686569a75fc2e7d", "short_hash": "89da2ba947b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:16:14+08:00", "committer_name": "Bjorn Andersson", "committer_email": "bjorn.andersson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-10-08T17:32:10-07:00", "subject": "soc: qcom: Fix llcc-qcom definitions to include", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "99356b03b431", "cc_stable": false, "subsystem_prefix": "soc", "subsystems_touched": ["drivers/soc/qcom", "include/linux/soc/qcom"], "subsystem_tier": 6, "files_changed": 2, "insertions": 50, "deletions": 50, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bjorn Andersson <bjorn.andersson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 9, "score_impact": 13, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build regression fix for Qualcomm LLCC driver. Previous commit moved struct definitions out of header causing compilation failure in qcom_edac driver. Moves llcc_drv_data and llcc_edac_reg_data structs back to public header. Cross-org contribution (Huawei author, Linaro maintainer). Well-documented with fixes tag and build error context.", "code_snippet": "@@ -86,56 +86,6 @@ struct llcc_slice_config {\n \tbool activate_on_init;\n };\n \n-/**\n- * llcc_drv_data - Data associated with the llcc driver\n- * @regmap: regmap associated with the llcc device\n- * @bcast_regmap: regmap associated with llcc broadcast offset\n- * @cfg: pointer to the data structure for slice configuration\n- * @lock: mutex associated with each slice\n- * @cfg_size: size of the config data table\n- * @max_slices: max slices as read from device tree\n- * @num_banks: Number of llcc banks\n- * @bitmap: Bit map to track the active slice ids\n- * @offsets: Pointer to the bank offsets array\n- * @ecc_irq: interrupt for llcc cache error detection and reporting\n- */\n-struct llcc_drv_data {\n-\tstruct regmap *regmap;\n-\tstruct regmap *bcast_regmap;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89da2ba947b1080199f4a6413686569a75fc2e7d"}
{"commit_hash": "afa173746905f497ab01a658df96a525dfc0e8e4", "short_hash": "afa173746905", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-09-03T10:52:29+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-10-08T19:13:30+02:00", "subject": "mtd: spear_smi: remove set but not used variable 'flash_info'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "6551ab5d30d6", "cc_stable": false, "subsystem_prefix": "drivers/mtd", "subsystems_touched": ["drivers/mtd/devices/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low technical impact (1 line changed, 3 deletions). Subsystem is MTD devices (tier 6). Well-documented with fixes tag and clear explanation. Cross-org contribution from Huawei to Bootlin maintainer.", "code_snippet": "@@ -777,9 +777,6 @@ static int spear_smi_probe_config_dt(struct platform_device *pdev,\n \n \t/* Fill structs for each subnode (flash device) */\n \twhile ((pp = of_get_next_child(np, pp))) {\n-\t\tstruct spear_smi_flash_info *flash_info;\n-\n-\t\tflash_info = &pdata->board_flash_info[i];\n \t\tpdata->np[i] = pp;\n \n \t\t/* Read base-addr and size from DT */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/afa173746905f497ab01a658df96a525dfc0e8e4"}
{"commit_hash": "0fc44cd4c480bf10c8c530ee043849346999225d", "short_hash": "0fc44cd4c480", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:48+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:38+03:00", "subject": "rtlwifi: rtl8821ae: Remove set but not used variables 'rtstatus','bd'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "f1d2b4d338bf", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 11, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables to fix gcc warnings. 1 insertion, 6 deletions. Network subsystem (tier 10). Single file change. Fixes gcc warnings only, no functional impact. Signed by subsystem maintainer Kalle Valo.", "code_snippet": "@@ -2351,7 +2347,7 @@ static s8 _rtl8812ae_phy_get_txpower_limit(struct ieee80211_hw *hw,\n \tstruct rtl_phy *rtlphy = &rtlpriv->phy;\n \tshort band_temp = -1, regulation = -1, bandwidth_temp = -1,\n \t\t rate_section = -1, channel_temp = -1;\n-\tu16 bd, regu, bdwidth, sec, chnl;\n+\tu16 regu, bdwidth, sec, chnl;\n \ts8 power_limit = MAX_POWER_INDEX;\n \n \tif (rtlefuse->eeprom_regulatory == 2)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fc44cd4c480bf10c8c530ee043849346999225d"}
{"commit_hash": "a3e017fd8932ee4e01a01fea3cda63b451bc0558", "short_hash": "a3e017fd8932", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:49+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:39+03:00", "subject": "rtlwifi: rtl8723ae: Remove set but not used variables 'reg_ecc','reg_ec4','reg_eac','b_pathb_ok'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "f1d2b4d338bf", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 11, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warnings. Wireless network driver cleanup. Maintainer-reviewed (Kalle Valo). Fixes a long-standing issue since 2013. No user impact beyond compilation cleanliness.", "code_snippet": "@@ -1338,9 +1338,9 @@ void rtl8723e_phy_iq_calibrate(struct ieee80211_hw *hw, bool b_recovery)\n \n \tlong result[4][8];\n \tu8 i, final_candidate;\n-\tbool b_patha_ok, b_pathb_ok;\n-\tlong reg_e94, reg_e9c, reg_ea4, reg_eac, reg_eb4, reg_ebc, reg_ec4,\n-\t    reg_ecc, reg_tmp = 0;\n+\tbool b_patha_ok;\n+\tlong reg_e94, reg_e9c, reg_ea4, reg_eb4, reg_ebc,\n+\t   reg_tmp = 0;\n \tbool is12simular, is13simular, is23simular;\n \tu32 iqk_bb_reg[10] = {\n \t\tROFDM0_XARXIQIMBALANCE,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3e017fd8932ee4e01a01fea3cda63b451bc0558"}
{"commit_hash": "a003aec306c8175b31ecc06d5c7d9decd4a82797", "short_hash": "a003aec306c8", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:50+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:40+03:00", "subject": "rtlwifi: rtl8192c: Remove set but not used variables 'reg_ecc','reg_eac'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 11, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables reported by Hulk Robot. Simple removal of 2 unused variables (reg_ecc, reg_eac) in rtlwifi driver. Well-documented commit message with compiler warning details and historical context. Signed by maintainer Kalle Valo. Low impact as variables were set but never used since 2012. Single file, single subsystem change.", "code_snippet": "@@ -1369,8 +1369,8 @@ void rtl92c_phy_iq_calibrate(struct ieee80211_hw *hw, bool b_recovery)\n \tlong result[4][8];\n \tu8 i, final_candidate;\n \tbool b_patha_ok, b_pathb_ok;\n-\tlong reg_e94, reg_e9c, reg_ea4, reg_eac, reg_eb4, reg_ebc, reg_ec4,\n-\t    reg_ecc, reg_tmp = 0;\n+\tlong reg_e94, reg_e9c, reg_ea4, reg_eb4, reg_ebc, reg_ec4,\n+\t    reg_tmp = 0;\n \tbool is12simular, is13simular, is23simular;\n \tu32 iqk_bb_reg[10] = {\n \t\tROFDM0_XARXIQIMBALANCE,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a003aec306c8175b31ecc06d5c7d9decd4a82797"}
{"commit_hash": "925942b5da0959c7e3a56e6651f2e38999fa3293", "short_hash": "925942b5da09", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:51+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:41+03:00", "subject": "rtlwifi: rtl8188ee: Remove set but not used variables 'v3','rtstatus','reg_ecc','reg_ec4','reg_eac','b_pathb_ok'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 17, "hunks": 16, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 5, "score_impact": 3, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix gcc warnings. Single file in rtlwifi driver (tier 2). Low technical complexity (13 insertions, -17 deletions). Cross-org contribution (Huawei author, Qualcomm maintainer). Strong review chain with maintainer sign-off. Excellent commit message with compiler warning details. No stable CC or CVE impact.", "code_snippet": "@@ -689,13 +688,11 @@ static bool phy_config_bb_with_pghdr(struct ieee80211_hw *hw, u8 configtype)\n \n \t\t\t\t    v1 = phy_reg_page[i];\n \t\t\t\t    v2 = phy_reg_page[i+1];\n-\t\t\t\t    v3 = phy_reg_page[i+2];\n \t\t\t\t    while (v2 != 0xDEAD &&\n \t\t\t\t\t   i < phy_reg_page_len - 5) {\n \t\t\t\t\ti += 3;\n \t\t\t\t\tv1 = phy_reg_page[i];\n \t\t\t\t\tv2 = phy_reg_page[i+1];\n-\t\t\t\t\tv3 = phy_reg_page[i+2];\n \t\t\t\t    }\n \t\t\t\t}\n \t\t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/925942b5da0959c7e3a56e6651f2e38999fa3293"}
{"commit_hash": "073f8138f598433e7bf8b79a312b2f0d71c16141", "short_hash": "073f8138f598", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:52+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:42+03:00", "subject": "rtlwifi: rtl8188ee: Remove set but not used variable 'h2c_parameter'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable warning. Low code volume (6 deletions, 1 insertion). Well-documented with gcc warning details and fixes tag reference. Maintainer (Kalle Valo) signed off. No functional impact, just compiler warning fix.", "code_snippet": "@@ -759,14 +759,8 @@ static void rtl88e_dm_pwdb_monitor(struct ieee80211_hw *hw)\n \t\trtlpriv->dm.entry_min_undec_sm_pwdb = 0;\n \t}\n \t/* Indicate Rx signal strength to FW. */\n-\tif (rtlpriv->dm.useramask) {\n-\t\tu8 h2c_parameter[3] = { 0 };\n-\n-\t\th2c_parameter[2] = (u8)(rtlpriv->dm.undec_sm_pwdb & 0xFF);\n-\t\th2c_parameter[0] = 0x20;\n-\t} else {\n+\tif (!rtlpriv->dm.useramask)\n \t\trtl_write_byte(rtlpriv, 0x4fe, rtlpriv->dm.undec_sm_pwdb);\n-\t}\n }\n \n void rtl88e_dm_init_edca_turbo(struct ieee80211_hw *hw)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/073f8138f598433e7bf8b79a312b2f0d71c16141"}
{"commit_hash": "e25076070201b826fbbcdb0e3fe554e905601d8f", "short_hash": "e25076070201", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:53+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:43+03:00", "subject": "rtlwifi: btcoex: Remove set but not used variable 'result'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "27a31a60a4de", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 1, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. Single function in wifi driver (tier 3 subsystem). Cross-org contribution (Huawei author, CodeAurora maintainer). Clean atomic change with proper Fixes tag and Reported-by. Low user impact as variable was unused.", "code_snippet": "@@ -1578,10 +1578,6 @@ static void btc8192e2ant_tdma_duration_adjust(struct btc_coexist *btcoexist,\n {\n \tstruct rtl_priv *rtlpriv = btcoexist->adapter;\n \tstatic int up, dn, m, n, wait_cnt;\n-\t/* 0: no change, +1: increase WiFi duration,\n-\t * -1: decrease WiFi duration\n-\t */\n-\tint result;\n \tu8 retry_cnt = 0;\n \n \tRT_TRACE(rtlpriv, COMP_BT_COEXIST, DBG_LOUD,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e25076070201b826fbbcdb0e3fe554e905601d8f"}
{"commit_hash": "4614239cba34b28cb2d95d60c6f4498f39e533dd", "short_hash": "4614239cba34", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:55+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:44+03:00", "subject": "rtlwifi: rtl8723: Remove set but not used variable 'own'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. Low impact cleanup (4 deletions). Well-documented with git blame reference. Signed by subsystem maintainer Kalle Valo.", "code_snippet": "@@ -223,7 +223,6 @@ bool rtl8723_cmd_send_packet(struct ieee80211_hw *hw,\n \tstruct rtl8192_tx_ring *ring;\n \tstruct rtl_tx_desc *pdesc;\n \tstruct sk_buff *pskb = NULL;\n-\tu8 own;\n \tunsigned long flags;\n \n \tring = &rtlpci->tx_ring[BEACON_QUEUE];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4614239cba34b28cb2d95d60c6f4498f39e533dd"}
{"commit_hash": "aab7541a5a8b85ee2f46dc4d5d4ace6174bb9c5d", "short_hash": "aab7541a5a8b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T16:43:54+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:22:44+03:00", "subject": "rtlwifi: btcoex: Remove set but not used variables 'wifi_busy','bt_info_ext'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 11, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables flagged by gcc warnings. Minimal code impact (1 insertion, 8 deletions). Clear commit message with historical context referencing previous commits that made variables unused. Signed by maintainer Kalle Valo.", "code_snippet": "@@ -1424,17 +1424,11 @@ void btc8723b1ant_tdma_dur_adj_for_acl(struct btc_coexist *btcoexist,\n \t * -1: decrease WiFi duration\n \t */\n \ts32 result;\n-\tu8 retry_count = 0, bt_info_ext;\n-\tbool wifi_busy = false;\n+\tu8 retry_count = 0;\n \n \tRT_TRACE(rtlpriv, COMP_BT_COEXIST, DBG_LOUD,\n \t\t \"[BTCoex], TdmaDurationAdjustForAcl()\\n\");\n \n-\tif (wifi_status == BT_8723B_1ANT_WIFI_STATUS_CONNECTED_BUSY)\n-\t\twifi_busy = true;\n-\telse\n-\t\twifi_busy = false;\n-\n \tif ((wifi_status ==\n \t     BT_8723B_1ANT_WIFI_STATUS_NON_CONNECTED_ASSO_AUTH_SCAN) ||\n \t    (wifi_status == BT_8723B_1ANT_WIFI_STATUS_CONNECTED_SCAN) ||", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aab7541a5a8b85ee2f46dc4d5d4ace6174bb9c5d"}
{"commit_hash": "ac8efe4f4a84c6bf59237f77a5db65410bf20241", "short_hash": "ac8efe4f4a84", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T10:01:40+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-09T11:29:09+03:00", "subject": "rtlwifi: rtl8192ee: Remove set but not used variable 'cur_tx_wp'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cf54622c8076", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 6, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low complexity (1 line added, 2 deleted). Single subsystem (wireless driver). Cross-org contribution from Huawei to maintainer Kalle Valo with proper sign-offs. Clean commit message with context and fixes tag.", "code_snippet": "@@ -1002,14 +1002,13 @@ bool rtl92ee_is_tx_desc_closed(struct ieee80211_hw *hw, u8 hw_queue, u16 index)\n \tstruct rtl8192_tx_ring *ring = &rtlpci->tx_ring[hw_queue];\n \n \t{\n-\t\tu16 cur_tx_rp, cur_tx_wp;\n+\t\tu16 cur_tx_rp;\n \t\tu32 tmpu32;\n \n \t\ttmpu32 =\n \t\t  rtl_read_dword(rtlpriv,\n \t\t\t\t get_desc_addr_fr_q_idx(hw_queue));\n \t\tcur_tx_rp = (u16)((tmpu32 >> 16) & 0x0fff);\n-\t\tcur_tx_wp = (u16)(tmpu32 & 0x0fff);\n \n \t\t/* don't need to update ring->cur_tx_wp */\n \t\tring->cur_tx_rp = cur_tx_rp;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac8efe4f4a84c6bf59237f77a5db65410bf20241"}
{"commit_hash": "cefb6abfcc1cb49e21966117c5d881887a5cd4b8", "short_hash": "cefb6abfcc1c", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:36+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:04:50+08:00", "subject": "drm/mediatek: add ddp component CCORR", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 2, "insertions": 34, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 15, "score_quality": 6, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "New hardware driver component CCORR for MediaTek display pipeline. Adds register definitions and callback functions for color correction hardware. Well-structured addition following existing patterns (aal, gamma). Same-company maintainer sign-off.", "code_snippet": "@@ -33,6 +33,12 @@\n #define DISP_AAL_EN\t\t\t\t0x0000\n #define DISP_AAL_SIZE\t\t\t\t0x0030\n \n+#define DISP_CCORR_EN\t\t\t\t0x0000\n+#define CCORR_EN\t\t\t\tBIT(0)\n+#define DISP_CCORR_CFG\t\t\t\t0x0020\n+#define CCORR_RELAY_MODE\t\t\tBIT(0)\n+#define DISP_CCORR_SIZE\t\t\t\t0x0030\n+\n #define DISP_GAMMA_EN\t\t\t\t0x0000\n #define DISP_GAMMA_CFG\t\t\t\t0x0020\n #define DISP_GAMMA_SIZE\t\t\t\t0x0030", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cefb6abfcc1cb49e21966117c5d881887a5cd4b8"}
{"commit_hash": "450aa87c7353d1e4c84fef77f57ca173c84cc172", "short_hash": "450aa87c7353", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:39+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:10:13+08:00", "subject": "drm/mediatek: add component DITHER", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 34, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "New DITHER component support for MediaTek DRM driver. Adds hardware dithering functionality with config/start/stop ops. 34 lines added, 0 deleted. Clean feature addition following existing patterns (similar to CCORR/GAMMA). Dual sign-offs from Mediatek developers indicate internal review.", "code_snippet": "@@ -39,6 +39,12 @@\n #define CCORR_RELAY_MODE\t\t\tBIT(0)\n #define DISP_CCORR_SIZE\t\t\t\t0x0030\n \n+#define DISP_DITHER_EN\t\t\t\t0x0000\n+#define DITHER_EN\t\t\t\tBIT(0)\n+#define DISP_DITHER_CFG\t\t\t\t0x0020\n+#define DITHER_RELAY_MODE\t\t\tBIT(0)\n+#define DISP_DITHER_SIZE\t\t\t0x0030\n+\n #define DISP_GAMMA_EN\t\t\t\t0x0000\n #define DISP_GAMMA_CFG\t\t\t\t0x0020\n #define DISP_GAMMA_SIZE\t\t\t\t0x0030", "flags": [], "link": "https://lore.kernel.org/linux-kernel/450aa87c7353d1e4c84fef77f57ca173c84cc172"}
{"commit_hash": "b17bdd0d7a733caf0b794af7db9fd07a57d450fd", "short_hash": "b17bdd0d7a73", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:37+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:01+08:00", "subject": "drm/mediatek: add component OVL_2L0", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 7, "files_changed": 3, "insertions": 5, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Driver feature commit adding OVL_2L0 component support for MediaTek DRM. Single-author, maintainer-reviewed, focused hardware enablement with minimal code changes (5 insertions across 3 files).", "code_snippet": "@@ -290,6 +291,7 @@ static const struct mtk_ddp_comp_match mtk_ddp_matches[DDP_COMPONENT_ID_MAX] = {\n \t[DDP_COMPONENT_OD1]\t= { MTK_DISP_OD,\t1, &ddp_od },\n \t[DDP_COMPONENT_OVL0]\t= { MTK_DISP_OVL,\t0, NULL },\n \t[DDP_COMPONENT_OVL1]\t= { MTK_DISP_OVL,\t1, NULL },\n+\t[DDP_COMPONENT_OVL_2L0]\t= { MTK_DISP_OVL_2L,\t0, NULL },\n \t[DDP_COMPONENT_PWM0]\t= { MTK_DISP_PWM,\t0, NULL },\n \t[DDP_COMPONENT_PWM1]\t= { MTK_DISP_PWM,\t1, NULL },\n \t[DDP_COMPONENT_PWM2]\t= { MTK_DISP_PWM,\t2, NULL },\ndiff --git a/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h b/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h\nindex c085e78a98bf..a04622e5f4cb 100644\n--- a/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h\n+++ b/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b17bdd0d7a733caf0b794af7db9fd07a57d450fd"}
{"commit_hash": "132c6e250ed745443973cada8db17cdbaebdf551", "short_hash": "132c6e250ed7", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:42+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:11+08:00", "subject": "drm/mediatek: add function to background color input select for ovl/ovl_2l direct link", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 14, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 12, "score_quality": 8, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Preparation patch adding background color input select functions for Mediatek DRM OVL hardware. Small change (14 insertions, 0 deletions) adding two function pointers and wrapper functions to mtk_drm_ddp_comp.h. Signed off by both author and maintainer. This is infrastructure work for future OVL/OVL_2L usecase support.", "code_snippet": "@@ -84,6 +84,8 @@ struct mtk_ddp_comp_funcs {\n \t\t\t     struct mtk_plane_state *state);\n \tvoid (*gamma_set)(struct mtk_ddp_comp *comp,\n \t\t\t  struct drm_crtc_state *state);\n+\tvoid (*bgclr_in_on)(struct mtk_ddp_comp *comp);\n+\tvoid (*bgclr_in_off)(struct mtk_ddp_comp *comp);\n };\n \n struct mtk_ddp_comp {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/132c6e250ed745443973cada8db17cdbaebdf551"}
{"commit_hash": "d5abb5f2144a8f54e599eaf57dfac7864e130dcc", "short_hash": "d5abb5f2144a", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:40+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:11+08:00", "subject": "drm/mediatek: add gmc_bits for ovl private data", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 21, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 12, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware support feature for Mediatek DRM overlay engine. Adds gmc_bits configuration to handle 10-bit GMC register differences across SoC variants. Code volume moderate (23 lines), clean single-purpose change within subsystem. Good commit message explains technical context. Signed off by maintainer (CK Hu).", "code_snippet": "@@ -31,7 +31,9 @@\n #define DISP_REG_OVL_ADDR_MT8173\t\t0x0f40\n #define DISP_REG_OVL_ADDR(ovl, n)\t\t((ovl)->data->addr + 0x20 * (n))\n \n-#define\tOVL_RDMA_MEM_GMC\t0x40402020\n+#define GMC_THRESHOLD_BITS\t16\n+#define GMC_THRESHOLD_HIGH\t((1 << GMC_THRESHOLD_BITS) / 4)\n+#define GMC_THRESHOLD_LOW\t((1 << GMC_THRESHOLD_BITS) / 8)\n \n #define OVL_CON_BYTE_SWAP\tBIT(24)\n #define OVL_CON_MTX_YUV_TO_RGB\t(6 << 16)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d5abb5f2144a8f54e599eaf57dfac7864e130dcc"}
{"commit_hash": "0a5ccda42033517c463749737bc9b81c52239e16", "short_hash": "0a5ccda42033", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:41+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:11+08:00", "subject": "drm/medaitek: add layer_nr for ovl private data", "primary_category": "FEAT-DRIVER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Preparation patch for adding ovl-2l driver support. Adds layer_nr configuration to allow different MediaTek SoC variants to share the same driver. Small changes (7 lines) in a single driver file. Good review chain (author and committer from same org).", "code_snippet": "@@ -129,7 +130,9 @@ static void mtk_ovl_config(struct mtk_ddp_comp *comp, unsigned int w,\n \n static unsigned int mtk_ovl_layer_nr(struct mtk_ddp_comp *comp)\n {\n-\treturn 4;\n+\tstruct mtk_disp_ovl *ovl = comp_to_ovl(comp);\n+\n+\treturn ovl->data->layer_nr;\n }\n \n static void mtk_ovl_layer_on(struct mtk_ddp_comp *comp, unsigned int idx)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0a5ccda42033517c463749737bc9b81c52239e16"}
{"commit_hash": "dd8feb2262d988ee870224c27264ef2163579f9c", "short_hash": "dd8feb2262d9", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:38+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:11+08:00", "subject": "drm/mediatek: add component OVL_2L1", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 9, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small driver feature adding OVL_2L1 component support for MediaTek DRM. Adds 2 lines across 2 files. Well-reviewed within Mediatek (2 Signed-off-by). Hardware enablement for display overlay component.", "code_snippet": "@@ -292,6 +292,7 @@ static const struct mtk_ddp_comp_match mtk_ddp_matches[DDP_COMPONENT_ID_MAX] = {\n \t[DDP_COMPONENT_OVL0]\t= { MTK_DISP_OVL,\t0, NULL },\n \t[DDP_COMPONENT_OVL1]\t= { MTK_DISP_OVL,\t1, NULL },\n \t[DDP_COMPONENT_OVL_2L0]\t= { MTK_DISP_OVL_2L,\t0, NULL },\n+\t[DDP_COMPONENT_OVL_2L1]\t= { MTK_DISP_OVL_2L,\t1, NULL },\n \t[DDP_COMPONENT_PWM0]\t= { MTK_DISP_PWM,\t0, NULL },\n \t[DDP_COMPONENT_PWM1]\t= { MTK_DISP_PWM,\t1, NULL },\n \t[DDP_COMPONENT_PWM2]\t= { MTK_DISP_PWM,\t2, NULL },\ndiff --git a/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h b/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h\nindex a04622e5f4cb..61d53be9c33b 100644\n--- a/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h\n+++ b/drivers/gpu/drm/mediatek/mtk_drm_ddp_comp.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd8feb2262d988ee870224c27264ef2163579f9c"}
{"commit_hash": "d730af989e99610b1d79b9dae21758343ab7233d", "short_hash": "d730af989e99", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:30+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:12+08:00", "subject": "drm/mediatek: add mutex mod register offset into ddp private data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 16, "deletions": 8, "hunks": 10, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 12, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring commit that moves mutex mod register offset into driver private data structure to support different MediaTek SoC variants. This is preparatory work for enabling multi-platform support. Code changes are localized to a single driver file (mtk_drm_ddp.c). The commit properly defines a new MT2701-specific constant and updates the mtk_ddp_data structure. Signed-off by the maintainer (CK Hu). No user-visible impact, no stable cc, moderate technical complexity.", "code_snippet": "@@ -33,12 +33,14 @@\n #define DISP_REG_CONFIG_DSI_SEL\t\t\t0x050\n #define DISP_REG_CONFIG_DPI_SEL\t\t\t0x064\n \n-#define DISP_REG_MUTEX_EN(n)\t(0x20 + 0x20 * (n))\n-#define DISP_REG_MUTEX(n)\t(0x24 + 0x20 * (n))\n-#define DISP_REG_MUTEX_RST(n)\t(0x28 + 0x20 * (n))\n-#define DISP_REG_MUTEX_MOD(n)\t(0x2c + 0x20 * (n))\n-#define DISP_REG_MUTEX_SOF(n)\t(0x30 + 0x20 * (n))\n-#define DISP_REG_MUTEX_MOD2(n)\t(0x34 + 0x20 * (n))\n+#define MT2701_DISP_MUTEX0_MOD0\t\t\t0x2c\n+\n+#define DISP_REG_MUTEX_EN(n)\t\t\t(0x20 + 0x20 * (n))\n+#define DISP_REG_MUTEX(n)\t\t\t(0x24 + 0x20 * (n))\n+#define DISP_REG_MUTEX_RST(n)\t\t\t(0x28 + 0x20 * (n))\n+#define DISP_REG_MUTEX_MOD(mutex_mod_reg, n)\t(mutex_mod_reg + 0x20 * (n))\n+#define DISP_REG_MUTEX_SOF(n)\t\t\t(0x30 + 0x20 * (n))\n+#define DISP_REG_MUTEX_MOD2(n)\t\t\t(0x34 + 0x20 * (n))\n \n #define INT_MUTEX\t\t\t\tBIT(1)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d730af989e99610b1d79b9dae21758343ab7233d"}
{"commit_hash": "0d3a120286f48662d73533cc246199a40395823b", "short_hash": "0d3a120286f4", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:29+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:12+08:00", "subject": "drm/mediatek: add mutex mod into ddp private data", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 30, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 5, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Refactoring commit that moves mutex_mod into a new mtk_ddp_data structure for better data organization in MediaTek DRM driver. Introduces new data structure wrapper to hold hardware-specific configuration. Clean atomic change with proper maintainer sign-off. Low impact as it's internal refactoring without functional changes.", "code_snippet": "@@ -194,6 +198,18 @@ static const unsigned int mt8173_mutex_mod[DDP_COMPONENT_ID_MAX] = {\n \t[DDP_COMPONENT_WDMA1] = MT8173_MUTEX_MOD_DISP_WDMA1,\n };\n \n+static const struct mtk_ddp_data mt2701_ddp_driver_data = {\n+\t.mutex_mod = mt2701_mutex_mod,\n+};\n+\n+static const struct mtk_ddp_data mt2712_ddp_driver_data = {\n+\t.mutex_mod = mt2712_mutex_mod,\n+};\n+\n+static const struct mtk_ddp_data mt8173_ddp_driver_data = {\n+\t.mutex_mod = mt8173_mutex_mod,\n+};\n+\n static unsigned int mtk_ddp_mout_en(enum mtk_ddp_comp_id cur,\n \t\t\t\t    enum mtk_ddp_comp_id next,\n \t\t\t\t    unsigned int *addr)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0d3a120286f48662d73533cc246199a40395823b"}
{"commit_hash": "412b1e463ec3200970218d7c23bd4310da55b894", "short_hash": "412b1e463ec3", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:44+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:12+08:00", "subject": "drm/mediatek: add ovl0/ovl_2l0 usecase", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 34, "deletions": 3, "hunks": 12, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 16, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "New hardware usecase adding ovl0/ovl_2l0 direct link support for MediaTek DRM, enabling 4+2 layer configuration. Incremental feature (34 insertions, 3 deletions) reviewed and signed by maintainer CK Hu. Enhances display capabilities for MediaTek hardware.", "code_snippet": "@@ -272,6 +272,9 @@ static int mtk_crtc_ddp_hw_init(struct mtk_drm_crtc *mtk_crtc)\n \tfor (i = 0; i < mtk_crtc->ddp_comp_nr; i++) {\n \t\tstruct mtk_ddp_comp *comp = mtk_crtc->ddp_comp[i];\n \n+\t\tif (i == 1)\n+\t\t\tmtk_ddp_comp_bgclr_in_on(comp);\n+\n \t\tmtk_ddp_comp_config(comp, width, height, vrefresh, bpc);\n \t\tmtk_ddp_comp_start(comp);\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/412b1e463ec3200970218d7c23bd4310da55b894"}
{"commit_hash": "57148baac8b78461e394953cfd5317bde8f795ab", "short_hash": "57148baac8b7", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:45+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:12+08:00", "subject": "drm/mediatek: distinguish ovl and ovl_2l by layer_nr", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 13, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "DRM/mediatek display driver bug fix addressing component ID identification. 6 insertions/3 deletions in single file. Two internal reviewers (author + maintainer CK Hu). No stable CC or fixes tag.", "code_snippet": "@@ -318,7 +318,12 @@ static int mtk_disp_ovl_probe(struct platform_device *pdev)\n \tif (irq < 0)\n \t\treturn irq;\n \n-\tcomp_id = mtk_ddp_comp_get_id(dev->of_node, MTK_DISP_OVL);\n+\tpriv->data = of_device_get_match_data(dev);\n+\n+\tcomp_id = mtk_ddp_comp_get_id(dev->of_node,\n+\t\t\t\t      priv->data->layer_nr == 4 ?\n+\t\t\t\t      MTK_DISP_OVL :\n+\t\t\t\t      MTK_DISP_OVL_2L);\n \tif (comp_id < 0) {\n \t\tdev_err(dev, \"Failed to identify by alias: %d\\n\", comp_id);\n \t\treturn comp_id;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/57148baac8b78461e394953cfd5317bde8f795ab"}
{"commit_hash": "318462d1a568634ba09263cc730cb0fb1d56c2b3", "short_hash": "318462d1a568", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:43+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:12+08:00", "subject": "drm/mediatek: add background color input select function for ovl/ovl_2l", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 22, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 14, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Feature addition for MediaTek DRM overlay engine background color input selection. 22 lines added, 0 deleted. Adds new register definitions and two new functions (mtk_ovl_bgclr_in_on/off) to the mtk_ddp_comp_funcs structure. Direct hardware enablement feature for display pipeline. Dual maintainer sign-off indicates proper review. Clean atomic change focused on single hardware capability.", "code_snippet": "@@ -19,6 +19,8 @@\n #define DISP_REG_OVL_EN\t\t\t\t0x000c\n #define DISP_REG_OVL_RST\t\t\t0x0014\n #define DISP_REG_OVL_ROI_SIZE\t\t\t0x0020\n+#define DISP_REG_OVL_DATAPATH_CON\t\t0x0024\n+#define OVL_BGCLR_SEL_IN\t\t\t\tBIT(2)\n #define DISP_REG_OVL_ROI_BGCLR\t\t\t0x0028\n #define DISP_REG_OVL_SRC_CON\t\t\t0x002c\n #define DISP_REG_OVL_CON(n)\t\t\t(0x0030 + 0x20 * (n))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/318462d1a568634ba09263cc730cb0fb1d56c2b3"}
{"commit_hash": "631005b255aab5f846f7ca03606613f898d70207", "short_hash": "631005b255aa", "author_name": "CK Hu", "author_email": "ck.hu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T16:37:47+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:13+08:00", "subject": "drm/mediatek: add no_clk into ddp private data", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 9, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 9, "score_quality": 7, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small driver change adding no_clk flag to support MediaTek SoCs without mutex clock. Well-structured conditional clock handling.", "code_snippet": "@@ -622,10 +623,14 @@ static int mtk_ddp_probe(struct platform_device *pdev)\n \tfor (i = 0; i < 10; i++)\n \t\tddp->mutex[i].id = i;\n \n-\tddp->clk = devm_clk_get(dev, NULL);\n-\tif (IS_ERR(ddp->clk)) {\n-\t\tdev_err(dev, \"Failed to get clock\\n\");\n-\t\treturn PTR_ERR(ddp->clk);\n+\tddp->data = of_device_get_match_data(dev);\n+\n+\tif (!ddp->data->no_clk) {\n+\t\tddp->clk = devm_clk_get(dev, NULL);\n+\t\tif (IS_ERR(ddp->clk)) {\n+\t\t\tdev_err(dev, \"Failed to get clock\\n\");\n+\t\t\treturn PTR_ERR(ddp->clk);\n+\t\t}\n \t}\n \n \tregs = platform_get_resource(pdev, IORESOURCE_MEM, 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/631005b255aab5f846f7ca03606613f898d70207"}
{"commit_hash": "1037edf20cb6c75b3d283866048632467f6790e5", "short_hash": "1037edf20cb6", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:32+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:13+08:00", "subject": "drm/mediatek: add mutex sof register offset into ddp private data", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 10, "deletions": 3, "hunks": 10, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 7, "score_impact": 8, "score_quality": 6, "score_community": 1, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 1, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 1, "D3_community_response": 0}, "score_justification": "Small refactor to add mutex SOF register offset to driver private data for Mediatek DRM. Enables better hardware abstraction across different Mediatek SoC variants (MT2701, MT2712, MT8173). Pure refactoring with no functional change, properly signed off by maintainer.", "code_snippet": "@@ -34,12 +34,13 @@\n #define DISP_REG_CONFIG_DPI_SEL\t\t\t0x064\n \n #define MT2701_DISP_MUTEX0_MOD0\t\t\t0x2c\n+#define MT2701_DISP_MUTEX0_SOF0\t\t\t0x30\n \n #define DISP_REG_MUTEX_EN(n)\t\t\t(0x20 + 0x20 * (n))\n #define DISP_REG_MUTEX(n)\t\t\t(0x24 + 0x20 * (n))\n #define DISP_REG_MUTEX_RST(n)\t\t\t(0x28 + 0x20 * (n))\n #define DISP_REG_MUTEX_MOD(mutex_mod_reg, n)\t(mutex_mod_reg + 0x20 * (n))\n-#define DISP_REG_MUTEX_SOF(n)\t\t\t(0x30 + 0x20 * (n))\n+#define DISP_REG_MUTEX_SOF(mutex_sof_reg, n)\t(mutex_sof_reg + 0x20 * (n))\n #define DISP_REG_MUTEX_MOD2(n)\t\t\t(0x34 + 0x20 * (n))\n \n #define INT_MUTEX\t\t\t\tBIT(1)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1037edf20cb6c75b3d283866048632467f6790e5"}
{"commit_hash": "1c7da0c76238b23739fca3a751f131de71e7213f", "short_hash": "1c7da0c76238", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-29T22:50:31+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-10-09T16:58:13+08:00", "subject": "drm/mediatek: add mutex sof into ddp private data", "primary_category": "FEAT-DRIVER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 35, "deletions": 8, "hunks": 10, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a driver feature/refactoring for MediaTek DRM subsystem. The commit adds mutex SOF (Start of Frame) configuration as device-specific data, enabling different MediaTek SoC variants (mt2701, mt2712, mt8173) to have their own SOF register mappings. Code volume: +35/-8 lines in single file. The change is hardware-specific refactoring that improves driver flexibility. Signed-off by both author and maintainer (CK Hu), indicating proper internal review.", "code_snippet": "@@ -141,8 +141,19 @@ struct mtk_disp_mutex {\n \tbool claimed;\n };\n \n+enum mtk_ddp_mutex_sof_id {\n+\tDDP_MUTEX_SOF_SINGLE_MODE,\n+\tDDP_MUTEX_SOF_DSI0,\n+\tDDP_MUTEX_SOF_DSI1,\n+\tDDP_MUTEX_SOF_DPI0,\n+\tDDP_MUTEX_SOF_DPI1,\n+\tDDP_MUTEX_SOF_DSI2,\n+\tDDP_MUTEX_SOF_DSI3,\n+};\n+\n struct mtk_ddp_data {\n \tconst unsigned int *mutex_mod;\n+\tconst unsigned int *mutex_sof;\n \tconst unsigned int mutex_mod_reg;\n };\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c7da0c76238b23739fca3a751f131de71e7213f"}
{"commit_hash": "f2a4a13ab2ca3605010d72c774b6aab3ba1a09f4", "short_hash": "f2a4a13ab2ca", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T09:24:43+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-10-09T17:07:15+02:00", "subject": "drm/vkms: Fix an undefined reference error in vkms_composer_worker", "primary_category": "BUILD", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 6, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes build error in vkms driver by adding missing CRC32 dependency. 1-line Kconfig change. Cross-org contribution (Huawei) reviewed by DRM maintainer Daniel Vetter. Clean commit message with clear error description.", "code_snippet": "@@ -263,6 +263,7 @@ config DRM_VKMS\n \ttristate \"Virtual KMS (EXPERIMENTAL)\"\n \tdepends on DRM\n \tselect DRM_KMS_HELPER\n+\tselect CRC32\n \tdefault n\n \thelp\n \t  Virtual Kernel Mode-Setting (VKMS) is used for testing or for\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2a4a13ab2ca3605010d72c774b6aab3ba1a09f4"}
{"commit_hash": "73511a90b74c9cfb6509dae63ec4db2d96b7b203", "short_hash": "73511a90b74c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T23:01:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-09T18:16:56+01:00", "subject": "regulator: stm32-vrefbuf: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "regulator", "subsystems_touched": ["drivers/regulator/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup refactoring to use newer devm_platform_ioremap_resource() helper. 1 insertion, 3 deletions. Single file in regulator subsystem. Proper SOB chain, Link tag, merged by maintainer Mark Brown. No Fixes tag, no stable CC, no user impact.", "code_snippet": "@@ -181,7 +181,6 @@ static const struct regulator_desc stm32_vrefbuf_regu = {\n \n static int stm32_vrefbuf_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct stm32_vrefbuf *priv;\n \tstruct regulator_config config = { };\n \tstruct regulator_dev *rdev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73511a90b74c9cfb6509dae63ec4db2d96b7b203"}
{"commit_hash": "907becb2638df95b78581381bed225c4f3e35799", "short_hash": "907becb2638d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T23:02:03+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-09T18:17:15+01:00", "subject": "regulator: uniphier: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/regulator/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Detected by coccinelle script. Low risk, single file change in regulator driver. Properly reviewed by maintainer Mark Brown.", "code_snippet": "@@ -45,7 +45,6 @@ static int uniphier_regulator_probe(struct platform_device *pdev)\n \tstruct regulator_config config = { };\n \tstruct regulator_dev *rdev;\n \tstruct regmap *regmap;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tconst char *name;\n \tint i, ret, nr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/907becb2638df95b78581381bed225c4f3e35799"}
{"commit_hash": "944be39bd47cf0d45e50eb45b487031dde8569e5", "short_hash": "944be39bd47c", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T08:37:16+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-09T18:19:16+01:00", "subject": "spi: omap-100k: Remove set but not used variable 'dataH'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low complexity (4 lines changed), single subsystem (drivers/spi), well-reviewed with Signed-off-by from maintainer Mark Brown. Not user-facing, no testing evidence.", "code_snippet": "@@ -128,7 +128,7 @@ static void spi100k_write_data(struct spi_master *master, int len, int data)\n \n static int spi100k_read_data(struct spi_master *master, int len)\n {\n-\tint dataH, dataL;\n+\tint dataL;\n \tstruct omap1_spi100k *spi100k = spi_master_get_devdata(master);\n \n \t/* Always do at least 16 bits */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/944be39bd47cf0d45e50eb45b487031dde8569e5"}
{"commit_hash": "c46652ee6cacc42513e4f555f0050db2d537dab6", "short_hash": "c46652ee6cac", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T08:37:17+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-09T18:20:16+01:00", "subject": "spi: npcm: Remove set but not used variable 'val'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "2a22f1b30cee", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial commit removing unused variable to fix compiler warning. 1 line deleted, 1 line modified. Low complexity driver subsystem cleanup. Cross-org contribution (Huawei author, kernel.org maintainer). Good commit message with fixes tag and proper attribution. No testing evidence but atomic cleanup.", "code_snippet": "@@ -293,7 +293,6 @@ static void npcm_pspi_reset_hw(struct npcm_pspi *priv)\n static irqreturn_t npcm_pspi_handler(int irq, void *dev_id)\n {\n \tstruct npcm_pspi *priv = dev_id;\n-\tu16 val;\n \tu8 stat;\n \n \tstat = ioread8(priv->base + NPCM_PSPI_STAT);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c46652ee6cacc42513e4f555f0050db2d537dab6"}
{"commit_hash": "a26e0fbe06e20077afdaa40d1a90092f16b0bc67", "short_hash": "a26e0fbe06e2", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T10:04:32+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-09T19:11:29+01:00", "subject": "iio: Fix an undefied reference error in noa1305_probe", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/light"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 7, "score_impact": 23, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build-fix for undefined reference error in NOA1305 IIO light sensor driver. Adds missing REGMAP_I2C select in Kconfig (1 line). Cc: stable indicates real-world impact. Reviewed and signed by maintainer Jonathan Cameron. Low subsystem tier (IIO driver).", "code_snippet": "@@ -314,6 +314,7 @@ config MAX44009\n config NOA1305\n \ttristate \"ON Semiconductor NOA1305 ambient light sensor\"\n \tdepends on I2C\n+\tselect REGMAP_I2C\n \thelp\n \t Say Y here if you want to build support for the ON Semiconductor\n \t NOA1305 ambient light sensor.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a26e0fbe06e20077afdaa40d1a90092f16b0bc67"}
{"commit_hash": "11c9a7d38af524217efb7a176ad322b97ac2f163", "short_hash": "11c9a7d38af5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T11:10:52+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-09T19:19:35-07:00", "subject": "act_mirred: Fix mirred_init_module error handling", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "3b87956ea645", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 10, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 13, "score_impact": 16, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak bug fix in module initialization error path. Network subsystem (tier 10). Cross-org contribution from Huawei to Netronome maintainer. Clean atomic fix with proper Fixes tag.", "code_snippet": "@@ -484,7 +484,11 @@ static int __init mirred_init_module(void)\n \t\treturn err;\n \n \tpr_info(\"Mirror/redirect action on\\n\");\n-\treturn tcf_register_action(&act_mirred_ops, &mirred_net_ops);\n+\terr = tcf_register_action(&act_mirred_ops, &mirred_net_ops);\n+\tif (err)\n+\t\tunregister_netdevice_notifier(&mirred_device_notifier);\n+\n+\treturn err;\n }\n \n static void __exit mirred_cleanup_module(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11c9a7d38af524217efb7a176ad322b97ac2f163"}
{"commit_hash": "0ea1671f26204ee8ef138651707dace886fb9df4", "short_hash": "0ea1671f2620", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T15:33:48+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-09T19:39:00-07:00", "subject": "net: stmmac: dwmac-mediatek: fix wrong delay value issue when resume back", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 8, "files_changed": 1, "insertions": 27, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 12, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for resume-related delay calculation error in MediaTek ethernet driver. Adds 27 lines (new mt2712_delay_stage2ps function) to restore mac_delay value after division. Properly signed-off by author and merged by maintainer Jakub Kicinski. Low-moderate impact affecting device resume functionality.", "code_snippet": "@@ -130,6 +130,31 @@ static void mt2712_delay_ps2stage(struct mediatek_dwmac_plat_data *plat)\n \t}\n }\n \n+static void mt2712_delay_stage2ps(struct mediatek_dwmac_plat_data *plat)\n+{\n+\tstruct mac_delay_struct *mac_delay = &plat->mac_delay;\n+\n+\tswitch (plat->phy_mode) {\n+\tcase PHY_INTERFACE_MODE_MII:\n+\tcase PHY_INTERFACE_MODE_RMII:\n+\t\t/* 550ps per stage for MII/RMII */\n+\t\tmac_delay->tx_delay *= 550;\n+\t\tmac_delay->rx_delay *= 550;\n+\t\tbreak;\n+\tcase PHY_INTERFACE_MODE_RGMII:\n+\tcase PHY_INTERFACE_MODE_RGMII_TXID:\n+\tcase PHY_INTERFACE_MODE_RGMII_RXID:\n+\tcase PHY_INTERFACE_MODE_RGMII_ID:\n+\t\t/* 170ps per stage for RGMII */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ea1671f26204ee8ef138651707dace886fb9df4"}
{"commit_hash": "5e96cd3302bd62b8cbfc1a7f8f8f1396d6f5e0b0", "short_hash": "5e96cd3302bd", "author_name": "Tiezhu Yang", "author_email": "yangtiezhu@loongson.cn", "author_company": "Loongson", "author_date": "2019-10-09T22:29:00+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-09T21:12:30-07:00", "subject": "net: stmmac: Remove break after a return", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Tiezhu Yang <yangtiezhu@loongson.cn> (Loongson)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 9, "score_impact": 3, "score_quality": 8, "score_community": 0, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unreachable break statements after return. Single file, low code volume (2 deletions), network driver subsystem (tier 8). No functional change, no user impact, no testing evidence. Proper commit message and review chain (maintainer signoff).", "code_snippet": "@@ -130,7 +130,6 @@ static void dwmac1000_set_mchash(void __iomem *ioaddr, u32 *mcfilterbits,\n \t\twritel(mcfilterbits[0], ioaddr + GMAC_HASH_LOW);\n \t\twritel(mcfilterbits[1], ioaddr + GMAC_HASH_HIGH);\n \t\treturn;\n-\t\tbreak;\n \tcase 7:\n \t\tnumhashregs = 4;\n \t\tbreak;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e96cd3302bd62b8cbfc1a7f8f8f1396d6f5e0b0"}
{"commit_hash": "f7cb0d0945ebc9879aff72cf7b3342fd1040ffaa", "short_hash": "f7cb0d0945eb", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T18:04:37+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-09T22:32:28-04:00", "subject": "scsi: lpfc: Make function lpfc_defer_pt2pt_acc static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Dick Kennedy <dick.kennedy@broadcom.com> (Broadcom)", "James Smart <james.smart@broadcom.com> (Broadcom)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 3, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to lpfc_defer_pt2pt_acc function. Minimal code change (1 line). Strong review chain with 2 Broadcom reviewers (Dick Kennedy, James Smart) plus subsystem maintainer Martin K. Petersen. Well-documented commit message with Link tag, proper Reported-by/Reviewed-by/Signeed-off chain. Low user impact as this is compilation warning fix with no runtime behavior change.", "code_snippet": "@@ -286,7 +286,7 @@ lpfc_els_abort(struct lpfc_hba *phba, struct lpfc_nodelist *ndlp)\n  * This routine is only called if we are SLI3, direct connect pt2pt\n  * mode and the remote NPort issues the PLOGI after link up.\n  */\n-void\n+static void\n lpfc_defer_pt2pt_acc(struct lpfc_hba *phba, LPFC_MBOXQ_t *link_mbox)\n {\n \tLPFC_MBOXQ_t *login_mbox;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f7cb0d0945ebc9879aff72cf7b3342fd1040ffaa"}
{"commit_hash": "8cfb8e40d686a756428c627dccfaff28ca70dd8b", "short_hash": "8cfb8e40d686", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T15:23:44+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-09T23:33:14-04:00", "subject": "scsi: megaraid_sas: remove unused variables 'debugBlk','fusion'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 9, "score_impact": 4, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings. Dead code removal since commit c365178f3147. Minimal code change (-6/+1 lines in single file). SCSI subsystem (tier 7). Signed by maintainer Martin K. Petersen. Reported-by Hulk Robot indicates automated cleanup.", "code_snippet": "@@ -386,9 +386,8 @@ u32 MR_GetSpanBlock(u32 ld, u64 row, u64 *span_blk,\n \t\t\t\tle64_to_cpu(quad->logEnd) && (mega_mod64(row - le64_to_cpu(quad->logStart),\n \t\t\t\tle32_to_cpu(quad->diff))) == 0) {\n \t\t\t\tif (span_blk != NULL) {\n-\t\t\t\t\tu64  blk, debugBlk;\n+\t\t\t\t\tu64  blk;\n \t\t\t\t\tblk =  mega_div64_32((row-le64_to_cpu(quad->logStart)), le32_to_cpu(quad->diff));\n-\t\t\t\t\tdebugBlk = blk;\n \n \t\t\t\t\tblk = (blk + le64_to_cpu(quad->offsetInSpan)) << raid->stripeShift;\n \t\t\t\t\t*span_blk = blk;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8cfb8e40d686a756428c627dccfaff28ca70dd8b"}
{"commit_hash": "69bb7eb88346ec19d024276205ddabc72d21dc83", "short_hash": "69bb7eb88346", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T04:43:24-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-10T07:21:12-03:00", "subject": "media: cx231xx: remove duplicated include from cx231xx-417.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/usb", "subsystems_touched": ["drivers/media/usb/cx231xx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 16, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing a duplicated #include <linux/slab.h> statement. Minimal code change (1 deletion), low subsystem impact (USB media driver), no functional change. Good review chain with Hans Verkuil and Mauro Carvalho Chehab sign-offs.", "code_snippet": "@@ -22,7 +22,6 @@\n #include <linux/firmware.h>\n #include <linux/slab.h>\n #include <linux/vmalloc.h>\n-#include <linux/slab.h>\n #include <media/v4l2-common.h>\n #include <media/v4l2-ioctl.h>\n #include <media/v4l2-event.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/69bb7eb88346ec19d024276205ddabc72d21dc83"}
{"commit_hash": "1edfa9b1687ed8aac39a0423345f8a76a1cff58c", "short_hash": "1edfa9b1687e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T06:01:33-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-10T07:22:54-03:00", "subject": "media: vimc: Fix error return code in vimc_register_devices()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "f13d5f361959", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/platform/vimc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Helen Koike <helen.koike@collabora.com> (Collabora)"], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 12, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 1, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for missing error code return in OOM path. Small change (4 lines), corrects a real bug where 0 was returned instead of -ENOMEM. Includes Fixes tag and proper review chain (Acked-by). Media subsystem tier 6.", "code_snippet": "@@ -202,8 +202,10 @@ static int vimc_register_devices(struct vimc_device *vimc)\n \tvimc->ent_devs = kmalloc_array(vimc->pipe_cfg->num_ents,\n \t\t\t\t       sizeof(*vimc->ent_devs),\n \t\t\t\t       GFP_KERNEL);\n-\tif (!vimc->ent_devs)\n+\tif (!vimc->ent_devs) {\n+\t\tret = -ENOMEM;\n \t\tgoto err_v4l2_unregister;\n+\t}\n \n \t/* Invoke entity config hooks to initialize and register subdevs */\n \tret = vimc_add_subdevs(vimc);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1edfa9b1687ed8aac39a0423345f8a76a1cff58c"}
{"commit_hash": "dc3d13fba4695f53d55d4eebe0d714c8b1da62bd", "short_hash": "dc3d13fba469", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T21:50:29+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T10:47:12+02:00", "subject": "staging: wfx: Make function 'wfx_tx_queue_get' static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/wfx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Jérôme Pouiller <jerome.pouiller@silabs.com> (Silabs)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix in staging driver. Low code volume (4 lines), staging subsystem tier 3. Clean simple fix with proper review chain and good commit message. Cross-org contribution from Huawei with maintainer review.", "code_snippet": "@@ -215,7 +215,9 @@ void wfx_tx_queue_put(struct wfx_dev *wdev, struct wfx_queue *queue, struct sk_b\n \tspin_unlock_bh(&queue->queue.lock);\n }\n \n-struct sk_buff *wfx_tx_queue_get(struct wfx_dev *wdev, struct wfx_queue *queue, u32 link_id_map)\n+static struct sk_buff *wfx_tx_queue_get(struct wfx_dev *wdev,\n+\t\t\t\t\tstruct wfx_queue *queue,\n+\t\t\t\t\tu32 link_id_map)\n {\n \tstruct sk_buff *skb = NULL;\n \tstruct sk_buff *item;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dc3d13fba4695f53d55d4eebe0d714c8b1da62bd"}
{"commit_hash": "7638621da743388629b3754a867a27184722c83c", "short_hash": "7638621da743", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T21:50:28+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T10:47:12+02:00", "subject": "staging: wfx: Make function 'sram_write_dma_safe', 'load_firmware_secure' static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/wfx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Jérôme Pouiller <jerome.pouiller@silabs.com> (Silabs)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 4, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Sparse warning fix in staging driver. Low-impact cleanup adding 'static' to two functions. Has Reviewed-by tag, good commit message with context. Staging drivers are not critical infrastructure.", "code_snippet": "@@ -80,7 +80,8 @@ static const char * const fwio_error_strings[] = {\n  * NOTE: it may also be possible to use 'pages' from struct firmware and avoid\n  * bounce buffer\n  */\n-int sram_write_dma_safe(struct wfx_dev *wdev, u32 addr, const u8 *buf, size_t len)\n+static int sram_write_dma_safe(struct wfx_dev *wdev, u32 addr, const u8 *buf,\n+\t\t\t       size_t len)\n {\n \tint ret;\n \tconst u8 *tmp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7638621da743388629b3754a867a27184722c83c"}
{"commit_hash": "8fd1fe824f20692a09279fabe952cf65bedffeee", "short_hash": "8fd1fe824f20", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T21:50:30+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T10:47:13+02:00", "subject": "staging: wfx: Make some functions static in sta.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/wfx"], "subsystem_tier": 4, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 14, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Jérôme Pouiller <jerome.pouiller@silabs.com> (Silabs)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix in staging driver (low tier). Adding static keyword to 8 internal functions - simple cleanup, no functional change. Has Reviewed-by tag and proper commit message.", "code_snippet": "@@ -518,14 +518,14 @@ void wfx_event_handler_work(struct work_struct *work)\n \t__wfx_free_event_queue(&list);\n }\n \n-void wfx_bss_loss_work(struct work_struct *work)\n+static void wfx_bss_loss_work(struct work_struct *work)\n {\n \tstruct wfx_vif *wvif = container_of(work, struct wfx_vif, bss_loss_work.work);\n \n \tieee80211_connection_loss(wvif->vif);\n }\n \n-void wfx_bss_params_work(struct work_struct *work)\n+static void wfx_bss_params_work(struct work_struct *work)\n {\n \tstruct wfx_vif *wvif = container_of(work, struct wfx_vif, bss_params_work);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8fd1fe824f20692a09279fabe952cf65bedffeee"}
{"commit_hash": "348c59749ffe1aa1dd9ecd1349a74fc3fae9283d", "short_hash": "348c59749ffe", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T07:55:05+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T10:51:10+02:00", "subject": "staging: rtl8723bs: Remove set but not used variable 'i'", "primary_category": "TRIV-WHITESPACE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 15, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable in staging driver. Low technical complexity (3 lines changed), low subsystem impact (staging tree), minimal user impact. Good commit message with clear explanation and proper Reported-by/Sign-off chain. Maintainer endorsed by Greg KH. Overall score: 15/100.", "code_snippet": "@@ -675,7 +675,6 @@ static void set_qos(struct pkt_file *ppktfile, struct pkt_attrib *pattrib)\n \n static s32 update_attrib(struct adapter *padapter, _pkt *pkt, struct pkt_attrib *pattrib)\n {\n-\tuint i;\n \tstruct pkt_file pktfile;\n \tstruct sta_info *psta = NULL;\n \tstruct ethhdr etherhdr;", "flags": ["TRIVIAL", "STAGING"], "link": "https://lore.kernel.org/linux-kernel/348c59749ffe1aa1dd9ecd1349a74fc3fae9283d"}
{"commit_hash": "039f8b21d153aea4b413636d66619d53b725fc86", "short_hash": "039f8b21d153", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T23:05:35+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T11:00:59+02:00", "subject": "staging: emxx_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/emxx_udc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 5, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces code by 2 lines in staging driver (low-tier subsystem). Detected by coccinelle script, signed off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -3078,7 +3078,6 @@ static int nbu2ss_drv_probe(struct platform_device *pdev)\n {\n \tint\tstatus = -ENODEV;\n \tstruct nbu2ss_udc\t*udc;\n-\tstruct resource *r;\n \tint irq;\n \tvoid __iomem *mmio_base;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/039f8b21d153aea4b413636d66619d53b725fc86"}
{"commit_hash": "f595f03bfdfc3ce4526a653174024250d7287a8d", "short_hash": "f595f03bfdfc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T23:04:27+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T11:00:59+02:00", "subject": "staging: clocking-wizard: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/clocking-wizard"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor code modernization commit replacing platform_get_resource()/devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Detected by coccinelle script. Low risk (staging driver), minimal code change (1 insertion, 3 deletions). Proper maintainers chain with Greg Kroah-Hartman ack.", "code_snippet": "@@ -135,7 +135,6 @@ static int clk_wzrd_probe(struct platform_device *pdev)\n \tunsigned long rate;\n \tconst char *clk_name;\n \tstruct clk_wzrd *clk_wzrd;\n-\tstruct resource *mem;\n \tstruct device_node *np = pdev->dev.of_node;\n \n \tclk_wzrd = devm_kzalloc(&pdev->dev, sizeof(*clk_wzrd), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f595f03bfdfc3ce4526a653174024250d7287a8d"}
{"commit_hash": "da4b5d18dd949abdda7c8ea76c9483b5edd49616", "short_hash": "da4b5d18dd94", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T09:47:07+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:34:05+02:00", "subject": "usb: typec: add dependency for TYPEC_HD3SS3220", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "1c48c759ef4b", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/typec/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)", "Biju Das <biju.das@bp.renesas.com> (Renesas)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 7, "score_impact": 13, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for Kconfig dependency issue preventing module compilation. Minimal code change (1 line). Fixes link errors when TYPEC_HD3SS3220=y and USB_ROLE_SWITCH=m. Has Fixes tag, Reviewed-by from 2 developers, and Reported-by from CI. Cross-company contribution (Huawei author, Intel/Renesas reviewers, Linux Foundation maintainer).", "code_snippet": "@@ -53,6 +53,7 @@ source \"drivers/usb/typec/ucsi/Kconfig\"\n config TYPEC_HD3SS3220\n \ttristate \"TI HD3SS3220 Type-C DRP Port controller driver\"\n \tdepends on I2C\n+\tdepends on USB_ROLE_SWITCH\n \thelp\n \t  Say Y or M here if your system has TI HD3SS3220 Type-C DRP Port\n \t  controller driver.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da4b5d18dd949abdda7c8ea76c9483b5edd49616"}
{"commit_hash": "db0386312f294abccc472b90ee2bf940da12dd0d", "short_hash": "db0386312f29", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T16:40:34+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:34:06+02:00", "subject": "usb: gadget: Remove set but not used variable 'opts' in msg_do_config", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "f78bbcae86e6", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 2, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. 3 lines removed, single file in USB gadget subsystem (tier 5). Direct maintainer sign-off (Greg KH). Fixes tag references earlier commit that made variable obsolete.", "code_snippet": "@@ -105,7 +105,6 @@ FSG_MODULE_PARAMETERS(/* no prefix */, mod_data);\n \n static int msg_do_config(struct usb_configuration *c)\n {\n-\tstruct fsg_opts *opts;\n \tint ret;\n \n \tif (gadget_is_otg(c->cdev->gadget)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db0386312f294abccc472b90ee2bf940da12dd0d"}
{"commit_hash": "29234e3bb557fbddc14a815bec6da5c9ceab37cc", "short_hash": "29234e3bb557", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T16:40:33+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:34:06+02:00", "subject": "usb: gadget: Remove set but not used variable 'opts' in acm_ms_do_config", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "f78bbcae86e6", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/legacy/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing 3 lines of unused variable code. Fixes compiler warning. Low complexity, low impact. Proper maintainer chain with Signed-off-by and Link tags. Greg KH as committer indicates maintainer endorsement.", "code_snippet": "@@ -105,7 +105,6 @@ static struct usb_function *f_msg;\n  */\n static int acm_ms_do_config(struct usb_configuration *c)\n {\n-\tstruct fsg_opts *opts;\n \tint\tstatus;\n \n \tif (gadget_is_otg(c->cdev->gadget)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29234e3bb557fbddc14a815bec6da5c9ceab37cc"}
{"commit_hash": "b1a71c9047639e0a05683b55d37ff1a5c9bbcd07", "short_hash": "b1a71c904763", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T17:05:00+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:34:06+02:00", "subject": "usb: mtu3: fix race condition about delayed_status", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 10, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 9, "score_impact": 16, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Race condition fix in MediaTek USB gadget driver. Clean commit message with detailed timeline diagram showing CPU1/CPU2 race. Small targeted fix (12 lines). USB subsystem is important but not core. Cross-org contribution (Mediatek -> Linux Foundation via Greg KH). Includes proper Signed-off-by and Link tags.", "code_snippet": "@@ -671,8 +671,16 @@ __acquires(mtu->lock)\n \tif (mtu->test_mode) {\n \t\t;\t/* nothing to do */\n \t} else if (handled == USB_GADGET_DELAYED_STATUS) {\n-\t\t/* handle the delay STATUS phase till receive ep_queue on ep0 */\n-\t\tmtu->delayed_status = true;\n+\n+\t\tmreq = next_ep0_request(mtu);\n+\t\tif (mreq) {\n+\t\t\t/* already asked us to continue delayed status */\n+\t\t\tep0_do_status_stage(mtu);\n+\t\t\tep0_req_giveback(mtu, &mreq->request);\n+\t\t} else {\n+\t\t\t/* do delayed STATUS stage till receive ep0_queue */\n+\t\t\tmtu->delayed_status = true;\n+\t\t}\n \t} else if (le16_to_cpu(setup.wLength) == 0) { /* no data stage */\n \n \t\tep0_do_status_stage(mtu);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b1a71c9047639e0a05683b55d37ff1a5c9bbcd07"}
{"commit_hash": "71460342d48b69038037aac62b34aaa65adcc184", "short_hash": "71460342d48b", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T17:04:59+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:34:06+02:00", "subject": "usb: mtu3: add a new function to do status stage", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/mtu3/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring extracting duplicate status stage logic into a reusable function. Low complexity (23 lines changed), single driver subsystem (USB gadget), no security or bug implications. Proper review chain with Signed-off-by tags and subsystem maintainer endorsement. Atomic change with clear purpose.", "code_snippet": "@@ -153,6 +153,15 @@ static void ep0_stall_set(struct mtu3_ep *mep0, bool set, u32 pktrdy)\n \t\tset ? \"SEND\" : \"CLEAR\", decode_ep0_state(mtu));\n }\n \n+static void ep0_do_status_stage(struct mtu3 *mtu)\n+{\n+\tvoid __iomem *mbase = mtu->mac_base;\n+\tu32 value;\n+\n+\tvalue = mtu3_readl(mbase, U3D_EP0CSR) & EP0_W1C_BITS;\n+\tmtu3_writel(mbase, U3D_EP0CSR, value | EP0_SETUPPKTRDY | EP0_DATAEND);\n+}\n+\n static int ep0_queue(struct mtu3_ep *mep0, struct mtu3_request *mreq);\n \n static void ep0_dummy_complete(struct usb_ep *ep, struct usb_request *req)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71460342d48b69038037aac62b34aaa65adcc184"}
{"commit_hash": "1141a7522e3961e8d4b20db7495d4dfb1e07d7ae", "short_hash": "1141a7522e39", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T12:04:49Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T12:38:06+02:00", "subject": "usb: typec: remove duplicated include from hd3ss3220.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/typec", "subsystems_touched": ["drivers/usb/typec/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing a duplicated #include statement. Single line deletion, no functional change, low subsystem tier (USB TypeC driver). Good review chain with maintainer sign-off, clear commit message, atomic change.", "code_snippet": "@@ -10,7 +10,6 @@\n #include <linux/usb/role.h>\n #include <linux/irqreturn.h>\n #include <linux/interrupt.h>\n-#include <linux/module.h>\n #include <linux/regmap.h>\n #include <linux/slab.h>\n #include <linux/usb/typec.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1141a7522e3961e8d4b20db7495d4dfb1e07d7ae"}
{"commit_hash": "18380f52dbac230032a16545e67a6d90b548cf18", "short_hash": "18380f52dbac", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-09-29T21:42:49+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-10T14:13:54+03:00", "subject": "platform/x86: classmate-laptop: remove unused variable", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "7125587df4e8", "cc_stable": false, "subsystem_prefix": "platform", "subsystems_touched": ["drivers/platform/x86"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 5, "score_impact": 6, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables in platform/x86 driver. Low subsystem tier (4), minimal code change (12 deletions), cross-org collaboration (Huawei author, Intel maintainer). Good commit quality with Fixes tag and clear explanation. No user impact or testing evidence.", "code_snippet": "@@ -420,12 +420,6 @@ static int cmpc_accel_add_v4(struct acpi_device *acpi)\n \n static int cmpc_accel_remove_v4(struct acpi_device *acpi)\n {\n-\tstruct input_dev *inputdev;\n-\tstruct cmpc_accel *accel;\n-\n-\tinputdev = dev_get_drvdata(&acpi->dev);\n-\taccel = dev_get_drvdata(&inputdev->dev);\n-\n \tdevice_remove_file(&acpi->dev, &cmpc_accel_sensitivity_attr_v4);\n \tdevice_remove_file(&acpi->dev, &cmpc_accel_g_select_attr_v4);\n \treturn cmpc_remove_acpi_notify_device(acpi);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/18380f52dbac230032a16545e67a6d90b548cf18"}
{"commit_hash": "722525023b10910a753b6e212c7129ea9b5a9810", "short_hash": "722525023b10", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T14:55:03+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-10T14:42:51-04:00", "subject": "drm/msm/mdp5: Remove set but not used variable 'fmt'", "primary_category": "TRIV-WHITESPACE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/msm/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Cross-org contribution (Huawei to Chromium maintainer). Good commit message with Fixes tag reference. Minimal code impact (2 lines removed).", "code_snippet": "@@ -121,7 +121,6 @@ uint32_t mdp5_smp_calculate(struct mdp5_smp *smp,\n \tstruct mdp5_kms *mdp5_kms = get_kms(smp);\n \tint rev = mdp5_cfg_get_hw_rev(mdp5_kms->cfg);\n \tint i, hsub, nplanes, nlines;\n-\tu32 fmt = format->base.pixel_format;\n \tuint32_t blkcfg = 0;\n \n \tnplanes = info->num_planes;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/722525023b10910a753b6e212c7129ea9b5a9810"}
{"commit_hash": "c16c52a35e729cfc1f2b619fc208a6b3c23b9561", "short_hash": "c16c52a35e72", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T14:55:04+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-10T14:42:55-04:00", "subject": "drm/msm/mdp5: Remove set but not used variable 'hw_cfg' in blend_setup", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "14be3200cd5f", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/msm/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 1, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Cleanup commit removing an unused variable reported by gcc warning. The variable became unused after a previous refactoring (commit 14be3200cd5f). This is a straightforward code hygiene fix with clear justification, reviewed by subsystem maintainer Sean Paul, and includes proper reporting attribution. Low code volume (3 deletions), limited user impact, but good commit message quality and proper review chain.", "code_snippet": "@@ -214,7 +214,6 @@ static void blend_setup(struct drm_crtc *crtc)\n \tstruct mdp5_pipeline *pipeline = &mdp5_cstate->pipeline;\n \tstruct mdp5_kms *mdp5_kms = get_kms(crtc);\n \tstruct drm_plane *plane;\n-\tconst struct mdp5_cfg_hw *hw_cfg;\n \tstruct mdp5_plane_state *pstate, *pstates[STAGE_MAX + 1] = {NULL};\n \tconst struct mdp_format *format;\n \tstruct mdp5_hw_mixer *mixer = pipeline->mixer;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c16c52a35e729cfc1f2b619fc208a6b3c23b9561"}
{"commit_hash": "7264af3ed8d409eadc1dc878879594b0b3b5e79b", "short_hash": "7264af3ed8d4", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T14:55:05+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-10T14:42:59-04:00", "subject": "drm/msm/dsi: Remove set but not used variable 'lpx'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/dsi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable 'lpx' to fix compiler warnings. Code volume minimal (2 insertions, 4 deletions). Cross-org contribution from Huawei to Chromium maintainer. Well-documented commit with proper Fixes tags referencing original commits.", "code_snippet": "@@ -145,7 +145,7 @@ int msm_dsi_dphy_timing_calc_v2(struct msm_dsi_dphy_timing *timing,\n {\n \tconst unsigned long bit_rate = clk_req->bitclk_rate;\n \tconst unsigned long esc_rate = clk_req->escclk_rate;\n-\ts32 ui, ui_x8, lpx;\n+\ts32 ui, ui_x8;\n \ts32 tmax, tmin;\n \ts32 pcnt0 = 50;\n \ts32 pcnt1 = 50;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7264af3ed8d409eadc1dc878879594b0b3b5e79b"}
{"commit_hash": "2e3cc607af53cde972e04bae3ff9cbb0d82b1dc7", "short_hash": "2e3cc607af53", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T14:55:06+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-10T14:43:04-04:00", "subject": "drm/msm/dsi: Remove set but not used variable 'lp'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "a689554ba6ed", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/dsi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 8, "score_impact": 2, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable lp (1 deletion, 2 insertions). GCC warning fix with proper Fixes tag referencing commit a689554ba6ed. Cross-org contribution from Huawei developer with maintainer Sean Paul sign-off. Clean commit message with Reported-by tag. No testing evidence, no stable CC, no user impact.", "code_snippet": "@@ -1291,14 +1291,13 @@ static int dsi_cmd_dma_tx(struct msm_dsi_host *msm_host, int len)\n static int dsi_cmd_dma_rx(struct msm_dsi_host *msm_host,\n \t\t\tu8 *buf, int rx_byte, int pkt_size)\n {\n-\tu32 *lp, *temp, data;\n+\tu32 *temp, data;\n \tint i, j = 0, cnt;\n \tu32 read_cnt;\n \tu8 reg[16];\n \tint repeated_bytes = 0;\n \tint buf_offset = buf - msm_host->rx_buf;\n \n-\tlp = (u32 *)buf;\n \ttemp = (u32 *)reg;\n \tcnt = (rx_byte + 3) >> 2;\n \tif (cnt > 4)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e3cc607af53cde972e04bae3ff9cbb0d82b1dc7"}
{"commit_hash": "df4954e30d0e6786b95c228f931a52261ce6b8d5", "short_hash": "df4954e30d0e", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T22:13:23+08:00", "committer_name": "Sean Paul", "committer_email": "seanpaul@chromium.org", "committer_company": "Chromium", "commit_date": "2019-10-10T14:44:03-04:00", "subject": "drm/msm/mdp5: Remove set but not used variable 'hw_cfg' in modeset_init", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "36d1364abbed", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/msm/disp/mdp5/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Sean Paul <seanpaul@chromium.org> (Chromium)"], "reviewed_by": ["Bjorn Andersson <bjorn.andersson@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable 'hw_cfg' to fix gcc -Wunused-but-set-variable warning. Variable was made unused by commit 36d1364abbed. Small scope (single file in DRM/MSM driver), low functional impact. Strong review chain with Reviewed-by from Bjorn Andersson and Signed-off-by from maintainer Sean Paul. Cross-org contribution (Huawei author, Chromium maintainer).", "code_snippet": "@@ -461,14 +461,11 @@ static int modeset_init(struct mdp5_kms *mdp5_kms)\n {\n \tstruct drm_device *dev = mdp5_kms->dev;\n \tstruct msm_drm_private *priv = dev->dev_private;\n-\tconst struct mdp5_cfg_hw *hw_cfg;\n \tunsigned int num_crtcs;\n \tint i, ret, pi = 0, ci = 0;\n \tstruct drm_plane *primary[MAX_BASES] = { NULL };\n \tstruct drm_plane *cursor[MAX_BASES] = { NULL };\n \n-\thw_cfg = mdp5_cfg_get_hw_config(mdp5_kms->cfg);\n-\n \t/*\n \t * Construct encoders and modeset initialize connector devices\n \t * for each external display interface.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/df4954e30d0e6786b95c228f931a52261ce6b8d5"}
{"commit_hash": "71200fcbb91c1a6b6da7fe1c806c6dd27b42e14c", "short_hash": "71200fcbb91c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T22:44:35+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T15:24:18+02:00", "subject": "w1: sgi_w1: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/w1", "subsystems_touched": ["drivers/w1/masters/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing manual platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 3 lines to 1, removes unnecessary local variable. Low-risk cleanup in non-critical w1 master driver subsystem. Maintainer-reviewed with proper SOB chain.", "code_snippet": "@@ -77,15 +77,13 @@ static int sgi_w1_probe(struct platform_device *pdev)\n {\n \tstruct sgi_w1_device *sdev;\n \tstruct sgi_w1_platform_data *pdata;\n-\tstruct resource *res;\n \n \tsdev = devm_kzalloc(&pdev->dev, sizeof(struct sgi_w1_device),\n \t\t\t    GFP_KERNEL);\n \tif (!sdev)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tsdev->mcr = devm_ioremap_resource(&pdev->dev, res);\n+\tsdev->mcr = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(sdev->mcr))\n \t\treturn PTR_ERR(sdev->mcr);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71200fcbb91c1a6b6da7fe1c806c6dd27b42e14c"}
{"commit_hash": "ad90ff6964d733ee59d1679f692c23fb1dab7f30", "short_hash": "ad90ff6964d7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T22:37:52+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T15:24:19+02:00", "subject": "misc: atmel_tclib: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/misc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization using devm_platform_ioremap_resource() helper. Low volume (1 insert, 3 deletes). Non-critical driver subsystem. No functional changes. Good commit message with Link tag. Maintainer signed off. No stable CC, no user impact.", "code_snippet": "@@ -109,7 +109,6 @@ static int __init tc_probe(struct platform_device *pdev)\n \tstruct atmel_tc *tc;\n \tstruct clk\t*clk;\n \tint\t\tirq;\n-\tstruct resource\t*r;\n \tunsigned int\ti;\n \n \tif (of_get_child_count(pdev->dev.of_node))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad90ff6964d733ee59d1679f692c23fb1dab7f30"}
{"commit_hash": "9964f8c899fc66539f1fb57b9dc6c401b77b5cdc", "short_hash": "9964f8c899fc", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-13T01:04:01+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T15:24:20+02:00", "subject": "misc: rtsx: Remove unneeded variable in rts5260_card_power_on", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc", "subsystems_touched": ["drivers/misc/cardreader/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable (err=0) that was only used to return 0. The commit message clearly states the purpose. Small scope (single function in card reader driver), properly reviewed by Greg KH, but no functional change or testing evidence.", "code_snippet": "@@ -191,7 +191,6 @@ static int sd_set_sample_push_timing_sd30(struct rtsx_pcr *pcr)\n \n static int rts5260_card_power_on(struct rtsx_pcr *pcr, int card)\n {\n-\tint err = 0;\n \tstruct rtsx_cr_option *option = &pcr->option;\n \n \tif (option->ocp_en)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9964f8c899fc66539f1fb57b9dc6c401b77b5cdc"}
{"commit_hash": "b058b2552edb4a6ce62922bf904149bbafd5fd9d", "short_hash": "b058b2552edb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T14:03:18+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-10T15:35:41+02:00", "subject": "w1: ds250x: Fix build error without CRC16", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "25ec8710d9c2", "cc_stable": false, "subsystem_prefix": "drivers/w1", "subsystems_touched": ["drivers/w1/slaves/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 4, "score_impact": 16, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix adding missing CRC16 dependency to Kconfig. Single line change (1 insertion). Fix for previous commit (25ec8710d9c2) that introduced undefined reference errors. Good commit message with build error details and Fixes tag. Chain: Author -> Arnd Bergmann -> Greg Kroah-Hartman (maintainer). Low tier subsystem (w1 slave drivers).", "code_snippet": "@@ -103,6 +103,7 @@ config W1_SLAVE_DS2438\n \n config W1_SLAVE_DS250X\n \ttristate \"512b/1kb/16kb EPROM family support\"\n+\tselect CRC16\n \thelp\n \t  Say Y here if you want to use a 1-wire\n \t  512b/1kb/16kb EPROM family device (DS250x).\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b058b2552edb4a6ce62922bf904149bbafd5fd9d"}
{"commit_hash": "76d6d3df524150fb8d5b5c1a3b877c2af42f67e5", "short_hash": "76d6d3df5241", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T11:52:13Z", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-10-10T15:45:35+02:00", "subject": "drm/vkms: Remove duplicated include from vkms_drv.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/vkms/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing a duplicate #include statement. Single line deletion (drm/drm_gem.h) from vkms_drv.c. Maintainer Daniel Vetter signed off. No functional change, no testing needed, no stable CC. Cross-org contribution from Huawei author merged by DRM maintainer.", "code_snippet": "@@ -19,7 +19,6 @@\n #include <drm/drm_drv.h>\n #include <drm/drm_fb_helper.h>\n #include <drm/drm_file.h>\n-#include <drm/drm_gem.h>\n #include <drm/drm_gem_framebuffer_helper.h>\n #include <drm/drm_ioctl.h>\n #include <drm/drm_probe_helper.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76d6d3df524150fb8d5b5c1a3b877c2af42f67e5"}
{"commit_hash": "f063d58b423d818a9b63007322ac0be667a897e4", "short_hash": "f063d58b423d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T23:03:25+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-10T16:21:13-07:00", "subject": "ptp: ptp_dte: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/ptp"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 3, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Detected by coccinelle, reduces LoC by 2 lines. Low impact PTP driver subsystem. Cross-org contribution from Huawei author with Netronome maintainer sign-off.", "code_snippet": "@@ -240,14 +240,12 @@ static int ptp_dte_probe(struct platform_device *pdev)\n {\n \tstruct ptp_dte *ptp_dte;\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \n \tptp_dte = devm_kzalloc(dev, sizeof(struct ptp_dte), GFP_KERNEL);\n \tif (!ptp_dte)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tptp_dte->regs = devm_ioremap_resource(dev, res);\n+\tptp_dte->regs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(ptp_dte->regs))\n \t\treturn PTR_ERR(ptp_dte->regs);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f063d58b423d818a9b63007322ac0be667a897e4"}
{"commit_hash": "c8b4b477079d1995cc0a1c10d5cdfd02be938cdf", "short_hash": "c8b4b477079d", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:20:05+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:31+11:00", "subject": "crypto: hisilicon - add HiSilicon HPRE accelerator", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 7, "files_changed": 6, "insertions": 1702, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Hui Tang <tanghui20@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 62, "score_technical": 16, "score_impact": 24, "score_quality": 18, "score_community": 4, "score_breakdown": {"A1_code_volume": 9, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 5, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New hardware driver for HiSilicon HPRE crypto accelerator adding RSA/DH offload support - 1702 line new driver submission with proper subsystem maintainer sign-off", "code_snippet": "@@ -31,3 +31,14 @@ config CRYPTO_DEV_HISI_ZIP\n \tselect SG_SPLIT\n \thelp\n \t  Support for HiSilicon ZIP Driver\n+\n+config CRYPTO_DEV_HISI_HPRE\n+\ttristate \"Support for HISI HPRE accelerator\"\n+\tdepends on PCI && PCI_MSI\n+\tdepends on ARM64 || (COMPILE_TEST && 64BIT)\n+\tselect CRYPTO_DEV_HISI_QM\n+\tselect CRYPTO_DH\n+\tselect CRYPTO_RSA\n+\thelp\n+\t  Support for HiSilicon HPRE(High Performance RSA Engine)\n+\t  accelerator, which can accelerate RSA and DH algorithms.\ndiff --git a/drivers/crypto/hisilicon/Makefile b/drivers/crypto/hisilicon/Makefile\nindex 4978d14680a4..6cbfba0afaaf 100644\n--- a/drivers/crypto/hisilicon/Makefile\n+++ b/drivers/crypto/hisilicon/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8b4b477079d1995cc0a1c10d5cdfd02be938cdf"}
{"commit_hash": "a92a00f809503c6db9dac518951e060ab3d6f6ee", "short_hash": "a92a00f80950", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-30T15:08:55+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:31+11:00", "subject": "crypto: hisilicon - misc fix about sgl", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 7, "files_changed": 1, "insertions": 22, "deletions": 18, "hunks": 12, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 10, "score_quality": 7, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for endianness issues (missing cpu_to_le32/le16_to_cpu conversions) that could cause data corruption on little-endian systems. Also adds missing static specifier and improves input validation. Code volume small (22 insertions, 18 deletions). Crypto subsystem moderately critical. Multiple SoB tags indicate proper review flow.", "code_snippet": "@@ -144,8 +144,8 @@ void hisi_acc_free_sgl_pool(struct device *dev, struct hisi_acc_sgl_pool *pool)\n }\n EXPORT_SYMBOL_GPL(hisi_acc_free_sgl_pool);\n \n-struct hisi_acc_hw_sgl *acc_get_sgl(struct hisi_acc_sgl_pool *pool, u32 index,\n-\t\t\t\t    dma_addr_t *hw_sgl_dma)\n+static struct hisi_acc_hw_sgl *acc_get_sgl(struct hisi_acc_sgl_pool *pool,\n+\t\t\t\t\t   u32 index, dma_addr_t *hw_sgl_dma)\n {\n \tstruct mem_block *block;\n \tu32 block_index, offset;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a92a00f809503c6db9dac518951e060ab3d6f6ee"}
{"commit_hash": "d8ac7b85236b04d14fa80328726cd4d098b4a2a7", "short_hash": "d8ac7b85236b", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-30T15:08:54+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:31+11:00", "subject": "crypto: hisilicon - fix large sgl memory allocation problem when disable smmu", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 68, "deletions": 15, "hunks": 10, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 9, "score_impact": 18, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for memory allocation failure in HiSilicon crypto driver when SMMU is disabled. The commit allocates memory in blocks rather than one large chunk to avoid allocation failures. Cross-org contribution from HiSilicon (hisilicon.com) with proper maintainer sign-off. Code volume moderate (83 lines), clear commit message, proper error handling added.", "code_snippet": "@@ -31,9 +32,13 @@ struct hisi_acc_hw_sgl {\n } __aligned(1);\n \n struct hisi_acc_sgl_pool {\n-\tstruct hisi_acc_hw_sgl *sgl;\n-\tdma_addr_t sgl_dma;\n-\tsize_t size;\n+\tstruct mem_block {\n+\t\tstruct hisi_acc_hw_sgl *sgl;\n+\t\tdma_addr_t sgl_dma;\n+\t\tsize_t size;\n+\t} mem_block[HISI_ACC_MEM_BLOCK_NR];\n+\tu32 sgl_num_per_block;\n+\tu32 block_num;\n \tu32 count;\n \tu32 sge_nr;\n \tsize_t sgl_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d8ac7b85236b04d14fa80328726cd4d098b4a2a7"}
{"commit_hash": "f081fda293ffba54216a7dab66faba7275475006", "short_hash": "f081fda293ff", "author_name": "Shukun Tan", "author_email": "tanshukun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T15:08:53+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:31+11:00", "subject": "crypto: hisilicon - add sgl_sge_nr module param for zip", "primary_category": "FEAT-API", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 28, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit adds a configurable module parameter (sgl_sge_nr) to the Hisilicon ZIP crypto driver, allowing runtime configuration of SGE count. Code volume is small (30 insertions, 2 deletions). Crypto subsystem is moderately critical. Feature addition with base score 8. Good commit message with clear description. Review chain shows proper SOB chain through author, Zhou Wang, and maintainer Herbert Xu. Changes are atomic and well-contained. Cross-org collaboration between Huawei and maintainer.", "code_snippet": "@@ -3,9 +3,9 @@\n #include <linux/dma-mapping.h>\n #include <linux/module.h>\n #include <linux/slab.h>\n+#include \"qm.h\"\n \n #define HISI_ACC_SGL_SGE_NR_MIN\t\t1\n-#define HISI_ACC_SGL_SGE_NR_MAX\t\t255\n #define HISI_ACC_SGL_NR_MAX\t\t256\n #define HISI_ACC_SGL_ALIGN_SIZE\t\t64\n \ndiff --git a/drivers/crypto/hisilicon/zip/zip_crypto.c b/drivers/crypto/hisilicon/zip/zip_crypto.c\nindex a82bee5da23d..9d31b80969f2 100644\n--- a/drivers/crypto/hisilicon/zip/zip_crypto.c\n+++ b/drivers/crypto/hisilicon/zip/zip_crypto.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f081fda293ffba54216a7dab66faba7275475006"}
{"commit_hash": "48c1cd40fae31aa39e33930e7d28a0d96f01ea17", "short_hash": "48c1cd40fae3", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-30T15:08:52+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:31+11:00", "subject": "crypto: hisilicon - merge sgl support to hisi_qm module", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/hisilicon"], "subsystem_tier": 3, "files_changed": 8, "insertions": 58, "deletions": 85, "hunks": 36, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 5, "score_impact": 5, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit merging SGL support into QM module for HiSilicon crypto driver. Low impact (driver-specific, not security-sensitive). Clean refactoring with proper review chain (Herbert Xu signed off). Reduces module count from 2 to 1, improving maintainability.", "code_snippet": "@@ -7418,7 +7418,6 @@ S:\tMaintained\n F:\tdrivers/crypto/hisilicon/qm.c\n F:\tdrivers/crypto/hisilicon/qm.h\n F:\tdrivers/crypto/hisilicon/sgl.c\n-F:\tdrivers/crypto/hisilicon/sgl.h\n F:\tdrivers/crypto/hisilicon/zip/\n F:\tDocumentation/ABI/testing/debugfs-hisi-zip\n \ndiff --git a/drivers/crypto/hisilicon/Kconfig b/drivers/crypto/hisilicon/Kconfig\nindex 7bfcaa7674fd..79c82ba85a77 100644\n--- a/drivers/crypto/hisilicon/Kconfig\n+++ b/drivers/crypto/hisilicon/Kconfig", "flags": [], "link": "https://lore.kernel.org/linux-kernel/48c1cd40fae31aa39e33930e7d28a0d96f01ea17"}
{"commit_hash": "75451f871cf5ed735c96118894fb9de418cd8a79", "short_hash": "75451f871cf5", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:20:09+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:32+11:00", "subject": "MAINTAINERS: Add maintainer for HiSilicon HPRE driver", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["MAINTAINERS"], "subsystem_tier": 6, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINTAINERS file update adding maintainer for HiSilicon HPRE crypto driver. Herbert Xu (crypto maintainer) signed off, indicating maintainer endorsement. Minimal code change (9 lines to MAINTAINERS only). Crypto subsystem tier 6. Good commit message quality and atomicity.", "code_snippet": "@@ -7365,6 +7365,15 @@ F:\tinclude/uapi/linux/if_hippi.h\n F:\tnet/802/hippi.c\n F:\tdrivers/net/hippi/\n \n+HISILICON HIGH PERFORMANCE RSA ENGINE DRIVER (HPRE)\n+M:\tZaibo Xu <xuzaibo@huawei.com>\n+L:\tlinux-crypto@vger.kernel.org\n+S:\tMaintained\n+F:\tdrivers/crypto/hisilicon/hpre/hpre_crypto.c\n+F:\tdrivers/crypto/hisilicon/hpre/hpre_main.c\n+F:\tdrivers/crypto/hisilicon/hpre/hpre.h\n+F:\tDocumentation/ABI/testing/debugfs-hisi-hpre\n+\n HISILICON NETWORK SUBSYSTEM 3 DRIVER (HNS3)\n M:\tYisen Zhuang <yisen.zhuang@huawei.com>\n M:\tSalil Mehta <salil.mehta@huawei.com>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/75451f871cf5ed735c96118894fb9de418cd8a79"}
{"commit_hash": "8489741516182d8ac57a69e9f4ca963450607351", "short_hash": "848974151618", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:20:08+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:32+11:00", "subject": "crypto: hisilicon - Add debugfs for HPRE", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon/hpre"], "subsystem_tier": 6, "files_changed": 2, "insertions": 460, "deletions": 2, "hunks": 22, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Hui Tang <tanghui20@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 14, "score_impact": 10, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 8, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs feature addition for HiSilicon HPRE crypto engine. 462 lines changed (460 insertions, 2 deletions). Adds debug interface for hardware monitoring. Well-structured with proper enums, file operations, and locking. Signed-off-by chain includes author, co-author, and subsystem maintainer Herbert Xu.", "code_snippet": "@@ -9,11 +9,45 @@\n #define HPRE_SQE_SIZE\t\t\tsizeof(struct hpre_sqe)\n #define HPRE_PF_DEF_Q_NUM\t\t64\n #define HPRE_PF_DEF_Q_BASE\t\t0\n-#define HPRE_CLUSTERS_NUM\t\t4\n+\n+enum {\n+\tHPRE_CLUSTER0,\n+\tHPRE_CLUSTER1,\n+\tHPRE_CLUSTER2,\n+\tHPRE_CLUSTER3,\n+\tHPRE_CLUSTERS_NUM,\n+};\n+\n+enum hpre_ctrl_dbgfs_file {\n+\tHPRE_CURRENT_QM,\n+\tHPRE_CLEAR_ENABLE,\n+\tHPRE_CLUSTER_CTRL,\n+\tHPRE_DEBUG_FILE_NUM,\n+};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8489741516182d8ac57a69e9f4ca963450607351"}
{"commit_hash": "b492f82fcee1d1c6cdb54ce6e8134438e651b3cf", "short_hash": "b492f82fcee1", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:20:07+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:32+11:00", "subject": "Documentation: Add debugfs doc for hisi_hpre", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/ABI/testing/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 57, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Hui Tang <tanghui20@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding debugfs ABI descriptions for HiSilicon HPRE crypto driver. Low technical complexity (new file), clear review chain with co-authors, endorsed by subsystem maintainer Herbert Xu.", "code_snippet": "@@ -0,0 +1,57 @@\n+What:           /sys/kernel/debug/hisi_hpre/<bdf>/cluster[0-3]/regs\n+Date:           Sep 2019\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    Dump debug registers from the HPRE cluster.\n+\t\tOnly available for PF.\n+\n+What:           /sys/kernel/debug/hisi_hpre/<bdf>/cluster[0-3]/cluster_ctrl\n+Date:           Sep 2019\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    Write the HPRE core selection in the cluster into this file,\n+\t\tand then we can read the debug information of the core.\n+\t\tOnly available for PF.\n+\n+What:           /sys/kernel/debug/hisi_hpre/<bdf>/rdclr_en\n+Date:           Sep 2019\n+Contact:        linux-crypto@vger.kernel.org\n+Description:    HPRE cores debug registers read clear control. 1 means enable\n+\t\tregister read clear, otherwise 0. Writing to this file has no\n+\t\tfunctional effect, only enable or disable counters clear after", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b492f82fcee1d1c6cdb54ce6e8134438e651b3cf"}
{"commit_hash": "5ec302a364bfd95be29a9784b2fabd8e2ddf0476", "short_hash": "5ec302a364bf", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:20:06+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-10T23:36:32+11:00", "subject": "crypto: hisilicon - add SRIOV support for HPRE", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/hpre/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 133, "deletions": 7, "hunks": 16, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Hui tang <tanghui20@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "SRIOV support feature for Hisilicon HPRE crypto accelerator. 140 lines added (133 insertions, 7 deletions) implementing VF enable/disable, queue assignment, and PCI SRIOV configuration. Crypto subsystem tier-5. Herbert Xu (crypto maintainer) signed off. VM use case enabled for RSA/DH algorithms.", "code_snippet": "@@ -318,8 +320,12 @@ static int hpre_qm_pre_init(struct hisi_qm *qm, struct pci_dev *pdev)\n \tqm->ver = rev_id;\n \tqm->sqe_size = HPRE_SQE_SIZE;\n \tqm->dev_name = hpre_name;\n-\tqm->qp_base = HPRE_PF_DEF_Q_BASE;\n-\tqm->qp_num = hpre_pf_q_num;\n+\tqm->fun_type = (pdev->device == HPRE_PCI_DEVICE_ID) ?\n+\t\t       QM_HW_PF : QM_HW_VF;\n+\tif (pdev->is_physfn) {\n+\t\tqm->qp_base = HPRE_PF_DEF_Q_BASE;\n+\t\tqm->qp_num = hpre_pf_q_num;\n+\t}\n \tqm->use_dma_api = true;\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ec302a364bfd95be29a9784b2fabd8e2ddf0476"}
{"commit_hash": "0fa79a78b1d7e671f889b41a981c229075cbfb36", "short_hash": "0fa79a78b1d7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-10T23:33:25+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-11T11:05:59+02:00", "subject": "staging: rtl8723bs: Remove unnecessary null check", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing redundant null check before kfree (kfree handles NULL safely). Staging driver (tier 3). Cross-org contribution from Huawei to maintainer Greg Kroah-Hartman. Good commit message with Coccinelle reference. Minimal code change (1 insertion, 2 deletions).", "code_snippet": "@@ -1121,8 +1121,7 @@ void rtw_ndev_destructor(struct net_device *ndev)\n {\n \tDBG_871X(FUNC_NDEV_FMT \"\\n\", FUNC_NDEV_ARG(ndev));\n \n-\tif (ndev->ieee80211_ptr)\n-\t\tkfree(ndev->ieee80211_ptr);\n+\tkfree(ndev->ieee80211_ptr);\n }\n \n void rtw_dev_unload(struct adapter *padapter)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fa79a78b1d7e671f889b41a981c229075cbfb36"}
{"commit_hash": "59f4567d228f7f5686e0f91d30e6aeaca999e2fd", "short_hash": "59f4567d228f", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T17:08:27+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-11T11:52:59+03:00", "subject": "rtlwifi: rtl8192ee: Remove set but not used variable 'err'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ping-Ke Shih <pkshih@realtek.com> (Realtek)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low impact: removes dead code but doesn't change behavior. Good review chain with Acked-by. Cross-org contribution (Huawei to Realtek subsystem)", "code_snippet": "@@ -108,7 +108,6 @@ int rtl92ee_download_fw(struct ieee80211_hw *hw, bool buse_wake_on_wlan_fw)\n \tstruct rtlwifi_firmware_header *pfwheader;\n \tu8 *pfwdata;\n \tu32 fwsize;\n-\tint err;\n \tenum version_8192e version = rtlhal->version;\n \n \tif (!rtlhal->pfirmware)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/59f4567d228f7f5686e0f91d30e6aeaca999e2fd"}
{"commit_hash": "6735ab500b8915182127a9030f04683b8f8b1431", "short_hash": "6735ab500b89", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T14:02:49+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-11T15:45:41+05:30", "subject": "dmaengine: ti: edma: remove unused code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma/ti"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Peter Ujfalusi <peter.ujfalusi@ti.com> (Texas Instruments)"], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 3, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. Low complexity cleanup with good review chain (Acked-by maintainer, proper Link tag). Cross-org contribution from Huawei to TI subsystem. Minimal technical impact.", "code_snippet": "@@ -2249,10 +2249,8 @@ static int edma_probe(struct platform_device *pdev)\n {\n \tstruct edma_soc_info\t*info = pdev->dev.platform_data;\n \ts8\t\t\t(*queue_priority_mapping)[2];\n-\tint\t\t\ti, off;\n \tconst s16\t\t(*rsv_slots)[2];\n-\tconst s16\t\t(*xbar_chans)[2];\n-\tint\t\t\tirq;\n+\tint\t\t\ti, irq;\n \tchar\t\t\t*irq_name;\n \tstruct resource\t\t*mem;\n \tstruct device_node\t*node = pdev->dev.of_node;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6735ab500b8915182127a9030f04683b8f8b1431"}
{"commit_hash": "33902b4a4227877896dd9368ac10f4ca0d100de5", "short_hash": "33902b4a4227", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-11T17:46:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-13T11:30:14-07:00", "subject": "netdevsim: Fix error handling in nsim_fib_init and nsim_fib_exit", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "59c84b9fcf42", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/drivers/net/netdevsim/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 5, "score_impact": 19, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Use-after-free bug in netdevsim driver with KASAN report. Proper ordering of cleanup operations in init/exit paths. Cross-org contribution (Huawei to netdevsim). Includes Fixes tag and maintainer Ack.", "code_snippet": "@@ -241,8 +241,8 @@ static struct pernet_operations nsim_fib_net_ops = {\n \n void nsim_fib_exit(void)\n {\n-\tunregister_pernet_subsys(&nsim_fib_net_ops);\n \tunregister_fib_notifier(&nsim_fib_nb);\n+\tunregister_pernet_subsys(&nsim_fib_net_ops);\n }\n \n int nsim_fib_init(void)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/33902b4a4227877896dd9368ac10f4ca0d100de5"}
{"commit_hash": "de729862cc0f0b46dd3a3c11079240ea4e13b97d", "short_hash": "de729862cc0f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-11T23:00:42+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-14T12:57:48+01:00", "subject": "ASoC: adau7118: Fix Kconfig warning without CONFIG_I2C", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "ca514c0f12b0", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build configuration fix for Kconfig dependency warning. Single line addition to add missing I2C dependency. Fixes a build warning, not a runtime bug. Good commit message with Reported-by and Fixes tags. Maintainer signed off. Low complexity but proper fix for build system.", "code_snippet": "@@ -416,6 +416,7 @@ config SND_SOC_ADAU7118_HW\n \n config SND_SOC_ADAU7118_I2C\n \ttristate \"Analog Devices ADAU7118 8 Channel PDM-to-I2S/TDM Converter - I2C\"\n+\tdepends on I2C\n \tselect SND_SOC_ADAU7118\n \tselect REGMAP_I2C\n \thelp\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de729862cc0f0b46dd3a3c11079240ea4e13b97d"}
{"commit_hash": "dd79841ca66ff509660880237dc286d7f116a766", "short_hash": "dd79841ca66f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-11T22:35:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-14T12:57:59+01:00", "subject": "ASoC: fsl_mqs: Move static keyword to the front of declarations", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Nicolin Chen <nicoleotsuka@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial compiler warning fix moving 'static' keyword before 'const' in C declaration. Minimal code change (1 line), single file in ASoC subsystem (tier 3). Has maintainer Acked-by and proper Link tag, good commit message explaining gcc warning. No functional change, no stable CC, single subsystem only.", "code_snippet": "@@ -143,7 +143,7 @@ static void fsl_mqs_shutdown(struct snd_pcm_substream *substream,\n \t\t\t\t   MQS_EN_MASK, 0);\n }\n \n-const static struct snd_soc_component_driver soc_codec_fsl_mqs = {\n+static const struct snd_soc_component_driver soc_codec_fsl_mqs = {\n \t.idle_bias_on = 1,\n \t.non_legacy_dai_naming\t= 1,\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd79841ca66ff509660880237dc286d7f116a766"}
{"commit_hash": "57d55bb5dc8690c8072f029796605498aeac0441", "short_hash": "57d55bb5dc86", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:15:46+08:00", "committer_name": "Tomi Valkeinen", "committer_email": "tomi.valkeinen@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-14T14:20:22+03:00", "subject": "drm/omap: Remove set but not used variable 'plane'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "2ecceeb53b19", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/omapdrm"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Tomi Valkeinen <tomi.valkeinen@ti.com> (Texas Instruments)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 4, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removes unused variable 'plane' to fix gcc -Wunused-but-set-variable warning in omapdrm framebuffer code. Cleanup commit with proper review chain (Reviewed-by, Signed-off-by), references originating commit that made variable obsolete. Low technical impact but good maintenance hygiene.", "code_snippet": "@@ -135,7 +135,6 @@ void omap_framebuffer_update_scanout(struct drm_framebuffer *fb,\n {\n \tstruct omap_framebuffer *omap_fb = to_omap_framebuffer(fb);\n \tconst struct drm_format_info *format = omap_fb->format;\n-\tstruct plane *plane = &omap_fb->planes[0];\n \tu32 x, y, orient = 0;\n \n \tinfo->fourcc = fb->format->format;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/57d55bb5dc8690c8072f029796605498aeac0441"}
{"commit_hash": "83e3b8a9c0603ff7445a66145d5dc042982f7d0d", "short_hash": "83e3b8a9c060", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:15:47+08:00", "committer_name": "Tomi Valkeinen", "committer_email": "tomi.valkeinen@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-14T14:20:44+03:00", "subject": "drm/omap: Remove set but not used variable 'tclk_trail'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/omapdrm/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Tomi Valkeinen <tomi.valkeinen@ti.com> (Texas Instruments)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Single file, single subsystem (DRM/OMAP). Has Reviewed-by tag, clear commit message with warning context. Very low impact.", "code_snippet": "@@ -3548,7 +3548,7 @@ static int dsi_proto_config(struct dsi_data *dsi)\n \n static void dsi_proto_timings(struct dsi_data *dsi)\n {\n-\tunsigned int tlpx, tclk_zero, tclk_prepare, tclk_trail;\n+\tunsigned int tlpx, tclk_zero, tclk_prepare;\n \tunsigned int tclk_pre, tclk_post;\n \tunsigned int ths_prepare, ths_prepare_ths_zero, ths_zero;\n \tunsigned int ths_trail, ths_exit;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83e3b8a9c0603ff7445a66145d5dc042982f7d0d"}
{"commit_hash": "c30a19433e483acbad1aaa43ebc40d66bf4fef98", "short_hash": "c30a19433e48", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:15:48+08:00", "committer_name": "Tomi Valkeinen", "committer_email": "tomi.valkeinen@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-14T14:20:48+03:00", "subject": "drm/omap: Remove set but not used variable 'err' in hdmi5_audio_config", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Tomi Valkeinen <tomi.valkeinen@ti.com> (Texas Instruments)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 3, "score_impact": 2, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing an unused variable to fix gcc warning. Single file (hdmi5_core.c), 2 insertions/2 deletions. Cross-org contribution (Huawei author, TI maintainer). Good review chain with Reported-by, Signed-off-by, Reviewed-by, and Link tags.", "code_snippet": "@@ -807,7 +807,7 @@ int hdmi5_audio_config(struct hdmi_core_data *core, struct hdmi_wp_data *wp,\n \tstruct hdmi_audio_format audio_format;\n \tstruct hdmi_audio_dma audio_dma;\n \tstruct hdmi_core_audio_config core_cfg;\n-\tint err, n, cts, channel_count;\n+\tint n, cts, channel_count;\n \tunsigned int fs_nr;\n \tbool word_length_16b = false;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c30a19433e483acbad1aaa43ebc40d66bf4fef98"}
{"commit_hash": "ad7adde58c3a326b6709f55c5f46f393f11195bc", "short_hash": "ad7adde58c3a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:15:49+08:00", "committer_name": "Tomi Valkeinen", "committer_email": "tomi.valkeinen@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-14T14:20:52+03:00", "subject": "drm/omap: Remove set but not used variable 'err' in hdmi4_audio_config", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/omapdrm/dss/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Tomi Valkeinen <tomi.valkeinen@ti.com> (Texas Instruments)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Low code volume (2 lines changed), low-tier subsystem (drm/omap), no user impact or stable CC. Includes proper review chain (Reviewed-by) and good commit message with gcc warning details.", "code_snippet": "@@ -676,7 +676,7 @@ int hdmi4_audio_config(struct hdmi_core_data *core, struct hdmi_wp_data *wp,\n \tstruct hdmi_audio_format audio_format;\n \tstruct hdmi_audio_dma audio_dma;\n \tstruct hdmi_core_audio_config acore;\n-\tint err, n, cts, channel_count;\n+\tint n, cts, channel_count;\n \tunsigned int fs_nr;\n \tbool word_length_16b = false;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad7adde58c3a326b6709f55c5f46f393f11195bc"}
{"commit_hash": "50bf025b75902d326fdb8078be3d278e1b693576", "short_hash": "50bf025b7590", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T22:43:16+08:00", "committer_name": "Jerome Brunet", "committer_email": "jbrunet@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-10-14T17:06:27+02:00", "subject": "clk: meson: axg-audio: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/meson"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jerome Brunet <jbrunet@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 6, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using devm_platform_ioremap_resource() helper to simplify code in audio clock driver. Low impact, single file, minimal code change. Cross-org contribution from Huawei to BayLibre maintainer. Clean atomic change with proper maintainer sign-off.", "code_snippet": "@@ -1632,7 +1632,6 @@ static int axg_audio_clkc_probe(struct platform_device *pdev)\n \tconst struct audioclk_data *data;\n \tstruct axg_audio_reset_data *rst;\n \tstruct regmap *map;\n-\tstruct resource *res;\n \tvoid __iomem *regs;\n \tstruct clk_hw *hw;\n \tint ret, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/50bf025b75902d326fdb8078be3d278e1b693576"}
{"commit_hash": "9899a7a869935c4c93247b290ac7a70e0deab202", "short_hash": "9899a7a86993", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T17:13:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-14T17:11:57+01:00", "subject": "ASoC: SOF: Fix randbuild error", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "5d43001ae436", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/sof"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 8, "score_impact": 13, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Build configuration fix for undefined reference when LEDS_TRIGGER_AUDIO=m and SND_SOC_SOF=y. Small code volume (2 insertions wrapping existing code in IS_REACHABLE check). Sound subsystem is tier 7 (not core networking). Fixes regression from commit 5d43001ae436. Acked by Intel maintainer, signed by maintainer Mark Brown. Well-documented with Reported-by tag.", "code_snippet": "@@ -36,10 +36,12 @@ static void update_mute_led(struct snd_sof_control *scontrol,\n \n \tscontrol->led_ctl.led_value = temp;\n \n+#if IS_REACHABLE(CONFIG_LEDS_TRIGGER_AUDIO)\n \tif (!scontrol->led_ctl.direction)\n \t\tledtrig_audio_set(LED_AUDIO_MUTE, temp ? LED_OFF : LED_ON);\n \telse\n \t\tledtrig_audio_set(LED_AUDIO_MICMUTE, temp ? LED_OFF : LED_ON);\n+#endif\n }\n \n static inline u32 mixer_to_ipc(unsigned int value, u32 *volume_map, int size)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9899a7a869935c4c93247b290ac7a70e0deab202"}
{"commit_hash": "8f2d3c1759d19232edf1e9ef43d40a44e31493d6", "short_hash": "8f2d3c1759d1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T15:19:08+08:00", "committer_name": "Shawn Guo", "committer_email": "shawnguo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-14T21:22:20+08:00", "subject": "clk: imx: clk-pll14xx: Make two variables static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/imx/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Shawn Guo <shawnguo@kernel.org> (Kernel)"], "reviewed_by": ["Anson Huang <Anson.Huang@nxp.com> (NXP)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to two file-scope variables in clock driver. Low code volume (4 lines changed), single file in clk/imx subsystem. Reviewed-by from NXP maintainer, signed by subsystem maintainer. Cross-org contribution from Huawei to NPU driver. Functional impact is minimal - compilation cleanup only.", "code_snippet": "@@ -41,7 +41,7 @@ struct clk_pll14xx {\n \n #define to_clk_pll14xx(_hw) container_of(_hw, struct clk_pll14xx, hw)\n \n-const struct imx_pll14xx_rate_table imx_pll1416x_tbl[] = {\n+static const struct imx_pll14xx_rate_table imx_pll1416x_tbl[] = {\n \tPLL_1416X_RATE(1800000000U, 225, 3, 0),\n \tPLL_1416X_RATE(1600000000U, 200, 3, 0),\n \tPLL_1416X_RATE(1500000000U, 375, 3, 1),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f2d3c1759d19232edf1e9ef43d40a44e31493d6"}
{"commit_hash": "5da0fb1ab34ccfe6d49210b4f5a739c59fcbf25e", "short_hash": "5da0fb1ab34c", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T21:59:29+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-10-15T08:55:50-06:00", "subject": "io_uring: consider the overflow of sequence for timeout req", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 9, "files_changed": 1, "insertions": 21, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes integer overflow bug in io_uring timeout handling that could cause misordered timeout_list leading to incorrect completion ordering. Bug affects core async I/O subsystem. Code includes detailed comments explaining the overflow scenarios. Maintainer (Axboe) signed off, indicating review quality.", "code_snippet": "@@ -1884,7 +1884,7 @@ static enum hrtimer_restart io_timeout_fn(struct hrtimer *timer)\n \n static int io_timeout(struct io_kiocb *req, const struct io_uring_sqe *sqe)\n {\n-\tunsigned count, req_dist, tail_index;\n+\tunsigned count;\n \tstruct io_ring_ctx *ctx = req->ctx;\n \tstruct list_head *entry;\n \tstruct timespec64 ts;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5da0fb1ab34ccfe6d49210b4f5a739c59fcbf25e"}
{"commit_hash": "e3008bf46ce0baf617cfd1b68d35e433dc603e43", "short_hash": "e3008bf46ce0", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-09-29T21:42:49+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-15T10:55:10+03:00", "subject": "platform/x86: classmate-laptop: remove unused variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "7125587df4e8", "cc_stable": false, "subsystem_prefix": "drivers/platform/x86", "subsystems_touched": ["drivers/platform/x86"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 4, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables to fix compiler warnings. Single file in low-tier platform driver subsystem. Cross-org contribution from Huawei to Intel maintainer with proper review chain.", "code_snippet": "@@ -420,12 +420,6 @@ static int cmpc_accel_add_v4(struct acpi_device *acpi)\n \n static int cmpc_accel_remove_v4(struct acpi_device *acpi)\n {\n-\tstruct input_dev *inputdev;\n-\tstruct cmpc_accel *accel;\n-\n-\tinputdev = dev_get_drvdata(&acpi->dev);\n-\taccel = dev_get_drvdata(&inputdev->dev);\n-\n \tdevice_remove_file(&acpi->dev, &cmpc_accel_sensitivity_attr_v4);\n \tdevice_remove_file(&acpi->dev, &cmpc_accel_g_select_attr_v4);\n \treturn cmpc_remove_acpi_notify_device(acpi);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e3008bf46ce0baf617cfd1b68d35e433dc603e43"}
{"commit_hash": "6080728ff8e9c9116e52e6f840152356ac2fea56", "short_hash": "6080728ff8e9", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T16:30:08+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-15T11:54:11-03:00", "subject": "perf tools: Fix resource leak of closedir() on the error paths", "primary_category": "BUG-LEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "e2091cedd51b", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/util"], "subsystem_tier": 5, "files_changed": 2, "insertions": 7, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 38, "score_technical": 7, "score_impact": 11, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak fix in perf tools (closedir leaks on error paths). 10 lines changed across 2 files. Tools subsystem (tier 5). Acked by maintainer Jiri Olsa, signed by subsystem maintainer Arnaldo Carvalho de Melo. Well-structured commit with Fixes tags and clear explanation.", "code_snippet": "@@ -1296,8 +1296,10 @@ static int build_mem_topology(struct memory_node *nodes, u64 size, u64 *cntp)\n \t\t\tcontinue;\n \n \t\tif (WARN_ONCE(cnt >= size,\n-\t\t\t      \"failed to write MEM_TOPOLOGY, way too many nodes\\n\"))\n+\t\t\t\"failed to write MEM_TOPOLOGY, way too many nodes\\n\")) {\n+\t\t\tclosedir(dir);\n \t\t\treturn -1;\n+\t\t}\n \n \t\tret = memory_node__read(&nodes[cnt++], idx);\n \t}\ndiff --git a/tools/perf/util/util.c b/tools/perf/util/util.c\nindex 5eda6e19c947..ae56c766eda1 100644\n--- a/tools/perf/util/util.c\n+++ b/tools/perf/util/util.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6080728ff8e9c9116e52e6f840152356ac2fea56"}
{"commit_hash": "ae199c580da1754a2b051321eeb76d6dacd8707b", "short_hash": "ae199c580da1", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T10:54:14+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-15T12:08:13-03:00", "subject": "perf c2c: Fix memory leak in build_cl_output()", "primary_category": "BUG-LEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools", "subsystems_touched": ["tools/perf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 34, "score_technical": 5, "score_impact": 11, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in perf/c2c tool. Acked by Jiri Olsa, signed by maintainer Arnaldo Carvalho de Melo. Single-file change with proper error handling and cleanup path.", "code_snippet": "@@ -2653,7 +2654,8 @@ static int build_cl_output(char *cl_sort, bool no_source)\n \t\t\tadd_dso = true;\n \t\t} else if (strcmp(tok, \"offset\")) {\n \t\t\tpr_err(\"unrecognized sort token: %s\\n\", tok);\n-\t\t\treturn -EINVAL;\n+\t\t\tret = -EINVAL;\n+\t\t\tgoto err;\n \t\t}\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae199c580da1754a2b051321eeb76d6dacd8707b"}
{"commit_hash": "fb03082a54acd66c61535edfefe96b2ff88ce7e2", "short_hash": "fb03082a54ac", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T19:59:33+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-10-15T14:25:34+02:00", "subject": "memory: mtk-smi: Add PM suspend and resume ops", "primary_category": "BUG-LEAK", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "4f0a1a1ae351", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Anan Sun <anan.sun@mediatek.com> (MediaTek)", "Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 12, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Fixes power management clock leak in MediaTek SMI driver where runtime PM status remains active during suspend, preventing clocks from being disabled. Uses LATE system sleep PM ops to ensure clocks are disabled after multimedia devices. Small targeted fix (4 insertions) with good commit message explaining root cause and referencing the commit that introduced the issue. Cross-org collaboration between Mediatek and SUSE maintainers.", "code_snippet": "@@ -366,6 +366,8 @@ static int __maybe_unused mtk_smi_larb_suspend(struct device *dev)\n \n static const struct dev_pm_ops smi_larb_pm_ops = {\n \tSET_RUNTIME_PM_OPS(mtk_smi_larb_suspend, mtk_smi_larb_resume, NULL)\n+\tSET_LATE_SYSTEM_SLEEP_PM_OPS(pm_runtime_force_suspend,\n+\t\t\t\t     pm_runtime_force_resume)\n };\n \n static struct platform_driver mtk_smi_larb_driver = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb03082a54acd66c61535edfefe96b2ff88ce7e2"}
{"commit_hash": "4906c05b87d44c19b225935e24d62e4480ca556d", "short_hash": "4906c05b87d4", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T12:19:25+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-10-15T15:58:16+01:00", "subject": "PCI: mobiveil: Fix csr_read()/write() build issue", "primary_category": "BUG-BUILD", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "bcbe0d9a8d93", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 62, "deletions": 57, "hunks": 26, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": ["Andrew Murray <andrew.murray@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 11, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix for PCI mobiveil driver caused by naming conflict with RISC-V csr_read()/write() macros. 62 insertions/57 deletions. Includes Reviewed-by, proper Fixes tag, good commit message explaining the root cause and build errors. Affects only one driver (PCI controller), cross-org contribution from Huawei to ARM maintainer.", "code_snippet": "@@ -250,7 +250,8 @@ static u32 csr_read(struct mobiveil_pcie *pcie, u32 off, size_t size)\n \treturn val;\n }\n \n-static void csr_write(struct mobiveil_pcie *pcie, u32 val, u32 off, size_t size)\n+static void mobiveil_csr_write(struct mobiveil_pcie *pcie, u32 val, u32 off,\n+\t\t\t       size_t size)\n {\n \tvoid *addr;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4906c05b87d44c19b225935e24d62e4480ca556d"}
{"commit_hash": "2618500dd370da413cb1f616111e1bd8d9f5f94f", "short_hash": "2618500dd370", "author_name": "MarkLee", "author_email": "Mark-MC.Lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-14T15:15:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-15T18:03:35-07:00", "subject": "arm: dts: mediatek: Update mt7629 dts to reflect the latest dt-binding", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 6, "files_changed": 2, "insertions": 12, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["MarkLee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 7, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Device Tree cleanup commit updating MediaTek mt7629 DTS to align with latest dt-binding requirements. Removes obsolete mediatek,physpeed properties and properly configures GMAC nodes with fixed-link and phy-mode settings. Low code volume (15 lines), platform-specific (ARM DTS), clear commit message with proper Signed-off-by chain including networking maintainer David S. Miller.", "code_snippet": "@@ -66,9 +66,21 @@ &eth {\n \tpinctrl-1 = <&ephy_leds_pins>;\n \tstatus = \"okay\";\n \n+\tgmac0: mac@0 {\n+\t\tcompatible = \"mediatek,eth-mac\";\n+\t\treg = <0>;\n+\t\tphy-mode = \"2500base-x\";\n+\t\tfixed-link {\n+\t\t\tspeed = <2500>;\n+\t\t\tfull-duplex;\n+\t\t\tpause;\n+\t\t};\n+\t};\n+\n \tgmac1: mac@1 {\n \t\tcompatible = \"mediatek,eth-mac\";\n \t\treg = <1>;\n+\t\tphy-mode = \"gmii\";\n \t\tphy-handle = <&phy0>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2618500dd370da413cb1f616111e1bd8d9f5f94f"}
{"commit_hash": "4e3eff5beafa5c97cdf2af2181f46479941a7f45", "short_hash": "4e3eff5beafa", "author_name": "MarkLee", "author_email": "Mark-MC.Lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-14T15:15:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-15T18:03:35-07:00", "subject": "net: ethernet: mediatek: Fix MT7629 missing GMII mode support", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "b8fc9f30821e", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["MarkLee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 9, "score_impact": 12, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Regression fix for MediaTek MT7629 GMII mode support broken by PHYLINK patch. Single-line addition restoring missing case in switch statement. Clear commit message with Fixes tag. Network driver subsystem (tier 8). Maintainer sign-off present.", "code_snippet": "@@ -261,6 +261,7 @@ static void mtk_mac_config(struct phylink_config *config, unsigned int mode,\n \t\tge_mode = 0;\n \t\tswitch (state->interface) {\n \t\tcase PHY_INTERFACE_MODE_MII:\n+\t\tcase PHY_INTERFACE_MODE_GMII:\n \t\t\tge_mode = 1;\n \t\t\tbreak;\n \t\tcase PHY_INTERFACE_MODE_REVMII:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4e3eff5beafa5c97cdf2af2181f46479941a7f45"}
{"commit_hash": "bbecf7de097690af75d9a292a6ac1316092a7389", "short_hash": "bbecf7de0976", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T19:55:11+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-15T18:35:00+02:00", "subject": "staging: rtl8723bs: remove unnecessary null check", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant null check before kfree (kfree safely handles null). Staging driver code with minimal impact. Well-reviewed by staging maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -2206,12 +2206,9 @@ s32 rtw_alloc_hwxmits(struct adapter *padapter)\n \n void rtw_free_hwxmits(struct adapter *padapter)\n {\n-\tstruct hw_xmit *hwxmits;\n \tstruct xmit_priv *pxmitpriv = &padapter->xmitpriv;\n \n-\thwxmits = pxmitpriv->hwxmits;\n-\tif (hwxmits)\n-\t\tkfree(hwxmits);\n+\tkfree(pxmitpriv->hwxmits);\n }\n \n void rtw_init_hwxmits(struct hw_xmit *phwxmit, sint entry)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bbecf7de097690af75d9a292a6ac1316092a7389"}
{"commit_hash": "29a0f5ad87e6f45c984ffffa57b7142d178ff422", "short_hash": "29a0f5ad87e6", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T11:42:57+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T09:52:28-07:00", "subject": "arm64: sysreg: fix incorrect definition of SYS_PAR_EL1_F", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e8620cff9994", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/include/asm/sysreg.h"], "subsystem_tier": 9, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": ["Mark Rutland <mark.rutland@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 14, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Incorrect bit definition for PAR_EL1 register F field (bit 0 vs bit 1) could cause memory address translation failures. Core architecture subsystem. Single-line fix with proper Fixes tag and Reviewed-by.", "code_snippet": "@@ -212,7 +212,7 @@\n #define SYS_FAR_EL1\t\t\tsys_reg(3, 0, 6, 0, 0)\n #define SYS_PAR_EL1\t\t\tsys_reg(3, 0, 7, 4, 0)\n \n-#define SYS_PAR_EL1_F\t\t\tBIT(1)\n+#define SYS_PAR_EL1_F\t\t\tBIT(0)\n #define SYS_PAR_EL1_FST\t\t\tGENMASK(6, 1)\n \n /*** Statistical Profiling Extension ***/\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29a0f5ad87e6f45c984ffffa57b7142d178ff422"}
{"commit_hash": "1abecfcaa7bba21c9985e0136fa49836164dd8fd", "short_hash": "1abecfcaa7bb", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T16:38:45+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-16T10:08:32-03:00", "subject": "perf kmem: Fix memory leak in compact_gfp_flags()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "0e11115644b3", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 6, "score_impact": 11, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in perf kmem tool. 1 line insertion adding free(orig_flags) on error path. Fixes tag present. Well-documented with clear explanation. Cross-org contribution (Huawei author, Red Hat maintainer). Maintainer signed off. Limited user impact as perf tool is developer-facing.", "code_snippet": "@@ -691,6 +691,7 @@ static char *compact_gfp_flags(char *gfp_flags)\n \t\t\tnew = realloc(new_flags, len + strlen(cpt) + 2);\n \t\t\tif (new == NULL) {\n \t\t\t\tfree(new_flags);\n+\t\t\t\tfree(orig_flags);\n \t\t\t\treturn NULL;\n \t\t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1abecfcaa7bba21c9985e0136fa49836164dd8fd"}
{"commit_hash": "727fe909af7545fc317cd1ead4678724ec87df0a", "short_hash": "727fe909af75", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T11:55:22-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T11:47:14-03:00", "subject": "media: dvb-frontends: Use DIV_ROUND_CLOSEST directly to make it readable", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/dvb-frontends/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit replacing custom mt312_div() helper with standard DIV_ROUND_CLOSEST kernel macro. Low code volume (4 insertions, 9 deletions) affecting single driver file. Proper review chain (author->Sean Young->Mauro Carvalho Chehab). Cross-org contribution from Huawei. No stable CC, no CVE, minimal user impact. Pure code readability improvement.", "code_snippet": "@@ -291,10 +286,10 @@ static int mt312_initfe(struct dvb_frontend *fe)\n \t}\n \n \t/* SYS_CLK */\n-\tbuf[0] = mt312_div(state->xtal * state->freq_mult * 2, 1000000);\n+\tbuf[0] = DIV_ROUND_CLOSEST(state->xtal * state->freq_mult * 2, 1000000);\n \n \t/* DISEQC_RATIO */\n-\tbuf[1] = mt312_div(state->xtal, 22000 * 4);\n+\tbuf[1] = DIV_ROUND_CLOSEST(state->xtal, 22000 * 4);\n \n \tret = mt312_write(state, SYS_CLK, buf, sizeof(buf));\n \tif (ret < 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/727fe909af7545fc317cd1ead4678724ec87df0a"}
{"commit_hash": "0f123f820a8affe41cdf80e1998675dda4679574", "short_hash": "0f123f820a8a", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T11:55:23-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T11:47:59-03:00", "subject": "media: tuners/qm1d1c0042: Use DIV_ROUND_CLOSEST directly to make it readable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/tuners"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhong Jiang <zhongjiang@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 7, "score_impact": 3, "score_quality": 8, "score_community": 0, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Trivial readability improvement replacing manual division rounding with standard kernel macro. Single line change in non-critical driver subsystem. No functional impact or user-facing effects. Passed through media subsystem maintainers.", "code_snippet": "@@ -206,7 +206,7 @@ static int qm1d1c0042_set_params(struct dvb_frontend *fe)\n \tif (ret < 0)\n \t\treturn ret;\n \n-\ta = (freq + state->cfg.xtal_freq / 2) / state->cfg.xtal_freq;\n+\ta = DIV_ROUND_CLOSEST(freq, state->cfg.xtal_freq);\n \n \tstate->regs[0x06] &= 0x40;\n \tstate->regs[0x06] |= (a - 12) / 4;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0f123f820a8affe41cdf80e1998675dda4679574"}
{"commit_hash": "b8cb1ef95b6e2b67f06f5254d01d5411cf2c79ae", "short_hash": "b8cb1ef95b6e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T19:51:17+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T13:05:19-07:00", "subject": "clk: ast2600: remove unused variable 'eclk_parent_names'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused const variable to fix compiler warning. Well-reviewed by maintainer Stephen Boyd.", "code_snippet": "@@ -116,8 +116,6 @@ static const struct aspeed_gate_data aspeed_g6_gates[] = {\n \t[ASPEED_CLK_GATE_FSICLK]\t= { 62,  59, \"fsiclk-gate\",\tNULL,\t 0 },\t/* FSI */\n };\n \n-static const char * const eclk_parent_names[] = { \"mpll\", \"hpll\", \"dpll\" };\n-\n static const struct clk_div_table ast2600_eclk_div_table[] = {\n \t{ 0x0, 2 },\n \t{ 0x1, 2 },\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8cb1ef95b6e2b67f06f5254d01d5411cf2c79ae"}
{"commit_hash": "3de5ae54712c75cf3c517a288e0a704784ec6cf5", "short_hash": "3de5ae54712c", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T10:30:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-16T13:17:01-07:00", "subject": "net: phy: Fix \"link partner\" information disappear issue", "primary_category": "BUG-OTHER", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "88d6272acaaa", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/phy"], "subsystem_tier": 10, "files_changed": 3, "insertions": 12, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Heiner Kallweit <hkallweit1@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 18, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for regression introduced in 88d6272acaaa causing 'link partner' information to disappear. Affects networking PHY drivers using genphy_read_status(). Cross-org contribution from Huawei with reviewed-by tag. Clean, atomic fix with detailed commit message explaining root cause and call trace.", "code_snippet": "@@ -1787,7 +1787,14 @@ int genphy_read_lpa(struct phy_device *phydev)\n {\n \tint lpa, lpagb;\n \n-\tif (phydev->autoneg == AUTONEG_ENABLE && phydev->autoneg_complete) {\n+\tif (phydev->autoneg == AUTONEG_ENABLE) {\n+\t\tif (!phydev->autoneg_complete) {\n+\t\t\tmii_stat1000_mod_linkmode_lpa_t(phydev->lp_advertising,\n+\t\t\t\t\t\t\t0);\n+\t\t\tmii_lpa_mod_linkmode_lpa_t(phydev->lp_advertising, 0);\n+\t\t\treturn 0;\n+\t\t}\n+\n \t\tif (phydev->is_gigabit_capable) {\n \t\t\tlpagb = phy_read(phydev, MII_STAT1000);\n \t\t\tif (lpagb < 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3de5ae54712c75cf3c517a288e0a704784ec6cf5"}
{"commit_hash": "e497c20e203680aba9ccf7bb475959595908ca7e", "short_hash": "e497c20e2036", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-15T11:24:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-16T13:25:39-07:00", "subject": "net: stmmac: disable/enable ptp_ref_clk in suspend/resume flow", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "f573c0b9c4e0", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 10, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Clock management fix for suspend/resume flow in network driver. 8 insertions, 4 deletions touching critical power management code. Network ethernet driver tier-10 subsystem. Fixes tag present but no CC stable. Bug fix (power management) with moderate user impact (system suspend/resume reliability)", "code_snippet": "@@ -4742,8 +4742,10 @@ int stmmac_suspend(struct device *dev)\n \t\tstmmac_mac_set(priv, priv->ioaddr, false);\n \t\tpinctrl_pm_select_sleep_state(priv->device);\n \t\t/* Disable clock in case of PWM is off */\n-\t\tclk_disable(priv->plat->pclk);\n-\t\tclk_disable(priv->plat->stmmac_clk);\n+\t\tif (priv->plat->clk_ptp_ref)\n+\t\t\tclk_disable_unprepare(priv->plat->clk_ptp_ref);\n+\t\tclk_disable_unprepare(priv->plat->pclk);\n+\t\tclk_disable_unprepare(priv->plat->stmmac_clk);\n \t}\n \tmutex_unlock(&priv->lock);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e497c20e203680aba9ccf7bb475959595908ca7e"}
{"commit_hash": "4d3a369510dda6336534c4364910312f432c54a5", "short_hash": "4d3a369510dd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T22:36:42+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:16:50-07:00", "subject": "clk: bcm2835: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/bcm"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing platform_get_resource()+devm_ioremap_resource() with devm_platform_ioremap_resource(). A cocci-detected simplification reducing lines and removing unnecessary resource variable. Low technical impact as it's pure refactoring with no functional change. Applied consistently across 2 files in same subsystem.", "code_snippet": "@@ -27,8 +26,7 @@ static int bcm2835_aux_clk_probe(struct platform_device *pdev)\n \t\treturn PTR_ERR(parent_clk);\n \tparent = __clk_get_name(parent_clk);\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\treg = devm_ioremap_resource(dev, res);\n+\treg = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(reg))\n \t\treturn PTR_ERR(reg);\n \ndiff --git a/drivers/clk/bcm/clk-bcm2835.c b/drivers/clk/bcm/clk-bcm2835.c\nindex 802e488fd3c3..ded13ccf768e 100644\n--- a/drivers/clk/bcm/clk-bcm2835.c\n+++ b/drivers/clk/bcm/clk-bcm2835.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d3a369510dda6336534c4364910312f432c54a5"}
{"commit_hash": "75cc0a123c90c8e3bfd8d279395d0bd558670424", "short_hash": "75cc0a123c90", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T22:40:14+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:06-07:00", "subject": "clk: hisilicon: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/hisilicon/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit using devm_platform_ioremap_resource() helper to simplify code. Detected by coccinelle. Single file change in clk subsystem with minimal scope (1 insertion, 3 deletions). Maintainer signed off. Low impact cleanup.", "code_snippet": "@@ -90,14 +90,12 @@ static const struct reset_control_ops hisi_reset_ops = {\n struct hisi_reset_controller *hisi_reset_init(struct platform_device *pdev)\n {\n \tstruct hisi_reset_controller *rstc;\n-\tstruct resource *res;\n \n \trstc = devm_kmalloc(&pdev->dev, sizeof(*rstc), GFP_KERNEL);\n \tif (!rstc)\n \t\treturn NULL;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\trstc->membase = devm_ioremap_resource(&pdev->dev, res);\n+\trstc->membase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(rstc->membase))\n \t\treturn NULL;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/75cc0a123c90c8e3bfd8d279395d0bd558670424"}
{"commit_hash": "1f8f3c6b35b235fea7fa72846a6b2c8af7596607", "short_hash": "1f8f3c6b35b2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T22:44:07+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:14-07:00", "subject": "clk: davinci: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/davinci/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper. Low complexity code simplification detected by coccinelle. Properly signed off by maintainer Stephen Boyd. Affects platform-specific clock driver (davinci), low subsystem tier.", "code_snippet": "@@ -930,8 +929,7 @@ static int davinci_pll_probe(struct platform_device *pdev)\n \t\treturn -EINVAL;\n \t}\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \ndiff --git a/drivers/clk/davinci/psc.c b/drivers/clk/davinci/psc.c\nindex 5b69e24a224f..7387e7f6276e 100644\n--- a/drivers/clk/davinci/psc.c\n+++ b/drivers/clk/davinci/psc.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f8f3c6b35b235fea7fa72846a6b2c8af7596607"}
{"commit_hash": "73c3bf70b37b429d9bc8b428128235b6e5932b24", "short_hash": "73c3bf70b37b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T19:26:44+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:32-07:00", "subject": "clk: mediatek: mt2712: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit replacing platform_get_resource()+devm_ioremap_resource() with devm_platform_ioremap_resource() wrapper. Only 6 lines changed across 2 functions in a single file. Low-risk cleanup detected by coccinelle. Cross-org contribution from Huawei to Mediatek clk subsystem, merged by maintainer Stephen Boyd.", "code_snippet": "@@ -1306,9 +1306,8 @@ static int clk_mt2712_top_probe(struct platform_device *pdev)\n \tint r, i;\n \tstruct device_node *node = pdev->dev.of_node;\n \tvoid __iomem *base;\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base)) {\n \t\tpr_err(\"%s(): ioremap failed\\n\", __func__);\n \t\treturn PTR_ERR(base);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73c3bf70b37b429d9bc8b428128235b6e5932b24"}
{"commit_hash": "71ae814181749381436d6c8ca2cccba3ca899ac1", "short_hash": "71ae81418174", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T20:10:35+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:37-07:00", "subject": "clk: mediatek: mt6779: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using devm_platform_ioremap_resource() wrapper to simplify code. Detected by coccinelle, reduces 2 lines of boilerplate. Low risk, well-reviewed by maintainer Stephen Boyd.", "code_snippet": "@@ -1225,12 +1225,11 @@ static int clk_mt6779_apmixed_probe(struct platform_device *pdev)\n \n static int clk_mt6779_top_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tvoid __iomem *base;\n \tstruct clk_onecell_data *clk_data;\n \tstruct device_node *node = pdev->dev.of_node;\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71ae814181749381436d6c8ca2cccba3ca899ac1"}
{"commit_hash": "067de0a647a0018030dbe503666a793e37d9fd7f", "short_hash": "067de0a647a0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T20:14:21+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:40-07:00", "subject": "clk: mediatek: mt8183: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper across two probe functions. Low technical complexity (6 insertions, 4 deletions) in clock driver subsystem. Receives points for cross-org contribution (Huawei to kernel.org via maintainer Stephen Boyd), clean commit message with Coccinelle attribution, and atomic changes across two functions.", "code_snippet": "@@ -1189,11 +1189,10 @@ CLK_OF_DECLARE_DRIVER(mt8183_topckgen, \"mediatek,mt8183-topckgen\",\n \n static int clk_mt8183_top_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tvoid __iomem *base;\n \tstruct device_node *node = pdev->dev.of_node;\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/067de0a647a0018030dbe503666a793e37d9fd7f"}
{"commit_hash": "ed4e1bbb44111466fd2cdbe2ed25ce030aa4288b", "short_hash": "ed4e1bbb4411", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T20:17:35+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:42-07:00", "subject": "clk: mediatek: mt7622: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() wrapper. Low code volume (-2 lines). Clock subsystem tier 5. Maintenance cleanup category with 5 base points. Good review chain (author + maintainer). Clean commit message. Atomic changes in two functions. Cross-org collaboration (Huawei author, kernel.org maintainer).", "code_snippet": "@@ -614,9 +614,8 @@ static int mtk_topckgen_init(struct platform_device *pdev)\n \tstruct clk_onecell_data *clk_data;\n \tvoid __iomem *base;\n \tstruct device_node *node = pdev->dev.of_node;\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ed4e1bbb44111466fd2cdbe2ed25ce030aa4288b"}
{"commit_hash": "aa136002ae227468d75dd2f82f1a4baa3558a7d4", "short_hash": "aa136002ae22", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T20:42:26+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:44-07:00", "subject": "clk: mediatek: mt7629: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper function, reducing code duplication in Mediatek clock driver. Low impact cleanup change detected by coccinelle.", "code_snippet": "@@ -574,9 +574,8 @@ static int mtk_topckgen_init(struct platform_device *pdev)\n \tstruct clk_onecell_data *clk_data;\n \tvoid __iomem *base;\n \tstruct device_node *node = pdev->dev.of_node;\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa136002ae227468d75dd2f82f1a4baa3558a7d4"}
{"commit_hash": "0b17159de2c3be6a6b48b40f9c2c370dbdef456f", "short_hash": "0b17159de2c3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T20:47:28+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:46-07:00", "subject": "clk: mediatek: mt6797: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper. Reduces 3 lines to 1, detected by coccinelle. Properly reviewed and signed by maintainer.", "code_snippet": "@@ -385,9 +385,8 @@ static int mtk_topckgen_init(struct platform_device *pdev)\n \tstruct clk_onecell_data *clk_data;\n \tvoid __iomem *base;\n \tstruct device_node *node = pdev->dev.of_node;\n-\tstruct resource *res = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b17159de2c3be6a6b48b40f9c2c370dbdef456f"}
{"commit_hash": "21ec8679c2cbb874885b11f7bc1c7e4d6e673c1b", "short_hash": "21ec8679c2cb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:22:59+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:50-07:00", "subject": "clk: axs10x: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/axs10x"], "subsystem_tier": 6, "files_changed": 2, "insertions": 3, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Affects 2 files in clk subsystem (tier 6). Small changes (-8/+3 lines). Cross-org contribution from Huawei, merged by maintainer Stephen Boyd. Clean Coccinelle-detected refactoring with proper sign-offs and Link tag.", "code_snippet": "@@ -172,14 +172,12 @@ static int i2s_pll_clk_probe(struct platform_device *pdev)\n \tstruct clk *clk;\n \tstruct i2s_pll_clk *pll_clk;\n \tstruct clk_init_data init;\n-\tstruct resource *mem;\n \n \tpll_clk = devm_kzalloc(dev, sizeof(*pll_clk), GFP_KERNEL);\n \tif (!pll_clk)\n \t\treturn -ENOMEM;\n \n-\tmem = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpll_clk->base = devm_ioremap_resource(dev, mem);\n+\tpll_clk->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(pll_clk->base))\n \t\treturn PTR_ERR(pll_clk->base);\n \ndiff --git a/drivers/clk/axs10x/pll_clock.c b/drivers/clk/axs10x/pll_clock.c\nindex aba787b2e771..500345d99adb 100644\n--- a/drivers/clk/axs10x/pll_clock.c\n+++ b/drivers/clk/axs10x/pll_clock.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21ec8679c2cbb874885b11f7bc1c7e4d6e673c1b"}
{"commit_hash": "56a57321395e13172f315036234c28cf95f943d3", "short_hash": "56a57321395e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:24:24+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-16T16:17:52-07:00", "subject": "clk: s3c2410: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["clk/samsung"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 2, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup modernization using devm_platform_ioremap_resource() helper. 1 insertion, 3 deletions. Low risk, well-reviewed by maintainer Stephen Boyd. Cross-org contribution from Huawei to Samsung clk subsystem.", "code_snippet": "@@ -238,7 +238,6 @@ static SIMPLE_DEV_PM_OPS(s3c24xx_dclk_pm_ops,\n static int s3c24xx_dclk_probe(struct platform_device *pdev)\n {\n \tstruct s3c24xx_dclk *s3c24xx_dclk;\n-\tstruct resource *mem;\n \tstruct s3c24xx_dclk_drv_data *dclk_variant;\n \tstruct clk_hw **clk_table;\n \tint ret, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/56a57321395e13172f315036234c28cf95f943d3"}
{"commit_hash": "75f7293ac88800abbae6c20c78d0046546630629", "short_hash": "75f7293ac888", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T14:05:16Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-10-16T19:26:40+02:00", "subject": "Bluetooth: remove set but not used variable 'smp'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "28a220aac596", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/bluetooth"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in Bluetooth SMP code. Fixes compiler warnings from a previous commit. Well-reviewed with maintainer sign-off. Cross-org contribution (Huawei to maintainer Marcel Holtmann). No user impact, no testing evidence, trivial code change.", "code_snippet": "@@ -502,15 +502,12 @@ bool smp_irk_matches(struct hci_dev *hdev, const u8 irk[16],\n \t\t     const bdaddr_t *bdaddr)\n {\n \tstruct l2cap_chan *chan = hdev->smp_data;\n-\tstruct smp_dev *smp;\n \tu8 hash[3];\n \tint err;\n \n \tif (!chan || !chan->data)\n \t\treturn false;\n \n-\tsmp = chan->data;\n-\n \tBT_DBG(\"RPA %pMR IRK %*phN\", bdaddr, 16, irk);\n \n \terr = smp_ah(irk, &bdaddr->b[3], hash);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/75f7293ac88800abbae6c20c78d0046546630629"}
{"commit_hash": "a8c41a68076e88d24fd7c0ac39de93654a298594", "short_hash": "a8c41a68076e", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-17T18:34:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-17T14:25:13-04:00", "subject": "pktgen: remove unnecessary assignment in pktgen_xmit()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal in network subsystem (pktgen). Single line deletion removing unused assignment after goto. Maintainer endorsement via Davem's sign-off. Well-explained commit message. Low user impact as it's a test tool cleanup.", "code_snippet": "@@ -3404,7 +3404,6 @@ static void pktgen_xmit(struct pktgen_dev *pkt_dev)\n \tHARD_TX_LOCK(odev, txq, smp_processor_id());\n \n \tif (unlikely(netif_xmit_frozen_or_drv_stopped(txq))) {\n-\t\tret = NETDEV_TX_BUSY;\n \t\tpkt_dev->last_ok = 0;\n \t\tgoto unlock;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a8c41a68076e88d24fd7c0ac39de93654a298594"}
{"commit_hash": "ff1ae8f51c6f084dc11dcd6fba08705c2fe0bc67", "short_hash": "ff1ae8f51c6f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T10:40:54+08:00", "committer_name": "Gerd Hoffmann", "committer_email": "kraxel@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-17T14:31:50+02:00", "subject": "drm/qxl: Fix randbuild error", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "78d54f1f6a33", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/qxl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Gerd Hoffmann <kraxel@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 10, "score_quality": 12, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Build fix for undefined reference error in QXL DRM driver. Single-line Kconfig change adding DRM_TTM_HELPER dependency. Includes fixes tag linking to original commit. Cross-org contribution from Huawei to Red Hat-maintained subsystem. Clear commit message with build error details and proper Signed-off-by chain.", "code_snippet": "@@ -4,6 +4,7 @@ config DRM_QXL\n \tdepends on DRM && PCI && MMU\n \tselect DRM_KMS_HELPER\n \tselect DRM_TTM\n+\tselect DRM_TTM_HELPER\n \tselect CRC32\n \thelp\n \t  QXL virtual GPU for Spice virtualization desktop integration.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff1ae8f51c6f084dc11dcd6fba08705c2fe0bc67"}
{"commit_hash": "ce753e66dcc37e19572a87f70585ec6537dede81", "short_hash": "ce753e66dcc3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T19:47:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-17T15:23:03-04:00", "subject": "net/rds: Remove unnecessary null check", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/rds"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of redundant null check before dma_pool_destroy (Coccinelle-detected cleanup). Small change (1 insertion, 2 deletions) in net/rds subsystem. Cross-org contribution from Huawei to networking maintainer David S. Miller. Signed-off-by chain present. No user impact or security relevance.", "code_snippet": "@@ -108,8 +108,7 @@ static void rds_ib_dev_free(struct work_struct *work)\n \t\trds_ib_destroy_mr_pool(rds_ibdev->mr_1m_pool);\n \tif (rds_ibdev->pd)\n \t\tib_dealloc_pd(rds_ibdev->pd);\n-\tif (rds_ibdev->rid_hdrs_pool)\n-\t\tdma_pool_destroy(rds_ibdev->rid_hdrs_pool);\n+\tdma_pool_destroy(rds_ibdev->rid_hdrs_pool);\n \n \tlist_for_each_entry_safe(i_ipaddr, i_next, &rds_ibdev->ipaddr_list, list) {\n \t\tlist_del(&i_ipaddr->list);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ce753e66dcc37e19572a87f70585ec6537dede81"}
{"commit_hash": "8b07a65ad30e5612d9590fb50468ff4fa314cfc7", "short_hash": "8b07a65ad30e", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-17T12:12:35+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-10-17T15:49:15-06:00", "subject": "io_uring: fix logic error in io_timeout", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "5da0fb1ab34c", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 11, "score_impact": 19, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical logic error fix in io_uring timeout handling. Wrong variable was being incremented (tmp_nxt instead of tmp), causing incorrect overflow calculation. Fix is minimal but addresses a serious bug in async I/O timeout logic. Maintainer (Axboe) signed off, indicating review quality. Cross-org contribution from Huawei.", "code_snippet": "@@ -1949,7 +1949,7 @@ static int io_timeout(struct io_kiocb *req, const struct io_uring_sqe *sqe)\n \t\t * once there is some timeout req still be valid.\n \t\t */\n \t\tif (ctx->cached_sq_head < nxt_sq_head)\n-\t\t\ttmp_nxt += UINT_MAX;\n+\t\t\ttmp += UINT_MAX;\n \n \t\tif (tmp >= tmp_nxt)\n \t\t\tbreak;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8b07a65ad30e5612d9590fb50468ff4fa314cfc7"}
{"commit_hash": "dd80ad9ba5fbfc672f45aea71c26b04c7b658e7a", "short_hash": "dd80ad9ba5fb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T19:15:41+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-17T16:30:34-04:00", "subject": "drm/amd/display: Make dc_link_detect_helper static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd/display", "subsystems_touched": ["drm/amd/display"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to dc_link_detect_helper(). 1-line functional change (2 insertions, 1 deletion) in AMD display driver. Cross-org contribution from Huawei to AMD maintainer. ProperReviewed by AMD maintainer. Low technical impact (driver-specific internal function), no user-visible impact.", "code_snippet": "@@ -743,7 +743,8 @@ static bool wait_for_alt_mode(struct dc_link *link)\n  * This does not create remote sinks but will trigger DM\n  * to start MST detection if a branch is detected.\n  */\n-bool dc_link_detect_helper(struct dc_link *link, enum dc_detect_reason reason)\n+static bool dc_link_detect_helper(struct dc_link *link,\n+\t\t\t\t  enum dc_detect_reason reason)\n {\n \tstruct dc_sink_init_data sink_init_data = { 0 };\n \tstruct display_sink_capability sink_caps = { 0 };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd80ad9ba5fbfc672f45aea71c26b04c7b658e7a"}
{"commit_hash": "0cc76d2b14ffcd00a99d6ec3b9ebad39c659701a", "short_hash": "0cc76d2b14ff", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-17T05:14:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-17T17:00:30-07:00", "subject": "net: Update address for MediaTek ethernet driver in MAINTAINERS", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Mark Lee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 13, "score_impact": 8, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINTAINERS file update replacing maintainer contact. Minimal code change (1 line). Net subsystem is tier-1 critical. Multiple maintainers signed off including net subsystem maintainer David S. Miller. Clean commit message explaining rationale. Pure administrative change with no functional impact.", "code_snippet": "@@ -10258,7 +10258,7 @@ MEDIATEK ETHERNET DRIVER\n M:\tFelix Fietkau <nbd@openwrt.org>\n M:\tJohn Crispin <john@phrozen.org>\n M:\tSean Wang <sean.wang@mediatek.com>\n-M:\tNelson Chang <nelson.chang@mediatek.com>\n+M:\tMark Lee <Mark-MC.Lee@mediatek.com>\n L:\tnetdev@vger.kernel.org\n S:\tMaintained\n F:\tdrivers/net/ethernet/mediatek/\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0cc76d2b14ffcd00a99d6ec3b9ebad39c659701a"}
{"commit_hash": "d7e78706e43107fa269fe34b1a69e653f5ec9f2c", "short_hash": "d7e78706e431", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T16:15:57+08:00", "committer_name": "Peter Zijlstra", "committer_email": "peterz@infradead.org", "committer_company": "Infradead", "commit_date": "2019-10-17T21:31:55+02:00", "subject": "perf/ring_buffer: Matching the memory allocate and free, in rb_alloc()", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/events", "subsystems_touched": ["kernel/events/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 10, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 15, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix: memory allocation/free mismatch in perf ring buffer error handling. Using free_page() instead of perf_mmap_free_page() could cause page mapping corruption. Code is small but touches critical perf subsystem. Maintainer Peter Zijlstra signed off indicating proper review. Cross-org contribution from Huawei to Intel-maintained code.", "code_snippet": "@@ -754,6 +754,14 @@ static void *perf_mmap_alloc_page(int cpu)\n \treturn page_address(page);\n }\n \n+static void perf_mmap_free_page(void *addr)\n+{\n+\tstruct page *page = virt_to_page(addr);\n+\n+\tpage->mapping = NULL;\n+\t__free_page(page);\n+}\n+\n struct ring_buffer *rb_alloc(int nr_pages, long watermark, int cpu, int flags)\n {\n \tstruct ring_buffer *rb;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d7e78706e43107fa269fe34b1a69e653f5ec9f2c"}
{"commit_hash": "8a9f91c51ea72b126864e0db616b1bac12261200", "short_hash": "8a9f91c51ea7", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T16:14:59+08:00", "committer_name": "Peter Zijlstra", "committer_email": "peterz@infradead.org", "committer_company": "Infradead", "commit_date": "2019-10-17T21:31:55+02:00", "subject": "perf/ring_buffer: Modify the parameter type of perf_mmap_free_page()", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/events", "subsystems_touched": ["kernel/events/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 5, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit changing parameter type from unsigned long to void* to eliminate unnecessary type conversions. Small scope (4 insertions, 4 deletions) in perf ring buffer subsystem. Strong review chain with maintainer Peter Zijlstra's signed-off-by. Cross-org contribution from Huawei. No stable backport or user-visible impact.", "code_snippet": "@@ -799,9 +799,9 @@ struct ring_buffer *rb_alloc(int nr_pages, long watermark, int cpu, int flags)\n \treturn NULL;\n }\n \n-static void perf_mmap_free_page(unsigned long addr)\n+static void perf_mmap_free_page(void *addr)\n {\n-\tstruct page *page = virt_to_page((void *)addr);\n+\tstruct page *page = virt_to_page(addr);\n \n \tpage->mapping = NULL;\n \t__free_page(page);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a9f91c51ea72b126864e0db616b1bac12261200"}
{"commit_hash": "77c301287ebae86cc71d03eb3806f271cb14da79", "short_hash": "77c301287eba", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T21:05:56+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-17T21:57:09-04:00", "subject": "scsi: core: try to get module before removing device", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 10, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 63, "score_technical": 10, "score_impact": 25, "score_quality": 20, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 5, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Critical BUG-CRASH fix for kernel panic (page fault/OOPS) during SCSI device deletion via sysfs while module is being unloaded. Clean 10-line addition using scsi_device_get() to prevent module removal during device deletion. Strong evidence: includes full kernel crash dump, references blktests block/001 test case, marked Cc: stable@vger.kernel.org, reviewed by Bart Van Assche, signed by SCSI maintainer Martin K. Petersen. Code volume small but targets critical subsystem (SCSI storage) with clear user-facing crash scenario.", "code_snippet": "@@ -730,6 +730,14 @@ sdev_store_delete(struct device *dev, struct device_attribute *attr,\n \t\t  const char *buf, size_t count)\n {\n \tstruct kernfs_node *kn;\n+\tstruct scsi_device *sdev = to_scsi_device(dev);\n+\n+\t/*\n+\t * We need to try to get module, avoiding the module been removed\n+\t * during delete.\n+\t */\n+\tif (scsi_device_get(sdev))\n+\t\treturn -ENODEV;\n \n \tkn = sysfs_break_active_protection(&dev->kobj, &attr->attr);\n \tWARN_ON_ONCE(!kn);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77c301287ebae86cc71d03eb3806f271cb14da79"}
{"commit_hash": "821093e1fd3c5e0b40601ffbd27f2d7692a7a1e6", "short_hash": "821093e1fd3c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T20:07:01+08:00", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-10-18T07:56:51-07:00", "subject": "ARM: OMAP2+: Make some functions static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm", "subsystems_touched": ["arch/arm/mach-omap2/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 16, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix making 8 helper functions static in OMAP2+ PMIC driver. No functional changes, code cleanup only. Cross-org contribution from Huawei author with maintainer sign-off. Good commit message with clear warning context.", "code_snippet": "@@ -26,7 +26,7 @@\n  * Returns the microvolts DC that the CPCAP PMIC should generate when\n  * programmed with @vsel.\n  */\n-unsigned long omap_cpcap_vsel_to_uv(unsigned char vsel)\n+static unsigned long omap_cpcap_vsel_to_uv(unsigned char vsel)\n {\n \tif (vsel > 0x44)\n \t\tvsel = 0x44;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/821093e1fd3c5e0b40601ffbd27f2d7692a7a1e6"}
{"commit_hash": "a7590d68e9ab56c595317457c81e59e74f6671c1", "short_hash": "a7590d68e9ab", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:18+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T10:26:32+02:00", "subject": "alpha: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/alpha", "subsystems_touched": ["arch/alpha/kernel/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 3, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API modernization replacing deprecated pr_warning with pr_warn in alpha perf_event driver. Low code volume (4 lines changed), non-critical legacy subsystem. Cleanup/consistency category has minimal impact. Good documentation with reference to related commit. Has Reviewed-by and proper maintainer sign-off. Cross-org contribution (Huawei author, SUSE committer).", "code_snippet": "@@ -824,7 +824,7 @@ static void alpha_perf_event_irq_handler(unsigned long la_ptr,\n \tif (unlikely(la_ptr >= alpha_pmu->num_pmcs)) {\n \t\t/* This should never occur! */\n \t\tirq_err_count++;\n-\t\tpr_warning(\"PMI: silly index %ld\\n\", la_ptr);\n+\t\tpr_warn(\"PMI: silly index %ld\\n\", la_ptr);\n \t\twrperfmon(PERFMON_CMD_ENABLE, cpuc->idx_mask);\n \t\treturn;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7590d68e9ab56c595317457c81e59e74f6671c1"}
{"commit_hash": "a74ec64af20a2fc043609339b7a0c8aa2a961c8c", "short_hash": "a74ec64af20a", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:19+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T10:28:33+02:00", "subject": "arm64: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/kernel/"], "subsystem_tier": 9, "files_changed": 2, "insertions": 9, "deletions": 10, "hunks": 14, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 37, "score_technical": 11, "score_impact": 6, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit replacing deprecated pr_warning() with pr_warn() for consistency. Affects 2 files in arch/arm64 subsystem (tier 9). Has strong review chain (Acked-by, Reviewed-by) and cross-org contribution (Huawei author, SUSE committer). Low functional impact as it's pure API consolidation.", "code_snippet": "@@ -145,7 +145,7 @@ static enum dbg_active_el debug_exception_level(int privilege)\n \tcase AARCH64_BREAKPOINT_EL1:\n \t\treturn DBG_ACTIVE_EL1;\n \tdefault:\n-\t\tpr_warning(\"invalid breakpoint privilege level %d\\n\", privilege);\n+\t\tpr_warn(\"invalid breakpoint privilege level %d\\n\", privilege);\n \t\treturn -EINVAL;\n \t}\n }\ndiff --git a/arch/arm64/kernel/smp.c b/arch/arm64/kernel/smp.c\nindex 9286ee6749e8..09cf729edb20 100644\n--- a/arch/arm64/kernel/smp.c\n+++ b/arch/arm64/kernel/smp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a74ec64af20a2fc043609339b7a0c8aa2a961c8c"}
{"commit_hash": "94348b81dd441da398dd10bafce3439b600a16ce", "short_hash": "94348b81dd44", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:20+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T10:47:11+02:00", "subject": "ia64: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch", "subsystems_touched": ["arch/ia64/kernel/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API modernization commit replacing pr_warning with pr_warn for consistency. Only 1 line changed in ia64 architecture setup code. Cross-org contribution from Huawei to SUSE-maintained tree with Reviewed-by tag. Low technical impact as it's purely cosmetic logging API unification following f2c2cbcc35d4 pattern.", "code_snippet": "@@ -286,7 +286,7 @@ static void __init setup_crashkernel(unsigned long total, int *n)\n \t\t}\n \n \t\tif (!check_crashkernel_memory(base, size)) {\n-\t\t\tpr_warning(\"crashkernel: There would be kdump memory \"\n+\t\t\tpr_warn(\"crashkernel: There would be kdump memory \"\n \t\t\t\t\"at %ld GB but this is unusable because it \"\n \t\t\t\t\"must\\nbe below 4 GB. Change the memory \"\n \t\t\t\t\"configuration of the machine.\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/94348b81dd441da398dd10bafce3439b600a16ce"}
{"commit_hash": "04ce8d3f40cd2dfe48d04d94b79e0c0be60b1339", "short_hash": "04ce8d3f40cd", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:21+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T10:48:36+02:00", "subject": "riscv: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "riscv", "subsystems_touched": ["arch/riscv/kernel/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Palmer Dabbelt <palmer@sifive.com> (Sifive)"], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 2, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API consistency change replacing pr_warning with pr_warn following kernel-wide deprecation. 4-line change (2 insertions, 2 deletions) in single file. Strong review chain with Acked-by from subsystem maintainer Palmer Dabbelt and Reviewed-by from Sergey Senozhatsky. Cross-org contribution (Huawei author, SUSE committer). Low technical impact as it's pure modernization with no functional change.", "code_snippet": "@@ -315,8 +315,8 @@ int apply_relocate_add(Elf_Shdr *sechdrs, const char *strtab,\n \t\t\t/* Ignore unresolved weak symbol */\n \t\t\tif (ELF_ST_BIND(sym->st_info) == STB_WEAK)\n \t\t\t\tcontinue;\n-\t\t\tpr_warning(\"%s: Unknown symbol %s\\n\",\n-\t\t\t\t   me->name, strtab + sym->st_name);\n+\t\t\tpr_warn(\"%s: Unknown symbol %s\\n\",\n+\t\t\t\tme->name, strtab + sym->st_name);\n \t\t\treturn -ENOENT;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04ce8d3f40cd2dfe48d04d94b79e0c0be60b1339"}
{"commit_hash": "6d80f20c5328ad24dde0fddb980f60734a17b911", "short_hash": "6d80f20c5328", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:22+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T13:52:05+02:00", "subject": "sh: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sh", "subsystems_touched": ["arch/sh/"], "subsystem_tier": 2, "files_changed": 5, "insertions": 6, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 3, "score_impact": 3, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing pr_warning with pr_warn for API consistency across arch/sh. Low code volume (6 insertions, 7 deletions across 5 files). Has Reviewed-by and proper commit message with Link tag. Cross-org contribution (Huawei author, SUSE maintainer). Low impact as it's pure API renaming with no functional change.", "code_snippet": "@@ -37,7 +37,7 @@ static int __init nmi_mode_setup(char *str)\n \t\tnmi_mode = NMI_MODE_ANY;\n \telse {\n \t\tnmi_mode = NMI_MODE_UNKNOWN;\n-\t\tpr_warning(\"Unknown NMI mode %s\\n\", str);\n+\t\tpr_warn(\"Unknown NMI mode %s\\n\", str);\n \t}\n \n \tprintk(\"Set NMI mode to %d\\n\", nmi_mode);\ndiff --git a/arch/sh/drivers/pci/fixups-sdk7786.c b/arch/sh/drivers/pci/fixups-sdk7786.c\nindex 8cbfa5310a4b..6972af7b4e93 100644\n--- a/arch/sh/drivers/pci/fixups-sdk7786.c\n+++ b/arch/sh/drivers/pci/fixups-sdk7786.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d80f20c5328ad24dde0fddb980f60734a17b911"}
{"commit_hash": "eb1414ec89d31873c912f4073bd22d8b5505797a", "short_hash": "eb1414ec89d3", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:23+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T14:59:46+02:00", "subject": "sparc: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch", "subsystems_touched": ["arch/sparc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["David S. Miller <davem@davemloft.net> (Davemloft)"], "reported_by": []}, "score_total": 28, "score_technical": 5, "score_impact": 4, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a simple API consolidation commit replacing pr_warning with pr_warn for consistency across the kernel codebase. Minimal code change (3 insertions, 3 deletions) in a single file. Part of a wider kernel cleanup effort (references similar powerpc commit). Strong review chain with Reviewed-by and Acked-by tags from maintainers. Cross-org contribution from Huawei engineer accepted by SUSE and Red Hat maintainers. Low impact as it's purely cosmetic with no functional changes.", "code_snippet": "@@ -1673,9 +1673,9 @@ void __init setup_per_cpu_areas(void)\n \t\t\t\t\t    pcpu_alloc_bootmem,\n \t\t\t\t\t    pcpu_free_bootmem);\n \t\tif (rc)\n-\t\t\tpr_warning(\"PERCPU: %s allocator failed (%d), \"\n-\t\t\t\t   \"falling back to page size\\n\",\n-\t\t\t\t   pcpu_fc_names[pcpu_chosen_fc], rc);\n+\t\t\tpr_warn(\"PERCPU: %s allocator failed (%d), \"\n+\t\t\t\t\"falling back to page size\\n\",\n+\t\t\t\tpcpu_fc_names[pcpu_chosen_fc], rc);\n \t}\n \tif (rc < 0)\n \t\trc = pcpu_page_first_chunk(PERCPU_MODULE_RESERVE,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb1414ec89d31873c912f4073bd22d8b5505797a"}
{"commit_hash": "8d3bcc441e6cddbb5fe49b59f7766f01f1e2493b", "short_hash": "8d3bcc441e6c", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:24+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:18+02:00", "subject": "x86: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/x86", "subsystems_touched": ["arch/x86/kernel/", "arch/x86/mm/", "arch/x86/oprofile/", "arch/x86/platform/", "arch/x86/xen/"], "subsystem_tier": 10, "files_changed": 14, "insertions": 57, "deletions": 65, "hunks": 70, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 13, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple mechanical cleanup replacing pr_warning with pr_warn for consistency. Cross-org contribution from Huawei to x86 subsystem, with proper review chain (Reviewed-by, Signed-off-by). Good commit message explaining rationale. Low technical impact but high quality collaboration indicators.", "code_snippet": "@@ -2384,13 +2381,13 @@ int generic_processor_info(int apicid, int version)\n \t * Validate version\n \t */\n \tif (version == 0x0) {\n-\t\tpr_warning(\"BIOS bug: APIC version is 0 for CPU %d/0x%x, fixing up to 0x10\\n\",\n-\t\t\t   cpu, apicid);\n+\t\tpr_warn(\"BIOS bug: APIC version is 0 for CPU %d/0x%x, fixing up to 0x10\\n\",\n+\t\t\tcpu, apicid);\n \t\tversion = 0x10;\n \t}\n \n \tif (version != boot_cpu_apic_version) {\n-\t\tpr_warning(\"BIOS bug: APIC version mismatch, boot CPU: %x, CPU %d: version %x\\n\",\n+\t\tpr_warn(\"BIOS bug: APIC version mismatch, boot CPU: %x, CPU %d: version %x\\n\",\n \t\t\tboot_cpu_apic_version, cpu, version);\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d3bcc441e6cddbb5fe49b59f7766f01f1e2493b"}
{"commit_hash": "afa69539ffc0a9e6e632b5042ddffcfaf580b4f3", "short_hash": "afa69539ffc0", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:26+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:19+02:00", "subject": "drbd: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/block/drbd/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing pr_warning with pr_warn for consistency. Low code volume (6 insertions, 7 deletions). DRBD is a mid-tier storage subsystem. Has Reviewed-by tag. Part of broader kernel-wide cleanup effort.", "code_snippet": "@@ -268,19 +268,18 @@ static int drbd_adm_prepare(struct drbd_config_context *adm_ctx,\n \t/* some more paranoia, if the request was over-determined */\n \tif (adm_ctx->device && adm_ctx->resource &&\n \t    adm_ctx->device->resource != adm_ctx->resource) {\n-\t\tpr_warning(\"request: minor=%u, resource=%s; but that minor belongs to resource %s\\n\",\n-\t\t\t\tadm_ctx->minor, adm_ctx->resource->name,\n-\t\t\t\tadm_ctx->device->resource->name);\n+\t\tpr_warn(\"request: minor=%u, resource=%s; but that minor belongs to resource %s\\n\",\n+\t\t\tadm_ctx->minor, adm_ctx->resource->name,\n+\t\t\tadm_ctx->device->resource->name);\n \t\tdrbd_msg_put_info(adm_ctx->reply_skb, \"minor exists in different resource\");\n \t\treturn ERR_INVALID_REQUEST;\n \t}\n \tif (adm_ctx->device &&\n \t    adm_ctx->volume != VOLUME_UNSPECIFIED &&\n \t    adm_ctx->volume != adm_ctx->device->vnr) {\n-\t\tpr_warning(\"request: minor=%u, volume=%u; but that minor is volume %u in %s\\n\",\n-\t\t\t\tadm_ctx->minor, adm_ctx->volume,\n-\t\t\t\tadm_ctx->device->vnr,\n-\t\t\t\tadm_ctx->device->resource->name);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/afa69539ffc0a9e6e632b5042ddffcfaf580b4f3"}
{"commit_hash": "f8b489980d9427244555dadd9186a76944c1b7d6", "short_hash": "f8b489980d94", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:27+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:19+02:00", "subject": "gdrom: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/cdrom"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 5, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial API consistency change replacing pr_warning with pr_warn. Very low code volume (2 insertions, 2 deletions). Low subsystem tier (CDROM driver is non-critical). Low impact as it only affects logging macros. Good review chain with Reviewed-by and proper commit message citing the original deprecation commit. Cross-org contribution from Huawei to SUSE maintainer tree.", "code_snippet": "@@ -742,7 +742,7 @@ static int probe_gdrom(struct platform_device *devptr)\n \tint err;\n \t/* Start the device */\n \tif (gdrom_execute_diagnostic() != 1) {\n-\t\tpr_warning(\"ATA Probe for GDROM failed\\n\");\n+\t\tpr_warn(\"ATA Probe for GDROM failed\\n\");\n \t\treturn -ENODEV;\n \t}\n \t/* Print out firmware ID */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f8b489980d9427244555dadd9186a76944c1b7d6"}
{"commit_hash": "933ca4e323de7775a436ae3f4a6b5a1414a4e98c", "short_hash": "933ca4e323de", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:25+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:19+02:00", "subject": "acpi: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/acpi", "subsystems_touched": ["drivers/acpi/apei/", "drivers/acpi/battery.c", "drivers/acpi/resource.c"], "subsystem_tier": 7, "files_changed": 7, "insertions": 48, "deletions": 50, "hunks": 28, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 5, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This is a cleanup commit replacing pr_warning() with pr_warn() for consistency across the kernel logging API. The change affects 7 files in drivers/acpi, touching APEI error handling code. Reviewed-by tag present, signed by maintainer Petr Mladek. Cross-org contribution (Huawei author, Suse maintainer). Low technical complexity (simple string replacement) but good commit message quality with Link and proper Cc tags.", "code_snippet": "@@ -170,9 +170,9 @@ int __apei_exec_run(struct apei_exec_context *ctx, u8 action,\n \t\tif (ip == ctx->ip) {\n \t\t\tif (entry->instruction >= ctx->instructions ||\n \t\t\t    !ctx->ins_table[entry->instruction].run) {\n-\t\t\t\tpr_warning(FW_WARN APEI_PFX\n-\t\t\t\"Invalid action table, unknown instruction type: %d\\n\",\n-\t\t\t\t\t   entry->instruction);\n+\t\t\t\tpr_warn(FW_WARN APEI_PFX\n+\t\t\t\t\t\"Invalid action table, unknown instruction type: %d\\n\",\n+\t\t\t\t\tentry->instruction);\n \t\t\t\treturn -EINVAL;\n \t\t\t}\n \t\t\trun = ctx->ins_table[entry->instruction].run;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/933ca4e323de7775a436ae3f4a6b5a1414a4e98c"}
{"commit_hash": "cacc594b3f18325e17810a2e14c70f50a612def3", "short_hash": "cacc594b3f18", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:29+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:20+02:00", "subject": "crypto: n2: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial API consolidation commit replacing pr_warning() with pr_warn() for consistency. Minimal code changes (6 insertions, 6 deletions) in a single crypto driver file. Low technical impact (code_volume=1) in non-critical subsystem (tier 4). Base score of 2 for maintenance cleanup. Good commit message quality (4) with proper context referencing prior similar work. Reviewed-by tag present (review_chain=4). Cross-org collaboration between Huawei author and SUSE maintainer (cross_org=4, maintainer_endorsement=3). No testing evidence, but atomic change with clear scope (atomicity=3). Very low user impact (1) as this is internal logging API change only.", "code_snippet": "@@ -381,8 +381,8 @@ static int n2_hash_cra_init(struct crypto_tfm *tfm)\n \tfallback_tfm = crypto_alloc_ahash(fallback_driver_name, 0,\n \t\t\t\t\t  CRYPTO_ALG_NEED_FALLBACK);\n \tif (IS_ERR(fallback_tfm)) {\n-\t\tpr_warning(\"Fallback driver '%s' could not be loaded!\\n\",\n-\t\t\t   fallback_driver_name);\n+\t\tpr_warn(\"Fallback driver '%s' could not be loaded!\\n\",\n+\t\t\tfallback_driver_name);\n \t\terr = PTR_ERR(fallback_tfm);\n \t\tgoto out;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cacc594b3f18325e17810a2e14c70f50a612def3"}
{"commit_hash": "43fc6b252a1d10be7acbc3d49b97a28765c17ebd", "short_hash": "43fc6b252a1d", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:28+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:20+02:00", "subject": "clocksource: samsung_pwm_timer: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/clocksource"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Daniel Lezcano <daniel.lezcano@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing pr_warning with pr_warn for consistency. Low impact (3 lines changed, 1 insertion/2 deletions). Cross-org contribution (Huawei author, SUSE committer) with strong review chain (Acked-by, Reviewed-by). Clocksource subsystem is moderately important (tier 6).", "code_snippet": "@@ -430,8 +430,7 @@ static int __init samsung_pwm_alloc(struct device_node *np,\n \n \tof_property_for_each_u32(np, \"samsung,pwm-outputs\", prop, cur, val) {\n \t\tif (val >= SAMSUNG_PWM_NUM) {\n-\t\t\tpr_warning(\"%s: invalid channel index in samsung,pwm-outputs property\\n\",\n-\t\t\t\t\t\t\t\t__func__);\n+\t\t\tpr_warn(\"%s: invalid channel index in samsung,pwm-outputs property\\n\", __func__);\n \t\t\tcontinue;\n \t\t}\n \t\tpwm.variant.output_mask |= 1 << val;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/43fc6b252a1d10be7acbc3d49b97a28765c17ebd"}
{"commit_hash": "257daba4eb7f2b78c5b3d77443985c6c53560c73", "short_hash": "257daba4eb7f", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:31+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:21+02:00", "subject": "idsn: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/isdn"], "subsystem_tier": 6, "files_changed": 9, "insertions": 35, "deletions": 37, "hunks": 38, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 2, "score_quality": 13, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Simple API cleanup replacing pr_warning with pr_warn across ISDN drivers for consistency. 9 files changed with 35 insertions/37 deletions. Cross-org contribution (Huawei author, SUSE maintainer) with Reviewed-by and proper commit message referencing related powerpc work.", "code_snippet": "@@ -575,8 +575,8 @@ HDLC_irq(struct bchannel *bch, u32 stat)\n \t\t * restart transmitting the whole frame on HDLC\n \t\t * in transparent mode we send the next data\n \t\t */\n-\t\tpr_warning(\"%s: ch%d stat %x XDU %s\\n\", fc->name, bch->nr,\n-\t\t\t   stat, bch->tx_skb ? \"tx_skb\" : \"no tx_skb\");\n+\t\tpr_warn(\"%s: ch%d stat %x XDU %s\\n\", fc->name, bch->nr,\n+\t\t\tstat, bch->tx_skb ? \"tx_skb\" : \"no tx_skb\");\n \t\tif (bch->tx_skb && bch->tx_skb->len) {\n \t\t\tif (!test_bit(FLG_TRANSPARENT, &bch->Flags))\n \t\t\t\tbch->tx_idx = 0;\ndiff --git a/drivers/isdn/hardware/mISDN/hfcmulti.c b/drivers/isdn/hardware/mISDN/hfcmulti.c\nindex 86669ec8b977..7013a3f08429 100644\n--- a/drivers/isdn/hardware/mISDN/hfcmulti.c\n+++ b/drivers/isdn/hardware/mISDN/hfcmulti.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/257daba4eb7f2b78c5b3d77443985c6c53560c73"}
{"commit_hash": "a7f4a27f2f8858ecb676fa257f190bf488447018", "short_hash": "a7f4a27f2f88", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:30+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:21+02:00", "subject": "ide: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/ide", "subsystems_touched": ["drivers/ide/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple API consolidation replacing pr_warning with pr_warn for consistency. Low code volume (4 insertions, 4 deletions) in legacy IDE subsystem. Has Reviewed-by and proper cross-org collaboration (Huawei author, SUSE maintainer). Well-documented with Link tag referencing prior similar work.", "code_snippet": "@@ -46,7 +46,7 @@ static void tx4938ide_tune_ebusc(unsigned int ebus_ch,\n \twhile ((shwt * 4 + wt + (wt ? 2 : 3)) * cycle < t->cycle)\n \t\tshwt++;\n \tif (shwt > 7) {\n-\t\tpr_warning(\"tx4938ide: SHWT violation (%d)\\n\", shwt);\n+\t\tpr_warn(\"tx4938ide: SHWT violation (%d)\\n\", shwt);\n \t\tshwt = 7;\n \t}\n \tpr_debug(\"tx4938ide: ebus %d, bus cycle %dns, WT %d, SHWT %d\\n\",\ndiff --git a/drivers/ide/tx4939ide.c b/drivers/ide/tx4939ide.c\nindex 88d132edc4e3..d5e871fe840d 100644\n--- a/drivers/ide/tx4939ide.c\n+++ b/drivers/ide/tx4939ide.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7f4a27f2f8858ecb676fa257f190bf488447018"}
{"commit_hash": "e2f04da75c0f96f7198cbda73ec53c9fae818c0e", "short_hash": "e2f04da75c0f", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:33+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:22+02:00", "subject": "of: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/of", "subsystems_touched": ["drivers/of/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 10, "deletions": 10, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple API modernization replacing pr_warning with pr_warn for consistency. Low code volume (20 lines changed), single file in drivers/of subsystem (tier 6). Cross-org collaboration between Huawei and SUSE with proper review chain (Reviewed-by, Signed-off-by). No user impact, no stable CC, minimal technical complexity.", "code_snippet": "@@ -483,8 +483,8 @@ void *__unflatten_device_tree(const void *blob,\n \t/* Second pass, do actual unflattening */\n \tunflatten_dt_nodes(blob, mem, dad, mynodes);\n \tif (be32_to_cpup(mem + size) != 0xdeadbeef)\n-\t\tpr_warning(\"End of tree marker overwritten: %08x\\n\",\n-\t\t\t   be32_to_cpup(mem + size));\n+\t\tpr_warn(\"End of tree marker overwritten: %08x\\n\",\n+\t\t\tbe32_to_cpup(mem + size));\n \n \tif (detached && mynodes) {\n \t\tof_node_set_flag(*mynodes, OF_DETACHED);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e2f04da75c0f96f7198cbda73ec53c9fae818c0e"}
{"commit_hash": "2ee9a0db924ed3d586d2ae754a154bd7748b6a99", "short_hash": "2ee9a0db924e", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:32+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:22+02:00", "subject": "macintosh: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/macintosh"], "subsystem_tier": 4, "files_changed": 4, "insertions": 17, "deletions": 19, "hunks": 16, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API consistency change replacing pr_warning with pr_warn across 4 macintosh driver files. Part of kernel-wide cleanup effort. Has reviewer sign-off and maintainer ACK.", "code_snippet": "@@ -468,9 +468,7 @@ static void wf_fcu_lookup_fans(struct wf_fcu_priv *pv)\n \t\t\telse\n \t\t\t\tid = ((*reg) - 0x30) / 2;\n \t\t\tif (id > 7) {\n-\t\t\t\tpr_warning(\"wf_fcu: Can't parse \"\n-\t\t\t\t       \"fan ID in device-tree for %pOF\\n\",\n-\t\t\t\t\t   np);\n+\t\t\t\tpr_warn(\"wf_fcu: Can't parse fan ID in device-tree for %pOF\\n\", np);\n \t\t\t\tbreak;\n \t\t\t}\n \t\t\twf_fcu_add_fan(pv, name, type, id);\ndiff --git a/drivers/macintosh/windfarm_lm87_sensor.c b/drivers/macintosh/windfarm_lm87_sensor.c\nindex e44525b19071..b03a33b803b7 100644\n--- a/drivers/macintosh/windfarm_lm87_sensor.c\n+++ b/drivers/macintosh/windfarm_lm87_sensor.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ee9a0db924ed3d586d2ae754a154bd7748b6a99"}
{"commit_hash": "19e2b4b370e503fb4e80c68ec855d22222a8c8ce", "short_hash": "19e2b4b370e5", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:34+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:23+02:00", "subject": "oprofile: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/oprofile/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Robert Richter <rric@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 3, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit replacing pr_warning with pr_warn for consistency. Low code volume (8 lines changed), non-critical subsystem (oprofile driver), clear commit message with reference to original style change commit. Good review chain with Acked-by and Reviewed-by tags. Cross-org contribution (Huawei author, SUSE committer). Minimal user impact or novelty.", "code_snippet": "@@ -46,8 +46,8 @@ static void op_overflow_handler(struct perf_event *event,\n \tif (id != num_counters)\n \t\toprofile_add_sample(regs, id);\n \telse\n-\t\tpr_warning(\"oprofile: ignoring spurious overflow \"\n-\t\t\t\t\"on cpu %u\\n\", cpu);\n+\t\tpr_warn(\"oprofile: ignoring spurious overflow on cpu %u\\n\",\n+\t\t\tcpu);\n }\n \n /*", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19e2b4b370e503fb4e80c68ec855d22222a8c8ce"}
{"commit_hash": "86295c70b928f6880416ddfd1c9bd3ee87fd9c72", "short_hash": "86295c70b928", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:35+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:00:48+02:00", "subject": "platform/x86: eeepc-laptop: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/platform/x86", "subsystems_touched": ["drivers/platform/x86/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Andy Shevchenko <andy.shevchenko@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 2, "score_quality": 15, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial API consolidation replacing pr_warning with pr_warn for consistency. Single line change, well-reviewed (Reviewed-by, Acked-by), clear justification referencing prior work. Low impact cleanup.", "code_snippet": "@@ -578,7 +578,7 @@ static void eeepc_rfkill_hotplug(struct eeepc_laptop *eeepc, acpi_handle handle)\n \n \tport = acpi_get_pci_dev(handle);\n \tif (!port) {\n-\t\tpr_warning(\"Unable to find port\\n\");\n+\t\tpr_warn(\"Unable to find port\\n\");\n \t\tgoto out_unlock;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/86295c70b928f6880416ddfd1c9bd3ee87fd9c72"}
{"commit_hash": "ab5561095c8f5f28b91629ab2c30839208afa612", "short_hash": "ab5561095c8f", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:36+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:16+02:00", "subject": "platform/x86: asus-laptop: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "platform", "subsystems_touched": ["platform/x86"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Andy Shevchenko <andy.shevchenko@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 33, "score_technical": 4, "score_impact": 6, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API consolidation replacing pr_warning with pr_warn for consistency. Very low impact but excellent review chain with Reviewed-by and Acked-by tags. Cross-org collaboration between Huawei and Suse developers.", "code_snippet": "@@ -1148,7 +1148,7 @@ static void asus_als_switch(struct asus_laptop *asus, int value)\n \t\tret = write_acpi_int(asus->handle, METHOD_ALS_CONTROL, value);\n \t}\n \tif (ret)\n-\t\tpr_warning(\"Error setting light sensor switch\\n\");\n+\t\tpr_warn(\"Error setting light sensor switch\\n\");\n \n \tasus->light_switch = value;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ab5561095c8f5f28b91629ab2c30839208afa612"}
{"commit_hash": "c67641210217089747c166fce41472121b578bd9", "short_hash": "c67641210217", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:37+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:35+02:00", "subject": "platform/x86: intel_oaktrail: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/platform/x86", "subsystems_touched": ["drivers/platform/x86"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Andy Shevchenko <andy.shevchenko@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 28, "score_technical": 4, "score_impact": 3, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API consolidation replacing pr_warning with pr_warn for consistency. Very low code volume (5 insertions/deletions) in a non-critical platform driver subsystem. Excellent review chain with Reviewed-by and Acked-by tags. Cross-org contribution from Huawei with maintainer endorsement. No functional change, no user impact, no stable tagging.", "code_snippet": "@@ -243,7 +243,7 @@ static int oaktrail_backlight_init(void)\n \n \tif (IS_ERR(bd)) {\n \t\toaktrail_bl_device = NULL;\n-\t\tpr_warning(\"Unable to register backlight device\\n\");\n+\t\tpr_warn(\"Unable to register backlight device\\n\");\n \t\treturn PTR_ERR(bd);\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c67641210217089747c166fce41472121b578bd9"}
{"commit_hash": "a2cc701b09d90371e76b3c2d621b559468a08d81", "short_hash": "a2cc701b09d9", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:38+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:54+02:00", "subject": "scsi: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing pr_warning with pr_warn for API consistency. Part of kernel-wide cleanup effort (f2c2cbcc35d4). Minimal code change (1 line), low subsystem impact (SCSI driver). Good review chain with Reviewed-by tag. Cross-org collaboration (Huawei author, SUSE maintainer).", "code_snippet": "@@ -39,7 +39,7 @@ static irqreturn_t a3000_intr(int irq, void *data)\n \t\tspin_unlock_irqrestore(instance->host_lock, flags);\n \t\treturn IRQ_HANDLED;\n \t}\n-\tpr_warning(\"Non-serviced A3000 SCSI-interrupt? ISTR = %02x\\n\", status);\n+\tpr_warn(\"Non-serviced A3000 SCSI-interrupt? ISTR = %02x\\n\", status);\n \treturn IRQ_NONE;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a2cc701b09d90371e76b3c2d621b559468a08d81"}
{"commit_hash": "947dd3cc7eaed3e22b19cd49684739d1b2c234ad", "short_hash": "947dd3cc7eae", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:39+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:55+02:00", "subject": "sh/intc: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/sh/intc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 4, "score_impact": 4, "score_quality": 12, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial cleanup replacing pr_warning with pr_warn for consistency. SH interrupt controller subsystem (tier 3 - legacy architecture). Minimal code change (2 insertions, 2 deletions). Cross-org collaboration (Huawei author, SUSE committer) with proper review chain. No user impact or stability significance.", "code_snippet": "@@ -100,8 +100,8 @@ static void __init intc_register_irq(struct intc_desc *desc,\n \t\tprimary = 1;\n \n \tif (!data[0] && !data[1])\n-\t\tpr_warning(\"missing unique irq mask for irq %d (vect 0x%04x)\\n\",\n-\t\t\t   irq, irq2evt(irq));\n+\t\tpr_warn(\"missing unique irq mask for irq %d (vect 0x%04x)\\n\",\n+\t\t\tirq, irq2evt(irq));\n \n \tdata[0] = data[0] ? data[0] : intc_get_mask_handle(desc, d, enum_id, 1);\n \tdata[1] = data[1] ? data[1] : intc_get_prio_handle(desc, d, enum_id, 1);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/947dd3cc7eaed3e22b19cd49684739d1b2c234ad"}
{"commit_hash": "a4e530ae7ea47d2c4ce17617f4711d8e5a771a5c", "short_hash": "a4e530ae7ea4", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:40+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:55+02:00", "subject": "fs: afs: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 6, "files_changed": 3, "insertions": 10, "deletions": 11, "hunks": 8, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit replacing pr_warning with pr_warn for consistency across the kernel. Low code volume (10 insertions, 11 deletions across 3 files), single subsystem (fs/afs, tier 6). Good documentation with reference to originating commit. Reviewed-by and signed-off-by maintainers from different organizations (Huawei/SUSE), showing good cross-org collaboration. No functional changes or user impact.", "code_snippet": "@@ -346,8 +346,8 @@ void afs_lock_work(struct work_struct *work)\n \t\tif (ret < 0) {\n \t\t\ttrace_afs_flock_ev(vnode, NULL, afs_flock_extend_fail,\n \t\t\t\t\t   ret);\n-\t\t\tpr_warning(\"AFS: Failed to extend lock on {%llx:%llx} error %d\\n\",\n-\t\t\t\t   vnode->fid.vid, vnode->fid.vnode, ret);\n+\t\t\tpr_warn(\"AFS: Failed to extend lock on {%llx:%llx} error %d\\n\",\n+\t\t\t\tvnode->fid.vid, vnode->fid.vnode, ret);\n \t\t}\n \n \t\tspin_lock(&vnode->lock);\ndiff --git a/fs/afs/inode.c b/fs/afs/inode.c\nindex 18a50d4febcf..09da87ad95de 100644\n--- a/fs/afs/inode.c\n+++ b/fs/afs/inode.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4e530ae7ea47d2c4ce17617f4711d8e5a771a5c"}
{"commit_hash": "fc65104c7c89635ecacbff6cf5724ac24232d381", "short_hash": "fc65104c7c89", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:42+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:56+02:00", "subject": "dma-debug: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/dma", "subsystems_touched": ["kernel/dma/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing pr_warning with pr_warn for API consistency. 1 line changed in DMA debug code. Has Reviewed-by and proper commit message referencing prior similar changes. Cross-org contribution (Huawei author, SUSE maintainer). Low impact as it's purely cosmetic API standardization.", "code_snippet": "@@ -161,7 +161,7 @@ static inline void dump_entry_trace(struct dma_debug_entry *entry)\n {\n #ifdef CONFIG_STACKTRACE\n \tif (entry) {\n-\t\tpr_warning(\"Mapped at:\\n\");\n+\t\tpr_warn(\"Mapped at:\\n\");\n \t\tstack_trace_print(entry->stack_entries, entry->stack_len, 0);\n \t}\n #endif\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fc65104c7c89635ecacbff6cf5724ac24232d381"}
{"commit_hash": "3e3d38bd0da72cf93d533ca587886e075e414238", "short_hash": "3e3d38bd0da7", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:41+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:56+02:00", "subject": "vgacon: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/video", "subsystems_touched": ["drivers/video/console"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API consistency change replacing pr_warning with pr_warn. Minimal code volume (6 lines changed). Has proper Reviewed-by tag. Cross-org contribution from Huawei to SUSE-maintained tree. Part of kernel-wide API consolidation effort.", "code_snippet": "@@ -113,9 +113,9 @@ static int __init text_mode(char *str)\n {\n \tvgacon_text_mode_force = true;\n \n-\tpr_warning(\"You have booted with nomodeset. This means your GPU drivers are DISABLED\\n\");\n-\tpr_warning(\"Any video related functionality will be severely degraded, and you may not even be able to suspend the system properly\\n\");\n-\tpr_warning(\"Unless you actually understand what nomodeset does, you should reboot without enabling it\\n\");\n+\tpr_warn(\"You have booted with nomodeset. This means your GPU drivers are DISABLED\\n\");\n+\tpr_warn(\"Any video related functionality will be severely degraded, and you may not even be able to suspend the system properly\\n\");\n+\tpr_warn(\"Unless you actually understand what nomodeset does, you should reboot without enabling it\\n\");\n \n \treturn 1;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e3d38bd0da72cf93d533ca587886e075e414238"}
{"commit_hash": "256339d602337f5fa4b5e11b81641a5fe96e585d", "short_hash": "256339d60233", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:44+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:57+02:00", "subject": "lib: cpu_rmap: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "lib", "subsystems_touched": ["lib/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple API modernization replacing deprecated pr_warning with pr_warn for consistency. Low technical impact (1 line change, library code) but good quality indicators (Reviewed-by tag, clear commit message referencing prior work). No functional changes, subsystem tier 3 (non-critical library).", "code_snippet": "@@ -255,7 +255,7 @@ irq_cpu_rmap_notify(struct irq_affinity_notify *notify, const cpumask_t *mask)\n \n \trc = cpu_rmap_update(glue->rmap, glue->index, mask);\n \tif (rc)\n-\t\tpr_warning(\"irq_cpu_rmap_notify: update failed: %d\\n\", rc);\n+\t\tpr_warn(\"irq_cpu_rmap_notify: update failed: %d\\n\", rc);\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/256339d602337f5fa4b5e11b81641a5fe96e585d"}
{"commit_hash": "3da2e1fd46a726531a1e6d621bda62821a5e559a", "short_hash": "3da2e1fd46a7", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:43+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:01:57+02:00", "subject": "trace: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/trace", "subsystems_touched": ["kernel/trace/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 4, "score_quality": 16, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing pr_warning with pr_warn for consistency. 2 lines changed in trace benchmark code. Good review chain with Acked-by and Reviewed-by tags. Cross-org contribution from Huawei to SUSE-maintained code.", "code_snippet": "@@ -178,14 +178,14 @@ static int benchmark_event_kthread(void *arg)\n int trace_benchmark_reg(void)\n {\n \tif (!ok_to_run) {\n-\t\tpr_warning(\"trace benchmark cannot be started via kernel command line\\n\");\n+\t\tpr_warn(\"trace benchmark cannot be started via kernel command line\\n\");\n \t\treturn -EBUSY;\n \t}\n \n \tbm_event_thread = kthread_run(benchmark_event_kthread,\n \t\t\t\t      NULL, \"event_benchmark\");\n \tif (IS_ERR(bm_event_thread)) {\n-\t\tpr_warning(\"trace benchmark failed to create kernel thread\\n\");\n+\t\tpr_warn(\"trace benchmark failed to create kernel thread\\n\");\n \t\treturn PTR_ERR(bm_event_thread);\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3da2e1fd46a726531a1e6d621bda62821a5e559a"}
{"commit_hash": "2304d447f9b00a5a88fc52491701d461c2725e0a", "short_hash": "2304d447f9b0", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:45+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:02:39+02:00", "subject": "ASoC: samsung: Use pr_warn instead of pr_warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/samsung"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)", "Sylwester Nawrocki <s.nawrocki@samsung.com> (Samsung)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 5, "score_impact": 3, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 1}, "score_justification": "Simple API modernization replacing pr_warning with pr_warn for consistency (6 lines changed in 1 file). Low technical complexity and impact. Well-reviewed with 2 Reviewed-by tags, good commit message with context and link. Cross-org contribution (Huawei author, SUSE committer, Samsung maintainer review).", "code_snippet": "@@ -672,13 +672,13 @@ static int s3c2412_i2s_suspend(struct snd_soc_dai *dai)\n \t\tiismod = readl(i2s->regs + S3C2412_IISMOD);\n \n \t\tif (iismod & S3C2412_IISCON_RXDMA_ACTIVE)\n-\t\t\tpr_warning(\"%s: RXDMA active?\\n\", __func__);\n+\t\t\tpr_warn(\"%s: RXDMA active?\\n\", __func__);\n \n \t\tif (iismod & S3C2412_IISCON_TXDMA_ACTIVE)\n-\t\t\tpr_warning(\"%s: TXDMA active?\\n\", __func__);\n+\t\t\tpr_warn(\"%s: TXDMA active?\\n\", __func__);\n \n \t\tif (iismod & S3C2412_IISCON_IIS_ACTIVE)\n-\t\t\tpr_warning(\"%s: IIS active\\n\", __func__);\n+\t\t\tpr_warn(\"%s: IIS active\\n\", __func__);\n \t}\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2304d447f9b00a5a88fc52491701d461c2725e0a"}
{"commit_hash": "c405c37bd9022ece118099fa39040bee8c5adbff", "short_hash": "c405c37bd902", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:18:47+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-10-18T15:02:57+02:00", "subject": "tools lib api: Renaming pr_warning to pr_warn", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools", "subsystems_touched": ["tools/lib/api/"], "subsystem_tier": 3, "files_changed": 3, "insertions": 6, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Naming consistency cleanup for tools/lib/api logging macros. Low impact utility code with good review chain (Reviewed-by, Signed-off-by maintainer). Small changes (6+/6-) across 3 files. Cross-org contribution from Huawei to SUSE maintainer.", "code_snippet": "@@ -10,11 +10,11 @@ do {\t\t\t\t\\\n \t\t(func)(\"libapi: \" fmt, ##__VA_ARGS__); \\\n } while (0)\n \n-extern libapi_print_fn_t __pr_warning;\n+extern libapi_print_fn_t __pr_warn;\n extern libapi_print_fn_t __pr_info;\n extern libapi_print_fn_t __pr_debug;\n \n-#define pr_warning(fmt, ...)\t__pr(__pr_warning, fmt, ##__VA_ARGS__)\n+#define pr_warn(fmt, ...)\t__pr(__pr_warn, fmt, ##__VA_ARGS__)\n #define pr_info(fmt, ...)\t__pr(__pr_info, fmt, ##__VA_ARGS__)\n #define pr_debug(fmt, ...)\t__pr(__pr_debug, fmt, ##__VA_ARGS__)\n \ndiff --git a/tools/lib/api/debug.c b/tools/lib/api/debug.c\nindex 69b1ba3d1ee3..7708f0558e8c 100644\n--- a/tools/lib/api/debug.c\n+++ b/tools/lib/api/debug.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c405c37bd9022ece118099fa39040bee8c5adbff"}
{"commit_hash": "27018ab14bea5ae44df4de119feefbcb37ae4f85", "short_hash": "27018ab14bea", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T12:06:21Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-18T18:49:41+11:00", "subject": "crypto: inside-secure - Use PTR_ERR_OR_ZERO in safexcel_xcbcmac_cra_init()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/inside-secure/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Antoine Tenart <antoine.tenart@ack.tf> (Ack)", "Pascal van Leeuwen <pvanleeuwen@verimatrix.com> (Verimatrix)"], "reported_by": []}, "score_total": 22, "score_technical": 7, "score_impact": 4, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing IS_ERR/PTR_ERR pattern with PTR_ERR_OR_ZERO macro in crypto driver initialization function. Single file, low volume change. Acked by relevant maintainers (Antoine Tenart, Pascal van Leeuwen). No functional change, no user impact, no stable CC.", "code_snippet": "@@ -2109,10 +2109,7 @@ static int safexcel_xcbcmac_cra_init(struct crypto_tfm *tfm)\n \n \tsafexcel_ahash_cra_init(tfm);\n \tctx->kaes = crypto_alloc_cipher(\"aes\", 0, 0);\n-\tif (IS_ERR(ctx->kaes))\n-\t\treturn PTR_ERR(ctx->kaes);\n-\n-\treturn 0;\n+\treturn PTR_ERR_OR_ZERO(ctx->kaes);\n }\n \n static void safexcel_xcbcmac_cra_exit(struct crypto_tfm *tfm)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27018ab14bea5ae44df4de119feefbcb37ae4f85"}
{"commit_hash": "5617f22b236d62e3d5beefa2fea3334ccb8656d3", "short_hash": "5617f22b236d", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T09:57:23+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:48:45+01:00", "subject": "iio: adc: at91-sama5d2: Replace 0 with NULL when clearing some pointers.", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Eugen Hristev <eugen.hristev@microchip.com> (Microchip)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning cleanup replacing 0 with NULL for pointer clearing. Minimal code change (2 insertions, 2 deletions) in non-critical IIO ADC driver. Has Reviewed-by tag from Microchip maintainer, showing cross-org collaboration. No functional change, purely static analysis cleanup.", "code_snippet": "@@ -1483,7 +1483,7 @@ static void at91_adc_dma_init(struct platform_device *pdev)\n \t\t\t  st->dma_st.rx_buf, st->dma_st.rx_dma_buf);\n dma_chan_disable:\n \tdma_release_channel(st->dma_st.dma_chan);\n-\tst->dma_st.dma_chan = 0;\n+\tst->dma_st.dma_chan = NULL;\n dma_exit:\n \tdev_info(&pdev->dev, \"continuing without DMA support\\n\");\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5617f22b236d62e3d5beefa2fea3334ccb8656d3"}
{"commit_hash": "9299b503db31e86d24a67e3074d525c7496e5857", "short_hash": "9299b503db31", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T10:05:42+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:48:50+01:00", "subject": "iio: adc: mcp320x: Tidy up endian types in type cast.", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Lukas Wunner <lukas@wunner.de> (Wunner)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 0, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Sparse warning fix in IIO ADC driver - minor type cast cleanup from (u32 *) to (__be32 *). Very localized change (1 line) in a non-critical subsystem. Has Reviewed-by tag indicating good review quality. Clear commit message explaining the sparse warning. Low user impact as it's a static analysis warning fix with no runtime behavior change.", "code_snippet": "@@ -164,7 +164,7 @@ static int mcp320x_adc_conversion(struct mcp320x *adc, u8 channel,\n \tcase mcp3550_60:\n \tcase mcp3551:\n \tcase mcp3553: {\n-\t\tu32 raw = be32_to_cpup((u32 *)adc->rx_buf);\n+\t\tu32 raw = be32_to_cpup((__be32 *)adc->rx_buf);\n \n \t\tif (!(adc->spi->mode & SPI_CPOL))\n \t\t\traw <<= 1; /* strip Data Ready bit in SPI mode 0,0 */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9299b503db31e86d24a67e3074d525c7496e5857"}
{"commit_hash": "47f3b26e708b59dcb10eae2db79bf3aeecfdd9e5", "short_hash": "47f3b26e708b", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T10:15:41+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:49:03+01:00", "subject": "iio: adc: stmpe-adc: Cleanup endian type of local variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["<philippe.schenker@toradex.com> (Toradex)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit fixing sparse warnings by changing local variable type from u16 to __be16. Single line change in low-tier ADC driver with proper review chain.", "code_snippet": "@@ -175,7 +175,7 @@ static int stmpe_read_raw(struct iio_dev *indio_dev,\n static irqreturn_t stmpe_adc_isr(int irq, void *dev_id)\n {\n \tstruct stmpe_adc *info = (struct stmpe_adc *)dev_id;\n-\tu16 data;\n+\t__be16 data;\n \n \tif (info->channel <= STMPE_ADC_LAST_NR) {\n \t\tint int_sta;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/47f3b26e708b59dcb10eae2db79bf3aeecfdd9e5"}
{"commit_hash": "78b75ab3f8c9dfac563b81105a1b838ec37a940e", "short_hash": "78b75ab3f8c9", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T10:55:15+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:52:03+01:00", "subject": "iio: chemical: sps30: Explicity truncate constant by masking", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio/chemical", "subsystems_touched": ["drivers/iio/chemical/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tomasz Duszynski <tduszyns@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 15, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial sparse warning suppression commit. Changes a single cast to explicitly mask a constant when writing to an 8-bit register. Minimal code volume (1 insertion, 1 deletion). Low subsystem tier (IIO chemical sensor driver). No functional change - only silences a static analysis warning. Good commit message explaining the sparse warning. Acked-by reviewer.", "code_snippet": "@@ -117,7 +117,7 @@ static int sps30_do_cmd(struct sps30_state *state, u16 cmd, u8 *data, int size)\n \t\tbreak;\n \tcase SPS30_READ_AUTO_CLEANING_PERIOD:\n \t\tbuf[0] = SPS30_AUTO_CLEANING_PERIOD >> 8;\n-\t\tbuf[1] = (u8)SPS30_AUTO_CLEANING_PERIOD;\n+\t\tbuf[1] = (u8)(SPS30_AUTO_CLEANING_PERIOD & 0xff);\n \t\t/* fall through */\n \tcase SPS30_READ_DATA_READY_FLAG:\n \tcase SPS30_READ_DATA:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78b75ab3f8c9dfac563b81105a1b838ec37a940e"}
{"commit_hash": "1123c084d75116bb6d4a0ff3801facde786093a5", "short_hash": "1123c084d751", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T11:02:55+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:55:05+01:00", "subject": "iio: gyro: mpu3050: Explicity make a 'poison' value big endian", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/gyro"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 5, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Static analyzer warning fix in IIO gyro driver. Minimal change (1 line) adding cpu_to_be16() for sparse compliance. Reviewed-by present. Low impact as author notes 'no actual affect'. Driver subsystem tier 4.", "code_snippet": "@@ -543,7 +543,7 @@ static irqreturn_t mpu3050_trigger_handler(int irq, void *p)\n \t\t\t\ttoread = bytes_per_datum;\n \t\t\t\toffset = 1;\n \t\t\t\t/* Put in some dummy value */\n-\t\t\t\tfifo_values[0] = 0xAAAA;\n+\t\t\t\tfifo_values[0] = cpu_to_be16(0xAAAA);\n \t\t\t}\n \n \t\t\tret = regmap_bulk_read(mpu3050->map,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1123c084d75116bb6d4a0ff3801facde786093a5"}
{"commit_hash": "6b943a6f23d0b76610320eee599f14f83f8d4c2b", "short_hash": "6b943a6f23d0", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T11:17:42+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:56:32+01:00", "subject": "iio: pressure: bmp280 endian tidy ups", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/pressure"], "subsystem_tier": 4, "files_changed": 1, "insertions": 9, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Endianness cleanup fixing sparse warnings in BMP280 pressure sensor driver. Low code volume (9 insertions, 7 deletions). Subsystem tier 4 (IIO driver). Category base 2 for cleanup. Quality score 7 from atomic focused change (3), good commit message with compiler warnings (3), and proper reviewed-by tag (4). Maintainer endorsement from Linus Walleij (3). Total: 22/100.", "code_snippet": "@@ -207,12 +209,12 @@ static int bmp280_read_calib(struct bmp280_data *data,\n \t}\n \tcalib->H1 = tmp;\n \n-\tret = regmap_bulk_read(data->regmap, BMP280_REG_COMP_H2, &tmp, 2);\n+\tret = regmap_bulk_read(data->regmap, BMP280_REG_COMP_H2, &l16, 2);\n \tif (ret < 0) {\n \t\tdev_err(dev, \"failed to read H2 comp value\\n\");\n \t\treturn ret;\n \t}\n-\tcalib->H2 = sign_extend32(le16_to_cpu(tmp), 15);\n+\tcalib->H2 = sign_extend32(le16_to_cpu(l16), 15);\n \n \tret = regmap_read(data->regmap, BMP280_REG_COMP_H3, &tmp);\n \tif (ret < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6b943a6f23d0b76610320eee599f14f83f8d4c2b"}
{"commit_hash": "d2080a87a376d5f3f1e0efbc94a8c3c7b24d0a31", "short_hash": "d2080a87a376", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T11:26:00+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:57:47+01:00", "subject": "iio: proximity: pulsedlight v2: Tidy up an endian issue", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/proximity"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Matt Ranostay <matt.ranostay@konsulko.com> (Konsulko)"], "reported_by": []}, "score_total": 21, "score_technical": 7, "score_impact": 3, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning cleanup for endian issue in IIO proximity driver. Low complexity (3 insertions, 2 deletions). Driver subsystem (tier 6). Acked by maintainer Matt Ranostay. Pure cleanup with no functional change or user impact.", "code_snippet": "@@ -136,12 +136,13 @@ static inline int lidar_write_power(struct lidar_data *data, int val)\n \n static int lidar_read_measurement(struct lidar_data *data, u16 *reg)\n {\n+\t__be16 value;\n \tint ret = data->xfer(data, LIDAR_REG_DATA_HBYTE |\n \t\t\t(data->i2c_enabled ? LIDAR_REG_DATA_WORD_READ : 0),\n-\t\t\t(u8 *) reg, 2);\n+\t\t\t(u8 *) &value, 2);\n \n \tif (!ret)\n-\t\t*reg = be16_to_cpu(*reg);\n+\t\t*reg = be16_to_cpu(value);\n \n \treturn ret;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d2080a87a376d5f3f1e0efbc94a8c3c7b24d0a31"}
{"commit_hash": "88e4787f0c42b1c2a197a48a7e2da88f72a7990a", "short_hash": "88e4787f0c42", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T13:35:23+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:58:59+01:00", "subject": "iio: adc: exynos: Drop a stray semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Chanwoo Choi <cw00.choi@samsung.com> (Samsung)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 17, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial fix removing a stray semicolon after a closing brace. Minimal code change (1 line), low subsystem criticality (IIO ADC driver), no stable CC, no user impact. Good review chain with Reviewed-by tag.", "code_snippet": "@@ -651,7 +651,7 @@ static irqreturn_t exynos_ts_isr(int irq, void *dev_id)\n \t\tinput_sync(info->input);\n \n \t\tusleep_range(1000, 1100);\n-\t};\n+\t}\n \n \twritel(0, ADC_V1_CLRINTPNDNUP(info->regs));\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88e4787f0c42b1c2a197a48a7e2da88f72a7990a"}
{"commit_hash": "528e39b86fed3a52cdfa8c889da11cf093118b5a", "short_hash": "528e39b86fed", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T13:35:24+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T19:59:59+01:00", "subject": "iio: adc: exynos: use devm_platform_ioremap_resource", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Chanwoo Choi <cw00.choi@samsung.com> (Samsung)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial boilerplate reduction using coccinelle-detected pattern. Single file cleanup (IIO ADC driver). Uses devm_platform_ioremap_resource() helper to replace platform_get_resource + devm_ioremap_resource pattern. Reviewed-by from Samsung maintainer. Low impact, high quality refactoring.", "code_snippet": "@@ -769,7 +769,6 @@ static int exynos_adc_probe(struct platform_device *pdev)\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct s3c2410_ts_mach_info *pdata = dev_get_platdata(&pdev->dev);\n \tstruct iio_dev *indio_dev = NULL;\n-\tstruct resource\t*mem;\n \tbool has_ts = false;\n \tint ret = -ENODEV;\n \tint irq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/528e39b86fed3a52cdfa8c889da11cf093118b5a"}
{"commit_hash": "5f401ef09291e574b2cc5b6453369130e39d136b", "short_hash": "5f401ef09291", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:37:59+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T20:01:34+01:00", "subject": "iio: adc: meson_saradc: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Martin Blumenstingl <martin.blumenstingl@googlemail.com> (Googlemail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Suggested by coccinelle. Reviewed externally. Low impact driver subsystem cleanup.", "code_snippet": "@@ -1187,7 +1187,6 @@ static int meson_sar_adc_probe(struct platform_device *pdev)\n \tconst struct meson_sar_adc_data *match_data;\n \tstruct meson_sar_adc_priv *priv;\n \tstruct iio_dev *indio_dev;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tint irq, ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f401ef09291e574b2cc5b6453369130e39d136b"}
{"commit_hash": "0e643753829341d8df1b6df64fb2d54491f97223", "short_hash": "0e6437538293", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T17:21:33+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T20:02:50+01:00", "subject": "iio: adc: cpcap-adc: Fix missing IRQF_ONESHOT as only threaded handler.", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tony Lindgren <tony@atomide.com> (Atomide)"], "reported_by": []}, "score_total": 39, "score_technical": 7, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Threaded IRQ without IRQF_ONESHOT can cause kernel crashes/hangs. Driver subsystem (IIO ADC) is moderately critical. Single-line fix with proper ack from maintainer Tony Lindgren. Good commit message explains Coccinelle detection.", "code_snippet": "@@ -1008,7 +1008,7 @@ static int cpcap_adc_probe(struct platform_device *pdev)\n \n \terror = devm_request_threaded_irq(&pdev->dev, ddata->irq, NULL,\n \t\t\t\t\t  cpcap_adc_irq_thread,\n-\t\t\t\t\t  IRQF_TRIGGER_NONE,\n+\t\t\t\t\t  IRQF_TRIGGER_NONE | IRQF_ONESHOT,\n \t\t\t\t\t  \"cpcap-adc\", indio_dev);\n \tif (error) {\n \t\tdev_err(&pdev->dev, \"could not get irq: %i\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e643753829341d8df1b6df64fb2d54491f97223"}
{"commit_hash": "49d3faba7e36115d269691bf701dd394ade4f8b8", "short_hash": "49d3faba7e36", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T19:10:13+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T20:04:26+01:00", "subject": "iio: temp: maxim thermocouple: Drop unneeded semi colon.", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/temperature/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Matt Ranostay <matt.ranostay@konsulko.com> (Konsulko)"], "reported_by": []}, "score_total": 16, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 1, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 1, "D3_community_response": 0}, "score_justification": "Trivial fix removing an unnecessary semicolon after a switch case break. Coccinelle-detected cleanup. Very low code volume (1 line changed), minor subsystem (IIO temperature driver), no user impact, proper review chain with Acked-by, clear commit message with tool attribution.", "code_snippet": "@@ -194,7 +194,7 @@ static int maxim_thermocouple_read_raw(struct iio_dev *indio_dev,\n \t\tdefault:\n \t\t\t*val = 250; /* 1000 * 0.25 */\n \t\t\tret = IIO_VAL_INT;\n-\t\t};\n+\t\t}\n \t\tbreak;\n \t}\n \n", "flags": ["COCCINELLE", "CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/49d3faba7e36115d269691bf701dd394ade4f8b8"}
{"commit_hash": "d26c9abeedafb699b5fc612065db03880826711f", "short_hash": "d26c9abeedaf", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T17:48:48+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-18T20:05:58+01:00", "subject": "iio: adc: xilinx-xadc: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Sven Van Asbroeck <TheSven73@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing manual resource handling with devm_platform_ioremap_resource helper. Very small change (1 insertion, 3 deletions) in IIO ADC driver. Suggested by coccinelle tool. Has Reviewed-by tag indicating proper review. Reduces boilerplate code with no functional change. Low technical complexity and impact.", "code_snippet": "@@ -1150,7 +1150,6 @@ static int xadc_probe(struct platform_device *pdev)\n \tconst struct of_device_id *id;\n \tstruct iio_dev *indio_dev;\n \tunsigned int bipolar_mask;\n-\tstruct resource *mem;\n \tunsigned int conf0;\n \tstruct xadc *xadc;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d26c9abeedafb699b5fc612065db03880826711f"}
{"commit_hash": "1f5343c0ae9673543055e9794362766e1f0ed163", "short_hash": "1f5343c0ae96", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T17:03:44+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-10-18T20:57:07+02:00", "subject": "bpf: Fix build error without CONFIG_NET", "primary_category": "BUILD", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "a7658e1a4164", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["kernel/trace/bpf"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Yonghong Song <yhs@fb.com> (Fb)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 11, "score_impact": 9, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Build fix for undefined reference when CONFIG_NET=n. 2 lines added wrapping existing code in #ifdef. Fixes linker error in bpf_trace.c. Strong maintainer endorsement (Signed-off-by, Acked-by). Cross-org contribution from Huawei to Facebook maintainer. Fixes tag references specific commit. Low code volume but critical for build completeness in BPF tracing subsystem.", "code_snippet": "@@ -1055,8 +1055,10 @@ raw_tp_prog_func_proto(enum bpf_func_id func_id, const struct bpf_prog *prog)\n \tswitch (func_id) {\n \tcase BPF_FUNC_perf_event_output:\n \t\treturn &bpf_perf_event_output_proto_raw_tp;\n+#ifdef CONFIG_NET\n \tcase BPF_FUNC_skb_output:\n \t\treturn &bpf_skb_output_proto;\n+#endif\n \tcase BPF_FUNC_get_stackid:\n \t\treturn &bpf_get_stackid_proto_raw_tp;\n \tcase BPF_FUNC_get_stack:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f5343c0ae9673543055e9794362766e1f0ed163"}
{"commit_hash": "f7daefe4231e57381d92c2e2ad905a899c28e402", "short_hash": "f7daefe4231e", "author_name": "Chenwandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T20:20:14-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-10-19T06:32:32-04:00", "subject": "zram: fix race between backing_dev_show and backing_dev_store", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/block/zram"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Chenwandun <chenwandun@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Minchan Kim <minchan@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 16, "score_quality": 14, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 3, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Race condition fix in zram backing device sysfs interface. Small code change (5 lines) moving pointer access inside lock critical section. High-quality commit with detailed race explanation and backtrace. Acked by subsystem maintainer, marked for stable backport. Affects data consistency in block device operations.", "code_snippet": "@@ -413,13 +413,14 @@ static void reset_bdev(struct zram *zram)\n static ssize_t backing_dev_show(struct device *dev,\n \t\tstruct device_attribute *attr, char *buf)\n {\n+\tstruct file *file;\n \tstruct zram *zram = dev_to_zram(dev);\n-\tstruct file *file = zram->backing_dev;\n \tchar *p;\n \tssize_t ret;\n \n \tdown_read(&zram->init_lock);\n-\tif (!zram->backing_dev) {\n+\tfile = zram->backing_dev;\n+\tif (!file) {\n \t\tmemcpy(buf, \"none\\n\", 5);\n \t\tup_read(&zram->init_lock);\n \t\treturn 5;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f7daefe4231e57381d92c2e2ad905a899c28e402"}
{"commit_hash": "580a05f9d4ada3bfb689140d0efec1efdb8a48da", "short_hash": "580a05f9d4ad", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T11:42:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-19T11:40:55-07:00", "subject": "net: hns3: fix mis-counting IRQ vector numbers issue", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "46a3df9f9718", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 10, "files_changed": 6, "insertions": 58, "deletions": 6, "hunks": 34, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 13, "score_impact": 19, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "BUG-CRASH: Fixes interrupt loss bug in NIC driver. Code volume: 58 insertions, 6 deletions (3/10). Network driver is tier 1 subsystem (10/10). Fixes tag present indicates regression. Impact: interrupts lost could cause crashes/hangs. Review chain: 3 sign-offs including maintainer David S. Miller (4/8). Commit message: detailed explanation with Fixes tag (5/6). Atomicity: focused fix for specific IRQ vector counting issue (3/3). Maintainer endorsement: signed off by networking maintainer (4/4).", "code_snippet": "@@ -915,6 +918,15 @@ static int hclge_query_pf_resource(struct hclge_dev *hdev)\n \t\thdev->num_msi =\n \t\thnae3_get_field(__le16_to_cpu(req->pf_intr_vector_number),\n \t\t\t\tHCLGE_PF_VEC_NUM_M, HCLGE_PF_VEC_NUM_S);\n+\n+\t\thdev->num_nic_msi = hdev->num_msi;\n+\t}\n+\n+\tif (hdev->num_nic_msi < HNAE3_MIN_VECTOR_NUM) {\n+\t\tdev_err(&hdev->pdev->dev,\n+\t\t\t\"Just %u msi resources, not enough for pf(min:2).\\n\",\n+\t\t\thdev->num_nic_msi);\n+\t\treturn -EINVAL;\n \t}\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/580a05f9d4ada3bfb689140d0efec1efdb8a48da"}
{"commit_hash": "3d00cf2fbb61212f47a3cf838be51c921366c937", "short_hash": "3d00cf2fbb61", "author_name": "Chenwandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T18:20:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-19T12:16:38-07:00", "subject": "net: aquantia: add an error handling in aq_nic_set_multicast_list", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/aquantia/atlantic"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chenwandun <chenwandun@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Igor Russkikh <igor.russkikh@aquantia.com> (Aquantia)", "Andrew Lunn <andrew@lunn.ch> (Lunn)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 8, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small 2-line change adding error handling for multicast list in Aquantia ethernet driver. Properly propagates error from hw_multicast_list_set. Good review chain with Reviewed-by tags from driver maintainer and community reviewer. Cross-org contribution from Huawei to Aquantia driver. Low-medium impact as missing error handling could cause silent failures in multicast configuration.", "code_snippet": "@@ -664,6 +664,8 @@ int aq_nic_set_multicast_list(struct aq_nic_s *self, struct net_device *ndev)\n \t\terr = hw_ops->hw_multicast_list_set(self->aq_hw,\n \t\t\t\t\t\t    self->mc_list.ar,\n \t\t\t\t\t\t    self->mc_list.count);\n+\t\tif (err < 0)\n+\t\t\treturn err;\n \t}\n \treturn aq_nic_set_packet_filter(self, packet_filter);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d00cf2fbb61212f47a3cf838be51c921366c937"}
{"commit_hash": "e5e634041bc184fe8975e0a32f96985a04ace09f", "short_hash": "e5e634041bc1", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-10-14T10:34:32-07:00", "committer_name": "Darrick J. Wong", "committer_email": "darrick.wong@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-21T09:04:57-07:00", "subject": "xfs: include QUOTA, FATAL ASSERT build options in XFS_BUILD_OPTIONS", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/xfs", "subsystems_touched": ["fs/xfs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 10, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "reviewed_by": ["Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 7, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a minor enhancement to XFS build options reporting. It adds QUOTA and FATAL_ASSERT configuration options to XFS_BUILD_OPTIONS string for better visibility. Small code change (10 insertions, 0 deletions) affecting only build configuration display. Has proper review chain with Reviewed-by and Signed-off-by from maintainer Darrick J. Wong. Cross-org contribution from Huawei to Oracle-maintained subsystem.", "code_snippet": "@@ -50,6 +52,12 @@ extern void xfs_qm_exit(void);\n # define XFS_WARN_STRING\n #endif\n \n+#ifdef CONFIG_XFS_ASSERT_FATAL\n+# define XFS_ASSERT_FATAL_STRING\t\"fatal assert, \"\n+#else\n+# define XFS_ASSERT_FATAL_STRING\n+#endif\n+\n #ifdef DEBUG\n # define XFS_DBG_STRING\t\t\"debug\"\n #else", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e5e634041bc184fe8975e0a32f96985a04ace09f"}
{"commit_hash": "76643555a145b06ec6dcc0d1cc0691575dceffc9", "short_hash": "76643555a145", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:09-07:00", "subject": "net: hns3: make struct hns3_enet_ring cacheline aligned", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Performance optimization adding cacheline alignment to frequently-used data structure. Single-line change in driver subsystem with proper maintainer sign-offs. Low risk, minimal impact.", "code_snippet": "@@ -435,7 +435,7 @@ struct hns3_enet_ring {\n \tint pending_buf;\n \tstruct sk_buff *skb;\n \tstruct sk_buff *tail_skb;\n-};\n+} ____cacheline_internodealigned_in_smp;\n \n enum hns3_flow_level_range {\n \tHNS3_FLOW_LOW = 0,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76643555a145b06ec6dcc0d1cc0691575dceffc9"}
{"commit_hash": "88b7c58c199dd231fd87703f4a6209eec60ab138", "short_hash": "88b7c58c199d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:09-07:00", "subject": "net: hns3: minor optimization for barrier in IO path", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 7, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 14, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor optimization for barrier operations in network driver I/O path. Clean 3-level review chain (author->co-developer->maintainer). Well-documented with clear rationale for performance improvement. Low code volume (10 lines), subsystem-specific (hns3 driver), no stable tagging.", "code_snippet": "@@ -2485,11 +2485,12 @@ void hns3_clean_tx_ring(struct hns3_enet_ring *ring)\n \tint head;\n \n \thead = readl_relaxed(ring->tqp->io_base + HNS3_RING_TX_RING_HEAD_REG);\n-\trmb(); /* Make sure head is ready before touch any data */\n \n \tif (is_ring_empty(ring) || head == ring->next_to_clean)\n \t\treturn; /* no data to poll */\n \n+\trmb(); /* Make sure head is ready before touch any data */\n+\n \tif (unlikely(!is_valid_clean_head(ring, head))) {\n \t\tnetdev_err(netdev, \"wrong head (%d, %d-%d)\\n\", head,\n \t\t\t   ring->next_to_use, ring->next_to_clean);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88b7c58c199dd231fd87703f4a6209eec60ab138"}
{"commit_hash": "c871195601793118ab081d82f7ddd987aa6c7da1", "short_hash": "c87119560179", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:09-07:00", "subject": "net: hns3: introduce ring_to_netdev() in enet module", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 2, "insertions": 9, "deletions": 7, "hunks": 16, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 6, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that introduces ring_to_netdev() helper function to simplify code and improve module separation. The change replaces direct access to ring->tqp->handle->kinfo.netdev with a cleaner accessor through ring->tqp_vector->napi.dev. This is purely internal cleanup with no functional changes. Small scope (single driver), no user-visible impact, well-reviewed by Huawei team and networking maintainer David S. Miller.", "code_snippet": "@@ -4224,7 +4224,7 @@ static int hns3_clear_rx_ring(struct hns3_enet_ring *ring)\n \t\t\t\t/* if alloc new buffer fail, exit directly\n \t\t\t\t * and reclear in up flow.\n \t\t\t\t */\n-\t\t\t\tnetdev_warn(ring->tqp->handle->kinfo.netdev,\n+\t\t\t\tnetdev_warn(ring_to_netdev(ring),\n \t\t\t\t\t    \"reserve buffer map failed, ret = %d\\n\",\n \t\t\t\t\t    ret);\n \t\t\t\treturn ret;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex 33222847e149..8a88002313fe 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c871195601793118ab081d82f7ddd987aa6c7da1"}
{"commit_hash": "0e02a53d64b470b96739189c015f6d9225c11587", "short_hash": "0e02a53d64b4", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:09-07:00", "subject": "net: hns3: optimized MAC address in management table.", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 3, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 8, "score_quality": 16, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactor of MAC address storage in hns3 driver management table. Changed from split hi32/lo16 fields to standard ETH_ALEN array for better endianness handling. Small scope (2 files, 7 lines changed), clear single-purpose change with good review chain (Huawei authors -> David S. Miller). Low direct user impact as internal data structure cleanup.", "code_snippet": "@@ -712,8 +713,7 @@ struct hclge_mac_mgr_tbl_entry_cmd {\n \tu8      flags;\n \tu8      resp_code;\n \t__le16  vlan_tag;\n-\t__le32  mac_addr_hi32;\n-\t__le16  mac_addr_lo16;\n+\tu8      mac_addr[ETH_ALEN];\n \t__le16  rsv1;\n \t__le16  ethter_type;\n \t__le16  egress_port;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 2f0386dcb2f6..ad8e1797eb04 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e02a53d64b470b96739189c015f6d9225c11587"}
{"commit_hash": "5f06b903cb0b85194e66675267b565d40a22026c", "short_hash": "5f06b903cb0b", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:09-07:00", "subject": "net: hns3: remove struct hns3_nic_ring_data in hns3_enet module", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 5, "files_changed": 4, "insertions": 74, "deletions": 138, "hunks": 82, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 5, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit removing unused struct hns3_nic_ring_data and moving queue_index to hns3_enet_ring. 4 files changed, 74 insertions, 138 deletions. Cross-subsystem impact: none (driver-specific). Category: maintenance refactoring with cleanup aspects. Quality: strong review chain (Huawei maintainer + net maintainer), good commit message, atomic change. Community: single-org (Huawei), endorsed by networking maintainer David S. Miller.", "code_snippet": "@@ -16,15 +16,14 @@ static int hns3_dbg_queue_info(struct hnae3_handle *h,\n \t\t\t       const char *cmd_buf)\n {\n \tstruct hns3_nic_priv *priv = h->priv;\n-\tstruct hns3_nic_ring_data *ring_data;\n \tstruct hns3_enet_ring *ring;\n \tu32 base_add_l, base_add_h;\n \tu32 queue_num, queue_max;\n \tu32 value, i = 0;\n \tint cnt;\n \n-\tif (!priv->ring_data) {\n-\t\tdev_err(&h->pdev->dev, \"ring_data is NULL\\n\");\n+\tif (!priv->ring) {\n+\t\tdev_err(&h->pdev->dev, \"priv->ring is NULL\\n\");\n \t\treturn -EFAULT;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f06b903cb0b85194e66675267b565d40a22026c"}
{"commit_hash": "4fdd0bca6152aa201898454e63cbb255a18ae6e9", "short_hash": "4fdd0bca6152", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:10-07:00", "subject": "net: hns3: log and clear hardware error after reset complete", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for RAS error handling during device reset in hns3 driver. Small code change (3 lines added) addressing crash/error scenario where hardware errors could not be cleared during reset. Network driver bug (tier 8 subsystem). Good commit message explaining the problem and solution. Includes proper reviewer chain (Shen -> Tan -> David Miller). Focused atomic fix.", "code_snippet": "@@ -9800,6 +9800,9 @@ static int hclge_reset_ae_dev(struct hnae3_ae_dev *ae_dev)\n \t\treturn ret;\n \t}\n \n+\t/* Log and clear the hw errors those already occurred */\n+\thclge_handle_all_hns_hw_errors(ae_dev);\n+\n \t/* Re-enable the hw error interrupts because\n \t * the interrupts get disabled on global reset.\n \t */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fdd0bca6152aa201898454e63cbb255a18ae6e9"}
{"commit_hash": "7fda3a930d15a993389018e31532f3a1e34974ab", "short_hash": "7fda3a930d15", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:10-07:00", "subject": "net: hns3: do not allocate linear data for fraglist skb", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Minor optimization to fraglist skb allocation in HNS3 driver - eliminates unused linear data allocation for fraglist SKBs. Network subsystem tier 10. Very small code change (1 insertion, 2 deletions). No cross-subsystem impact. No stable or CVE tags.", "code_snippet": "@@ -2863,8 +2863,7 @@ static int hns3_add_frag(struct hns3_enet_ring *ring, struct hns3_desc *desc,\n \t\t\treturn -ENXIO;\n \n \t\tif (unlikely(ring->frag_num >= MAX_SKB_FRAGS)) {\n-\t\t\tnew_skb = napi_alloc_skb(&ring->tqp_vector->napi,\n-\t\t\t\t\t\t HNS3_RX_HEAD_SIZE);\n+\t\t\tnew_skb = napi_alloc_skb(&ring->tqp_vector->napi, 0);\n \t\t\tif (unlikely(!new_skb)) {\n \t\t\t\thns3_rl_err(ring_to_netdev(ring),\n \t\t\t\t\t    \"alloc rx fraglist skb fail\\n\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fda3a930d15a993389018e31532f3a1e34974ab"}
{"commit_hash": "d35bced88f7043bee42df795cb7a0d5a8e99248c", "short_hash": "d35bced88f70", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T16:03:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-21T09:22:10-07:00", "subject": "net: hns3: minor cleanup for hns3_handle_rx_bd()", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 13, "deletions": 25, "hunks": 14, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 11, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup refactoring removing unnecessary out_skb parameter and simplifying error handling in hns3 NIC driver. Pure maintenance with 13 insertions/25 deletions. Well-documented with proper Signed-off-by chain including maintainer Huazhong Tan and networking maintainer David S. Miller. No functional changes, no stable tagging, low user impact.", "code_snippet": "@@ -3056,12 +3055,12 @@ static int hns3_handle_rx_bd(struct hns3_enet_ring *ring,\n \n \tif (!skb) {\n \t\tret = hns3_alloc_skb(ring, length, ring->va);\n-\t\t*out_skb = skb = ring->skb;\n+\t\tskb = ring->skb;\n \n \t\tif (ret < 0) /* alloc buffer fail */\n \t\t\treturn ret;\n \t\tif (ret > 0) { /* need add frag */\n-\t\t\tret = hns3_add_frag(ring, desc, &skb, false);\n+\t\t\tret = hns3_add_frag(ring, desc, false);\n \t\t\tif (ret)\n \t\t\t\treturn ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d35bced88f7043bee42df795cb7a0d5a8e99248c"}
{"commit_hash": "be18010ea2d83c184cc32afdc895410a1cf2cbd5", "short_hash": "be18010ea2d8", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T13:55:32+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-10-21T14:38:41+02:00", "subject": "tools, bpf: Rename pr_warning to pr_warn to align with kernel logging", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools/bpf", "subsystems_touched": ["tools/lib/bpf/"], "subsystem_tier": 5, "files_changed": 5, "insertions": 386, "deletions": 393, "hunks": 310, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Andrii Nakryiko <andriin@fb.com> (Fb)"], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 6, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cosmetic renaming of pr_warning to pr_warn for consistency with kernel logging macros. Affects 5 files in tools/lib/bpf/ with 386 insertions and 393 deletions. Has strong review chain (Reviewed-by, Acked-by) and cross-org collaboration (Huawei author, Facebook maintainer ack). Low technical impact as it's purely cosmetic alignment.", "code_snippet": "@@ -390,14 +390,14 @@ struct btf *btf__parse_elf(const char *path, struct btf_ext **btf_ext)\n \tGElf_Ehdr ehdr;\n \n \tif (elf_version(EV_CURRENT) == EV_NONE) {\n-\t\tpr_warning(\"failed to init libelf for %s\\n\", path);\n+\t\tpr_warn(\"failed to init libelf for %s\\n\", path);\n \t\treturn ERR_PTR(-LIBBPF_ERRNO__LIBELF);\n \t}\n \n \tfd = open(path, O_RDONLY);\n \tif (fd < 0) {\n \t\terr = -errno;\n-\t\tpr_warning(\"failed to open %s: %s\\n\", path, strerror(errno));\n+\t\tpr_warn(\"failed to open %s: %s\\n\", path, strerror(errno));\n \t\treturn ERR_PTR(err);\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be18010ea2d83c184cc32afdc895410a1cf2cbd5"}
{"commit_hash": "e8a07de57ea4ca7c2d604871c52826e66899fc70", "short_hash": "e8a07de57ea4", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-04T11:14:42+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:29:37-04:00", "subject": "RDMA/hns: Fix wrong parameters when initial mtt of srq->idx_que", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-FIX"], "cve_ids": [], "fixes_tag": "18df508c7970", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 6, "files_changed": 1, "insertions": 14, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect MTT (Memory Translation Table) initialization parameters in SRQ (Shared Receive Queue) index queue. The commit fixes wrong npages and page_shift parameters that could cause memory corruption. Small code change (24 lines), medium-tier subsystem (infiniband driver), has fixes tag, good commit message quality with explanation and Fixes tag, cross-org contribution (Hisilicon to RedHat maintainer).", "code_snippet": "@@ -191,11 +190,13 @@ static int create_user_srq(struct hns_roce_srq *srq, struct ib_udata *udata,\n \tif (IS_ERR(srq->umem))\n \t\treturn PTR_ERR(srq->umem);\n \n-\tnpages = (ib_umem_page_count(srq->umem) +\n-\t\t(1 << hr_dev->caps.srqwqe_buf_pg_sz) - 1) /\n-\t\t(1 << hr_dev->caps.srqwqe_buf_pg_sz);\n-\tpage_shift = PAGE_SHIFT + hr_dev->caps.srqwqe_buf_pg_sz;\n-\tret = hns_roce_mtt_init(hr_dev, npages, page_shift, &srq->mtt);\n+\tbuf = &srq->buf;\n+\tbuf->npages = (ib_umem_page_count(srq->umem) +\n+\t\t       (1 << hr_dev->caps.srqwqe_buf_pg_sz) - 1) /\n+\t\t      (1 << hr_dev->caps.srqwqe_buf_pg_sz);\n+\tbuf->page_shift = PAGE_SHIFT + hr_dev->caps.srqwqe_buf_pg_sz;\n+\tret = hns_roce_mtt_init(hr_dev, buf->npages, buf->page_shift,\n+\t\t\t\t&srq->mtt);\n \tif (ret)\n \t\tgoto err_user_buf;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8a07de57ea4ca7c2d604871c52826e66899fc70"}
{"commit_hash": "9f7d7064009c37cb26eee4a83302cf077fe180d6", "short_hash": "9f7d7064009c", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-04T11:14:41+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:29:37-04:00", "subject": "RDMA/hns: remove a redundant le16_to_cpu", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "82e620d9c3a0", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 9, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup fix removing redundant le16_to_cpu conversion on u16 type. Single file change (1 insertion, 1 deletion). Proper Fixes tag with signed-off-by chain. Cross-org contribution from Hisilicon author with maintainer sign-off. Limited user impact as it addresses incorrect type conversion usage.", "code_snippet": "@@ -389,7 +389,7 @@ static int hns_roce_v2_post_send(struct ib_qp *ibqp,\n \t\t\troce_set_field(ud_sq_wqe->byte_36,\n \t\t\t\t       V2_UD_SEND_WQE_BYTE_36_VLAN_M,\n \t\t\t\t       V2_UD_SEND_WQE_BYTE_36_VLAN_S,\n-\t\t\t\t       le16_to_cpu(ah->av.vlan));\n+\t\t\t\t       ah->av.vlan);\n \t\t\troce_set_field(ud_sq_wqe->byte_36,\n \t\t\t\t       V2_UD_SEND_WQE_BYTE_36_HOPLIMIT_M,\n \t\t\t\t       V2_UD_SEND_WQE_BYTE_36_HOPLIMIT_S,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f7d7064009c37cb26eee4a83302cf077fe180d6"}
{"commit_hash": "cfd82da4e741c16d71a12123bf0cb585af2b8796", "short_hash": "cfd82da4e741", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:14:44+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:29:38-04:00", "subject": "RDMA/hns: Modify return value of restrack functions", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4b42d05d0b2c", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 7, "score_impact": 11, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix changing error return from EMSGSIZE to EINVAL in restrack functions. Single line change in RDMA hns driver with proper Fixes tag, multiple reviewers, cross-org collaboration (Huawei/Red Hat), and subsystem maintainer sign-off.", "code_snippet": "@@ -95,7 +95,7 @@ static int hns_roce_fill_res_cq_entry(struct sk_buff *msg,\n \n \tret = hr_dev->dfx->query_cqc_info(hr_dev, hr_cq->cqn, (int *)context);\n \tif (ret)\n-\t\tgoto err;\n+\t\treturn -EINVAL;\n \n \ttable_attr = nla_nest_start(msg, RDMA_NLDEV_ATTR_DRIVER);\n \tif (!table_attr)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cfd82da4e741c16d71a12123bf0cb585af2b8796"}
{"commit_hash": "3dcad1f8421f5684c64ef3079c32dfb884a3b910", "short_hash": "3dcad1f8421f", "author_name": "Yixing Liu", "author_email": "liuyixing1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:14:45+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:29:38-04:00", "subject": "RDMA/hns: Fix a spelling mistake in a macro", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 2, "insertions": 13, "deletions": 13, "hunks": 6, "review_chain": {"signed_off_by": ["Yixing Liu <liuyixing1@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 16, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple typo fix in macro name (ALOGN->ALIGN) with no functional change. Low code volume (13 insertions/deletions), trivial category. Good review chain with 2 sign-offs, clean atomic change. No stable tagging or cross-org collaboration.", "code_snippet": "@@ -45,7 +45,7 @@\n \n #define HNS_ROCE_MAX_MSG_LEN\t\t\t0x80000000\n \n-#define HNS_ROCE_ALOGN_UP(a, b) ((((a) + (b) - 1) / (b)) * (b))\n+#define HNS_ROCE_ALIGN_UP(a, b) ((((a) + (b) - 1) / (b)) * (b))\n \n #define HNS_ROCE_IB_MIN_SQ_STRIDE\t\t6\n \ndiff --git a/drivers/infiniband/hw/hns/hns_roce_qp.c b/drivers/infiniband/hw/hns/hns_roce_qp.c\nindex bd78ff90d998..bec48f2593f4 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_qp.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_qp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3dcad1f8421f5684c64ef3079c32dfb884a3b910"}
{"commit_hash": "32883228b980ed0a3ea1d13230f90622f0047908", "short_hash": "32883228b980", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-04T11:14:43+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:29:38-04:00", "subject": "RDMA/hns: Modify variable/field name from vlan to vlan_id", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 3, "insertions": 13, "deletions": 13, "hunks": 14, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Simple variable/field rename for clarity (vlan/vlan_tag -> vlan_id). Low code volume (26 lines), limited to Hisilicon RDMA driver. Maintainer endorsed, clear commit message.", "code_snippet": "@@ -46,32 +46,32 @@ int hns_roce_create_ah(struct ib_ah *ibah, struct rdma_ah_attr *ah_attr,\n \tconst struct ib_gid_attr *gid_attr;\n \tstruct device *dev = hr_dev->dev;\n \tstruct hns_roce_ah *ah = to_hr_ah(ibah);\n-\tu16 vlan_tag = 0xffff;\n \tconst struct ib_global_route *grh = rdma_ah_read_grh(ah_attr);\n+\tu16 vlan_id = 0xffff;\n \tbool vlan_en = false;\n \tint ret;\n \n \tgid_attr = ah_attr->grh.sgid_attr;\n-\tret = rdma_read_gid_l2_fields(gid_attr, &vlan_tag, NULL);\n+\tret = rdma_read_gid_l2_fields(gid_attr, &vlan_id, NULL);\n \tif (ret)\n \t\treturn ret;\n \n \t/* Get mac address */\n \tmemcpy(ah->av.mac, ah_attr->roce.dmac, ETH_ALEN);\n \n-\tif (vlan_tag < VLAN_CFI_MASK) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32883228b980ed0a3ea1d13230f90622f0047908"}
{"commit_hash": "d302c6e3a6895608a5856bc708c47bda1770b24d", "short_hash": "d302c6e3a689", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T09:21:50+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-21T15:45:22-04:00", "subject": "RDMA/hns: Release qp resources when failed to destroy qp", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "926a01dc000d", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 8, "files_changed": 1, "insertions": 4, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 11, "score_impact": 16, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in RDMA driver (huawei.com). 4 insertions, 8 deletions. Clean resource cleanup on error path with proper review chain (2 sign-offs). Cross-org contribution from Huawei to RedHat maintainer tree.", "code_snippet": "@@ -4650,16 +4650,14 @@ static int hns_roce_v2_destroy_qp_common(struct hns_roce_dev *hr_dev,\n {\n \tstruct hns_roce_cq *send_cq, *recv_cq;\n \tstruct ib_device *ibdev = &hr_dev->ib_dev;\n-\tint ret;\n+\tint ret = 0;\n \n \tif (hr_qp->ibqp.qp_type == IB_QPT_RC && hr_qp->state != IB_QPS_RESET) {\n \t\t/* Modify qp to reset before destroying qp */\n \t\tret = hns_roce_v2_modify_qp(&hr_qp->ibqp, NULL, 0,\n \t\t\t\t\t    hr_qp->state, IB_QPS_RESET);\n-\t\tif (ret) {\n+\t\tif (ret)\n \t\t\tibdev_err(ibdev, \"modify QP to Reset failed.\\n\");\n-\t\t\treturn ret;\n-\t\t}\n \t}\n \n \tsend_cq = to_hr_cq(hr_qp->ibqp.send_cq);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d302c6e3a6895608a5856bc708c47bda1770b24d"}
{"commit_hash": "b45ca31a6a4c9b342d7d2ced493aae9cd31d6308", "short_hash": "b45ca31a6a4c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:45:58+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:04+03:00", "subject": "usb: phy: keystone: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/phy/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 5, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit that replaces platform_get_resource()/devm_ioremap_resource() with the newer devm_platform_ioremap_resource() helper function. It reduces 3 lines to 1 and eliminates a temporary variable. Detected by Coccinelle, reported by Hulk Robot. Cross-org commit from Huawei to Intel maintainer. Maintainer (Felipe Balbi) signed off, indicating endorsement.", "code_snippet": "@@ -66,15 +66,13 @@ static int keystone_usbphy_probe(struct platform_device *pdev)\n {\n \tstruct device\t\t*dev = &pdev->dev;\n \tstruct keystone_usbphy\t*k_phy;\n-\tstruct resource\t\t*res;\n \tint ret;\n \n \tk_phy = devm_kzalloc(dev, sizeof(*k_phy), GFP_KERNEL);\n \tif (!k_phy)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tk_phy->phy_ctrl = devm_ioremap_resource(dev, res);\n+\tk_phy->phy_ctrl = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(k_phy->phy_ctrl))\n \t\treturn PTR_ERR(k_phy->phy_ctrl);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b45ca31a6a4c9b342d7d2ced493aae9cd31d6308"}
{"commit_hash": "53490989ff91f5826bbb12190dffbb1a32aa1ea0", "short_hash": "53490989ff91", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:48:27+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:10+03:00", "subject": "usb: phy: mxs: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/phy/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 7, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification commit using devm_platform_ioremap_resource() helper. USB PHY driver cleanup removing intermediate resource variable. Well-reviewed by maintainer Felipe Balbi. Low impact as it's pure refactoring with no functional change.", "code_snippet": "@@ -710,7 +710,6 @@ static enum usb_charger_type mxs_phy_charger_detect(struct usb_phy *phy)\n \n static int mxs_phy_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tstruct clk *clk;\n \tstruct mxs_phy *mxs_phy;", "flags": ["COCCINELLE", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/53490989ff91f5826bbb12190dffbb1a32aa1ea0"}
{"commit_hash": "836283dd7bffdde80734d7a2f45dd35c40d0065f", "short_hash": "836283dd7bff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T16:50:45+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:14+03:00", "subject": "usb: renesas_usbhs: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/renesas_usbhs/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() helper to replace explicit platform_get_resource/devm_ioremap_resource calls. Detected by coccinelle script. Proper sign-off chain from author to subsystem maintainer.", "code_snippet": "@@ -590,7 +590,7 @@ static int usbhs_probe(struct platform_device *pdev)\n {\n \tconst struct renesas_usbhs_platform_info *info;\n \tstruct usbhs_priv *priv;\n-\tstruct resource *res, *irq_res;\n+\tstruct resource *irq_res;\n \tstruct device *dev = &pdev->dev;\n \tint ret, gpio;\n \tu32 tmp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/836283dd7bffdde80734d7a2f45dd35c40d0065f"}
{"commit_hash": "2e78dd5147061709385b01579c0a6a1bfb9791d6", "short_hash": "2e78dd514706", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:02:39+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:18+03:00", "subject": "usb: gadget: at91_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 8, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor code modernization commit replacing platform_get_resource/devm_ioremap_resource pair with devm_platform_ioremap_resource helper. Low complexity (1 insertion, 3 deletions) in USB gadget driver. Reported by automated tool (Hulk Robot). Good commit quality with proper tags and maintainer sign-off. Cross-org contribution from Huawei to Intel-maintained driver.", "code_snippet": "@@ -1808,7 +1808,6 @@ static int at91udc_probe(struct platform_device *pdev)\n \tstruct device\t*dev = &pdev->dev;\n \tstruct at91_udc\t*udc;\n \tint\t\tretval;\n-\tstruct resource\t*res;\n \tstruct at91_ep\t*ep;\n \tint\t\ti;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e78dd5147061709385b01579c0a6a1bfb9791d6"}
{"commit_hash": "4496bf250539a1dbe8b2c3662cc77cf74bc8cb5a", "short_hash": "4496bf250539", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:32:27+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:23+03:00", "subject": "usb: gadget: bcm63xx_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 6, "score_impact": 6, "score_quality": 12, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code simplification commit replacing platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper. Removes 5 lines, adds 2 lines. Cross-org contribution from Huawei to Intel-maintained USB gadget subsystem. Reported-by Hulk Robot indicates automated tooling. Maintainer Felipe Balbi signed off. Low technical complexity but good quality with proper tags and clean refactor pattern.", "code_snippet": "@@ -2282,7 +2282,6 @@ static int bcm63xx_udc_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct bcm63xx_usbd_platform_data *pd = dev_get_platdata(dev);\n \tstruct bcm63xx_udc *udc;\n-\tstruct resource *res;\n \tint rc = -ENOMEM, i, irq;\n \n \tudc = devm_kzalloc(dev, sizeof(*udc), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4496bf250539a1dbe8b2c3662cc77cf74bc8cb5a"}
{"commit_hash": "586a5fd60c3ca6a6d0056966651a4e063f4d556e", "short_hash": "586a5fd60c3c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:33:35+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:28+03:00", "subject": "usb: bdc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/gadget/udc/bdc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit using devm_platform_ioremap_resource() helper. Low technical impact (1 insertion, 3 deletions) in USB gadget driver subsystem. Cleanup detected by coccinelle script. Cross-org contribution (Huawei author, Intel maintainer). Good review chain with proper maintainer sign-offs.", "code_snippet": "@@ -480,7 +480,6 @@ static void bdc_phy_exit(struct bdc *bdc)\n static int bdc_probe(struct platform_device *pdev)\n {\n \tstruct bdc *bdc;\n-\tstruct resource *res;\n \tint ret = -ENOMEM;\n \tint irq;\n \tu32 temp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/586a5fd60c3ca6a6d0056966651a4e063f4d556e"}
{"commit_hash": "60b6465be786441a24d824d9ab4cad63fcf8a37e", "short_hash": "60b6465be786", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:40:33+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:32+03:00", "subject": "usb: gadget: gr_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() helper detected by coccinelle. Reduces 3 lines to 1, removes unnecessary resource variable. Cross-org from Huawei to Intel maintainer. Low impact cleanup.", "code_snippet": "@@ -2118,7 +2118,6 @@ static int gr_request_irq(struct gr_udc *dev, int irq)\n static int gr_probe(struct platform_device *pdev)\n {\n \tstruct gr_udc *dev;\n-\tstruct resource *res;\n \tstruct gr_regs __iomem *regs;\n \tint retval;\n \tu32 status;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60b6465be786441a24d824d9ab4cad63fcf8a37e"}
{"commit_hash": "623128070e78f616ed57f55702a9cfc726b88925", "short_hash": "623128070e78", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:42:22+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:37+03:00", "subject": "usb: gadget: pxa25x_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource combination with devm_platform_ioremap_resource helper. Minor cleanup (-3 lines, +1 line) in USB gadget driver. Proper maintainership chain (Huawei author, Intel maintainer sign-off). Coccinelle-detected pattern with Reported-by tag.", "code_snippet": "@@ -2321,7 +2321,6 @@ static int pxa25x_udc_probe(struct platform_device *pdev)\n \tstruct pxa25x_udc *dev = &memory;\n \tint retval, irq;\n \tu32 chiprev;\n-\tstruct resource *res;\n \n \tpr_info(\"%s: version %s\\n\", driver_name, DRIVER_VERSION);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/623128070e78f616ed57f55702a9cfc726b88925"}
{"commit_hash": "e7705d269b28f718ff57a730ec5bc505fe8ee6f0", "short_hash": "e7705d269b28", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:45:57+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:43+03:00", "subject": "usb: gadget: pxa27x_udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple cleanup commit using devm_platform_ioremap_resource() helper to reduce 2 lines to 1. No functional change, no bug fix. Reported-by robot, Signed-off-by maintainer Felipe Balbi.", "code_snippet": "@@ -2356,7 +2356,6 @@ MODULE_DEVICE_TABLE(of, udc_pxa_dt_ids);\n  */\n static int pxa_udc_probe(struct platform_device *pdev)\n {\n-\tstruct resource *regs;\n \tstruct pxa_udc *udc = &memory;\n \tint retval = 0, gpio;\n \tstruct pxa2xx_udc_mach_info *mach = dev_get_platdata(&pdev->dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e7705d269b28f718ff57a730ec5bc505fe8ee6f0"}
{"commit_hash": "195ad9c36d82527aed95ffaba35b8ce95ee5ff61", "short_hash": "195ad9c36d82", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:47:38+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:52+03:00", "subject": "usb: gadget: r8a66597-udc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial refactoring using devm_platform_ioremap_resource() helper. Low code volume (-3/+2 lines), driver subsystem (tier 6), no functional changes. Cross-org contribution (Huawei -> Intel maintainer), clean SOB chain with maintainer sign-off. Reported by Hulk Robot indicating automated cleanup.", "code_snippet": "@@ -1838,7 +1838,7 @@ static int r8a66597_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tchar clk_name[8];\n-\tstruct resource *res, *ires;\n+\tstruct resource *ires;\n \tint irq;\n \tvoid __iomem *reg = NULL;\n \tstruct r8a66597 *r8a66597 = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/195ad9c36d82527aed95ffaba35b8ce95ee5ff61"}
{"commit_hash": "e17d87668ecddfd6f7ebbc784b4008e74d4e017c", "short_hash": "e17d87668ecd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:48:36+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:29:56+03:00", "subject": "usb: gadget: renesas_usb3: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple API modernization in USB gadget driver replacing platform_get_resource/devm_ioremap_resource pair with devm_platform_ioremap_resource helper. Code reduction (-3 lines,+1 line) detected by Coccinelle. Cross-org contribution (Huawei->Intel maintainer) with proper sign-off chain. Low impact cleanup with no functional changes.", "code_snippet": "@@ -2732,7 +2732,6 @@ static struct usb_role_switch_desc renesas_usb3_role_switch_desc = {\n static int renesas_usb3_probe(struct platform_device *pdev)\n {\n \tstruct renesas_usb3 *usb3;\n-\tstruct resource *res;\n \tint irq, ret;\n \tconst struct renesas_usb3_priv *priv;\n \tconst struct soc_device_attribute *attr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e17d87668ecddfd6f7ebbc784b4008e74d4e017c"}
{"commit_hash": "6a3893bfbe0266c5703ed8d1e0487ac841c50c18", "short_hash": "6a3893bfbe02", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T17:50:22+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:30:01+03:00", "subject": "usb: gadget: s3c-hsudc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit (-4/+1 lines) using devm_platform_ioremap_resource() helper. USB gadget subsystem (tier 4). Cross-org contribution (Huawei author, Intel maintainer). Dual Signed-off-by shows proper review chain. Detected by automated tool (Hulk Robot/coccinelle). No functional change, no stable cc, no testing mentioned.", "code_snippet": "@@ -1263,7 +1263,6 @@ static const struct usb_gadget_ops s3c_hsudc_gadget_ops = {\n static int s3c_hsudc_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n-\tstruct resource *res;\n \tstruct s3c_hsudc *hsudc;\n \tstruct s3c24xx_hsudc_platdata *pd = dev_get_platdata(&pdev->dev);\n \tint ret, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a3893bfbe0266c5703ed8d1e0487ac841c50c18"}
{"commit_hash": "9f701f6c772b15461843b92f9b41a0705e190a86", "short_hash": "9f701f6c772b", "author_name": "Qiuyang Sun", "author_email": "sunqiuyang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T12:22:35+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-22T10:32:42-07:00", "subject": "f2fs: check total_segments from devices in raw_super", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Qiuyang Sun <sunqiuyang@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 14, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sanity check for multi-device F2FS to prevent filesystem corruption. Adds validation that total_segments across devices matches segment_count. Low code volume (15 lines), medium subsystem tier (filesystem). Has review chain (Reviewed-by from same org, Signed-off-by by maintainer). Good commit message explaining the fix. Returns -EFSCORRUPTED on mismatch to prevent mount.", "code_snippet": "@@ -2604,6 +2604,21 @@ static int sanity_check_raw_super(struct f2fs_sb_info *sbi,\n \t\treturn -EFSCORRUPTED;\n \t}\n \n+\tif (RDEV(0).path[0]) {\n+\t\tblock_t dev_seg_count = le32_to_cpu(RDEV(0).total_segments);\n+\t\tint i = 1;\n+\n+\t\twhile (i < MAX_DEVICES && RDEV(i).path[0]) {\n+\t\t\tdev_seg_count += le32_to_cpu(RDEV(i).total_segments);\n+\t\t\ti++;\n+\t\t}\n+\t\tif (segment_count != dev_seg_count) {\n+\t\t\tf2fs_info(sbi, \"Segment count (%u) mismatch with total segments from devices (%u)\",\n+\t\t\t\t\tsegment_count, dev_seg_count);\n+\t\t\treturn -EFSCORRUPTED;\n+\t\t}\n+\t}\n+\n \tif (secs_per_zone > total_sections || !secs_per_zone) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f701f6c772b15461843b92f9b41a0705e190a86"}
{"commit_hash": "46d9ce195a2b1b8aceeafae1d8f407383a117b0e", "short_hash": "46d9ce195a2b", "author_name": "Qiuyang Sun", "author_email": "sunqiuyang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-23T12:21:39+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-22T10:32:42-07:00", "subject": "f2fs: update multi-dev metadata in resize_fs", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 32, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Qiuyang Sun <sunqiuyang@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 11, "score_impact": 17, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "BUG-CORRUPT: Fixes metadata inconsistency in multi-device F2FS resize operations. Without this fix, resizing a multi-device filesystem would leave device metadata out of sync, potentially causing filesystem corruption. Code adds proper metadata updates to both superblock and in-memory structures. Has Reviewed-by tag showing peer review within same organization (Huawei). Affects core F2FS functionality but specific to multi-device configurations.", "code_snippet": "@@ -1437,11 +1437,20 @@ static void update_sb_metadata(struct f2fs_sb_info *sbi, int secs)\n \traw_sb->segment_count_main = cpu_to_le32(segment_count_main + segs);\n \traw_sb->block_count = cpu_to_le64(block_count +\n \t\t\t\t\t(long long)segs * sbi->blocks_per_seg);\n+\tif (f2fs_is_multi_device(sbi)) {\n+\t\tint last_dev = sbi->s_ndevs - 1;\n+\t\tint dev_segs =\n+\t\t\tle32_to_cpu(raw_sb->devs[last_dev].total_segments);\n+\n+\t\traw_sb->devs[last_dev].total_segments =\n+\t\t\t\t\t\tcpu_to_le32(dev_segs + segs);\n+\t}\n }\n \n static void update_fs_metadata(struct f2fs_sb_info *sbi, int secs)\n {\n \tint segs = secs * sbi->segs_per_sec;\n+\tlong long blks = (long long)segs * sbi->blocks_per_seg;\n \tlong long user_block_count =\n \t\t\t\tle64_to_cpu(F2FS_CKPT(sbi)->user_block_count);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46d9ce195a2b1b8aceeafae1d8f407383a117b0e"}
{"commit_hash": "e6fda6e69db26670f9f09b1742525329e477304a", "short_hash": "e6fda6e69db2", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T17:04:59+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:38:53+03:00", "subject": "usb: mtu3: add a new function to do status stage", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/mtu3/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 12, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that extracts status stage logic into a dedicated function (ep0_do_status_stage). Low code volume (23 lines changed), driver-specific (mtu3 USB gadget), single file touched. Two-level SOB chain showing maintainer review (author -> Felipe Balbi). Clean atomic refactoring with no behavior change, cross-org contribution (MediaTek -> Intel maintainer).", "code_snippet": "@@ -153,6 +153,15 @@ static void ep0_stall_set(struct mtu3_ep *mep0, bool set, u32 pktrdy)\n \t\tset ? \"SEND\" : \"CLEAR\", decode_ep0_state(mtu));\n }\n \n+static void ep0_do_status_stage(struct mtu3 *mtu)\n+{\n+\tvoid __iomem *mbase = mtu->mac_base;\n+\tu32 value;\n+\n+\tvalue = mtu3_readl(mbase, U3D_EP0CSR) & EP0_W1C_BITS;\n+\tmtu3_writel(mbase, U3D_EP0CSR, value | EP0_SETUPPKTRDY | EP0_DATAEND);\n+}\n+\n static int ep0_queue(struct mtu3_ep *mep0, struct mtu3_request *mreq);\n \n static void ep0_dummy_complete(struct usb_ep *ep, struct usb_request *req)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e6fda6e69db26670f9f09b1742525329e477304a"}
{"commit_hash": "6973dbdd1c1f34cebf2b93ad0c9a1aba84c9c04a", "short_hash": "6973dbdd1c1f", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T16:40:33+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:39:01+03:00", "subject": "usb: gadget: Remove set but not used variable 'opts' in acm_ms_do_config", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "f78bbcae86e6", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removes unused variable to fix compiler warning. 3-line deletion in USB gadget subsystem. Cross-org contribution from Huawei to Intel maintainer. Clear commit message with Fixes tag and explanation.", "code_snippet": "@@ -105,7 +105,6 @@ static struct usb_function *f_msg;\n  */\n static int acm_ms_do_config(struct usb_configuration *c)\n {\n-\tstruct fsg_opts *opts;\n \tint\tstatus;\n \n \tif (gadget_is_otg(c->cdev->gadget)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6973dbdd1c1f34cebf2b93ad0c9a1aba84c9c04a"}
{"commit_hash": "e804cd46b2a214ae5e02e20daf591934a23a66c6", "short_hash": "e804cd46b2a2", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T16:40:34+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-22T10:39:04+03:00", "subject": "usb: gadget: Remove set but not used variable 'opts' in msg_do_config", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "f78bbcae86e6", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 8, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable to fix compiler warning. 3 lines deleted, single file in USB gadget subsystem (tier 7). Cross-org collaboration between Huawei and Intel maintainer. Good commit message with Fixes tag and build warning context. Low technical impact but high code quality standards.", "code_snippet": "@@ -105,7 +105,6 @@ FSG_MODULE_PARAMETERS(/* no prefix */, mod_data);\n \n static int msg_do_config(struct usb_configuration *c)\n {\n-\tstruct fsg_opts *opts;\n \tint ret;\n \n \tif (gadget_is_otg(c->cdev->gadget)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e804cd46b2a214ae5e02e20daf591934a23a66c6"}
{"commit_hash": "54f965db2e8708213cd05a0d0d2bea9c860f69fc", "short_hash": "54f965db2e87", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T17:37:54+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-22T11:34:20+01:00", "subject": "iio: adc: twl4030: Use false / true instead of 0 / 1 with booleans", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio/adc", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Sebastian Reichel <sre@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 4, "score_impact": 2, "score_quality": 12, "score_community": 0, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "This is a trivial code modernization commit replacing 0/1 with false/true for boolean variables, generated by coccinelle. Low technical score due to minimal changes (9 insertions, 9 deletions) in a low-tier ADC driver subsystem. Base score of 2 for cleanup category. Quality score of 5/4 for review chain (Reviewed-by tag) and clear commit message explaining coccinelle suggestion.", "code_snippet": "@@ -521,15 +521,15 @@ static irqreturn_t twl4030_madc_threaded_irq_handler(int irq, void *_madc)\n \t */\n \tfor (i = 0; i < TWL4030_MADC_NUM_METHODS; i++) {\n \t\tr = &madc->requests[i];\n-\t\tif (r->active == 0)\n+\t\tif (!r->active)\n \t\t\tcontinue;\n \t\tmethod = &twl4030_conversion_methods[r->method];\n \t\t/* Read results */\n \t\tlen = twl4030_madc_read_channels(madc, method->rbase,\n \t\t\t\t\t\t r->channels, r->rbuf, r->raw);\n \t\t/* Free request */\n-\t\tr->result_pending = 0;\n-\t\tr->active = 0;\n+\t\tr->result_pending = false;\n+\t\tr->active = false;\n \t}\n \tmutex_unlock(&madc->lock);\n ", "flags": ["COCCINELLE", "TRIVIAL"], "link": "https://lore.kernel.org/linux-kernel/54f965db2e8708213cd05a0d0d2bea9c860f69fc"}
{"commit_hash": "97d62c345af8f3b2c99dd5c5a7d9a354969adc96", "short_hash": "97d62c345af8", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T17:54:12+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-10-22T12:41:07+01:00", "subject": "iio: chemical: sgp30: drop excess semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/chemical"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "Andreas Brauchli <a.brauchli@elementarea.net> (Elementarea)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial whitespace cleanup removing excess semicolon from switch statement. Single character deletion, low subsystem impact (IIO chemical driver), properly reviewed and signed-off by maintainer.", "code_snippet": "@@ -483,7 +483,7 @@ static void sgp_init(struct sgp_data *data)\n \t\tdata->iaq_defval_skip_jiffies =\n \t\t\t43 * data->measure_interval_jiffies;\n \t\tbreak;\n-\t};\n+\t}\n }\n \n static const struct iio_info sgp_info = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97d62c345af8f3b2c99dd5c5a7d9a354969adc96"}
{"commit_hash": "34c15202896d11e3974788daf9005a84ec45f7a2", "short_hash": "34c15202896d", "author_name": "yuqi jin", "author_email": "jinyuqi@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T11:27:34+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-22T13:04:16-07:00", "subject": "net: stmmac: Fix the problem of tso_xmit", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "a993db88d17d", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/stmicro/stmmac"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["yuqi jin <jinyuqi@huawei.com> (Huawei)", "Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 13, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical network driver bug fix for TSO (TCP Segmentation Offload) in stmmac driver. Single-line fix (des += proto_hdr_len) addresses DMA addressing issue with >32-bit addressing where packet header occupies BD descriptor. Has Fixes tag, thorough Cc list, maintainer sign-off. High subsystem tier (networking) and user impact (network functionality).", "code_snippet": "@@ -2995,6 +2995,7 @@ static netdev_tx_t stmmac_tso_xmit(struct sk_buff *skb, struct net_device *dev)\n \t} else {\n \t\tstmmac_set_desc_addr(priv, first, des);\n \t\ttmp_pay_len = pay_len;\n+\t\tdes += proto_hdr_len;\n \t}\n \n \tstmmac_tso_allocator(priv, des, tmp_pay_len, (nfrags == 0), queue);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/34c15202896d11e3974788daf9005a84ec45f7a2"}
{"commit_hash": "44551b2f693d1ddcab4ca9895074f8f61c3a72af", "short_hash": "44551b2f693d", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-09-29T09:06:56+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-22T13:31:14+02:00", "subject": "KVM: Don't shrink/grow vCPU halt_poll_ns if host side polling is disabled", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["virt/kvm"], "subsystem_tier": 8, "files_changed": 1, "insertions": 16, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Marcelo Tosatti <mtosatti@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 10, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "KVM optimization preventing wasteful halt_poll_ns adjustments when host polling is disabled. Small code change (16 insertions, 13 deletions) in critical virtualization subsystem. Acked by maintainer Tosatti, signed off by maintainer Bonzini. Cross-org contribution from Tencent to Red Hat-maintained code.", "code_snippet": "@@ -2360,20 +2360,23 @@ void kvm_vcpu_block(struct kvm_vcpu *vcpu)\n \tkvm_arch_vcpu_unblocking(vcpu);\n \tblock_ns = ktime_to_ns(cur) - ktime_to_ns(start);\n \n-\tif (!vcpu_valid_wakeup(vcpu))\n-\t\tshrink_halt_poll_ns(vcpu);\n-\telse if (halt_poll_ns) {\n-\t\tif (block_ns <= vcpu->halt_poll_ns)\n-\t\t\t;\n-\t\t/* we had a long block, shrink polling */\n-\t\telse if (vcpu->halt_poll_ns && block_ns > halt_poll_ns)\n+\tif (!kvm_arch_no_poll(vcpu)) {\n+\t\tif (!vcpu_valid_wakeup(vcpu)) {\n \t\t\tshrink_halt_poll_ns(vcpu);\n-\t\t/* we had a short halt and our poll time is too small */\n-\t\telse if (vcpu->halt_poll_ns < halt_poll_ns &&\n-\t\t\tblock_ns < halt_poll_ns)\n-\t\t\tgrow_halt_poll_ns(vcpu);\n-\t} else\n-\t\tvcpu->halt_poll_ns = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44551b2f693d1ddcab4ca9895074f8f61c3a72af"}
{"commit_hash": "30ce89acdfe91eb7a88cc5805d2774f11e1eccb4", "short_hash": "30ce89acdfe9", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T10:52:56+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-22T13:34:52+02:00", "subject": "KVM: remove redundant code in kvm_arch_vm_ioctl", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["virt/kvm", "arch/x86"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 11, "score_impact": 4, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 2, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KVM subsystem cleanup removing redundant conditional logic. Small code change (3 deletions) in virtualization core. Cross-org contribution from Huawei engineer with maintainer sign-off. Clean commit message with clear explanation. No testing evidence provided.", "code_snippet": "@@ -4910,9 +4910,6 @@ long kvm_arch_vm_ioctl(struct file *filp,\n \t\tif (!irqchip_kernel(kvm))\n \t\t\tgoto set_irqchip_out;\n \t\tr = kvm_vm_ioctl_set_irqchip(kvm, chip);\n-\t\tif (r)\n-\t\t\tgoto set_irqchip_out;\n-\t\tr = 0;\n \tset_irqchip_out:\n \t\tkfree(chip);\n \t\tbreak;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/30ce89acdfe91eb7a88cc5805d2774f11e1eccb4"}
{"commit_hash": "d665c1281bc89ac85b8b0c058c22a3f94640a1d6", "short_hash": "d665c1281bc8", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-22T07:57:42+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-10-22T13:35:07-07:00", "subject": "net: sched: taprio: fix -Wmissing-prototypes warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "9c66d1564676", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Vinicius Costa Gomes <vinicius.gomes@intel.com> (Intel)"], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Build warning fix adding 'static' keyword to taprio_offload_config_changed(). Trivial 1-line change with proper Fixes tag and maintainer ack. Low user impact as it's a compiler warning fix, not a runtime issue.", "code_snippet": "@@ -1152,7 +1152,7 @@ EXPORT_SYMBOL_GPL(taprio_offload_free);\n  * offload state (PENDING, ACTIVE, INACTIVE) so it can be visible in dump().\n  * This is left as TODO.\n  */\n-void taprio_offload_config_changed(struct taprio_sched *q)\n+static void taprio_offload_config_changed(struct taprio_sched *q)\n {\n \tstruct sched_gate_list *oper, *admin;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d665c1281bc89ac85b8b0c058c22a3f94640a1d6"}
{"commit_hash": "2a21d858f96bdfd3de28abc1341935d06fb47373", "short_hash": "2a21d858f96b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T17:21:31+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-10-22T14:42:34-05:00", "subject": "ipmi: bt-bmc: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": ["Cédric Le Goater <clg@kaod.org> (Kaod)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 2 function calls to 1, eliminates 1 variable declaration. Well-reviewed trivial refactor in low-tier IPMI driver subsystem.", "code_snippet": "@@ -444,15 +444,13 @@ static int bt_bmc_probe(struct platform_device *pdev)\n \n \tbt_bmc->map = syscon_node_to_regmap(pdev->dev.parent->of_node);\n \tif (IS_ERR(bt_bmc->map)) {\n-\t\tstruct resource *res;\n \t\tvoid __iomem *base;\n \n \t\t/*\n \t\t * Assume it's not the MFD-based devicetree description, in\n \t\t * which case generate a regmap ourselves\n \t\t */\n-\t\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\t\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\t\tbase = devm_platform_ioremap_resource(pdev, 0);\n \t\tif (IS_ERR(base))\n \t\t\treturn PTR_ERR(base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a21d858f96bdfd3de28abc1341935d06fb47373"}
{"commit_hash": "5c94ac5d0f9e3c8791d1686e0bf22a2a341d1597", "short_hash": "5c94ac5d0f9e", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-10-18T10:50:31+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-22T18:47:50+02:00", "subject": "KVM: SVM: Fix potential wrong physical id in avic_handle_ldr_update", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 8, "files_changed": 3, "insertions": 8, "deletions": 8, "hunks": 10, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect physical APIC ID usage in AVIC (AMD Virtual Interrupt Controller). The issue could cause wrong APIC ID to be set, potentially leading to interrupt handling corruption. Fix is small (16 lines changed across 3 files), involves exporting kvm_xapic_id() function and using it correctly. Author from Huawei, maintainer (Paolo Bonzini) signed off, indicating review acceptance. KVM is high-tier virtualization subsystem. No explicit testing evidence or stable tag.", "code_snippet": "@@ -111,11 +111,6 @@ static inline int apic_enabled(struct kvm_lapic *apic)\n \t(LVT_MASK | APIC_MODE_MASK | APIC_INPUT_POLARITY | \\\n \t APIC_LVT_REMOTE_IRR | APIC_LVT_LEVEL_TRIGGER)\n \n-static inline u8 kvm_xapic_id(struct kvm_lapic *apic)\n-{\n-\treturn kvm_lapic_get_reg(apic, APIC_ID) >> 24;\n-}\n-\n static inline u32 kvm_x2apic_id(struct kvm_lapic *apic)\n {\n \treturn apic->vcpu->vcpu_id;\ndiff --git a/arch/x86/kvm/lapic.h b/arch/x86/kvm/lapic.h\nindex 2aad7e226fc0..1f5014852e20 100644\n--- a/arch/x86/kvm/lapic.h\n+++ b/arch/x86/kvm/lapic.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5c94ac5d0f9e3c8791d1686e0bf22a2a341d1597"}
{"commit_hash": "e519a34c29597110e92908294be8464e91cabf9c", "short_hash": "e519a34c2959", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T22:19:57+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-22T22:39:40-04:00", "subject": "scsi: cxlflash: remove set but not used variable 'ioarcb'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/cxlflash"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Matthew R. Ochs <mrochs@linux.ibm.com> (IBM)"], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. 2 deletions, single subsystem (cxlflash SCSI driver), acknowledged by maintainer. Low technical impact but well-documented with proper commit message and sign-offs.", "code_snippet": "@@ -44,14 +44,12 @@ static void process_cmd_err(struct afu_cmd *cmd, struct scsi_cmnd *scp)\n \tstruct afu *afu = cmd->parent;\n \tstruct cxlflash_cfg *cfg = afu->parent;\n \tstruct device *dev = &cfg->dev->dev;\n-\tstruct sisl_ioarcb *ioarcb;\n \tstruct sisl_ioasa *ioasa;\n \tu32 resid;\n \n \tif (unlikely(!cmd))\n \t\treturn;\n \n-\tioarcb = &(cmd->rcb);\n \tioasa = &(cmd->sa);\n \n \tif (ioasa->rc.flags & SISL_RC_FLAGS_UNDERRUN) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e519a34c29597110e92908294be8464e91cabf9c"}
{"commit_hash": "f3088e6a12fe516d89cd431877123041235fcd74", "short_hash": "f3088e6a12fe", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T17:05:00+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-10-23T09:26:29+03:00", "subject": "usb: mtu3: fix race condition about delayed_status", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 6, "files_changed": 1, "insertions": 10, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 18, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Race condition fix in USB gadget driver. Detailed commit message with race diagram showing cpu1/cpu2 interaction. Small targeted fix (10 insertions, 2 deletions). Cross-org contribution from MediaTek to Intel maintainer. Critical subsystem (USB gadget) but tier 6 not core networking.", "code_snippet": "@@ -671,8 +671,16 @@ __acquires(mtu->lock)\n \tif (mtu->test_mode) {\n \t\t;\t/* nothing to do */\n \t} else if (handled == USB_GADGET_DELAYED_STATUS) {\n-\t\t/* handle the delay STATUS phase till receive ep_queue on ep0 */\n-\t\tmtu->delayed_status = true;\n+\n+\t\tmreq = next_ep0_request(mtu);\n+\t\tif (mreq) {\n+\t\t\t/* already asked us to continue delayed status */\n+\t\t\tep0_do_status_stage(mtu);\n+\t\t\tep0_req_giveback(mtu, &mreq->request);\n+\t\t} else {\n+\t\t\t/* do delayed STATUS stage till receive ep0_queue */\n+\t\t\tmtu->delayed_status = true;\n+\t\t}\n \t} else if (le16_to_cpu(setup.wLength) == 0) { /* no data stage */\n \n \t\tep0_do_status_stage(mtu);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f3088e6a12fe516d89cd431877123041235fcd74"}
{"commit_hash": "0a4818c19221569b1877ededb3ed991aba35c1e8", "short_hash": "0a4818c19221", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T06:29:00Z", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-10-23T09:58:41-07:00", "subject": "ARM: OMAP2+: Remove duplicated include from pmic-cpcap.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm", "subsystems_touched": ["arch/arm/mach-omap2/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 8, "score_impact": 2, "score_quality": 7, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing duplicate includes. Only 2 deletions, single file in arch/arm subsystem (tier 7 - architecture-specific but not core). Low impact across all dimensions. Maintainer signed off indicates proper review chain.", "code_snippet": "@@ -15,8 +15,6 @@\n #include \"voltage.h\"\n \n #include <linux/init.h>\n-#include <linux/kernel.h>\n-#include \"pm.h\"\n #include \"vc.h\"\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0a4818c19221569b1877ededb3ed991aba35c1e8"}
{"commit_hash": "80da5a809d193c60d090cbdf4fe316781bc07965", "short_hash": "80da5a809d19", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T10:02:49+08:00", "committer_name": "Miklos Szeredi", "committer_email": "mszeredi@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-23T10:25:17+02:00", "subject": "virtiofs: Remove set but not used variable 'fc'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "7ee1e2e631db", "cc_stable": false, "subsystem_prefix": "fs/fuse", "subsystems_touched": ["fs/fuse/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Miklos Szeredi <mszeredi@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 8, "score_impact": 4, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing an unused variable in virtiofs driver. Fixes gcc warning. Low code volume (2 deletions). Subsystem tier 7 (filesystems). Cleanup category scores low (base 3). Good commit message quality (6) with clear explanation and fixes tag. High maintainer endorsement (4) from Miklos Szeredi. Cross-organization contribution from Huawei to Red Hat maintainer.", "code_snippet": "@@ -980,7 +980,6 @@ __releases(fiq->lock)\n {\n \tunsigned int queue_id = VQ_REQUEST; /* TODO multiqueue */\n \tstruct virtio_fs *fs;\n-\tstruct fuse_conn *fc;\n \tstruct fuse_req *req;\n \tstruct virtio_fs_vq *fsvq;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/80da5a809d193c60d090cbdf4fe316781bc07965"}
{"commit_hash": "ad5086108b9f0361929aa9a79cf959ab5681d249", "short_hash": "ad5086108b9f", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T14:45:43+08:00", "committer_name": "Bjorn Helgaas", "committer_email": "bhelgaas@google.com", "committer_company": "Google", "commit_date": "2019-10-23T12:04:44-05:00", "subject": "PCI: Warn if no host bridge NUMA node info", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Bjorn Helgaas <bhelgaas@google.com> (Google)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 9, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "3-line warning for missing NUMA node info on PCI host bridges. Low code volume (A1=1). PCI subsystem is moderately critical (A2=8). Feature category (B1=5). Novel diagnostic warning (B4=2). Good review chain with maintainer sign-off (C1=6, D2=4). Cross-org collaboration (D1=4).", "code_snippet": "@@ -897,6 +897,9 @@ static int pci_register_host_bridge(struct pci_host_bridge *bridge)\n \telse\n \t\tpr_info(\"PCI host bridge to bus %s\\n\", name);\n \n+\tif (nr_node_ids > 1 && pcibus_to_node(bus) == NUMA_NO_NODE)\n+\t\tdev_warn(&bus->dev, \"Unknown NUMA node; performance will be reduced\\n\");\n+\n \t/* Add initial resources to the bus */\n \tresource_list_for_each_entry_safe(window, n, &resources) {\n \t\tlist_move_tail(&window->node, &bridge->windows);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad5086108b9f0361929aa9a79cf959ab5681d249"}
{"commit_hash": "f466de0208e3ef6e9d28ad0b2d6a30cdd9d5052f", "short_hash": "f466de0208e3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-09T15:23:09+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-23T13:20:26+05:30", "subject": "phy: tegra: xusb: remove unused variable", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy/tegra/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Thierry Reding <treding@nvidia.com> (NVIDIA)"], "reported_by": []}, "score_total": 22, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable declaration and assignment. Cross-org contribution (MediaTek to Tegra PHY). Acked by subsystem maintainer Thierry Reding. Zero functional impact, minimal code change (3 deletions).", "code_snippet": "@@ -1225,13 +1225,10 @@ static int tegra210_hsic_phy_power_on(struct phy *phy)\n \tstruct tegra_xusb_hsic_lane *hsic = to_hsic_lane(lane);\n \tstruct tegra_xusb_hsic_pad *pad = to_hsic_pad(lane->pad);\n \tstruct tegra_xusb_padctl *padctl = lane->pad->padctl;\n-\tstruct tegra210_xusb_padctl *priv;\n \tunsigned int index = lane->index;\n \tu32 value;\n \tint err;\n \n-\tpriv = to_tegra210_xusb_padctl(padctl);\n-\n \terr = regulator_enable(pad->supply);\n \tif (err)\n \t\treturn err;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f466de0208e3ef6e9d28ad0b2d6a30cdd9d5052f"}
{"commit_hash": "fa093440142d3d25d619580373bb40e9653a203a", "short_hash": "fa093440142d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T21:57:35+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-23T13:20:28+05:30", "subject": "phy: hisilicon: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/hisilicon"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 4, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource wrapper. Affects 2 PHY driver files in hisilicon subsystem. Cross-org contribution from Huawei (yuehaibing@huawei.com) signed off by TI maintainer Kishon Vijay Abraham I. Clean atomic refactor with proper review chain, minimal code change (2 insertions, 6 deletions) using coccinelle-detected pattern.", "code_snippet": "@@ -122,8 +121,7 @@ static int hisi_inno_phy_probe(struct platform_device *pdev)\n \tif (!priv)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->mmio = devm_ioremap_resource(dev, res);\n+\tpriv->mmio = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->mmio)) {\n \t\tret = PTR_ERR(priv->mmio);\n \t\treturn ret;\ndiff --git a/drivers/phy/hisilicon/phy-histb-combphy.c b/drivers/phy/hisilicon/phy-histb-combphy.c\nindex 62d10ef20296..f1cb3e4d2add 100644\n--- a/drivers/phy/hisilicon/phy-histb-combphy.c\n+++ b/drivers/phy/hisilicon/phy-histb-combphy.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa093440142d3d25d619580373bb40e9653a203a"}
{"commit_hash": "7f2cbcbcafbca5360efbd175b3320852b8f7c637", "short_hash": "7f2cbcbcafbc", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-21T15:44:12+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-10-23T14:48:24+02:00", "subject": "posix-cpu-timers: Fix two trivial comments", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "b7be4ef1365d", "cc_stable": false, "subsystem_prefix": "kernel/time", "subsystems_touched": ["kernel/time/posix-cpu-timers.c"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial comment-only fix (3 insertions, 3 deletions) correcting typo '@iimes' to '@samples' and updating parameter name in kernel/time subsystem. Fixed documentation that was outdated by previous commits. Low technical impact but proper message quality with Fixes tag and dual sign-off including maintainer Thomas Gleixner.", "code_snippet": "@@ -266,7 +266,7 @@ static void update_gt_cputime(struct task_cputime_atomic *cputime_atomic,\n /**\n  * thread_group_sample_cputime - Sample cputime for a given task\n  * @tsk:\tTask for which cputime needs to be started\n- * @iimes:\tStorage for time samples\n+ * @samples:\tStorage for time samples\n  *\n  * Called from sys_getitimer() to calculate the expiry time of an active\n  * timer. That means group cputime accounting is already active. Called", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f2cbcbcafbca5360efbd175b3320852b8f7c637"}
{"commit_hash": "9fe57d8c575d7dc012bbfcf5698048304206a99d", "short_hash": "9fe57d8c575d", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T11:23:02+08:00", "committer_name": "Paul Walmsley", "committer_email": "paul.walmsley@sifive.com", "committer_company": "Sifive", "commit_date": "2019-10-23T14:53:46-07:00", "subject": "riscv: Fix undefined reference to vmemmap_populate_basepages", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "d95f1a542c3d", "cc_stable": false, "subsystem_prefix": "riscv", "subsystems_touched": ["arch/riscv/mm"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Paul Walmsley <paul.walmsley@sifive.com> (Sifive)"], "reviewed_by": ["Logan Gunthorpe <logang@deltatee.com> (Deltatee)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 7, "score_impact": 11, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build fix for RISC-V architecture resolving undefined reference error. Single-line Kconfig change from CONFIG_SPARSEMEM to CONFIG_SPARSEMEM_VMEMMAP. Has Fixes tag and Reviewed-by, proper commit message with build error context. Low complexity but critical for build success on affected configurations.", "code_snippet": "@@ -458,7 +458,7 @@ void __init paging_init(void)\n \tzone_sizes_init();\n }\n \n-#ifdef CONFIG_SPARSEMEM\n+#ifdef CONFIG_SPARSEMEM_VMEMMAP\n int __meminit vmemmap_populate(unsigned long start, unsigned long end, int node,\n \t\t\t       struct vmem_altmap *altmap)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9fe57d8c575d7dc012bbfcf5698048304206a99d"}
{"commit_hash": "62103ece52360992a6799e9ec85628166a8477e8", "short_hash": "62103ece5236", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T11:23:01+08:00", "committer_name": "Paul Walmsley", "committer_email": "paul.walmsley@sifive.com", "committer_company": "Sifive", "commit_date": "2019-10-23T14:53:46-07:00", "subject": "riscv: Fix implicit declaration of 'page_to_section'", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d95f1a542c3d", "cc_stable": false, "subsystem_prefix": "arch/riscv", "subsystems_touched": ["arch/riscv"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Paul Walmsley <paul.walmsley@sifive.com> (Sifive)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 19, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical compilation fix for RISC-V architecture preventing build failures with SPARSEMEM config. Small change (1 insert, 4 deletes) converting inline function to macro to resolve implicit declaration error. Has Fixes tag and proper maintainer review chain. Cross-org contribution from Huawei to Sifive maintainer.", "code_snippet": "@@ -184,10 +184,7 @@ static inline pte_t pfn_pte(unsigned long pfn, pgprot_t prot)\n \treturn __pte((pfn << _PAGE_PFN_SHIFT) | pgprot_val(prot));\n }\n \n-static inline pte_t mk_pte(struct page *page, pgprot_t prot)\n-{\n-\treturn pfn_pte(page_to_pfn(page), prot);\n-}\n+#define mk_pte(page, prot)       pfn_pte(page_to_pfn(page), prot)\n \n #define pte_index(addr) (((addr) >> PAGE_SHIFT) & (PTRS_PER_PTE - 1))\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62103ece52360992a6799e9ec85628166a8477e8"}
{"commit_hash": "ef5dee551e3e6568fb203ea57fa24f55cb64d451", "short_hash": "ef5dee551e3e", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T14:31:03+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-23T17:45:34+01:00", "subject": "ASoC: mediatek: Check SND_SOC_CROS_EC_CODEC dependency", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "2cc3cd5fdc8b", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 10, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 1, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build dependency fix for Kconfig. 1-line change adding conditional dependency. Addresses linker errors when CROS_EC_CODEC is selected without CROS_EC dependency. Cross-org contribution from Huawei to MediaTek subsystem, signed by maintainer Mark Brown. Well-documented with Fixes tag and error explanation.", "code_snippet": "@@ -125,7 +125,7 @@ config SND_SOC_MT8183_MT6358_TS3A227E_MAX98357A\n \tselect SND_SOC_MAX98357A\n \tselect SND_SOC_BT_SCO\n \tselect SND_SOC_TS3A227E\n-\tselect SND_SOC_CROS_EC_CODEC\n+\tselect SND_SOC_CROS_EC_CODEC if CROS_EC\n \thelp\n \t  This adds ASoC driver for Mediatek MT8183 boards\n \t  with the MT6358 TS3A227E MAX98357A audio codec.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ef5dee551e3e6568fb203ea57fa24f55cb64d451"}
{"commit_hash": "14304da06cb398dfc843703b550590e9269f1720", "short_hash": "14304da06cb3", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-11T18:08:02+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-23T19:46:56+11:00", "subject": "crypto: ux500 - Remove set but not used variable 'cookie'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "8a63b1994c50", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/ux500/hash/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 3, "score_impact": 1, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable to fix compiler warning. Minimal code impact (1 insertion, 2 deletions) in low-tier crypto driver subsystem. Good commit hygiene with proper Fixes tag and maintainer sign-off.", "code_snippet": "@@ -140,7 +140,6 @@ static int hash_set_dma_transfer(struct hash_ctx *ctx, struct scatterlist *sg,\n {\n \tstruct dma_async_tx_descriptor *desc = NULL;\n \tstruct dma_chan *channel = NULL;\n-\tdma_cookie_t cookie;\n \n \tif (direction != DMA_TO_DEVICE) {\n \t\tdev_err(ctx->device->dev, \"%s: Invalid DMA direction\\n\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/14304da06cb398dfc843703b550590e9269f1720"}
{"commit_hash": "b981744ef04f7e8cb6931edab50021fff3c8077e", "short_hash": "b981744ef04f", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-11T19:18:10+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-23T19:46:56+11:00", "subject": "crypto: hisilicon - select NEED_SG_DMA_LENGTH in qm Kconfig", "primary_category": "BUILD", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "dfed0098ab91", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 25, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig build fix adding NEED_SG_DMA_LENGTH select for Hisilicon crypto driver. 1-line change to resolve compile error on certain platforms. Fix references prior commit dfed0098ab91 that added hardware SGL support. Herbert Xu (crypto maintainer) signed off, indicating subsystem maintainer endorsement. Reported by kbuild test robot. Low code volume (1), focused scope (single subsystem), build category base score (2). Atomic change with clear purpose. Cross-org contribution from Hisilicon to mainline.", "code_snippet": "@@ -18,6 +18,7 @@ config CRYPTO_DEV_HISI_QM\n \ttristate\n \tdepends on ARM64 || COMPILE_TEST\n \tdepends on PCI && PCI_MSI\n+\tselect NEED_SG_DMA_LENGTH\n \thelp\n \t  HiSilicon accelerator engines use a common queue management\n \t  interface. Specific engine driver may use this module.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b981744ef04f7e8cb6931edab50021fff3c8077e"}
{"commit_hash": "fcf801cc551a05a439f819d91b5f853a49c8d243", "short_hash": "fcf801cc551a", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-11T20:44:53+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-23T19:46:57+11:00", "subject": "crypto: chtls - remove the redundant check in chtls_recvmsg()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 18, "score_quality": 6, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removes redundant NULL check in crypto driver path (chtls_recvmsg). Static analysis identified potentially unnecessary check before skb dereference. 1 insertion, 2 deletions in single file. Herbert Xu (crypto maintainer) signed off, indicating subsystem maintainer endorsement.", "code_snippet": "@@ -1841,8 +1841,7 @@ int chtls_recvmsg(struct sock *sk, struct msghdr *msg, size_t len,\n \t\t\ttp->urg_data = 0;\n \n \t\tif (avail + offset >= skb->len) {\n-\t\t\tif (likely(skb))\n-\t\t\t\tchtls_free_skb(sk, skb);\n+\t\t\tchtls_free_skb(sk, skb);\n \t\t\tbuffers_freed++;\n \n \t\t\tif  (copied >= target &&\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fcf801cc551a05a439f819d91b5f853a49c8d243"}
{"commit_hash": "337d866a8014987dd45cf138ddcb9eca1ae44d56", "short_hash": "337d866a8014", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:36:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-23T21:37:48-07:00", "subject": "net: lan78xx: remove set but not used variable 'event'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/usb/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit removing an unused variable to fix a compiler warning. Minimal code impact (3 lines deleted), single subsystem (USB network driver), no functional change. Well-documented with clear justification, signed off by maintainer David S. Miller.", "code_snippet": "@@ -3992,9 +3992,6 @@ static int lan78xx_suspend(struct usb_interface *intf, pm_message_t message)\n \tstruct lan78xx_priv *pdata = (struct lan78xx_priv *)(dev->data[0]);\n \tu32 buf;\n \tint ret;\n-\tint event;\n-\n-\tevent = message.event;\n \n \tif (!dev->suspend_count++) {\n \t\tspin_lock_irq(&dev->txq.lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/337d866a8014987dd45cf138ddcb9eca1ae44d56"}
{"commit_hash": "ef03681ae8df770745978148a7fb84796ae99cba", "short_hash": "ef03681ae8df", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:10:08+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-10-23T22:09:56-06:00", "subject": "io_uring : correct timeout req sequence when waiting timeout", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 10, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 16, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for io_uring timeout sequence handling - prevents timeout requests from returning prematurely without waiting for enough wait_nr. The fix adjusts sequence numbers for requests on timeout_list before current timeout req. Small but critical fix for a race condition in core async I/O subsystem. Well-reviewed by maintainer Jens Axboe.", "code_snippet": "@@ -1877,7 +1877,7 @@ static int io_poll_add(struct io_kiocb *req, const struct io_uring_sqe *sqe)\n static enum hrtimer_restart io_timeout_fn(struct hrtimer *timer)\n {\n \tstruct io_ring_ctx *ctx;\n-\tstruct io_kiocb *req;\n+\tstruct io_kiocb *req, *prev;\n \tunsigned long flags;\n \n \treq = container_of(timer, struct io_kiocb, timeout.timer);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ef03681ae8df770745978148a7fb84796ae99cba"}
{"commit_hash": "a1f58ba46f794b1168d1107befcf3d4b9f9fd453", "short_hash": "a1f58ba46f79", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:10:09+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-10-23T22:09:56-06:00", "subject": "io_uring: correct timeout req sequence when inserting a new entry", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 9, "files_changed": 1, "insertions": 10, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 13, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for io_uring timeout request sequence numbering. Small patch (11 lines) fixing incorrect sequence handling when inserting timeout entries. The bug could cause timeouts to trigger incorrectly even after requests completed. Cross-org contribution from Huawei to upstream maintainer Jens Axboe. Good commit message with clear explanation and example. Focused atomic fix in fs/io_uring.c.", "code_snippet": "@@ -1912,6 +1912,7 @@ static int io_timeout(struct io_kiocb *req, const struct io_uring_sqe *sqe)\n \tstruct io_ring_ctx *ctx = req->ctx;\n \tstruct list_head *entry;\n \tstruct timespec64 ts;\n+\tunsigned span = 0;\n \n \tif (unlikely(ctx->flags & IORING_SETUP_IOPOLL))\n \t\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1f58ba46f794b1168d1107befcf3d4b9f9fd453"}
{"commit_hash": "f64b06bd362a6d9e22a2a23dacd50882c1418eff", "short_hash": "f64b06bd362a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:38:42+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-24T08:48:00+03:00", "subject": "adm80211: remove set but not used variables 'mem_addr' and 'io_addr'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variables in a wireless driver. Fixes gcc warnings but has no functional impact. Low code volume (2 insertions, 4 deletions). Wireless networking subsystem has moderate importance. Proper commit message with warning details and Signed-off-by chain showing maintainer review.", "code_snippet": "@@ -1781,8 +1781,8 @@ static int adm8211_probe(struct pci_dev *pdev,\n {\n \tstruct ieee80211_hw *dev;\n \tstruct adm8211_priv *priv;\n-\tunsigned long mem_addr, mem_len;\n-\tunsigned int io_addr, io_len;\n+\tunsigned long mem_len;\n+\tunsigned int io_len;\n \tint err;\n \tu32 reg;\n \tu8 perm_addr[ETH_ALEN];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f64b06bd362a6d9e22a2a23dacd50882c1418eff"}
{"commit_hash": "d0c160b18ef5a353d8b9e1c7b616d1083c1b010b", "short_hash": "d0c160b18ef5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:40:19+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-24T08:48:31+03:00", "subject": "atmel: remove set but not used variable 'dev'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/atmel"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Minimal technical impact (2 deletions), non-critical wireless driver subsystem. Single change, atomic, well-documented with warning context. Cross-org contribution from Huawei to CodeAurora maintainer.", "code_snippet": "@@ -117,11 +117,9 @@ static int atmel_config_check(struct pcmcia_device *p_dev, void *priv_data)\n \n static int atmel_config(struct pcmcia_device *link)\n {\n-\tstruct local_info *dev;\n \tint ret;\n \tconst struct pcmcia_device_id *did;\n \n-\tdev = link->priv;\n \tdid = dev_get_drvdata(&link->dev);\n \n \tdev_dbg(&link->dev, \"atmel_config\\n\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0c160b18ef5a353d8b9e1c7b616d1083c1b010b"}
{"commit_hash": "4fcef86091327d92008ca0328d45075343e7edea", "short_hash": "4fcef8609132", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:53:42+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-24T08:49:04+03:00", "subject": "rtl8xxxu: remove set but not used variable 'rate_mask'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 6, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. Low complexity (5 lines deleted), single file in wireless driver subsystem. Cross-org contribution from Huawei to Qualcom/Atheros tree (maintainer Kalle Valo). Clean commit message with warning context and reference to originating commit. No testing evidence provided.", "code_snippet": "@@ -4484,11 +4484,6 @@ static u16\n rtl8xxxu_wireless_mode(struct ieee80211_hw *hw, struct ieee80211_sta *sta)\n {\n \tu16 network_type = WIRELESS_MODE_UNKNOWN;\n-\tu32 rate_mask;\n-\n-\trate_mask = (sta->supp_rates[0] & 0xfff) |\n-\t\t    (sta->ht_cap.mcs.rx_mask[0] << 12) |\n-\t\t    (sta->ht_cap.mcs.rx_mask[0] << 20);\n \n \tif (hw->conf.chandef.chan->band == NL80211_BAND_5GHZ) {\n \t\tif (sta->vht_cap.vht_supported)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fcef86091327d92008ca0328d45075343e7edea"}
{"commit_hash": "6571317713c88cfcc647b58475b5dc943c16cc45", "short_hash": "6571317713c8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T22:10:53+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-10-24T14:03:27+02:00", "subject": "pinctrl: mediatek: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pinctrl", "subsystems_touched": ["drivers/pinctrl/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource(). Reduces code from 3 lines to 1, removes unnecessary 'res' variable. Clean code cleanup detected by coccinelle. Maintainer Linus Walleij (pinctrl maintainer) signed off, indicating endorsement. Cross-org contribution from Huawei to Mediatek subsystem.", "code_snippet": "@@ -982,7 +982,6 @@ static const struct mtk_eint_xt mtk_eint_xt = {\n static int mtk_eint_init(struct mtk_pinctrl *pctl, struct platform_device *pdev)\n {\n \tstruct device_node *np = pdev->dev.of_node;\n-\tstruct resource *res;\n \n \tif (!of_property_read_bool(np, \"interrupt-controller\"))\n \t\treturn -ENODEV;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6571317713c88cfcc647b58475b5dc943c16cc45"}
{"commit_hash": "fa679767addededcff5b35fadb95028542e3ff0a", "short_hash": "fa679767adde", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T22:12:17+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-10-24T14:04:13+02:00", "subject": "pinctrl: mvebu: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/mvebu/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 3, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 6, "score_impact": 7, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small refactoring using devm_platform_ioremap_resource() helper to simplify code across 2 files. Low complexity (5 insertions, 8 deletions). Author from Huawei, merged by subsystem maintainer Linus Walleij. Modernizes codebase but no functional change or user impact.", "code_snippet": "@@ -759,12 +759,10 @@ int mvebu_pinctrl_simple_mmio_probe(struct platform_device *pdev)\n {\n \tstruct mvebu_pinctrl_soc_info *soc = dev_get_platdata(&pdev->dev);\n \tstruct mvebu_mpp_ctrl_data *mpp_data;\n-\tstruct resource *res;\n \tvoid __iomem *base;\n \tint i;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tbase = devm_ioremap_resource(&pdev->dev, res);\n+\tbase = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(base))\n \t\treturn PTR_ERR(base);\n \ndiff --git a/drivers/pinctrl/mvebu/pinctrl-orion.c b/drivers/pinctrl/mvebu/pinctrl-orion.c\nindex 29bb9d8cbbb5..cc97d270be61 100644\n--- a/drivers/pinctrl/mvebu/pinctrl-orion.c\n+++ b/drivers/pinctrl/mvebu/pinctrl-orion.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa679767addededcff5b35fadb95028542e3ff0a"}
{"commit_hash": "6a5cb53aaa4ef515ddeffa04ce18b771121127b4", "short_hash": "6a5cb53aaa4e", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T16:00:03+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-10-24T15:22:40-07:00", "subject": "md: no longer compare spare disk superblock events in super_load", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 51, "deletions": 6, "hunks": 18, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 11, "score_impact": 20, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "This is a critical RAID array crash bug fix affecting md subsystem. The commit addresses a scenario where array assembly fails after disk recovery interruption. Well-documented with detailed test case, clear explanation of root cause (spare disk incorrectly chosen as fresh disk), and proper fix across both super_90_load and super_1_load functions. Cross-org contribution (Huawei author, Facebook maintainer).", "code_snippet": "@@ -1156,7 +1156,15 @@ static int super_90_load(struct md_rdev *rdev, struct md_rdev *refdev, int minor\n \t\trdev->desc_nr = sb->this_disk.number;\n \n \tif (!refdev) {\n-\t\tret = 1;\n+\t\t/*\n+\t\t * Insist on good event counter while assembling, except\n+\t\t * for spares (which don't need an event count)\n+\t\t */\n+\t\tif (sb->disks[rdev->desc_nr].state & (\n+\t\t\t(1<<MD_DISK_SYNC) | (1 << MD_DISK_ACTIVE)))\n+\t\t\tret = 1;\n+\t\telse\n+\t\t\tret = 0;\n \t} else {\n \t\t__u64 ev1, ev2;\n \t\tmdp_super_t *refsb = page_address(refdev->sb_page);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a5cb53aaa4ef515ddeffa04ce18b771121127b4"}
{"commit_hash": "8424312516e5d9baeeb0a95d0e4523579b7aa395", "short_hash": "8424312516e5", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T03:46:26Z", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-24T18:02:53+01:00", "subject": "irqchip/gic-v3-its: Use the exact ITSList for VMOVP", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 18, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 13, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for VMOVP ITSList handling in GICv3 ITS driver. The commit corrects a logic issue where the wrong ITS list was being used during VPE migration, potentially causing unnecessary synchronization. Performance optimization aspect noted in commit message. Code volume is modest (21 lines changed in one file). Cross-org collaboration (Huawei author, Arm maintainer). High subsystem criticality for interrupt controller code.", "code_snippet": "@@ -175,6 +175,22 @@ static DEFINE_IDA(its_vpeid_ida);\n #define gic_data_rdist_rd_base()\t(gic_data_rdist()->rd_base)\n #define gic_data_rdist_vlpi_base()\t(gic_data_rdist_rd_base() + SZ_128K)\n \n+static u16 get_its_list(struct its_vm *vm)\n+{\n+\tstruct its_node *its;\n+\tunsigned long its_list = 0;\n+\n+\tlist_for_each_entry(its, &its_nodes, entry) {\n+\t\tif (!its->is_v4)\n+\t\t\tcontinue;\n+\n+\t\tif (vm->vlpi_count[its->list_nr])\n+\t\t\t__set_bit(its->list_nr, &its_list);\n+\t}\n+\n+\treturn (u16)its_list;\n+}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8424312516e5d9baeeb0a95d0e4523579b7aa395"}
{"commit_hash": "c31e2febdeb2a58cfb1e37c73d411c8c3d75a72b", "short_hash": "c31e2febdeb2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-06T04:38:38-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-24T18:45:25-03:00", "subject": "media: i2c: ov5695: Fix randbuild error", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "623df5d710fe", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/i2c"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sakari Ailus <sakari.ailus@linux.intel.com> (Intel)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 15, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build configuration fix for undefined reference error in camera sensor driver. Kconfig change adds missing V4L2_FWNODE dependency. Single-line fix with proper Fixes tag and maintainer sign-offs from Sakari Ailus and Mauro Carvalho Chehab.", "code_snippet": "@@ -729,6 +729,7 @@ config VIDEO_OV5675\n config VIDEO_OV5695\n \ttristate \"OmniVision OV5695 sensor support\"\n \tdepends on I2C && VIDEO_V4L2\n+\tselect V4L2_FWNODE\n \thelp\n \t  This is a Video4Linux2 sensor driver for the OmniVision\n \t  OV5695 camera.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c31e2febdeb2a58cfb1e37c73d411c8c3d75a72b"}
{"commit_hash": "0cf9f4e547cebb5f5d2d046437c71ddcc8ea4a39", "short_hash": "0cf9f4e547ce", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-22T14:27:08+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T20:34:10-04:00", "subject": "scsi: sd: define variable dif as unsigned int instead of bool", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "e249e42d277e", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/sd.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 20, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for type mismatch causing IO errors on DIF3 disks. The bool type truncates the return value of scsi_host_dif_capable(), losing DIF3 capability information. This is a regression introduced by e249e42d277e. Small code change (1 insert, 2 deletes) but high impact as it causes data corruption/IO errors. Has Reviewed-by from maintainer. SCSI storage subsystem is critical infrastructure.", "code_snippet": "@@ -1166,11 +1166,12 @@ static blk_status_t sd_setup_read_write_cmnd(struct scsi_cmnd *cmd)\n \tsector_t lba = sectors_to_logical(sdp, blk_rq_pos(rq));\n \tsector_t threshold;\n \tunsigned int nr_blocks = sectors_to_logical(sdp, blk_rq_sectors(rq));\n-\tbool dif, dix;\n \tunsigned int mask = logical_to_sectors(sdp, 1) - 1;\n \tbool write = rq_data_dir(rq) == WRITE;\n \tunsigned char protect, fua;\n \tblk_status_t ret;\n+\tunsigned int dif;\n+\tbool dix;\n \n \tret = scsi_init_io(cmd);\n \tif (ret != BLK_STS_OK)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0cf9f4e547cebb5f5d2d046437c71ddcc8ea4a39"}
{"commit_hash": "e07734fdee7800b5ca7f24fa4e3f0b0ea13845ba", "short_hash": "e07734fdee78", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T22:20:42+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:15:30-04:00", "subject": "scsi: cxgb4i: remove set but not used variable 'ppmax'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "a248384e6420", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/", "drivers/target/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 0, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 1, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial dead code removal fixing compiler warnings. 5 lines deleted across 2 files (SCSI and target subsystems). Proper commit message with Link tag, Fixes tag referencing commit a248384e6420, Signed-off-by from author and maintainer Martin K. Petersen. Cross-org contribution (Huawei author, Oracle maintainer). No functional change, no testing needed.", "code_snippet": "@@ -2082,7 +2081,6 @@ static int cxgb4i_ddp_init(struct cxgbi_device *cdev)\n \t}\n \n \tcdev->flags |= CXGBI_FLAG_USE_PPOD_OFLDQ;\n-\tppmax = lldi->vr->iscsi.size >> PPOD_SIZE_SHIFT;\n \n \tmemset(&tformat, 0, sizeof(struct cxgbi_tag_format));\n \tfor (i = 0; i < 4; i++)\ndiff --git a/drivers/target/iscsi/cxgbit/cxgbit_ddp.c b/drivers/target/iscsi/cxgbit/cxgbit_ddp.c\nindex 54bb1ebd8eb5..af35251232eb 100644\n--- a/drivers/target/iscsi/cxgbit/cxgbit_ddp.c\n+++ b/drivers/target/iscsi/cxgbit/cxgbit_ddp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e07734fdee7800b5ca7f24fa4e3f0b0ea13845ba"}
{"commit_hash": "35ea630b2bad4fe9f7db34624eaab3663bb2cb42", "short_hash": "35ea630b2bad", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:13+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for CQ", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 22, "deletions": 14, "hunks": 16, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit adding debugfs structure for CQ (Completion Queue) in hisi_sas driver. Creates struct hisi_sas_debugfs_cq to bundle CQ pointer with complete_hdr, improving debugfs file organization. Low code volume (36 lines changed), limited to single driver subsystem. Good commit message with Link tag, proper SOB chain (author -> John Garry -> maintainer Martin K. Petersen). Atomic change with no functional impact to production code path, only debugfs. Maintainer-endorsed via merge.", "code_snippet": "@@ -2985,13 +2985,13 @@ static void hisi_sas_show_row_32(struct seq_file *s, int index,\n \tseq_puts(s, \"\\n\");\n }\n \n-static void hisi_sas_cq_show_slot(struct seq_file *s, int slot, void *cq_ptr)\n+static void hisi_sas_cq_show_slot(struct seq_file *s, int slot,\n+\t\t\t\t  struct hisi_sas_debugfs_cq *debugfs_cq)\n {\n-\tstruct hisi_sas_cq *cq = cq_ptr;\n+\tstruct hisi_sas_cq *cq = debugfs_cq->cq;\n \tstruct hisi_hba *hisi_hba = cq->hisi_hba;\n-\tvoid *complete_queue = hisi_hba->debugfs_complete_hdr[cq->id];\n-\t__le32 *complete_hdr = complete_queue +\n-\t\t\t(hisi_hba->hw->complete_hdr_size * slot);\n+\t__le32 *complete_hdr = debugfs_cq->complete_hdr +\n+\t\t\t       (hisi_hba->hw->complete_hdr_size * slot);\n \n \thisi_sas_show_row_32(s, slot,\n \t\t\t     hisi_hba->hw->complete_hdr_size,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35ea630b2bad4fe9f7db34624eaab3663bb2cb42"}
{"commit_hash": "d28ed83b769378deefa82456f962e14a4b0afadf", "short_hash": "d28ed83b7693", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:12+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: Add timestamp for a debugfs dump", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 10, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 8, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debug timestamp feature for SCSI hisi_sas driver - minor enhancement adding timestamp field to debugfs dump interface. Low complexity (10 insertions, 0 deletions), driver subsystem (tier 6), well-reviewed (3 Signed-off-bys including maintainer Martin K. Petersen)", "code_snippet": "@@ -3201,10 +3202,14 @@ static void hisi_sas_debugfs_create_files(struct hisi_hba *hisi_hba)\n \tint c;\n \tint d;\n \n+\tdebugfs_timestamp = &hisi_hba->debugfs_timestamp;\n \t/* Create dump dir inside device dir */\n \tdump_dentry = debugfs_create_dir(\"dump\", hisi_hba->debugfs_dir);\n \thisi_hba->debugfs_dump_dentry = dump_dentry;\n \n+\tdebugfs_create_u64(\"timestamp\", 0400, dump_dentry,\n+\t\t\t   debugfs_timestamp);\n+\n \tdebugfs_create_file(\"global\", 0400, dump_dentry, hisi_hba,\n \t\t\t    &hisi_sas_debugfs_global_fops);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d28ed83b769378deefa82456f962e14a4b0afadf"}
{"commit_hash": "550c0d89d52d3bec5c299f69b4ed5d2ee6b8a9a6", "short_hash": "550c0d89d52d", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-24T22:08:11+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: Replace in_softirq() check in hisi_sas_task_exec()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 11, "score_impact": 20, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for scheduling while atomic crash in SCSI Hisilicon SAS driver. Replaces in_softirq() check with preemptible() to prevent double preemption disable causing BUG: scheduling while atomic. Good commit message with detailed call trace, 3-level review chain (author->co-developer->maintainer), atomic fix focused on single function. Device driver criticality tier 8.", "code_snippet": "@@ -587,7 +587,13 @@ static int hisi_sas_task_exec(struct sas_task *task, gfp_t gfp_flags,\n \tdev = hisi_hba->dev;\n \n \tif (unlikely(test_bit(HISI_SAS_REJECT_CMD_BIT, &hisi_hba->flags))) {\n-\t\tif (in_softirq())\n+\t\t/*\n+\t\t * For IOs from upper layer, it may already disable preempt\n+\t\t * in the IO path, if disable preempt again in down(),\n+\t\t * function schedule() will report schedule_bug(), so check\n+\t\t * preemptible() before goto down().\n+\t\t */\n+\t\tif (!preemptible())\n \t\t\treturn -EINVAL;\n \n \t\tdown(&hisi_hba->sem);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/550c0d89d52d3bec5c299f69b4ed5d2ee6b8a9a6"}
{"commit_hash": "8fa9a7bd3099a96194d767ce681c68dbcb8a957e", "short_hash": "8fa9a7bd3099", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-24T22:08:10+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: use wait_for_completion_timeout() when clearing ITCT", "primary_category": "BUG-HANG", "secondary_categories": ["BUG-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 5, "insertions": 33, "deletions": 12, "hunks": 20, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 18, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for system hang in hisi_sas driver. Replaces wait_for_completion() with wait_for_completion_timeout() to prevent indefinite waiting during ITCT clearing when hardware errors occur. Affects 5 files across multiple hardware versions (v1/v2/v3). Cross-org contribution from Hisilicon (Huawei) with proper maintainer sign-offs. Well-documented commit with clear explanation of root cause.", "code_snippet": "@@ -296,8 +297,8 @@ struct hisi_sas_hw {\n \tvoid (*phy_set_linkrate)(struct hisi_hba *hisi_hba, int phy_no,\n \t\t\tstruct sas_phy_linkrates *linkrates);\n \tenum sas_linkrate (*phy_get_max_linkrate)(void);\n-\tvoid (*clear_itct)(struct hisi_hba *hisi_hba,\n-\t\t\t    struct hisi_sas_device *dev);\n+\tint (*clear_itct)(struct hisi_hba *hisi_hba,\n+\t\t\t  struct hisi_sas_device *dev);\n \tvoid (*free_device)(struct hisi_sas_device *sas_dev);\n \tint (*get_wideport_bitmap)(struct hisi_hba *hisi_hba, int port_id);\n \tvoid (*dereg_device)(struct hisi_hba *hisi_hba,\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex ceba1016b77f..621eebbeacd6 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8fa9a7bd3099a96194d767ce681c68dbcb8a957e"}
{"commit_hash": "65a3b8bd56942dc988b8c05615bd3f510a10012b", "short_hash": "65a3b8bd5694", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-24T22:08:09+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: Set the BIST init value before enabling BIST", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "97b151e75861", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 13, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix correcting BIST initialization order in HiSilicon SAS driver. Fixes regression from commit 97b151e where BIST was enabled before setting init values, causing potential error bits. Small focused change (5 insertions, 5 deletions) moving code block to correct position. Strong review chain with 3 sign-offs including maintainer Martin K. Petersen. Good commit message with Fixes tag and Link. Cross-org contribution from Hisilicon to mainline via Huawei maintainer.", "code_snippet": "@@ -3022,11 +3022,6 @@ static int debugfs_set_bist_v3_hw(struct hisi_hba *hisi_hba, bool enable)\n \t\thisi_sas_phy_write32(hisi_hba, phy_id,\n \t\t\t\t     SAS_PHY_BIST_CTRL, reg_val);\n \n-\t\tmdelay(100);\n-\t\treg_val |= (CFG_RX_BIST_EN_MSK | CFG_TX_BIST_EN_MSK);\n-\t\thisi_sas_phy_write32(hisi_hba, phy_id,\n-\t\t\t\t     SAS_PHY_BIST_CTRL, reg_val);\n-\n \t\t/* set the bist init value */\n \t\thisi_sas_phy_write32(hisi_hba, phy_id,\n \t\t\t\t     SAS_PHY_BIST_CODE,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/65a3b8bd56942dc988b8c05615bd3f510a10012b"}
{"commit_hash": "35160421b63d4753a72e9f72ebcdd9d6f88f84b9", "short_hash": "35160421b63d", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-24T22:08:08+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:13-04:00", "subject": "scsi: hisi_sas: Don't create debugfs dump folder twice", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "7ec7082c57ec", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 13, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for merge error causing debugfs dump folder to be created twice, breaking the dump function. 3-line deletion fix with proper Fixes tag, reviewed through maintainer chain (Chen @ hisilicon -> Garry @ huawei -> Petersen @ oracle). SCSI subsystem tier 8, impacts HiSilicon SAS driver debugging capability.", "code_snippet": "@@ -3712,9 +3712,6 @@ static int hisi_sas_debugfs_alloc(struct hisi_hba *hisi_hba)\n \tint p, c, d;\n \tsize_t sz;\n \n-\thisi_hba->debugfs_dump_dentry =\n-\t\t\tdebugfs_create_dir(\"dump\", hisi_hba->debugfs_dir);\n-\n \tsz = hw->debugfs_reg_array[DEBUGFS_GLOBAL]->count * 4;\n \thisi_hba->debugfs_regs[DEBUGFS_GLOBAL] =\n \t\t\t\tdevm_kmalloc(dev, sz, GFP_KERNEL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35160421b63d4753a72e9f72ebcdd9d6f88f84b9"}
{"commit_hash": "357e4fc7a933ed5bfbf1eb2fad9c198afe6a11e1", "short_hash": "357e4fc7a933", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:20+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for ITCT cache", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 13, "deletions": 9, "hunks": 14, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that restructures debugfs ITCT cache handling to use a proper structure wrapper instead of raw pointer. Low risk cleanup change with good review chain (3 sign-offs), cross-org collaboration (Huawei + Oracle maintainer), and clear commit message. Minimal code volume (22 lines changed), confined to single driver subsystem.", "code_snippet": "@@ -444,7 +448,7 @@ struct hisi_hba {\n \tstruct hisi_sas_debugfs_itct debugfs_itct;\n \tu64 debugfs_timestamp;\n \tstruct hisi_sas_debugfs_iost_cache debugfs_iost_cache;\n-\tu64 *debugfs_itct_cache;\n+\tstruct hisi_sas_debugfs_itct_cache debugfs_itct_cache;\n \n \tstruct dentry *debugfs_dir;\n \tstruct dentry *debugfs_dump_dentry;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 499a733f9a5a..5014a7a21aa4 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/357e4fc7a933ed5bfbf1eb2fad9c198afe6a11e1"}
{"commit_hash": "b714dd8f36dc609dd4b0078cf5563978134838ed", "short_hash": "b714dd8f36dc", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:19+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for IOST cache", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 13, "deletions": 9, "hunks": 14, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 5, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Refactoring commit adding debugfs file structure for IOST cache in hisi_sas driver. Low code volume (13 insertions, 9 deletions). SCSI subsystem tier 6. Maintenance refactor category base score 4. Good review chain with 3 sign-offs including maintainer Martin K. Petersen. Clear commit message explaining the debugfs structure change. Atomic change focused on debugfs infrastructure. Limited user impact (debugfs only).", "code_snippet": "@@ -438,8 +442,8 @@ struct hisi_hba {\n \tstruct hisi_sas_debugfs_dq debugfs_dq[HISI_SAS_MAX_QUEUES];\n \tstruct hisi_sas_debugfs_iost debugfs_iost;\n \tstruct hisi_sas_debugfs_itct debugfs_itct;\n-\tu64 *debugfs_iost_cache;\n \tu64 debugfs_timestamp;\n+\tstruct hisi_sas_debugfs_iost_cache debugfs_iost_cache;\n \tu64 *debugfs_itct_cache;\n \n \tstruct dentry *debugfs_dir;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex a35d3a76ac11..499a733f9a5a 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b714dd8f36dc609dd4b0078cf5563978134838ed"}
{"commit_hash": "0161d55f23a1e020e5e6892177caf92a61e5c161", "short_hash": "0161d55f23a1", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:18+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for ITCT", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 17, "deletions": 12, "hunks": 16, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 11, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs infrastructure enhancement for hisi_sas driver. Adds new structure wrapper to better manage ITCT debugfs file callbacks. Clean refactoring with proper maintainer chain (Huawei -> Oracle). Low user impact as debugfs is developer-facing.", "code_snippet": "@@ -3129,13 +3129,13 @@ static const struct file_operations hisi_sas_debugfs_iost_cache_fops = {\n static int hisi_sas_debugfs_itct_show(struct seq_file *s, void *p)\n {\n \tint i;\n-\tstruct hisi_hba *hisi_hba = s->private;\n-\tstruct hisi_sas_itct *debugfs_itct = hisi_hba->debugfs_itct;\n+\tstruct hisi_sas_debugfs_itct *debugfs_itct = s->private;\n+\tstruct hisi_sas_itct *itct = debugfs_itct->itct;\n \n-\tfor (i = 0; i < HISI_SAS_MAX_ITCT_ENTRIES; i++, debugfs_itct++) {\n-\t\t__le64 *itct = &debugfs_itct->qw0;\n+\tfor (i = 0; i < HISI_SAS_MAX_ITCT_ENTRIES; i++, itct++) {\n+\t\t__le64 *data = &itct->qw0;\n \n-\t\thisi_sas_show_row_64(s, i, sizeof(*debugfs_itct), itct);\n+\t\thisi_sas_show_row_64(s, i, sizeof(*itct), data);\n \t}\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0161d55f23a1e020e5e6892177caf92a61e5c161"}
{"commit_hash": "e15f2e2dff5b809dce923839f21362d6b0d06b1e", "short_hash": "e15f2e2dff5b", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:17+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for IOST", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 5, "files_changed": 2, "insertions": 16, "deletions": 11, "hunks": 14, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 7, "score_impact": 8, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs refactoring for hisi_sas driver. Introduces wrapper structure for IOST debugfs access. Proper sign-off chain (Luo Jiaxing -> John Garry -> Martin K. Petersen). Cross-company collaboration (Huawei + Oracle maintainer). Code volume minimal (16 insertions, 11 deletions).", "code_snippet": "@@ -428,7 +432,7 @@ struct hisi_hba {\n \tstruct hisi_sas_debugfs_port debugfs_port_reg[HISI_SAS_MAX_PHYS];\n \tstruct hisi_sas_debugfs_cq debugfs_cq[HISI_SAS_MAX_QUEUES];\n \tstruct hisi_sas_debugfs_dq debugfs_dq[HISI_SAS_MAX_QUEUES];\n-\tstruct hisi_sas_iost *debugfs_iost;\n+\tstruct hisi_sas_debugfs_iost debugfs_iost;\n \tstruct hisi_sas_itct *debugfs_itct;\n \tu64 *debugfs_iost_cache;\n \tu64 debugfs_timestamp;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex e28aa3d517da..55191056f37f 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e15f2e2dff5b809dce923839f21362d6b0d06b1e"}
{"commit_hash": "1f66e1fd26bddb4c9275b61934dbaaf4b0b0bd79", "short_hash": "1f66e1fd26bd", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:16+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for port", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 18, "deletions": 10, "hunks": 14, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 8, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs infrastructure enhancement for hisi_sas driver. New structure consolidates port debug data with phy pointer, improving callback access pattern. Clean refactor with proper review chain (Luo->Garry->Petersen). Low risk as debugfs-only changes don't affect production code paths. Cross-org collaboration (Huawei author, Oracle maintainer).", "code_snippet": "@@ -2933,13 +2933,13 @@ static const struct file_operations hisi_sas_debugfs_ras_fops = {\n \n static int hisi_sas_debugfs_port_show(struct seq_file *s, void *p)\n {\n-\tstruct hisi_sas_phy *phy = s->private;\n+\tstruct hisi_sas_debugfs_port *port = s->private;\n+\tstruct hisi_sas_phy *phy = port->phy;\n \tstruct hisi_hba *hisi_hba = phy->hisi_hba;\n \tconst struct hisi_sas_hw *hw = hisi_hba->hw;\n \tconst struct hisi_sas_debugfs_reg *reg_port = hw->debugfs_reg_port;\n-\tu32 *databuf = hisi_hba->debugfs_port_reg[phy->sas_phy.id];\n \n-\thisi_sas_debugfs_print_reg(databuf, reg_port, s);\n+\thisi_sas_debugfs_print_reg(port->data, reg_port, s);\n \n \treturn 0;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f66e1fd26bddb4c9275b61934dbaaf4b0b0bd79"}
{"commit_hash": "c61163981076476e0bcf2d453dcddf8db605f115", "short_hash": "c61163981076", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:15+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for registers", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 35, "deletions": 34, "hunks": 26, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 5, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs refactoring for hisi_sas driver. Changes debugfs_regs from raw pointer array to struct containing both data pointer and hisi_hba pointer, enabling debugfs callbacks to access necessary context. Well-reviewed refactor with proper maintainer chain (2 Huawei developers + SCSI maintainer Martin K. Petersen). 69 lines changed across 2 files. SCSI subsystem tier 6 (storage middleware). Cross-org collaboration evident.", "code_snippet": "@@ -2852,11 +2852,12 @@ static void hisi_sas_debugfs_print_reg(u32 *regs_val, const void *ptr,\n \n static int hisi_sas_debugfs_global_show(struct seq_file *s, void *p)\n {\n-\tstruct hisi_hba *hisi_hba = s->private;\n+\tstruct hisi_sas_debugfs_regs *global = s->private;\n+\tstruct hisi_hba *hisi_hba = global->hisi_hba;\n \tconst struct hisi_sas_hw *hw = hisi_hba->hw;\n \tconst void *reg_global = hw->debugfs_reg_array[DEBUGFS_GLOBAL];\n \n-\thisi_sas_debugfs_print_reg(hisi_hba->debugfs_regs[DEBUGFS_GLOBAL],\n+\thisi_sas_debugfs_print_reg(global->data,\n \t\t\t\t   reg_global, s);\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c61163981076476e0bcf2d453dcddf8db605f115"}
{"commit_hash": "1b54c4db725d875dcae645a3da74625b9e4b3bdf", "short_hash": "1b54c4db725d", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:14+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:14-04:00", "subject": "scsi: hisi_sas: Add debugfs file structure for DQ", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 18, "deletions": 11, "hunks": 14, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 9, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring debugfs DQ structure: adds wrapper struct to bind DQ pointer with command header for debugfs callback access. Low code volume (29 lines), driver-specific (SCSI tier 8). Single-subsystem, no stable CC. Maintainer-signed, well-explained commit message. Atomic refactor with improved encapsulation.", "code_snippet": "@@ -412,7 +417,7 @@ struct hisi_hba {\n \tu32 *debugfs_regs[DEBUGFS_REGS_NUM];\n \tu32 *debugfs_port_reg[HISI_SAS_MAX_PHYS];\n \tstruct hisi_sas_debugfs_cq debugfs_cq[HISI_SAS_MAX_QUEUES];\n-\tstruct hisi_sas_cmd_hdr\t*debugfs_cmd_hdr[HISI_SAS_MAX_QUEUES];\n+\tstruct hisi_sas_debugfs_dq debugfs_dq[HISI_SAS_MAX_QUEUES];\n \tstruct hisi_sas_iost *debugfs_iost;\n \tstruct hisi_sas_itct *debugfs_itct;\n \tu64 *debugfs_iost_cache;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 5c1005f77131..647a14983696 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1b54c4db725d875dcae645a3da74625b9e4b3bdf"}
{"commit_hash": "f873b66119f2d6fc7b932a68df8d77a26357bab6", "short_hash": "f873b66119f2", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:25+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:15-04:00", "subject": "scsi: hisi_sas: Record the phy down event in debugfs", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 3, "insertions": 66, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 11, "score_impact": 14, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Feature addition adding debugfs support for PHY down counter tracking in hisi_sas driver. 66 insertions across 3 files, well-structured debugfs interface with read/write operations. Good commit message explaining the user value (link quality monitoring). Multiple sign-offs including maintainer Martin K. Petersen. Clean atomic counter usage, proper error handling with kstrtouint_from_user. Not a bug fix, not security-related, no stable CC.", "code_snippet": "@@ -169,6 +169,7 @@ struct hisi_sas_phy {\n \tenum sas_linkrate\tminimum_linkrate;\n \tenum sas_linkrate\tmaximum_linkrate;\n \tint enable;\n+\tatomic_t down_cnt;\n };\n \n struct hisi_sas_port {\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 669ad7463615..18c95b33592b 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f873b66119f2d6fc7b932a68df8d77a26357bab6"}
{"commit_hash": "cabe7c10c97a0857a9fb14b6c772ab784947995d", "short_hash": "cabe7c10c97a", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:24+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:15-04:00", "subject": "scsi: hisi_sas: Delete the debugfs folder of hisi_sas when the probe fails", "primary_category": "BUG-LEAK", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 7, "score_impact": 12, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for resource leak when probe fails. Adds debugfs cleanup in error paths (2 insertions, 0 deletions). SCSI subsystem (tier 6). Strong review chain: author (Luo Jiaxing @huawei.com) -> co-developer (John Garry @huawei.com) -> maintainer (Martin K. Petersen @oracle.com). Good commit message with explanation and Link tag. Low code volume but targeted fix for specific bug scenario.", "code_snippet": "@@ -2686,6 +2686,7 @@ int hisi_sas_probe(struct platform_device *pdev,\n err_out_register_ha:\n \tscsi_remove_host(shost);\n err_out_ha:\n+\thisi_sas_debugfs_exit(hisi_hba);\n \thisi_sas_free(hisi_hba);\n \tscsi_host_put(shost);\n \treturn rc;\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\nindex 19a8cfeb8f6e..e4da309009c0 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cabe7c10c97a0857a9fb14b6c772ab784947995d"}
{"commit_hash": "8f6432986e610612688dc77c2683657d7289546f", "short_hash": "8f6432986e61", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:23+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:15-04:00", "subject": "scsi: hisi_sas: Add ability to have multiple debugfs dumps", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 5, "files_changed": 2, "insertions": 47, "deletions": 34, "hunks": 34, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Feature addition to enable multiple debugfs dumps for hisi_sas driver. Modified debugfs infrastructure from single dump (index 0) to indexed dumps using debugfs_dump_index. Good review chain (Luo -> John Garry -> Martin Petersen). Clean commit message with Link tag. Driver-specific feature with limited user impact (debug feature).", "code_snippet": "@@ -451,12 +451,11 @@ struct hisi_hba {\n \tstruct hisi_sas_debugfs_iost_cache debugfs_iost_cache[HISI_SAS_MAX_DEBUGFS_DUMP];\n \tstruct hisi_sas_debugfs_itct_cache debugfs_itct_cache[HISI_SAS_MAX_DEBUGFS_DUMP];\n \n-\tu64 debugfs_timestamp;\n-\n+\tu64 debugfs_timestamp[HISI_SAS_MAX_DEBUGFS_DUMP];\n+\tint debugfs_dump_index;\n \tstruct dentry *debugfs_dir;\n \tstruct dentry *debugfs_dump_dentry;\n \tstruct dentry *debugfs_bist_dentry;\n-\tbool debugfs_snapshot;\n };\n \n /* Generic HW DMA host memory structures */\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 5b3cee67bb24..7fa9a5a51b80 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f6432986e610612688dc77c2683657d7289546f"}
{"commit_hash": "905ab01faf5fc81ba2fc46dddcd21ad5a2dd137b", "short_hash": "905ab01faf5f", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:22+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:15-04:00", "subject": "scsi: hisi_sas: Add module parameter for debugfs dump count", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 14, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 7, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small feature adding a module parameter to configure debugfs dump count. 17 insertions across 2 files. Well-reviewed with proper chain (author -> co-developer -> maintainer). Clean commit message with link and proper sign-offs. Atomic change focused on parameterization.", "code_snippet": "@@ -598,6 +598,7 @@ struct hisi_sas_slot_dif_buf_table {\n extern struct scsi_transport_template *hisi_sas_stt;\n \n extern bool hisi_sas_debugfs_enable;\n+extern u32 hisi_sas_debugfs_dump_count;\n extern struct dentry *hisi_sas_debugfs_dir;\n \n extern void hisi_sas_stop_phys(struct hisi_hba *hisi_hba);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex b599595ea095..5b3cee67bb24 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/905ab01faf5fc81ba2fc46dddcd21ad5a2dd137b"}
{"commit_hash": "a70e33eae363e6f3e2ad9498daaccd231790f7f5", "short_hash": "a70e33eae363", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T22:08:21+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-24T21:31:15-04:00", "subject": "scsi: hisi_sas: Allocate memory for multiple dumps of debugfs", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 73, "deletions": 56, "hunks": 46, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 10, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a feature enhancement to hisi_sas debugfs that allocates memory for multiple dumps (up to 50) instead of just one. The commit refactors debugfs structures to use a 2D array [HISI_SAS_MAX_DEBUGFS_DUMP][...], allowing future dumps to be stored. Code volume is moderate (129 lines changed). Subsystem tier 6 for SCSI driver. Review chain is strong with 3 sign-offs including maintainer Martin K. Petersen. Message quality is excellent with clear explanation and Link tag.", "code_snippet": "@@ -323,6 +323,8 @@ struct hisi_sas_hw {\n \tconst struct hisi_sas_debugfs_reg *debugfs_reg_port;\n };\n \n+#define HISI_SAS_MAX_DEBUGFS_DUMP (50)\n+\n struct hisi_sas_debugfs_cq {\n \tstruct hisi_sas_cq *cq;\n \tvoid *complete_hdr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a70e33eae363e6f3e2ad9498daaccd231790f7f5"}
{"commit_hash": "390e4f967299179d5b43a3d265150500d8fe2986", "short_hash": "390e4f967299", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T16:58:33+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-24T22:40:38-04:00", "subject": "staging: mt7621-dma: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/mt7621-dma/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit using devm_platform_ioremap_resource() API modernization in staging DMA driver. Low complexity (1 insertion, 3 deletions), staging subsystem tier 3. MAINT-CLEANUP base score 2. Proper message with Link tag, signed-off by maintainer Greg Kroah-Hartman. No user impact, no stable CC, single file atomic change.", "code_snippet": "@@ -650,7 +650,6 @@ static int mtk_hsdma_probe(struct platform_device *pdev)\n \tstruct mtk_hsdma_chan *chan;\n \tstruct mtk_hsdam_engine *hsdma;\n \tstruct dma_device *dd;\n-\tstruct resource *res;\n \tint ret;\n \tint irq;\n \tvoid __iomem *base;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/390e4f967299179d5b43a3d265150500d8fe2986"}
{"commit_hash": "f1ca32696aea8e65b0b5122b494b52e128e66630", "short_hash": "f1ca32696aea", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T17:01:36+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-24T22:40:38-04:00", "subject": "staging: netlogic: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 4, "score_impact": 2, "score_quality": 7, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization in staging driver using coccinelle-suggested simplification. Replaces 2-line pattern with single devm_platform_ioremap_resource() call. Low complexity, low risk. Acked by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -976,8 +976,7 @@ static int xlr_net_probe(struct platform_device *pdev)\n \t\tpriv->ndev = ndev;\n \t\tpriv->port_id = (pdev->id * 4) + port;\n \t\tpriv->nd = (struct xlr_net_data *)pdev->dev.platform_data;\n-\t\tres = platform_get_resource(pdev, IORESOURCE_MEM, port);\n-\t\tpriv->base_addr = devm_ioremap_resource(&pdev->dev, res);\n+\t\tpriv->base_addr = devm_platform_ioremap_resource(pdev, port);\n \t\tif (IS_ERR(priv->base_addr)) {\n \t\t\terr = PTR_ERR(priv->base_addr);\n \t\t\tgoto err_gmac;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1ca32696aea8e65b0b5122b494b52e128e66630"}
{"commit_hash": "6fc77fc892d87fcaf2d06129d1fadaea09f4e3dd", "short_hash": "6fc77fc892d8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T17:03:05+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-24T22:40:38-04:00", "subject": "staging: ralink-gdma: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/ralink-gdma/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper, replacing manual platform_get_resource() and devm_ioremap_resource() calls. Detected by coccinelle script. Staging driver (low-tier subsystem). Proper review chain with Link tag and maintainer sign-off.", "code_snippet": "@@ -796,7 +796,6 @@ static int gdma_dma_probe(struct platform_device *pdev)\n \tstruct gdma_dma_dev *dma_dev;\n \tstruct dma_device *dd;\n \tunsigned int i;\n-\tstruct resource *res;\n \tint ret;\n \tint irq;\n \tvoid __iomem *base;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6fc77fc892d87fcaf2d06129d1fadaea09f4e3dd"}
{"commit_hash": "77b97aa69bd08a889c78397193d7390cd6a51122", "short_hash": "77b97aa69bd0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:52:06+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-10-24T23:03:00-04:00", "subject": "staging: comedi: remove unused variable 'route_table_size'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/comedi/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Ian Abbott <abbotti@mev.co.uk> (Co)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Trivial cleanup removing unused variable in staging driver (low-tier subsystem). Minimal code change (2 deletions). Well-reviewed with Reviewed-by tag and proper signed-off-by chain. No user impact or stability implications.", "code_snippet": "@@ -49,8 +49,6 @@\n /* Helper for accessing data. */\n #define RVi(table, src, dest)\t((table)[(dest) * NI_NUM_NAMES + (src)])\n \n-static const size_t route_table_size = NI_NUM_NAMES * NI_NUM_NAMES;\n-\n /*\n  * Find the proper route_values and ni_device_routes tables for this particular\n  * device.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77b97aa69bd08a889c78397193d7390cd6a51122"}
{"commit_hash": "7f2ea52123426b05cd83aec35a4abfb93f66be2b", "short_hash": "7f2ea5212342", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T22:18:38+08:00", "committer_name": "Luca Coelho", "committer_email": "luciano.coelho@intel.com", "committer_company": "Intel", "commit_date": "2019-10-25T10:10:12+03:00", "subject": "iwlwifi: mvm: fix old-style declaration", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)", "Luca Coelho <luciano.coelho@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 13, "score_impact": 5, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit fixing compiler warning (W=1) by reordering static/const qualifiers. Code volume minimal (2 insertions, 2 deletions). Strong review chain with 3 sign-offs including maintainer Johannes Berg and subsystem maintainer Luca Coelho. Cross-org contribution from Huawei (yuehaibing@huawei.com) to Intel wireless subsystem. No functional impact, no stable CC, no CVE.", "code_snippet": "@@ -339,14 +339,14 @@ int iwl_mvm_init_fw_regd(struct iwl_mvm *mvm)\n \treturn ret;\n }\n \n-const static u8 he_if_types_ext_capa_sta[] = {\n+static const u8 he_if_types_ext_capa_sta[] = {\n \t [0] = WLAN_EXT_CAPA1_EXT_CHANNEL_SWITCHING,\n \t [2] = WLAN_EXT_CAPA3_MULTI_BSSID_SUPPORT,\n \t [7] = WLAN_EXT_CAPA8_OPMODE_NOTIF,\n \t [9] = WLAN_EXT_CAPA10_TWT_REQUESTER_SUPPORT,\n };\n \n-const static struct wiphy_iftype_ext_capab he_iftypes_ext_capa[] = {\n+static const struct wiphy_iftype_ext_capab he_iftypes_ext_capa[] = {\n \t{\n \t\t.iftype = NL80211_IFTYPE_STATION,\n \t\t.extended_capabilities = he_if_types_ext_capa_sta,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f2ea52123426b05cd83aec35a4abfb93f66be2b"}
{"commit_hash": "c34c78dfc1fc68a1f5403f996de8ca62f298d7b2", "short_hash": "c34c78dfc1fc", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T21:27:34+08:00", "committer_name": "Paul Moore", "committer_email": "paul@paul-moore.com", "committer_company": "Paul-moore", "commit_date": "2019-10-25T11:48:14-04:00", "subject": "audit: remove redundant condition check in kauditd_thread()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Paul Moore <paul@paul-moore.com> (Paul-moore)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 4, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing redundant null pointer checks in audit subsystem. Code analysis tool identified that @ac was already validated. Maintainer (Paul Moore) reviewed and signed off. Low risk, low impact code quality improvement.", "code_snippet": "@@ -830,7 +830,7 @@ static int kauditd_thread(void *dummy)\n \t\trc = kauditd_send_queue(sk, portid,\n \t\t\t\t\t&audit_hold_queue, UNICAST_RETRIES,\n \t\t\t\t\tNULL, kauditd_rehold_skb);\n-\t\tif (ac && rc < 0) {\n+\t\tif (rc < 0) {\n \t\t\tsk = NULL;\n \t\t\tauditd_reset(ac);\n \t\t\tgoto main_queue;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c34c78dfc1fc68a1f5403f996de8ca62f298d7b2"}
{"commit_hash": "19308a412ec52c0de92d296842be237778753d9b", "short_hash": "19308a412ec5", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-10T14:37:25+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-10-25T14:01:14+02:00", "subject": "x86/kvm: Fix -Wmissing-prototypes warnings", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86/kvm", "subsystems_touched": ["arch/x86/kernel/kvm.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build warning fix for x86/KVM subsystem. Minimal code change (1 line addition adding missing header include). Fixes -Wmissing-prototypes compiler warnings. Good commit message explains the warnings and solution. Maintainer (Paolo Bonzini) signed off. Low technical impact as it only addresses build warnings.", "code_snippet": "@@ -33,6 +33,7 @@\n #include <asm/apicdef.h>\n #include <asm/hypervisor.h>\n #include <asm/tlb.h>\n+#include <asm/cpuidle_haltpoll.h>\n \n static int kvmapf = 1;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19308a412ec52c0de92d296842be237778753d9b"}
{"commit_hash": "0a671dc500553cf6f4cc3efbcb0923b5e9adccb5", "short_hash": "0a671dc50055", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:39:05+08:00", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-10-25T14:43:23+02:00", "subject": "ALSA: intel_hdmi: Remove dev_err() on platform_get_irq() failure", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "Agent analysis failed: TIMEOUT. This commit needs to be re-analyzed.", "code_snippet": "@@ -1708,10 +1708,8 @@ static int hdmi_lpe_audio_probe(struct platform_device *pdev)\n \n \t/* get resources */\n \tirq = platform_get_irq(pdev, 0);\n-\tif (irq < 0) {\n-\t\tdev_err(&pdev->dev, \"Could not get irq resource: %d\\n\", irq);\n+\tif (irq < 0)\n \t\treturn irq;\n-\t}\n \n \tres_mmio = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tif (!res_mmio) {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/0a671dc500553cf6f4cc3efbcb0923b5e9adccb5"}
{"commit_hash": "7db3e57e6a95435cef5b33f2a90efcac5ce577da", "short_hash": "7db3e57e6a95", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-25T14:32:06+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-10-25T16:19:44+01:00", "subject": "arm64: cpufeature: Fix typos in comment", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Suzuki K Poulose <suzuki.poulose@arm.com> (ARM)"], "reported_by": []}, "score_total": 17, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial typo fix in comment (CTR_E0 -> CTR_EL0). 1 line changed in critical arm64 subsystem. Has proper maintainer chain with Acked-by and Signed-off-by, but zero functional impact.", "code_snippet": "@@ -329,7 +329,7 @@ static void __cpuinfo_store_cpu(struct cpuinfo_arm64 *info)\n \tinfo->reg_cntfrq = arch_timer_get_cntfrq();\n \t/*\n \t * Use the effective value of the CTR_EL0 than the raw value\n-\t * exposed by the CPU. CTR_E0.IDC field value must be interpreted\n+\t * exposed by the CPU. CTR_EL0.IDC field value must be interpreted\n \t * with the CLIDR_EL1 fields to avoid triggering false warnings\n \t * when there is a mismatch across the CPUs. Keep track of the\n \t * effective value of the CTR_EL0 in our internal records for\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7db3e57e6a95435cef5b33f2a90efcac5ce577da"}
{"commit_hash": "bfcef4ab1d7ee8921bc322109b1692036cc6cbe0", "short_hash": "bfcef4ab1d7e", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T19:31:21+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-10-25T16:29:11+01:00", "subject": "arm64: psci: Reduce the waiting time for cpu_psci_cpu_kill()", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 9, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["Sudeep Holla <sudeep.holla@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 18, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Optimization commit reducing CPU shutdown wait time from 10ms to 1ms intervals, improving suspend-to-disk/ram performance for systems with hundreds of cores. Well-reviewed by ARM maintainer, cross-org contribution from Huawei to ARM subsystem.", "code_snippet": "@@ -81,7 +81,8 @@ static void cpu_psci_cpu_die(unsigned int cpu)\n \n static int cpu_psci_cpu_kill(unsigned int cpu)\n {\n-\tint err, i;\n+\tint err;\n+\tunsigned long start, end;\n \n \tif (!psci_ops.affinity_info)\n \t\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bfcef4ab1d7ee8921bc322109b1692036cc6cbe0"}
{"commit_hash": "54fad40d3f01c5d14e2ba123b2753029dd6a4cbd", "short_hash": "54fad40d3f01", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:45:23+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-25T17:58:13+05:30", "subject": "phy: ti: dm816x: remove set but not used variable 'phy_data'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy/ti", "subsystems_touched": ["drivers/phy/ti"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Roger Quadros <rogerq@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable to fix compiler warning. Low code volume (3 deletions), limited subsystem impact (PHY driver), no functional changes. Good review chain (Reviewed-by) and clear commit message. Cross-org contribution (Huawei author, TI maintainer).", "code_snippet": "@@ -189,7 +189,6 @@ static int dm816x_usb_phy_probe(struct platform_device *pdev)\n \tstruct phy_provider *phy_provider;\n \tstruct usb_otg *otg;\n \tconst struct of_device_id *of_id;\n-\tconst struct usb_phy_data *phy_data;\n \tint error;\n \n \tof_id = of_match_device(of_match_ptr(dm816x_usb_phy_id_table),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54fad40d3f01c5d14e2ba123b2753029dd6a4cbd"}
{"commit_hash": "3e3c97c67e9eb69b14192908ee99fd7b2177cc07", "short_hash": "3e3c97c67e9e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:11+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:53+11:00", "subject": "hwrng: exynos - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Łukasz Stelmach <l.stelmach@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Code modernization cleanup using devm_platform_ioremap_resource() helper. Small scope (1 file, -3/+1 lines). Low-risk refactoring detected by coccinelle. Strong review chain with Acked-by from Samsung maintainer and signed off by subsystem maintainer Herbert Xu. Cross-org contribution from Huawei to Samsung codebase demonstrates good collaboration.", "code_snippet": "@@ -109,7 +109,6 @@ static int exynos_trng_init(struct hwrng *rng)\n static int exynos_trng_probe(struct platform_device *pdev)\n {\n \tstruct exynos_trng_dev *trng;\n-\tstruct resource *res;\n \tint ret = -ENOMEM;\n \n \ttrng = devm_kzalloc(&pdev->dev, sizeof(*trng), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e3c97c67e9eb69b14192908ee99fd7b2177cc07"}
{"commit_hash": "bc49534db6949cb71dd602d82481c0a2fdd44b05", "short_hash": "bc49534db694", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:09+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:53+11:00", "subject": "hwrng: atmel - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ludovic Desroches <ludovic.desroches@microchip.com> (Microchip)"], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() wrapper, detected by coccinelle. Low code volume (-1/+3 lines), non-critical driver subsystem. Good review chain (Acked-by), clear commit message, atomic change. No functional impact.", "code_snippet": "@@ -62,15 +62,13 @@ static void atmel_trng_disable(struct atmel_trng *trng)\n static int atmel_trng_probe(struct platform_device *pdev)\n {\n \tstruct atmel_trng *trng;\n-\tstruct resource *res;\n \tint ret;\n \n \ttrng = devm_kzalloc(&pdev->dev, sizeof(*trng), GFP_KERNEL);\n \tif (!trng)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\ttrng->base = devm_ioremap_resource(&pdev->dev, res);\n+\ttrng->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(trng->base))\n \t\treturn PTR_ERR(trng->base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc49534db6949cb71dd602d82481c0a2fdd44b05"}
{"commit_hash": "3e46bd34970632cdd948669c2fc8c9e8ace0c738", "short_hash": "3e46bd349706", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:10+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:53+11:00", "subject": "hwrng: bcm2835 - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring using devm_platform_ioremap_resource() helper to replace platform_get_resource() + devm_ioremap_resource() pattern. Reduces 4 lines to 1, removes unnecessary variable. Detected by coccinelle tool. Acked by maintainer Florian Fainelli, signed off by crypto maintainer Herbert Xu. Low-risk cleanup in non-critical hw_random driver.", "code_snippet": "@@ -142,7 +142,6 @@ static int bcm2835_rng_probe(struct platform_device *pdev)\n \tstruct device_node *np = dev->of_node;\n \tconst struct of_device_id *rng_id;\n \tstruct bcm2835_rng_priv *priv;\n-\tstruct resource *r;\n \tint err;\n \n \tpriv = devm_kzalloc(dev, sizeof(*priv), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e46bd34970632cdd948669c2fc8c9e8ace0c738"}
{"commit_hash": "10304c762751228fdfc446766d521d44b74dc5c4", "short_hash": "10304c762751", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:12+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:54+11:00", "subject": "hwrng: hisi - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource+devm_ioremap_resource with devm_platform_ioremap_resource wrapper. Detected by coccinelle script. Low risk cleanup in hw_random driver.", "code_snippet": "@@ -73,7 +73,6 @@ static int hisi_rng_read(struct hwrng *rng, void *buf, size_t max, bool wait)\n static int hisi_rng_probe(struct platform_device *pdev)\n {\n \tstruct hisi_rng *rng;\n-\tstruct resource *res;\n \tint ret;\n \n \trng = devm_kzalloc(&pdev->dev, sizeof(*rng), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/10304c762751228fdfc446766d521d44b74dc5c4"}
{"commit_hash": "871d030d59868f4e839616f7cc42d6a9046b69eb", "short_hash": "871d030d5986", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:13+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:54+11:00", "subject": "hwrng: ks-sa - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup refactoring using devm_platform_ioremap_resource() helper. Low code volume (4 lines changed, -3/+1). Driver subsystem (tier 4). No cross-subsystem impact. Maintainer Herbert Xu signed off. Good atomicity. Coccinelle-detected pattern modernization.", "code_snippet": "@@ -174,7 +174,6 @@ static int ks_sa_rng_probe(struct platform_device *pdev)\n \tstruct ks_sa_rng\t*ks_sa_rng;\n \tstruct device\t\t*dev = &pdev->dev;\n \tint\t\t\tret;\n-\tstruct resource\t\t*mem;\n \n \tks_sa_rng = devm_kzalloc(dev, sizeof(*ks_sa_rng), GFP_KERNEL);\n \tif (!ks_sa_rng)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/871d030d59868f4e839616f7cc42d6a9046b69eb"}
{"commit_hash": "ba14757678946d507c23759061fbd7b39863d717", "short_hash": "ba1475767894", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:14+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:55+11:00", "subject": "hwrng: meson - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Kevin Hilman <khilman@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small code modernization commit (1 insertion, 3 deletions) using devm_platform_ioremap_resource() helper to simplify meson RNG driver probe function. Low subsystem tier (drivers/char/hw_random). Has proper review chain (Reviewed-by, Signed-off-by). Single atomic change with clear purpose. No user impact or stable tag.", "code_snippet": "@@ -42,7 +42,6 @@ static int meson_rng_probe(struct platform_device *pdev)\n {\n \tstruct device *dev = &pdev->dev;\n \tstruct meson_rng_data *data;\n-\tstruct resource *res;\n \tint ret;\n \n \tdata = devm_kzalloc(dev, sizeof(*data), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba14757678946d507c23759061fbd7b39863d717"}
{"commit_hash": "fc963e029dbb65f5f95a06fcd12e813478588014", "short_hash": "fc963e029dbb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:15+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:55+11:00", "subject": "hwrng: npcm - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup replacing platform_get_resource/devm_ioremap_resource pattern with simpler devm_platform_ioremap_resource helper. Single file touched (drivers/char/hw_random/npcm-rng.c), trivial refactoring detected by coccinelle script. Reduces 3 lines to 1, removes temporary variable. Signed off by maintainer Herbert Xu. No functional change, no user impact.", "code_snippet": "@@ -87,15 +87,13 @@ static int npcm_rng_read(struct hwrng *rng, void *buf, size_t max, bool wait)\n static int npcm_rng_probe(struct platform_device *pdev)\n {\n \tstruct npcm_rng *priv;\n-\tstruct resource *res;\n \tint ret;\n \n \tpriv = devm_kzalloc(&pdev->dev, sizeof(*priv), GFP_KERNEL);\n \tif (!priv)\n \t\treturn -ENOMEM;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpriv->base = devm_ioremap_resource(&pdev->dev, res);\n+\tpriv->base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(priv->base))\n \t\treturn PTR_ERR(priv->base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fc963e029dbb65f5f95a06fcd12e813478588014"}
{"commit_hash": "64b7bf137c953c20de18c3c4ae6119746f49c625", "short_hash": "64b7bf137c95", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:18+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:56+11:00", "subject": "hwrng: pic32 - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Small change (-3/+1 lines) in hw_random driver. Coccinelle-detected simplification. Maintainer-signed.", "code_snippet": "@@ -70,7 +70,6 @@ static int pic32_rng_read(struct hwrng *rng, void *buf, size_t max,\n static int pic32_rng_probe(struct platform_device *pdev)\n {\n \tstruct pic32_rng *priv;\n-\tstruct resource *res;\n \tu32 v;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64b7bf137c953c20de18c3c4ae6119746f49c625"}
{"commit_hash": "5b18f9ac9573f1c516e86dffb280156a31933fbf", "short_hash": "5b18f9ac9573", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:17+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:56+11:00", "subject": "hwrng: pasemi - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource() + devm_ioremap_resource() with devm_platform_ioremap_resource() helper. Simplifies probe function, removes local variable. Driver subsystem (hwrng) is non-critical. Proper maintainer sign-off chain (author -> subsystem maintainer). Clean, atomic change with clear rationale (coccinelle detection).", "code_snippet": "@@ -86,10 +86,8 @@ static struct hwrng pasemi_rng = {\n static int rng_probe(struct platform_device *pdev)\n {\n \tvoid __iomem *rng_regs;\n-\tstruct resource *res;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\trng_regs = devm_ioremap_resource(&pdev->dev, res);\n+\trng_regs = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(rng_regs))\n \t\treturn PTR_ERR(rng_regs);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5b18f9ac9573f1c516e86dffb280156a31933fbf"}
{"commit_hash": "c7c16c58be1aa2d02780e884a48495fae5fdccb1", "short_hash": "c7c16c58be1a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:16+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:56+11:00", "subject": "hwrng: omap - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 3, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINT-CLEANUP: Simplifies code by using devm_platform_ioremap_resource() helper (Coccinelle detected). Low impact: -2 lines, single file in hw_random driver. Good quality: proper sign-offs, atomic change, well-tested helper.", "code_snippet": "@@ -439,7 +439,6 @@ static int get_omap_rng_device_details(struct omap_rng_dev *omap_rng)\n static int omap_rng_probe(struct platform_device *pdev)\n {\n \tstruct omap_rng_dev *priv;\n-\tstruct resource *res;\n \tstruct device *dev = &pdev->dev;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c7c16c58be1aa2d02780e884a48495fae5fdccb1"}
{"commit_hash": "4c747d4d19494cda740b4f87c869b23675251247", "short_hash": "4c747d4d1949", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:21+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:57+11:00", "subject": "hwrng: xgene - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup using devm_platform_ioremap_resource() helper. Single file in hw_random subsystem (tier 4 - specialized driver code). Only 1 insertion, 3 deletions. Cleanup category has minimal impact. Signed off by maintainer Herbert Xu. Clear commit message explaining the change.", "code_snippet": "@@ -313,7 +313,6 @@ static struct hwrng xgene_rng_func = {\n \n static int xgene_rng_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct xgene_rng_dev *ctx;\n \tint rc = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c747d4d19494cda740b4f87c869b23675251247"}
{"commit_hash": "6cd4e070372b29534af5c0a575e84bcfd32c651f", "short_hash": "6cd4e070372b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:20+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:57+11:00", "subject": "hwrng: tx4939 - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup refactoring using devm_platform_ioremap_resource() helper to simplify code. Low subsystem tier (hw_random driver), minimal code change (-3 +1 lines), cleanup category base score, good commit message with clear rationale, proper review chain (author + maintainer sign-off), no stable tagging or user impact.", "code_snippet": "@@ -107,14 +107,12 @@ static int tx4939_rng_data_read(struct hwrng *rng, u32 *buffer)\n static int __init tx4939_rng_probe(struct platform_device *dev)\n {\n \tstruct tx4939_rng *rngdev;\n-\tstruct resource *r;\n \tint i;\n \n \trngdev = devm_kzalloc(&dev->dev, sizeof(*rngdev), GFP_KERNEL);\n \tif (!rngdev)\n \t\treturn -ENOMEM;\n-\tr = platform_get_resource(dev, IORESOURCE_MEM, 0);\n-\trngdev->base = devm_ioremap_resource(&dev->dev, r);\n+\trngdev->base = devm_platform_ioremap_resource(dev, 0);\n \tif (IS_ERR(rngdev->base))\n \t\treturn PTR_ERR(rngdev->base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6cd4e070372b29534af5c0a575e84bcfd32c651f"}
{"commit_hash": "bd74b0f5ef80c0b826aa1e6eee40dd27d05c4f34", "short_hash": "bd74b0f5ef80", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T18:46:19+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:57+11:00", "subject": "hwrng: st - use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/char/hw_random/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Patrice Chotard <patrice.chotard@st.com> (STMicroelectronics)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor refactoring using devm_platform_ioremap_resource() helper to simplify code. Low impact driver subsystem cleanup with proper review chain. Huawei author with ST.com reviewer and Herbert Xu (crypto maintainer) signoff.", "code_snippet": "@@ -72,7 +72,6 @@ static int st_rng_read(struct hwrng *rng, void *data, size_t max, bool wait)\n static int st_rng_probe(struct platform_device *pdev)\n {\n \tstruct st_rng_data *ddata;\n-\tstruct resource *res;\n \tstruct clk *clk;\n \tvoid __iomem *base;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd74b0f5ef80c0b826aa1e6eee40dd27d05c4f34"}
{"commit_hash": "ee1788c61546b04763df608f8333ebd827119a02", "short_hash": "ee1788c61546", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-21T15:41:00+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:58+11:00", "subject": "crypto: hisilicon - tiny fix about QM/ZIP error callback print", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/", "drivers/crypto/hisilicon/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit improving error message clarity in HiSilicon crypto driver. 3 insertions, 9 deletions across 2 files. No functional changes, only removing redundant version information from error prints and eliminating unnecessary debug output. Signed off by maintainer Herbert Xu. Low subsystem tier (crypto driver), minimal impact.", "code_snippet": "@@ -1886,8 +1882,7 @@ EXPORT_SYMBOL_GPL(hisi_qm_hw_error_init);\n int hisi_qm_hw_error_handle(struct hisi_qm *qm)\n {\n \tif (!qm->ops->hw_error_handle) {\n-\t\tdev_err(&qm->pdev->dev, \"QM version %d doesn't support hw error report!\\n\",\n-\t\t\tqm->ver);\n+\t\tdev_err(&qm->pdev->dev, \"QM doesn't support hw error report!\\n\");\n \t\treturn PCI_ERS_RESULT_NONE;\n \t}\n \ndiff --git a/drivers/crypto/hisilicon/zip/zip_main.c b/drivers/crypto/hisilicon/zip/zip_main.c\nindex 1b2ee96c888d..5546edc6f789 100644\n--- a/drivers/crypto/hisilicon/zip/zip_main.c\n+++ b/drivers/crypto/hisilicon/zip/zip_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee1788c61546b04763df608f8333ebd827119a02"}
{"commit_hash": "798ac398179e832b5c2e392d7d17288421aa85f5", "short_hash": "798ac398179e", "author_name": "Tian Tao", "author_email": "tiantao6@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T08:41:37+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:58+11:00", "subject": "crypto: ccree - fix comparison of unsigned expression warning", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Tian Tao <tiantao6@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Gilad Ben-Yossef <gilad@benyossef.com> (Benyossef)"], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 7, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Compiler warning fix for crypto driver. Changed hmac_setkey return type from int to unsigned int to resolve unsigned comparison warning. Small scope (3 lines), single file in drivers/crypto subsystem. Has maintainer Acked-by tag. Low user impact as it's a warning fix with no functional change.", "code_snippet": "@@ -293,7 +293,8 @@ static unsigned int xcbc_setkey(struct cc_hw_desc *desc,\n \treturn 4;\n }\n \n-static int hmac_setkey(struct cc_hw_desc *desc, struct cc_aead_ctx *ctx)\n+static unsigned int hmac_setkey(struct cc_hw_desc *desc,\n+\t\t\t\tstruct cc_aead_ctx *ctx)\n {\n \tunsigned int hmac_pad_const[2] = { HMAC_IPAD_CONST, HMAC_OPAD_CONST };\n \tunsigned int digest_ofs = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/798ac398179e832b5c2e392d7d17288421aa85f5"}
{"commit_hash": "9a8641a7ffbf6f896bcd2bb2c6c0f4b403831c18", "short_hash": "9a8641a7ffbf", "author_name": "Shukun Tan", "author_email": "tanshukun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T15:41:03+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:59+11:00", "subject": "crypto: hisilicon - fix endianness verification problem of QM", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 2, "insertions": 45, "deletions": 44, "hunks": 30, "review_chain": {"signed_off_by": ["Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 11, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Endianness bug fix in crypto driver. 45 insertions/44 deletions across 2 files. Fixed sparse warnings related to __le16/__le32 type handling by adding proper cpu_to_le32/le32_to_cpu conversions. Good review chain: author (Huawei) -> co-developer (Hisilicon) -> maintainer (Herbert Xu). Subsystem tier 6 (crypto driver). Cross-org contribution (Huawei/Hisilicon -> upstream). Clean atomic fix for sparse warnings.", "code_snippet": "@@ -59,17 +59,17 @@\n #define QM_CQ_PHASE_SHIFT\t\t0\n #define QM_CQ_FLAG_SHIFT\t\t1\n \n-#define QM_CQE_PHASE(cqe)\t\t((cqe)->w7 & 0x1)\n+#define QM_CQE_PHASE(cqe)\t\t(le16_to_cpu((cqe)->w7) & 0x1)\n #define QM_QC_CQE_SIZE\t\t\t4\n \n /* eqc shift */\n #define QM_EQE_AEQE_SIZE\t\t(2UL << 12)\n #define QM_EQC_PHASE_SHIFT\t\t16\n \n-#define QM_EQE_PHASE(eqe)\t\t(((eqe)->dw0 >> 16) & 0x1)\n+#define QM_EQE_PHASE(eqe)\t\t((le32_to_cpu((eqe)->dw0) >> 16) & 0x1)\n #define QM_EQE_CQN_MASK\t\t\tGENMASK(15, 0)\n \n-#define QM_AEQE_PHASE(aeqe)\t\t(((aeqe)->dw0 >> 16) & 0x1)\n+#define QM_AEQE_PHASE(aeqe)\t\t((le32_to_cpu((aeqe)->dw0) >> 16) & 0x1)\n #define QM_AEQE_TYPE_SHIFT\t\t17\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a8641a7ffbf6f896bcd2bb2c6c0f4b403831c18"}
{"commit_hash": "719181f39a1045674b04256f54492f7fd97deddb", "short_hash": "719181f39a10", "author_name": "Shukun Tan", "author_email": "tanshukun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T15:41:02+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:59+11:00", "subject": "crypto: hisilicon - fix param should be static when not external.", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 4, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding static keyword to two symbols and replacing 0 with NULL. Minimal code change (3 lines), single file in crypto driver. Well-reviewed with 3 sign-offs including maintainer Herbert Xu. Clean commit message explaining the sparse warnings.", "code_snippet": "@@ -84,8 +84,8 @@\n \n static const char hisi_zip_name[] = \"hisi_zip\";\n static struct dentry *hzip_debugfs_root;\n-LIST_HEAD(hisi_zip_list);\n-DEFINE_MUTEX(hisi_zip_list_lock);\n+static LIST_HEAD(hisi_zip_list);\n+static DEFINE_MUTEX(hisi_zip_list_lock);\n \n #ifdef CONFIG_NUMA\n static struct hisi_zip *find_zip_device_numa(int node)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/719181f39a1045674b04256f54492f7fd97deddb"}
{"commit_hash": "e10966981f7258dd7283f3028f414dd127bb5bfc", "short_hash": "e10966981f72", "author_name": "Shukun Tan", "author_email": "tanshukun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-21T15:41:01+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-10-26T02:09:59+11:00", "subject": "crypto: hisilicon - Fix using plain integer as NULL pointer", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 6, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix replacing 0 with NULL in crypto driver macro. Low-impact cleanup, properly signed off by subsystem maintainer Herbert Xu.", "code_snippet": "@@ -42,7 +42,7 @@ enum hisi_zip_alg_type {\n \n #define TO_HEAD(req_type)\t\t\t\t\t\t\\\n \t(((req_type) == HZIP_ALG_TYPE_ZLIB) ? zlib_head :\t\t\\\n-\t ((req_type) == HZIP_ALG_TYPE_GZIP) ? gzip_head : 0)\t\t\\\n+\t ((req_type) == HZIP_ALG_TYPE_GZIP) ? gzip_head : NULL)\t\t\\\n \n struct hisi_zip_req {\n \tstruct acomp_req *req;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e10966981f7258dd7283f3028f414dd127bb5bfc"}
{"commit_hash": "515d6798fec9632fffb79261c511eb166f773273", "short_hash": "515d6798fec9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:26:53+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-10-26T07:23:30+02:00", "subject": "Bluetooth: btrtl: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 15, "score_technical": 3, "score_impact": 1, "score_quality": 7, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing extra semicolon detected by Coccinelle. 1 line changed in Bluetooth driver. Marcel Holtmann (Bluetooth maintainer) signed off. Zero functional impact.", "code_snippet": "@@ -778,7 +778,7 @@ int btrtl_get_uart_settings(struct hci_dev *hdev,\n \t\t\trtl_dev_dbg(hdev, \"skipping config entry 0x%x (len %u)\",\n \t\t\t\t   le16_to_cpu(entry->offset), entry->len);\n \t\t\tbreak;\n-\t\t};\n+\t\t}\n \n \t\ti += sizeof(*entry) + entry->len;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/515d6798fec9632fffb79261c511eb166f773273"}
{"commit_hash": "5ff223e86f5addbfae26419cbb5d61d98f6fbf7d", "short_hash": "5ff223e86f5a", "author_name": "zhanglin", "author_email": "zhang.lin16@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-26T15:54:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-26T11:20:10-07:00", "subject": "net: Zeroing the structure ethtool_wolinfo in ethtool_get_wol()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhanglin <zhang.lin16@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 13, "score_impact": 14, "score_quality": 7, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kernel data leak fix in net/ethtool - uninitialized struct padding bytes could leak kernel memory to userspace via copy_to_user(). Small fix (3 lines) in critical networking subsystem. Cross-org contribution from ZTE (zhang.lin16@zte.com.cn) signed off by net maintainer David S. Miller. Well-structured commit message explains the vulnerability clearly. Atomic fix addressing single security issue.", "code_snippet": "@@ -1396,11 +1396,13 @@ static int ethtool_reset(struct net_device *dev, char __user *useraddr)\n \n static int ethtool_get_wol(struct net_device *dev, char __user *useraddr)\n {\n-\tstruct ethtool_wolinfo wol = { .cmd = ETHTOOL_GWOL };\n+\tstruct ethtool_wolinfo wol;\n \n \tif (!dev->ethtool_ops->get_wol)\n \t\treturn -EOPNOTSUPP;\n \n+\tmemset(&wol, 0, sizeof(struct ethtool_wolinfo));\n+\twol.cmd = ETHTOOL_GWOL;\n \tdev->ethtool_ops->get_wol(dev, &wol);\n \n \tif (copy_to_user(useraddr, &wol, sizeof(wol)))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ff223e86f5addbfae26419cbb5d61d98f6fbf7d"}
{"commit_hash": "af24cb20689db0152ccdf7390dbfe13d1d7a048b", "short_hash": "af24cb20689d", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-09-27T10:58:05+08:00", "committer_name": "Wei Xu", "committer_email": "xuwei5@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-10-26T15:28:30+08:00", "subject": "arm64: defconfig: Enable HiSilicon ZIP controller", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/configs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Wei Xu <xuwei5@hisilicon.com> (HiSilicon)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 13, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Single-line defconfig change enabling HiSilicon ZIP controller driver for Kunpeng920 SoC. Straightforward hardware enablement with proper maintainer sign-offs. Low code volume but enables new crypto compression hardware feature.", "code_snippet": "@@ -848,6 +848,7 @@ CONFIG_NLS_ISO8859_1=y\n CONFIG_SECURITY=y\n CONFIG_CRYPTO_ECHAINIV=y\n CONFIG_CRYPTO_ANSI_CPRNG=y\n+CONFIG_CRYPTO_DEV_HISI_ZIP=m\n CONFIG_DMA_CMA=y\n CONFIG_CMA_SIZE_MBYTES=32\n CONFIG_PRINTK_TIME=y\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af24cb20689db0152ccdf7390dbfe13d1d7a048b"}
{"commit_hash": "006ece996d2206082d281ba271b1ed17f1ee6422", "short_hash": "006ece996d22", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-10T16:24:50+08:00", "committer_name": "Wei Xu", "committer_email": "xuwei5@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-10-26T15:29:03+08:00", "subject": "arm64: defconfig: Enable SMMU v3 PMCG", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/configs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Wei Xu <xuwei5@hisilicon.com> (HiSilicon)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 12, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Single-line config change enabling SMMUv3 PMU driver for HiSilicon Kunpeng920 SoC. Low code volume but enables new hardware support. Good commit message with hardware details. Double sign-off from same organization (Hisilicon). Driver enablement for specific SoC feature.", "code_snippet": "@@ -801,6 +801,7 @@ CONFIG_PHY_ROCKCHIP_TYPEC=y\n CONFIG_PHY_UNIPHIER_USB2=y\n CONFIG_PHY_UNIPHIER_USB3=y\n CONFIG_PHY_TEGRA_XUSB=y\n+CONFIG_ARM_SMMU_V3_PMU=m\n CONFIG_FSL_IMX8_DDR_PMU=m\n CONFIG_HISI_PMU=y\n CONFIG_QCOM_L2_PMU=y\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/006ece996d2206082d281ba271b1ed17f1ee6422"}
{"commit_hash": "88ae095b2855c5caf18cc476b03f5b0c96b040a2", "short_hash": "88ae095b2855", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T23:51:28+08:00", "committer_name": "Wei Xu", "committer_email": "xuwei5@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-10-26T15:31:22+08:00", "subject": "ARM: hisi: drop useless depend on ARCH_MULTI_V7", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-hisi"], "subsystem_tier": 5, "files_changed": 1, "insertions": 6, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Wei Xu <xuwei5@hisilicon.com> (HiSilicon)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 2, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Kconfig cleanup removing redundant ARCH_MULTI_V7 dependencies already implied by parent ARCH_HISI. Low code volume (-4/+6 lines), single subsystem (ARM/Hisilicon), cleanup category (2pt base). Good commit message explaining rationale (5pt). Clean atomic change with proper review chain (4pt + 3pt). Maintainer sign-off present (2pt). No user impact or stable tagging.", "code_snippet": "@@ -15,7 +15,6 @@ menu \"Hisilicon platform type\"\n \n config ARCH_HI3xxx\n \tbool \"Hisilicon Hi36xx family\"\n-\tdepends on ARCH_MULTI_V7\n \tselect CACHE_L2X0\n \tselect HAVE_ARM_SCU if SMP\n \tselect HAVE_ARM_TWD if SMP", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88ae095b2855c5caf18cc476b03f5b0c96b040a2"}
{"commit_hash": "44eb5a7e5dc6f23d04c05c15f91bc279e0dc700d", "short_hash": "44eb5a7e5dc6", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-27T08:55:39+01:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-10-27T09:00:28+01:00", "subject": "x86/apic, x86/uprobes: Correct parameter names in kernel-doc comments", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel/apic/", "arch/x86/kernel/uprobes.c"], "subsystem_tier": 9, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only change correcting kernel-doc parameter names. No functional changes, extremely low technical complexity (4 insertions/deletions across 2 files). High review quality with maintainer (bp) merge and proper cc list. Cross-org contribution from ZTE to x86 subsystem.", "code_snippet": "@@ -2335,7 +2335,7 @@ static int cpuid_to_apicid[] = {\n #ifdef CONFIG_SMP\n /**\n  * apic_id_is_primary_thread - Check whether APIC ID belongs to a primary thread\n- * @id:\tAPIC ID to check\n+ * @apicid: APIC ID to check\n  */\n bool apic_id_is_primary_thread(unsigned int apicid)\n {\ndiff --git a/arch/x86/kernel/uprobes.c b/arch/x86/kernel/uprobes.c\nindex 8cd745ef8c7b..15e5aad8ac2c 100644\n--- a/arch/x86/kernel/uprobes.c\n+++ b/arch/x86/kernel/uprobes.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44eb5a7e5dc6f23d04c05c15f91bc279e0dc700d"}
{"commit_hash": "039ffeaae307d61318742e0b2f79742e08ea6b8b", "short_hash": "039ffeaae307", "author_name": "zhongshiqi", "author_email": "zhong.shiqi@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-23T16:32:23+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-28T11:19:00-04:00", "subject": "dc.c:use kzalloc without test", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd/display", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhongshiqi <zhong.shiqi@zte.com.cn> (ZTE)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 16, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Missing null check after kzalloc could cause NULL pointer dereference on allocation failure. Added proper error handling with dm_error and goto fail. Reviewed by maintainer. Cross-org contribution from ZTE to AMD GPU driver.", "code_snippet": "@@ -601,6 +601,10 @@ static bool construct(struct dc *dc,\n #ifdef CONFIG_DRM_AMD_DC_DCN2_0\n \t// Allocate memory for the vm_helper\n \tdc->vm_helper = kzalloc(sizeof(struct vm_helper), GFP_KERNEL);\n+\tif (!dc->vm_helper) {\n+\t\tdm_error(\"%s: failed to create dc->vm_helper\\n\", __func__);\n+\t\tgoto fail;\n+\t}\n \n #endif\n \tmemcpy(&dc->bb_overrides, &init_params->bb_overrides, sizeof(dc->bb_overrides));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/039ffeaae307d61318742e0b2f79742e08ea6b8b"}
{"commit_hash": "b69cd5dd019a474fb445651d5461a8d5e2301ea9", "short_hash": "b69cd5dd019a", "author_name": "Chenwandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-19T11:23:51+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-28T11:19:00-04:00", "subject": "drm/amd/display: remove gcc warning Wunused-but-set-variable", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Chenwandun <chenwandun@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial compiler warning fix removing an unused variable. 5 deletions, 0 insertions. Cross-org contribution from Huawei to AMD DRM subsystem with maintainer sign-off.", "code_snippet": "@@ -432,7 +432,6 @@ static bool dce_aux_configure_timeout(struct ddc_service *ddc,\n {\n \tuint32_t multiplier = 0;\n \tuint32_t length = 0;\n-\tuint32_t timeout = 0;\n \tstruct ddc *ddc_pin = ddc->ddc_pin;\n \tstruct dce_aux *aux_engine = ddc->ctx->dc->res_pool->engines[ddc_pin->pin_data->en];\n \tstruct aux_engine_dce110 *aux110 = FROM_AUX_ENGINE(aux_engine);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b69cd5dd019a474fb445651d5461a8d5e2301ea9"}
{"commit_hash": "b64919a2366ada6e96474148f0459ac12d8d813c", "short_hash": "b64919a2366a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T21:36:21+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-28T11:19:17-04:00", "subject": "drm/amd/powerplay: Make two functions static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to two functions in AMD GPU powerplay driver. Cross-org contribution from Huawei to AMD maintainer. Low technical impact as it's purely a build warning fix with no runtime changes.", "code_snippet": "@@ -2047,7 +2047,7 @@ static const struct i2c_algorithm arcturus_i2c_eeprom_i2c_algo = {\n \t.functionality = arcturus_i2c_eeprom_i2c_func,\n };\n \n-int arcturus_i2c_eeprom_control_init(struct i2c_adapter *control)\n+static int arcturus_i2c_eeprom_control_init(struct i2c_adapter *control)\n {\n \tstruct amdgpu_device *adev = to_amdgpu_device(control);\n \tint res;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b64919a2366ada6e96474148f0459ac12d8d813c"}
{"commit_hash": "4ef0b9d0a10eab55d36dc2f3ea316163c4addf8c", "short_hash": "4ef0b9d0a10e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T21:34:36+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-28T11:19:17-04:00", "subject": "drm/amd/display: Make calculate_integer_scaling static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to an internal function. 1 line changed in AMD display driver. Cross-org contribution from Huawei to AMD maintainer. Proper sign-off chain with maintainer endorsement. No user impact or runtime behavior change.", "code_snippet": "@@ -960,7 +960,7 @@ static bool are_rects_integer_multiples(struct rect src, struct rect dest)\n \treturn false;\n }\n \n-void calculate_integer_scaling(struct pipe_ctx *pipe_ctx)\n+static void calculate_integer_scaling(struct pipe_ctx *pipe_ctx)\n {\n \tif (!pipe_ctx->plane_state->scaling_quality.integer_scaling)\n \t\treturn;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4ef0b9d0a10eab55d36dc2f3ea316163c4addf8c"}
{"commit_hash": "24d05966b560b88d37d90e64f018af2fed888104", "short_hash": "24d05966b560", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T20:08:01+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-28T13:12:39Z", "subject": "ASoC: sunxi: sun4i-codec: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sunxi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unnecessary semicolons after closing braces in three similar functions. Very low code volume (3 insertions, 3 deletions), single file in non-critical audio driver subsystem. Well-reviewed with maintainer sign-off, and properly formatted commit message with lore link. No functional change, no user impact, no stable CC.", "code_snippet": "@@ -1442,7 +1442,7 @@ static struct snd_soc_card *sun8i_a23_codec_create_card(struct device *dev)\n \tif (!aux_dev.dlc.of_node) {\n \t\tdev_err(dev, \"Can't find analog controls for codec.\\n\");\n \t\treturn ERR_PTR(-EINVAL);\n-\t};\n+\t}\n \n \tcard->dai_link = sun4i_codec_create_link(dev, &card->num_links);\n \tif (!card->dai_link)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24d05966b560b88d37d90e64f018af2fed888104"}
{"commit_hash": "5c7e76fb7cb5071be800c938ebf2c475e140d3f0", "short_hash": "5c7e76fb7cb5", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T17:21:56+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-10-28T13:33:06-03:00", "subject": "RDMA/hns: Fix to support 64K page for srq", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "c7bcb13442e1", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 9, "score_impact": 18, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for SRQ page size configuration in 64K page scenarios. Small change (2 insertions, 2 deletions) in infiniband driver. Fixes tag present. Reviewed by maintainer Jason Gunthorpe. Cross-org contribution from Huawei to Mellanox-maintained code.", "code_snippet": "@@ -6088,11 +6088,11 @@ static void hns_roce_v2_write_srqc(struct hns_roce_dev *hr_dev,\n \troce_set_field(srq_context->byte_44_idxbufpgsz_addr,\n \t\t       SRQC_BYTE_44_SRQ_IDX_BA_PG_SZ_M,\n \t\t       SRQC_BYTE_44_SRQ_IDX_BA_PG_SZ_S,\n-\t\t       hr_dev->caps.idx_ba_pg_sz);\n+\t\t       hr_dev->caps.idx_ba_pg_sz + PG_SHIFT_OFFSET);\n \troce_set_field(srq_context->byte_44_idxbufpgsz_addr,\n \t\t       SRQC_BYTE_44_SRQ_IDX_BUF_PG_SZ_M,\n \t\t       SRQC_BYTE_44_SRQ_IDX_BUF_PG_SZ_S,\n-\t\t       hr_dev->caps.idx_buf_pg_sz);\n+\t\t       hr_dev->caps.idx_buf_pg_sz + PG_SHIFT_OFFSET);\n \n \tsrq_context->idx_nxt_blk_addr =\n \t\tcpu_to_le32(mtts_idx[1] >> PAGE_ADDR_SHIFT);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5c7e76fb7cb5071be800c938ebf2c475e140d3f0"}
{"commit_hash": "887803db866a7a4e1817a3cb8a3eee4e9879fed2", "short_hash": "887803db866a", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T17:21:57+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-10-28T13:33:06-03:00", "subject": "RDMA/hns: Bugfix for qpc/cqc timer configuration", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "0e40dc2f70cd", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 14, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 2, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bugfix for page size assumption in RDMA driver timer configuration. Hardcoded 4096 replaced with PAGE_SIZE to fix 64K page scenarios. Critical for systems with non-4K pages. Well-reviewed with proper Fixes tag and multiple sign-offs including maintainer.", "code_snippet": "@@ -87,8 +87,8 @@\n #define HNS_ROCE_V2_MTT_ENTRY_SZ\t\t64\n #define HNS_ROCE_V2_CQE_ENTRY_SIZE\t\t32\n #define HNS_ROCE_V2_SCCC_ENTRY_SZ\t\t32\n-#define HNS_ROCE_V2_QPC_TIMER_ENTRY_SZ\t\t4096\n-#define HNS_ROCE_V2_CQC_TIMER_ENTRY_SZ\t\t4096\n+#define HNS_ROCE_V2_QPC_TIMER_ENTRY_SZ\t\tPAGE_SIZE\n+#define HNS_ROCE_V2_CQC_TIMER_ENTRY_SZ\t\tPAGE_SIZE\n #define HNS_ROCE_V2_PAGE_SIZE_SUPPORTED\t\t0xFFFFF000\n #define HNS_ROCE_V2_MAX_INNER_MTPT_NUM\t\t2\n #define HNS_ROCE_INVALID_LKEY\t\t\t0x100\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/887803db866a7a4e1817a3cb8a3eee4e9879fed2"}
{"commit_hash": "693463e8340d55af4baed3b0721f9d8f5350a18a", "short_hash": "693463e8340d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:06:18+08:00", "committer_name": "Stefan Schmidt", "committer_email": "stefan@datenfreihafen.org", "committer_company": "Datenfreihafen", "commit_date": "2019-10-28T14:25:46+01:00", "subject": "ieee802154: remove set but not used variable 'status'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ieee802154"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stefan Schmidt <stefan@datenfreihafen.org> (Datenfreihafen)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing an unused variable to fix a compiler warning. Minimal code impact (3 deletions), single file in non-critical networking subsystem. Good commit message with clear explanation. Cross-org contribution from Huawei to maintainer Stefan Schmidt.", "code_snippet": "@@ -223,7 +223,6 @@ static int\n cc2520_cmd_strobe(struct cc2520_private *priv, u8 cmd)\n {\n \tint ret;\n-\tu8 status = 0xff;\n \tstruct spi_message msg;\n \tstruct spi_transfer xfer = {\n \t\t.len = 0,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/693463e8340d55af4baed3b0721f9d8f5350a18a"}
{"commit_hash": "b681a0529968d2261aa15d7a1e78801b2c06bb07", "short_hash": "b681a0529968", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-26T14:56:35+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-10-28T15:06:38-03:00", "subject": "RDMA/hns: Prevent memory leaks of eq->buf_list", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "a5073d6054f7", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 12, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in RDMA driver. Small code change (6 lines). Critical subsystem (infiniband). Single subsystem scope. Memory leak base score (9) with moderate user impact (3). No stable CC. Strong review chain with multiple sign-offs (Jason Gunthorpe, maintainer). Clear commit message with Fixes tag. Atomic fix. No cross-org collaboration (Huawei internal). Maintainer endorsement present (Jason Gunthorpe).", "code_snippet": "@@ -5389,9 +5389,9 @@ static void hns_roce_v2_free_eq(struct hns_roce_dev *hr_dev,\n \t\treturn;\n \t}\n \n-\tif (eq->buf_list)\n-\t\tdma_free_coherent(hr_dev->dev, buf_chk_sz,\n-\t\t\t\t  eq->buf_list->buf, eq->buf_list->map);\n+\tdma_free_coherent(hr_dev->dev, buf_chk_sz, eq->buf_list->buf,\n+\t\t\t  eq->buf_list->map);\n+\tkfree(eq->buf_list);\n }\n \n static void hns_roce_config_eqc(struct hns_roce_dev *hr_dev,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b681a0529968d2261aa15d7a1e78801b2c06bb07"}
{"commit_hash": "acf5133b1d27edca6aee2a82cb2ffb2bc7c58468", "short_hash": "acf5133b1d27", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:09:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-28T16:36:07-07:00", "subject": "mlxsw: spectrum_buffers: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/ethernet/mellanox/mlxsw"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Pirko <jiri@mellanox.com> (Mellanox)"], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing unnecessary semicolons after closing braces. Acked-by maintainer Jiri Pirko. Cross-org contribution from Huawei to Mellanox driver code. Very low technical and impact value despite good review process.", "code_snippet": "@@ -1044,12 +1044,12 @@ int mlxsw_sp_sb_pool_set(struct mlxsw_core *mlxsw_core,\n \tif (pr->freeze_mode && pr->mode != mode) {\n \t\tNL_SET_ERR_MSG_MOD(extack, \"Changing this pool's threshold type is forbidden\");\n \t\treturn -EINVAL;\n-\t};\n+\t}\n \n \tif (pr->freeze_size && pr->size != size) {\n \t\tNL_SET_ERR_MSG_MOD(extack, \"Changing this pool's size is forbidden\");\n \t\treturn -EINVAL;\n-\t};\n+\t}\n \n \treturn mlxsw_sp_sb_pr_write(mlxsw_sp, pool_index, mode,\n \t\t\t\t    pool_size, false);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/acf5133b1d27edca6aee2a82cb2ffb2bc7c58468"}
{"commit_hash": "11b3412cef89cb5c1937ddb744e84614a7b1f564", "short_hash": "11b3412cef89", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:13:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-28T16:36:24-07:00", "subject": "net: mediatek: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unnecessary semicolons after switch statements. Minimal code change (4 insertions, 4 deletions across 2 files). Low subsystem tier ( MediaTek ethernet driver, not core networking ). No user impact, no stable tagging, low novelty. Good maintainer endorsement (signed off by David S. Miller). Clean atomic fix.", "code_snippet": "@@ -174,7 +174,7 @@ static int set_mux_gmac12_to_gephy_sgmii(struct mtk_eth *eth, int path)\n \t\tbreak;\n \tdefault:\n \t\tupdated = false;\n-\t};\n+\t}\n \n \tif (updated)\n \t\tregmap_update_bits(eth->ethsys, ETHSYS_SYSCFG0,\ndiff --git a/drivers/net/ethernet/mediatek/mtk_sgmii.c b/drivers/net/ethernet/mediatek/mtk_sgmii.c\nindex 4db27dfc7ec1..32d83421226a 100644\n--- a/drivers/net/ethernet/mediatek/mtk_sgmii.c\n+++ b/drivers/net/ethernet/mediatek/mtk_sgmii.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11b3412cef89cb5c1937ddb744e84614a7b1f564"}
{"commit_hash": "f95f96a4946ac9a38acf85f8421d8e9c5cbb516f", "short_hash": "f95f96a4946a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:18:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-28T16:38:08-07:00", "subject": "sock: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing duplicate semicolon in sock.c. Minimal code impact (1 line changed) in critical networking subsystem. Maintainer endorsement through David S. Miller's maintainer sign-off. No functional change, no testing evidence needed. Atomic commit with clear purpose.", "code_snippet": "@@ -3013,7 +3013,7 @@ int sock_gettstamp(struct socket *sock, void __user *userstamp,\n \t\treturn -ENOENT;\n \tif (ts.tv_sec == 0) {\n \t\tktime_t kt = ktime_get_real();\n-\t\tsock_write_timestamp(sk, kt);;\n+\t\tsock_write_timestamp(sk, kt);\n \t\tts = ktime_to_timespec64(kt);\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f95f96a4946ac9a38acf85f8421d8e9c5cbb516f"}
{"commit_hash": "d5a721c96a4411d3f35545b694fc9794fbbfc98e", "short_hash": "d5a721c96a44", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:30:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-28T16:47:22-07:00", "subject": "atm: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/atm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing unnecessary semicolon after a switch case break statement. Minimal code impact (1 line changed). Low-tier subsystem (drivers/atm). Good review chain with maintainer sign-off. Cross-org contribution from Huawei.", "code_snippet": "@@ -1070,7 +1070,7 @@ static int fs_open(struct atm_vcc *atm_vcc)\n \t\t\t\t\tRC_FLAGS_BFPS_BFP * bfp |\n \t\t\t\t\tRC_FLAGS_RXBM_PSB, 0, 0);\n \t\t\tbreak;\n-\t\t};\n+\t\t}\n \t\tif (IS_FS50 (dev)) {\n \t\t\tsubmit_command (dev, &dev->hp_txq, \n \t\t\t\t\tQE_CMD_REG_WR | QE_CMD_IMM_INQ,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d5a721c96a4411d3f35545b694fc9794fbbfc98e"}
{"commit_hash": "7b10db555257d1248398643a23e10cf36b50d516", "short_hash": "7b10db555257", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T21:25:56+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-28T22:02:28-04:00", "subject": "scsi: lpfc: Make lpfc_debugfs_ras_log_data static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 9, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix making a function static. This is a trivial cleanup commit fixing a compilation warning. Code volume is minimal (2 insertions, 2 deletions). The SCSI subsystem is tier 8 (driver subsystem). Category is MAINT-CLEANUP (base score 2). No user impact, no stable consideration. Good commit message with proper tags and link. Maintainer (Martin K. Petersen) signed off, and James Smart provided Reviewed-by. Cross-org collaboration between Huawei and Oracle/Broadcom.", "code_snippet": "@@ -2079,8 +2079,8 @@ lpfc_debugfs_lockstat_write(struct file *file, const char __user *buf,\n }\n #endif\n \n-int\n-lpfc_debugfs_ras_log_data(struct lpfc_hba *phba, char *buffer, int size)\n+static int lpfc_debugfs_ras_log_data(struct lpfc_hba *phba,\n+\t\t\t\t     char *buffer, int size)\n {\n \tint copied = 0;\n \tstruct lpfc_dmabuf *dmabuf, *next;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b10db555257d1248398643a23e10cf36b50d516"}
{"commit_hash": "c6b69bf143734a797b45e4728dc5ad80586d206c", "short_hash": "c6b69bf14373", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T09:57:56-07:00", "committer_name": "Santosh Shilimkar", "committer_email": "santosh.shilimkar@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-29T09:57:56-07:00", "subject": "soc: ti: omap-prm: fix return value check in omap_prm_probe()", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "3e99cb214f03", "cc_stable": false, "subsystem_prefix": "drivers/soc/ti", "subsystems_touched": ["drivers/soc/ti/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Santosh Shilimkar <santosh.shilimkar@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error handling in omap_prm_probe() - changed NULL check to IS_ERR() for devm_ioremap_resource() return value. Small 2-line change in SoC driver. Fixes tag present. Proper Fixes tag and Signed-off-by chain with maintainer endorsement.", "code_snippet": "@@ -375,8 +375,8 @@ static int omap_prm_probe(struct platform_device *pdev)\n \tprm->data = data;\n \n \tprm->base = devm_ioremap_resource(&pdev->dev, res);\n-\tif (!prm->base)\n-\t\treturn -ENOMEM;\n+\tif (IS_ERR(prm->base))\n+\t\treturn PTR_ERR(prm->base);\n \n \treturn omap_prm_reset_init(pdev, prm);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c6b69bf143734a797b45e4728dc5ad80586d206c"}
{"commit_hash": "faee19ece8263738c147cb0140e0fbc7b5397ca8", "short_hash": "faee19ece826", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T09:57:57-07:00", "committer_name": "Santosh Shilimkar", "committer_email": "santosh.shilimkar@oracle.com", "committer_company": "Oracle", "commit_date": "2019-10-29T09:57:57-07:00", "subject": "memory: emif: remove set but not used variables 'cs1_used' and 'custom_configs'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/memory", "subsystems_touched": ["drivers/memory/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Santosh Shilimkar <santosh.shilimkar@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warnings. 3 lines deleted from EMIF driver. Cross-org contribution from Huawei to Oracle maintainer. Clean maintenance with proper SOB chain.", "code_snippet": "@@ -1613,7 +1613,7 @@ static void emif_shutdown(struct platform_device *pdev)\n static int get_emif_reg_values(struct emif_data *emif, u32 freq,\n \t\tstruct emif_regs *regs)\n {\n-\tu32\t\t\t\tcs1_used, ip_rev, phy_type;\n+\tu32\t\t\t\tip_rev, phy_type;\n \tu32\t\t\t\tcl, type;\n \tconst struct lpddr2_timings\t*timings;\n \tconst struct lpddr2_min_tck\t*min_tck;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/faee19ece8263738c147cb0140e0fbc7b5397ca8"}
{"commit_hash": "ba5290ccb6b57fc5e274ae46d051fba1f0ece262", "short_hash": "ba5290ccb6b5", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-10-09T09:19:59+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-10-29T10:22:47-06:00", "subject": "io_uring: replace s->needs_lock with s->in_async", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 9, "files_changed": 1, "insertions": 11, "deletions": 20, "hunks": 16, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 11, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring renaming s->needs_lock to s->in_async for clarity. Single file (fs/io_uring.c), low complexity (-11 net lines). Reviewed by maintainer Jens Axboe. No functional changes per commit message. Atomic change focused on code clarity.", "code_snippet": "@@ -1474,13 +1474,9 @@ static int io_read(struct io_kiocb *req, const struct sqe_submit *s,\n \t\t\tret2 = -EAGAIN;\n \t\t/* Catch -EAGAIN return for forced non-blocking submission */\n \t\tif (!force_nonblock || ret2 != -EAGAIN) {\n-\t\t\tkiocb_done(kiocb, ret2, nxt, s->needs_lock);\n+\t\t\tkiocb_done(kiocb, ret2, nxt, s->in_async);\n \t\t} else {\n-\t\t\t/*\n-\t\t\t * If ->needs_lock is true, we're already in async\n-\t\t\t * context.\n-\t\t\t */\n-\t\t\tif (!s->needs_lock)\n+\t\t\tif (!s->in_async)\n \t\t\t\tio_async_list_note(READ, req, iov_count);\n \t\t\tret = -EAGAIN;\n \t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba5290ccb6b57fc5e274ae46d051fba1f0ece262"}
{"commit_hash": "63a41746827cb16dc6ad0d4d761ab4e7dda7a0c3", "short_hash": "63a41746827c", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T21:48:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T10:57:01-07:00", "subject": "net: hisilicon: Fix \"Trying to free already-free IRQ\"", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 13, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for double-free IRQ warning during module unload. Single line removal, targeted fix for specific driver. Cross-org contribution (Huawei to netdev maintained by David S. Miller). Well-documented with stack trace in commit message.", "code_snippet": "@@ -1038,7 +1038,6 @@ static int hip04_remove(struct platform_device *pdev)\n \n \thip04_free_ring(ndev, d);\n \tunregister_netdev(ndev);\n-\tfree_irq(ndev->irq, ndev);\n \tof_node_put(priv->phy_node);\n \tcancel_work_sync(&priv->tx_timeout_task);\n \tfree_netdev(ndev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/63a41746827cb16dc6ad0d4d761ab4e7dda7a0c3"}
{"commit_hash": "3c379a59b4795d7279d38c623e74b9790345a32b", "short_hash": "3c379a59b479", "author_name": "Hewenliang", "author_email": "hewenliang4@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T21:35:55-04:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-10-29T12:04:18Z", "subject": "tools: PCI: Fix fd leakage", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "3f2ed8134834", "cc_stable": false, "subsystem_prefix": "tools", "subsystems_touched": ["tools/pci/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Hewenliang <hewenliang4@huawei.com> (Huawei)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reported_by": []}, "score_total": 34, "score_technical": 5, "score_impact": 9, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak fix in userspace PCI test tool (low tier subsystem). Single line addition (close(fd)) fixes fd leakage. Cross-org contribution from Huawei, reviewed and signed off by ARM maintainer with Acked-by from TI maintainer - strong review chain. Has Fixes tag but not cc:stable. Low user impact as it's a test tool, not production code.", "code_snippet": "@@ -129,6 +129,7 @@ static int run_test(struct pci_test *test)\n \t}\n \n \tfflush(stdout);\n+\tclose(fd);\n \treturn (ret < 0) ? ret : 1 - ret; /* return 0 if test succeeded */\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3c379a59b4795d7279d38c623e74b9790345a32b"}
{"commit_hash": "6f39188c9d5f81af7a3bc687636b7abc9629ee27", "short_hash": "6f39188c9d5f", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-25T09:30:15+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-29T13:08:20-05:00", "subject": "drm/panfrost: fix -Wmissing-prototypes warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drm", "subsystems_touched": ["drm/panfrost"], "subsystem_tier": 4, "files_changed": 2, "insertions": 6, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": ["Steven Price <steven.price@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 5, "score_impact": 6, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 3, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Compiler warning fix for missing function prototypes in panfrost DRM driver. Small cleanup (10 insertions, 4 deletions) making functions static and adding header includes. Cross-org contribution from ZTE (Yi Wang) reviewed by Arm (Steven Price) and merged by maintainer Rob Herring. Cc'd to stable indicating backport value. Low technical impact as build warning cleanup, non-critical GPU driver subsystem.", "code_snippet": "@@ -432,7 +432,8 @@ addr_to_drm_mm_node(struct panfrost_device *pfdev, int as, u64 addr)\n \n #define NUM_FAULT_PAGES (SZ_2M / PAGE_SIZE)\n \n-int panfrost_mmu_map_fault_addr(struct panfrost_device *pfdev, int as, u64 addr)\n+static int panfrost_mmu_map_fault_addr(struct panfrost_device *pfdev, int as,\n+\t\t\t\t       u64 addr)\n {\n \tint ret, i;\n \tstruct panfrost_gem_object *bo;\ndiff --git a/drivers/gpu/drm/panfrost/panfrost_perfcnt.c b/drivers/gpu/drm/panfrost/panfrost_perfcnt.c\nindex 83c57d325ca8..2dba192bf198 100644\n--- a/drivers/gpu/drm/panfrost/panfrost_perfcnt.c\n+++ b/drivers/gpu/drm/panfrost/panfrost_perfcnt.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6f39188c9d5f81af7a3bc687636b7abc9629ee27"}
{"commit_hash": "9ff624cdbff4466a356892500699aea9318d584e", "short_hash": "9ff624cdbff4", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T15:19:17+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-29T13:45:46Z", "subject": "KVM: arm/arm64: vgic: Remove the declaration of kvm_send_userspace_msi()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "KVM", "subsystems_touched": ["KVM/arm", "KVM/arm64", "KVM/vgic"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": ["Eric Auger <eric.auger@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 3, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing duplicate function declaration. Only 2 deletions, low technical complexity. Good review chain withReviewed-by tag and maintainer signoff. Cross-org contribution (Huawei to community). Low impact as it's just removing redundant declaration.", "code_snippet": "@@ -378,8 +378,6 @@ static inline int kvm_vgic_get_max_vcpus(void)\n \treturn kvm_vgic_global_state.max_gic_vcpus;\n }\n \n-int kvm_send_userspace_msi(struct kvm *kvm, struct kvm_msi *msi);\n-\n /**\n  * kvm_vgic_setup_default_irq_routing:\n  * Setup a default flat gsi routing table mapping all SPIs\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ff624cdbff4466a356892500699aea9318d584e"}
{"commit_hash": "bad36e4e8cdc9048948490293efefdbd85c40ecc", "short_hash": "bad36e4e8cdc", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T15:19:18+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-29T13:47:32Z", "subject": "KVM: arm/arm64: vgic: Fix some comments typo", "primary_category": "TRIV-TYPO", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/kvm/arm", "subsystems_touched": ["virt/kvm/arm/vgic/"], "subsystem_tier": 8, "files_changed": 3, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial comment-only fix correcting typos, wrong function names, and specification references in VGIC code. Affects KVM/arm subsystem which is moderately critical (tier 8). No functional code changes. Cross-org contribution from Huawei with maintainer sign-off. Good commit message quality.", "code_snippet": "@@ -240,7 +240,7 @@ struct vgic_dist {\n \t * Contains the attributes and gpa of the LPI configuration table.\n \t * Since we report GICR_TYPER.CommonLPIAff as 0b00, we can share\n \t * one address across all redistributors.\n-\t * GICv3 spec: 6.1.2 \"LPI Configuration tables\"\n+\t * GICv3 spec: IHI 0069E 6.1.1 \"LPI Configuration tables\"\n \t */\n \tu64\t\t\tpropbaser;\n \ndiff --git a/virt/kvm/arm/vgic/vgic-v3.c b/virt/kvm/arm/vgic/vgic-v3.c\nindex 48307a9eb1d8..e69c538a24ca 100644\n--- a/virt/kvm/arm/vgic/vgic-v3.c\n+++ b/virt/kvm/arm/vgic/vgic-v3.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bad36e4e8cdc9048948490293efefdbd85c40ecc"}
{"commit_hash": "ca185b260951d3b55108c0b95e188682d8a507b7", "short_hash": "ca185b260951", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T15:19:19+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-29T13:47:39Z", "subject": "KVM: arm/arm64: vgic: Don't rely on the wrong pending table", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BACK-STABLE"], "cve_ids": [], "fixes_tag": "280771252c1b", "cc_stable": true, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["virt/kvm/arm/vgic"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Eric Auger <eric.auger@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 55, "score_technical": 12, "score_impact": 20, "score_quality": 14, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 5, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "KVM arm/arm64 vgic bug fix addressing data corruption in LPI pending table handling. Critical virtualization subsystem (tier 10). Uses wrong pending table optimization leading to incorrect state tracking. Small 6-line diff (3 insertions, 3 deletions). Includes Fixes tag, Cc: stable, and proper review chain (author, maintainer, acked-by). Cross-org contribution from Huawei to community maintainer Marc Zyngier.", "code_snippet": "@@ -363,8 +363,8 @@ int vgic_v3_lpi_sync_pending_status(struct kvm *kvm, struct vgic_irq *irq)\n int vgic_v3_save_pending_tables(struct kvm *kvm)\n {\n \tstruct vgic_dist *dist = &kvm->arch.vgic;\n-\tint last_byte_offset = -1;\n \tstruct vgic_irq *irq;\n+\tgpa_t last_ptr = ~(gpa_t)0;\n \tint ret;\n \tu8 val;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca185b260951d3b55108c0b95e188682d8a507b7"}
{"commit_hash": "21777bc90427dd396e17377f2eed46fcc9c9989e", "short_hash": "21777bc90427", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-24T10:29:34+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-10-29T14:40:42+01:00", "subject": "mtd: rawnand: mxic: Remove dev_err() on platform_get_irq() failure", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd/nand", "subsystems_touched": ["drivers/mtd/nand/raw/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 7, "score_impact": 7, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup commit removing redundant error logging. platform_get_irq() already logs errors on failure. Small change (-3/+1 lines) in MTD NAND driver. Cross-org contribution from Huawei to Bootlin maintainer. Good commit message explaining coccinelle detection. No testing evidence.", "code_snippet": "@@ -524,10 +524,8 @@ static int mxic_nfc_probe(struct platform_device *pdev)\n \tnand_chip->controller = &nfc->controller;\n \n \tirq = platform_get_irq(pdev, 0);\n-\tif (irq < 0) {\n-\t\tdev_err(&pdev->dev, \"failed to retrieve irq\\n\");\n+\tif (irq < 0)\n \t\treturn irq;\n-\t}\n \n \tmxic_nfc_hw_init(nfc);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21777bc90427dd396e17377f2eed46fcc9c9989e"}
{"commit_hash": "29d9640bb537bbe0c37ffd672ff56b73e4aa3252", "short_hash": "29d9640bb537", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T21:57:10+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-10-29T14:42:12+01:00", "subject": "mtd: rawnand: cadence: Remove dev_err() on platform_get_irq() failure", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd/nand", "subsystems_touched": ["drivers/mtd/nand/raw/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 4, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant error logging as platform_get_irq() already emits dev_err(). Small diff (-3/+2 lines) in MTD NAND driver. Proper sign-off chain from author to subsystem maintainer. Cross-org contribution from Huawei to Bootlin maintainer.", "code_snippet": "@@ -2961,10 +2961,9 @@ static int cadence_nand_dt_probe(struct platform_device *ofdev)\n \n \tcdns_ctrl->dev = &ofdev->dev;\n \tcdns_ctrl->irq = platform_get_irq(ofdev, 0);\n-\tif (cdns_ctrl->irq < 0) {\n-\t\tdev_err(&ofdev->dev, \"no irq defined\\n\");\n+\tif (cdns_ctrl->irq < 0)\n \t\treturn cdns_ctrl->irq;\n-\t}\n+\n \tdev_info(cdns_ctrl->dev, \"IRQ: nr %d\\n\", cdns_ctrl->irq);\n \n \tcdns_ctrl->reg = devm_platform_ioremap_resource(ofdev, 0);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29d9640bb537bbe0c37ffd672ff56b73e4aa3252"}
{"commit_hash": "e44ec4a35dbdf3f3fe772f176fab3b8be7e02b0f", "short_hash": "e44ec4a35dbd", "author_name": "Xiang Zheng", "author_email": "zhengxiang9@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T20:41:31+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-10-29T15:41:14Z", "subject": "arm64: print additional fault message when executing non-exec memory", "primary_category": "BUG-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm64", "subsystems_touched": ["arch/arm64/mm"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Zheng <zhengxiang9@huawei.com> (Huawei)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Will Deacon <will@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 39, "score_technical": 11, "score_impact": 8, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small 2-line addition improving kernel fault messages for instruction abort on non-executable memory. Core arch/arm64 subsystem (tier 10). Cross-org contribution from Huawei with acked-by from ARM maintainer Will Deacon. Good commit message with clear problem statement.", "code_snippet": "@@ -314,6 +314,8 @@ static void __do_kernel_fault(unsigned long addr, unsigned int esr,\n \tif (is_el1_permission_fault(addr, esr, regs)) {\n \t\tif (esr & ESR_ELx_WNR)\n \t\t\tmsg = \"write to read-only memory\";\n+\t\telse if (is_el1_instruction_abort(esr))\n+\t\t\tmsg = \"execute from non-executable memory\";\n \t\telse\n \t\t\tmsg = \"read from unreadable memory\";\n \t} else if (addr < PAGE_SIZE) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e44ec4a35dbdf3f3fe772f176fab3b8be7e02b0f"}
{"commit_hash": "11dbb632a45a120ceb64f9f2a733992f947278c8", "short_hash": "11dbb632a45a", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-10-26T10:07:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T16:15:45-07:00", "subject": "net: aquantia: make two symbols be static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "9c477032f7d0", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/aquantia"], "subsystem_tier": 8, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build warning fix for Aquantia network driver. Adds 'static' qualifier to two functions (aq_ptp_poll_sync_work_cb, hw_atl_b0_ts_to_sys_clock) that should have been local. Very low complexity (2 insertions, 2 deletions). Fixes MIPS cross-compile warnings. Well-documented with build error context. Signed off by networking maintainer David S. Miller.", "code_snippet": "@@ -1375,7 +1375,7 @@ static int aq_ptp_check_sync1588(struct aq_ptp_s *aq_ptp)\n \treturn 0;\n }\n \n-void aq_ptp_poll_sync_work_cb(struct work_struct *w)\n+static void aq_ptp_poll_sync_work_cb(struct work_struct *w)\n {\n \tstruct delayed_work *dw = to_delayed_work(w);\n \tstruct aq_ptp_s *aq_ptp = container_of(dw, struct aq_ptp_s, poll_sync);\ndiff --git a/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c b/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c\nindex abee561ea54e..c7297ca03624 100644\n--- a/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c\n+++ b/drivers/net/ethernet/aquantia/atlantic/hw_atl/hw_atl_b0.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11dbb632a45a120ceb64f9f2a733992f947278c8"}
{"commit_hash": "b6989d248a2d13f02895bae1a9321b3bbccc0283", "short_hash": "b6989d248a2d", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-10-26T10:21:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T16:17:02-07:00", "subject": "net: dsa: LAN9303: select REGMAP when LAN9303 enable", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "dc7005831523", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for LAN9303 DSA driver missing REGMAP dependency. Single-line Kconfig change preventing compilation errors. Proper Fixes tag included, reviewed by networking maintainer David S. Miller.", "code_snippet": "@@ -77,6 +77,7 @@ config NET_DSA_REALTEK_SMI\n config NET_DSA_SMSC_LAN9303\n \ttristate\n \tselect NET_DSA_TAG_LAN9303\n+\tselect REGMAP\n \t---help---\n \t  This enables support for the SMSC/Microchip LAN9303 3 port ethernet\n \t  switch chips.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6989d248a2d13f02895bae1a9321b3bbccc0283"}
{"commit_hash": "207136dfeb3b2cde873b48d745100fa688c83f06", "short_hash": "207136dfeb3b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-26T02:51:09Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T16:18:10-07:00", "subject": "net: aquantia: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/aquantia/atlantic/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 3, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused include. Single line deletion in a driver-specific PTP header. Signed off by maintainer David S. Miller. Low technical complexity and user impact.", "code_snippet": "@@ -9,7 +9,6 @@\n #define AQ_PTP_H\n \n #include <linux/net_tstamp.h>\n-#include <linux/version.h>\n \n #if IS_REACHABLE(CONFIG_PTP_1588_CLOCK)\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/207136dfeb3b2cde873b48d745100fa688c83f06"}
{"commit_hash": "e56bd641ca61beb92b135298d5046905f920b734", "short_hash": "e56bd641ca61", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T13:09:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T16:34:06-07:00", "subject": "net: hisilicon: Fix ping latency when deal with high throughput", "primary_category": "BUG-OTHER", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon"], "subsystem_tier": 10, "files_changed": 1, "insertions": 9, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for ping latency issue in HiSilicon network driver under high throughput. Fix involves tracking remaining RX count across NAPI poll budget cycles to avoid buffer cleanup delays. Network subsystem (tier 1). Signed by maintainer David S. Miller. Small localized change with clear impact on network performance.", "code_snippet": "@@ -635,11 +635,13 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \t\thip04_set_recv_desc(priv, phys);\n \n \t\tpriv->rx_head = RX_NEXT(priv->rx_head);\n-\t\tif (rx >= budget)\n+\t\tif (rx >= budget) {\n+\t\t\t--priv->rx_cnt_remaining;\n \t\t\tgoto done;\n+\t\t}\n \n-\t\tif (--cnt == 0)\n-\t\t\tcnt = hip04_recv_cnt(priv);\n+\t\tif (--priv->rx_cnt_remaining == 0)\n+\t\t\tpriv->rx_cnt_remaining += hip04_recv_cnt(priv);\n \t}\n \n \tif (!(priv->reg_inten & RCV_INT)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e56bd641ca61beb92b135298d5046905f920b734"}
{"commit_hash": "199f3ac319554f1ffddcc8e832448843f073d4c7", "short_hash": "199f3ac31955", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T12:01:21Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-29T16:43:48-07:00", "subject": "ionic: Remove set but not used variable 'sg_desc'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/pensando/ionic"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Shannon Nelson <snelson@pensando.io> (Pensando)"], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removal of unused variable fixing gcc warning. Minor cleanup with 2 deletions in driver code. Cross-org contribution (Huawei to Pensando driver) with maintainer Ack.", "code_snippet": "@@ -402,7 +402,6 @@ static void ionic_rx_fill_cb(void *arg)\n \n void ionic_rx_empty(struct ionic_queue *q)\n {\n-\tstruct ionic_rxq_sg_desc *sg_desc;\n \tstruct ionic_desc_info *cur;\n \tstruct ionic_rxq_desc *desc;\n \tunsigned int i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/199f3ac319554f1ffddcc8e832448843f073d4c7"}
{"commit_hash": "565d454280f85c0a4f204fb160f3d90f8418c080", "short_hash": "565d454280f8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T21:59:41+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-10-30T10:16:37+01:00", "subject": "iommu/ipmmu-vmsa: Remove dev_err() on platform_get_irq() failure", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minimal cleanup removing redundant error message. IOMMU subsystem is moderately critical. Good commit message with coccinelle detection noted. Reviewed-by tag present. Maintainer signed off.", "code_snippet": "@@ -1105,10 +1105,8 @@ static int ipmmu_probe(struct platform_device *pdev)\n \t/* Root devices have mandatory IRQs */\n \tif (ipmmu_is_root(mmu)) {\n \t\tirq = platform_get_irq(pdev, 0);\n-\t\tif (irq < 0) {\n-\t\t\tdev_err(&pdev->dev, \"no IRQ found\\n\");\n+\t\tif (irq < 0)\n \t\t\treturn irq;\n-\t\t}\n \n \t\tret = devm_request_irq(&pdev->dev, irq, ipmmu_irq, 0,\n \t\t\t\t       dev_name(&pdev->dev), mmu);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/565d454280f85c0a4f204fb160f3d90f8418c080"}
{"commit_hash": "e4b116a2c0b7d5273ae9b1345f328981dbfa781e", "short_hash": "e4b116a2c0b7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T15:58:31+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-30T11:06:51-04:00", "subject": "drm/amdgpu: remove set but not used variable 'adev'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables that were causing compiler warnings. Well-documented with compiler error messages, signed off by both author and subsystem maintainer Alex Deucher. Cross-org contribution from Huawei to AMD GPU subsystem.", "code_snippet": "@@ -485,15 +485,12 @@ static int amdgpu_move_vram_ram(struct ttm_buffer_object *bo, bool evict,\n \t\t\t\tstruct ttm_operation_ctx *ctx,\n \t\t\t\tstruct ttm_mem_reg *new_mem)\n {\n-\tstruct amdgpu_device *adev;\n \tstruct ttm_mem_reg *old_mem = &bo->mem;\n \tstruct ttm_mem_reg tmp_mem;\n \tstruct ttm_place placements;\n \tstruct ttm_placement placement;\n \tint r;\n \n-\tadev = amdgpu_ttm_adev(bo->bdev);\n-\n \t/* create space/pages for new_mem in GTT space */\n \ttmp_mem = *new_mem;\n \ttmp_mem.mm_node = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4b116a2c0b7d5273ae9b1345f328981dbfa781e"}
{"commit_hash": "5e8f5477f9d2819ea949dec4e9a68a34c7810989", "short_hash": "5e8f5477f9d2", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T09:57:53+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-30T11:07:13-04:00", "subject": "drm/amd/display: remove redundant null pointer check before kfree", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small cleanup removing redundant null check before kfree. kfree() handles NULL safely. Has proper review chain (Reviewed-by, Signed-off-by by maintainer). Cross-org contribution from Huawei to AMD subsystem.", "code_snippet": "@@ -174,9 +174,7 @@ static bool hdmi_14_process_transaction(\n \t\t\tlink->ctx,\n \t\t\tlink,\n \t\t\t&i2c_command);\n-\n-\tif (buff)\n-\t\tkfree(buff);\n+\tkfree(buff);\n \n \treturn result;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e8f5477f9d2819ea949dec4e9a68a34c7810989"}
{"commit_hash": "364593f3ee5fdefc6efd89475e1804c928b4e6ba", "short_hash": "364593f3ee5f", "author_name": "zhongshiqi", "author_email": "zhong.shiqi@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-23T16:32:23+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-10-30T11:56:16-04:00", "subject": "dc.c:use kzalloc without test", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "gpu/drm/amd/display", "subsystems_touched": ["gpu/drm/amd/display"], "subsystem_tier": 8, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhongshiqi <zhong.shiqi@zte.com.cn> (ZTE)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "BUG-CRASH: Missing null check after kzalloc could cause kernel crash on allocation failure. GPU display driver critical subsystem. 4 insertions for null check + error handling. Has Reviewed-by from maintainer Harry Wentland. Cross-org commit (ZTE engineer, AMD maintainer). Proper error handling with goto fail.", "code_snippet": "@@ -580,6 +580,10 @@ static bool construct(struct dc *dc,\n #ifdef CONFIG_DRM_AMD_DC_DCN2_0\n \t// Allocate memory for the vm_helper\n \tdc->vm_helper = kzalloc(sizeof(struct vm_helper), GFP_KERNEL);\n+\tif (!dc->vm_helper) {\n+\t\tdm_error(\"%s: failed to create dc->vm_helper\\n\", __func__);\n+\t\tgoto fail;\n+\t}\n \n #endif\n \tmemcpy(&dc->bb_overrides, &init_params->bb_overrides, sizeof(dc->bb_overrides));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/364593f3ee5fdefc6efd89475e1804c928b4e6ba"}
{"commit_hash": "84e93d999a677ee3229e244e9eb29209c3bb6677", "short_hash": "84e93d999a67", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T10:55:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-30T17:43:25-07:00", "subject": "wimax: use DEFINE_DEBUGFS_ATTRIBUTE to define debugfs fops", "primary_category": "MAINT-MODERNIZE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/wimax"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a code modernization commit replacing DEFINE_SIMPLE_ATTRIBUTE with DEFINE_DEBUGFS_ATTRIBUTE in wimax debugfs code. The change is mechanical (3 lines), detected by coccinelle, and properly signed off by both the author and subsystem maintainer David S. Miller. Low complexity, low user impact, but good maintainability improvement.", "code_snippet": "@@ -26,7 +26,7 @@ int debugfs_netdev_queue_stopped_get(void *data, u64 *val)\n \t*val = netif_queue_stopped(i2400m->wimax_dev.net_dev);\n \treturn 0;\n }\n-DEFINE_SIMPLE_ATTRIBUTE(fops_netdev_queue_stopped,\n+DEFINE_DEBUGFS_ATTRIBUTE(fops_netdev_queue_stopped,\n \t\t\tdebugfs_netdev_queue_stopped_get,\n \t\t\tNULL, \"%llu\\n\");\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/84e93d999a677ee3229e244e9eb29209c3bb6677"}
{"commit_hash": "086ddf860650cfa3065d6698fae81335b1846cdb", "short_hash": "086ddf860650", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T16:08:44+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-31T10:10:35+02:00", "subject": "mt7601u: use DEFINE_DEBUGFS_ATTRIBUTE to define debugfs fops", "primary_category": "MAINT-MODERNIZE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jakub Kicinski <kubakici@wp.pl> (Wp)"], "reported_by": []}, "score_total": 38, "score_technical": 11, "score_impact": 8, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 3, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization replacing DEFINE_SIMPLE_ATTRIBUTE with DEFINE_DEBUGFS_ATTRIBUTE in mt7601u wireless driver. Minimal change (1 line) improving debugfs file operations. Cross-org contribution from Huawei to MediaTek wireless subsystem. Acked by maintainer.", "code_snippet": "@@ -27,7 +27,7 @@ mt76_reg_get(void *data, u64 *val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(fops_regval, mt76_reg_get, mt76_reg_set, \"0x%08llx\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(fops_regval, mt76_reg_get, mt76_reg_set, \"0x%08llx\\n\");\n \n static int\n mt7601u_ampdu_stat_read(struct seq_file *file, void *data)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/086ddf860650cfa3065d6698fae81335b1846cdb"}
{"commit_hash": "0dc269314a251816aeee3abe38184071cf96e733", "short_hash": "0dc269314a25", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:10:41+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-10-31T10:15:04+02:00", "subject": "ath10k: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless/ath/ath10k"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 7, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing extra semicolon after switch statement. Single line change (1 insertion, 1 deletion) in ath10k wireless driver. Cross-org contribution from Huawei to CodeAurora (maintainer) with clean sign-off chain. No functional change, minimal technical significance.", "code_snippet": "@@ -2073,7 +2073,7 @@ static void ath10k_htt_rx_mpdu_desc_pn_hl(struct htt_hl_rx_desc *rx_desc,\n \tcase 24:\n \t\tpn->pn24 = __le32_to_cpu(rx_desc->pn_31_0);\n \t\tbreak;\n-\t};\n+\t}\n }\n \n static bool ath10k_htt_rx_pn_cmp48(union htt_rx_pn_t *new_pn,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0dc269314a251816aeee3abe38184071cf96e733"}
{"commit_hash": "3d77d0cb054cbc8d9171ebc7f6b0c33445b2a94d", "short_hash": "3d77d0cb054c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:22-07:00", "subject": "net: hns3: dump some debug information when reset fail", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 4, "insertions": 35, "deletions": 4, "hunks": 16, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 16, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debug improvement for Huawei HNS3 driver reset failure handling. Adds diagnostic logging when hardware reset fails, removes unused core_rst_cnt field. 35 insertions, 4 deletions across 4 files. Network driver subsystem (tier 8). Author from Huawei, signed by networking maintainer David S. Miller. Pure debugging aid with minor cleanup.", "code_snippet": "@@ -3669,6 +3669,9 @@ static bool hclge_reset_err_handle(struct hclge_dev *hdev)\n \thclge_reset_handshake(hdev, true);\n \n \tdev_err(&hdev->pdev->dev, \"Reset fail!\\n\");\n+\n+\thclge_dbg_dump_rst_info(hdev);\n+\n \treturn false;\n }\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex 9e59f0e074be..4386788dd204 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d77d0cb054cbc8d9171ebc7f6b0c33445b2a94d"}
{"commit_hash": "39edaf24f8195e94a07b6fc95a7337f12522e8e9", "short_hash": "39edaf24f819", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: cleanup byte order issues when printed", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 8, "files_changed": 4, "insertions": 83, "deletions": 62, "hunks": 52, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 11, "score_impact": 8, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Byte order cleanup for debug print statements in hns3 network driver. Adds proper le16_to_cpu/le32_to_cpu conversions before printing __le16/__le32 variables. Clean, focused maintenance change with clear rationale. Good commit message explaining the 'why'. Maintainer (David S. Miller) signed off, indicating proper review.", "code_snippet": "@@ -190,21 +190,24 @@ static int hns3_dbg_bd_info(struct hnae3_handle *h, const char *cmd_buf)\n \taddr = le64_to_cpu(tx_desc->addr);\n \tdev_info(dev, \"TX Queue Num: %u, BD Index: %u\\n\", q_num, tx_index);\n \tdev_info(dev, \"(TX)addr: %pad\\n\", &addr);\n-\tdev_info(dev, \"(TX)vlan_tag: %u\\n\", tx_desc->tx.vlan_tag);\n-\tdev_info(dev, \"(TX)send_size: %u\\n\", tx_desc->tx.send_size);\n+\tdev_info(dev, \"(TX)vlan_tag: %u\\n\", le16_to_cpu(tx_desc->tx.vlan_tag));\n+\tdev_info(dev, \"(TX)send_size: %u\\n\",\n+\t\t le16_to_cpu(tx_desc->tx.send_size));\n \tdev_info(dev, \"(TX)vlan_tso: %u\\n\", tx_desc->tx.type_cs_vlan_tso);\n \tdev_info(dev, \"(TX)l2_len: %u\\n\", tx_desc->tx.l2_len);\n \tdev_info(dev, \"(TX)l3_len: %u\\n\", tx_desc->tx.l3_len);\n \tdev_info(dev, \"(TX)l4_len: %u\\n\", tx_desc->tx.l4_len);\n-\tdev_info(dev, \"(TX)vlan_tag: %u\\n\", tx_desc->tx.outer_vlan_tag);\n-\tdev_info(dev, \"(TX)tv: %u\\n\", tx_desc->tx.tv);\n+\tdev_info(dev, \"(TX)vlan_tag: %u\\n\",\n+\t\t le16_to_cpu(tx_desc->tx.outer_vlan_tag));\n+\tdev_info(dev, \"(TX)tv: %u\\n\", le16_to_cpu(tx_desc->tx.tv));\n \tdev_info(dev, \"(TX)vlan_msec: %u\\n\", tx_desc->tx.ol_type_vlan_msec);\n \tdev_info(dev, \"(TX)ol2_len: %u\\n\", tx_desc->tx.ol2_len);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/39edaf24f8195e94a07b6fc95a7337f12522e8e9"}
{"commit_hash": "adcf738b804b3cfd5a72d9975e92d84053fd394f", "short_hash": "adcf738b804b", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: cleanup some print format warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 14, "insertions": 101, "deletions": 101, "hunks": 126, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 16, "score_technical": 3, "score_impact": 1, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial format string cleanup patch fixing printf format warnings. No functional changes - only changing %d to %u for unsigned int types. 101 insertions/deletions across 14 files all in hns3 driver. Low technical impact (tier 4 driver), trivial category base score (1), good commit message quality (3) explaining the issue clearly. Signed by author and maintainer, merged by networking maintainer David Miller.", "code_snippet": "@@ -72,7 +72,7 @@ enum hclge_mbx_vlan_cfg_subcode {\n };\n \n #define HCLGE_MBX_MAX_MSG_SIZE\t16\n-#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t8\n+#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t8U\n #define HCLGE_MBX_RING_MAP_BASIC_MSG_NUM\t3\n #define HCLGE_MBX_RING_NODE_VARIABLE_NUM\t3\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3_debugfs.c\nindex fe5bc6fa8bcd..466a6e3c9cbf 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/adcf738b804b3cfd5a72d9975e92d84053fd394f"}
{"commit_hash": "9e69045654ec12d11254ffc31860b3ced441ba65", "short_hash": "9e69045654ec", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: add or modify some comments", "primary_category": "TRIV-COMMENT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 6, "files_changed": 3, "insertions": 5, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 3, "score_impact": 2, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial comment-only change fixing typo (FLR status clarification) and adding explanatory comments. Low technical impact but well-reviewed with proper chain (author->co-developer->maintainer). Cross-org contribution from Huawei to net subsystem maintainer.", "code_snippet": "@@ -47,7 +47,7 @@ enum HCLGE_MBX_OPCODE {\n \tHCLGE_MBX_GET_MEDIA_TYPE,       /* (VF -> PF) get media type */\n \tHCLGE_MBX_PUSH_PROMISC_INFO,\t/* (PF -> VF) push vf promisc info */\n \n-\tHCLGE_MBX_GET_VF_FLR_STATUS = 200, /* (M7 -> PF) get vf reset status */\n+\tHCLGE_MBX_GET_VF_FLR_STATUS = 200, /* (M7 -> PF) get vf flr status */\n \tHCLGE_MBX_PUSH_LINK_STATUS,\t/* (M7 -> PF) get port link status */\n \tHCLGE_MBX_NCSI_ERROR,\t\t/* (M7 -> PF) receive a NCSI error */\n };\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hnae3.c b/drivers/net/ethernet/hisilicon/hns3/hnae3.c\nindex 03ca7d925e8e..eef1b2764d34 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hnae3.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hnae3.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e69045654ec12d11254ffc31860b3ced441ba65"}
{"commit_hash": "0bfdf2868cd511e2ceff983fe66a508b0d03d8c5", "short_hash": "0bfdf2868cd5", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:21+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: optimize local variable initialization", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 10, "files_changed": 2, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 6, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial refactoring: removes unnecessary NULL initialization and moves variable initialization to declaration line. Clean, focused change with clear message. Network driver tier-10 subsystem. Full maintainer sign-off chain (Huawei author + reviewer + David S. Miller netdev maintainer).", "code_snippet": "@@ -1771,7 +1771,7 @@ static bool hns3_get_tx_timeo_queue_info(struct net_device *ndev)\n {\n \tstruct hns3_nic_priv *priv = netdev_priv(ndev);\n \tstruct hnae3_handle *h = hns3_get_handle(ndev);\n-\tstruct hns3_enet_ring *tx_ring = NULL;\n+\tstruct hns3_enet_ring *tx_ring;\n \tstruct napi_struct *napi;\n \tint timeout_queue = 0;\n \tint hw_head, hw_tail;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 69ab86a4b38d..300252785ad8 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0bfdf2868cd511e2ceff983fe66a508b0d03d8c5"}
{"commit_hash": "e4b806edfabd43853d365a9fcaf238cf10c3c4ab", "short_hash": "e4b806edfabd", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: cleanup a format-truncation warning", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 6, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "This is a compiler warning fix in the Hisilicon HNS3 ethernet driver. The commit enlarges HNAE3_INT_NAME_LEN from IFNAMSIZ+16 to IFNAMSIZ+32 to address a format-truncation warning. Code volume is minimal (1 insertion, 2 deletions affecting a single define). The change is localized to a header file with proper sign-off chain (author -> co-developer -> maintainer). While it addresses a compiler warning, it's a trivial buffer size increase with no functional behavior change. The cross-org contribution (Huawei -> upstream net maintainer) demonstrates good community engagement.", "code_snippet": "@@ -575,7 +575,8 @@ struct hnae3_ae_algo {\n \tconst struct pci_device_id *pdev_id_table;\n };\n \n-#define HNAE3_INT_NAME_LEN        (IFNAMSIZ + 16)\n+#define HNAE3_INT_NAME_EXT_LEN    32\t /* Max extra information length */\n+#define HNAE3_INT_NAME_LEN        (IFNAMSIZ + HNAE3_INT_NAME_EXT_LEN)\n #define HNAE3_ITR_COUNTDOWN_START 100\n \n struct hnae3_tc_info {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4b806edfabd43853d365a9fcaf238cf10c3c4ab"}
{"commit_hash": "db4d3d554eb53cacb3ce4defe294f19a548a1034", "short_hash": "db4d3d554eb5", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: cleanup some coding style issues", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 7, "insertions": 13, "deletions": 14, "hunks": 26, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 10, "score_impact": 2, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Coding style cleanup commit for hns3 driver with minimal changes (13 insertions, 14 deletions). No functional impact. Changes include whitespace normalization, removing unnecessary braces, using ether_addr_equal() instead of strncmp, and removing explicit '== true' comparison. Good commit message structure explaining the cleanup nature. Three-level review chain with maintainer sign-off. Low technical impact as it's pure style cleanup within a single vendor-specific driver.", "code_snippet": "@@ -314,11 +314,10 @@ int hclge_cmd_send(struct hclge_hw *hw, struct hclge_desc *desc, int num)\n \t\t} while (timeout < hw->cmq.tx_timeout);\n \t}\n \n-\tif (!complete) {\n+\tif (!complete)\n \t\tretval = -EBADE;\n-\t} else {\n+\telse\n \t\tretval = hclge_cmd_check_retval(hw, desc, num, ntc);\n-\t}\n \n \t/* Clean the command send queue */\n \thandle = hclge_cmd_csq_clean(hw);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\nindex a4633d216997..af96e7904925 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db4d3d554eb53cacb3ce4defe294f19a548a1034"}
{"commit_hash": "d6ad7c5306251f6e7f82e46118b8c13c08cebf7d", "short_hash": "d6ad7c530625", "author_name": "Guojia Liao", "author_email": "liaoguojia@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: cleanup some magic numbers", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/"], "subsystem_tier": 6, "files_changed": 6, "insertions": 34, "deletions": 20, "hunks": 34, "review_chain": {"signed_off_by": ["Guojia Liao <liaoguojia@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 6, "score_quality": 17, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup replacing magic numbers with macros. Low technical impact (54 insertions, 20 deletions across 6 files). Strong review chain (3 signoffs including maintainer David S. Miller). Clear commit message explaining rationale. No functional change per author statement. Driver subsystem tier 6.", "code_snippet": "@@ -486,10 +489,12 @@ struct hclge_pf_res_cmd {\n #define HCLGE_CFG_UMV_TBL_SPACE_S\t16\n #define HCLGE_CFG_UMV_TBL_SPACE_M\tGENMASK(31, 16)\n \n+#define HCLGE_CFG_CMD_CNT\t\t4\n+\n struct hclge_cfg_param_cmd {\n \t__le32 offset;\n \t__le32 rsv;\n-\t__le32 param[4];\n+\t__le32 param[HCLGE_CFG_CMD_CNT];\n };\n \n #define HCLGE_MAC_MODE\t\t0x0", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d6ad7c5306251f6e7f82e46118b8c13c08cebf7d"}
{"commit_hash": "647522a5ef6401dcdb8ec417421e43fb21910167", "short_hash": "647522a5ef64", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T19:23:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-10-31T12:03:23-07:00", "subject": "net: hns3: add struct netdev_queue debug info for TX timeout", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 0, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "TX timeout debugging enhancement for hns3 driver. Adds 3 lines of debug logging to print netdev_queue state and transmission timing information. Network subsystem tier 10 (critical infrastructure). Category BUG-CRASH (TX timeout handling) with base score 13. User impact 5 (production debugging). Minimal code volume (3 insertions). Single-subsystem change (net/ethernet/hisilicon/hns3). No cross-org collaboration (Huawei internal). Clean atomic change for diagnostic visibility.", "code_snippet": "@@ -1792,6 +1792,9 @@ static bool hns3_get_tx_timeo_queue_info(struct net_device *ndev)\n \t\t    time_after(jiffies,\n \t\t\t       (trans_start + ndev->watchdog_timeo))) {\n \t\t\ttimeout_queue = i;\n+\t\t\tnetdev_info(ndev, \"queue state: 0x%lx, delta msecs: %u\\n\",\n+\t\t\t\t    q->state,\n+\t\t\t\t    jiffies_to_msecs(jiffies - trans_start));\n \t\t\tbreak;\n \t\t}\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/647522a5ef6401dcdb8ec417421e43fb21910167"}
{"commit_hash": "d948e6ca189985495a21cd622c31e30e72b6b688", "short_hash": "d948e6ca1899", "author_name": "Luhua Xu", "author_email": "luhua.xu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-30T17:03:54+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-10-31T14:20:58+01:00", "subject": "spi: add power control when set_cs", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 7, "files_changed": 1, "insertions": 14, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Luhua Xu <luhua.xu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for SPI power management during setup. Adds runtime PM handling around spi_set_cs call to prevent potential issues when set_cs takes effect immediately without proper power control. Small code change (15 lines) in spi driver subsystem. Reviewed and signed by maintainer Mark Brown.", "code_snippet": "@@ -3261,7 +3261,20 @@ int spi_setup(struct spi_device *spi)\n \tif (spi->controller->setup)\n \t\tstatus = spi->controller->setup(spi);\n \n-\tspi_set_cs(spi, false);\n+\tif (spi->controller->auto_runtime_pm && spi->controller->set_cs) {\n+\t\tstatus = pm_runtime_get_sync(spi->controller->dev.parent);\n+\t\tif (status < 0) {\n+\t\t\tpm_runtime_put_noidle(spi->controller->dev.parent);\n+\t\t\tdev_err(&spi->controller->dev, \"Failed to power device: %d\\n\",\n+\t\t\t\tstatus);\n+\t\t\treturn status;\n+\t\t}\n+\t\tspi_set_cs(spi, false);\n+\t\tpm_runtime_mark_last_busy(spi->controller->dev.parent);\n+\t\tpm_runtime_put_autosuspend(spi->controller->dev.parent);\n+\t} else {\n+\t\tspi_set_cs(spi, false);\n+\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d948e6ca189985495a21cd622c31e30e72b6b688"}
{"commit_hash": "82b5d164415549e74cfa1f9156ffd4463d0a76e2", "short_hash": "82b5d1644155", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T11:40:14Z", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-10-31T16:54:01+05:30", "subject": "phy: lantiq: vrx200-pcie: fix error return code in ltq_vrx200_pcie_phy_power_on()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e52a632195bf", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/lantiq"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Martin Blumenstingl <martin.blumenstingl@googlemail.com> (Googlemail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 6, "score_impact": 17, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix returning proper error code in PCIe PHY driver. 2 insertions, 1 deletion fixing error handling. Has Reviewed-by tag and Fixes tag. Cross-org contribution from Huawei to TI-maintained subsystem.", "code_snippet": "@@ -323,7 +323,8 @@ static int ltq_vrx200_pcie_phy_power_on(struct phy *phy)\n \t\tgoto err_disable_pdi_clk;\n \n \t/* Check if we are in \"startup ready\" status */\n-\tif (ltq_vrx200_pcie_phy_wait_for_pll(phy) != 0)\n+\tret = ltq_vrx200_pcie_phy_wait_for_pll(phy);\n+\tif (ret)\n \t\tgoto err_disable_phy_clk;\n \n \tltq_vrx200_pcie_phy_apply_workarounds(phy);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/82b5d164415549e74cfa1f9156ffd4463d0a76e2"}
{"commit_hash": "e9ffa5c2b77edf2689f876b640318b16fc3ea2a7", "short_hash": "e9ffa5c2b77e", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-10-29T11:16:42+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-01T08:36:36-06:00", "subject": "io_uring: set -EINTR directly when a signal wakes up in io_cqring_wait", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Bob Liu <bob.liu@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 11, "score_impact": 13, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor optimization in io_uring signal handling - changes -ERESTARTSYS to direct -EINTR return, eliminating redundant conversion. Affects fs/io_uring critical subsystem. Small code volume (3 insertions, 6 deletions). Reviewed by Bob Liu, signed off by maintainer Jens Axboe.", "code_snippet": "@@ -2976,7 +2976,7 @@ static int io_cqring_wait(struct io_ring_ctx *ctx, int min_events,\n \t\t.to_wait\t= min_events,\n \t};\n \tstruct io_rings *rings = ctx->rings;\n-\tint ret;\n+\tint ret = 0;\n \n \tif (io_cqring_events(rings) >= min_events)\n \t\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9ffa5c2b77edf2689f876b640318b16fc3ea2a7"}
{"commit_hash": "9b537997b669c42cec67893538037e8d1c83c91c", "short_hash": "9b537997b669", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-22T16:11:18+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-01T13:33:42+08:00", "subject": "crypto: arm64/aes-neonbs - add return value of skcipher_walk_done() in __xts_crypt()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "67cfa5d3b721", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["arch/arm64/crypto/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ard Biesheuvel <ard.biesheuvel@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 9, "score_quality": 11, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix (2 lines) addressing static analysis warning about ignored return value in crypto subsystem. Fixes dead code issue where error handling was ineffective. Cross-org contribution from Huawei with Linaro maintainer Ack and Herbert Xu signoff.", "code_snippet": "@@ -384,7 +384,7 @@ static int __xts_crypt(struct skcipher_request *req, bool encrypt,\n \t\t\tgoto xts_tail;\n \n \t\tkernel_neon_end();\n-\t\tskcipher_walk_done(&walk, nbytes);\n+\t\terr = skcipher_walk_done(&walk, nbytes);\n \t}\n \n \tif (err || likely(!tail))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b537997b669c42cec67893538037e8d1c83c91c"}
{"commit_hash": "700f7d0d29c795c36517dcd3541e4432a76c2efc", "short_hash": "700f7d0d29c7", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-26T11:00:16+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-01T13:42:47+08:00", "subject": "crypto: hisilicon - fix to return sub-optimal device when best device has no qps", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/hisilicon"], "subsystem_tier": 6, "files_changed": 3, "insertions": 77, "deletions": 20, "hunks": 16, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Shukun Tan <tanshukun1@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 13, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for Hisilicon crypto driver ZIP device selection. The commit modifies find_zip_device() to return a sub-optimal device when the best NUMA-local device has no free queue pairs (QPs). Previously, the function could return a device with no available QPs, causing functional issues. The fix sorts all devices by NUMA distance and iterates to find the first device with free QPs. 3 files changed, 77 insertions, 20 deletions. Good review chain with author (Zhou Wang from Hisilicon), co-developer (Shukun Tan from Huawei), and maintainer (Herbert Xu) sign-offs. Well-documented with kernel-doc comments.", "code_snippet": "@@ -1127,6 +1127,7 @@ struct hisi_qp *hisi_qm_create_qp(struct hisi_qm *qm, u8 alg_type)\n \t}\n \tset_bit(qp_id, qm->qp_bitmap);\n \tqm->qp_array[qp_id] = qp;\n+\tqm->qp_in_used++;\n \n \twrite_unlock(&qm->qps_lock);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/700f7d0d29c795c36517dcd3541e4432a76c2efc"}
{"commit_hash": "f0c8b6a1e1454f1645463e8ffb3e027fc597867c", "short_hash": "f0c8b6a1e145", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-26T10:57:21+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-01T13:42:47+08:00", "subject": "crypto: hisilicon - use sgl API to get sgl dma addr and len", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ard Biesheuvel <ard.biesheuvel@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 6, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactor to use standard sgl API (sg_dma_address/sg_dma_len) instead of direct struct member access. Small change (2 insertions, 3 deletions) in crypto driver. Well-reviewed with Suggested-by, Acked-by from maintainer Ard Biesheuvel, and Signed-off-by from subsystem maintainer Herbert Xu. Improves portability by removing NEED_SG_DMA_LENGTH dependency. Cross-org contribution from Hisilicon with maintainer endorsement.", "code_snippet": "@@ -18,7 +18,6 @@ config CRYPTO_DEV_HISI_QM\n \ttristate\n \tdepends on ARM64 || COMPILE_TEST\n \tdepends on PCI && PCI_MSI\n-\tselect NEED_SG_DMA_LENGTH\n \thelp\n \t  HiSilicon accelerator engines use a common queue management\n \t  interface. Specific engine driver may use this module.\ndiff --git a/drivers/crypto/hisilicon/sgl.c b/drivers/crypto/hisilicon/sgl.c\nindex bf72603f16cb..012023c347b1 100644\n--- a/drivers/crypto/hisilicon/sgl.c\n+++ b/drivers/crypto/hisilicon/sgl.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f0c8b6a1e1454f1645463e8ffb3e027fc597867c"}
{"commit_hash": "8a5a499871308c093ced3c5a383b72502b96e0d2", "short_hash": "8a5a49987130", "author_name": "Tiezhu Yang", "author_email": "yangtiezhu@loongson.cn", "author_company": "Loongson", "author_date": "2019-10-16T18:03:00+08:00", "committer_name": "Paul Burton", "committer_email": "paulburton@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-01T14:33:59-07:00", "subject": "MIPS: Loongson: Make default kernel log buffer size as 128KB for Loongson3", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/mips", "subsystems_touched": ["arch/mips/configs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Tiezhu Yang <yangtiezhu@loongson.cn> (Loongson)", "Paul Burton <paulburton@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 9, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Fixes kernel log buffer overflow issue on Loongson3 platform where boot messages were lost. Single line deletion in defconfig to use default 128KB buffer instead of 16KB. Good commit message explaining the problem and solution. Cross-org contribution from Loongson developer, signed by MIPS maintainer.", "code_snippet": "@@ -12,7 +12,6 @@ CONFIG_TASKSTATS=y\n CONFIG_TASK_DELAY_ACCT=y\n CONFIG_TASK_XACCT=y\n CONFIG_TASK_IO_ACCOUNTING=y\n-CONFIG_LOG_BUF_SHIFT=14\n CONFIG_MEMCG=y\n CONFIG_MEMCG_SWAP=y\n CONFIG_BLK_CGROUP=y\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a5a499871308c093ced3c5a383b72502b96e0d2"}
{"commit_hash": "9ef8567ccf2eb00473b1280d0911caf3f413dc67", "short_hash": "9ef8567ccf2e", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-30T11:46:17+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-01T14:51:19Z", "subject": "arm64: perf: Simplify the ARMv8 PMUv3 event attributes", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel/perf_event.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 66, "deletions": 125, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 11, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring of ARMv8 PMUv3 event attributes macro to simplify code structure. Reduced from 133 lines to 74 lines (-125 deletions, +66 insertions). The commit redefines ARMV8_EVENT_ATTR macro to eliminate duplicate variable declarations. Maintainer Will Deacon (ARM64 maintainer) reviewed and signed off. Code quality improvement with no functional changes, minimal user impact, limited to perf subsystem.", "code_snippet": "@@ -158,133 +158,74 @@ armv8pmu_events_sysfs_show(struct device *dev,\n \treturn sprintf(page, \"event=0x%03llx\\n\", pmu_attr->id);\n }\n \n-#define ARMV8_EVENT_ATTR(name, config) \\\n-\tPMU_EVENT_ATTR(name, armv8_event_attr_##name, \\\n-\t\t       config, armv8pmu_events_sysfs_show)\n-\n-ARMV8_EVENT_ATTR(sw_incr, ARMV8_PMUV3_PERFCTR_SW_INCR);\n-ARMV8_EVENT_ATTR(l1i_cache_refill, ARMV8_PMUV3_PERFCTR_L1I_CACHE_REFILL);\n-ARMV8_EVENT_ATTR(l1i_tlb_refill, ARMV8_PMUV3_PERFCTR_L1I_TLB_REFILL);\n-ARMV8_EVENT_ATTR(l1d_cache_refill, ARMV8_PMUV3_PERFCTR_L1D_CACHE_REFILL);\n-ARMV8_EVENT_ATTR(l1d_cache, ARMV8_PMUV3_PERFCTR_L1D_CACHE);\n-ARMV8_EVENT_ATTR(l1d_tlb_refill, ARMV8_PMUV3_PERFCTR_L1D_TLB_REFILL);\n-ARMV8_EVENT_ATTR(ld_retired, ARMV8_PMUV3_PERFCTR_LD_RETIRED);\n-ARMV8_EVENT_ATTR(st_retired, ARMV8_PMUV3_PERFCTR_ST_RETIRED);\n-ARMV8_EVENT_ATTR(inst_retired, ARMV8_PMUV3_PERFCTR_INST_RETIRED);\n-ARMV8_EVENT_ATTR(exc_taken, ARMV8_PMUV3_PERFCTR_EXC_TAKEN);\n-ARMV8_EVENT_ATTR(exc_return, ARMV8_PMUV3_PERFCTR_EXC_RETURN);\n-ARMV8_EVENT_ATTR(cid_write_retired, ARMV8_PMUV3_PERFCTR_CID_WRITE_RETIRED);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ef8567ccf2eb00473b1280d0911caf3f413dc67"}
{"commit_hash": "32680da7103439095ba8c2dbe30c3e4d0e05e4c2", "short_hash": "32680da71034", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-13T00:59:02+08:00", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-01T14:55:14-07:00", "subject": "net/mlx5: Remove unneeded variable in mlx5_unload_one", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/mellanox/mlx5/core/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reported_by": []}, "score_total": 32, "score_technical": 11, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal in mlx5 driver - unused variable 'err' eliminated. 1 insertion, 3 deletions. Cross-org contribution (Huawei to Mellanox subsystem) with maintainer ack. Low technical complexity but good community engagement.", "code_snippet": "@@ -1228,8 +1228,6 @@ static int mlx5_load_one(struct mlx5_core_dev *dev, bool boot)\n \n static int mlx5_unload_one(struct mlx5_core_dev *dev, bool cleanup)\n {\n-\tint err = 0;\n-\n \tif (cleanup) {\n \t\tmlx5_unregister_device(dev);\n \t\tmlx5_drain_health_wq(dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32680da7103439095ba8c2dbe30c3e4d0e05e4c2"}
{"commit_hash": "5a212e0cac548e5e4fb3f2ba1b5b2f6c8949687d", "short_hash": "5a212e0cac54", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-10-24T16:23:33+08:00", "committer_name": "Saeed Mahameed", "committer_email": "saeedm@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-01T14:55:17-07:00", "subject": "net/mlx5: rate limit alloc_ent error messages", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Saeed Mahameed <saeedm@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 13, "score_impact": 19, "score_quality": 4, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small change (2 lines) addressing TX hang bug in critical network driver. Changes mlx5_core_err to rate-limited variant to prevent log spam. Cross-org contribution from Baidu to Mellanox subsystem, signed off by maintainer.", "code_snippet": "@@ -866,7 +866,7 @@ static void cmd_work_handler(struct work_struct *work)\n \tif (!ent->page_queue) {\n \t\talloc_ret = alloc_ent(cmd);\n \t\tif (alloc_ret < 0) {\n-\t\t\tmlx5_core_err(dev, \"failed to allocate command entry\\n\");\n+\t\t\tmlx5_core_err_rl(dev, \"failed to allocate command entry\\n\");\n \t\t\tif (ent->callback) {\n \t\t\t\tent->callback(-EAGAIN, ent->context);\n \t\t\t\tmlx5_free_cmd_msg(dev, ent->out);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5a212e0cac548e5e4fb3f2ba1b5b2f6c8949687d"}
{"commit_hash": "d52ce2beca2a00b0e49a86f3b31d08d94e388fdf", "short_hash": "d52ce2beca2a", "author_name": "Chicago Duan", "author_email": "duanzhijia01@inspur.com", "author_company": "Inspur", "author_date": "2019-09-04T10:16:20+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-11-01T15:33:20+10:30", "subject": "ARM: dts: aspeed: fp5280g2: Add LED configuration", "primary_category": "FEAT-DRIVER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/arm/boot/dts", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 4, "files_changed": 1, "insertions": 40, "deletions": 15, "hunks": 4, "review_chain": {"signed_off_by": ["Chicago Duan <duanzhijia01@inspur.com> (Inspur)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 11, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Device tree change adding LED configuration for Inspur FP5280G2 BMC. Converts GPIO hog to proper LED device with 8 new LED definitions (init-ok, front-memory, front-syshot, front-syshealth, front-fan, front-psu, identify) plus whitespace cleanup. Maintainer (Joel Stanley) co-signed. Low-risk DTS change.", "code_snippet": "@@ -148,14 +148,48 @@ fan7-presence {\n \t};\n \n \tleds {\n-\t    compatible = \"gpio-leds\";\n+\t\tcompatible = \"gpio-leds\";\n \n-\t    power {\n-\t\t    label = \"power\";\n-\t\t    /* TODO: dummy gpio */\n-\t\t    gpios = <&gpio ASPEED_GPIO(R, 1) GPIO_ACTIVE_LOW>;\n-\t    };\n+\t\tpower {\n+\t\t\tlabel = \"power\";\n+\t\t\t/* TODO: dummy gpio */\n+\t\t\tgpios = <&gpio ASPEED_GPIO(R, 1) GPIO_ACTIVE_LOW>;\n+\t\t};\n+\n+\t\tinit-ok {\n+\t\t\tlabel = \"init-ok\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d52ce2beca2a00b0e49a86f3b31d08d94e388fdf"}
{"commit_hash": "364b05fd06e87e53dc03396f73afeac48d8e0998", "short_hash": "364b05fd06e8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-02T15:55:01+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-02T07:59:46-06:00", "subject": "io-wq: use kfree_rcu() to simplify the code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io-wq.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple refactoring to use kfree_rcu() instead of call_rcu() with custom callback. Removes 7 lines of boilerplate code. Clean maintenance change with proper maintainer sign-off. Low complexity, low impact, well-isolated change.", "code_snippet": "@@ -102,13 +102,6 @@ struct io_wq {\n \tstruct completion done;\n };\n \n-static void io_wq_free_worker(struct rcu_head *head)\n-{\n-\tstruct io_worker *worker = container_of(head, struct io_worker, rcu);\n-\n-\tkfree(worker);\n-}\n-\n static bool io_worker_get(struct io_worker *worker)\n {\n \treturn refcount_inc_not_zero(&worker->ref);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/364b05fd06e87e53dc03396f73afeac48d8e0998"}
{"commit_hash": "a37ac8ae66e27369aebd29f17f4e1bd83d213114", "short_hash": "a37ac8ae66e2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T21:44:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-03T19:10:30-08:00", "subject": "mISDN: remove unused variable 'faxmodulation_s'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/isdn"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused static const variable flagged by compiler warning. Dead code elimination with no functional impact. Single line deletion, atomic change with clear justification in commit message. Cross-org contribution from Huawei to net subsystem maintainer David S. Miller.", "code_snippet": "@@ -27,7 +27,6 @@ MODULE_VERSION(ISAR_REV);\n \n #define DEBUG_HW_FIRMWARE_FIFO\t0x10000\n \n-static const u8 faxmodulation_s[] = \"3,24,48,72,73,74,96,97,98,121,122,145,146\";\n static const u8 faxmodulation[] = {3, 24, 48, 72, 73, 74, 96, 97, 98, 121,\n \t\t\t\t   122, 145, 146};\n #define FAXMODCNT 13\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a37ac8ae66e27369aebd29f17f4e1bd83d213114"}
{"commit_hash": "dece3c2a320b0a6d891da6ff774ab763969b6860", "short_hash": "dece3c2a320b", "author_name": "Tiezhu Yang", "author_email": "yangtiezhu@loongson.cn", "author_company": "Loongson", "author_date": "2019-11-04T21:33:50+08:00", "committer_name": "Paul Burton", "committer_email": "paulburton@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-04T10:50:55-08:00", "subject": "MIPS: Loongson: Fix return value of loongson_hwmon_init", "primary_category": "BUG-OTHER", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "64f09aa967e1", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/platform/mips"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Tiezhu Yang <yangtiezhu@loongson.cn> (Loongson)", "Paul Burton <paulburton@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 11, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error return value in Loongson hwmon driver initialization. Single line change replacing hardcoded -ENOMEM with actual PTR_ERR return value. Includes Fixes tag, proper Cc list, and maintainer sign-offs. Low-risk change affecting specific MIPS platform hardware monitoring.", "code_snippet": "@@ -176,7 +176,7 @@ static int __init loongson_hwmon_init(void)\n \n \tcpu_hwmon_dev = hwmon_device_register(NULL);\n \tif (IS_ERR(cpu_hwmon_dev)) {\n-\t\tret = -ENOMEM;\n+\t\tret = PTR_ERR(cpu_hwmon_dev);\n \t\tpr_err(\"hwmon_device_register fail!\\n\");\n \t\tgoto fail_hwmon_device_register;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dece3c2a320b0a6d891da6ff774ab763969b6860"}
{"commit_hash": "e0859710516c98b189879966b48ea1c77e0cd979", "short_hash": "e0859710516c", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T21:34:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-04T13:22:25Z", "subject": "ASoC: ux500: Remove redundant variable \"status\"", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/ux500"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 6, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Dead code removal - unused local variable 'status' removed, return changed to hardcoded 0. Minimal code change (-2 +1 lines), properly signed-off and reviewed by maintainer Mark Brown. Low impact cleanup in audio subsystem (UX500 platform-specific code).", "code_snippet": "@@ -533,7 +533,6 @@ static void disable_msp_tx(struct ux500_msp *msp)\n static int disable_msp(struct ux500_msp *msp, unsigned int dir)\n {\n \tu32 reg_val_GCR;\n-\tint status = 0;\n \tunsigned int disable_tx, disable_rx;\n \n \treg_val_GCR = readl(msp->registers + MSP_GCR);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0859710516c98b189879966b48ea1c77e0cd979"}
{"commit_hash": "1fa1b6ca0fda97cbfccdc6b80b1a6b2920751665", "short_hash": "1fa1b6ca0fda", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-28T09:06:49+02:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-04T15:01:24+01:00", "subject": "intel_th: msu: Fix possible memory leak in mode_store()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "615c164da0eb", "cc_stable": false, "subsystem_prefix": "drivers/hwtracing/intel_th", "subsystems_touched": ["drivers/hwtracing/intel_th"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Alexander Shishkin <alexander.shishkin@linux.intel.com> (Intel)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 7, "score_impact": 12, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in intel_th driver. Author from Huawei, fixed leak of 'mode' allocation added by braces for kfree call. Has Reviewed-by and proper Signed-off-by chain including Intel maintainer. Cross-organization contribution (Huawei to Intel subsystem). Fixes tag references original commit introducing the bug.", "code_snippet": "@@ -1852,8 +1852,10 @@ mode_store(struct device *dev, struct device_attribute *attr, const char *buf,\n \t\treturn -ENOMEM;\n \n \ti = match_string(msc_mode, ARRAY_SIZE(msc_mode), mode);\n-\tif (i >= 0)\n+\tif (i >= 0) {\n+\t\tkfree(mode);\n \t\tgoto found;\n+\t}\n \n \t/* Buffer sinks only work with a usable IRQ */\n \tif (!msc->do_irq) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1fa1b6ca0fda97cbfccdc6b80b1a6b2920751665"}
{"commit_hash": "0ed9ca25894ef673d0259e4bd312d5fa1b9a6591", "short_hash": "0ed9ca25894e", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-10-19T17:07:27+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-11-05T00:48:26+01:00", "subject": "irq/irqdomain: Update __irq_domain_alloc_fwnode() function documentation", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "b977fcf477c1", "cc_stable": false, "subsystem_prefix": "kernel/irq", "subsystems_touched": ["kernel/irq/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 3, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only fix updating function parameter comment from @data to @pa to match code change in b977fcf477c1. Minimal code volume (1 line changed, 2 total). Single subsystem (kernel/irq). Thomas Gleixner (maintainer) signed off. Cross-org contribution from ZTE. Clear commit message with Fixes tag and proper attribution.", "code_snippet": "@@ -51,7 +51,7 @@ EXPORT_SYMBOL_GPL(irqchip_fwnode_ops);\n  * @type:\tType of irqchip_fwnode. See linux/irqdomain.h\n  * @name:\tOptional user provided domain name\n  * @id:\t\tOptional user provided id if name != NULL\n- * @data:\tOptional user-provided data\n+ * @pa:\t\tOptional user-provided physical address\n  *\n  * Allocate a struct irqchip_fwid, and return a poiner to the embedded\n  * fwnode_handle (or NULL on failure).\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ed9ca25894ef673d0259e4bd312d5fa1b9a6591"}
{"commit_hash": "d973933858eea01dcaa150da581b11933802e415", "short_hash": "d973933858ee", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-09T11:55:25-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-05T08:49:22-03:00", "subject": "media: v4l2-dv-timings: Use DIV_ROUND_CLOSEST directly to make it readable", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/v4l2-core"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 3, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Code volume 1: trivial 1-line change. Subsystem tier 5: media subsystem, moderately critical. Category base 3: MAINT-REFACTOR - readability improvement using standard kernel macro. Review chain 6: went through Hans Verkuil (subsystem maintainer) and Mauro Carvalho Chehab (media subsystem maintainer). Commit message 4: clear explanation of the change. Atomicity 3: single self-contained change. Maintainer endorsement 3: signed off by subsystem maintainers.", "code_snippet": "@@ -757,7 +757,7 @@ bool v4l2_detect_gtf(unsigned frame_height,\n \tpix_clk = pix_clk / GTF_PXL_CLK_GRAN * GTF_PXL_CLK_GRAN;\n \n \thsync = (frame_width * 8 + 50) / 100;\n-\thsync = ((hsync + GTF_CELL_GRAN / 2) / GTF_CELL_GRAN) * GTF_CELL_GRAN;\n+\thsync = DIV_ROUND_CLOSEST(hsync, GTF_CELL_GRAN) * GTF_CELL_GRAN;\n \n \th_fp = h_blank / 2 - hsync;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d973933858eea01dcaa150da581b11933802e415"}
{"commit_hash": "60afcc06ad4129af6705c1b053a4275c94d97c50", "short_hash": "60afcc06ad41", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T05:56:04-03:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-05T08:55:54-03:00", "subject": "media: staging: media: cedrus: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/media", "subsystems_touched": ["drivers/staging/media/sunxi/cedrus/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Paul Kocialkowski <paul.kocialkowski@bootlin.com> (Bootlin)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Low volume (1 insertion, 3 deletions). Staging driver (tier 4). Cleanups have low base score. Good review chain with Acked-by and two Signed-off-bys. Well-documented with coccinelle mention.", "code_snippet": "@@ -138,7 +138,6 @@ static irqreturn_t cedrus_irq(int irq, void *data)\n int cedrus_hw_probe(struct cedrus_dev *dev)\n {\n \tconst struct cedrus_variant *variant;\n-\tstruct resource *res;\n \tint irq_dec;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60afcc06ad4129af6705c1b053a4275c94d97c50"}
{"commit_hash": "4b024225c4a8245e6ecc66ce1df1eaf2ebeb4acb", "short_hash": "4b024225c4a8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T22:26:54+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-05T15:33:40+01:00", "subject": "pinctrl: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pinctrl", "subsystems_touched": ["drivers/pinctrl/actions/", "drivers/pinctrl/bcm/", "drivers/pinctrl/pxa/", "drivers/pinctrl/qcom/", "drivers/pinctrl/spear/", "drivers/pinctrl/sunxi/", "drivers/pinctrl/tegra/", "drivers/pinctrl/vt8500/", "drivers/pinctrl/zte/"], "subsystem_tier": 5, "files_changed": 31, "insertions": 40, "deletions": 105, "hunks": 98, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Bjorn Andersson <bjorn.andersson@linaro.org> (Linaro)"], "tested_by": [], "acked_by": ["Thierry Reding <treding@nvidia.com> (NVIDIA)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)", "Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org> (Linaro)", "Jesper Nilsson <jesper.nilsson@axis.com> (Axis)"], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 4, "score_quality": 16, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "This is a widespread code modernization cleanup across 31 pinctrl drivers, replacing platform_get_resource() + devm_ioremap_resource() patterns with the simpler devm_platform_ioremap_resource() helper. The change reduces lines of code (105 deletions, 40 insertions) and eliminates unnecessary struct resource variables. Strong review chain with 5 Acked-bys and 1 Reviewed-by from maintainers of affected subsystems (Thierry Reding, Neil Armstrong, Manivannan Sadhasivam, Jesper Nilsson, Bjorn Andersson) plus maintainer sign-off from Linus Walleij. Pinctrl is a mid-tier subsystem (hardware abstraction layer, not core kernel but critical for device functionality). Low user impact as this is internal refactoring with no functional changes. High atomicity - each change is independent and follows the same pattern across all drivers.", "code_snippet": "@@ -1400,12 +1400,10 @@ static struct pinctrl_desc bcm281xx_pinctrl_desc = {\n static int __init bcm281xx_pinctrl_probe(struct platform_device *pdev)\n {\n \tstruct bcm281xx_pinctrl_data *pdata = &bcm281xx_pinctrl;\n-\tstruct resource *res;\n \tstruct pinctrl_dev *pctl;\n \n \t/* So far We can assume there is only 1 bank of registers */\n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\tpdata->reg_base = devm_ioremap_resource(&pdev->dev, res);\n+\tpdata->reg_base = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(pdata->reg_base)) {\n \t\tdev_err(&pdev->dev, \"Failed to ioremap MEM resource\\n\");\n \t\treturn -ENODEV;\ndiff --git a/drivers/pinctrl/bcm/pinctrl-cygnus-mux.c b/drivers/pinctrl/bcm/pinctrl-cygnus-mux.c\nindex dcab2204c60c..4344c5732400 100644\n--- a/drivers/pinctrl/bcm/pinctrl-cygnus-mux.c\n+++ b/drivers/pinctrl/bcm/pinctrl-cygnus-mux.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4b024225c4a8245e6ecc66ce1df1eaf2ebeb4acb"}
{"commit_hash": "482c86cc37b7fa884843ec37edd1847c5463e3a9", "short_hash": "482c86cc37b7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T17:25:46+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-05T18:29:21+01:00", "subject": "char: xillybus: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char", "subsystems_touched": ["drivers/char/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Eli Billauer <eli.billauer@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 8, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Reduces 4 lines to 1. Has maintainer Acked-by. Low-risk cleanup in char driver subsystem.", "code_snippet": "@@ -116,7 +116,6 @@ static int xilly_drv_probe(struct platform_device *op)\n \tstruct xilly_endpoint *endpoint;\n \tint rc;\n \tint irq;\n-\tstruct resource *res;\n \tstruct xilly_endpoint_hardware *ephw = &of_hw;\n \n \tif (of_property_read_bool(dev->of_node, \"dma-coherent\"))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/482c86cc37b7fa884843ec37edd1847c5463e3a9"}
{"commit_hash": "68acde7629d75d460760a3124c52f358eecc6d26", "short_hash": "68acde7629d7", "author_name": "Chenwandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T17:43:49+08:00", "committer_name": "Dave Airlie", "committer_email": "airlied@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-06T05:45:29+10:00", "subject": "drm/dp_mst: fix gcc compile error", "primary_category": "BUILD", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chenwandun <chenwandun@huawei.com> (Huawei)", "Dave Airlie <airlied@redhat.com> (Redhat)"], "reviewed_by": ["Lyude Paul <lyude@redhat.com> (Redhat)"], "tested_by": [], "acked_by": ["Daniel Vetter <daniel@ffwll.ch> (Ffwll)"], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 5, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build fix for GCC compilation error in DRM DP MST topology code. Single line change replacing incorrect header include. Strong review chain with Reviewed-by and Acked-by tags from subsystem maintainers. Cross-org contribution from Huawei to Red Hat-maintained DRM subsystem.", "code_snippet": "@@ -29,7 +29,7 @@\n #include <linux/seq_file.h>\n \n #if IS_ENABLED(CONFIG_DRM_DEBUG_DP_MST_TOPOLOGY_REFS)\n-#include <linux/stackdepot.h>\n+#include <linux/stacktrace.h>\n #include <linux/sort.h>\n #include <linux/timekeeping.h>\n #include <linux/math64.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68acde7629d75d460760a3124c52f358eecc6d26"}
{"commit_hash": "9439bb0f3656003308a479a9a785ec2e79cfeb39", "short_hash": "9439bb0f3656", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:30:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T10:23:35-08:00", "subject": "ehea: replace with page_shift() in ehea_is_hugepage()", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/ibm/ehea"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 4, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 2, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume 1/10: -3 lines, trivial refactor. Subsystem 3/10: ehea is a legacy IBM network driver, not in core networking. Base 2/10: simple refactor for readability, low impact. Novelty 2/5: leverages new kernel API (page_shift). Cross-org 4/4: Huawel engineer, IBM driver, merged by net maintainer. Maintainer 4/4: Signed off by David S. Miller (net maintainer). Message 4/6: Clear rationale with reference to introducing commit.", "code_snippet": "@@ -670,13 +670,10 @@ int ehea_rem_sect_bmap(unsigned long pfn, unsigned long nr_pages)\n \n static int ehea_is_hugepage(unsigned long pfn)\n {\n-\tint page_order;\n-\n \tif (pfn & EHEA_HUGEPAGE_PFN_MASK)\n \t\treturn 0;\n \n-\tpage_order = compound_order(pfn_to_page(pfn));\n-\tif (page_order + PAGE_SHIFT != EHEA_HUGEPAGESHIFT)\n+\tif (page_shift(pfn_to_page(pfn)) != EHEA_HUGEPAGESHIFT)\n \t\treturn 0;\n \n \treturn 1;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9439bb0f3656003308a479a9a785ec2e79cfeb39"}
{"commit_hash": "411c1e6774e2e1f96b1ccce4f119376b94ade3e4", "short_hash": "411c1e6774e2", "author_name": "Wenpeng Liang", "author_email": "liangwenpeng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T10:33:30+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-06T13:37:02-04:00", "subject": "RDMA/hns: Correct the value of srq_desc_size", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-MEMORY"], "cve_ids": [], "fixes_tag": "c7bcb13442e1", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wenpeng Liang <liangwenpeng@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 18, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory allocation fix in RDMA driver - wrong buffer size could cause crashes. Small 1-line fix with clear Fixes tag and proper maintainer review chain (Huawei -> Hisilicon -> Gunthorpe).", "code_snippet": "@@ -376,7 +376,7 @@ int hns_roce_create_srq(struct ib_srq *ib_srq,\n \tsrq->max = roundup_pow_of_two(srq_init_attr->attr.max_wr + 1);\n \tsrq->max_gs = srq_init_attr->attr.max_sge;\n \n-\tsrq_desc_size = max(16, 16 * srq->max_gs);\n+\tsrq_desc_size = roundup_pow_of_two(max(16, 16 * srq->max_gs));\n \n \tsrq->wqe_shift = ilog2(srq_desc_size);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/411c1e6774e2e1f96b1ccce4f119376b94ade3e4"}
{"commit_hash": "531eb45b3da4267fc2a64233ba256c8ffb02edd2", "short_hash": "531eb45b3da4", "author_name": "Sirong Wang", "author_email": "wangsirong@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T10:33:29+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-06T13:37:02-04:00", "subject": "RDMA/hns: Correct the value of HNS_ROCE_HEM_CHUNK_LEN", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "9a4435375cd1", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sirong Wang <wangsirong@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 14, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for memory allocation size calculation in RDMA driver. Incorrect HNS_ROCE_HEM_CHUNK_LEN calculation could cause sg table size to be larger than expected, leading to memory corruption. Small fix (1 line) in driver subsystem with proper Fixes tag and maintainer review.", "code_snippet": "@@ -59,7 +59,7 @@ enum {\n \n #define HNS_ROCE_HEM_CHUNK_LEN\t\\\n \t ((256 - sizeof(struct list_head) - 2 * sizeof(int)) /\t \\\n-\t (sizeof(struct scatterlist)))\n+\t (sizeof(struct scatterlist) + sizeof(void *)))\n \n #define check_whether_bt_num_3(type, hop_num) \\\n \t(type < HEM_TYPE_MTT && hop_num == 2)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/531eb45b3da4267fc2a64233ba256c8ffb02edd2"}
{"commit_hash": "1785fbb73896dbd9d27a406f0d73047df42db710", "short_hash": "1785fbb73896", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T21:50:17+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-06T15:43:06-03:00", "subject": "perf jevents: Fix resource leak in process_mapfile() and main()", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/pmu-events"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 2, "hunks": 14, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 9, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak fix in perf jevents tool. Adds 11 insertions across 2 error paths in process_mapfile() and main(). Fixes memory leaks (free()) and file descriptor leaks (fclose()). Well-documented with Fixes tags referencing 3 commits. Cross-org contribution from Huawei to Red Hat maintainer. Low subsystem tier as tools/perf is not core kernel. Review chain shows maintainer sign-off. No explicit testing evidence.", "code_snippet": "@@ -839,7 +842,9 @@ static int process_mapfile(FILE *outfp, char *fpath)\n \n out:\n \tprint_mapping_table_suffix(outfp);\n-\treturn 0;\n+\tfclose(mapfp);\n+\tfree(line);\n+\treturn ret;\n }\n \n /*", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1785fbb73896dbd9d27a406f0d73047df42db710"}
{"commit_hash": "e310813279b7ea0f5401384675de818f852445c6", "short_hash": "e310813279b7", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-02T16:55:21+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-06T19:52:42+02:00", "subject": "ipw2x00: Remove redundant variable \"rc\"", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 3, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal: unused 'rc' variable deleted, function changed to void. Minor cleanup in wireless driver (tier 6). Cross-org contribution (Huawei author, CodeAurora maintainer). No user impact, no testing evidence.", "code_snippet": "@@ -999,13 +999,12 @@ static int libipw_read_qos_info_element(struct\n /*\n  * Write QoS parameters from the ac parameters.\n  */\n-static int libipw_qos_convert_ac_to_parameters(struct\n+static void libipw_qos_convert_ac_to_parameters(struct\n \t\t\t\t\t\t  libipw_qos_parameter_info\n \t\t\t\t\t\t  *param_elm, struct\n \t\t\t\t\t\t  libipw_qos_parameters\n \t\t\t\t\t\t  *qos_param)\n {\n-\tint rc = 0;\n \tint i;\n \tstruct libipw_qos_ac_parameter *ac_params;\n \tu32 txop;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e310813279b7ea0f5401384675de818f852445c6"}
{"commit_hash": "ea7ad5f12ca2e1b067d6177ee0141a96ae8f1c53", "short_hash": "ea7ad5f12ca2", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-02T16:55:22+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-06T19:52:43+02:00", "subject": "iwlegacy: Remove redundant variable \"ret\"", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/intel/iwlegacy/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in iwlegacy wireless driver. Cross-org contribution from Huawei to subsystem maintainer Kalle Valo. Well-reviewed trivial cleanup.", "code_snippet": "@@ -3331,7 +3331,6 @@ il4965_set_tkip_dynamic_key_info(struct il_priv *il,\n \t\t\t\t struct ieee80211_key_conf *keyconf, u8 sta_id)\n {\n \tunsigned long flags;\n-\tint ret = 0;\n \t__le16 key_flags = 0;\n \n \tkey_flags |= (STA_KEY_FLG_TKIP | STA_KEY_FLG_MAP_KEY_MSK);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ea7ad5f12ca2e1b067d6177ee0141a96ae8f1c53"}
{"commit_hash": "5565331152ee0d5a46aced51c35df637465bb5e1", "short_hash": "5565331152ee", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T21:50:35+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-06T19:56:04+02:00", "subject": "brcmsmac: remove set but not used variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 7, "score_impact": 3, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables that were triggering compiler warnings. Low technical impact (2 insertions, 9 deletions). Network driver subsystem is moderately important (tier 6). Maintainer (Kalle Valo) signed off, indicating proper review. Cross-org contribution from Huawei to community wireless subsystem.", "code_snippet": "@@ -838,9 +838,8 @@ brcms_c_dotxstatus(struct brcms_c_info *wlc, struct tx_status *txs)\n \tstruct dma_pub *dma = NULL;\n \tstruct d11txh *txh = NULL;\n \tstruct scb *scb = NULL;\n-\tbool free_pdu;\n-\tint tx_rts, tx_frame_count, tx_rts_count;\n-\tuint totlen, supr_status;\n+\tint tx_frame_count;\n+\tuint supr_status;\n \tbool lastframe;\n \tstruct ieee80211_hdr *h;\n \tu16 mcl;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5565331152ee0d5a46aced51c35df637465bb5e1"}
{"commit_hash": "a3a03716196fa32991ecda5667595f78c61cbd95", "short_hash": "a3a03716196f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-02T15:46:03+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-06T19:56:32+02:00", "subject": "rtlwifi: rtl8225se: remove some unused const variables", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 42, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 3, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused const variables in wireless driver. Low code volume (42 deletions), single subsystem. Cross-org contribution (Huawei author, maintainer review). Good commit message explaining compiler warnings. Direct maintainer sign-off present.", "code_snippet": "@@ -37,53 +37,11 @@ static const u8 cck_ofdm_gain_settings[] = {\n \t0x1e, 0x1f, 0x20, 0x21, 0x22, 0x23,\n };\n \n-static const u8 rtl8225se_tx_gain_cck_ofdm[] = {\n-\t0x02, 0x06, 0x0e, 0x1e, 0x3e, 0x7e\n-};\n-\n-static const u8 rtl8225se_tx_power_cck[] = {\n-\t0x18, 0x17, 0x15, 0x11, 0x0c, 0x08, 0x04, 0x02,\n-\t0x1b, 0x1a, 0x17, 0x13, 0x0e, 0x09, 0x04, 0x02,\n-\t0x1f, 0x1e, 0x1a, 0x15, 0x10, 0x0a, 0x05, 0x02,\n-\t0x22, 0x21, 0x1d, 0x18, 0x11, 0x0b, 0x06, 0x02,\n-\t0x26, 0x25, 0x21, 0x1b, 0x14, 0x0d, 0x06, 0x03,\n-\t0x2b, 0x2a, 0x25, 0x1e, 0x16, 0x0e, 0x07, 0x03\n-};\n-\n-static const u8 rtl8225se_tx_power_cck_ch14[] = {\n-\t0x18, 0x17, 0x15, 0x0c, 0x00, 0x00, 0x00, 0x00,\n-\t0x1b, 0x1a, 0x17, 0x0e, 0x00, 0x00, 0x00, 0x00,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3a03716196fa32991ecda5667595f78c61cbd95"}
{"commit_hash": "b97fa0b54447107e572ac7ba6ad0f0fd64170104", "short_hash": "b97fa0b54447", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T14:33:09Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T21:19:59-08:00", "subject": "ptp: ptp_clockmatrix: Fix missing unlock on error in idtcm_probe()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "3a6ba7dc7799", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/ptp/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vincent Cheng <vincent.cheng.xh@renesas.com> (Renesas)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 7, "score_impact": 10, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for missing mutex_unlock on error path in ptp_clockmatrix driver. Small change (4 lines), has proper Fixes tag and Reviewed-by. Cross-org contribution from Huawei to networking subsystem (David S. Miller).", "code_snippet": "@@ -1294,8 +1294,10 @@ static int idtcm_probe(struct i2c_client *client,\n \n \terr = set_tod_write_overhead(idtcm);\n \n-\tif (err)\n+\tif (err) {\n+\t\tmutex_unlock(&idtcm->reg_lock);\n \t\treturn err;\n+\t}\n \n \terr = idtcm_load_firmware(idtcm, &client->dev);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b97fa0b54447107e572ac7ba6ad0f0fd64170104"}
{"commit_hash": "1dcff44a9d2b74b3de2c854bbf11a5f765e7ba77", "short_hash": "1dcff44a9d2b", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T14:59:21Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T21:21:09-08:00", "subject": "net: aquantia: fix return value check in aq_ptp_init()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/aquantia/atlantic"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Igor Russkikh <irusskikh@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 8, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix removing redundant NULL check for ptp_clock_register() which returns ERR_PTR, not NULL. 1 line change in network driver. Acked by subsystem maintainer.", "code_snippet": "@@ -1207,7 +1207,7 @@ int aq_ptp_init(struct aq_nic_s *aq_nic, unsigned int idx_vec)\n \taq_ptp->ptp_info = aq_ptp_clock;\n \taq_ptp_gpio_init(&aq_ptp->ptp_info, &mbox.info);\n \tclock = ptp_clock_register(&aq_ptp->ptp_info, &aq_nic->ndev->dev);\n-\tif (!clock || IS_ERR(clock)) {\n+\tif (IS_ERR(clock)) {\n \t\tnetdev_err(aq_nic->ndev, \"ptp_clock_register failed\\n\");\n \t\terr = PTR_ERR(clock);\n \t\tgoto err_exit;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1dcff44a9d2b74b3de2c854bbf11a5f765e7ba77"}
{"commit_hash": "eb34e98baf4ce269423948dacefea6747e963b48", "short_hash": "eb34e98baf4c", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T15:54:49Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T21:24:16-08:00", "subject": "net: axienet: Fix error return code in axienet_probe()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "28ef9ebdb64c", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Radhey Shyam Pandey <radhey.shyam.pandey@xilinx.com> (Xilinx)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 12, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for error handling in axienet_probe() - removed redundant check that prevented proper error reporting. Network driver subsystem is critical (tier 10). Clean deletion of dead code (4 lines). Has proper Fixes tag and Reviewed-by tag indicating review quality. Cross-org contribution from Huawei to Xilinx driver maintained by David S. Miller.", "code_snippet": "@@ -1788,10 +1788,6 @@ static int axienet_probe(struct platform_device *pdev)\n \t\t/* Check for these resources directly on the Ethernet node. */\n \t\tstruct resource *res = platform_get_resource(pdev,\n \t\t\t\t\t\t\t     IORESOURCE_MEM, 1);\n-\t\tif (!res) {\n-\t\t\tdev_err(&pdev->dev, \"unable to get DMA memory resource\\n\");\n-\t\t\tgoto free_netdev;\n-\t\t}\n \t\tlp->dma_regs = devm_ioremap_resource(&pdev->dev, res);\n \t\tlp->rx_irq = platform_get_irq(pdev, 1);\n \t\tlp->tx_irq = platform_get_irq(pdev, 0);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb34e98baf4ce269423948dacefea6747e963b48"}
{"commit_hash": "648db0514a3808eead513d7abfaf650d02a64d5c", "short_hash": "648db0514a38", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T09:30:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T21:46:56-08:00", "subject": "net: hns3: add compatible handling for command HCLGE_OPC_PF_RST_DONE", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BACK-STABLE"], "cve_ids": [], "fixes_tag": "72e2fb07997c (\"net: hns3: clear reset interrupt status in hclge_irq_handle()\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 17, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 17, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 3, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Compatibility fix for old firmware in Huawei network driver. 18 lines added, fixes regression from 72e2fb07997c where driver crashed on unsupported firmware command. Maintainer David S. Miller signed off. Clear fixes tag and stable candidate.", "code_snippet": "@@ -3587,12 +3587,28 @@ static int hclge_set_rst_done(struct hclge_dev *hdev)\n {\n \tstruct hclge_pf_rst_done_cmd *req;\n \tstruct hclge_desc desc;\n+\tint ret;\n \n \treq = (struct hclge_pf_rst_done_cmd *)desc.data;\n \thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_PF_RST_DONE, false);\n \treq->pf_rst_done |= HCLGE_PF_RESET_DONE_BIT;\n \n-\treturn hclge_cmd_send(&hdev->hw, &desc, 1);\n+\tret = hclge_cmd_send(&hdev->hw, &desc, 1);\n+\t/* To be compatible with the old firmware, which does not support\n+\t * command HCLGE_OPC_PF_RST_DONE, just print a warning and\n+\t * return success\n+\t */\n+\tif (ret == -EOPNOTSUPP) {\n+\t\tdev_warn(&hdev->pdev->dev,\n+\t\t\t \"current firmware does not support command(0x%x)!\\n\",\n+\t\t\t HCLGE_OPC_PF_RST_DONE);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/648db0514a3808eead513d7abfaf650d02a64d5c"}
{"commit_hash": "2d791e3bf218a8880e306eb2fa79dcf1429d01b3", "short_hash": "2d791e3bf218", "author_name": "Chenwandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T09:39:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-06T21:50:06-08:00", "subject": "dpaa2-ptp: fix compile error", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "719479230893", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/freescale/dpaa2/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chenwandun <chenwandun@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 11, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Build configuration fix adding PHYLINK dependency to resolve undefined reference errors. Single-line Kconfig change, properly documented with Fixes tag and build error logs. Network driver subsystem importance.", "code_snippet": "@@ -2,6 +2,7 @@\n config FSL_DPAA2_ETH\n \ttristate \"Freescale DPAA2 Ethernet\"\n \tdepends on FSL_MC_BUS && FSL_MC_DPIO\n+\tselect PHYLINK\n \thelp\n \t  This is the DPAA2 Ethernet driver supporting Freescale SoCs\n \t  with DPAA2 (DataPath Acceleration Architecture v2).\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2d791e3bf218a8880e306eb2fa79dcf1429d01b3"}
{"commit_hash": "76bf653f08dd3616ad067980f52d462a97e5257b", "short_hash": "76bf653f08dd", "author_name": "Tian Tao", "author_email": "tiantao6@huawei.com", "author_company": "Huawei", "author_date": "2019-10-26T09:04:35+08:00", "committer_name": "Daniel Lezcano", "committer_email": "daniel.lezcano@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-07T07:00:26+01:00", "subject": "thermal: no need to set .owner when using module_platform_driver", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/thermal", "subsystems_touched": ["drivers/thermal/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Tian Tao <tiantao6@huawei.com> (Huawei)", "Daniel Lezcano <daniel.lezcano@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Talel Shenhar <talel@amazon.com> (Amazon)"], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 4, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing redundant .owner = THIS_MODULE assignment that module_platform_driver handles automatically. Single line deletion in thermal MMIO driver. Acked-by maintainer indicates review, but low technical impact as it removes unnecessary code.", "code_snippet": "@@ -110,7 +110,6 @@ static struct platform_driver thermal_mmio_driver = {\n \t.probe = thermal_mmio_probe,\n \t.driver = {\n \t\t.name = \"thermal-mmio\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = of_match_ptr(thermal_mmio_id_table),\n \t},\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76bf653f08dd3616ad067980f52d462a97e5257b"}
{"commit_hash": "662c9d55c5ccb37f3920ecab9720f2ebf2a6ca18", "short_hash": "662c9d55c5cc", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:11:40+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-07T10:11:04+01:00", "subject": "soc: mediatek: Refactor bus protection control", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "soc", "subsystems_touched": ["soc/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 30, "deletions": 14, "hunks": 6, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 7, "score_impact": 3, "score_quality": 7, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit extracting bus protection logic into separate functions. Low code volume (44 lines), single file in soc/mediatek subsystem. Maintainer-signed refactoring with no bug/security implications. Good atomicity (clean extraction of functionality).", "code_snippet": "@@ -276,6 +276,30 @@ static int scpsys_sram_disable(struct scp_domain *scpd, void __iomem *ctl_addr)\n \t\t\tMTK_POLL_DELAY_US, MTK_POLL_TIMEOUT);\n }\n \n+static int scpsys_bus_protect_enable(struct scp_domain *scpd)\n+{\n+\tstruct scp *scp = scpd->scp;\n+\n+\tif (!scpd->data->bus_prot_mask)\n+\t\treturn 0;\n+\n+\treturn mtk_infracfg_set_bus_protection(scp->infracfg,\n+\t\t\tscpd->data->bus_prot_mask,\n+\t\t\tscp->bus_prot_reg_update);\n+}\n+\n+static int scpsys_bus_protect_disable(struct scp_domain *scpd)\n+{\n+\tstruct scp *scp = scpd->scp;\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/662c9d55c5ccb37f3920ecab9720f2ebf2a6ca18"}
{"commit_hash": "0545aa1b7a1472a4d0499ccc7666634c8cf47305", "short_hash": "0545aa1b7a14", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:11:39+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-07T10:11:04+01:00", "subject": "soc: mediatek: Refactor sram control", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/soc/mediatek", "subsystems_touched": ["drivers/soc/mediatek"], "subsystem_tier": 7, "files_changed": 1, "insertions": 53, "deletions": 27, "hunks": 10, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 11, "score_impact": 4, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Refactoring commit that extracts SRAM enable/disable control into separate functions (scpsys_sram_enable, scpsys_sram_disable) to improve code organization and reduce duplication in scpsys_power_on/off. 53 insertions, 27 deletions across single driver file. Reviewed by Nicolas Boichat and signed by maintainer Matthias Brugger. Clean refactoring with improved code structure, no functional changes, no testing evidence.", "code_snippet": "@@ -230,12 +230,57 @@ static int scpsys_clk_enable(struct clk *clk[], int max_num)\n \treturn ret;\n }\n \n+static int scpsys_sram_enable(struct scp_domain *scpd, void __iomem *ctl_addr)\n+{\n+\tu32 val;\n+\tu32 pdn_ack = scpd->data->sram_pdn_ack_bits;\n+\tint tmp;\n+\n+\tval = readl(ctl_addr);\n+\tval &= ~scpd->data->sram_pdn_bits;\n+\twritel(val, ctl_addr);\n+\n+\t/* Either wait until SRAM_PDN_ACK all 0 or have a force wait */\n+\tif (MTK_SCPD_CAPS(scpd, MTK_SCPD_FWAIT_SRAM)) {\n+\t\t/*\n+\t\t * Currently, MTK_SCPD_FWAIT_SRAM is necessary only for\n+\t\t * MT7622_POWER_DOMAIN_WB and thus just a trivial setup\n+\t\t * is applied here.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0545aa1b7a1472a4d0499ccc7666634c8cf47305"}
{"commit_hash": "cef021e2f5cb8a1c8cd23ebc77232e6563ce251d", "short_hash": "cef021e2f5cb", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:11:38+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-07T10:11:04+01:00", "subject": "soc: mediatek: Refactor clock control", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/soc", "subsystems_touched": ["drivers/soc/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 28, "deletions": 17, "hunks": 10, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 9, "score_impact": 5, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume: 28 insertions, 17 deletions (3/10). Subsystem: soc/mediatek power management (mid-tier, 6/10). Category: Refactoring to extract clock control functions (MAINT-REFACTOR, base 5/30). No stable CC, no user impact, no novelty. Review chain: 2 sign-offs including maintainer (4/8). Message quality: minimal description (2/6). No testing evidence (0/3). Atomic: single refactoring (3/3). Single company (MediaTek) (0/4). Maintainer endorsement present (4/4). No community response data.", "code_snippet": "@@ -207,6 +207,29 @@ static int scpsys_regulator_disable(struct scp_domain *scpd)\n \treturn regulator_disable(scpd->supply);\n }\n \n+static void scpsys_clk_disable(struct clk *clk[], int max_num)\n+{\n+\tint i;\n+\n+\tfor (i = max_num - 1; i >= 0; i--)\n+\t\tclk_disable_unprepare(clk[i]);\n+}\n+\n+static int scpsys_clk_enable(struct clk *clk[], int max_num)\n+{\n+\tint i, ret = 0;\n+\n+\tfor (i = 0; i < max_num && clk[i]; i++) {\n+\t\tret = clk_prepare_enable(clk[i]);\n+\t\tif (ret) {\n+\t\t\tscpsys_clk_disable(clk, i);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cef021e2f5cb8a1c8cd23ebc77232e6563ce251d"}
{"commit_hash": "d744d035ecb57decf0ae1711228756445708545a", "short_hash": "d744d035ecb5", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:11:37+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-07T10:11:04+01:00", "subject": "soc: mediatek: Refactor regulator control", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "soc", "subsystems_touched": ["drivers/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 23, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 2, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code refactoring extracting regulator control into separate functions for better modularity. Low complexity change (+23/-9 lines in single file). Non-critical subsystem (mediatek SoC power control). Signed-off-by from maintainer Matthias Brugger.", "code_snippet": "@@ -191,6 +191,22 @@ static int scpsys_domain_is_on(struct scp_domain *scpd)\n \treturn -EINVAL;\n }\n \n+static int scpsys_regulator_enable(struct scp_domain *scpd)\n+{\n+\tif (!scpd->supply)\n+\t\treturn 0;\n+\n+\treturn regulator_enable(scpd->supply);\n+}\n+\n+static int scpsys_regulator_disable(struct scp_domain *scpd)\n+{\n+\tif (!scpd->supply)\n+\t\treturn 0;\n+\n+\treturn regulator_disable(scpd->supply);\n+}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d744d035ecb57decf0ae1711228756445708545a"}
{"commit_hash": "90a943145e2ef17b559ef9e98a7c12a1abc9ae84", "short_hash": "90a943145e2e", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-28T17:11:36+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-07T10:11:04+01:00", "subject": "soc: mediatek: Refactor polling timeout and documentation", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "soc", "subsystems_touched": ["soc/mediatek"], "subsystem_tier": 6, "files_changed": 1, "insertions": 12, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 5, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Refactoring commit that replaces jiffies_to_usecs(HZ) with USEC_PER_SEC for clarity and adds kernel doc for scp_domain_data structure. Low risk, documentation improvement, single file touched in soc subsystem.", "code_snippet": "@@ -21,7 +21,7 @@\n #include <dt-bindings/power/mt8173-power.h>\n \n #define MTK_POLL_DELAY_US   10\n-#define MTK_POLL_TIMEOUT    (jiffies_to_usecs(HZ))\n+#define MTK_POLL_TIMEOUT    USEC_PER_SEC\n \n #define MTK_SCPD_ACTIVE_WAKEUP\t\tBIT(0)\n #define MTK_SCPD_FWAIT_SRAM\t\tBIT(1)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/90a943145e2ef17b559ef9e98a7c12a1abc9ae84"}
{"commit_hash": "d99c1ba6a73b9e93e2884b7893fe19e3c082ba03", "short_hash": "d99c1ba6a73b", "author_name": "Xinwei Kong", "author_email": "kong.kongxinwei@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-07T16:24:21+08:00", "committer_name": "Ard Biesheuvel", "committer_email": "ardb@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-07T10:18:45+01:00", "subject": "efi: libstub/tpm: enable tpm eventlog function for ARM platforms", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/firmware/efi", "subsystems_touched": ["drivers/firmware/efi/libstub/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xinwei Kong <kong.kongxinwei@hisilicon.com> (HiSilicon)", "Ard Biesheuvel <ardb@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": ["Zou Cao <zoucao@linux.alibaba.com> (Alibaba)"], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 9, "score_impact": 13, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Enables TPM2 eventlog retrieval for ARM platforms in EFI stub. Small 2-line addition that wires up existing functionality. Maintainer Ard Biesheuvel co-signs. Tested-by tag present. Cross-company contribution (HiSilicon to kernel.org). TPM security feature enablement for ARM architecture.", "code_snippet": "@@ -189,6 +189,8 @@ unsigned long efi_entry(void *handle, efi_system_table_t *sys_table,\n \t\tgoto fail_free_cmdline;\n \t}\n \n+\tefi_retrieve_tpm2_eventlog(sys_table);\n+\n \t/* Ask the firmware to clear memory on unclean shutdown */\n \tefi_enable_reset_attack_mitigation(sys_table);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d99c1ba6a73b9e93e2884b7893fe19e3c082ba03"}
{"commit_hash": "26a4d4c00f85cb844dd11dd35e848b079c2f5e8f", "short_hash": "26a4d4c00f85", "author_name": "Hewenliang", "author_email": "hewenliang4@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T00:35:15-04:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-07T11:25:01+01:00", "subject": "usbip: tools: fix fd leakage in the function of read_attr_usbip_status", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "3391ba0e2792", "cc_stable": true, "subsystem_prefix": "tools/usb/usbip", "subsystems_touched": ["tools/usb/usbip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Hewenliang <hewenliang4@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 6, "score_impact": 15, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 5, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Resource leak bug fix in usbip tools. Missing close(fd) call causes file descriptor leakage. Small 2-line change in userspace tools. Fixes-tag present and cc-stable indicates backport importance. Cross-org contribution from Huawei to Greg Kroah-Hartman's tree.", "code_snippet": "@@ -57,7 +57,7 @@ static int32_t read_attr_usbip_status(struct usbip_usb_device *udev)\n \t}\n \n \tvalue = atoi(status);\n-\n+\tclose(fd);\n \treturn value;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/26a4d4c00f85cb844dd11dd35e848b079c2f5e8f"}
{"commit_hash": "8703317ae576c9bf3e07e5b97275e3f957e8d74b", "short_hash": "8703317ae576", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-07T15:56:04+08:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-07T13:07:55Z", "subject": "drivers/perf: hisi: update the sccl_id/ccl_id for certain HiSilicon platform", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/perf", "subsystems_touched": ["drivers/perf/hisilicon"], "subsystem_tier": 4, "files_changed": 1, "insertions": 18, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect SCCL_ID/CCL_ID extraction on non-TSV110 HiSilicon platforms with multi-threading enabled. The original code only handled Kunpeng 920 (TSV110) topology, incorrectly extracting cluster IDs for other HiSilicon SoCs. Low subsystem tier (drivers/perf/hisilicon), isolated scope (single function). Limited user impact (affects PMU functionality on specific platforms). Good review chain with Cc to maintainers (Will Deacon, Mark Rutland) and proper SoC-maintainer signoff.", "code_snippet": "@@ -338,8 +339,10 @@ void hisi_uncore_pmu_disable(struct pmu *pmu)\n \n /*\n  * Read Super CPU cluster and CPU cluster ID from MPIDR_EL1.\n- * If multi-threading is supported, CCL_ID is the low 3-bits in MPIDR[Aff2]\n- * and SCCL_ID is the upper 5-bits of Aff2 field; if not, SCCL_ID\n+ * If multi-threading is supported, On Huawei Kunpeng 920 SoC whose cpu\n+ * core is tsv110, CCL_ID is the low 3-bits in MPIDR[Aff2] and SCCL_ID\n+ * is the upper 5-bits of Aff2 field; while for other cpu types, SCCL_ID\n+ * is in MPIDR[Aff3] and CCL_ID is in MPIDR[Aff2], if not, SCCL_ID\n  * is in MPIDR[Aff2] and CCL_ID is in MPIDR[Aff1].\n  */\n static void hisi_read_sccl_and_ccl_id(int *sccl_id, int *ccl_id)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8703317ae576c9bf3e07e5b97275e3f957e8d74b"}
{"commit_hash": "57b2364d0ece3e38cd80ad0d87ff4b7c73ec474f", "short_hash": "57b2364d0ece", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:33:32+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-07T13:10:44-08:00", "subject": "clk: qcom: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/qcom/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing unnecessary semicolons after switch statements. Minimal code change (2 insertions, 2 deletions). Cross-org contribution from Huawei to Qualcomm clock subsystem. Reviewed and merged by maintainer Stephen Boyd.", "code_snippet": "@@ -206,7 +206,7 @@ static int _freq_tbl_determine_rate(struct clk_hw *hw, const struct freq_tbl *f,\n \t\tbreak;\n \tdefault:\n \t\treturn -EINVAL;\n-\t};\n+\t}\n \n \tif (!f)\n \t\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/57b2364d0ece3e38cd80ad0d87ff4b7c73ec474f"}
{"commit_hash": "88288ed050adb5a96f6063d2d0e3e35bac8e84c2", "short_hash": "88288ed050ad", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-01T18:04:49+08:00", "committer_name": "Jonathan Corbet", "committer_email": "corbet@lwn.net", "committer_company": "Lwn", "commit_date": "2019-11-07T13:17:26-07:00", "subject": "docs: printk-formats: add ptrdiff_t type to printk-formats", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/core-api/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Jonathan Corbet <corbet@lwn.net> (Lwn)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 4, "score_impact": 9, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation update adding ptrdiff_t type modifier (%t) explanation to printk-formats.rst. Low impact but well-reviewed with dual sign-off from author (Mediatek) and maintainer (Corbet). Pure documentation change with no code modifications.", "code_snippet": "@@ -135,6 +135,20 @@ equivalent to %lx (or %lu). %px is preferred because it is more uniquely\n grep'able. If in the future we need to modify the way the kernel handles\n printing pointers we will be better equipped to find the call sites.\n \n+Pointer Differences\n+-------------------\n+\n+::\n+\n+\t%td\t2560\n+\t%tx\ta00\n+\n+For printing the pointer differences, use the %t modifier for ptrdiff_t.\n+\n+Example::\n+\n+\tprintk(\"test: difference between pointers: %td\\n\", ptr2 - ptr1);\n+\n Struct Resources\n ----------------", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88288ed050adb5a96f6063d2d0e3e35bac8e84c2"}
{"commit_hash": "630d4e75dd2969bf7da40beb3d4704356d12ae39", "short_hash": "630d4e75dd29", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T14:52:31Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-07T15:12:55-08:00", "subject": "mlxsw: spectrum: Fix error return code in mlxsw_sp_port_module_info_init()", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4a7f970f1240", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Jiri Pirko <jiri@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 13, "score_impact": 7, "score_quality": 9, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small error handling fix in network driver (4 insertions, 1 deletion). Properly sets -ENOMEM error code on allocation failure. Has Reviewed-by tag from maintainer Jiri Pirko, and Fixes tag referencing commit 4a7f970f1240. Network subsystem is tier-10 critical.", "code_snippet": "@@ -4079,8 +4079,10 @@ static int mlxsw_sp_port_module_info_init(struct mlxsw_sp *mlxsw_sp)\n \t\tmlxsw_sp->port_mapping[i] = kmemdup(&port_mapping,\n \t\t\t\t\t\t    sizeof(port_mapping),\n \t\t\t\t\t\t    GFP_KERNEL);\n-\t\tif (!mlxsw_sp->port_mapping[i])\n+\t\tif (!mlxsw_sp->port_mapping[i]) {\n+\t\t\terr = -ENOMEM;\n \t\t\tgoto err_port_module_info_dup;\n+\t\t}\n \t}\n \treturn 0;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/630d4e75dd2969bf7da40beb3d4704356d12ae39"}
{"commit_hash": "bf5a6b4c474c589244dc25ee1af2c3c829228ef8", "short_hash": "bf5a6b4c474c", "author_name": "Salil Mehta", "author_email": "salil.mehta@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T17:09:53Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-07T16:12:15-08:00", "subject": "net: hns: Fix the stray netpoll locks causing deadlock in NAPI path", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-CRASH", "BUG-RACE"], "cve_ids": [], "fixes_tag": "4bd2c03be707", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 7, "files_changed": 3, "insertions": 1, "deletions": 25, "hunks": 12, "review_chain": {"signed_off_by": ["Salil Mehta <salil.mehta@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": ["Marc Zyngier <maz@kernel.org> (Kernel)"], "acked_by": ["Marc Zyngier <maz@kernel.org> (Kernel)"], "reported_by": ["Marc Zyngier <maz@kernel.org> (Kernel)"]}, "score_total": 56, "score_technical": 9, "score_impact": 21, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Deadlock bug fix in network driver (Hisilicon HNS). Removes stray netpoll spin locks causing deadlocks in NAPI path. Strong community response with Reported-by, Acked-by, and Tested-by tags. Cross-company contribution (Huawei -> upstream netdev maintainer). Well-documented with detailed explanation and links to background context. Fixes: tag present. Code change is focused cleanup removing problematic locking code from 3 files (-25/+1 lines).", "code_snippet": "@@ -943,15 +943,6 @@ static int is_valid_clean_head(struct hnae_ring *ring, int h)\n \treturn u > c ? (h > c && h <= u) : (h > c || h <= u);\n }\n \n-/* netif_tx_lock will turn down the performance, set only when necessary */\n-#ifdef CONFIG_NET_POLL_CONTROLLER\n-#define NETIF_TX_LOCK(ring) spin_lock(&(ring)->lock)\n-#define NETIF_TX_UNLOCK(ring) spin_unlock(&(ring)->lock)\n-#else\n-#define NETIF_TX_LOCK(ring)\n-#define NETIF_TX_UNLOCK(ring)\n-#endif\n-\n /* reclaim all desc in one budget\n  * return error or number of desc left\n  */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf5a6b4c474c589244dc25ee1af2c3c829228ef8"}
{"commit_hash": "32e9f6cb07348427abb2806abc67e743a2993b68", "short_hash": "32e9f6cb0734", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T01:59:23Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-07T16:29:17+01:00", "subject": "staging: vboxsf: Remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/vboxsf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 4, "score_impact": 2, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused header include from staging driver (non-critical subsystem). Single line deletion with proper sign-off chain from author to maintainer Greg Kroah-Hartman. Low technical complexity and no user impact.", "code_snippet": "@@ -10,7 +10,6 @@\n \n #include <linux/backing-dev.h>\n #include <linux/idr.h>\n-#include <linux/version.h>\n #include \"shfl_hostintf.h\"\n \n #define DIR_BUFFER_SIZE SZ_16K\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32e9f6cb07348427abb2806abc67e743a2993b68"}
{"commit_hash": "e39fcaef7ed993950af74a584f8246022b551971", "short_hash": "e39fcaef7ed9", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T11:59:54Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-07T16:29:18+01:00", "subject": "staging: Fix error return code in vboxsf_fill_super()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "df4028658f9d", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/vboxsf"], "subsystem_tier": 6, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Hans de Goede <hdegoede@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 17, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Memory allocation error handling bug fix in staging driver. Returns -ENOMEM properly on kmalloc failure. Has Reviewed-by tag and fixes reference. Single subsystem (staging/vboxsf). Cross-org contribution (Huawei author, Red Hat reviewer, Linux Foundation committer).", "code_snippet": "@@ -176,8 +176,10 @@ static int vboxsf_fill_super(struct super_block *sb, struct fs_context *fc)\n \t/* Turn source into a shfl_string and map the folder */\n \tsize = strlen(fc->source) + 1;\n \tfolder_name = kmalloc(SHFLSTRING_HEADER_SIZE + size, GFP_KERNEL);\n-\tif (!folder_name)\n+\tif (!folder_name) {\n+\t\terr = -ENOMEM;\n \t\tgoto fail_free;\n+\t}\n \tfolder_name->size = size;\n \tfolder_name->length = size - 1;\n \tstrlcpy(folder_name->string.utf8, fc->source, size);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e39fcaef7ed993950af74a584f8246022b551971"}
{"commit_hash": "7d13cf1e1d5300e9e0fd5ef110b5abe3854ea90b", "short_hash": "7d13cf1e1d53", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T11:01:02+08:00", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-11-08T10:17:33+01:00", "subject": "mac80211_hwsim: use DEFINE_DEBUGFS_ATTRIBUTE to define debugfs fops", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 7, "files_changed": 1, "insertions": 7, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 6, "score_quality": 11, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Refactoring commit replacing DEFINE_SIMPLE_ATTRIBUTE with DEFINE_DEBUGFS_ATTRIBUTE in mac80211_hwsim driver. Code change is minimal (7 insertions, 7 deletions) and mechanical in nature - applying coccinelle semantic patch. Low impact as it only affects debugfs file operations in a test driver. High cross-org collaboration (Huawei author, Intel maintainer). Good commit message quality with Link tag.", "code_snippet": "@@ -769,8 +769,8 @@ static int hwsim_fops_ps_write(void *dat, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(hwsim_fops_ps, hwsim_fops_ps_read, hwsim_fops_ps_write,\n-\t\t\t\"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(hwsim_fops_ps, hwsim_fops_ps_read, hwsim_fops_ps_write,\n+\t\t\t \"%llu\\n\");\n \n static int hwsim_write_simulate_radar(void *dat, u64 val)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d13cf1e1d5300e9e0fd5ef110b5abe3854ea90b"}
{"commit_hash": "c8119fa8922b0dfdda7c7152f7de55040aa5eb1d", "short_hash": "c8119fa8922b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T22:35:58+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-08T11:33:16-08:00", "subject": "cxgb4: Use match_string() helper to simplify the code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/chelsio/cxgb4/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 6, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 12, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring to use match_string() helper instead of open-coded string matching in cxgb4 driver. Net subsystem tier 10 (networking). Small scope (-11/+6 lines in single file). Well-reviewed by subsystem maintainer David S. Miller. Clean atomic commit with clear message.", "code_snippet": "@@ -4,6 +4,7 @@\n  */\n \n #include <linux/sort.h>\n+#include <linux/string.h>\n \n #include \"t4_regs.h\"\n #include \"cxgb4.h\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8119fa8922b0dfdda7c7152f7de55040aa5eb1d"}
{"commit_hash": "e6e8df07268c1f75dd9215536e2ce4587b70f977", "short_hash": "e6e8df07268c", "author_name": "Kai Shen", "author_email": "shenkai8@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T05:08:17Z", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-11-08T11:49:15+01:00", "subject": "cpufreq: Add NULL checks to show() and store() methods of cpufreq", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 7, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Kai Shen <shenkai8@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": ["Feilong Lin <linfeilong@huawei.com> (Huawei)"], "tested_by": [], "acked_by": ["Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reported_by": ["Feilong Lin <linfeilong@huawei.com> (Huawei)"]}, "score_total": 53, "score_technical": 9, "score_impact": 24, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug-crash fix addressing kernel panic vulnerability in cpufreq sysfs interface. Adds NULL pointer checks to prevent crashes when users modify read-only sysfs attributes. Well-reviewed with Reported-by, Reviewed-by, and Acked-by tags from multiple maintainers. Cc: stable indicates backport importance. Low code volume but high security impact.", "code_snippet": "@@ -933,6 +933,9 @@ static ssize_t show(struct kobject *kobj, struct attribute *attr, char *buf)\n \tstruct freq_attr *fattr = to_attr(attr);\n \tssize_t ret;\n \n+\tif (!fattr->show)\n+\t\treturn -EIO;\n+\n \tdown_read(&policy->rwsem);\n \tret = fattr->show(policy, buf);\n \tup_read(&policy->rwsem);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e6e8df07268c1f75dd9215536e2ce4587b70f977"}
{"commit_hash": "2a67803e1305b6b829b361e0b2f243aafcddab0b", "short_hash": "2a67803e1305", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T19:40:54+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-08T12:32:59-05:00", "subject": "nfsd: Drop LIST_HEAD where the variable it declares is never used.", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "65294c1f2c5e", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfsd"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 9, "score_impact": 4, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused LIST_HEAD declaration in nfsd filecache. 2-line deletion removing dead code introduced in commit 65294c1f2c5e. Cross-org contribution from Huawei maintainer, reviewed and signed off by Redhat maintainer J. Bruce Fields. Minimal technical impact but good commit hygiene.", "code_snippet": "@@ -685,8 +685,6 @@ nfsd_file_cache_purge(struct net *net)\n void\n nfsd_file_cache_shutdown(void)\n {\n-\tLIST_HEAD(dispose);\n-\n \tset_bit(NFSD_FILE_SHUTDOWN, &nfsd_file_lru_flags);\n \n \tlease_unregister_notifier(&nfsd_file_lease_notifier);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a67803e1305b6b829b361e0b2f243aafcddab0b"}
{"commit_hash": "61b7805a9b25bc1a31386c904fb5b03512c801c7", "short_hash": "61b7805a9b25", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-08T01:35:43Z", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-08T14:25:12+01:00", "subject": "gpio: xgs-iproc: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpio", "subsystems_touched": ["drivers/gpio/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial Coccinelle-generated cleanup removing redundant .owner field from platform_driver. Single line deletion (-1), non-functional change. Cross-org contribution from Huawei to Linaro tree with maintainer sign-off. Well-documented automated cleanup with clear provenance.", "code_snippet": "@@ -308,7 +308,6 @@ MODULE_DEVICE_TABLE(of, bcm_iproc_gpio_of_match);\n static struct platform_driver bcm_iproc_gpio_driver = {\n \t.driver = {\n \t\t.name = \"iproc-xgs-gpio\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = bcm_iproc_gpio_of_match,\n \t},\n \t.probe = iproc_gpio_probe,\n", "flags": ["COCCINELLE", "CLEANUP", "AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/61b7805a9b25bc1a31386c904fb5b03512c801c7"}
{"commit_hash": "03ccba5c2cf7ec5149c59039a5644233a2f60ca9", "short_hash": "03ccba5c2cf7", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:56+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:53-04:00", "subject": "RDMA/hns: Delete unnecessary uar from hns_roce_cq", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 2, "insertions": 1, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing redundant uar pointer from hns_roce_cq structure. Small code footprint (5 lines changed), affects non-critical infiniband driver (tier 4). No user impact, stable backport, or security implications. Good commit message explaining the rationale. Cross-org contribution from Huawei, signed off by maintainer Jason Gunthorpe.", "code_snippet": "@@ -367,9 +366,8 @@ static int create_kernel_cq(struct hns_roce_dev *hr_dev,\n \t\tgoto err_db;\n \t}\n \n-\tuar = &hr_dev->priv_uar;\n \thr_cq->cq_db_l = hr_dev->reg_base + hr_dev->odb_offset +\n-\t\t\t DB_REG_OFFSET * uar->index;\n+\t\t\t DB_REG_OFFSET * hr_dev->priv_uar.index;\n \n \treturn 0;\n \ndiff --git a/drivers/infiniband/hw/hns/hns_roce_device.h b/drivers/infiniband/hw/hns/hns_roce_device.h\nindex 409c626708b7..c461cffa9721 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_device.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_device.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03ccba5c2cf7ec5149c59039a5644233a2f60ca9"}
{"commit_hash": "16a11e0bffcab729bd2e8f315e1252e7ef3ddf33", "short_hash": "16a11e0bffca", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:55+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:53-04:00", "subject": "RDMA/hns: Remove unnecessary structure hns_roce_sqp", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 5, "files_changed": 4, "insertions": 5, "deletions": 22, "hunks": 14, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 7, "score_impact": 8, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit removing unnecessary hns_roce_sqp structure wrapper. Clean consolidation from maintainer Jason Gunthorpe, cross-org contribution from Huawei (chenglang@huawei.com, liweihang@hisilicon.com). Well-reviewed with proper Signed-off-by chain. Low impact as it simplifies data structures without changing functionality. Technical score: 7/27 (small refactor in mid-tier subsystem). Impact score: 8/30 (maintenance refactor, no stable backporting). Quality score: 14/20 (excellent review chain and message quality, atomic change). Community score: 8/10 (cross-org contribution with maintainer sign-off).", "code_snippet": "@@ -1089,11 +1085,6 @@ static inline struct hns_roce_srq *to_hr_srq(struct ib_srq *ibsrq)\n \treturn container_of(ibsrq, struct hns_roce_srq, ibsrq);\n }\n \n-static inline struct hns_roce_sqp *hr_to_hr_sqp(struct hns_roce_qp *hr_qp)\n-{\n-\treturn container_of(hr_qp, struct hns_roce_sqp, hr_qp);\n-}\n-\n static inline void hns_roce_write64_k(__le32 val[2], void __iomem *dest)\n {\n \t__raw_writeq(*(u64 *) val, dest);\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v1.c b/drivers/infiniband/hw/hns/hns_roce_hw_v1.c\nindex 5f74bf55f471..bfe9cee8c969 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v1.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v1.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16a11e0bffcab729bd2e8f315e1252e7ef3ddf33"}
{"commit_hash": "ec6adad0a1e3ef3064c12146b00c2bd1e6835b0c", "short_hash": "ec6adad0a1e3", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:54+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:53-04:00", "subject": "RDMA/hns: Delete unnecessary variable max_post", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 2, "insertions": 4, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 2, "score_quality": 17, "score_community": 10, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Minor cleanup removing redundant max_post variable that duplicated wqe_cnt. Cross-org contribution from Huawei with maintainer sign-off. Well-documented with Link tag and clear explanation.", "code_snippet": "@@ -424,7 +424,6 @@ struct hns_roce_wq {\n \tu64\t\t*wrid;     /* Work request ID */\n \tspinlock_t\tlock;\n \tint\t\twqe_cnt;  /* WQE num */\n-\tu32\t\tmax_post;\n \tint\t\tmax_gs;\n \tint\t\toffset;\n \tint\t\twqe_shift;\t/* WQE size */\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_qp.c b/drivers/infiniband/hw/hns/hns_roce_qp.c\nindex 6aa27d6ea3a6..308d15b98ee0 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_qp.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_qp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec6adad0a1e3ef3064c12146b00c2bd1e6835b0c"}
{"commit_hash": "1ceb0b11a8a2363db3bf44f3e0ae4615134733e9", "short_hash": "1ceb0b11a8a2", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:08:01+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:54-04:00", "subject": "RDMA/hns: Fix non-standard error codes", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 9, "files_changed": 5, "insertions": 14, "deletions": 13, "hunks": 16, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Wenpeng Liang <liangwenpeng@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 11, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup fix replacing non-standard error codes (-1) with standard Linux error codes (-EINVAL) across 5 files in the Hisilicon RDMA driver. Limited scope within single subsystem. Good review chain with 4 sign-offs including maintainer Jason Gunthorpe. Cross-org contribution from Huawei engineers. Low user impact as this improves code quality without functional changes.", "code_snippet": "@@ -116,9 +116,9 @@ static int hns_roce_cq_alloc(struct hns_roce_dev *hr_dev, int nent,\n \thr_cq->vector = vector;\n \n \tret = hns_roce_bitmap_alloc(&cq_table->bitmap, &hr_cq->cqn);\n-\tif (ret == -1) {\n+\tif (ret) {\n \t\tdev_err(dev, \"CQ alloc.Failed to alloc index.\\n\");\n-\t\treturn -ENOMEM;\n+\t\treturn ret;\n \t}\n \n \t/* Get CQC memory HEM(Hardware Entry Memory) table */\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_mr.c b/drivers/infiniband/hw/hns/hns_roce_mr.c\nindex 577946bdd574..6589e283cc77 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_mr.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_mr.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1ceb0b11a8a2363db3bf44f3e0ae4615134733e9"}
{"commit_hash": "880f133c6026bee250220b773f556cc27bb62457", "short_hash": "880f133c6026", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:59+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:54-04:00", "subject": "RDMA/hns: Simplify doorbell initialization code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit simplifying variable initialization from 4 lines to 1 line using C99 designated initializer syntax. No functional change, no bug fix, no feature addition. Low technical impact (1 insertion, 4 deletions). High review quality with proper sign-off chain from author through maintainer Jason Gunthorpe. Cross-org contribution from Huawei (Hisilicon) accepted by Mellanox maintainer.", "code_snippet": "@@ -4944,10 +4944,7 @@ static void hns_roce_v2_init_irq_work(struct hns_roce_dev *hr_dev,\n static void set_eq_cons_index_v2(struct hns_roce_eq *eq)\n {\n \tstruct hns_roce_dev *hr_dev = eq->hr_dev;\n-\t__le32 doorbell[2];\n-\n-\tdoorbell[0] = 0;\n-\tdoorbell[1] = 0;\n+\t__le32 doorbell[2] = {};\n \n \tif (eq->type_flag == HNS_ROCE_AEQ) {\n \t\troce_set_field(doorbell[0], HNS_ROCE_V2_EQ_DB_CMD_M,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/880f133c6026bee250220b773f556cc27bb62457"}
{"commit_hash": "301cc7eb2cd9b0292658b9bfd45e5226cd1fef27", "short_hash": "301cc7eb2cd9", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:08:00+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:54-04:00", "subject": "RDMA/hns: Modify hns_roce_hw_v2_get_cfg to simplify the code", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit that simplifies hns_roce_hw_v2_get_cfg() by changing return type to void and merging configuration. Low code volume (4 insertions, 11 deletions). Cross-org collaboration (Huawei author + Mellanox maintainer). Good commit message with link and sign-offs.", "code_snippet": "@@ -6370,12 +6370,14 @@ static const struct pci_device_id hns_roce_hw_v2_pci_tbl[] = {\n \n MODULE_DEVICE_TABLE(pci, hns_roce_hw_v2_pci_tbl);\n \n-static int hns_roce_hw_v2_get_cfg(struct hns_roce_dev *hr_dev,\n+static void hns_roce_hw_v2_get_cfg(struct hns_roce_dev *hr_dev,\n \t\t\t\t  struct hnae3_handle *handle)\n {\n \tstruct hns_roce_v2_priv *priv = hr_dev->priv;\n \tint i;\n \n+\thr_dev->pci_dev = handle->pdev;\n+\thr_dev->dev = &handle->pdev->dev;\n \thr_dev->hw = &hns_roce_hw_v2;\n \thr_dev->dfx = &hns_roce_dfx_hw_v2;\n \thr_dev->sdb_offset = ROCEE_DB_SQ_L_0_REG;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/301cc7eb2cd9b0292658b9bfd45e5226cd1fef27"}
{"commit_hash": "6eef524201deaaaf980bd21b80aac1b052cd56a7", "short_hash": "6eef524201de", "author_name": "Yixing Liu", "author_email": "liuyixing1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:58+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:54-04:00", "subject": "RDMA/hns: Replace not intuitive function/macro names", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 7, "files_changed": 6, "insertions": 63, "deletions": 59, "hunks": 36, "review_chain": {"signed_off_by": ["Yixing Liu <liuyixing1@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 6, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit improving code readability by replacing non-intuitive 'sw2hw'/'hw2sw' naming with clearer 'create'/'destroy' terminology across RDMA hns driver. Affects 6 files with 122 total line changes. Strong review chain with 3 Signed-off-bys including maintainer Jason Gunthorpe. Cross-org collaboration between Huawei (@huawei.com/@hisilicon.com) and Mellanox (@mellanox.com). No functional changes, maintenance improvement only.", "code_snippet": "@@ -115,12 +115,12 @@ enum {\n \n enum {\n \t/* TPT commands */\n-\tHNS_ROCE_CMD_SW2HW_MPT\t\t= 0xd,\n-\tHNS_ROCE_CMD_HW2SW_MPT\t\t= 0xf,\n+\tHNS_ROCE_CMD_CREATE_MPT\t\t= 0xd,\n+\tHNS_ROCE_CMD_DESTROY_MPT\t= 0xf,\n \n \t/* CQ commands */\n-\tHNS_ROCE_CMD_SW2HW_CQ\t\t= 0x16,\n-\tHNS_ROCE_CMD_HW2SW_CQ\t\t= 0x17,\n+\tHNS_ROCE_CMD_CREATE_CQ\t\t= 0x16,\n+\tHNS_ROCE_CMD_DESTROY_CQ\t\t= 0x17,\n \n \t/* QP/EE commands */\n \tHNS_ROCE_CMD_RST2INIT_QP\t= 0x19,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6eef524201deaaaf980bd21b80aac1b052cd56a7"}
{"commit_hash": "d938d7856f4253f81906af0b9ca67c6a6e51cbaf", "short_hash": "d938d7856f42", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:07:57+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:54-04:00", "subject": "RDMA/hns: Modify fields of struct hns_roce_srq", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 6, "files_changed": 3, "insertions": 21, "deletions": 22, "hunks": 30, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 9, "score_impact": 11, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit renaming 'max' to 'wqe_cnt' and removing unused 'wqe_ctr' field in hns_roce SRQ structure. This is a code clarity improvement (21 insertions, 22 deletions) touching the Hisilicon RDMA driver. The maintainer (Jason Gunthorpe) signed off, and the commit has proper review chain with Link tag. Low user impact as this is internal refactoring, and no CVE or stable tag. Cross-org collaboration between Huawei (@huawei.com) and Hisilicon (@hisilicon.com) authors.", "code_snippet": "@@ -535,8 +534,8 @@ struct hns_roce_srq {\n \tspinlock_t\t\tlock;\n \tint\t\t\thead;\n \tint\t\t\ttail;\n-\tu16\t\t\twqe_ctr;\n \tstruct mutex\t\tmutex;\n+\tvoid (*event)(struct hns_roce_srq *srq, enum hns_roce_event event);\n };\n \n struct hns_roce_uar_table {\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\nindex 0883fce0e400..4700bac1c6e2 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d938d7856f4253f81906af0b9ca67c6a6e51cbaf"}
{"commit_hash": "d11769fdc1bbf6664083c0caabd9f2f864dd72ec", "short_hash": "d11769fdc1bb", "author_name": "Wenpeng Liang", "author_email": "liangwenpeng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-05T19:08:02+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-11-08T16:37:55-04:00", "subject": "RDMA/hns: Modify appropriate printings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns/"], "subsystem_tier": 5, "files_changed": 4, "insertions": 19, "deletions": 15, "hunks": 18, "review_chain": {"signed_off_by": ["Wenpeng Liang <liangwenpeng@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup commit modifying print statements for uniformity, fixing spelling errors (Creat->Create), and improving error message clarity in hns RDMA driver. 4 files changed, 34 total lines. Low technical complexity but good commit message quality explaining the cleanup purpose. Strong review chain with proper Signed-off-by chain including maintainer Jason Gunthorpe.", "code_snippet": "@@ -105,32 +105,34 @@ static int hns_roce_cq_alloc(struct hns_roce_dev *hr_dev, int nent,\n \tmtts = hns_roce_table_find(hr_dev, mtt_table,\n \t\t\t\t   hr_mtt->first_seg, &dma_handle);\n \tif (!mtts) {\n-\t\tdev_err(dev, \"CQ alloc.Failed to find cq buf addr.\\n\");\n+\t\tdev_err(dev, \"Failed to find mtt for CQ buf.\\n\");\n \t\treturn -EINVAL;\n \t}\n \n \tif (vector >= hr_dev->caps.num_comp_vectors) {\n-\t\tdev_err(dev, \"CQ alloc.Invalid vector.\\n\");\n+\t\tdev_err(dev, \"Invalid vector(0x%x) for CQ alloc.\\n\", vector);\n \t\treturn -EINVAL;\n \t}\n \thr_cq->vector = vector;\n \n \tret = hns_roce_bitmap_alloc(&cq_table->bitmap, &hr_cq->cqn);\n \tif (ret) {\n-\t\tdev_err(dev, \"CQ alloc.Failed to alloc index.\\n\");\n+\t\tdev_err(dev, \"Num of CQ out of range.\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d11769fdc1bbf6664083c0caabd9f2f864dd72ec"}
{"commit_hash": "d832a6128558503feb6ab18ac6e2cdefbc32e5a9", "short_hash": "d832a6128558", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T01:55:23Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-08T23:00:46+08:00", "subject": "crypto: amlogic - Use kmemdup in meson_aes_setkey()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/amlogic"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Corentin Labbe <clabbe@baylibre.com> (BayLibre)"], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 4, "score_quality": 10, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Simple refactoring replacing kmalloc+memcpy with kmemdup helper. Low complexity (3 lines changed), single file in crypto driver. Minor code quality improvement with proper maintainer ack (Labbe) and merge by subsystem maintainer (Xu). No functional change, no testing evidence, no stable cc.", "code_snippet": "@@ -372,10 +372,9 @@ int meson_aes_setkey(struct crypto_skcipher *tfm, const u8 *key,\n \t\tkfree(op->key);\n \t}\n \top->keylen = keylen;\n-\top->key = kmalloc(keylen, GFP_KERNEL | GFP_DMA);\n+\top->key = kmemdup(key, keylen, GFP_KERNEL | GFP_DMA);\n \tif (!op->key)\n \t\treturn -ENOMEM;\n-\tmemcpy(op->key, key, keylen);\n \n \treturn crypto_sync_skcipher_setkey(op->fallback_tfm, key, keylen);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d832a6128558503feb6ab18ac6e2cdefbc32e5a9"}
{"commit_hash": "3e90efd129593cf693d721e13f031f760d5a6343", "short_hash": "3e90efd12959", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T16:34:29+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-08T23:15:51+08:00", "subject": "hwrng: hisi - add HiSilicon TRNG driver support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 5, "files_changed": 3, "insertions": 113, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Weili Qian <qianweili@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 9, "score_impact": 16, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "New TRNG driver for HiSilicon Hi1620 SoC - 113 insertions across 3 files (Kconfig, Makefile, new driver). Hardware feature addition with proper ACPI support. Reviewed by subsystem maintainer Herbert Xu. Clean commit message with clear description and author tags.", "code_snippet": "@@ -308,6 +308,19 @@ config HW_RANDOM_HISI\n \n \t  If unsure, say Y.\n \n+config HW_RANDOM_HISI_V2\n+\ttristate \"HiSilicon True Random Number Generator V2 support\"\n+\tdepends on HW_RANDOM && ARM64 && ACPI\n+\tdefault HW_RANDOM\n+\thelp\n+\t  This driver provides kernel-side support for the True Random Number\n+\t  Generator V2 hardware found on HiSilicon Hi1620 SoC.\n+\n+\t  To compile this driver as a module, choose M here: the\n+\t  module will be called hisi-trng-v2.\n+\n+\t  If unsure, say Y.\n+\n config HW_RANDOM_ST\n \ttristate \"ST Microelectronics HW Random Number Generator support\"\n \tdepends on HW_RANDOM && ARCH_STI", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e90efd129593cf693d721e13f031f760d5a6343"}
{"commit_hash": "1e67ee9344abbbd35ee286d641461faecf43933f", "short_hash": "1e67ee9344ab", "author_name": "Zhou Wang", "author_email": "wangzhou1@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-01T20:21:49+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-08T23:15:52+08:00", "subject": "crypto: hisilicon - replace #ifdef with IS_ENABLED for CONFIG_NUMA", "primary_category": "BUG-OTHER", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "700f7d0d29c7", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 25, "deletions": 26, "hunks": 4, "review_chain": {"signed_off_by": ["Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Olof Johansson <olof@lixom.net> (Lixom)"], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 37, "score_technical": 6, "score_impact": 11, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Build fix for kbuild error replacing #ifdef with IS_ENABLED macro. Small code change (51 lines touched) in non-critical crypto driver subsystem. Maintainer endorsed with Acked-by, fixes a specific commit.", "code_snippet": "@@ -104,9 +104,8 @@ static void free_list(struct list_head *head)\n \n struct hisi_zip *find_zip_device(int node)\n {\n-\tstruct hisi_zip *ret = NULL;\n-#ifdef CONFIG_NUMA\n \tstruct hisi_zip_resource *res, *tmp;\n+\tstruct hisi_zip *ret = NULL;\n \tstruct hisi_zip *hisi_zip;\n \tstruct list_head *n;\n \tstruct device *dev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e67ee9344abbbd35ee286d641461faecf43933f"}
{"commit_hash": "6a101349f8a71ec5f9466e61f22306b68ef49600", "short_hash": "6a101349f8a7", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-10-31T16:34:30+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-08T23:15:52+08:00", "subject": "MAINTAINERS: Add maintainer for HiSilicon TRNG V2 driver", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "MAINTAINERS", "subsystems_touched": ["MAINTAINERS"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 15, "score_technical": 3, "score_impact": 1, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "MAINTAINERS file update adding Zaibo Xu as maintainer for HiSilicon TRNG V2 driver. Minimal 5-line addition documenting maintainership for drivers/char/hw_random/hisi-trng-v2.c. Signed off by Herbert Xu (crypto subsystem maintainer). Documentation change with no functional impact.", "code_snippet": "@@ -7389,6 +7389,11 @@ W:\thttp://www.hisilicon.com\n S:\tMaintained\n F:\tdrivers/net/ethernet/hisilicon/hns3/\n \n+HISILICON TRUE RANDOM NUMBER GENERATOR V2 SUPPORT\n+M:\tZaibo Xu <xuzaibo@huawei.com>\n+S:\tMaintained\n+F:\tdrivers/char/hw_random/hisi-trng-v2.c\n+\n HISILICON LPC BUS DRIVER\n M:\tjohn.garry@huawei.com\n W:\thttp://www.hisilicon.com\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a101349f8a71ec5f9466e61f22306b68ef49600"}
{"commit_hash": "d19aeb295154ae749ca8236b6b69c41c7a7b3891", "short_hash": "d19aeb295154", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T12:37:05+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:12:54Z", "subject": "iio: adc: aspeed: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 7, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Boilerplate reduction using devm_platform_ioremap_resource helper. Single file change in IIO ADC driver with positive review. Low complexity, low user impact.", "code_snippet": "@@ -173,7 +173,6 @@ static int aspeed_adc_probe(struct platform_device *pdev)\n \tstruct iio_dev *indio_dev;\n \tstruct aspeed_adc_data *data;\n \tconst struct aspeed_adc_model_data *model_data;\n-\tstruct resource *res;\n \tconst char *clk_parent_name;\n \tint ret;\n \tu32 adc_engine_control_reg_val;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d19aeb295154ae749ca8236b6b69c41c7a7b3891"}
{"commit_hash": "38877a376adf5d11c56bacd4b953050931c1bd0a", "short_hash": "38877a376adf", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T13:15:38+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:14:34Z", "subject": "iio: adc: mt6577_auxdac: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Boilerplate reduction commit using devm_platform_ioremap_resource. Minimal code change (-3/+1 lines) in IIO ADC driver. Good review chain with Reviewed-by tag from Analog.com maintainer. Clean atomic change with no functional impact. Low technical complexity, low user impact, but well-reviewed cleanup.", "code_snippet": "@@ -237,7 +237,6 @@ static int mt6577_auxadc_probe(struct platform_device *pdev)\n {\n \tstruct mt6577_auxadc_device *adc_dev;\n \tunsigned long adc_clk_rate;\n-\tstruct resource *res;\n \tstruct iio_dev *indio_dev;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/38877a376adf5d11c56bacd4b953050931c1bd0a"}
{"commit_hash": "f2d025d3f237686b1b20c323847ce6b368302b2a", "short_hash": "f2d025d3f237", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T13:18:56+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:16:31Z", "subject": "iio: adc: bcm_iproc_adc: drop a stray semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial whitespace cleanup - removing a stray semicolon found by coccinelle. Minimal code change (1 insertion, 1 deletion). Low impact as this is syntactic cleanup with no functional change. Good commit message with tool attribution and proper review chain (Reviewed-by tag).", "code_snippet": "@@ -308,7 +308,7 @@ static int iproc_adc_do_read(struct iio_dev *indio_dev,\n \t\t\t\t\"IntMask set failed. Read will likely fail.\");\n \t\t\tread_len = -EIO;\n \t\t\tgoto adc_err;\n-\t\t};\n+\t\t}\n \t}\n \tregmap_read(adc_priv->regmap, IPROC_INTERRUPT_MASK, &val_check);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2d025d3f237686b1b20c323847ce6b368302b2a"}
{"commit_hash": "46e55d065394ded9c4dd5b2396a07e5810185024", "short_hash": "46e55d065394", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T13:25:12+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:18:22Z", "subject": "iio: adc: cc10001: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 5, "score_quality": 12, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple boilerplate reduction using devm_platform_ioremap_resource() helper. Well-reviewed cleanup with proper tags (Reviewed-by, Cc). Minimal code change (-3 +1 lines) in IIO ADC driver. Non-critical subsystem.", "code_snippet": "@@ -310,7 +310,6 @@ static int cc10001_adc_probe(struct platform_device *pdev)\n \tstruct device_node *node = pdev->dev.of_node;\n \tstruct cc10001_adc_device *adc_dev;\n \tunsigned long adc_clk_rate;\n-\tstruct resource *res;\n \tstruct iio_dev *indio_dev;\n \tunsigned long channel_map;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46e55d065394ded9c4dd5b2396a07e5810185024"}
{"commit_hash": "f449aa3edd6536d03ee1ec4a4fe68c7554baf1e1", "short_hash": "f449aa3edd65", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:27:16+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:19:54Z", "subject": "iio: adc: ingenic: Use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup replacing boilerplate code with devm_platform_ioremap_resource helper. Low code volume (1 insertion, 3 deletions). Good review chain (Reviewed-by tag). Clear commit message with coccinelle script reference. Driver subsystem (tier 4). No stable tagging, low user impact.", "code_snippet": "@@ -428,7 +428,6 @@ static int ingenic_adc_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct iio_dev *iio_dev;\n \tstruct ingenic_adc *adc;\n-\tstruct resource *mem_base;\n \tconst struct ingenic_adc_soc_data *soc_data;\n \tint ret;\n ", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/f449aa3edd6536d03ee1ec4a4fe68c7554baf1e1"}
{"commit_hash": "18d031f46e9c2d9315d8eb383472f9e7b2239cbd", "short_hash": "18d031f46e9c", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:32:34+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:21:24Z", "subject": "iio: adc: lpc18xx: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Code modernization commit replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource helper. Removes 3 lines, adds 1 line. Identified by coccinelle script. Has Reviewed-by tag. IIO ADC driver is tier-4 subsystem (hardware support, not core kernel). Low impact cleanup with no functional changes.", "code_snippet": "@@ -119,7 +119,6 @@ static int lpc18xx_adc_probe(struct platform_device *pdev)\n {\n \tstruct iio_dev *indio_dev;\n \tstruct lpc18xx_adc *adc;\n-\tstruct resource *res;\n \tunsigned int clkdiv;\n \tunsigned long rate;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/18d031f46e9c2d9315d8eb383472f9e7b2239cbd"}
{"commit_hash": "08cf48c7fa0b2fee2ad547e42580a9a1904061f6", "short_hash": "08cf48c7fa0b", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:44:27+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:22:58Z", "subject": "iio: adc: npcm: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Boilerplate reduction using devm_platform_ioremap_resource helper. Very small change (1 insertion, 3 deletions) in IIO ADC driver. Good commit message with coccinelle context and Reviewed-by tag. No functional changes, no stable CC, limited impact.", "code_snippet": "@@ -183,7 +183,6 @@ static int npcm_adc_probe(struct platform_device *pdev)\n \tint irq;\n \tu32 div;\n \tu32 reg_con;\n-\tstruct resource *res;\n \tstruct npcm_adc *info;\n \tstruct iio_dev *indio_dev;\n \tstruct device *dev = &pdev->dev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/08cf48c7fa0b2fee2ad547e42580a9a1904061f6"}
{"commit_hash": "6c78cc9c4a530af6c617a7c14b5518c10bc6eadf", "short_hash": "6c78cc9c4a53", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:48:32+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:24:55Z", "subject": "iio: adc: rcar-gyroadc: use devm_platform_ioremap_resource", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 4, "score_impact": 3, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Simple refactoring to use devm_platform_ioremap_resource() helper, reducing boilerplate code. Has Reviewed-by tag indicating review. Low impact driver cleanup, not user-visible.", "code_snippet": "@@ -481,7 +481,6 @@ static int rcar_gyroadc_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct rcar_gyroadc *priv;\n \tstruct iio_dev *indio_dev;\n-\tstruct resource *mem;\n \tint ret;\n \n \tindio_dev = devm_iio_device_alloc(dev, sizeof(*priv));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6c78cc9c4a530af6c617a7c14b5518c10bc6eadf"}
{"commit_hash": "e8ad78658ecc97c7f5b6d70fc5266bc19c3bbf29", "short_hash": "e8ad78658ecc", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T16:52:39+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:26:56Z", "subject": "iio: adc: spear_adc: Use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup commit replacing manual resource handling with devm_platform_ioremap_resource helper. Small code change (-3/+1 lines) in a low-tier IIO ADC driver. Has Reviewed-by tag indicating proper review. Low user impact and novelty - this is boilerplate reduction suggested by coccinelle script.", "code_snippet": "@@ -260,7 +260,6 @@ static int spear_adc_probe(struct platform_device *pdev)\n \tstruct device_node *np = pdev->dev.of_node;\n \tstruct device *dev = &pdev->dev;\n \tstruct spear_adc_state *st;\n-\tstruct resource *res;\n \tstruct iio_dev *indio_dev = NULL;\n \tint ret = -ENODEV;\n \tint irq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8ad78658ecc97c7f5b6d70fc5266bc19c3bbf29"}
{"commit_hash": "afac22e3cf9598df1ab02973f0ea70de098250da", "short_hash": "afac22e3cf95", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T17:43:49+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:28:21Z", "subject": "iio: adc: vf610: use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small boilerplate reduction commit using devm_platform_ioremap_resource helper. Coccinelle-suggested cleanup for IIO ADC driver. Well-reviewed with Reviewed-by tag. Low impact cleanup removing local variable and simplifying resource mapping.", "code_snippet": "@@ -802,7 +802,6 @@ static int vf610_adc_probe(struct platform_device *pdev)\n {\n \tstruct vf610_adc *info;\n \tstruct iio_dev *indio_dev;\n-\tstruct resource *mem;\n \tint irq;\n \tint ret;\n ", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/afac22e3cf9598df1ab02973f0ea70de098250da"}
{"commit_hash": "29ec12e29f7f6f31f0b5b8271b0a678b08e82ec1", "short_hash": "29ec12e29f7f", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T18:14:14+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:30:17Z", "subject": "iio: dac: lpc18xx: Use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio/dac", "subsystems_touched": ["drivers/iio/dac/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 5, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small boilerplate reduction using devm_platform_ioremap_resource helper. Single subsystem (IIO DAC driver). Code review from Analog maintainer. Low impact cleanup.", "code_snippet": "@@ -106,7 +106,6 @@ static int lpc18xx_dac_probe(struct platform_device *pdev)\n {\n \tstruct iio_dev *indio_dev;\n \tstruct lpc18xx_dac *dac;\n-\tstruct resource *res;\n \tint ret;\n \n \tindio_dev = devm_iio_device_alloc(&pdev->dev, sizeof(*dac));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29ec12e29f7f6f31f0b5b8271b0a678b08e82ec1"}
{"commit_hash": "2969c51e3a201799228f03b2838f750aaca8d104", "short_hash": "2969c51e3a20", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T18:17:32+01:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-11-09T12:32:00Z", "subject": "iio: dac: vf610: Use devm_platform_ioremap_resource", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/dac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Alexandru Ardelean <alexandru.ardelean@analog.com> (Analog)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Small cleanup commit replacing manual resource mapping with devm_platform_ioremap_resource helper. Reduces boilerplate in IIO DAC driver. Low technical impact (1 line added, 3 removed). Good code review (Reviewed-by tag). Maintainer-authored commit for non-critical driver subsystem.", "code_snippet": "@@ -172,7 +172,6 @@ static int vf610_dac_probe(struct platform_device *pdev)\n {\n \tstruct iio_dev *indio_dev;\n \tstruct vf610_dac *info;\n-\tstruct resource *mem;\n \tint ret;\n \n \tindio_dev = devm_iio_device_alloc(&pdev->dev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2969c51e3a201799228f03b2838f750aaca8d104"}
{"commit_hash": "03976af89e3bd9489d542582a325892e6a8cacc0", "short_hash": "03976af89e3b", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-08T10:36:37+08:00", "committer_name": "Vignesh Raghavendra", "committer_email": "vigneshr@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-11-09T14:42:47+05:30", "subject": "mtd: cfi_cmdset_0002: don't free cfi->cfiq in error path of cfi_amdstd_setup()", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd", "subsystems_touched": ["drivers/mtd/chips/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Vignesh Raghavendra <vigneshr@ti.com> (Texas Instruments)"], "reviewed_by": ["Richard Weinberger <richard@nod.at> (Nod)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug-fix preventing double-free in MTD CFI driver. Single line removal. Has Reviewed-by tag. Cross-org contribution (Huawei to TI maintainer). MTD subsystem is moderately critical (flash memory devices). Double-free can cause memory corruption.", "code_snippet": "@@ -785,7 +785,6 @@ static struct mtd_info *cfi_amdstd_setup(struct mtd_info *mtd)\n \tkfree(mtd->eraseregions);\n \tkfree(mtd);\n \tkfree(cfi->cmdset_priv);\n-\tkfree(cfi->cfiq);\n \treturn NULL;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03976af89e3bd9489d542582a325892e6a8cacc0"}
{"commit_hash": "40ee7524722836bd5fd40d45f8ee872a41f6ea8e", "short_hash": "40ee75247228", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-10T07:22:17+01:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-10T07:22:17+01:00", "subject": "media: v4l2: Use FIELD_SIZEOF directly", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/v4l2-core", "subsystems_touched": ["drivers/media/v4l2-core"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sakari Ailus <sakari.ailus@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 36, "score_technical": 7, "score_impact": 4, "score_quality": 15, "score_community": 10, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Code modernization replacing sizeof+offsetof pattern with FIELD_SIZEOF macro. 1 line changed in media subsystem (tier 6). Low impact cleanup change. Excellent review chain: Acked-by Sakari Ailus (Intel), Signed-off-by Hans Verkuil (maintainer) and Mauro Carvalho Chehab (subsystem maintainer). Cross-org contribution from Huawei to Intel-maintained code.", "code_snippet": "@@ -2652,7 +2652,7 @@ struct v4l2_ioctl_info {\n /* Zero struct from after the field to the end */\n #define INFO_FL_CLEAR(v4l2_struct, field)\t\t\t\\\n \t((offsetof(struct v4l2_struct, field) +\t\t\t\\\n-\t  sizeof(((struct v4l2_struct *)0)->field)) << 16)\n+\t  FIELD_SIZEOF(struct v4l2_struct, field)) << 16)\n #define INFO_FL_CLEAR_MASK\t(_IOC_SIZEMASK << 16)\n \n #define DEFINE_V4L_STUB_FUNC(_vidioc)\t\t\t\t\\\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/40ee7524722836bd5fd40d45f8ee872a41f6ea8e"}
{"commit_hash": "2c542426128a4e3d247939f868d19279ad48cb1f", "short_hash": "2c542426128a", "author_name": "Daode Huang", "author_email": "huangdaode@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-10-17T16:25:29+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-10T18:47:44Z", "subject": "irqchip: Remove redundant semicolon after while", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Daode Huang <huangdaode@hisilicon.com> (HiSilicon)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 1, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing redundant semicolons after while loops found by coccicheck. Minimal code change (3 deletions, 3 insertions across 2 files in irqchip subsystem). Good commit message with tool output. Maintainer sign-off present but low technical significance.", "code_snippet": "@@ -231,7 +231,7 @@ static void gic_enable_redist(bool enable)\n \t\t\tbreak;\n \t\tcpu_relax();\n \t\tudelay(1);\n-\t};\n+\t}\n \tif (!count)\n \t\tpr_err_ratelimited(\"redistributor failed to %s...\\n\",\n \t\t\t\t   enable ? \"wakeup\" : \"sleep\");\ndiff --git a/drivers/irqchip/irq-zevio.c b/drivers/irqchip/irq-zevio.c\nindex 5a7efeb3892d..84163f1ebfcf 100644\n--- a/drivers/irqchip/irq-zevio.c\n+++ b/drivers/irqchip/irq-zevio.c", "flags": ["COCCINELLE", "TRIVIAL"], "link": "https://lore.kernel.org/linux-kernel/2c542426128a4e3d247939f868d19279ad48cb1f"}
{"commit_hash": "c69f8dbe2426cbf6150407b7e86ce85bb463c1dc", "short_hash": "c69f8dbe2426", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-11-09T11:00:08+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-10T20:29:49-07:00", "subject": "io_uring: separate the io_free_req and io_free_req_find_next interface", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 9, "files_changed": 1, "insertions": 9, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 11, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Internal refactoring of io_uring request freeing interface. Separates io_free_req into two functions for better API consistency: io_free_req() for simple cases and io_free_req_find_next() for chain handling. No functional changes per commit message. Code changes are minimal (13 lines) and isolated to fs/io_uring.c. Maintainer Jens Axboe signed off, indicating subsystem endorsement.", "code_snippet": "@@ -917,6 +917,11 @@ static void io_free_req(struct io_kiocb *req, struct io_kiocb **nxt)\n \t__io_free_req(req);\n }\n \n+static void io_free_req(struct io_kiocb *req)\n+{\n+\tio_free_req_find_next(req, NULL);\n+}\n+\n /*\n  * Drop reference to request, return next in chain (if there is one) if this\n  * was the last reference to this request.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c69f8dbe2426cbf6150407b7e86ce85bb463c1dc"}
{"commit_hash": "ec9c02ad4c3808d6d9ed28ad1d0485d6e2a33ac5", "short_hash": "ec9c02ad4c38", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-11-08T23:50:36+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-10T20:29:49-07:00", "subject": "io_uring: keep io_put_req only responsible for release and put req", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 8, "files_changed": 1, "insertions": 37, "deletions": 36, "hunks": 50, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 8, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring of io_uring request management functions. Separated io_put_req (simple release) from io_put_req_find_next (link chain handling). Cross-org contribution from KylinOS developer, signed off by maintainer Jens Axboe. Clean functional separation with no bugs or security implications.", "code_snippet": "@@ -373,7 +373,7 @@ struct io_submit_state {\n static void io_wq_submit_work(struct io_wq_work **workptr);\n static void io_cqring_fill_event(struct io_kiocb *req, long res);\n static void __io_free_req(struct io_kiocb *req);\n-static void io_put_req(struct io_kiocb *req, struct io_kiocb **nxtptr);\n+static void io_put_req(struct io_kiocb *req);\n static void io_double_put_req(struct io_kiocb *req);\n \n static struct kmem_cache *req_cachep;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec9c02ad4c3808d6d9ed28ad1d0485d6e2a33ac5"}
{"commit_hash": "a197f664a0db8a6219d9ce949f5f29b89f60fb2b", "short_hash": "a197f664a0db", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-11-08T08:09:12-07:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-10T20:29:49-07:00", "subject": "io_uring: remove passed in 'ctx' function parameter ctx if possible", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 9, "files_changed": 1, "insertions": 56, "deletions": 52, "hunks": 68, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 14, "score_impact": 8, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume: 108 lines changed (56 insertions, 52 deletions) = 5 points. Subsystem tier: fs/io_uring is critical I/O subsystem = 9 points. Category base: refactoring/cleanup = 6 points. No stable backport or user impact. Novelty: standard refactoring pattern = 1 point. Review chain: Signed-off-by author + maintainer Jens Axboe = 4 points. Commit message: clear cleanup description = 4 points. Testing: no explicit test mentioned = 0 points. Atomicity: focused single-purpose refactoring = 3 points. Cross-org: KylinOS author + Axboe maintainer = 2 points. Maintainer endorsement: Axboe signed off = 4 points.", "code_snippet": "@@ -438,20 +438,20 @@ static struct io_ring_ctx *io_ring_ctx_alloc(struct io_uring_params *p)\n \treturn NULL;\n }\n \n-static inline bool __io_sequence_defer(struct io_ring_ctx *ctx,\n-\t\t\t\t       struct io_kiocb *req)\n+static inline bool __io_sequence_defer(struct io_kiocb *req)\n {\n+\tstruct io_ring_ctx *ctx = req->ctx;\n+\n \treturn req->sequence != ctx->cached_cq_tail + ctx->cached_sq_dropped\n \t\t\t\t\t+ atomic_read(&ctx->cached_cq_overflow);\n }\n \n-static inline bool io_sequence_defer(struct io_ring_ctx *ctx,\n-\t\t\t\t     struct io_kiocb *req)\n+static inline bool io_sequence_defer(struct io_kiocb *req)\n {\n \tif ((req->flags & (REQ_F_IO_DRAIN|REQ_F_IO_DRAINED)) != REQ_F_IO_DRAIN)\n \t\treturn false;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a197f664a0db8a6219d9ce949f5f29b89f60fb2b"}
{"commit_hash": "d14e0fe39c6204f0c35d7d7da50b5727df8a3560", "short_hash": "d14e0fe39c62", "author_name": "Dehui Sun", "author_email": "dehui.sun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-28T14:09:43+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-10T21:11:58+01:00", "subject": "dt-bindings: mediatek: update bindings for MT8183 systimer", "primary_category": "DOC", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/devicetree/bindings/timer/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Dehui Sun <dehui.sun@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": ["Daniel Lezcano <daniel.lezcano@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 19, "score_technical": 3, "score_impact": 4, "score_quality": 9, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Devicetree documentation binding update adding MT8183 compatible string. Minimal change (1 line addition) to bindings document. Good review chain with Reviewed-by, Acked-by tags. Documentation change with low technical complexity.", "code_snippet": "@@ -21,6 +21,7 @@ Required properties:\n \t* \"mediatek,mt6577-timer\" for MT6577 and all above compatible timers (GPT)\n \n \tFor those SoCs that use SYST\n+\t* \"mediatek,mt8183-timer\" for MT8183 compatible timers (SYST)\n \t* \"mediatek,mt7629-timer\" for MT7629 compatible timers (SYST)\n \t* \"mediatek,mt6765-timer\" for MT6765 and all above compatible timers (SYST)\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d14e0fe39c6204f0c35d7d7da50b5727df8a3560"}
{"commit_hash": "5bc8e2875ffbc5d1679b0966d48308f3d93637d4", "short_hash": "5bc8e2875ffb", "author_name": "Dehui Sun", "author_email": "dehui.sun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-10-28T14:09:44+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-10T21:14:18+01:00", "subject": "arm64: dts: mt8183: add systimer0 device node", "primary_category": "FEAT-HW", "secondary_categories": ["DT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Dehui Sun <dehui.sun@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 14, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Device tree addition for MT8183 systimer. Simple hardware enablement adding timer device node with compatible string, register range, interrupt, and clock definitions. Maintainer-reviewed and signed-off. Low complexity (9 insertions), limited to single SoC's device tree.", "code_snippet": "@@ -269,6 +269,15 @@ pwrap: pwrap@1000d000 {\n \t\t\tclock-names = \"spi\", \"wrap\";\n \t\t};\n \n+\t\tsystimer: timer@10017000 {\n+\t\t\tcompatible = \"mediatek,mt8183-timer\",\n+\t\t\t\t     \"mediatek,mt6765-timer\";\n+\t\t\treg = <0 0x10017000 0 0x1000>;\n+\t\t\tinterrupts = <GIC_SPI 200 IRQ_TYPE_LEVEL_HIGH>;\n+\t\t\tclocks = <&topckgen CLK_TOP_CLK13M>;\n+\t\t\tclock-names = \"clk13m\";\n+\t\t};\n+\n \t\tauxadc: auxadc@11001000 {\n \t\t\tcompatible = \"mediatek,mt8183-auxadc\",\n \t\t\t\t     \"mediatek,mt8173-auxadc\";\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5bc8e2875ffbc5d1679b0966d48308f3d93637d4"}
{"commit_hash": "8f05c1ff8bfb8cbae0898e5dc6791927d1e5c503", "short_hash": "8f05c1ff8bfb", "author_name": "Zheng Yongjun", "author_email": "zhengyongjun3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-10T17:44:53+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-11T08:31:55+01:00", "subject": "perf/x86/amd: Remove set but not used variable 'active'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "perf", "subsystems_touched": ["arch/x86/events/amd"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["Zheng Yongjun <zhengyongjun3@huawei.com> (Huawei)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 9, "score_impact": 5, "score_quality": 14, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable flagged by compiler warning. Small scope (2 insertions, 11 deletions), single file in arch/x86/events/amd. Strong review chain with maintainer sign-off (Ingo Molnar). Good commit message with warning details and context. Low impact as variable was already unused.", "code_snippet": "@@ -652,15 +652,7 @@ static void amd_pmu_disable_event(struct perf_event *event)\n  */\n static int amd_pmu_handle_irq(struct pt_regs *regs)\n {\n-\tstruct cpu_hw_events *cpuc = this_cpu_ptr(&cpu_hw_events);\n-\tint active, handled;\n-\n-\t/*\n-\t * Obtain the active count before calling x86_pmu_handle_irq() since\n-\t * it is possible that x86_pmu_handle_irq() may make a counter\n-\t * inactive (through x86_pmu_stop).\n-\t */\n-\tactive = __bitmap_weight(cpuc->active_mask, X86_PMC_IDX_MAX);\n+\tint handled;\n \n \t/* Process any counter overflows */\n \thandled = x86_pmu_handle_irq(regs);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f05c1ff8bfb8cbae0898e5dc6791927d1e5c503"}
{"commit_hash": "cbfdc839ea913250bd38528408addf44b27e9e5f", "short_hash": "cbfdc839ea91", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-10-13T10:30:15+01:00", "committer_name": "Lee Jones", "committer_email": "lee.jones@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-11T08:45:02Z", "subject": "mfd: twl: Endian fixups in i2c write and read wrappers", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mfd", "subsystems_touched": ["mfd", "i2c"], "subsystem_tier": 6, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)", "Lee Jones <lee.jones@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 14, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 1, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Endian fixup in MFD I2C wrappers prevents potential data corruption on big-endian systems. Sparse static analysis identified the issue. The fix uses proper __le16 typed intermediate variables instead of casting u8* directly to u16*. Cross-org contribution from Huawei employee to Linaro maintainer. Clean atomic fix with proper review chain.", "code_snippet": "@@ -181,14 +181,18 @@ static inline int twl_i2c_read_u8(u8 mod_no, u8 *val, u8 reg) {\n }\n \n static inline int twl_i2c_write_u16(u8 mod_no, u16 val, u8 reg) {\n-\tval = cpu_to_le16(val);\n-\treturn twl_i2c_write(mod_no, (u8*) &val, reg, 2);\n+\t__le16 value;\n+\n+\tvalue = cpu_to_le16(val);\n+\treturn twl_i2c_write(mod_no, (u8 *) &value, reg, 2);\n }\n \n static inline int twl_i2c_read_u16(u8 mod_no, u16 *val, u8 reg) {\n \tint ret;\n-\tret = twl_i2c_read(mod_no, (u8*) val, reg, 2);\n-\t*val = le16_to_cpu(*val);\n+\t__le16 value;\n+\n+\tret = twl_i2c_read(mod_no, (u8 *) &value, reg, 2);\n+\t*val = le16_to_cpu(value);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cbfdc839ea913250bd38528408addf44b27e9e5f"}
{"commit_hash": "07b293c5b01483f3c65372e72e62a2ee559ce1cf", "short_hash": "07b293c5b014", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T20:56:50+08:00", "committer_name": "Thierry Reding", "committer_email": "treding@nvidia.com", "committer_company": "NVIDIA", "commit_date": "2019-11-11T14:53:05+01:00", "subject": "clk: tegra: Fix build error without CONFIG_PM_SLEEP", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "27d10d548c04", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/tegra/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thierry Reding <treding@nvidia.com> (NVIDIA)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 40, "score_technical": 8, "score_impact": 12, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Build error fix adding #ifdef CONFIG_PM_SLEEP guard around suspend/resume functions. Minimal change (2 insertions), fixes compilation when PM_SLEEP is disabled. Cross-org contribution from Huawei to NVIDIA-maintained Tegra clk subsystem. Includes Fixes tag and Reviewed-by maintainer chain.", "code_snippet": "@@ -3423,8 +3423,10 @@ static void tegra210_cpu_clock_resume(void)\n #endif\n \n static struct syscore_ops tegra_clk_syscore_ops = {\n+#ifdef CONFIG_PM_SLEEP\n \t.suspend = tegra210_clk_suspend,\n \t.resume = tegra210_clk_resume,\n+#endif\n };\n \n static struct tegra_cpu_car_ops tegra210_cpu_car_ops = {\n", "flags": ["HAS_FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/07b293c5b01483f3c65372e72e62a2ee559ce1cf"}
{"commit_hash": "2009122f1d83dd8375572661961eab1e7e86bffe", "short_hash": "2009122f1d83", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:02+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:33+01:00", "subject": "iommu/mediatek: Correct the flush_iotlb_all callback", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "4d689b619445", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Robin Murphy <robin.murphy@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 9, "score_impact": 12, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small regression fix (2 lines) for MediaTek IOMMU driver, correcting wrong TLB sync function called. Cross-org contribution from MediaTek to ARM IOM subsystem. Strong review chain with Robin Murphy's Reviewed-by and maintainer Joerg Roedel's sign-off. Includes Fixes tag.", "code_snippet": "@@ -447,7 +447,7 @@ static size_t mtk_iommu_unmap(struct iommu_domain *domain,\n \n static void mtk_iommu_flush_iotlb_all(struct iommu_domain *domain)\n {\n-\tmtk_iommu_tlb_sync(mtk_iommu_get_m4u_data());\n+\tmtk_iommu_tlb_flush_all(mtk_iommu_get_m4u_data());\n }\n \n static void mtk_iommu_iotlb_sync(struct iommu_domain *domain,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2009122f1d83dd8375572661961eab1e7e86bffe"}
{"commit_hash": "c90ae4a63541e05f77815762ddb0f7aee917b083", "short_hash": "c90ae4a63541", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:08+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Reduce the tlb flush timeout value", "primary_category": "BUG-HANG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line change reducing TLB flush timeout from 100ms to 1ms to prevent kernel hangs with interrupts disabled. High impact on system responsiveness. Cross-org review (author @mediatek.com, committer @suse.de). Clean atomic change with clear justification.", "code_snippet": "@@ -192,7 +192,7 @@ static void mtk_iommu_tlb_flush_range_sync(unsigned long iova, size_t size,\n \n \t\t/* tlb sync */\n \t\tret = readl_poll_timeout_atomic(data->base + REG_MMU_CPE_DONE,\n-\t\t\t\t\t\ttmp, tmp != 0, 10, 100000);\n+\t\t\t\t\t\ttmp, tmp != 0, 10, 1000);\n \t\tif (ret) {\n \t\t\tdev_warn(data->dev,\n \t\t\t\t \"Partial TLB flush timed out, falling back to full flush\\n\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c90ae4a63541e05f77815762ddb0f7aee917b083"}
{"commit_hash": "60829b4d00aa2f45f419ff62fb487063153a1d71", "short_hash": "60829b4d00aa", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:07+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Get rid of the pgtlock", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 22, "hunks": 10, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 5, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit removing redundant pgtlock spinlock from MediaTek IOMMU driver. Code reduction: 22 deletions, 3 insertions. IOMMU subsystem is moderately critical (tier 7). Cross-org collaboration: author from Mediatek, committer is maintainer Joerg Roedel. Good commit message explains the rationale. No CVEs, no stable tagging, no testing evidence.", "code_snippet": "@@ -101,8 +101,6 @@\n #define MTK_M4U_TO_PORT(id)\t\t((id) & 0x1f)\n \n struct mtk_iommu_domain {\n-\tspinlock_t\t\t\tpgtlock; /* lock for page table */\n-\n \tstruct io_pgtable_cfg\t\tcfg;\n \tstruct io_pgtable_ops\t\t*iop;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60829b4d00aa2f45f419ff62fb487063153a1d71"}
{"commit_hash": "1f4fd6248139b5406bb9cf1dde25dbec05f6c57e", "short_hash": "1f4fd6248139", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:06+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Move the tlb_sync into tlb_flush", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 8, "files_changed": 2, "insertions": 10, "deletions": 36, "hunks": 12, "review_chain": {"signed_off_by": ["Chao Hao <chao.hao@mediatek.com> (MediaTek)", "Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 4, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit merging tlb_add_flush_nosync and tlb_sync into single function. No functional change per commit message. Low code volume (-26 lines). IOMMU subsystem is moderately critical (hardware memory management). Maintainer Joerg Roedel signed off, indicating proper review. Clean atomic refactoring removing tlb_flush_active flag and consolidating lock handling. Not user-facing, low impact.", "code_snippet": "@@ -173,12 +173,16 @@ static void mtk_iommu_tlb_flush_all(void *cookie)\n \t}\n }\n \n-static void mtk_iommu_tlb_add_flush_nosync(unsigned long iova, size_t size,\n+static void mtk_iommu_tlb_flush_range_sync(unsigned long iova, size_t size,\n \t\t\t\t\t   size_t granule, void *cookie)\n {\n \tstruct mtk_iommu_data *data = cookie;\n+\tunsigned long flags;\n+\tint ret;\n+\tu32 tmp;\n \n \tfor_each_m4u(data) {\n+\t\tspin_lock_irqsave(&data->tlb_lock, flags);\n \t\twritel_relaxed(F_INVLD_EN1 | F_INVLD_EN0,\n \t\t\t       data->base + REG_MMU_INV_SEL);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f4fd6248139b5406bb9cf1dde25dbec05f6c57e"}
{"commit_hash": "67caf7e2b5a4701b24ef8ccc3b49f4e24f473fc8", "short_hash": "67caf7e2b5a4", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:05+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Delete the leaf in the tlb_flush", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 17, "hunks": 8, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Robin Murphy <robin.murphy@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 5, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification removing unused 'leaf' parameter from MediaTek IOMMU TLB flush operations. Single file change (drivers/iommu/mtk_iommu.c) with -17/+4 lines. Cross-org contribution from MediaTek (yong.wu@mediatek.com) with review from ARM maintainer (Robin Murphy) and merge from subsystem maintainer Joerg Roedel. Good commit message clarity, atomic change with no functional change per author.", "code_snippet": "@@ -174,8 +174,7 @@ static void mtk_iommu_tlb_flush_all(void *cookie)\n }\n \n static void mtk_iommu_tlb_add_flush_nosync(unsigned long iova, size_t size,\n-\t\t\t\t\t   size_t granule, bool leaf,\n-\t\t\t\t\t   void *cookie)\n+\t\t\t\t\t   size_t granule, void *cookie)\n {\n \tstruct mtk_iommu_data *data = cookie;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/67caf7e2b5a4701b24ef8ccc3b49f4e24f473fc8"}
{"commit_hash": "a7a04ea34e1c483d10d3e72250ff5503b1076fe3", "short_hash": "a7a04ea34e1c", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:04+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Use gather to achieve the tlb range flush", "primary_category": "FEAT-OPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 11, "score_impact": 13, "score_quality": 13, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "TLB flush optimization using iommu_gather mechanism for MediaTek IOMMU. Small code volume (12 lines). IOMMU is critical but not highest-tier subsystem. Optimization reduces TLB flush overhead by batching operations. Dual maintainer sign-off (Mediatek + Roedel) indicates good review quality. Cross-org contribution from Mediatek to mainline.", "code_snippet": "@@ -245,11 +245,9 @@ static void mtk_iommu_tlb_flush_page_nosync(struct iommu_iotlb_gather *gather,\n \t\t\t\t\t    void *cookie)\n {\n \tstruct mtk_iommu_data *data = cookie;\n-\tunsigned long flags;\n+\tstruct iommu_domain *domain = &data->m4u_dom->domain;\n \n-\tspin_lock_irqsave(&data->tlb_lock, flags);\n-\tmtk_iommu_tlb_add_flush_nosync(iova, granule, granule, true, cookie);\n-\tspin_unlock_irqrestore(&data->tlb_lock, flags);\n+\tiommu_iotlb_gather_add_page(domain, gather, iova, granule);\n }\n \n static const struct iommu_flush_ops mtk_iommu_flush_ops = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7a04ea34e1c483d10d3e72250ff5503b1076fe3"}
{"commit_hash": "da3cc91b8db403728cde03c8a95cba268d8cbf1b", "short_hash": "da3cc91b8db4", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-04T15:01:03+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-11-11T15:02:34+01:00", "subject": "iommu/mediatek: Add a new tlb_lock for tlb_flush", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "4d689b619445", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu/"], "subsystem_tier": 7, "files_changed": 2, "insertions": 23, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 17, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Race condition fix in MediaTek IOMMU TLB flush operations. Missing lock caused 'tlb_flush_active' variable to change unexpectedly, leading to random timeout warnings. HW requires tlb_flush/tlb_sync in pairs strictly. Small targeted fix adding spinlock protection to 4 TLB-related functions. Good commit message with Fixes tag, clear problem description, and solution explanation. Code volume minimal (24 lines changed). Maintainer Joerg Roedel signed off.", "code_snippet": "@@ -219,22 +219,37 @@ static void mtk_iommu_tlb_sync(void *cookie)\n static void mtk_iommu_tlb_flush_walk(unsigned long iova, size_t size,\n \t\t\t\t     size_t granule, void *cookie)\n {\n+\tstruct mtk_iommu_data *data = cookie;\n+\tunsigned long flags;\n+\n+\tspin_lock_irqsave(&data->tlb_lock, flags);\n \tmtk_iommu_tlb_add_flush_nosync(iova, size, granule, false, cookie);\n \tmtk_iommu_tlb_sync(cookie);\n+\tspin_unlock_irqrestore(&data->tlb_lock, flags);\n }\n \n static void mtk_iommu_tlb_flush_leaf(unsigned long iova, size_t size,\n \t\t\t\t     size_t granule, void *cookie)\n {\n+\tstruct mtk_iommu_data *data = cookie;\n+\tunsigned long flags;\n+\n+\tspin_lock_irqsave(&data->tlb_lock, flags);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da3cc91b8db403728cde03c8a95cba268d8cbf1b"}
{"commit_hash": "7f7f0d9c0bcbed864551012e4eb88a631fd376f9", "short_hash": "7f7f0d9c0bcb", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T18:54:34+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-11T15:11:28+01:00", "subject": "KVM: x86: get rid of odd out jump label in pdptrs_changed", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code cleanup removing unnecessary variable and goto label in KVM x86 PDPTR change detection. Single file refactor with clear maintainer review from Paolo Bonzini.", "code_snippet": "@@ -721,7 +721,6 @@ EXPORT_SYMBOL_GPL(load_pdptrs);\n bool pdptrs_changed(struct kvm_vcpu *vcpu)\n {\n \tu64 pdpte[ARRAY_SIZE(vcpu->arch.walk_mmu->pdptrs)];\n-\tbool changed = true;\n \tint offset;\n \tgfn_t gfn;\n \tint r;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f7f0d9c0bcbed864551012e4eb88a631fd376f9"}
{"commit_hash": "228fc7d76db68732677230a3c64337908fd298e3", "short_hash": "228fc7d76db6", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T18:47:02+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-11-11T16:32:22-08:00", "subject": "md: avoid invalid memory access for array sb->dev_roles", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "6a5cb53aaa4e", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 20, "deletions": 31, "hunks": 12, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["coverity-bot <keescook+coverity-bot@chromium.org> (Chromium)"]}, "score_total": 42, "score_technical": 12, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Fixes Coverity-reported memory access bug in md subsystem with array bounds validation. Adds desc_nr checks before accessing sb->dev_roles and sb->disks arrays in both super_90_load and super_1_load functions. Clean refactor introducing spare_disk bool to avoid duplicate conditions. Cross-org contribution from Huawei to Facebook maintainer.", "code_snippet": "@@ -1105,6 +1105,7 @@ static int super_90_load(struct md_rdev *rdev, struct md_rdev *refdev, int minor\n \tchar b[BDEVNAME_SIZE], b2[BDEVNAME_SIZE];\n \tmdp_super_t *sb;\n \tint ret;\n+\tbool spare_disk = true;\n \n \t/*\n \t * Calculate the position of the superblock (512byte sectors),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/228fc7d76db68732677230a3c64337908fd298e3"}
{"commit_hash": "8dab8c65d1b519aa6466dbd433b7062382d24ade", "short_hash": "8dab8c65d1b5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:20:46+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-11-11T21:58:09+01:00", "subject": "can: ifi: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/can"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": ["Simon Horman <simon.horman@netronome.com> (Netronome)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 7, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Modernization cleanup replacing deprecated platform_get_resource/devm_ioremap_resource pattern with devm_platform_ioremap_resource helper. Well-reviewed cleanup with Reviewed-by tag from community maintainer.", "code_snippet": "@@ -942,13 +942,11 @@ static int ifi_canfd_plat_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct net_device *ndev;\n \tstruct ifi_canfd_priv *priv;\n-\tstruct resource *res;\n \tvoid __iomem *addr;\n \tint irq, ret;\n \tu32 id, rev;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\taddr = devm_ioremap_resource(dev, res);\n+\taddr = devm_platform_ioremap_resource(pdev, 0);\n \tirq = platform_get_irq(pdev, 0);\n \tif (IS_ERR(addr) || irq < 0)\n \t\treturn -EINVAL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8dab8c65d1b519aa6466dbd433b7062382d24ade"}
{"commit_hash": "65725aa8829f0042db888c2b7e6cc8f1d79e7131", "short_hash": "65725aa8829f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-30T17:49:09+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-11-11T21:58:09+01:00", "subject": "can: grcan: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/can"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": ["Sean Nyekjaer <sean@geanix.com> (Geanix)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code modernization replacing platform_get_resource/devm_ioremap_resource with devm_platform_ioremap_resource. Reduces 2 lines to 1, removes local variable. Generated by coccinelle script. Low impact cleanup with proper review chain (Reviewed-by, Signed-off-by maintainer). Cross-org contribution from Huawei to Pengutronix maintainer.", "code_snippet": "@@ -1652,7 +1652,6 @@ static int grcan_setup_netdev(struct platform_device *ofdev,\n static int grcan_probe(struct platform_device *ofdev)\n {\n \tstruct device_node *np = ofdev->dev.of_node;\n-\tstruct resource *res;\n \tu32 sysid, ambafreq;\n \tint irq, err;\n \tvoid __iomem *base;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/65725aa8829f0042db888c2b7e6cc8f1d79e7131"}
{"commit_hash": "0ff8ee89624aaa74ee48a3015b4c1305b357e401", "short_hash": "0ff8ee89624a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:26:19+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-11-11T21:58:09+01:00", "subject": "can: xilinx_can: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/can", "subsystems_touched": ["drivers/net/can"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup refactoring using modern API helper. Removes 2 lines (resource variable declaration and platform_get_resource call), adds 1 line using devm_platform_ioremap_resource(). Coccinelle-detected simplification. Cross-org contribution from Huawei to CAN subsystem with maintainer sign-off. Low technical complexity but good modernization pattern.", "code_snippet": "@@ -1657,7 +1657,6 @@ MODULE_DEVICE_TABLE(of, xcan_of_match);\n  */\n static int xcan_probe(struct platform_device *pdev)\n {\n-\tstruct resource *res; /* IO mem resources */\n \tstruct net_device *ndev;\n \tstruct xcan_priv *priv;\n \tconst struct of_device_id *of_id;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ff8ee89624aaa74ee48a3015b4c1305b357e401"}
{"commit_hash": "0767bbe530c123e0945f4c4c60639005ce44fede", "short_hash": "0767bbe530c1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:27:44+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-11-11T21:58:10+01:00", "subject": "can: sun4i: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/can"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code modernization cleanup using devm_platform_ioremap_resource() helper to simplify sun4i CAN driver probe. Coccinelle-detected refactoring removing manual resource variable and combining two lines into one API call. Cross-org contribution from Huawei to CAN subsystem, signed off by maintainer Marc Kleine-Budde. Low risk cleanup with no functional changes, minimal code volume (1 insertion, 3 deletions).", "code_snippet": "@@ -771,7 +771,6 @@ static int sun4ican_remove(struct platform_device *pdev)\n static int sun4ican_probe(struct platform_device *pdev)\n {\n \tstruct device_node *np = pdev->dev.of_node;\n-\tstruct resource *mem;\n \tstruct clk *clk;\n \tvoid __iomem *addr;\n \tint err, irq;", "flags": ["COCCINELLE", "REFACTOR_NO_FUNC_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/0767bbe530c123e0945f4c4c60639005ce44fede"}
{"commit_hash": "ac9921ded292bf3e8c201387bbbc0c3e171cae26", "short_hash": "ac9921ded292", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T22:30:47+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-11-11T21:58:10+01:00", "subject": "can: rcar: use devm_platform_ioremap_resource() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/can", "subsystems_touched": ["drivers/net/can"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code simplification using devm_platform_ioremap_resource() helper. Two files in CAN driver subsystem. 2 insertions, 6 deletions. Cross-org contribution from Huawei, reviewed and signed by maintainer Marc Kleine-Budde. Low technical impact as this is pure refactoring with no functional change.", "code_snippet": "@@ -759,8 +758,7 @@ static int rcar_can_probe(struct platform_device *pdev)\n \t\tgoto fail;\n \t}\n \n-\tmem = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\taddr = devm_ioremap_resource(&pdev->dev, mem);\n+\taddr = devm_platform_ioremap_resource(pdev, 0);\n \tif (IS_ERR(addr)) {\n \t\terr = PTR_ERR(addr);\n \t\tgoto fail;\ndiff --git a/drivers/net/can/rcar/rcar_canfd.c b/drivers/net/can/rcar/rcar_canfd.c\nindex edaa1ca972c1..de59dd6aad29 100644\n--- a/drivers/net/can/rcar/rcar_canfd.c\n+++ b/drivers/net/can/rcar/rcar_canfd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac9921ded292bf3e8c201387bbbc0c3e171cae26"}
{"commit_hash": "1d4639567d970de087a893521f7f50a32740b595", "short_hash": "1d4639567d97", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T15:13:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-11T22:00:53-08:00", "subject": "mdio_bus: Fix PTR_ERR applied after initialization to constant", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "71dd6c0dff51", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 6, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 13, "score_impact": 16, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Bug fix for incorrect error handling using PTR_ERR before IS_ERR check on potentially non-error pointer. Network subsystem critical code. Includes Fixes tag and proper commit message with coccinelle report. Network maintainer Dave Miller signed off.", "code_snippet": "@@ -64,11 +64,12 @@ static int mdiobus_register_reset(struct mdio_device *mdiodev)\n \tif (mdiodev->dev.of_node)\n \t\treset = devm_reset_control_get_exclusive(&mdiodev->dev,\n \t\t\t\t\t\t\t \"phy\");\n-\tif (PTR_ERR(reset) == -ENOENT ||\n-\t    PTR_ERR(reset) == -ENOTSUPP)\n-\t\treset = NULL;\n-\telse if (IS_ERR(reset))\n-\t\treturn PTR_ERR(reset);\n+\tif (IS_ERR(reset)) {\n+\t\tif (PTR_ERR(reset) == -ENOENT || PTR_ERR(reset) == -ENOSYS)\n+\t\t\treset = NULL;\n+\t\telse\n+\t\t\treturn PTR_ERR(reset);\n+\t}\n \n \tmdiodev->reset_ctrl = reset;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1d4639567d970de087a893521f7f50a32740b595"}
{"commit_hash": "d671fa6393d6788fc65555d4643b71cb3a361f36", "short_hash": "d671fa6393d6", "author_name": "Hewenliang", "author_email": "hewenliang4@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T21:16:55-05:00", "committer_name": "Tejun Heo", "committer_email": "tj@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-12T07:33:59-08:00", "subject": "kselftests: cgroup: Avoid the reuse of fd after it is deallocated", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "5313bfe425c8", "cc_stable": false, "subsystem_prefix": "kselftests", "subsystems_touched": ["tools/testing/selftests/cgroup"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Hewenliang <hewenliang4@huawei.com> (Huawei)", "Tejun Heo <tj@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 4, "score_impact": 16, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Use-after-free bug fix in cgroup freezer selftests. Prevents misuse of closed file descriptor by setting fd=-1 after close(). Fixes tag present, cross-org contribution (Huawei->Kernel.org), signed off by maintainer Tejun Heo. Small 1-line change with clear commit message describing the bug and fix.", "code_snippet": "@@ -72,6 +72,7 @@ static int cg_prepare_for_wait(const char *cgroup)\n \tif (ret == -1) {\n \t\tdebug(\"Error: inotify_add_watch() failed\\n\");\n \t\tclose(fd);\n+\t\tfd = -1;\n \t}\n \n \treturn fd;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d671fa6393d6788fc65555d4643b71cb3a361f36"}
{"commit_hash": "b2ef81dcdf3835bd55e5f97ff30131bb327be7fa", "short_hash": "b2ef81dcdf38", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T14:33:58+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-12T10:51:11-08:00", "subject": "net: ethernet: ti: Add dependency for TI_DAVINCI_EMAC", "primary_category": "BUG-BUILD", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "99f629718272", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/ti"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 9, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig build fix adding GENERIC_ALLOCATOR dependency to resolve linker errors. Single-line change with proper Fixes tag and maintainer sign-off. Low code volume (1 insertion), targeted driver subsystem fix (tier 8). Build error affects compile-time but not runtime. Good commit message with specific error details. Maintainer Dave Miller acked.", "code_snippet": "@@ -22,6 +22,7 @@ config TI_DAVINCI_EMAC\n \tdepends on ARM && ( ARCH_DAVINCI || ARCH_OMAP3 ) || COMPILE_TEST\n \tselect TI_DAVINCI_MDIO\n \tselect PHYLIB\n+\tselect GENERIC_ALLOCATOR\n \t---help---\n \t  This driver supports TI's DaVinci Ethernet .\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2ef81dcdf3835bd55e5f97ff30131bb327be7fa"}
{"commit_hash": "7b094968ccbb55da9e9fa749bdfd9b90b57d64e5", "short_hash": "7b094968ccbb", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T14:59:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-12T10:55:41-08:00", "subject": "net: atlantic: make function 'aq_ethtool_get_priv_flags', 'aq_ethtool_set_priv_flags' static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "ea4b4d7fc106", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/aquantia/atlantic/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 4, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to two functions in atlantic network driver. Minimal code change (4 lines). Proper commit message with Fixes tag and Reported-by. Cross-org contribution from Huawei to netdev subsystem merged by maintainer David S. Miller. No stable cc, low user impact (build-time cleanup only).", "code_snippet": "@@ -703,14 +703,14 @@ static void aq_set_msg_level(struct net_device *ndev, u32 data)\n \taq_nic->msg_enable = data;\n }\n \n-u32 aq_ethtool_get_priv_flags(struct net_device *ndev)\n+static u32 aq_ethtool_get_priv_flags(struct net_device *ndev)\n {\n \tstruct aq_nic_s *aq_nic = netdev_priv(ndev);\n \n \treturn aq_nic->aq_nic_cfg.priv_flags;\n }\n \n-int aq_ethtool_set_priv_flags(struct net_device *ndev, u32 flags)\n+static int aq_ethtool_set_priv_flags(struct net_device *ndev, u32 flags)\n {\n \tstruct aq_nic_s *aq_nic = netdev_priv(ndev);\n \tstruct aq_nic_cfg_s *cfg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b094968ccbb55da9e9fa749bdfd9b90b57d64e5"}
{"commit_hash": "0ee0bbb018938addf87b54d447cc5633d2e53490", "short_hash": "0ee0bbb01893", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T14:59:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-12T10:55:41-08:00", "subject": "net: atlantic: make symbol 'aq_pm_ops' static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "8aaa112a57c1", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/aquantia/atlantic"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 7, "score_impact": 3, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to aq_pm_ops - trivial cleanup. Single file change in ethernet driver. Cross-org contribution (Huawei author, Davem maintainer). Good commit message with fixes tag and reporter.", "code_snippet": "@@ -423,7 +423,7 @@ static int aq_pm_resume_restore(struct device *dev)\n \treturn atl_resume_common(dev, true);\n }\n \n-const struct dev_pm_ops aq_pm_ops = {\n+static const struct dev_pm_ops aq_pm_ops = {\n \t.suspend = aq_pm_suspend_poweroff,\n \t.poweroff = aq_pm_suspend_poweroff,\n \t.freeze = aq_pm_freeze,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ee0bbb018938addf87b54d447cc5633d2e53490"}
{"commit_hash": "8b8371b5bad3aea1e1e4b9682066f07afe2efdea", "short_hash": "8b8371b5bad3", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T15:08:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-12T10:56:29-08:00", "subject": "cxgb4: make function 'cxgb4_mqprio_free_hw_resources' static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "2d0cb84dd973", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/chelsio/cxgb4"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 7, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a sparse warning fix that simply adds 'static' keyword to a function declaration. Minimal code impact (1 line change), driver subsystem only. Well-documented commit with Fixes tag and proper explanation from Hulk Robot report.", "code_snippet": "@@ -239,7 +239,7 @@ static int cxgb4_mqprio_alloc_hw_resources(struct net_device *dev)\n \treturn ret;\n }\n \n-void cxgb4_mqprio_free_hw_resources(struct net_device *dev)\n+static void cxgb4_mqprio_free_hw_resources(struct net_device *dev)\n {\n \tstruct port_info *pi = netdev2pinfo(dev);\n \tstruct adapter *adap = netdev2adap(dev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8b8371b5bad3aea1e1e4b9682066f07afe2efdea"}
{"commit_hash": "00929447f5758c4f64c74d0a4b40a6eb3d9df0e3", "short_hash": "00929447f575", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T20:23:59+08:00", "committer_name": "Miklos Szeredi", "committer_email": "mszeredi@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-12T11:49:04+01:00", "subject": "virtiofs: Fix old-style declaration", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/fuse"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miklos Szeredi <mszeredi@redhat.com> (Redhat)"], "reviewed_by": ["Stefan Hajnoczi <stefanha@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 9, "score_impact": 3, "score_quality": 13, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "This is a trivial cleanup commit fixing compiler warnings by reordering 'static const' to 'const static' in virtiofs driver. Low technical impact (3 insertions, 3 deletions, single file) in fs/fuse subsystem (tier 8). No functional changes. Strong review chain (Reviewed-by, Signed-off-by maintainer). Cross-org contribution (Huawei -> Red Hat maintainer).", "code_snippet": "@@ -684,12 +684,12 @@ static int virtio_fs_restore(struct virtio_device *vdev)\n }\n #endif /* CONFIG_PM_SLEEP */\n \n-const static struct virtio_device_id id_table[] = {\n+static const struct virtio_device_id id_table[] = {\n \t{ VIRTIO_ID_FS, VIRTIO_DEV_ANY_ID },\n \t{},\n };\n \n-const static unsigned int feature_table[] = {};\n+static const unsigned int feature_table[] = {};\n \n static struct virtio_driver virtio_fs_driver = {\n \t.driver.name\t\t= KBUILD_MODNAME,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/00929447f5758c4f64c74d0a4b40a6eb3d9df0e3"}
{"commit_hash": "1e86606ba05d5e6269dabb209f5406745cb5b141", "short_hash": "1e86606ba05d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T22:35:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-12T12:12:39-08:00", "subject": "ptp: ptp_clockmatrix: Fix build error", "primary_category": "BUILD", "secondary_categories": ["KCONFIG"], "cve_ids": [], "fixes_tag": "3a6ba7dc7799", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/ptp"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vincent Cheng  <vincent.cheng.xh@renesas.com> (Renesas)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 5, "score_quality": 10, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Kconfig dependency fix for PTP driver. Single-line change from 'select' to 'depends on' to resolve unmet direct dependencies warning. Has proper Fixes tag and Reviewed-by. Cross-org contribution from Huawei with maintainer sign-off.", "code_snippet": "@@ -121,7 +121,7 @@ config PTP_1588_CLOCK_KVM\n \n config PTP_1588_CLOCK_IDTCM\n \ttristate \"IDT CLOCKMATRIX as PTP clock\"\n-\tselect PTP_1588_CLOCK\n+\tdepends on PTP_1588_CLOCK\n \tdefault n\n \thelp\n \t  This driver adds support for using IDT CLOCKMATRIX(TM) as a PTP\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e86606ba05d5e6269dabb209f5406745cb5b141"}
{"commit_hash": "0b40dbcbba923b5379bd1d601edd6d51e23fe72c", "short_hash": "0b40dbcbba92", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T17:33:32+08:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-11-12T21:45:37+02:00", "subject": "KEYS: trusted: Remove set but not used variable 'keyhndl'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "00aa975bd031", "cc_stable": false, "subsystem_prefix": "security/keys", "subsystems_touched": ["security/keys/trusted-keys/"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 9, "score_impact": 2, "score_quality": 13, "score_community": 3, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix gcc warning. 2-line deletion in security subsystem. Has Fixes tag and Reviewed-by from maintainer.", "code_snippet": "@@ -585,7 +585,6 @@ static int tpm_unseal(struct tpm_buf *tb,\n \tuint32_t authhandle2 = 0;\n \tunsigned char cont = 0;\n \tuint32_t ordinal;\n-\tuint32_t keyhndl;\n \tint ret;\n \n \t/* sessions for unsealing key and data */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b40dbcbba923b5379bd1d601edd6d51e23fe72c"}
{"commit_hash": "8c39673d5474b95374df2104dc1f65205c5278b8", "short_hash": "8c39673d5474", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-12T17:30:56+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-12T22:21:33-05:00", "subject": "scsi: hisi_sas: Check sas_port before using it", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-NULL-PTR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "NULL pointer dereference fix in SCSI driver: checks sas_port before dereferencing it. Single file, small change (3 lines), critical storage subsystem. Prevents potential kernel crash. Cross-org collaboration (Hisilicon + Huawei + Oracle maintainer). Clean atomic fix with proper sign-off chain through maintainer.", "code_snippet": "@@ -974,12 +974,13 @@ static void hisi_sas_port_notify_formed(struct asd_sas_phy *sas_phy)\n \tstruct hisi_hba *hisi_hba = sas_ha->lldd_ha;\n \tstruct hisi_sas_phy *phy = sas_phy->lldd_phy;\n \tstruct asd_sas_port *sas_port = sas_phy->port;\n-\tstruct hisi_sas_port *port = to_hisi_sas_port(sas_port);\n+\tstruct hisi_sas_port *port;\n \tunsigned long flags;\n \n \tif (!sas_port)\n \t\treturn;\n \n+\tport = to_hisi_sas_port(sas_port);\n \tspin_lock_irqsave(&hisi_hba->lock, flags);\n \tport->port_attached = 1;\n \tport->id = phy->port_id;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8c39673d5474b95374df2104dc1f65205c5278b8"}
{"commit_hash": "70e8d9accd0a9165972031ff51b4f28ee8287c0f", "short_hash": "70e8d9accd0a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T22:00:58+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-12T22:21:34-05:00", "subject": "scsi: ufs: ufshcd: Remove dev_err() on platform_get_irq() failure", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 9, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a minor cleanup commit removing redundant error logging. platform_get_irq() already logs errors on failure, so the driver's additional dev_err() is unnecessary. The change was detected by coccinelle and properly reviewed by subsystem maintainer Martin K. Petersen. Very low impact as it only removes duplicate error output.", "code_snippet": "@@ -402,7 +402,6 @@ int ufshcd_pltfrm_init(struct platform_device *pdev,\n \n \tirq = platform_get_irq(pdev, 0);\n \tif (irq < 0) {\n-\t\tdev_err(dev, \"IRQ resource not available\\n\");\n \t\terr = -ENODEV;\n \t\tgoto out;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70e8d9accd0a9165972031ff51b4f28ee8287c0f"}
{"commit_hash": "63f565aa6e06d07bcf0cb7cfac82889c12c465a3", "short_hash": "63f565aa6e06", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T06:15:30Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-12T22:21:34-05:00", "subject": "scsi: csiostor: Remove set but not used variable 'rln'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/csiostor"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 7, "score_impact": 3, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix compiler warning. Minimal code change (1 insertion, 2 deletions) in SCSI driver subsystem. Proper sign-off chain from author to subsystem maintainer Martin K. Petersen. Clear commit message explaining the gcc warning and rationale. Low user impact as variable was never used since introduction.", "code_snippet": "@@ -1992,7 +1992,7 @@ static int\n csio_ln_init(struct csio_lnode *ln)\n {\n \tint rv = -EINVAL;\n-\tstruct csio_lnode *rln, *pln;\n+\tstruct csio_lnode *pln;\n \tstruct csio_hw *hw = csio_lnode_to_hw(ln);\n \n \tcsio_init_state(&ln->sm, csio_lns_uninit);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/63f565aa6e06d07bcf0cb7cfac82889c12c465a3"}
{"commit_hash": "7c0ecd40c31246a2d0de81879966436ff07505a4", "short_hash": "7c0ecd40c312", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-12T17:30:58+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-12T22:21:34-05:00", "subject": "scsi: hisi_sas: Relocate call to hisi_sas_debugfs_exit()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 9, "score_impact": 18, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "NULL pointer dereference bug fix in hisi_sas driver remove path. Relocates hisi_sas_debugfs_exit() to prevent use-after-free when debugfs_work triggers after debugfs_dir removal. Small change (3 lines) with clear description and proper maintainer chain.", "code_snippet": "@@ -3302,8 +3302,6 @@ static void hisi_sas_v3_remove(struct pci_dev *pdev)\n \tstruct hisi_hba *hisi_hba = sha->lldd_ha;\n \tstruct Scsi_Host *shost = sha->core.shost;\n \n-\thisi_sas_debugfs_exit(hisi_hba);\n-\n \tif (timer_pending(&hisi_hba->timer))\n \t\tdel_timer(&hisi_hba->timer);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c0ecd40c31246a2d0de81879966436ff07505a4"}
{"commit_hash": "547fde8b5a1923050f388caae4f76613b5a620e0", "short_hash": "547fde8b5a19", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-11-12T17:30:57+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-12T22:21:34-05:00", "subject": "scsi: hisi_sas: Return directly if init hardware failed", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "73a4925d154c", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 18, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix adding missing return statement in error path of hardware initialization. Driver subsystem (tier 8), fixes specific issue identified with Fixes tag. Good review chain with 3 sign-offs including maintainer. Concise commit message with Fixes tag. Cross-company contribution (Hisilicon to upstream).", "code_snippet": "@@ -3432,6 +3432,7 @@ static int hisi_sas_v3_resume(struct pci_dev *pdev)\n \tif (rc) {\n \t\tscsi_remove_host(shost);\n \t\tpci_disable_device(pdev);\n+\t\treturn rc;\n \t}\n \thisi_hba->hw->phys_init(hisi_hba);\n \tsas_resume_ha(sha);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/547fde8b5a1923050f388caae4f76613b5a620e0"}
{"commit_hash": "01ca4827a7481ee0f92faec05db1e7d6a5097282", "short_hash": "01ca4827a748", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-10-15T16:31:30+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-11-13T11:31:08+01:00", "subject": "PM / wakeirq: remove unnecessary parentheses", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/base/power", "subsystems_touched": ["drivers/base/power/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 3, "score_impact": 0, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cosmetic change removing unnecessary parentheses in two conditional expressions. Cross-org contribution from Huawei to Intel-maintained power management code with proper maintainer sign-off.", "code_snippet": "@@ -272,7 +272,7 @@ void dev_pm_enable_wake_irq_check(struct device *dev,\n {\n \tstruct wake_irq *wirq = dev->power.wakeirq;\n \n-\tif (!wirq || !((wirq->status & WAKE_IRQ_DEDICATED_MASK)))\n+\tif (!wirq || !(wirq->status & WAKE_IRQ_DEDICATED_MASK))\n \t\treturn;\n \n \tif (likely(wirq->status & WAKE_IRQ_DEDICATED_MANAGED)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01ca4827a7481ee0f92faec05db1e7d6a5097282"}
{"commit_hash": "3bdf364ada330e15842e1aa94f0738005d29667e", "short_hash": "3bdf364ada33", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T22:04:20+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-13T13:19:56-08:00", "subject": "clk: armada-xp: remove unused code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk", "subsystems_touched": ["drivers/clk/mvebu"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 26, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 4, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused code (26 deletions, 0 insertions). Addresses compiler warnings for unused variables in armada-xp clock driver. Maintainer (Stephen Boyd) signed off, indicating proper review. Simple removal of dead code from previous refactor. Low impact as code was already unused.", "code_snippet": "@@ -50,12 +50,6 @@ static u32 __init axp_get_tclk_freq(void __iomem *sar)\n \treturn 250000000;\n }\n \n-/* MV98DX3236 TCLK frequency is fixed to 200MHz */\n-static u32 __init mv98dx3236_get_tclk_freq(void __iomem *sar)\n-{\n-\treturn 200000000;\n-}\n-\n static const u32 axp_cpu_freqs[] __initconst = {\n \t1000000000,\n \t1066000000,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3bdf364ada330e15842e1aa94f0738005d29667e"}
{"commit_hash": "a31414e8c98dadbe0d31804804090e78ab1e0e9f", "short_hash": "a31414e8c98d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-09T11:42:26+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-13T15:03:27-08:00", "subject": "clk: tegra: Use match_string() helper to simplify the code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/tegra"], "subsystem_tier": 6, "files_changed": 1, "insertions": 4, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring to use match_string() helper instead of open-coded string search. Simplifies code from 8 lines to 4 lines in clk-emc driver. Proper sign-off chain from Huawei author to subsystem maintainer Stephen Boyd. Pure maintenance with no functional changes, low technical impact.", "code_snippet": "@@ -403,20 +403,16 @@ static int load_one_timing_from_dt(struct tegra_clk_emc *tegra,\n \t}\n \n \ttiming->parent_index = 0xff;\n-\tfor (i = 0; i < ARRAY_SIZE(emc_parent_clk_names); i++) {\n-\t\tif (!strcmp(emc_parent_clk_names[i],\n-\t\t\t    __clk_get_name(timing->parent))) {\n-\t\t\ttiming->parent_index = i;\n-\t\t\tbreak;\n-\t\t}\n-\t}\n-\tif (timing->parent_index == 0xff) {\n+\ti = match_string(emc_parent_clk_names, ARRAY_SIZE(emc_parent_clk_names),\n+\t\t\t __clk_get_name(timing->parent));\n+\tif (i < 0) {\n \t\tpr_err(\"timing %pOF: %s is not a valid parent\\n\",\n \t\t       node, __clk_get_name(timing->parent));\n \t\tclk_put(timing->parent);\n \t\treturn -EINVAL;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a31414e8c98dadbe0d31804804090e78ab1e0e9f"}
{"commit_hash": "e98042db2cb8d0b728cd76e05b9c2e1c84b7f72b", "short_hash": "e98042db2cb8", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:26+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: remove set but not used variable 'mc_shared_chmap'", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "0bde3a95eaa9", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Removing an unused variable to fix a compiler warning. This is a trivial cleanup commit with minimal code impact (1 insertion, 2 deletions). The commit has proper Fixes tag, was reviewed and signed off by both the author (Huawei) and the subsystem maintainer (Alex Deucher from AMD). The change is atomic, well-documented, and targets a non-critical subsystem (DRM/AMD GPU driver). No stable CC, no CVE, no user-facing impact beyond fixing a build warning.", "code_snippet": "@@ -1710,7 +1710,7 @@ static int gfx_v8_0_do_edc_gpr_workarounds(struct amdgpu_device *adev)\n static int gfx_v8_0_gpu_early_init(struct amdgpu_device *adev)\n {\n \tu32 gb_addr_config;\n-\tu32 mc_shared_chmap, mc_arb_ramcfg;\n+\tu32 mc_arb_ramcfg;\n \tu32 dimm00_addr_map, dimm01_addr_map, dimm10_addr_map, dimm11_addr_map;\n \tu32 tmp;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e98042db2cb8d0b728cd76e05b9c2e1c84b7f72b"}
{"commit_hash": "220ac8d1444054ade07ce14498fcda266410f90e", "short_hash": "220ac8d14440", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:25+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: remove always false comparison in 'amdgpu_atombios_i2c_process_i2c_ch'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 7, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit removing dead code (always-false comparison) that fixes a compiler warning. 5 lines removed, 0 added. GPU driver subsystem (tier 7). Cross-org contribution from Huawei to AMD. Signed by AMD maintainer Alex Deucher. Good commit message with Fixes tag and clear explanation. Low user impact as this removes unreachable code.", "code_snippet": "@@ -76,11 +76,6 @@ static int amdgpu_atombios_i2c_process_i2c_ch(struct amdgpu_i2c_chan *chan,\n \t\t}\n \t\targs.lpI2CDataOut = cpu_to_le16(out);\n \t} else {\n-\t\tif (num > ATOM_MAX_HW_I2C_READ) {\n-\t\t\tDRM_ERROR(\"hw i2c: tried to read too many bytes (%d vs 255)\\n\", num);\n-\t\t\tr = -EINVAL;\n-\t\t\tgoto done;\n-\t\t}\n \t\targs.ucRegIndex = 0;\n \t\targs.lpI2CDataOut = 0;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/220ac8d1444054ade07ce14498fcda266410f90e"}
{"commit_hash": "d1d09dc417826f5a983e0f4f212f227beeb65e29", "short_hash": "d1d09dc41782", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:24+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: remove set but not used variable 'dig'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Cross-org contribution from Huawei to AMD GPU driver with maintainer sign-off. Minimal code impact (2 deletions), well-documented with Fixes tag.", "code_snippet": "@@ -710,7 +710,6 @@ void amdgpu_atombios_dp_link_train(struct drm_encoder *encoder,\n \tstruct drm_device *dev = encoder->dev;\n \tstruct amdgpu_device *adev = dev->dev_private;\n \tstruct amdgpu_encoder *amdgpu_encoder = to_amdgpu_encoder(encoder);\n-\tstruct amdgpu_encoder_atom_dig *dig;\n \tstruct amdgpu_connector *amdgpu_connector;\n \tstruct amdgpu_connector_atom_dig *dig_connector;\n \tstruct amdgpu_atombios_dp_link_train_info dp_info;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1d09dc417826f5a983e0f4f212f227beeb65e29"}
{"commit_hash": "5bea7fedb7fe4d5e6d3ba9f385dd3619fb004ce7", "short_hash": "5bea7fedb7fe", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:23+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: remove set but not used variable 'dig_connector'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix compiler warning. Minimal code change (3 deletions), moderate subsystem importance (DRM/AMDGPU), cross-org contribution from Huawei to AMD maintainer. Good commit message with Fixes tag and clear explanation. Low impact as variable was never used.", "code_snippet": "@@ -361,7 +361,6 @@ int amdgpu_atombios_dp_get_panel_mode(struct drm_encoder *encoder,\n \t\t\t       struct drm_connector *connector)\n {\n \tstruct amdgpu_connector *amdgpu_connector = to_amdgpu_connector(connector);\n-\tstruct amdgpu_connector_atom_dig *dig_connector;\n \tint panel_mode = DP_PANEL_MODE_EXTERNAL_DP_MODE;\n \tu16 dp_bridge = amdgpu_connector_encoder_get_dp_bridge_encoder_id(connector);\n \tu8 tmp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5bea7fedb7fe4d5e6d3ba9f385dd3619fb004ce7"}
{"commit_hash": "e8b74035d8032dd8cc8fe8ff6eaecb20827227c2", "short_hash": "e8b74035d803", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:22+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: add function parameter description in 'amdgpu_gart_bind'", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding kernel-doc parameter description. 1 line insertion fixes GCC warning. Cross-org contribution from Huawei to AMD GPU subsystem. Proper review chain with maintainer sign-off. Clear commit message with Fixes tag and context.", "code_snippet": "@@ -302,6 +302,7 @@ int amdgpu_gart_map(struct amdgpu_device *adev, uint64_t offset,\n  * @pages: number of pages to bind\n  * @pagelist: pages to bind\n  * @dma_addr: DMA addresses of pages\n+ * @flags: page table entry flags\n  *\n  * Binds the requested pages to the gart page table\n  * (all asics).\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8b74035d8032dd8cc8fe8ff6eaecb20827227c2"}
{"commit_hash": "b8b721305770cf85bffbe7ce1e0dc5fb6c4fef47", "short_hash": "b8b721305770", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:21+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: add function parameter description in 'amdgpu_device_set_cg_state'", "primary_category": "DOC", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "e3ecdffac9cc", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only fix adding kernel-doc parameter description. Cross-org contribution (Huawei to AMD DRM). High code quality - clear commit message with Fixes tag, proper SOB chain, atomic change. Low technical impact as only documentation, but touches GPU subsystem which is tier-1 criticality.", "code_snippet": "@@ -1936,6 +1936,7 @@ static bool amdgpu_device_check_vram_lost(struct amdgpu_device *adev)\n  * amdgpu_device_set_cg_state - set clockgating for amdgpu device\n  *\n  * @adev: amdgpu_device pointer\n+ * @state: clockgating state (gate or ungate)\n  *\n  * The list of all the hardware IPs that make up the asic is walked and the\n  * set_clockgating_state callbacks are run.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8b721305770cf85bffbe7ce1e0dc5fb6c4fef47"}
{"commit_hash": "bae028e3e521e8cb8caf2cc16a455ce4c55f2332", "short_hash": "bae028e3e521", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-04T21:27:20+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:44-05:00", "subject": "drm/amdgpu: remove 4 set but not used variable in amdgpu_atombios_get_connector_info_from_object_table", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 17, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 9, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing 4 unused variables that triggered compiler warnings. Author from Huawei, merged by AMD maintainer Alex Deucher. Cross-org collaboration (Huawei->AMD). Simple removal of dead code, no functional change. Fix of longstanding compiler warning dating back to original amdgpu driver introduction.", "code_snippet": "@@ -338,17 +338,9 @@ bool amdgpu_atombios_get_connector_info_from_object_table(struct amdgpu_device *\n \t\tpath_size += le16_to_cpu(path->usSize);\n \n \t\tif (device_support & le16_to_cpu(path->usDeviceTag)) {\n-\t\t\tuint8_t con_obj_id, con_obj_num, con_obj_type;\n-\n-\t\t\tcon_obj_id =\n+\t\t\tuint8_t con_obj_id =\n \t\t\t    (le16_to_cpu(path->usConnObjectId) & OBJECT_ID_MASK)\n \t\t\t    >> OBJECT_ID_SHIFT;\n-\t\t\tcon_obj_num =\n-\t\t\t    (le16_to_cpu(path->usConnObjectId) & ENUM_ID_MASK)\n-\t\t\t    >> ENUM_ID_SHIFT;\n-\t\t\tcon_obj_type =\n-\t\t\t    (le16_to_cpu(path->usConnObjectId) &\n-\t\t\t     OBJECT_TYPE_MASK) >> OBJECT_TYPE_SHIFT;\n \n \t\t\t/* Skip TV/CV support */\n \t\t\tif ((le16_to_cpu(path->usDeviceTag) ==", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bae028e3e521e8cb8caf2cc16a455ce4c55f2332"}
{"commit_hash": "f5ac1595156a8b63812ed6fa0803ddf7207cced7", "short_hash": "f5ac1595156a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T12:09:28+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:45-05:00", "subject": "drm/amd/powerplay: remove set but not used variable 'threshold', 'state'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "2e112b4ae3ba", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 8, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix gcc warnings. Low code volume (-3 lines). Cross-org contribution from Huawei to AMD maintainer. Well-documented commit message with Fixes tag and Reported-by. Maintainer (Alex Deucher) signed off.", "code_snippet": "@@ -940,7 +940,7 @@ static int fiji_populate_single_graphic_level(struct pp_hwmgr *hwmgr,\n {\n \tint result;\n \t/* PP_Clocks minClocks; */\n-\tuint32_t threshold, mvdd;\n+\tuint32_t mvdd;\n \tstruct smu7_hwmgr *data = (struct smu7_hwmgr *)(hwmgr->backend);\n \tstruct phm_ppt_v1_information *table_info =\n \t\t\t(struct phm_ppt_v1_information *)(hwmgr->pptable);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f5ac1595156a8b63812ed6fa0803ddf7207cced7"}
{"commit_hash": "026674cf055f15da0fa92fbef293d5852346380d", "short_hash": "026674cf055f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-09T17:37:25+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:45-05:00", "subject": "drm/amd/display: remove set but not used variable 'ds_port'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable to fix gcc warning. Low code volume (-4 lines), single file in GPU DRM subsystem (tier 7). Cross-org contribution from Huawei to AMD maintainer. Good commit message with warning details and proper sign-offs. Atomic change with clear scope.", "code_snippet": "@@ -2910,7 +2910,6 @@ static void dp_wa_power_up_0010FA(struct dc_link *link, uint8_t *dpcd_data,\n \t\tint length)\n {\n \tint retry = 0;\n-\tunion dp_downstream_port_present ds_port = { 0 };\n \n \tif (!link->dpcd_caps.dpcd_rev.raw) {\n \t\tdo {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/026674cf055f15da0fa92fbef293d5852346380d"}
{"commit_hash": "39a502c882e5a571041bb2e2b5b2c7f883c6505d", "short_hash": "39a502c882e5", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T17:33:13+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:45-05:00", "subject": "drm/amd/display: Use static const, not const static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 4, "score_impact": 2, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor style fix moving 'static' keyword before 'const' in AMD display driver. Code volume: 1 line changed. Cross-org contribution from Huawei to AMD maintainer. Full review chain with maintainer sign-off. No functional impact, no stable CC, no CVE.", "code_snippet": "@@ -69,7 +69,7 @@\n #define DC_LOGGER \\\n \tdc->ctx->logger\n \n-const static char DC_BUILD_ID[] = \"production-build\";\n+static const char DC_BUILD_ID[] = \"production-build\";\n \n /**\n  * DOC: Overview\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/39a502c882e5a571041bb2e2b5b2c7f883c6505d"}
{"commit_hash": "4bf321c177c74f7d834956387cd74805c3098322", "short_hash": "4bf321c177c7", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T11:45:56+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:45-05:00", "subject": "drm/amd/powerplay: remove set but not used variable 'data'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "f688b614b643", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Evan Quan <evan.quan@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 8, "score_impact": 6, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. 2 deletions, 0 insertions. DRM/AMD GPU powerplay subsystem (tier 7). Cross-org contribution from Huawei to AMD maintainer. Has Reviewed-by tag and proper fixes reference. Low user impact but good commit message quality.", "code_snippet": "@@ -5252,13 +5252,11 @@ static int vega10_get_performance_level(struct pp_hwmgr *hwmgr, const struct pp_\n \t\t\t\tPHM_PerformanceLevel *level)\n {\n \tconst struct vega10_power_state *ps;\n-\tstruct vega10_hwmgr *data;\n \tuint32_t i;\n \n \tif (level == NULL || hwmgr == NULL || state == NULL)\n \t\treturn -EINVAL;\n \n-\tdata = hwmgr->backend;\n \tps = cast_const_phw_vega10_power_state(state);\n \n \ti = index > ps->performance_level_count - 1 ?\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bf321c177c74f7d834956387cd74805c3098322"}
{"commit_hash": "cb7709223b39287a020e92ff880d11d377dc53a1", "short_hash": "cb7709223b39", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T11:45:55+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:45-05:00", "subject": "drm/amd/powerplay: remove set but not used variable 'vbios_version', 'data'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Evan Quan <evan.quan@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings. Minimal code impact (4 deletions), well-documented withReviewed-by tag, cross-company contribution (Huawei to AMD). Low technical value but good commit hygiene.", "code_snippet": "@@ -4225,7 +4225,6 @@ static int smu7_check_mc_firmware(struct pp_hwmgr *hwmgr)\n {\n \tstruct smu7_hwmgr *data = (struct smu7_hwmgr *)(hwmgr->backend);\n \n-\tuint32_t vbios_version;\n \tuint32_t tmp;\n \n \t/* Read MC indirect register offset 0x9F bits [3:0] to see", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cb7709223b39287a020e92ff880d11d377dc53a1"}
{"commit_hash": "472b36a2ab67880e89d6b0cd0e243830e8cb75e1", "short_hash": "472b36a2ab67", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T20:44:34+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amd/powerplay: remove set but not used variable 'us_mvdd'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "ac7822b0026f", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 4, "score_quality": 14, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in AMD GPU powerplay driver. Single file, 12 deletions. Cross-org contribution (Huawei author, AMD maintainer commit). Good commit message with Fixes tag. Low impact but well-reviewed.", "code_snippet": "@@ -1114,7 +1114,6 @@ static int vegam_populate_smc_acpi_level(struct pp_hwmgr *hwmgr,\n \t\t\t(struct phm_ppt_v1_information *)(hwmgr->pptable);\n \tSMIO_Pattern vol_level;\n \tuint32_t mvdd;\n-\tuint16_t us_mvdd;\n \n \ttable->ACPILevel.Flags &= ~PPSMC_SWSTATE_FLAG_DC;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/472b36a2ab67880e89d6b0cd0e243830e8cb75e1"}
{"commit_hash": "9e089a29c696d86d26e79737bafbce94738fb462", "short_hash": "9e089a29c696", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T20:44:31+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amdgpu: remove set but not used variable 'invalid'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "5ae0283e831a", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/amdgpu"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Cross-org contribution from Huawei to AMD GPU subsystem with maintainer sign-off. Low code volume (2 insertions, 2 deletions) and minimal impact.", "code_snippet": "@@ -1662,10 +1662,10 @@ int amdgpu_amdkfd_evict_userptr(struct kgd_mem *mem,\n \t\t\t\tstruct mm_struct *mm)\n {\n \tstruct amdkfd_process_info *process_info = mem->process_info;\n-\tint invalid, evicted_bos;\n+\tint evicted_bos;\n \tint r = 0;\n \n-\tinvalid = atomic_inc_return(&mem->invalid);\n+\tatomic_inc(&mem->invalid);\n \tevicted_bos = atomic_inc_return(&process_info->evicted_bos);\n \tif (evicted_bos == 1) {\n \t\t/* First eviction, stop the queues */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e089a29c696d86d26e79737bafbce94738fb462"}
{"commit_hash": "a1bd079fca6219e18bb0892f0a7228a76dd6292c", "short_hash": "a1bd079fca62", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T20:44:30+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amdgpu: remove set but not used variable 'count'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "e42051d2133b", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdkfd"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 1, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Very low code volume (2 insertions, 2 deletions). Cross-org contribution from Huawei author with AMD maintainer sign-off. Good commit message with Fixes tag.", "code_snippet": "@@ -742,7 +742,7 @@ int kgd2kfd_pre_reset(struct kfd_dev *kfd)\n \n int kgd2kfd_post_reset(struct kfd_dev *kfd)\n {\n-\tint ret, count;\n+\tint ret;\n \n \tif (!kfd->init_complete)\n \t\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1bd079fca6219e18bb0892f0a7228a76dd6292c"}
{"commit_hash": "4f2922d12d6c63d0f4aa4e859ad95aee6d0d4ea0", "short_hash": "4f2922d12d6c", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T20:44:29+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amdgpu: remove set but not used variable 'amdgpu_connector'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "d38ceaf99ed0", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 1, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. 2-line deletion in GPU driver. Cross-org contribution from Huawei to AMD maintainer. Well-documented with Fixes tag.", "code_snippet": "@@ -690,7 +690,6 @@ bool amdgpu_display_crtc_scaling_mode_fixup(struct drm_crtc *crtc,\n \tstruct amdgpu_crtc *amdgpu_crtc = to_amdgpu_crtc(crtc);\n \tstruct amdgpu_encoder *amdgpu_encoder;\n \tstruct drm_connector *connector;\n-\tstruct amdgpu_connector *amdgpu_connector;\n \tu32 src_v = 1, dst_v = 1;\n \tu32 src_h = 1, dst_h = 1;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f2922d12d6c63d0f4aa4e859ad95aee6d0d4ea0"}
{"commit_hash": "747a397d394fac0001e4b3c03d7dce3a118af567", "short_hash": "747a397d394f", "author_name": "yu kuai", "author_email": "yukuai3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T20:44:28+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amdgpu: remove set but not used variable 'mc_shared_chmap' from 'gfx_v6_0.c' and 'gfx_v7_0.c'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["yu kuai <yukuai3@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 2, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix gcc warnings. Low code volume (2 insertions, 4 deletions across 2 files). DRM/AMDGPU subsystem is driver-tier (tier 6). Cross-org contribution from Huawei author (yukuai3@huawei.com) with AMD maintainer (Alex Deucher) sign-off. Good commit message with proper Fixes tags and warning details. Strong review chain (author + maintainer sign-off). Atomic cleanup with no testing needed.", "code_snippet": "@@ -1678,7 +1678,6 @@ static void gfx_v6_0_constants_init(struct amdgpu_device *adev)\n \n \tWREG32(mmBIF_FB_EN, BIF_FB_EN__FB_READ_EN_MASK | BIF_FB_EN__FB_WRITE_EN_MASK);\n \n-\tmc_shared_chmap = RREG32(mmMC_SHARED_CHMAP);\n \tadev->gfx.config.mc_arb_ramcfg = RREG32(mmMC_ARB_RAMCFG);\n \tmc_arb_ramcfg = adev->gfx.config.mc_arb_ramcfg;\n \ndiff --git a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c\nindex 791ba398f007..58b7ef97bff5 100644\n--- a/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c\n+++ b/drivers/gpu/drm/amd/amdgpu/gfx_v7_0.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/747a397d394fac0001e4b3c03d7dce3a118af567"}
{"commit_hash": "025916c914d1efe1e077759d34e4bde25f10ae80", "short_hash": "025916c914d1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T10:10:50+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-13T15:29:46-05:00", "subject": "drm/amd/display: remove set but not used variable 'bpc'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/display"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 15, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 3, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing dead code (unused variable 'bpc' and get_color_depth function) that became obsolete after commit e49f69363adf. Low technical impact (15 deletions, single file in drm/amd/display) but high code quality with excellent commit message explaining the warning, root cause, and referencing the commit that made the code unused. Cross-org contribution from Huawei author with AMD maintainer sign-off.", "code_snippet": "@@ -2638,28 +2638,13 @@ static struct fixed31_32 get_pbn_per_slot(struct dc_stream_state *stream)\n \treturn dc_fixpt_div_int(mbytes_per_sec, 54);\n }\n \n-static int get_color_depth(enum dc_color_depth color_depth)\n-{\n-\tswitch (color_depth) {\n-\tcase COLOR_DEPTH_666: return 6;\n-\tcase COLOR_DEPTH_888: return 8;\n-\tcase COLOR_DEPTH_101010: return 10;\n-\tcase COLOR_DEPTH_121212: return 12;\n-\tcase COLOR_DEPTH_141414: return 14;\n-\tcase COLOR_DEPTH_161616: return 16;\n-\tdefault: return 0;\n-\t}\n-}\n-\n static struct fixed31_32 get_pbn_from_timing(struct pipe_ctx *pipe_ctx)\n {\n-\tuint32_t bpc;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/025916c914d1efe1e077759d34e4bde25f10ae80"}
{"commit_hash": "a0d4c7eb71dd08a89ad631177bb0cbbabd598f84", "short_hash": "a0d4c7eb71dd", "author_name": "Chaotian Jing", "author_email": "chaotian.jing@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-05T15:53:18+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-13T16:10:16+01:00", "subject": "mmc: block: Add CMD13 polling for MMC IOCTLS with R1B response", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/core/block.c"], "subsystem_tier": 6, "files_changed": 1, "insertions": 55, "deletions": 92, "hunks": 10, "review_chain": {"signed_off_by": ["Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 17, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 5, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit fixes a race condition in MMC block IOCTL handling where R1B responses could leave the card in busy state. The commit adds CMD13 polling to verify card returns to transfer state before completing requests. Code refactoring consolidates duplicate polling logic. Stable CC indicates user-facing impact. Cross-org contribution from Mediatek with maintainer sign-off.", "code_snippet": "@@ -408,38 +408,6 @@ static int mmc_blk_ioctl_copy_to_user(struct mmc_ioc_cmd __user *ic_ptr,\n \treturn 0;\n }\n \n-static int ioctl_rpmb_card_status_poll(struct mmc_card *card, u32 *status,\n-\t\t\t\t       u32 retries_max)\n-{\n-\tint err;\n-\tu32 retry_count = 0;\n-\n-\tif (!status || !retries_max)\n-\t\treturn -EINVAL;\n-\n-\tdo {\n-\t\terr = __mmc_send_status(card, status, 5);\n-\t\tif (err)\n-\t\t\tbreak;\n-\n-\t\tif (!R1_STATUS(*status) &&\n-\t\t\t\t(R1_CURRENT_STATE(*status) != R1_STATE_PRG))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0d4c7eb71dd08a89ad631177bb0cbbabd598f84"}
{"commit_hash": "3869468e0c4800af52bfe1e0b72b338dcdae2cfc", "short_hash": "3869468e0c48", "author_name": "Chaotian Jing", "author_email": "chaotian.jing@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-05T15:53:17+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-13T16:10:16+01:00", "subject": "mmc: block: Make card_busy_detect() a bit more generic", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/mmc", "subsystems_touched": ["drivers/mmc/core/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 10, "review_chain": {"signed_off_by": ["Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 9, "score_quality": 12, "score_community": 5, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 3, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 1, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Refactoring commit making card_busy_detect() more generic by removing struct request parameter and converting pr_err to dev_err. Low code volume (16 lines changed), maintenance category. Reviewed-by tag present, CC'd to stable, cross-org contribution (MediaTek to Linaro maintainer). Clean atomic change preparing for future users.", "code_snippet": "@@ -1006,9 +1006,9 @@ static int card_busy_detect(struct mmc_card *card, unsigned int timeout_ms,\n \t\t * leaves the program state.\n \t\t */\n \t\tif (done) {\n-\t\t\tpr_err(\"%s: Card stuck in wrong state! %s %s status: %#x\\n\",\n-\t\t\t\tmmc_hostname(card->host),\n-\t\t\t\treq->rq_disk->disk_name, __func__, status);\n+\t\t\tdev_err(mmc_dev(card->host),\n+\t\t\t\t\"Card stuck in wrong state! %s status: %#x\\n\",\n+\t\t\t\t __func__, status);\n \t\t\treturn -ETIMEDOUT;\n \t\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3869468e0c4800af52bfe1e0b72b338dcdae2cfc"}
{"commit_hash": "38413ce39a4bd908c02257cd2f9e0c92b27886f4", "short_hash": "38413ce39a4b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-04T17:44:20+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-11-13T16:10:16+01:00", "subject": "mmc: sdhci-pci: Make function amd_sdhci_reset static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mmc", "subsystems_touched": ["drivers/mmc/host/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Adrian Hunter <adrian.hunter@intel.com> (Intel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix changing function declaration from global to static scope. Minimal code change (1 line). Cross-org contribution from Huawei with maintainer Ack. Good commit message with reporter attribution. MMC subsystem is mid-tier (driver subsystem, not core kernel).", "code_snippet": "@@ -1596,7 +1596,7 @@ static u32 sdhci_read_present_state(struct sdhci_host *host)\n \treturn sdhci_readl(host, SDHCI_PRESENT_STATE);\n }\n \n-void amd_sdhci_reset(struct sdhci_host *host, u8 mask)\n+static void amd_sdhci_reset(struct sdhci_host *host, u8 mask)\n {\n \tstruct sdhci_pci_slot *slot = sdhci_priv(host);\n \tstruct pci_dev *pdev = slot->chip->pdev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/38413ce39a4bd908c02257cd2f9e0c92b27886f4"}
{"commit_hash": "d273fa919c39223a1edd968e82ea88501b63d21a", "short_hash": "d273fa919c39", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T21:48:38+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:04+11:00", "subject": "powerpc/pseries: Use correct event modifier in rtas_parse_epow_errlog()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/pseries/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Tyrel Datwyler <tyreld@linux.ibm.com> (IBM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix in powerpc platform code - passing wrong variable to handle_system_shutdown() could cause incorrect system shutdown behavior. Small targeted fix with proper review (Reviewed-by, Signed-off-by, maintainer merge). Cross-company contribution from Huawei to IBM-maintained subsystem.", "code_snippet": "@@ -255,7 +255,7 @@ static void rtas_parse_epow_errlog(struct rtas_error_log *log)\n \t\tbreak;\n \n \tcase EPOW_SYSTEM_SHUTDOWN:\n-\t\thandle_system_shutdown(epow_log->event_modifier);\n+\t\thandle_system_shutdown(modifier);\n \t\tbreak;\n \n \tcase EPOW_SYSTEM_HALT:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d273fa919c39223a1edd968e82ea88501b63d21a"}
{"commit_hash": "090d5ab93d0b8a079dd516c16649bd00ba4f7302", "short_hash": "090d5ab93d0b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-11-29T13:35:18Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:04+11:00", "subject": "powerpc/64s: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/kernel/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 14, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code volume: 14 insertions, 10 deletions (3 points). Subsystem: powerpc kernel is architecture-specific (tier 5, 5 points). Category: MAINT-CLEANUP base 2 points. Review chain: Author + maintainer sign-off (2 points). Message quality: Excellent with cocci script reference and rationale (5 points). Atomicity: Single coherent change (3 points). Cross-org: Huawei author, PowerPC maintainer merged (4 points). Maintainer: Michael Ellerman signed off (4 points).", "code_snippet": "@@ -94,13 +94,14 @@ static int barrier_nospec_get(void *data, u64 *val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(fops_barrier_nospec,\n-\t\t\tbarrier_nospec_get, barrier_nospec_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(fops_barrier_nospec, barrier_nospec_get,\n+\t\t\t barrier_nospec_set, \"%llu\\n\");\n \n static __init int barrier_nospec_debugfs_init(void)\n {\n-\tdebugfs_create_file(\"barrier_nospec\", 0600, powerpc_debugfs_root, NULL,\n-\t\t\t    &fops_barrier_nospec);\n+\tdebugfs_create_file_unsafe(\"barrier_nospec\", 0600,\n+\t\t\t\t   powerpc_debugfs_root, NULL,\n+\t\t\t\t   &fops_barrier_nospec);\n \treturn 0;\n }\n device_initcall(barrier_nospec_debugfs_init);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/090d5ab93d0b8a079dd516c16649bd00ba4f7302"}
{"commit_hash": "bfa2325e5b8b800cc6720cad8d2f066cd0136bee", "short_hash": "bfa2325e5b8b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-25T02:44:36Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:05+11:00", "subject": "powerpc/powernv/npu: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 2, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Coccinelle-generated cleanup replacing DEFINE_SIMPLE_ATTRIBUTE with DEFINE_DEBUGFS_ATTRIBUTE for debugfs files. Minor code volume (4 insertions, 4 deletions). Cross-org contribution (Huawei author, PowerPC maintainer merged). Good commit message with rationale. Clean atomic change.", "code_snippet": "@@ -3086,8 +3086,8 @@ static int pnv_pci_diag_data_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(pnv_pci_diag_data_fops, NULL,\n-\t\t\tpnv_pci_diag_data_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(pnv_pci_diag_data_fops, NULL, pnv_pci_diag_data_set,\n+\t\t\t \"%llu\\n\");\n \n #endif /* CONFIG_DEBUG_FS */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bfa2325e5b8b800cc6720cad8d2f066cd0136bee"}
{"commit_hash": "bc75e5438488edef80d952d1146701f872092750", "short_hash": "bc75e5438488", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T21:17:33+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:06+11:00", "subject": "powerpc/powernv: Make some symbols static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/powernv/"], "subsystem_tier": 4, "files_changed": 3, "insertions": 4, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 5, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' to 4 symbols in powerpc powernv platform code. Low complexity (4 insertions/deletions), tier 4 subsystem (architecture-specific), cleanup category base score (2). Strong review chain with maintainer sign-off. Good commit message with clear sparse warning citations. Atomic changes, no functional impact.", "code_snippet": "@@ -13,11 +13,11 @@\n \n #include <asm/opal.h>\n \n-DEFINE_MUTEX(psr_mutex);\n+static DEFINE_MUTEX(psr_mutex);\n \n static struct kobject *psr_kobj;\n \n-struct psr_attr {\n+static struct psr_attr {\n \tu32 handle;\n \tstruct kobj_attribute attr;\n } *psr_attrs;\ndiff --git a/arch/powerpc/platforms/powernv/opal-sensor-groups.c b/arch/powerpc/platforms/powernv/opal-sensor-groups.c\nindex 31f13c13275f..f8ae1fb0c102 100644\n--- a/arch/powerpc/platforms/powernv/opal-sensor-groups.c\n+++ b/arch/powerpc/platforms/powernv/opal-sensor-groups.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc75e5438488edef80d952d1146701f872092750"}
{"commit_hash": "42974f357dbf05d649ff62719de21995e7cfee79", "short_hash": "42974f357dbf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T13:39:50Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:06+11:00", "subject": "powerpc/pseries: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/pseries"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 3, "score_quality": 8, "score_community": 10, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Coccinelle-generated cleanup removing redundant .owner field from platform_driver. 1-line deletion, low complexity. Cross-org contribution from Huawei to powerpc subsystem, signed by maintainer Michael Ellerman.", "code_snippet": "@@ -513,7 +513,6 @@ static struct platform_driver papr_scm_driver = {\n \t.remove = papr_scm_remove,\n \t.driver = {\n \t\t.name = \"papr_scm\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = papr_scm_match,\n \t},\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42974f357dbf05d649ff62719de21995e7cfee79"}
{"commit_hash": "93a1544ad4ec4bd9147992e57b4f834ceb2cc159", "short_hash": "93a1544ad4ec", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T23:01:34+11:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:06+11:00", "subject": "powerpc/configs: remove obsolete CONFIG_INET_XFRM_MODE_* and CONFIG_INET6_XFRM_MODE_*", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["powerpc/configs"], "subsystem_tier": 6, "files_changed": 43, "insertions": 0, "deletions": 126, "hunks": 88, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 7, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINT-CLEANUP commit removing obsolete Kconfig options from 43 powerpc defconfig files. Config options were removed in upstream commit 4c145dce2601. Simple deletion-only change across similar files. Maintainer (Michael Ellerman) extracted and signed off. No code complexity, no cross-subsystem impact, minimal user impact.", "code_snippet": "@@ -51,11 +51,9 @@ CONFIG_IP_PNP_BOOTP=y\n CONFIG_IP_PNP_RARP=y\n CONFIG_NET_IPIP=y\n CONFIG_SYN_COOKIES=y\n-# CONFIG_INET_XFRM_MODE_BEET is not set\n CONFIG_INET6_AH=m\n CONFIG_INET6_ESP=m\n CONFIG_INET6_IPCOMP=m\n-# CONFIG_INET6_XFRM_MODE_BEET is not set\n # CONFIG_IPV6_SIT is not set\n CONFIG_IPV6_TUNNEL=m\n CONFIG_NETFILTER=y\ndiff --git a/arch/powerpc/configs/chrp32_defconfig b/arch/powerpc/configs/chrp32_defconfig\nindex 9ff493dd8439..502a75d49789 100644\n--- a/arch/powerpc/configs/chrp32_defconfig\n+++ b/arch/powerpc/configs/chrp32_defconfig", "flags": [], "link": "https://lore.kernel.org/linux-kernel/93a1544ad4ec4bd9147992e57b4f834ceb2cc159"}
{"commit_hash": "11dd34f3eae5a468013bb161a1dcf1fecd2ca321", "short_hash": "11dd34f3eae5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T12:56:44Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:06+11:00", "subject": "powerpc/pseries: Drop pointless static qualifier in vpa_debugfs_init()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "c6c26fb55e8e", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/pseries"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Daniel Axtens <dja@axtens.net> (Axtens)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 3, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unnecessary static qualifier. Single line change in arch-specific code. Low technical impact but good review chain with Reviewed-by tag and maintainer sign-off.", "code_snippet": "@@ -2000,7 +2000,7 @@ static int __init vpa_debugfs_init(void)\n {\n \tchar name[16];\n \tlong i;\n-\tstatic struct dentry *vpa_dir;\n+\tstruct dentry *vpa_dir;\n \n \tif (!firmware_has_feature(FW_FEATURE_SPLPAR))\n \t\treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11dd34f3eae5a468013bb161a1dcf1fecd2ca321"}
{"commit_hash": "35a5c328fcf3493c5adf333d34c1ca6953fe372d", "short_hash": "35a5c328fcf3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-23T21:44:23+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:07+11:00", "subject": "powerpc/spufs: remove set but not used variable 'ctx'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "67cba9fd6456", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/cell/spufs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable in powerpc spufs subsystem. Well-documented with historical reference. Maintainer-signed. Minimal code impact (2 deletions). No user impact or testing evidence.", "code_snippet": "@@ -198,14 +198,12 @@ static int spufs_fill_dir(struct dentry *dir,\n \n static int spufs_dir_close(struct inode *inode, struct file *file)\n {\n-\tstruct spu_context *ctx;\n \tstruct inode *parent;\n \tstruct dentry *dir;\n \tint ret;\n \n \tdir = file->f_path.dentry;\n \tparent = d_inode(dir->d_parent);\n-\tctx = SPUFS_I(d_inode(dir))->i_ctx;\n \n \tinode_lock_nested(parent, I_MUTEX_PARENT);\n \tret = spufs_rmdir(parent, dir);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35a5c328fcf3493c5adf333d34c1ca6953fe372d"}
{"commit_hash": "c312d14e19bb7ca8214ef661d9a125cd631528cb", "short_hash": "c312d14e19bb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:18:18+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T16:58:07+11:00", "subject": "powerpc/powernv/ioda: using kfree_rcu() to simplify the code", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/powernv/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 9, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 7, "score_impact": 2, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Simple RCU cleanup replacing call_rcu() + callback with kfree_rcu(). Low code volume (-8 lines). Low impact maintenance refactoring. Well-reviewed (maintainer signed off). Good commit message explains the simplification.", "code_snippet": "@@ -340,14 +340,6 @@ long pnv_pci_ioda2_table_alloc_pages(int nid, __u64 bus_offset,\n \treturn -ENOMEM;\n }\n \n-static void pnv_iommu_table_group_link_free(struct rcu_head *head)\n-{\n-\tstruct iommu_table_group_link *tgl = container_of(head,\n-\t\t\tstruct iommu_table_group_link, rcu);\n-\n-\tkfree(tgl);\n-}\n-\n void pnv_pci_unlink_table_and_group(struct iommu_table *tbl,\n \t\tstruct iommu_table_group *table_group)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c312d14e19bb7ca8214ef661d9a125cd631528cb"}
{"commit_hash": "eb0d21637f893b545a320595e8b3ebef5b819433", "short_hash": "eb0d21637f89", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T20:11:32-08:00", "committer_name": "Darrick J. Wong", "committer_email": "darrick.wong@oracle.com", "committer_company": "Oracle", "commit_date": "2019-11-13T18:22:41-08:00", "subject": "xfs: remove duplicated include from xfs_dir2_data.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/xfs"], "subsystem_tier": 9, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "reviewed_by": ["Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 9, "score_impact": 1, "score_quality": 7, "score_community": 3, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing duplicate include. 1 line deletion, Reviewed-by maintainer. No functional change, no user impact, low complexity.", "code_snippet": "@@ -18,7 +18,6 @@\n #include \"xfs_trans.h\"\n #include \"xfs_buf_item.h\"\n #include \"xfs_log.h\"\n-#include \"xfs_dir2_priv.h\"\n \n static xfs_failaddr_t xfs_dir2_data_freefind_verify(\n \t\tstruct xfs_dir2_data_hdr *hdr, struct xfs_dir2_data_free *bf,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb0d21637f893b545a320595e8b3ebef5b819433"}
{"commit_hash": "8054df0570588e22007a8be6fa7615462389f27f", "short_hash": "8054df057058", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:35+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:24+11:00", "subject": "powerpc: unify definition of M_IF_NEEDED", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/"], "subsystem_tier": 6, "files_changed": 4, "insertions": 14, "deletions": 29, "hunks": 12, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 9, "score_impact": 5, "score_quality": 17, "score_community": 7, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code consolidation refactor moving duplicated M_IF_NEEDED macro definition to common header (mmu-book3e.h) with rename to MAS2_M_IF_NEEDED. 4 files touched: 1 header addition, 3 assembly files removing duplicates. Net -15 lines (14 insertions, 29 deletions). Strong review chain with Reviewed-by tags from Christophe Leroy and Diana Craciun plus Tested-by. Cross-org collaboration (Huawei author, C-S.fr reviewer, NXP tester/reviewer, Buserror maintainer). PowerPC architecture-specific TLB mapping code, tier-6 subsystem.", "code_snippet": "@@ -221,6 +221,16 @@\n #define TLBILX_T_CLASS2\t\t\t6\n #define TLBILX_T_CLASS3\t\t\t7\n \n+/*\n+ * The mapping only needs to be cache-coherent on SMP, except on\n+ * Freescale e500mc derivatives where it's also needed for coherent DMA.\n+ */\n+#if defined(CONFIG_SMP) || defined(CONFIG_PPC_E500MC)\n+#define MAS2_M_IF_NEEDED\tMAS2_M\n+#else\n+#define MAS2_M_IF_NEEDED\t0\n+#endif\n+\n #ifndef __ASSEMBLY__\n #include <asm/bug.h>\n \ndiff --git a/arch/powerpc/kernel/exceptions-64e.S b/arch/powerpc/kernel/exceptions-64e.S\nindex 829950b96d29..e4076e3c072d 100644\n--- a/arch/powerpc/kernel/exceptions-64e.S", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8054df0570588e22007a8be6fa7615462389f27f"}
{"commit_hash": "4ed47dbefa299d7b36944f6d4001ee83612dd680", "short_hash": "4ed47dbefa29", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:36+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:28+11:00", "subject": "powerpc: move memstart_addr and kernstart_addr to init-common.c", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["powerpc/mm"], "subsystem_tier": 6, "files_changed": 3, "insertions": 5, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 7, "score_quality": 17, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 7, "C2_commit_message": 4, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Code consolidation refactoring: moves duplicate memstart_addr and kernstart_addr definitions from init_32.c and init_64.c to shared init-common.c, adds __ro_after_init hardening. Small diff (15 lines), architecture-specific memory management code. Strong review chain (4 Signed-off-by including 2 external maintainers), tested by NXP, cross-org collaboration (Huawei author, NPP/C-S.fr reviews). Maintenance work with modest impact but high quality indicators.", "code_snippet": "@@ -21,6 +21,11 @@\n #include <asm/pgtable.h>\n #include <asm/kup.h>\n \n+phys_addr_t memstart_addr __ro_after_init = (phys_addr_t)~0ull;\n+EXPORT_SYMBOL_GPL(memstart_addr);\n+phys_addr_t kernstart_addr __ro_after_init;\n+EXPORT_SYMBOL_GPL(kernstart_addr);\n+\n static bool disable_kuep = !IS_ENABLED(CONFIG_PPC_KUEP);\n static bool disable_kuap = !IS_ENABLED(CONFIG_PPC_KUAP);\n \ndiff --git a/arch/powerpc/mm/init_32.c b/arch/powerpc/mm/init_32.c\nindex b04896a88d79..872df48ae41b 100644\n--- a/arch/powerpc/mm/init_32.c\n+++ b/arch/powerpc/mm/init_32.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4ed47dbefa299d7b36944f6d4001ee83612dd680"}
{"commit_hash": "39f4b7bf7571a9c6529b0bb3de49c9bb0998f194", "short_hash": "39f4b7bf7571", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:37+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:32+11:00", "subject": "powerpc: introduce kernstart_virt_addr to store the kernel base", "primary_category": "FEAT-API", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/powerpc", "subsystems_touched": ["arch/powerpc/mm", "arch/powerpc/include/asm"], "subsystem_tier": 8, "files_changed": 2, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 9, "score_impact": 16, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 4, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KASLR preparation infrastructure for powerpc - well-reviewed cross-org contribution (Huawei/NXP) establishing kernel base variable. High quality (3 reviewers, Tested-by) but low code volume (4 lines). Foundation work for security feature.", "code_snippet": "@@ -325,6 +325,8 @@ void arch_free_page(struct page *page, int order);\n \n struct vm_area_struct;\n \n+extern unsigned long kernstart_virt_addr;\n+\n #include <asm-generic/memory_model.h>\n #endif /* __ASSEMBLY__ */\n #include <asm/slice.h>\ndiff --git a/arch/powerpc/mm/init-common.c b/arch/powerpc/mm/init-common.c\nindex e223da482c0c..42ef7a6e6098 100644\n--- a/arch/powerpc/mm/init-common.c\n+++ b/arch/powerpc/mm/init-common.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/39f4b7bf7571a9c6529b0bb3de49c9bb0998f194"}
{"commit_hash": "aa1d2090e69311c65f69c0fa2311d1d0f01c55f8", "short_hash": "aa1d2090e693", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:38+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:34+11:00", "subject": "powerpc/fsl_booke/32: introduce create_kaslr_tlb_entry() helper", "primary_category": "FEAT-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/kernel/", "arch/powerpc/mm/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 36, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 14, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 4, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "This commit introduces a new helper function create_kaslr_tlb_entry() for KASLR (Kernel Address Space Layout Randomization) support on powerpc/fsl_booke/32. The code adds 36 lines of assembly code with no deletions. The feature has strong review chain (Reviewed-by, Tested-by tags) from multiple developers at different organizations (Huawei, C-S_FR, NXP), indicating cross-organizational collaboration. The commit message is clear and well-structured, explaining the preparation purpose for boot kernel randomization. Technical score reflects moderate subsystem tier (powerpc architecture) and focused scope. Impact score captures preparatory feature work with security implications (KASLR). Quality score benefits from multiple reviews and testing evidence.", "code_snippet": "@@ -1114,6 +1114,41 @@ __secondary_hold_acknowledge:\n \t.long\t-1\n #endif\n \n+/*\n+ * Create a 64M tlb by address and entry\n+ * r3 - entry\n+ * r4 - virtual address\n+ * r5/r6 - physical address\n+ */\n+_GLOBAL(create_kaslr_tlb_entry)\n+\tlis     r7,0x1000               /* Set MAS0(TLBSEL) = 1 */\n+\trlwimi  r7,r3,16,4,15           /* Setup MAS0 = TLBSEL | ESEL(r6) */\n+\tmtspr   SPRN_MAS0,r7            /* Write MAS0 */\n+\n+\tlis     r3,(MAS1_VALID|MAS1_IPROT)@h\n+\tori     r3,r3,(MAS1_TSIZE(BOOK3E_PAGESZ_64M))@l\n+\tmtspr   SPRN_MAS1,r3            /* Write MAS1 */\n+\n+\tlis     r3,MAS2_EPN_MASK(BOOK3E_PAGESZ_64M)@h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa1d2090e69311c65f69c0fa2311d1d0f01c55f8"}
{"commit_hash": "c061b38a3e48663c29611e3b60afffe624d7c830", "short_hash": "c061b38a3e48", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:39+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:37+11:00", "subject": "powerpc/fsl_booke/32: introduce reloc_kernel_entry() helper", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/kernel/", "arch/powerpc/mm/"], "subsystem_tier": 6, "files_changed": 2, "insertions": 14, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 9, "score_impact": 13, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 1, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KASLR (kernel address space layout randomization) infrastructure change for powerpc/fsl_booke/32. Introduces reloc_kernel_entry() helper to enable jumping to randomized kernel locations. Strong review chain with 3 Reviewed-by tags from external organizations (Huawei, C-S.fr, NXP) plus testing. Cross-organizational contribution (Huawei author, NXP tester). Low code volume (14 insertions, 0 deletions) but security-relevant feature work.", "code_snippet": "@@ -1149,6 +1149,19 @@ _GLOBAL(create_kaslr_tlb_entry)\n \tsync\n \tblr\n \n+/*\n+ * Return to the start of the relocated kernel and run again\n+ * r3 - virtual address of fdt\n+ * r4 - entry of the kernel\n+ */\n+_GLOBAL(reloc_kernel_entry)\n+\tmfmsr\tr7\n+\trlwinm\tr7, r7, 0, ~(MSR_IS | MSR_DS)\n+\n+\tmtspr\tSPRN_SRR0,r4\n+\tmtspr\tSPRN_SRR1,r7\n+\trfi\n+\n /*\n  * Create a tlb entry with the same effective and physical address as\n  * the tlb entry used by the current running code. But set the TS to 1.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c061b38a3e48663c29611e3b60afffe624d7c830"}
{"commit_hash": "2b0e86cc5de6dabadc2d64cefa429fc227c8a756", "short_hash": "2b0e86cc5de6", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:40+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:40+11:00", "subject": "powerpc/fsl_booke/32: implement KASLR infrastructure", "primary_category": "SEC-HARDEN", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/"], "subsystem_tier": 9, "files_changed": 9, "insertions": 109, "deletions": 17, "hunks": 28, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 59, "score_technical": 13, "score_impact": 24, "score_quality": 15, "score_community": 7, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 4, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Security hardening feature implementing KASLR infrastructure for powerpc/fsl_booke/32. Adds kernel address space layout randomization to mitigate exploit techniques. Multi-file change across 9 files with 109 insertions creating new kaslr_booke.c. Strong review chain with Tested-by and Reviewed-by tags from NXP and C-S FR engineers. Cross-org collaboration between Huawei, NXP, and maintainer. Notable security feature addition.", "code_snippet": "@@ -551,6 +551,17 @@ config RELOCATABLE\n \t  setting can still be useful to bootwrappers that need to know the\n \t  load address of the kernel (eg. u-boot/mkimage).\n \n+config RANDOMIZE_BASE\n+\tbool \"Randomize the address of the kernel image\"\n+\tdepends on (FSL_BOOKE && FLATMEM && PPC32)\n+\tdepends on RELOCATABLE\n+\thelp\n+\t  Randomizes the virtual address at which the kernel image is\n+\t  loaded, as a security feature that deters exploit attempts\n+\t  relying on knowledge of the location of kernel internals.\n+\n+\t  If unsure, say Y.\n+\n config RELOCATABLE_TEST\n \tbool \"Test relocatable kernel\"\n \tdepends on (PPC64 && RELOCATABLE)\ndiff --git a/arch/powerpc/include/asm/nohash/mmu-book3e.h b/arch/powerpc/include/asm/nohash/mmu-book3e.h\nindex fa3efc2d310f..b41004664312 100644", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b0e86cc5de6dabadc2d64cefa429fc227c8a756"}
{"commit_hash": "6a38ea1d7b94c6c84dbf3f5c969be5e3648d9a70", "short_hash": "6a38ea1d7b94", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:41+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:41+11:00", "subject": "powerpc/fsl_booke/32: randomize the kernel image offset", "primary_category": "SEC-HARDEN", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/mm/nohash/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 323, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)", "Christophe Leroy <christophe.leroy@c-s.fr> (C-s)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 71, "score_technical": 16, "score_impact": 25, "score_quality": 20, "score_community": 10, "score_breakdown": {"A1_code_volume": 8, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 5, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 3, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "KASLR (Kernel Address Space Layout Randomization) implementation for powerpc/fsl_booke/32 - security hardening feature that randomizes kernel image offset to mitigate memory corruption exploits. Substantial 321-line addition with multiple review tags (Reviewed-by, Tested-by) from multiple organizations (Huawei, NXP, C-S.fr). High quality commit with thorough memory overlap checking, entropy derivation from multiple sources (build string, device tree kaslr-seed, timer), and comprehensive feature implementation.", "code_snippet": "@@ -12,15 +12,336 @@\n #include <linux/init.h>\n #include <linux/delay.h>\n #include <linux/memblock.h>\n+#include <linux/libfdt.h>\n+#include <linux/crash_core.h>\n #include <asm/pgalloc.h>\n #include <asm/prom.h>\n+#include <asm/kdump.h>\n #include <mm/mmu_decl.h>\n+#include <generated/compile.h>\n+#include <generated/utsrelease.h>\n+\n+struct regions {\n+\tunsigned long pa_start;\n+\tunsigned long pa_end;\n+\tunsigned long kernel_size;\n+\tunsigned long dtb_start;\n+\tunsigned long dtb_end;\n+\tunsigned long initrd_start;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a38ea1d7b94c6c84dbf3f5c969be5e3648d9a70"}
{"commit_hash": "b39609720069f5a6eed2b3e3f618c23587021ff5", "short_hash": "b39609720069", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:42+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:44+11:00", "subject": "powerpc/fsl_booke/kaslr: clear the original kernel if randomized", "primary_category": "SEC-HARDEN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/powerpc", "subsystems_touched": ["arch/powerpc/mm/"], "subsystem_tier": 7, "files_changed": 3, "insertions": 14, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 17, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 3, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KASLR security hardening commit that clears original kernel memory after randomization to prevent information leaks. Small code volume (14 insertions, 3 files) in arch/powerpc subsystem. Strong review chain with 3 Reviewed-by tags and maintainer Signed-off-by. Cross-org collaboration (Huawei author, C-s.fr and NXP reviewers). Security category base score (12) plus novelty bonus (2) for security-enhancing cleanup. High quality atomic commit with clear purpose and testing evidence.", "code_snippet": "@@ -148,8 +148,10 @@ extern void loadcam_multi(int first_idx, int num, int tmp_idx);\n \n #ifdef CONFIG_RANDOMIZE_BASE\n void kaslr_early_init(void *dt_ptr, phys_addr_t size);\n+void kaslr_late_init(void);\n #else\n static inline void kaslr_early_init(void *dt_ptr, phys_addr_t size) {}\n+static inline void kaslr_late_init(void) {}\n #endif\n \n struct tlbcam {\ndiff --git a/arch/powerpc/mm/nohash/fsl_booke.c b/arch/powerpc/mm/nohash/fsl_booke.c\nindex 2dc27cf88add..b4eb06ceb189 100644\n--- a/arch/powerpc/mm/nohash/fsl_booke.c\n+++ b/arch/powerpc/mm/nohash/fsl_booke.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b39609720069f5a6eed2b3e3f618c23587021ff5"}
{"commit_hash": "8c2ae87be5a4bb2d3cadff72d3aa5f1e3d5aac2b", "short_hash": "8c2ae87be5a4", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:43+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:47+11:00", "subject": "powerpc/fsl_booke/kaslr: support nokaslr cmdline parameter", "primary_category": "FEAT-API", "secondary_categories": ["FEAT-OTHER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/powerpc", "subsystems_touched": ["arch/powerpc/mm/nohash/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)", "Christophe Leroy <christophe.leroy@c-s.fr> (C-s)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 10, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small feature adding cmdline parameter support to disable KASLR on powerpc/fsl_booke. Well-reviewed with multipleReviewed-by and Tested-by tags. Cross-org collaboration between Huawei and NXP. Low code volume (7 insertions, 0 deletions) but adds user-controllable option for security feature.", "code_snippet": "@@ -281,6 +281,11 @@ static unsigned long __init kaslr_legal_offset(void *dt_ptr, unsigned long index\n \treturn koffset;\n }\n \n+static inline __init bool kaslr_disabled(void)\n+{\n+\treturn strstr(boot_command_line, \"nokaslr\") != NULL;\n+}\n+\n static unsigned long __init kaslr_choose_location(void *dt_ptr, phys_addr_t size,\n \t\t\t\t\t\t  unsigned long kernel_sz)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8c2ae87be5a4bb2d3cadff72d3aa5f1e3d5aac2b"}
{"commit_hash": "921a79b7802078fab3787c7eae561536906cb8f3", "short_hash": "921a79b78020", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:44+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:51+11:00", "subject": "powerpc/fsl_booke/kaslr: dump out kernel offset information on panic", "primary_category": "FEAT-OTHER", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc"], "subsystem_tier": 7, "files_changed": 2, "insertions": 25, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)", "Diana Craciun <diana.craciun@nxp.com> (NXP)"], "tested_by": ["Diana Craciun <diana.craciun@nxp.com> (NXP)"], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 13, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Debug feature for powerpc KASLR - adds kernel offset dump on panic to aid debugging. Well-reviewed with 3 Reviewed-by tags, tested. Low-medium impact, limited to powerpc/fsl_booke with KASLR enabled. Derived from x86/arm64 implementations.", "code_snippet": "@@ -327,6 +327,11 @@ struct vm_area_struct;\n \n extern unsigned long kernstart_virt_addr;\n \n+static inline unsigned long kaslr_offset(void)\n+{\n+\treturn kernstart_virt_addr - KERNELBASE;\n+}\n+\n #include <asm-generic/memory_model.h>\n #endif /* __ASSEMBLY__ */\n #include <asm/slice.h>\ndiff --git a/arch/powerpc/kernel/setup-common.c b/arch/powerpc/kernel/setup-common.c\nindex 25aaa3903000..488f1eecc0de 100644\n--- a/arch/powerpc/kernel/setup-common.c\n+++ b/arch/powerpc/kernel/setup-common.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/921a79b7802078fab3787c7eae561536906cb8f3"}
{"commit_hash": "74277f00b23263066772fd9e9106acb6a280f84f", "short_hash": "74277f00b232", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:45+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:54+11:00", "subject": "powerpc/fsl_booke/kaslr: export offset in VMCOREINFO ELF notes", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 10, "score_quality": 11, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Small debugging enhancement adding KASLR offset to VMCOREINFO for crash tool support. Well-reviewed with clear justification. Low complexity but high utility for kernel debugging.", "code_snippet": "@@ -86,6 +86,7 @@ void arch_crash_save_vmcoreinfo(void)\n \tVMCOREINFO_STRUCT_SIZE(mmu_psize_def);\n \tVMCOREINFO_OFFSET(mmu_psize_def, shift);\n #endif\n+\tvmcoreinfo_append_str(\"KERNELOFFSET=%lx\\n\", kaslr_offset());\n }\n \n /*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/74277f00b23263066772fd9e9106acb6a280f84f"}
{"commit_hash": "c2d1a13520eee7f0ac64ffb94f8756006320e4b8", "short_hash": "c2d1a13520ee", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-09-20T17:45:46+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-11-13T19:27:58+11:00", "subject": "powerpc/fsl_booke/32: Document KASLR implementation", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/powerpc", "subsystems_touched": ["Documentation/powerpc"], "subsystem_tier": 4, "files_changed": 2, "insertions": 43, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Scott Wood <oss@buserror.net> (Buserror)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 3, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation-only commit adding KASLR implementation explanation for Freescale BookE32. Pure documentation change with no code impact, signed off by multiple maintainers including subsystem maintainer Michael Ellerman.", "code_snippet": "@@ -19,6 +19,7 @@ powerpc\n     firmware-assisted-dump\n     hvcs\n     isa-versions\n+    kaslr-booke32\n     mpc52xx\n     pci_iov_resource_on_powernv\n     pmu-ebb\ndiff --git a/Documentation/powerpc/kaslr-booke32.rst b/Documentation/powerpc/kaslr-booke32.rst\nnew file mode 100644\nindex 000000000000..8b259fdfdf03\n--- /dev/null\n+++ b/Documentation/powerpc/kaslr-booke32.rst", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2d1a13520eee7f0ac64ffb94f8756006320e4b8"}
{"commit_hash": "b4011644b03c04b1a42068313c5b894da41d0698", "short_hash": "b4011644b03c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-01T21:46:11+08:00", "committer_name": "Thomas Hellstrom", "committer_email": "thellstrom@vmware.com", "committer_company": "VMware", "commit_date": "2019-11-14T08:41:36+01:00", "subject": "drm/vmwgfx: remove set but not used variable 'srf'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/vmwgfx/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)"], "reviewed_by": ["Thomas Hellstrom <thellstrom@vmware.com> (VMware)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variable in VMWare graphics driver. Reviewed by maintainer. Low technical complexity, minimal impact.", "code_snippet": "@@ -336,7 +336,6 @@ static void vmw_hw_surface_destroy(struct vmw_resource *res)\n {\n \n \tstruct vmw_private *dev_priv = res->dev_priv;\n-\tstruct vmw_surface *srf;\n \tvoid *cmd;\n \n \tif (res->func->destroy == vmw_gb_surface_destroy) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b4011644b03c04b1a42068313c5b894da41d0698"}
{"commit_hash": "dcf5a2c390a3c956fc66bb52b1d69c0ad27298a6", "short_hash": "dcf5a2c390a3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:14:54+08:00", "subject": "usb: dwc3: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/dwc3/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 4, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line cleanup change moving dwc3 debugfs directory to usb root hierarchy. Low code volume (1 line). Maintainer-signed cleanup. USB subsystem tier 7. No user impact, no stable cc.", "code_snippet": "@@ -916,7 +916,7 @@ void dwc3_debugfs_init(struct dwc3 *dwc)\n \tdwc->regset->nregs = ARRAY_SIZE(dwc3_regs);\n \tdwc->regset->base = dwc->regs - DWC3_GLOBALS_REGS_START;\n \n-\troot = debugfs_create_dir(dev_name(dwc->dev), NULL);\n+\troot = debugfs_create_dir(dev_name(dwc->dev), usb_debug_root);\n \tdwc->root = root;\n \n \tdebugfs_create_regset32(\"regdump\", S_IRUGO, root, dwc->regset);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dcf5a2c390a3c956fc66bb52b1d69c0ad27298a6"}
{"commit_hash": "ee93c83bf7565ef5ff29438dd71732162afdc3af", "short_hash": "ee93c83bf756", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:14:54+08:00", "subject": "usb: host: imx21: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/host", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor debugfs cleanup moving directory from root to usb_debug_root. 1 line changed, low tier USB host driver, cleanup category. Good review chain (maintainer signoff), clear commit message with link. No functional impact, no cross-org collaboration.", "code_snippet": "@@ -419,7 +419,7 @@ static void create_debug_files(struct imx21 *imx21)\n {\n \tstruct dentry *root;\n \n-\troot = debugfs_create_dir(dev_name(imx21->dev), NULL);\n+\troot = debugfs_create_dir(dev_name(imx21->dev), usb_debug_root);\n \timx21->debug_root = root;\n \n \tdebugfs_create_file(\"status\", S_IRUGO, root, imx21, &debug_status_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee93c83bf7565ef5ff29438dd71732162afdc3af"}
{"commit_hash": "b8029ba97b3124cbb86be045b38ac933d4e8f0ae", "short_hash": "b8029ba97b31", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:48+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:14:54+08:00", "subject": "usb: chipidea: debug: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/chipidea"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor debugfs directory relocation cleanup. Single-line change from NULL parent to usb_debug_root for better organization. Low complexity (1 insertion, 1 deletion). Well-reviewed with Greg KH's sign-off. No user-facing impact, purely internal debug infrastructure organization.", "code_snippet": "@@ -342,7 +342,7 @@ DEFINE_SHOW_ATTRIBUTE(ci_registers);\n  */\n void dbg_create_files(struct ci_hdrc *ci)\n {\n-\tci->debugfs = debugfs_create_dir(dev_name(ci->dev), NULL);\n+\tci->debugfs = debugfs_create_dir(dev_name(ci->dev), usb_debug_root);\n \n \tdebugfs_create_file(\"device\", S_IRUGO, ci->debugfs, ci,\n \t\t\t    &ci_device_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8029ba97b3124cbb86be045b38ac933d4e8f0ae"}
{"commit_hash": "54ef0b39ec50e5274909ce0f66cbf2c8b00d2723", "short_hash": "54ef0b39ec50", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:47+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:16:34+08:00", "subject": "media: uvcvideo: drop error check of debugfs_create_dir()", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-MODERNIZE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/usb", "subsystems_touched": ["drivers/media/usb/uvc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 9, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup removing unnecessary error checking for debugfs_create_dir() as debugfs errors are handled gracefully by the kernel. Reduced code from 10 lines to 1. Single file in uvc USB video driver subsystem. Signed-off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -108,15 +108,7 @@ void uvc_debugfs_cleanup_stream(struct uvc_streaming *stream)\n \n void uvc_debugfs_init(void)\n {\n-\tstruct dentry *dir;\n-\n-\tdir = debugfs_create_dir(\"uvcvideo\", usb_debug_root);\n-\tif (IS_ERR_OR_NULL(dir)) {\n-\t\tuvc_printk(KERN_INFO, \"Unable to create debugfs directory\\n\");\n-\t\treturn;\n-\t}\n-\n-\tuvc_debugfs_root_dir = dir;\n+\tuvc_debugfs_root_dir = debugfs_create_dir(\"uvcvideo\", usb_debug_root);\n }\n \n void uvc_debugfs_cleanup(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54ef0b39ec50e5274909ce0f66cbf2c8b00d2723"}
{"commit_hash": "a66ada4f241c9a5a0bbabc5af511ea5dd4c2cbb8", "short_hash": "a66ada4f241c", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:54+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:16:35+08:00", "subject": "usb: gadget: bcm63xx_udc: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Debugfs directory relocation cleanup - 1 line change, low subsystem tier (USB gadget driver), cleanup category with minimal user impact. Good commit message quality with clear explanation and proper Link tag. Maintainer endorsement from Greg Kroah-Hartman. Cross-org contribution (MediaTek to Linux Foundation).", "code_snippet": "@@ -2248,7 +2248,7 @@ static void bcm63xx_udc_init_debugfs(struct bcm63xx_udc *udc)\n \tif (!IS_ENABLED(CONFIG_USB_GADGET_DEBUG_FS))\n \t\treturn;\n \n-\troot = debugfs_create_dir(udc->gadget.name, NULL);\n+\troot = debugfs_create_dir(udc->gadget.name, usb_debug_root);\n \tudc->debugfs_root = root;\n \n \tdebugfs_create_file(\"usbd\", 0400, root, udc, &bcm63xx_usbd_dbg_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a66ada4f241c9a5a0bbabc5af511ea5dd4c2cbb8"}
{"commit_hash": "de4c73982cce5a3ac385d82924d0c1fc42ac3d57", "short_hash": "de4c73982cce", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:53+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:16:35+08:00", "subject": "usb: dwc2: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/dwc2", "subsystems_touched": ["drivers/usb/dwc2", "drivers/usb"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 6, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple debugfs directory relocation (1 line change) from root to USB-specific directory for better organization. Clean maintenance change with proper maintainer chain (Greg KH). Low impact as debugfs-only. Cross-org contribution from MediaTek.", "code_snippet": "@@ -770,7 +770,7 @@ int dwc2_debugfs_init(struct dwc2_hsotg *hsotg)\n \tint\t\t\tret;\n \tstruct dentry\t\t*root;\n \n-\troot = debugfs_create_dir(dev_name(hsotg->dev), NULL);\n+\troot = debugfs_create_dir(dev_name(hsotg->dev), usb_debug_root);\n \thsotg->debug_root = root;\n \n \tdebugfs_create_file(\"params\", 0444, root, hsotg, &params_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de4c73982cce5a3ac385d82924d0c1fc42ac3d57"}
{"commit_hash": "b3c69ec8e2326980e83a7b0f4d0fb78778f1299a", "short_hash": "b3c69ec8e232", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:52+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T11:16:35+08:00", "subject": "usb: musb: dsps: create debugfs directory under usb root", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/musb"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 3, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor debugfs directory relocation cleanup (1 line changed). Low impact refactoring to align with USB subsystem conventions. Proper review chain with maintainer sign-offs. Clean atomic change with clear justification.", "code_snippet": "@@ -411,7 +411,7 @@ static int dsps_musb_dbg_init(struct musb *musb, struct dsps_glue *glue)\n \tchar buf[128];\n \n \tsprintf(buf, \"%s.dsps\", dev_name(musb->controller));\n-\troot = debugfs_create_dir(buf, NULL);\n+\troot = debugfs_create_dir(buf, usb_debug_root);\n \tglue->dbgfs_root = root;\n \n \tglue->regset.regs = dsps_musb_regs;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3c69ec8e2326980e83a7b0f4d0fb78778f1299a"}
{"commit_hash": "8d66a8183d0cc3a3667f9e179999736fad4519f3", "short_hash": "8d66a8183d0c", "author_name": "MarkLee", "author_email": "Mark-MC.Lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-13T10:38:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T15:13:28-08:00", "subject": "net: ethernet: mediatek: Enable GDM GDMA_DROP_ALL mode", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 8, "files_changed": 2, "insertions": 3, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["MarkLee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 17, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 12, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for MediaTek ethernet driver to properly drop packets during stop operation. Small change (3 insertions) in specific driver subsystem. Includes maintainer sign-off (David S. Miller) and proper cross-company contribution (MediaTek to net tree).", "code_snippet": "@@ -2279,6 +2279,8 @@ static int mtk_stop(struct net_device *dev)\n \tif (!refcount_dec_and_test(&eth->dma_refcnt))\n \t\treturn 0;\n \n+\tmtk_gdm_config(eth, MTK_GDMA_DROP_ALL);\n+\n \tmtk_tx_irq_disable(eth, MTK_TX_DONE_INT);\n \tmtk_rx_irq_disable(eth, MTK_RX_DONE_INT);\n \tnapi_disable(&eth->tx_napi);\ndiff --git a/drivers/net/ethernet/mediatek/mtk_eth_soc.h b/drivers/net/ethernet/mediatek/mtk_eth_soc.h\nindex b16d8d9b196a..85830fe14a1b 100644\n--- a/drivers/net/ethernet/mediatek/mtk_eth_soc.h\n+++ b/drivers/net/ethernet/mediatek/mtk_eth_soc.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d66a8183d0cc3a3667f9e179999736fad4519f3"}
{"commit_hash": "5ac9eda060c74aaa399d0c3ddd6bc244c8e2de96", "short_hash": "5ac9eda060c7", "author_name": "MarkLee", "author_email": "Mark-MC.Lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-13T10:38:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T15:13:28-08:00", "subject": "net: ethernet: mediatek: Refine the timing of GDM/PSE setup", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 10, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["MarkLee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Hardware timing refinement for MediaTek ethernet driver. Moves GDM/PSE setup from mtk_hw_init to mtk_open per HW design requirements to ensure PDMA is started first. Adds MT7628 exclusion. Small but critical driver-specific fix affecting device stability.", "code_snippet": "@@ -2184,6 +2184,9 @@ static void mtk_gdm_config(struct mtk_eth *eth, u32 config)\n {\n \tint i;\n \n+\tif (MTK_HAS_CAPS(eth->soc->caps, MTK_SOC_MT7628))\n+\t\treturn;\n+\n \tfor (i = 0; i < MTK_MAC_COUNT; i++) {\n \t\tu32 val = mtk_r32(eth, MTK_GDMA_FWD_CFG(i));\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ac9eda060c74aaa399d0c3ddd6bc244c8e2de96"}
{"commit_hash": "8d3f4a95a626a2e111d5bf9813e71557f5567da3", "short_hash": "8d3f4a95a626", "author_name": "MarkLee", "author_email": "Mark-MC.Lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-13T10:38:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T15:13:28-08:00", "subject": "net: ethernet: mediatek: Integrate GDM/PSE setup operations", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/mediatek"], "subsystem_tier": 8, "files_changed": 2, "insertions": 24, "deletions": 14, "hunks": 8, "review_chain": {"signed_off_by": ["MarkLee <Mark-MC.Lee@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Code refactoring integrating GDM/PSE setup operations into a single function mtk_gdm_config. 38 lines changed (24 insertions, 14 deletions). Maintains existing functionality while improving code organization. Cross-org contribution from Mediatek to networking subsystem, signed off by maintainer David S. Miller. Clean atomic refactor with proper encapsulation.", "code_snippet": "@@ -2180,6 +2180,28 @@ static int mtk_start_dma(struct mtk_eth *eth)\n \treturn 0;\n }\n \n+static void mtk_gdm_config(struct mtk_eth *eth, u32 config)\n+{\n+\tint i;\n+\n+\tfor (i = 0; i < MTK_MAC_COUNT; i++) {\n+\t\tu32 val = mtk_r32(eth, MTK_GDMA_FWD_CFG(i));\n+\n+\t\t/* default setup the forward port to send frame to PDMA */\n+\t\tval &= ~0xffff;\n+\n+\t\t/* Enable RX checksum */\n+\t\tval |= MTK_GDMA_ICS_EN | MTK_GDMA_TCS_EN | MTK_GDMA_UCS_EN;\n+\n+\t\tval |= config;\n+\n+\t\tmtk_w32(eth, val, MTK_GDMA_FWD_CFG(i));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d3f4a95a626a2e111d5bf9813e71557f5567da3"}
{"commit_hash": "e47ff01b94b64f5cea3b43dbfa4f27bb605789a4", "short_hash": "e47ff01b94b6", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:59+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T17:50:09+08:00", "subject": "usb: gadget: udc: s3c2410_udc: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 5, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit (3 insertions, 1 deletion) moving debugfs directory to USB root for consistency. Low technical complexity (A1=1, A2=4, A3=0). Maintenance/cleanup category with minimal impact (B1=2, B3=1). Good review chain with subsystem maintainer sign-off (C1=4, D2=4). Cross-org contribution from MediaTek to USB subsystem (D1=4). Total: 32/100.", "code_snippet": "@@ -1978,7 +1978,8 @@ static int __init udc_init(void)\n \n \tdprintk(DEBUG_NORMAL, \"%s\\n\", gadget_name);\n \n-\ts3c2410_udc_debugfs_root = debugfs_create_dir(gadget_name, NULL);\n+\ts3c2410_udc_debugfs_root = debugfs_create_dir(gadget_name,\n+\t\t\t\t\t\t      usb_debug_root);\n \n \tretval = platform_driver_register(&udc_driver_24x0);\n \tif (retval)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e47ff01b94b64f5cea3b43dbfa4f27bb605789a4"}
{"commit_hash": "3a35bc8df4888204ceee0fced06cede431ddba02", "short_hash": "3a35bc8df488", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:57+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T17:50:09+08:00", "subject": "usb: gadget: pxa27x: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 4, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line cleanup change moving debugfs directory from filesystem root to USB root. Low complexity, follows subsystem organization best practices. Signed-off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -207,7 +207,7 @@ static void pxa_init_debugfs(struct pxa_udc *udc)\n {\n \tstruct dentry *root;\n \n-\troot = debugfs_create_dir(udc->gadget.name, NULL);\n+\troot = debugfs_create_dir(udc->gadget.name, usb_debug_root);\n \tudc->debugfs_root = root;\n \n \tdebugfs_create_file(\"udcstate\", 0400, root, udc, &state_dbg_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a35bc8df4888204ceee0fced06cede431ddba02"}
{"commit_hash": "626557a352b2a4a2440b6d68f6a5c562246fe0f7", "short_hash": "626557a352b2", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-12T14:51:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-14T17:50:09+08:00", "subject": "usb: gadget: udc: renesas_usb3: create debugfs directory under usb root", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget/udc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 5, "score_impact": 6, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 2, "C1_review_chain": 8, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor refactoring moving debugfs directory from root to USB debugfs root. Very low code volume (1 line changed). USB gadget subsystem is mid-tier. Cross-org contribution (MediaTek to Renesas driver, signed by Greg KH). Clean review chain with proper sign-offs. Low impact as debugfs-only change, no functional behavior change.", "code_snippet": "@@ -2536,7 +2536,7 @@ static const struct file_operations renesas_usb3_b_device_fops = {\n static void renesas_usb3_debugfs_init(struct renesas_usb3 *usb3,\n \t\t\t\t      struct device *dev)\n {\n-\tusb3->dentry = debugfs_create_dir(dev_name(dev), NULL);\n+\tusb3->dentry = debugfs_create_dir(dev_name(dev), usb_debug_root);\n \n \tdebugfs_create_file(\"b_device\", 0644, usb3->dentry, usb3,\n \t\t\t    &renesas_usb3_b_device_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/626557a352b2a4a2440b6d68f6a5c562246fe0f7"}
{"commit_hash": "aea8cfb35a82d6c2f3517c86694933ba766635e5", "short_hash": "aea8cfb35a82", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T10:32:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T18:06:34-08:00", "subject": "net: hns3: reallocate SSU' buffer size when pfc_en changes", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "cacde272dd00", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 5, "files_changed": 1, "insertions": 16, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 7, "score_impact": 13, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for packet drops in hns3 driver when PFC is toggled. Driver-specific fix with proper Fixes tag. Good commit quality with clear description and multiple sign-offs including maintainer David S. Miller.", "code_snippet": "@@ -318,6 +318,7 @@ static int hclge_ieee_setpfc(struct hnae3_handle *h, struct ieee_pfc *pfc)\n \tstruct net_device *netdev = h->kinfo.netdev;\n \tstruct hclge_dev *hdev = vport->back;\n \tu8 i, j, pfc_map, *prio_tc;\n+\tint ret;\n \n \tif (!(hdev->dcbx_cap & DCB_CAP_DCBX_VER_IEEE) ||\n \t    hdev->flag & HCLGE_FLAG_MQPRIO_ENABLE)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aea8cfb35a82d6c2f3517c86694933ba766635e5"}
{"commit_hash": "71c5e83bcf1e795e28a9dae6b1e74095452bf26e", "short_hash": "71c5e83bcf1e", "author_name": "Guangbin Huang", "author_email": "huangguangbin2@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T10:32:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T18:06:34-08:00", "subject": "net: hns3: add compatible handling for MAC VLAN switch parameter configuration", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "dd2956eab104", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3pf/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Guangbin Huang <huangguangbin2@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 5, "score_impact": 11, "score_quality": 14, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for firmware compatibility issue in hns3 driver. Small change (14 insertions, 2 deletions) to read-modify-write pattern instead of direct write. Network driver subsystem (tier 3). Fixes specific compatibility issue with old firmware causing PF/VF communication failure. Strong review chain (3 sign-offs including maintainer David S. Miller). Good commit message with detailed explanation and Fixes tag.", "code_snippet": "@@ -6263,11 +6263,23 @@ static int hclge_config_switch_param(struct hclge_dev *hdev, int vfid,\n \n \tfunc_id = hclge_get_port_number(HOST_PORT, 0, vfid, 0);\n \treq = (struct hclge_mac_vlan_switch_cmd *)desc.data;\n+\n+\t/* read current config parameter */\n \thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_MAC_VLAN_SWITCH_PARAM,\n-\t\t\t\t   false);\n+\t\t\t\t   true);\n \treq->roce_sel = HCLGE_MAC_VLAN_NIC_SEL;\n \treq->func_id = cpu_to_le32(func_id);\n-\treq->switch_param = switch_param;\n+\n+\tret = hclge_cmd_send(&hdev->hw, &desc, 1);\n+\tif (ret) {\n+\t\tdev_err(&hdev->pdev->dev,\n+\t\t\t\"read mac vlan switch parameter fail, ret = %d\\n\", ret);\n+\t\treturn ret;\n+\t}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71c5e83bcf1e795e28a9dae6b1e74095452bf26e"}
{"commit_hash": "c2d56897819338eb0ba8b93184f7d10329b36653", "short_hash": "c2d568978193", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T10:32:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-14T18:06:34-08:00", "subject": "net: hns3: fix ETS bandwidth validation bug", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e432abfb99e5", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 9, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor 2-line fix for DCB ETS bandwidth validation bug in Hisilicon HNS3 driver. Uses correct tc_max instead of HNAE3_MAX_TC for devices with limited TC support. Good commit message with Fixes tag, proper review chain (author -> co-developer -> maintainer). Driver-specific bugfix with no cross-subsystem impact.", "code_snippet": "@@ -124,7 +124,7 @@ static int hclge_ets_validate(struct hclge_dev *hdev, struct ieee_ets *ets,\n \tif (ret)\n \t\treturn ret;\n \n-\tfor (i = 0; i < HNAE3_MAX_TC; i++) {\n+\tfor (i = 0; i < hdev->tc_max; i++) {\n \t\tswitch (ets->tc_tsa[i]) {\n \t\tcase IEEE_8021QAZ_TSA_STRICT:\n \t\t\tif (hdev->tm_info.tc_info[i].tc_sch_mode !=\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2d56897819338eb0ba8b93184f7d10329b36653"}
{"commit_hash": "565333a1554d704789e74205989305c811fd9c7a", "short_hash": "565333a1554d", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-09-19T14:35:08+08:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-11-14T22:22:17-05:00", "subject": "ext4: fix a bug in ext4_wait_for_tail_page_commit", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 8, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 54, "score_technical": 10, "score_impact": 19, "score_quality": 16, "score_community": 9, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Critical crash bug fix in ext4 filesystem with kernel BUG trigger. Cross-org contribution from Huawei to Theodore Ts'o (maintainer). Includes detailed reproducer, stack trace, and root cause analysis. Reviewed by Jan Kara. Small surgical fix (12 lines) addressing race condition between truncate and writepage operations.", "code_snippet": "@@ -5114,11 +5114,15 @@ static void ext4_wait_for_tail_page_commit(struct inode *inode)\n \n \toffset = inode->i_size & (PAGE_SIZE - 1);\n \t/*\n-\t * All buffers in the last page remain valid? Then there's nothing to\n-\t * do. We do the check mainly to optimize the common PAGE_SIZE ==\n-\t * blocksize case\n+\t * If the page is fully truncated, we don't need to wait for any commit\n+\t * (and we even should not as __ext4_journalled_invalidatepage() may\n+\t * strip all buffers from the page but keep the page dirty which can then\n+\t * confuse e.g. concurrent ext4_writepage() seeing dirty page without\n+\t * buffers). Also we don't need to wait for any commit if all buffers in\n+\t * the page remain valid. This is most beneficial for the common case of\n+\t * blocksize == PAGESIZE.\n \t */\n-\tif (offset > PAGE_SIZE - i_blocksize(inode))\n+\tif (!offset || offset > (PAGE_SIZE - i_blocksize(inode)))\n \t\treturn;\n \twhile (1) {\n \t\tpage = find_lock_page(inode->i_mapping,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/565333a1554d704789e74205989305c811fd9c7a"}
{"commit_hash": "b139b5a24774ee28e3e4d22942e2bede28d48202", "short_hash": "b139b5a24774", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-11-09T16:08:20+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-15T11:44:01+01:00", "subject": "KVM: MMIO: get rid of odd out_err label in kvm_coalesced_mmio_init", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["virt/kvm"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 9, "score_impact": 2, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unnecessary goto label and ret variable in kvm_coalesced_mmio_init. 4 lines removed, 2 added. Direct return paths instead of single exit point. Reviewed and signed by maintainer Paolo Bonzini.", "code_snippet": "@@ -110,14 +110,11 @@ static const struct kvm_io_device_ops coalesced_mmio_ops = {\n int kvm_coalesced_mmio_init(struct kvm *kvm)\n {\n \tstruct page *page;\n-\tint ret;\n \n-\tret = -ENOMEM;\n \tpage = alloc_page(GFP_KERNEL | __GFP_ZERO);\n \tif (!page)\n-\t\tgoto out_err;\n+\t\treturn -ENOMEM;\n \n-\tret = 0;\n \tkvm->coalesced_mmio_ring = page_address(page);\n \n \t/*", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b139b5a24774ee28e3e4d22942e2bede28d48202"}
{"commit_hash": "5b4ce93a8fe759e2d6b2ee05765cd5a3b4b6a2f1", "short_hash": "5b4ce93a8fe7", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-11-09T16:58:54+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-15T11:44:02+01:00", "subject": "KVM: X86: avoid unused setup_syscalls_segments call when SYSCALL check failed", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-OPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 9, "score_impact": 7, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KVM x86 emulation optimization avoiding unnecessary function call. Small refactor (6 lines changed, -4 +2) moving setup_syscalls_segments() after capability check. Properly signed off by both author (Huawei) and maintainer (Paolo Bonzini, Red Hat). Cross-org collaboration. Clean atomic change with clear justification.", "code_snippet": "@@ -2770,11 +2770,10 @@ static int em_syscall(struct x86_emulate_ctxt *ctxt)\n \t\treturn emulate_ud(ctxt);\n \n \tops->get_msr(ctxt, MSR_EFER, &efer);\n-\tsetup_syscalls_segments(ctxt, &cs, &ss);\n-\n \tif (!(efer & EFER_SCE))\n \t\treturn emulate_ud(ctxt);\n \n+\tsetup_syscalls_segments(ctxt, &cs, &ss);\n \tops->get_msr(ctxt, MSR_STAR, &msr_data);\n \tmsr_data >>= 32;\n \tcs_sel = (u16)(msr_data & 0xfffc);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5b4ce93a8fe759e2d6b2ee05765cd5a3b4b6a2f1"}
{"commit_hash": "1a686237d94b8a4bab9ce16ffd3e2208370d7695", "short_hash": "1a686237d94b", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-11-09T17:46:49+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-15T11:44:03+01:00", "subject": "KVM: APIC: add helper func to remove duplicate code in kvm_pv_send_ipi", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 29, "deletions": 36, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 7, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 6, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "KVM APIC refactoring adding __pv_send_ipi helper to eliminate duplicate IPI bitmap handling code. Code reduction (36 deletions, 29 insertions). Cross-org contribution from Huawei to Red Hat maintainer. Clean refactoring with proper maintainer sign-off.", "code_snippet": "@@ -562,60 +562,53 @@ int kvm_apic_set_irq(struct kvm_vcpu *vcpu, struct kvm_lapic_irq *irq,\n \t\t\tirq->level, irq->trig_mode, dest_map);\n }\n \n+static int __pv_send_ipi(unsigned long *ipi_bitmap, struct kvm_apic_map *map,\n+\t\t\t struct kvm_lapic_irq *irq, u32 min)\n+{\n+\tint i, count = 0;\n+\tstruct kvm_vcpu *vcpu;\n+\n+\tif (min > map->max_apic_id)\n+\t\treturn 0;\n+\n+\tfor_each_set_bit(i, ipi_bitmap,\n+\t\tmin((u32)BITS_PER_LONG, (map->max_apic_id - min + 1))) {\n+\t\tif (map->phys_map[min + i]) {\n+\t\t\tvcpu = map->phys_map[min + i]->vcpu;\n+\t\t\tcount += kvm_apic_set_irq(vcpu, irq, NULL);\n+\t\t}\n+\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a686237d94b8a4bab9ce16ffd3e2208370d7695"}
{"commit_hash": "d6649d788e1a40b9bf2064bee4d7960fe85bd81e", "short_hash": "d6649d788e1a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T15:39:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-15T12:12:28-08:00", "subject": "net/tls: Fix unused function warning", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/tls"], "subsystem_tier": 9, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 16, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 9, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minimal 2-line addition wrapping unused function in #ifdef to fix compiler warning. This is a build warning fix with no functional impact. The commit has proper maintainership (Acked-by) but addresses a trivial compilation issue.", "code_snippet": "@@ -6,6 +6,7 @@\n #include <net/snmp.h>\n #include <net/tls.h>\n \n+#ifdef CONFIG_PROC_FS\n static const struct snmp_mib tls_mib_list[] = {\n \tSNMP_MIB_ITEM(\"TlsCurrTxSw\", LINUX_MIB_TLSCURRTXSW),\n \tSNMP_MIB_ITEM(\"TlsCurrRxSw\", LINUX_MIB_TLSCURRRXSW),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d6649d788e1a40b9bf2064bee4d7960fe85bd81e"}
{"commit_hash": "698b22273efa893d664e64116aa844cfb5057a5f", "short_hash": "698b22273efa", "author_name": "Tian Tao", "author_email": "tiantao6@huawei.com", "author_company": "Huawei", "author_date": "2019-11-06T08:53:41+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-15T13:44:17+08:00", "subject": "crypto: tgr192 - remove unneeded semicolon", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "f63fbd3d501b", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Tian Tao <tiantao6@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 5, "score_impact": 2, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unneeded semicolons in crypto/tgr192.c. 2 insertions, 2 deletions. Cross-org contribution from Huawei to crypto subsystem. Signed off by maintainer Herbert Xu. Fixes warning from sparse, no functional change.", "code_snippet": "@@ -555,7 +555,7 @@ static int tgr192_final(struct shash_desc *desc, u8 * out)\n \t__le32 *le32p;\n \tu32 t, msb, lsb;\n \n-\ttgr192_update(desc, NULL, 0); /* flush */ ;\n+\ttgr192_update(desc, NULL, 0); /* flush */\n \n \tmsb = 0;\n \tt = tctx->nblocks;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/698b22273efa893d664e64116aa844cfb5057a5f"}
{"commit_hash": "d138aed68a932476aaeb9abe680a65b2a120cdc3", "short_hash": "d138aed68a93", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T22:03:48+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-15T14:11:24+08:00", "subject": "staging: exfat: remove two unused functions", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/exfat"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 35, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 5, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal in staging driver. Removes two unused checksum functions (calc_checksum_1byte, calc_checksum_4byte) fixing sparse warnings. Clean deletion with proper sign-off chain from author through maintainer. Low impact as code was unused, in staging area.", "code_snippet": "@@ -2042,17 +2042,6 @@ static s32 exfat_calc_num_entries(struct uni_name_t *p_uniname)\n \treturn (len - 1) / 15 + 3;\n }\n \n-u8 calc_checksum_1byte(void *data, s32 len, u8 chksum)\n-{\n-\tint i;\n-\tu8 *c = (u8 *)data;\n-\n-\tfor (i = 0; i < len; i++, c++)\n-\t\tchksum = (((chksum & 1) << 7) | ((chksum & 0xFE) >> 1)) + *c;\n-\n-\treturn chksum;\n-}\n-\n u16 calc_checksum_2byte(void *data, s32 len, u16 chksum, s32 type)\n {\n \tint i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d138aed68a932476aaeb9abe680a65b2a120cdc3"}
{"commit_hash": "38860bdf28b7b01e744834b7b1277812ad82786d", "short_hash": "38860bdf28b7", "author_name": "Zheng Yongjun", "author_email": "zhengyongjun3@huawei.com", "author_company": "Huawei", "author_date": "2019-11-10T18:49:55+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-15T14:24:06+02:00", "subject": "rtl8xxxu: Remove set but not used variable 'rsr'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Zheng Yongjun <zhengyongjun3@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": ["Chris Chiu <chiu@endlessm.com> (Endlessm)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 9, "score_impact": 5, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable. Cross-org contribution (Huawei -> Codeaurora) with maintainer sign-off. Good commit message with warning details. Minimal code change (1 insert, 2 deletes).", "code_snippet": "@@ -1255,7 +1255,7 @@ void rtl8xxxu_gen1_config_channel(struct ieee80211_hw *hw)\n void rtl8xxxu_gen2_config_channel(struct ieee80211_hw *hw)\n {\n \tstruct rtl8xxxu_priv *priv = hw->priv;\n-\tu32 val32, rsr;\n+\tu32 val32;\n \tu8 val8, subchannel;\n \tu16 rf_mode_bw;\n \tbool ht = true;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/38860bdf28b7b01e744834b7b1277812ad82786d"}
{"commit_hash": "4f5969c36a4572dbaf8737dd9f486382d4e44b4a", "short_hash": "4f5969c36a45", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-11T03:34:27Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-15T14:24:38+02:00", "subject": "rtw88: remove duplicated include from ps.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": ["Simon Horman <simon.horman@netronome.com> (Netronome)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing a duplicated #include statement in rtw88 wireless driver. Single-line deletion (-1) with clear commit message and proper review chain (Reviewed-by, Signed-off-by). No functional impact, no stable backport, cross-org collaboration between Huawei author and CodeAurora maintainer.", "code_snippet": "@@ -9,7 +9,6 @@\n #include \"mac.h\"\n #include \"coex.h\"\n #include \"debug.h\"\n-#include \"reg.h\"\n \n static int rtw_ips_pwr_up(struct rtw_dev *rtwdev)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f5969c36a4572dbaf8737dd9f486382d4e44b4a"}
{"commit_hash": "834c43a97f341d319aa7b74099bbce2c4e75bc72", "short_hash": "834c43a97f34", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T22:27:07+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-11-15T16:50:24+01:00", "subject": "drm/gma500: remove set but not used variable 'is_hdmi','is_crt'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/gma500"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables in gma500 DRM driver (low-tier subsystem). Fixes compiler warnings with minimal code change (-5 +2 lines). Cross-org contribution from Huawei, reviewed and signed by subsystem maintainer Daniel Vetter. Good commit message with build warning context and references.", "code_snippet": "@@ -582,8 +582,8 @@ static int cdv_intel_crtc_mode_set(struct drm_crtc *crtc,\n \tstruct gma_clock_t clock;\n \tu32 dpll = 0, dspcntr, pipeconf;\n \tbool ok;\n-\tbool is_crt = false, is_lvds = false, is_tv = false;\n-\tbool is_hdmi = false, is_dp = false;\n+\tbool is_lvds = false, is_tv = false;\n+\tbool is_dp = false;\n \tstruct drm_mode_config *mode_config = &dev->mode_config;\n \tstruct drm_connector *connector;\n \tconst struct gma_limit_t *limit;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/834c43a97f341d319aa7b74099bbce2c4e75bc72"}
{"commit_hash": "a5eb29a9d2fc03d07af7d02f6c2e7ae1e6d985f9", "short_hash": "a5eb29a9d2fc", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T22:27:06+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-11-15T16:50:24+01:00", "subject": "drm/gma500: remove set but not used variable 'error'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/gma500"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing an unused variable flagged by compiler warning. Minimal code change (2 deletions), single file in non-critical DRM subsystem (gma500 is older hardware). Good review chain (author + maintainer), clear commit message. Low impact as variable was never used.", "code_snippet": "@@ -206,7 +206,6 @@ static void psb_sgx_interrupt(struct drm_device *dev, u32 stat_1, u32 stat_2)\n {\n \tstruct drm_psb_private *dev_priv = dev->dev_private;\n \tu32 val, addr;\n-\tint error = false;\n \n \tif (stat_1 & _PSB_CE_TWOD_COMPLETE)\n \t\tval = PSB_RSGX32(PSB_CR_2D_BLIT_STATUS);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5eb29a9d2fc03d07af7d02f6c2e7ae1e6d985f9"}
{"commit_hash": "dfa703b6f91818fa9f652c00e3589c104c518930", "short_hash": "dfa703b6f918", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T22:27:05+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-11-15T16:50:24+01:00", "subject": "drm/gma500: remove set but not used variable 'htotal'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/gma500"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 2, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Single file in gma500 DRM driver (tier 4 subsystem). Minimal code impact (1 insertion, 3 deletions). Proper sign-off chain and Reviewed-by maintainer. No testing evidence but atomic cleanup.", "code_snippet": "@@ -159,9 +159,7 @@ static void oaktrail_hdmi_audio_disable(struct drm_device *dev)\n \n static unsigned int htotal_calculate(struct drm_display_mode *mode)\n {\n-\tu32 htotal, new_crtc_htotal;\n-\n-\thtotal = (mode->crtc_hdisplay - 1) | ((mode->crtc_htotal - 1) << 16);\n+\tu32 new_crtc_htotal;\n \n \t/*\n \t * 1024 x 768  new_crtc_htotal = 0x1024;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dfa703b6f91818fa9f652c00e3589c104c518930"}
{"commit_hash": "82072962973008201b817fae1896512977dd5083", "short_hash": "820729629730", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T17:34:36-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-11-15T18:33:59-08:00", "subject": "mm: fix trying to reclaim unevictable lru page when calling madvise_pageout", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "1a4e58cce84e", "cc_stable": true, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 10, "files_changed": 1, "insertions": 12, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Johannes Weiner <hannes@cmpxchg.org> (Cmpxchg)", "Minchan Kim <minchan@kernel.org> (Kernel)", "Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": []}, "score_total": 61, "score_technical": 12, "score_impact": 26, "score_quality": 16, "score_community": 7, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 15, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Critical kernel BUG fix in memory management subsystem with full call trace demonstrating crash. Fixes regression from MADV_PAGEOUT introduction. Strong review chain with 3 Acks (Weiner, Kim, Hocko) and CCed to stable. Clear problem description with root cause analysis. Small focused change adding PageUnevictable check before reclaim. Cross-org contribution from Huawei with multiple maintainer endorsements.", "code_snippet": "@@ -363,8 +363,12 @@ static int madvise_cold_or_pageout_pte_range(pmd_t *pmd,\n \t\tClearPageReferenced(page);\n \t\ttest_and_clear_page_young(page);\n \t\tif (pageout) {\n-\t\t\tif (!isolate_lru_page(page))\n-\t\t\t\tlist_add(&page->lru, &page_list);\n+\t\t\tif (!isolate_lru_page(page)) {\n+\t\t\t\tif (PageUnevictable(page))\n+\t\t\t\t\tputback_lru_page(page);\n+\t\t\t\telse\n+\t\t\t\t\tlist_add(&page->lru, &page_list);\n+\t\t\t}\n \t\t} else\n \t\t\tdeactivate_page(page);\n huge_unlock:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/82072962973008201b817fae1896512977dd5083"}
{"commit_hash": "ca16d5bee59807bf04deaab0a8eccecd5061528c", "short_hash": "ca16d5bee598", "author_name": "Yang Tao", "author_email": "yang.tao172@zte.com.cn", "author_company": "ZTE", "author_date": "2019-11-06T22:55:35+01:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-11-15T19:10:49+01:00", "subject": "futex: Prevent robust futex exit race", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "0771dfefc9e5", "cc_stable": true, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/futex.c"], "subsystem_tier": 10, "files_changed": 1, "insertions": 51, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Yang Tao <yang.tao172@zte.com.cn> (ZTE)", "Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": ["Ingo Molnar <mingo@kernel.org> (Kernel)"], "tested_by": [], "acked_by": ["Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)"], "reported_by": []}, "score_total": 64, "score_technical": 14, "score_impact": 26, "score_quality": 16, "score_community": 8, "score_breakdown": {"A1_code_volume": 4, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 14, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 2, "C1_review_chain": 7, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 2}, "score_justification": "Critical race condition fix in robust futex exit path that could cause waiters to block infinitely. High-quality commit with extensive analysis in commit message, Reviewed-by and Acked-by from maintainers, cc'd to stable. 51 insertions/7 deletions in core kernel synchronization primitive.", "code_snippet": "@@ -3452,11 +3452,16 @@ SYSCALL_DEFINE3(get_robust_list, int, pid,\n \treturn ret;\n }\n \n+/* Constants for the pending_op argument of handle_futex_death */\n+#define HANDLE_DEATH_PENDING\ttrue\n+#define HANDLE_DEATH_LIST\tfalse\n+\n /*\n  * Process a futex-list entry, check whether it's owned by the\n  * dying task, and do notification if so:\n  */\n-static int handle_futex_death(u32 __user *uaddr, struct task_struct *curr, int pi)\n+static int handle_futex_death(u32 __user *uaddr, struct task_struct *curr,\n+\t\t\t      bool pi, bool pending_op)\n {\n \tu32 uval, uninitialized_var(nval), mval;\n \tint err;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca16d5bee59807bf04deaab0a8eccecd5061528c"}
{"commit_hash": "808c9f7ebfffffc0a9a5d8aee1533759f09f93fc", "short_hash": "808c9f7ebfff", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T11:43:51+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-11-15T22:36:35+01:00", "subject": "bpf, doc: Change right arguments for JIT example code", "primary_category": "BUG-CORRUPT", "secondary_categories": ["DOC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 13, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Documentation bug fix in x86_64 JIT example code. Fixed incorrect function arguments (0x2-0x5 to 0x6-0x9) in networking filter documentation. Small change (4 insertions, 4 deletions) to documentation only. Dual sign-off from maintainer Daniel Borkmann indicates proper review. Limited impact as documentation-only fix, but prevents developer confusion. High subsystem criticality for networking/BPF core.", "code_snippet": "@@ -770,10 +770,10 @@ Some core changes of the new internal format:\n     callq foo\n     mov %rax,%r13\n     mov %rbx,%rdi\n-    mov $0x2,%esi\n-    mov $0x3,%edx\n-    mov $0x4,%ecx\n-    mov $0x5,%r8d\n+    mov $0x6,%esi\n+    mov $0x7,%edx\n+    mov $0x8,%ecx\n+    mov $0x9,%r8d\n     callq bar\n     add %r13,%rax\n     mov -0x228(%rbp),%rbx\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/808c9f7ebfffffc0a9a5d8aee1533759f09f93fc"}
{"commit_hash": "b696083d5e9bd65a964211bb121513298efec187", "short_hash": "b696083d5e9b", "author_name": "Salil Mehta", "author_email": "salil.mehta@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T11:52:32Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-16T13:04:44-08:00", "subject": "net: hns3: cleanup of stray struct hns3_link_mode_mapping", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Salil Mehta <salil.mehta@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 9, "score_impact": 5, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal in hns3 driver. Single file, single struct deleted. Proper sign-off chain from Huawei author to net maintainer David S. Miller. No user impact, no stable CC.", "code_snippet": "@@ -70,11 +70,6 @@ static const struct hns3_stats hns3_rxq_stats[] = {\n #define HNS3_NIC_LB_TEST_TX_CNT_ERR\t2\n #define HNS3_NIC_LB_TEST_RX_CNT_ERR\t3\n \n-struct hns3_link_mode_mapping {\n-\tu32 hns3_link_mode;\n-\tu32 ethtool_link_mode;\n-};\n-\n static int hns3_lp_setup(struct net_device *ndev, enum hnae3_loop loop, bool en)\n {\n \tstruct hnae3_handle *h = hns3_get_handle(ndev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b696083d5e9bd65a964211bb121513298efec187"}
{"commit_hash": "39977f4b51cdc544de4e5950751655f6693654a7", "short_hash": "39977f4b51cd", "author_name": "Hao Fang", "author_email": "fanghao11@huawei.com", "author_company": "Huawei", "author_date": "2019-11-07T11:48:29+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-17T08:37:29+08:00", "subject": "crypto: hisilicon - add vfs_num module param for zip", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/zip/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 98, "deletions": 84, "hunks": 6, "review_chain": {"signed_off_by": ["Hao Fang <fanghao11@huawei.com> (Huawei)", "Zhou Wang <wangzhou1@hisilicon.com> (HiSilicon)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 9, "score_impact": 15, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 5, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 3, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This commit adds a module parameter (vfs_num) to enable Virtual Functions during module load time for the Hisilicon ZIP crypto driver. The change involves adding a module parameter, refactoring the probe function position, and adding SR-IOV enablement call in probe. Code volume: 98 insertions, 84 deletions (moderate). Cross-org: authored by Huawei employee, signed off by subsystem maintainer Herbert Xu. Good commit message explaining the motivation. Review chain: author + 2 sign-offs including maintainer.", "code_snippet": "@@ -300,6 +300,10 @@ MODULE_PARM_DESC(pf_q_num, \"Number of queues in PF(v1 1-4096, v2 1-1024)\");\n static int uacce_mode;\n module_param(uacce_mode, int, 0);\n \n+static u32 vfs_num;\n+module_param(vfs_num, uint, 0444);\n+MODULE_PARM_DESC(vfs_num, \"Number of VFs to enable(1-63)\");\n+\n static const struct pci_device_id hisi_zip_dev_ids[] = {\n \t{ PCI_DEVICE(PCI_VENDOR_ID_HUAWEI, PCI_DEVICE_ID_ZIP_PF) },\n \t{ PCI_DEVICE(PCI_VENDOR_ID_HUAWEI, PCI_DEVICE_ID_ZIP_VF) },", "flags": [], "link": "https://lore.kernel.org/linux-kernel/39977f4b51cdc544de4e5950751655f6693654a7"}
{"commit_hash": "6abf57262166b4f4294667fb5206ae7ba1ba96f5", "short_hash": "6abf57262166", "author_name": "Zhihao Cheng", "author_email": "chengzhihao1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-20T14:05:20+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-11-17T22:22:54+01:00", "subject": "ubifs: ubifs_tnc_start_commit: Fix OOB in layout_in_gaps", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 27, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Zhihao Cheng <chengzhihao1@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 10, "score_impact": 18, "score_quality": 17, "score_community": 6, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Critical out-of-bounds memory access bug in UBIFS filesystem causing kernel crashes. Excellent commit message with detailed Oops analysis, bugzilla link, and clear explanation of root cause. Clean atomic fix with proper error handling (krealloc failure). Cross-company contribution (Huawei author, independent maintainer). Subsystem-tier bug (filesystem) but high impact due to crash severity and data corruption potential.", "code_snippet": "@@ -364,9 +364,9 @@ static int layout_in_gaps(struct ubifs_info *c, int cnt)\n \tif (!c->gap_lebs)\n \t\treturn -ENOMEM;\n \n-\tp = c->gap_lebs;\n+\told_idx_lebs = c->lst.idx_lebs;\n \tdo {\n-\t\tubifs_assert(c, p < c->gap_lebs + c->lst.idx_lebs);\n+\t\tubifs_assert(c, p < c->lst.idx_lebs);\n \t\twritten = layout_leb_in_gaps(c, p);\n \t\tif (written < 0) {\n \t\t\terr = written;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6abf57262166b4f4294667fb5206ae7ba1ba96f5"}
{"commit_hash": "10256f000932f12596dc043cf880ecf488a32510", "short_hash": "10256f000932", "author_name": "Zhihao Cheng", "author_email": "chengzhihao1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T20:58:23+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-11-17T22:22:54+01:00", "subject": "ubifs: do_kill_orphans: Fix a memory leak bug", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "ee1438ce5dc4", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 10, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Zhihao Cheng <chengzhihao1@huawei.com> (Huawei)", "zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 9, "score_impact": 14, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak bug fix in UBIFS orphan handling. Moved kmalloc outside loop to prevent repeated allocation without freeing. Clear commit message with Fixes tag. Good review chain with 2 reviewers from different organizations (Huawei, external maintainer). Maintainer Richard Weinberger provided sign-off.", "code_snippet": "@@ -631,12 +631,17 @@ static int do_kill_orphans(struct ubifs_info *c, struct ubifs_scan_leb *sleb,\n \tino_t inum;\n \tint i, n, err, first = 1;\n \n+\tino = kmalloc(UBIFS_MAX_INO_NODE_SZ, GFP_NOFS);\n+\tif (!ino)\n+\t\treturn -ENOMEM;\n+\n \tlist_for_each_entry(snod, &sleb->nodes, list) {\n \t\tif (snod->type != UBIFS_ORPH_NODE) {\n \t\t\tubifs_err(c, \"invalid node type %d in orphan area at %d:%d\",\n \t\t\t\t  snod->type, sleb->lnum, snod->offs);\n \t\t\tubifs_dump_node(c, snod->node);\n-\t\t\treturn -EINVAL;\n+\t\t\terr = -EINVAL;\n+\t\t\tgoto out_free;\n \t\t}\n \n \t\torph = snod->node;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/10256f000932f12596dc043cf880ecf488a32510"}
{"commit_hash": "a468168130ec1a3245812f2c713be97081149ca2", "short_hash": "a468168130ec", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T13:18:29Z", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-18T08:32:43-07:00", "subject": "scsi: sd_zbc: Remove set but not used variable 'buflen'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "d9dd73087a8b", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Damien Le Moal <damien.lemoal@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 2, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in SCSI ZBC driver. Fixes gcc warning. Single file (scsi subsystem), 2 deletions. Has Reviewed-by tag from maintainer. References originating commit. Low technical impact but good maintenance practice.", "code_snippet": "@@ -338,7 +338,6 @@ static int sd_zbc_check_zoned_characteristics(struct scsi_disk *sdkp,\n static int sd_zbc_check_zones(struct scsi_disk *sdkp, unsigned char *buf,\n \t\t\t      u32 *zblocks)\n {\n-\tsize_t buflen;\n \tu64 zone_blocks = 0;\n \tsector_t max_lba;\n \tunsigned char *rec;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a468168130ec1a3245812f2c713be97081149ca2"}
{"commit_hash": "9c91fa36b6179859aca6317b23933ffbc4f76940", "short_hash": "9c91fa36b617", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T21:41:19+08:00", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-11-18T10:37:58+01:00", "subject": "NFS: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 2, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial whitespace fix removing unnecessary semicolons after break statements in fs/nfs/super.c. Minimal code change (3 lines), low functional impact. Cross-org contribution from Huawei to NFS maintainer at Hammerspace with proper sign-off chain.", "code_snippet": "@@ -1592,7 +1592,7 @@ static int nfs_parse_mount_options(char *raw,\n \t\t\t\t\tdfprintk(MOUNT, \"NFS:   invalid \"\n \t\t\t\t\t\t\t\"lookupcache argument\\n\");\n \t\t\t\t\treturn 0;\n-\t\t\t};\n+\t\t\t}\n \t\t\tbreak;\n \t\tcase Opt_fscache_uniq:\n \t\t\tif (nfs_get_option_str(args, &mnt->fscache_uniq))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9c91fa36b6179859aca6317b23933ffbc4f76940"}
{"commit_hash": "000301042413c4e5d9f2227c60db8f12669fefce", "short_hash": "000301042413", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T22:01:41+08:00", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-11-18T10:47:38+01:00", "subject": "NFSv4: Make _nfs42_proc_copy_notify() static", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 1, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Sparse warning fix adding 'static' keyword to function declaration in NFSv4. Minimal code change (1 line). Cross-org collaboration (Huawei author, Hammerspace maintainer). Good commit message with Robot reported-by tag. High review chain quality with proper sign-offs. No user impact, no stable CC, no CVE.", "code_snippet": "@@ -524,9 +524,9 @@ static int nfs42_do_offload_cancel_async(struct file *dst,\n \treturn status;\n }\n \n-int _nfs42_proc_copy_notify(struct file *src, struct file *dst,\n-\t\t\t    struct nfs42_copy_notify_args *args,\n-\t\t\t    struct nfs42_copy_notify_res *res)\n+static int _nfs42_proc_copy_notify(struct file *src, struct file *dst,\n+\t\t\t\t   struct nfs42_copy_notify_args *args,\n+\t\t\t\t   struct nfs42_copy_notify_res *res)\n {\n \tstruct nfs_server *src_server = NFS_SERVER(file_inode(src));\n \tstruct rpc_message msg = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/000301042413c4e5d9f2227c60db8f12669fefce"}
{"commit_hash": "843aa17a35bf00be0f3a1108f4691bc45761cd23", "short_hash": "843aa17a35bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T11:25:22Z", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-11-18T10:47:39+01:00", "subject": "NFS: remove duplicated include from nfs4file.c", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 8, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 16, "score_technical": 3, "score_impact": 1, "score_quality": 6, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing duplicate #include statement. 1 line deletion. Single file in fs/nfs subsystem. Signed off by subsystem maintainer Trond Myklebust. Cross-org contribution (Huawei -> Hammerspace). No functional impact, no testing needed.", "code_snippet": "@@ -8,7 +8,6 @@\n #include <linux/file.h>\n #include <linux/falloc.h>\n #include <linux/nfs_fs.h>\n-#include <linux/file.h>\n #include \"delegation.h\"\n #include \"internal.h\"\n #include \"iostat.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/843aa17a35bf00be0f3a1108f4691bc45761cd23"}
{"commit_hash": "a7adabeece570b8a566dd592219410456676796e", "short_hash": "a7adabeece57", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-16T19:04:28+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-11-18T10:52:55+01:00", "subject": "drm/gma500: remove set but not used variable 'channel_eq'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/gma500/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 3, "score_quality": 10, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Single file, low-tier subsystem (gma500 legacy GPU). Well-signed with maintainer endorsement.", "code_snippet": "@@ -1594,7 +1594,6 @@ cdv_intel_dp_complete_link_train(struct gma_encoder *encoder)\n {\n \tstruct drm_device *dev = encoder->base.dev;\n \tstruct cdv_intel_dp *intel_dp = encoder->dev_priv;\n-\tbool channel_eq = false;\n \tint tries, cr_tries;\n \tu32 reg;\n \tuint32_t DP = intel_dp->DP;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7adabeece570b8a566dd592219410456676796e"}
{"commit_hash": "7fcd011a86dc17b57dd70276f948bacb5376022b", "short_hash": "7fcd011a86dc", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:45:52+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:40+01:00", "subject": "staging: rtl8723bs: remove set but not used variable 'pHalData', 'pregistrypriv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 5, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup commit removing unused variables to fix compiler warnings in staging driver. Low technical complexity (1 point), low subsystem criticality (staging driver, 3 points), base score for cleanup (4 points). Strong commit message with clear context (5 points). Clean atomic change (3 points). Maintainer Greg Kroah-Hartman signed off, indicating proper review (4 points). No user impact or cross-subsystem effects.", "code_snippet": "@@ -570,14 +570,11 @@ static void HalRxAggr8723BSdio(struct adapter *padapter)\n \n static void sdio_AggSettingRxUpdate(struct adapter *padapter)\n {\n-\tstruct hal_com_data *pHalData;\n \tu8 valueDMA;\n \tu8 valueRxAggCtrl = 0;\n \tu8 aggBurstNum = 3;  /* 0:1, 1:2, 2:3, 3:4 */\n \tu8 aggBurstSize = 0;  /* 0:1K, 1:512Byte, 2:256Byte... */\n \n-\tpHalData = GET_HAL_DATA(padapter);\n-\n \tvalueDMA = rtw_read8(padapter, REG_TRXDMA_CTRL);\n \tvalueDMA |= RXDMA_AGG_EN;\n \trtw_write8(padapter, REG_TRXDMA_CTRL, valueDMA);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fcd011a86dc17b57dd70276f948bacb5376022b"}
{"commit_hash": "04254066ac76a96dfaafd730a999daa678aa59c0", "short_hash": "04254066ac76", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:58:21+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:40+01:00", "subject": "staging: rtl8192e: remove set but not used variable 'frag'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/rtl8192e"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 4, "score_impact": 2, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable in staging driver. Low complexity (1 line removed, 2 additions). Staging subsystem has minimal criticality. Cross-org contribution from Huawei to maintainer Greg Kroah-Hartman. Excellent commit message with gcc warning details and fix reference.", "code_snippet": "@@ -1686,11 +1686,10 @@ static void _rtl92e_process_phyinfo(struct r8192_priv *priv, u8 *buffer,\n \tstatic u32 last_beacon_adc_pwdb;\n \tstruct rtllib_hdr_3addr *hdr;\n \tu16 sc;\n-\tunsigned int frag, seq;\n+\tunsigned int seq;\n \n \thdr = (struct rtllib_hdr_3addr *)buffer;\n \tsc = le16_to_cpu(hdr->seq_ctl);\n-\tfrag = WLAN_GET_SEQ_FRAG(sc);\n \tseq = WLAN_GET_SEQ_SEQ(sc);\n \tcurr_st->Seq_Num = seq;\n \tif (!prev_st->bIsAMPDU)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04254066ac76a96dfaafd730a999daa678aa59c0"}
{"commit_hash": "68a65ab1b7f19a702679e06e5691e81ea0181a7a", "short_hash": "68a65ab1b7f1", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:45:53+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:41+01:00", "subject": "staging: rtl8723bs: remove set but not used variable 'pHalData', 'pdmpriv'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 7, "score_quality": 10, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Staging driver cleanup removing unused variables flagged by gcc warnings. Reviewed by staging maintainer Greg Kroah-Hartman. Simple cleanup with clear justification (fixes compiler warnings). Low impact as unused variables don't affect functionality.", "code_snippet": "@@ -2234,12 +2234,8 @@ void rtl8723b_set_hal_ops(struct hal_ops *pHalFunc)\n \n void rtl8723b_InitAntenna_Selection(struct adapter *padapter)\n {\n-\tstruct hal_com_data *pHalData;\n \tu8 val;\n \n-\n-\tpHalData = GET_HAL_DATA(padapter);\n-\n \tval = rtw_read8(padapter, REG_LEDCFG2);\n \t/*  Let 8051 take control antenna settting */\n \tval |= BIT(7); /*  DPDT_SEL_EN, 0x4C[23] */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68a65ab1b7f19a702679e06e5691e81ea0181a7a"}
{"commit_hash": "7da8abcf482adcc0d84ebf619f9f841058fccdb1", "short_hash": "7da8abcf482a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:45:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:42+01:00", "subject": "staging: rtl8723bs: remove set but not used variable 'change', 'pos'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 15, "score_technical": 3, "score_impact": 2, "score_quality": 8, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variables in staging driver. Low technical impact (1 insertion, 4 deletions, staging tier-2 subsystem). Low category base for trivial cleanup (2). Basic commit message with compiler warning details (3). Atomic cleanup (3). Maintainer sign-off present (2).", "code_snippet": "@@ -1795,7 +1793,7 @@ static int rtw_cfg80211_set_key_mgt(struct security_priv *psecuritypriv, u32 key\n \n static int rtw_cfg80211_set_wpa_ie(struct adapter *padapter, u8 *pie, size_t ielen)\n {\n-\tu8 *buf = NULL, *pos = NULL;\n+\tu8 *buf = NULL;\n \tint group_cipher = 0, pairwise_cipher = 0;\n \tint ret = 0;\n \tint wpa_ielen = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7da8abcf482adcc0d84ebf619f9f841058fccdb1"}
{"commit_hash": "17b937a9d6f7ed4aeba0b610baafccf7e730e71f", "short_hash": "17b937a9d6f7", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:45:54+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:42+01:00", "subject": "staging: rtl8723bs: remove set but not used variable 'pmlmeinfo', 'pHalData'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 4, "score_impact": 6, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup removing unused variables in staging driver. Low code volume (10 deletions), staging subsystem (tier 3). Good commit message with compiler warning context and git blame. Signed off by maintainer Greg Kroah-Hartman.", "code_snippet": "@@ -2122,12 +2118,9 @@ static void ConstructBtNullFunctionData(\n \n static void SetFwRsvdPagePkt_BTCoex(struct adapter *padapter)\n {\n-\tstruct hal_com_data *pHalData;\n \tstruct xmit_frame *pcmdframe;\n \tstruct pkt_attrib *pattrib;\n \tstruct xmit_priv *pxmitpriv;\n-\tstruct mlme_ext_priv *pmlmeext;\n-\tstruct mlme_ext_info *pmlmeinfo;\n \tu32 BeaconLength = 0;\n \tu32 BTQosNullLength = 0;\n \tu8 *ReservedPagePacket;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/17b937a9d6f7ed4aeba0b610baafccf7e730e71f"}
{"commit_hash": "eb22caade58d6da19595f7a515ca4b8fdfccb9a2", "short_hash": "eb22caade58d", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T15:45:55+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-18T12:49:42+01:00", "subject": "staging: rtl8723bs: remove set but not used variable 'notify_ielen', 'notify_ie', 'notify_interval', 'notify_capability'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 13, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variables in staging driver (low tier subsystem). Well-documented with gcc warnings, properly reviewed through subsystem maintainer Greg Kroah-Hartman. Low code volume (10 deletions), no user impact or security implications.", "code_snippet": "@@ -240,10 +240,6 @@ struct cfg80211_bss *rtw_cfg80211_inform_bss(struct adapter *padapter, struct wl\n \tu16 channel;\n \tu32 freq;\n \tu64 notify_timestamp;\n-\tu16 notify_capability;\n-\tu16 notify_interval;\n-\tu8 *notify_ie;\n-\tsize_t notify_ielen;\n \ts32 notify_signal;\n \tu8 *buf = NULL, *pbuf;\n \tsize_t len, bssinf_len = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb22caade58d6da19595f7a515ca4b8fdfccb9a2"}
{"commit_hash": "1d7c4c115f7a835fec387d7f61767781381db5db", "short_hash": "1d7c4c115f7a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T18:59:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-18T12:58:24Z", "subject": "regulator: vexpress: Use PTR_ERR_OR_ZERO() to simplify code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/regulator", "subsystems_touched": ["drivers/regulator"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 5, "score_impact": 5, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple code refactoring using PTR_ERR_OR_ZERO() to simplify error handling. Coccicelle-generated cleanup with minimal impact. Cross-org contribution from Huawei to subsystem maintainer Mark Brown.", "code_snippet": "@@ -75,10 +75,7 @@ static int vexpress_regulator_probe(struct platform_device *pdev)\n \tconfig.of_node = pdev->dev.of_node;\n \n \trdev = devm_regulator_register(&pdev->dev, desc, &config);\n-\tif (IS_ERR(rdev))\n-\t\treturn PTR_ERR(rdev);\n-\n-\treturn 0;\n+\treturn PTR_ERR_OR_ZERO(rdev);\n }\n \n static const struct of_device_id vexpress_regulator_of_match[] = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1d7c4c115f7a835fec387d7f61767781381db5db"}
{"commit_hash": "ae7c2d342a10dbef1e054482f46498b6282a1df0", "short_hash": "ae7c2d342a10", "author_name": "Luhua Xu", "author_email": "luhua.xu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-18T12:57:16+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-18T17:47:00Z", "subject": "spi: mediatek: add SPI_CS_HIGH support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/spi", "subsystems_touched": ["drivers/spi", "include/linux/platform_data"], "subsystem_tier": 4, "files_changed": 2, "insertions": 10, "deletions": 3, "hunks": 10, "review_chain": {"signed_off_by": ["Luhua Xu <luhua.xu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 6, "score_impact": 13, "score_quality": 15, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Medium-sized driver feature adding SPI_CS_HIGH support for MediaTek SPI controller. Clean refactoring from custom cs_pol to standard SPI_CS_HIGH flag. Proper maintainer sign-off from Mark Brown. Affects specific hardware platform.", "code_snippet": "@@ -646,6 +650,10 @@ static int mtk_spi_probe(struct platform_device *pdev)\n \n \tmdata = spi_master_get_devdata(master);\n \tmdata->dev_comp = of_id->data;\n+\n+\tif (mdata->dev_comp->enhance_timing)\n+\t\tmaster->mode_bits |= SPI_CS_HIGH;\n+\n \tif (mdata->dev_comp->must_tx)\n \t\tmaster->flags = SPI_MASTER_MUST_TX;\n \ndiff --git a/include/linux/platform_data/spi-mt65xx.h b/include/linux/platform_data/spi-mt65xx.h\nindex f0e6d6483e62..65fd5ffd257c 100644\n--- a/include/linux/platform_data/spi-mt65xx.h\n+++ b/include/linux/platform_data/spi-mt65xx.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae7c2d342a10dbef1e054482f46498b6282a1df0"}
{"commit_hash": "dff10bbea4be47bdb615b036c834a275b7c68133", "short_hash": "dff10bbea4be", "author_name": "Sun Ke", "author_email": "sunke32@huawei.com", "author_company": "Huawei", "author_date": "2019-11-19T14:09:11+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-11-19T09:23:26-07:00", "subject": "nbd:fix memory leak in nbd_get_socket()", "primary_category": "BUG-LEAK", "secondary_categories": ["BACK-STABLE"], "cve_ids": [], "fixes_tag": "cf1b2326b734", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/block/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sun Ke <sunke32@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Josef Bacik <josef@toxicpanda.com> (Toxicpanda)", "Mike Christie <mchristi@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 7, "score_impact": 14, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 3, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in nbd driver with 2 reviewers (Josef Bacik, Mike Christie) and maintainer signoff (Jens Axboe). Marked for stable backport. Single-line change adding sockfd_put() on error path.", "code_snippet": "@@ -993,6 +993,7 @@ static struct socket *nbd_get_socket(struct nbd_device *nbd, unsigned long fd,\n \tif (sock->ops->shutdown == sock_no_shutdown) {\n \t\tdev_err(disk_to_dev(nbd->disk), \"Unsupported socket: shutdown callout must be supported.\\n\");\n \t\t*err = -EINVAL;\n+\t\tsockfd_put(sock);\n \t\treturn NULL;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dff10bbea4be47bdb615b036c834a275b7c68133"}
{"commit_hash": "a7583e72a5f22470d3e6fd3b6ba912892242339f", "short_hash": "a7583e72a5f2", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T15:16:24+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-11-19T09:40:16+01:00", "subject": "ACPI: sysfs: Change ACPI_MASKABLE_GPE_MAX to 0x100", "primary_category": "BUG-OTHER", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "0f27cff8597d", "cc_stable": false, "subsystem_prefix": "acpi", "subsystems_touched": ["acpi", "Documentation"], "subsystem_tier": 7, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 6, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix addressing a logic error in GPE masking check. Changes macro from 0xFF to 0x100, removes invalid u8 comparison, and changes data type to u16. Includes Fixes tag and documentation update. Cross-org contribution from Huawei to Intel maintainer.", "code_snippet": "@@ -819,14 +819,14 @@ static ssize_t counter_set(struct kobject *kobj,\n  * interface:\n  *   echo unmask > /sys/firmware/acpi/interrupts/gpe00\n  */\n-#define ACPI_MASKABLE_GPE_MAX\t0xFF\n+#define ACPI_MASKABLE_GPE_MAX\t0x100\n static DECLARE_BITMAP(acpi_masked_gpes_map, ACPI_MASKABLE_GPE_MAX) __initdata;\n \n static int __init acpi_gpe_set_masked_gpes(char *val)\n {\n \tu8 gpe;\n \n-\tif (kstrtou8(val, 0, &gpe) || gpe > ACPI_MASKABLE_GPE_MAX)\n+\tif (kstrtou8(val, 0, &gpe))\n \t\treturn -EINVAL;\n \tset_bit(gpe, acpi_masked_gpes_map);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7583e72a5f22470d3e6fd3b6ba912892242339f"}
{"commit_hash": "7e30402bed151fc6222baafe5aa1abe3e65c3065", "short_hash": "7e30402bed15", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T20:36:26+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:51-05:00", "subject": "drm/amd/display: remove set but not used variable 'bp' in bios_parser.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable to fix compiler warning. Well-reviewed with proper attribution to Hulk Robot. Low impact as variable was never used after being introduced in prior commit. Cross-org contribution from Huawei to AMD DRM subsystem.", "code_snippet": "@@ -2739,7 +2739,6 @@ static enum bp_result bios_get_board_layout_info(\n \tstruct board_layout_info *board_layout_info)\n {\n \tunsigned int i;\n-\tstruct bios_parser *bp;\n \tenum bp_result record_result;\n \n \tconst unsigned int slot_index_to_vbios_id[MAX_BOARD_SLOTS] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7e30402bed151fc6222baafe5aa1abe3e65c3065"}
{"commit_hash": "8f72bfe8d85a827f638141d0f07de42d0c24a36f", "short_hash": "8f72bfe8d85a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T20:36:27+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:51-05:00", "subject": "drm/amd/display: remove set but not used variable 'min_content'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 5, "score_impact": 3, "score_quality": 15, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. 2 lines deleted from GPU driver. Cross-org contribution (Huawei to AMD). Well-reviewed with Reviewed-by tag, clear commit message with compiler warning output and git history reference. No user impact or functional change.", "code_snippet": "@@ -937,7 +937,6 @@ static bool build_freesync_hdr(struct pwl_float_data_ex *rgb_regamma,\n \tstruct fixed31_32 max_display;\n \tstruct fixed31_32 min_display;\n \tstruct fixed31_32 max_content;\n-\tstruct fixed31_32 min_content;\n \tstruct fixed31_32 clip = dc_fixpt_one;\n \tstruct fixed31_32 output;\n \tbool use_eetf = false;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f72bfe8d85a827f638141d0f07de42d0c24a36f"}
{"commit_hash": "589d8d282ebe1eab2dd8b1fba3e60322787a50e6", "short_hash": "589d8d282ebe", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T20:36:25+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:51-05:00", "subject": "drm/amd/display: remove set but not used variable 'bp' in bios_parser2.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "1eeedbcc20d6", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 6, "score_impact": 2, "score_quality": 14, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. 2 deletions, single file. Cross-org contribution (Huawei to AMD tree). Has Reviewed-by from AMD maintainer and Signed-off-by by AMD maintainer. Fixes gcc warning but no functional impact.", "code_snippet": "@@ -1838,7 +1838,6 @@ static enum bp_result bios_get_board_layout_info(\n \tstruct board_layout_info *board_layout_info)\n {\n \tunsigned int i;\n-\tstruct bios_parser *bp;\n \tenum bp_result record_result;\n \n \tconst unsigned int slot_index_to_vbios_id[MAX_BOARD_SLOTS] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/589d8d282ebe1eab2dd8b1fba3e60322787a50e6"}
{"commit_hash": "d3b65841b31c0192f997e0f9bc64dccbfaa97bcc", "short_hash": "d3b65841b31c", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T20:36:24+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:51-05:00", "subject": "drm/amd/display: remove set but not used variable 'old_plane_crtc'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "a87fa9938749", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Harry Wentland <harry.wentland@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Low technical complexity (1 insertion, 2 deletions), subsystem tier 6 (DRM/display driver). Category score 2 (trivial cleanup). Good commit message with references. Cross-org contribution (Huawei to AMD), reviewed by AMD maintainer.", "code_snippet": "@@ -7611,7 +7611,7 @@ dm_determine_update_type_for_commit(struct amdgpu_display_manager *dm,\n \tint i, j, num_plane, ret = 0;\n \tstruct drm_plane_state *old_plane_state, *new_plane_state;\n \tstruct dm_plane_state *new_dm_plane_state, *old_dm_plane_state;\n-\tstruct drm_crtc *new_plane_crtc, *old_plane_crtc;\n+\tstruct drm_crtc *new_plane_crtc;\n \tstruct drm_plane *plane;\n \n \tstruct drm_crtc *crtc;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3b65841b31c0192f997e0f9bc64dccbfaa97bcc"}
{"commit_hash": "d191bd678153307573d615bb42da4fcca19fe477", "short_hash": "d191bd678153", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T11:20:25+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:51-05:00", "subject": "drm/amdkfd: remove set but not used variable 'top_dev'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-WHITESPACE"], "cve_ids": [], "fixes_tag": "1ae99eab34f9", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdkfd"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Felix Kuehling <Felix.Kuehling@amd.com> (AMD)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Felix Kuehling <Felix.Kuehling@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 25, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup commit removing unused variable to fix compiler warning. Low technical impact (3 deletions in driver code). Good review chain with Reported-by and Reviewed-by tags. Cross-org contribution from Huawei to AMD subsystem.", "code_snippet": "@@ -62,9 +62,6 @@ int kfd_iommu_device_init(struct kfd_dev *kfd)\n \tstruct amd_iommu_device_info iommu_info;\n \tunsigned int pasid_limit;\n \tint err;\n-\tstruct kfd_topology_device *top_dev;\n-\n-\ttop_dev = kfd_topology_device_by_id(kfd->id);\n \n \tif (!kfd->device_info->needs_iommu_device)\n \t\treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d191bd678153307573d615bb42da4fcca19fe477"}
{"commit_hash": "4a11327822006f56b673f4fb06f1718bcb9a700a", "short_hash": "4a1132782200", "author_name": "Chen Wandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T16:03:34+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/amd/powerplay: return errno code to caller when error occur", "primary_category": "BUG-OTHER", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/powerplay"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chen Wandun <chenwandun@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": ["Evan Quan <evan.quan@amd.com> (AMD)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 11, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small bug fix adding error handling return statements in AMD GPU power management code. Reviewed by Evan Quan and signed by maintainer Alex Deucher. Cross-org contribution from Huawei to AMD subsystem.", "code_snippet": "@@ -1371,11 +1371,16 @@ static int vegam_populate_smc_boot_level(struct pp_hwmgr *hwmgr,\n \tresult = phm_find_boot_level(&(data->dpm_table.sclk_table),\n \t\t\tdata->vbios_boot_state.sclk_bootup_value,\n \t\t\t(uint32_t *)&(table->GraphicsBootLevel));\n+\tif (result)\n+\t\treturn result;\n \n \tresult = phm_find_boot_level(&(data->dpm_table.mclk_table),\n \t\t\tdata->vbios_boot_state.mclk_bootup_value,\n \t\t\t(uint32_t *)&(table->MemoryBootLevel));\n \n+\tif (result)\n+\t\treturn result;\n+\n \ttable->BootVddc  = data->vbios_boot_state.vddc_bootup_value *\n \t\t\tVOLTAGE_SCALE;\n \ttable->BootVddci = data->vbios_boot_state.vddci_bootup_value *\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a11327822006f56b673f4fb06f1718bcb9a700a"}
{"commit_hash": "16641949257a5644a0f9f2d2f454663c9a37841e", "short_hash": "16641949257a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T17:00:31+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/amdgpu: remove not needed memset", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/amdgpu"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 7, "score_impact": 4, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing redundant memset after dma_alloc_coherent which already zeroes memory. Small change (1 line deletion) in GPU driver subsystem (tier 6). Cross-org contribution from Huawei author with AMD maintainer sign-off. Good commit message with coccicheck warning context and Reported-by tag.", "code_snippet": "@@ -66,7 +66,6 @@ int amdgpu_ih_ring_init(struct amdgpu_device *adev, struct amdgpu_ih_ring *ih,\n \t\tif (ih->ring == NULL)\n \t\t\treturn -ENOMEM;\n \n-\t\tmemset((void *)ih->ring, 0, ih->ring_size + 8);\n \t\tih->gpu_addr = dma_addr;\n \t\tih->wptr_addr = dma_addr + ih->ring_size;\n \t\tih->wptr_cpu = &ih->ring[ih->ring_size / 4];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16641949257a5644a0f9f2d2f454663c9a37841e"}
{"commit_hash": "dc9b3dbd28744510b78490dc6312848a8f918749", "short_hash": "dc9b3dbd2874", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:13:00+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'tv_pll_cntl1'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/radeon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 3, "score_impact": 2, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variable to fix compiler warning. Single file change in DRM/radeon driver (tier 6 subsystem). Low technical impact (1+6+0=7), minimal impact score (2+0+0+0=2). Good quality: proper commit message with Fixes tag context, cross-org contribution from Huawei to AMD maintainer (2+4=6), atomic change. Total: 7+2+12+6=27/100.", "code_snippet": "@@ -537,7 +537,7 @@ void radeon_legacy_tv_mode_set(struct drm_encoder *encoder,\n \tuint32_t tv_master_cntl, tv_rgb_cntl, tv_dac_cntl;\n \tuint32_t tv_modulator_cntl1, tv_modulator_cntl2;\n \tuint32_t tv_vscaler_cntl1, tv_vscaler_cntl2;\n-\tuint32_t tv_pll_cntl, tv_pll_cntl1, tv_ftotal;\n+\tuint32_t tv_pll_cntl, tv_ftotal;\n \tuint32_t tv_y_fall_cntl, tv_y_rise_cntl, tv_y_saw_tooth_cntl;\n \tuint32_t m, n, p;\n \tconst uint16_t *hor_timing;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dc9b3dbd28744510b78490dc6312848a8f918749"}
{"commit_hash": "77441f77949807fda4a0aec0bdf3e86ae863fd56", "short_hash": "77441f779498", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:12:59+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'blocks'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "56278a8edace", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/radeon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 7, "score_impact": 4, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 3, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable flagged by compiler warning. Single file, single subsystem (DRM/radeon), low code volume (1 insertion, 2 deletions). Proper commit message with fixes tag, cross-org contribution (Huawei to AMD maintainer), good maintainer endorsement.", "code_snippet": "@@ -2638,7 +2638,7 @@ void radeon_combios_get_power_modes(struct radeon_device *rdev)\n {\n \tstruct drm_device *dev = rdev->ddev;\n \tu16 offset, misc, misc2 = 0;\n-\tu8 rev, blocks, tmp;\n+\tu8 rev, tmp;\n \tint state_index = 0;\n \tstruct radeon_i2c_bus_rec i2c_bus;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77441f77949807fda4a0aec0bdf3e86ae863fd56"}
{"commit_hash": "5952c48993375a9da2de39be30df475cf590b0ce", "short_hash": "5952c4899337", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:12:58+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'radeon_connector'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "377bd8a98d7d", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/radeon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 2, "score_quality": 13, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variable in DRM/radeon driver. Fixing compiler warning - trivial maintenance. Well-documented with fixes tag and signed-off by maintainer Alex Deucher.", "code_snippet": "@@ -1687,7 +1687,6 @@ bool radeon_crtc_scaling_mode_fixup(struct drm_crtc *crtc,\n \tstruct radeon_crtc *radeon_crtc = to_radeon_crtc(crtc);\n \tstruct radeon_encoder *radeon_encoder;\n \tstruct drm_connector *connector;\n-\tstruct radeon_connector *radeon_connector;\n \tbool first = true;\n \tu32 src_v = 1, dst_v = 1;\n \tu32 src_h = 1, dst_h = 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5952c48993375a9da2de39be30df475cf590b0ce"}
{"commit_hash": "3f47f0301594c4f930a32bd7d8125cfdeb6b4b6e", "short_hash": "3f47f0301594", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:12:57+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'dig_connector'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "379dfc25e257", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/radeon"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 8, "score_impact": 2, "score_quality": 9, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Dead code removal fixing compiler warning. Very small scope (3 deletions), trivial cleanup, low impact. Cross-org contribution (Huawei author, AMD maintainer), good commit message with fixes tag and context.", "code_snippet": "@@ -412,7 +412,6 @@ int radeon_dp_get_panel_mode(struct drm_encoder *encoder,\n \tstruct drm_device *dev = encoder->dev;\n \tstruct radeon_device *rdev = dev->dev_private;\n \tstruct radeon_connector *radeon_connector = to_radeon_connector(connector);\n-\tstruct radeon_connector_atom_dig *dig_connector;\n \tint panel_mode = DP_PANEL_MODE_EXTERNAL_DP_MODE;\n \tu16 dp_bridge = radeon_connector_encoder_get_dp_bridge_encoder_id(connector);\n \tu8 tmp;", "flags": ["CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/3f47f0301594c4f930a32bd7d8125cfdeb6b4b6e"}
{"commit_hash": "ac52caecbcf2c30ce95b2536c1caf2643c49b91c", "short_hash": "ac52caecbcf2", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:12:56+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'backbias_response_time'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "a9e61410921b", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/radeon"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable reported by Hulk Robot. Fixed gcc warning. Cross-org commit from Huawei to AMD maintainer. Clean commit message with Fixes tag. Minimal code change (1 insertion, 2 deletions).", "code_snippet": "@@ -3640,14 +3640,13 @@ static int si_notify_smc_display_change(struct radeon_device *rdev,\n \n static void si_program_response_times(struct radeon_device *rdev)\n {\n-\tu32 voltage_response_time, backbias_response_time, acpi_delay_time, vbi_time_out;\n+\tu32 voltage_response_time, acpi_delay_time, vbi_time_out;\n \tu32 vddc_dly, acpi_dly, vbi_dly;\n \tu32 reference_clock;\n \n \tsi_write_smc_soft_register(rdev, SI_SMC_SOFT_REGISTER_mvdd_chg_time, 1);\n \n \tvoltage_response_time = (u32)rdev->pm.dpm.voltage_response_time;\n-\tbackbias_response_time = (u32)rdev->pm.dpm.backbias_response_time;\n \n \tif (voltage_response_time == 0)\n \t\tvoltage_response_time = 1000;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac52caecbcf2c30ce95b2536c1caf2643c49b91c"}
{"commit_hash": "e9f782dd22c0e17874b8b8e12aafcd3a06810dd0", "short_hash": "e9f782dd22c0", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-15T20:12:55+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-19T10:12:54-05:00", "subject": "drm/radeon: remove set but not used variable 'size', 'relocs_chunk'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "gpu/drm", "subsystems_touched": ["drivers/gpu/drm/radeon"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 6, "score_impact": 2, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 3, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Cleanup commit removing unused variables to fix compiler warnings. Small scope (4 deletions), limited to a single file in DRM/radeon driver. Cross-org contribution (Huawei author, AMD maintainer). Good commit message with detailed historical context and references to original commits. Maintainer endorsement present via co-sign-off. No stable tagging, minimal user impact, trivial cleanup.", "code_snippet": "@@ -350,7 +350,7 @@ static void r600_cs_track_init(struct r600_cs_track *track)\n static int r600_cs_track_validate_cb(struct radeon_cs_parser *p, int i)\n {\n \tstruct r600_cs_track *track = p->track;\n-\tu32 slice_tile_max, size, tmp;\n+\tu32 slice_tile_max, tmp;\n \tu32 height, height_align, pitch, pitch_align, depth_align;\n \tu64 base_offset, base_align;\n \tstruct array_mode_checker array_check;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9f782dd22c0e17874b8b8e12aafcd3a06810dd0"}
{"commit_hash": "b2e2f0e6a6f910c906c083584b6e0afd12266f22", "short_hash": "b2e2f0e6a6f9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-19T22:21:13+08:00", "committer_name": "Alexei Starovoitov", "committer_email": "ast@kernel.org", "committer_company": "Kernel", "commit_date": "2019-11-19T16:57:32-08:00", "subject": "bpf: Make array_map_mmap static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["kernel/bpf"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexei Starovoitov <ast@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Andrii Nakryiko <andriin@fb.com> (Fb)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 9, "score_impact": 2, "score_quality": 14, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Sparse warning fix changing int to static int. Single function scope change with proper maintainer chain (Acked-by, Signed-off-by, Link). Trivial cleanup with good review quality.", "code_snippet": "@@ -478,7 +478,7 @@ static int array_map_check_btf(const struct bpf_map *map,\n \treturn 0;\n }\n \n-int array_map_mmap(struct bpf_map *map, struct vm_area_struct *vma)\n+static int array_map_mmap(struct bpf_map *map, struct vm_area_struct *vma)\n {\n \tstruct bpf_array *array = container_of(map, struct bpf_array, map);\n \tpgoff_t pgoff = PAGE_ALIGN(sizeof(*array)) >> PAGE_SHIFT;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2e2f0e6a6f910c906c083584b6e0afd12266f22"}
{"commit_hash": "74e78d6bae1904e87469da5ed87e9f6bd1131f46", "short_hash": "74e78d6bae19", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-11-20T10:07:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-19T19:09:53-08:00", "subject": "net: hns3: fix a wrong reset interrupt status mask", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "2336f19d7892", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 13, "score_impact": 19, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 3, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Critical network driver bugfix: incorrect bit mask for reset interrupt status could cause improper reset handling. Hardware documentation mismatch led to wrong interrupt bits being read. Single-line fix with proper Fixes tag and clear explanation from domain expert.", "code_snippet": "@@ -166,7 +166,7 @@ enum HLCGE_PORT_TYPE {\n #define HCLGE_GLOBAL_RESET_BIT\t\t0\n #define HCLGE_CORE_RESET_BIT\t\t1\n #define HCLGE_IMP_RESET_BIT\t\t2\n-#define HCLGE_RESET_INT_M\t\tGENMASK(2, 0)\n+#define HCLGE_RESET_INT_M\t\tGENMASK(7, 5)\n #define HCLGE_FUN_RST_ING\t\t0x20C00\n #define HCLGE_FUN_RST_ING_B\t\t0\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/74e78d6bae1904e87469da5ed87e9f6bd1131f46"}
{"commit_hash": "9a5d847c0bdadb67892b7d176a028578aaed0c3a", "short_hash": "9a5d847c0bda", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T11:52:07-07:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-19T19:18:15+01:00", "subject": "coresight: replicator: Fix missing spin_lock_init()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/hwtracing/coresight"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": ["Yabin Cui <yabinc@google.com> (Google)"], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 7, "score_impact": 15, "score_quality": 15, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for uninitialized spinlock in coresight replicator driver - detected by Coccinelle, 1 line addition, tested by Yabin Cui, signed by maintainer Mathieu Poirier, cross-org contribution from Huawei", "code_snippet": "@@ -248,6 +248,7 @@ static int replicator_probe(struct device *dev, struct resource *res)\n \t}\n \tdev->platform_data = pdata;\n \n+\tspin_lock_init(&drvdata->spinlock);\n \tdesc.type = CORESIGHT_DEV_TYPE_LINK;\n \tdesc.subtype.link_subtype = CORESIGHT_DEV_SUBTYPE_LINK_SPLIT;\n \tdesc.ops = &replicator_cs_ops;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a5d847c0bdadb67892b7d176a028578aaed0c3a"}
{"commit_hash": "9def5dc10d3e21cf7673731be21224b6cc0eb16a", "short_hash": "9def5dc10d3e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T11:52:06-07:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-19T19:18:15+01:00", "subject": "coresight: funnel: Fix missing spin_lock_init()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/hwtracing/coresight", "subsystems_touched": ["drivers/hwtracing/coresight/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": ["Yabin Cui <yabinc@google.com> (Google)"], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 7, "score_impact": 16, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Bug fix for uninitialized spinlock in coresight funnel driver that could cause crashes. Single line addition fixes critical initialization bug. Good review chain with proper tags (Signed-off-by, Tested-by, Link). Cross-org contribution from Huawei, reviewed by Linaro maintainer.", "code_snippet": "@@ -253,6 +253,7 @@ static int funnel_probe(struct device *dev, struct resource *res)\n \t}\n \tdev->platform_data = pdata;\n \n+\tspin_lock_init(&drvdata->spinlock);\n \tdesc.type = CORESIGHT_DEV_TYPE_LINK;\n \tdesc.subtype.link_subtype = CORESIGHT_DEV_SUBTYPE_LINK_MERG;\n \tdesc.ops = &funnel_cs_ops;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9def5dc10d3e21cf7673731be21224b6cc0eb16a"}
{"commit_hash": "7af496b9eb0433bc4cb478c9a46f85509cdb5541", "short_hash": "7af496b9eb04", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-16T15:22:47+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-20T09:08:34+02:00", "subject": "brcmfmac: remove set but not used variable 'mpnum','nsp','nmp'", "primary_category": "TRIV-TRIVIAL", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 3, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup commit removing unused variables to fix compiler warnings. Only 4 lines removed, 1 line added. Reported by automated robot (Hulk Robot). Low technical complexity, low impact. Cross-org contribution from Huawei to Broadcom wireless subsystem, reviewed by maintainer Kalle Valo.", "code_snippet": "@@ -854,7 +852,7 @@ int brcmf_chip_dmp_erom_scan(struct brcmf_chip_priv *ci)\n \tu8 desc_type = 0;\n \tu32 val;\n \tu16 id;\n-\tu8 nmp, nsp, nmw, nsw, rev;\n+\tu8 nmw, nsw, rev;\n \tu32 base, wrap;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7af496b9eb0433bc4cb478c9a46f85509cdb5541"}
{"commit_hash": "805a57acd7b52e1ba0ad2649e33c585bba958633", "short_hash": "805a57acd7b5", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-16T15:41:22+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-20T09:33:55+02:00", "subject": "ipw2x00: remove set but not used variable 'reason'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 12, "score_impact": 5, "score_quality": 12, "score_community": 3, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 3, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low complexity, well-reviewed (maintainer signoff), minimal impact.", "code_snippet": "@@ -6788,9 +6788,6 @@ static int ipw_wx_set_mlme(struct net_device *dev,\n {\n \tstruct ipw_priv *priv = libipw_priv(dev);\n \tstruct iw_mlme *mlme = (struct iw_mlme *)extra;\n-\t__le16 reason;\n-\n-\treason = cpu_to_le16(mlme->reason_code);\n \n \tswitch (mlme->cmd) {\n \tcase IW_MLME_DEAUTH:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/805a57acd7b52e1ba0ad2649e33c585bba958633"}
{"commit_hash": "f89f1aefff5a53917579bbf8b85be09d7cc17daf", "short_hash": "f89f1aefff5a", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-16T15:41:23+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-20T09:34:08+02:00", "subject": "ipw2x00: remove set but not used variable 'force_update'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 4, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 5, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Well-reviewed with proper sign-offs, cross-org contribution from Huawei to maintainer Kalle Valo.", "code_snippet": "@@ -5565,7 +5565,7 @@ static void shim__set_security(struct net_device *dev,\n \t\t\t       struct libipw_security *sec)\n {\n \tstruct ipw2100_priv *priv = libipw_priv(dev);\n-\tint i, force_update = 0;\n+\tint i;\n \n \tmutex_lock(&priv->action_mutex);\n \tif (!(priv->status & STATUS_INITIALIZED))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f89f1aefff5a53917579bbf8b85be09d7cc17daf"}
{"commit_hash": "eac08515d7bd665d306cefa2ae9f3de56e875d6d", "short_hash": "eac08515d7bd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-19T10:25:14+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-11-20T09:47:19+02:00", "subject": "rtl8xxxu: Remove set but not used variable 'vif','dev','len'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "e542e66b7c2e", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": ["Chris Chiu <chiu@endlessm.com> (Endlessm)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 30, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "This is a trivial cleanup commit removing unused variables to fix compiler warnings. Code volume is minimal (6 deletions), subsystem tier is medium (wireless driver), no cross-subsystem impact. Category base score is low (cleanup/fixes warnings). Has good review chain (Reviewed-by tag, maintainer sign-off), clear commit message with Fixes tag, and is atomic. Cross-org collaboration between Huawei contributor and CodeAurora maintainer.", "code_snippet": "@@ -5393,18 +5393,13 @@ static void rtl8xxxu_c2hcmd_callback(struct work_struct *work)\n {\n \tstruct rtl8xxxu_priv *priv;\n \tstruct rtl8723bu_c2h *c2h;\n-\tstruct ieee80211_vif *vif;\n-\tstruct device *dev;\n \tstruct sk_buff *skb = NULL;\n \tunsigned long flags;\n-\tint len;\n \tu8 bt_info = 0;\n \tstruct rtl8xxxu_btcoex *btcoex;\n \n \tpriv = container_of(work, struct rtl8xxxu_priv, c2hcmd_work);\n-\tvif = priv->vif;\n \tbtcoex = &priv->bt_coex;\n-\tdev = &priv->udev->dev;\n \n \tif (priv->rf_paths > 1)\n \t\tgoto out;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eac08515d7bd665d306cefa2ae9f3de56e875d6d"}
{"commit_hash": "2be8ca97d07e1133e81cd3977bd1f94058b65489", "short_hash": "2be8ca97d07e", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-20T16:56:34+01:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-20T12:39:29-08:00", "subject": "vsock/vmci: make vmci_vsock_cb_host_called static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "b1bba80a4376", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/misc/vmw_vmci/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Stefano Garzarella <sgarzare@redhat.com> (Redhat)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)", "kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 27, "score_technical": 4, "score_impact": 2, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 6, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Minimal scope warning fix in non-critical VMCI driver. Adds 'static' keyword to fix compiler warning. Strong review chain with multiple sign-offs (author, reporter, maintainer). Low technical impact but well-reviewed cleanup.", "code_snippet": "@@ -30,7 +30,7 @@ static bool vmci_host_personality_initialized;\n \n static DEFINE_MUTEX(vmci_vsock_mutex); /* protects vmci_vsock_transport_cb */\n static vmci_vsock_cb vmci_vsock_transport_cb;\n-bool vmci_vsock_cb_host_called;\n+static bool vmci_vsock_cb_host_called;\n \n /*\n  * vmci_get_context_id() - Gets the current context ID.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2be8ca97d07e1133e81cd3977bd1f94058b65489"}
{"commit_hash": "0398d4ab1677f7d8cd43aac2aa29a93dfcf9e2e3", "short_hash": "0398d4ab1677", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-14T15:30:05+08:00", "committer_name": "Vasily Gorbik", "committer_email": "gor@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-11-20T12:58:12+01:00", "subject": "s390/crypto: Fix unsigned variable compared with zero", "primary_category": "BUG-OTHER", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "3c2eb6b76cab", "cc_stable": false, "subsystem_prefix": "s390", "subsystems_touched": ["arch/s390/crypto/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Joerg Schmidbauer <jschmidb@linux.vnet.ibm.com> (IBM)", "Vasily Gorbik <gor@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 44, "score_technical": 8, "score_impact": 11, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Bug fix for type comparison issue in s390 crypto driver. Changed mbl_offset from unsigned int to int to properly handle negative return values from s390_crypto_shash_parmsize(). This prevents incorrect error path validation. Small focused change (7 lines) in architecture-specific crypto code. Cross-org collaboration between Huawei and IBM developers with full maintainer sign-off chain. Has Fixes tag indicating prior bug introduction.", "code_snippet": "@@ -74,14 +74,17 @@ int s390_sha_final(struct shash_desc *desc, u8 *out)\n \tstruct s390_sha_ctx *ctx = shash_desc_ctx(desc);\n \tunsigned int bsize = crypto_shash_blocksize(desc->tfm);\n \tu64 bits;\n-\tunsigned int n, mbl_offset;\n+\tunsigned int n;\n+\tint mbl_offset;\n \n \tn = ctx->count % bsize;\n \tbits = ctx->count * 8;\n-\tmbl_offset = s390_crypto_shash_parmsize(ctx->func) / sizeof(u32);\n+\tmbl_offset = s390_crypto_shash_parmsize(ctx->func);\n \tif (mbl_offset < 0)\n \t\treturn -EINVAL;\n \n+\tmbl_offset = mbl_offset / sizeof(u32);\n+\n \t/* set total msg bit length (mbl) in CPACF parmblock */\n \tswitch (ctx->func) {\n \tcase CPACF_KLMD_SHA_1:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0398d4ab1677f7d8cd43aac2aa29a93dfcf9e2e3"}
{"commit_hash": "5d1ad7d7bab0e9519c6f2a75fde6ab193279c5b3", "short_hash": "5d1ad7d7bab0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-25T17:16:16+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-11-20T13:23:50+01:00", "subject": "mt76: mt7615: remove unneeded semicolon", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 1, "score_quality": 8, "score_community": 8, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 1, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup: removes unneeded semicolons after switch break statements detected by Coccinelle. Low code volume (2 lines changed), minimal impact. Cross-org contribution from Huawei to Mediatek driver, signed off by maintainer Felix Fietkau.", "code_snippet": "@@ -60,7 +60,7 @@ static int get_omac_idx(enum nl80211_iftype type, u32 mask)\n \tdefault:\n \t\tWARN_ON(1);\n \t\tbreak;\n-\t};\n+\t}\n \n \treturn -1;\n }\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\nindex 842cd81704db..164619f8a9ed 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5d1ad7d7bab0e9519c6f2a75fde6ab193279c5b3"}
{"commit_hash": "cc53b52daa091ee875372d843255728c3ec941e4", "short_hash": "cc53b52daa09", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-10-29T12:48:39+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-11-20T13:23:51+01:00", "subject": "mt76: Remove set but not used variable 'idx'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "17f1de56df05", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 3, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Minor cleanup removing unused variable to fix compiler warning. Low technical impact (1 insertion, 2 deletions) in wireless driver subsystem. Proper commit message with Fixes tag and Reported-by. Maintainer signed off. No user impact or security relevance.", "code_snippet": "@@ -365,7 +365,6 @@ mt76_dma_rx_fill(struct mt76_dev *dev, struct mt76_queue *q)\n \tint frames = 0;\n \tint len = SKB_WITH_OVERHEAD(q->buf_size);\n \tint offset = q->buf_offset;\n-\tint idx;\n \n \tspin_lock_bh(&q->lock);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc53b52daa091ee875372d843255728c3ec941e4"}
{"commit_hash": "093edc2baad2c258b1f55d1ab9c63c2b5ae67e42", "short_hash": "093edc2baad2", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-10-30T03:40:46Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-20T20:48:06+01:00", "subject": "usb: gadget: configfs: Fix missing spin_lock_init()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "1a1c851bbd70", "cc_stable": true, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Peter Chen <peter.chen@nxp.com> (NXP)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 7, "score_impact": 23, "score_quality": 13, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Missing spin_lock_init() is a critical bug that could cause kernel crashes or undefined behavior. The 1-line fix adds the initialization. Has proper Fixes tag, cc:stable, and Reviewed-by. USB gadget subsystem is important but not tier-1. Cross-org contribution (Huawei to NXP maintainer).", "code_snippet": "@@ -1544,6 +1544,7 @@ static struct config_group *gadgets_make(\n \tgi->composite.resume = NULL;\n \tgi->composite.max_speed = USB_SPEED_SUPER;\n \n+\tspin_lock_init(&gi->spinlock);\n \tmutex_init(&gi->lock);\n \tINIT_LIST_HEAD(&gi->string_list);\n \tINIT_LIST_HEAD(&gi->available_func);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/093edc2baad2c258b1f55d1ab9c63c2b5ae67e42"}
{"commit_hash": "7d73170e1c282576419f8b50a771f1fcd2b81a94", "short_hash": "7d73170e1c28", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-11-20T23:18:53+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-21T08:24:43+01:00", "subject": "serial: serial_core: Perform NULL checks for break_ctl ops", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial/"], "subsystem_tier": 8, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 9, "score_impact": 23, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 4, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 2, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "NULL pointer dereference fix in serial core causing kernel panic. Single-line defensive check addition. Cc:stable indicates broad impact. Maintainer Greg Kroah-Hartman signed off. Detailed crash dump provided in commit message demonstrates real-world failure.", "code_snippet": "@@ -1111,7 +1111,7 @@ static int uart_break_ctl(struct tty_struct *tty, int break_state)\n \tif (!uport)\n \t\tgoto out;\n \n-\tif (uport->type != PORT_UNKNOWN)\n+\tif (uport->type != PORT_UNKNOWN && uport->ops->break_ctl)\n \t\tuport->ops->break_ctl(uport, break_state);\n \tret = 0;\n out:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d73170e1c282576419f8b50a771f1fcd2b81a94"}
{"commit_hash": "1e295d4dd5b2e3d9dab68bfcab1f5666cde3804d", "short_hash": "1e295d4dd5b2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-09-28T12:18:04+08:00", "committer_name": "Oded Gabbay", "committer_email": "oded.gabbay@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-21T11:35:44+02:00", "subject": "habanalabs: remove set but not used variable 'ctx'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "eb7caf84b029", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/misc/habanalabs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Oded Gabbay <oded.gabbay@gmail.com> (Gmail)"], "reviewed_by": ["Oded Gabbay <oded.gabbay@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 27, "score_technical": 5, "score_impact": 2, "score_quality": 12, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial dead variable removal fixing gcc warning. Low code volume (-2 lines), low-tier subsystem (habanalabs driver), cleanup category (base 2). Good review chain (Reviewed-by), excellent commit message with warning details and fixes tag. Cross-org contribution (Huawei author -> Gmail maintainer)", "code_snippet": "@@ -42,12 +42,10 @@ static void hpriv_release(struct kref *ref)\n {\n \tstruct hl_fpriv *hpriv;\n \tstruct hl_device *hdev;\n-\tstruct hl_ctx *ctx;\n \n \thpriv = container_of(ref, struct hl_fpriv, refcount);\n \n \thdev = hpriv->hdev;\n-\tctx = hpriv->ctx;\n \n \tput_pid(hpriv->taskpid);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e295d4dd5b2e3d9dab68bfcab1f5666cde3804d"}
{"commit_hash": "8d6de52866dcf1d6cbdec9aa10f722dd43b2431f", "short_hash": "8d6de52866dc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-10-16T16:46:32+08:00", "committer_name": "Oded Gabbay", "committer_email": "oded.gabbay@gmail.com", "committer_company": "Gmail", "commit_date": "2019-11-21T11:35:45+02:00", "subject": "habanalabs: remove set but not used variable 'qman_base_addr'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc/habanalabs", "subsystems_touched": ["drivers/misc/habanalabs/goya/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Oded Gabbay <oded.gabbay@gmail.com> (Gmail)"], "reviewed_by": ["Oded Gabbay <oded.gabbay@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 4, "score_impact": 2, "score_quality": 11, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 3, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable. Habanalabs is a niche AI accelerator driver (tier 3). Only 4 lines deleted. Fixing compiler warning, not a functional bug. Reviewed by maintainer Oded Gabbay. No user impact, no stable CC, no cross-org collaboration (both author and reviewer from Huawei-affiliated contributors). Atomic change with proper review chain.", "code_snippet": "@@ -1539,7 +1539,6 @@ static void goya_init_mme_cmdq(struct hl_device *hdev)\n \tu32 mtr_base_lo, mtr_base_hi;\n \tu32 so_base_lo, so_base_hi;\n \tu32 gic_base_lo, gic_base_hi;\n-\tu64 qman_base_addr;\n \n \tmtr_base_lo = lower_32_bits(CFG_BASE + mmSYNC_MNGR_MON_PAY_ADDRL_0);\n \tmtr_base_hi = upper_32_bits(CFG_BASE + mmSYNC_MNGR_MON_PAY_ADDRL_0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d6de52866dcf1d6cbdec9aa10f722dd43b2431f"}
{"commit_hash": "db5a95ec166f3fd3eecbd07ebdf56986a3e9f43f", "short_hash": "db5a95ec166f", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-19T11:06:40+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-21T12:03:49+01:00", "subject": "KVM: x86: remove set but not used variable 'called'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "7ee30bc132c6", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 9, "score_impact": 6, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial cleanup removing unused variable 'called' in KVM x86 code. Fixes gcc warning. Well-documented with Fixes tag. Cross-org contribution (Huawei) with maintainer sign-off (Paolo Bonzini). Very low impact - pure cleanup.", "code_snippet": "@@ -7900,12 +7900,11 @@ void kvm_make_scan_ioapic_request_mask(struct kvm *kvm,\n \t\t\t\t       unsigned long *vcpu_bitmap)\n {\n \tcpumask_var_t cpus;\n-\tbool called;\n \n \tzalloc_cpumask_var(&cpus, GFP_ATOMIC);\n \n-\tcalled = kvm_make_vcpus_request_mask(kvm, KVM_REQ_SCAN_IOAPIC,\n-\t\t\t\t\t     vcpu_bitmap, cpus);\n+\tkvm_make_vcpus_request_mask(kvm, KVM_REQ_SCAN_IOAPIC,\n+\t\t\t\t    vcpu_bitmap, cpus);\n \n \tfree_cpumask_var(cpus);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db5a95ec166f3fd3eecbd07ebdf56986a3e9f43f"}
{"commit_hash": "91a9f2d3f9762e59cca251d2c6cef8cda1a4e62b", "short_hash": "91a9f2d3f976", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-20T14:43:03+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-21T18:20:29+01:00", "subject": "usb: gadget: udc: gr_udc: create debugfs directory under usb root", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small refactor moving debugfs directory from root to USB debugfs root. Low complexity (3 lines), peripheral subsystem (gadget UDC), no cross-subsystem impact. Clean commit with proper signed-off-by chain and maintainer endorsement.", "code_snippet": "@@ -29,6 +29,7 @@\n #include <linux/list.h>\n #include <linux/interrupt.h>\n #include <linux/device.h>\n+#include <linux/usb.h>\n #include <linux/usb/ch9.h>\n #include <linux/usb/gadget.h>\n #include <linux/dma-mapping.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/91a9f2d3f9762e59cca251d2c6cef8cda1a4e62b"}
{"commit_hash": "f5b7f7c838216826072c92c8a26aeb2707d707a8", "short_hash": "f5b7f7c83821", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-20T14:43:02+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-21T18:20:29+01:00", "subject": "usb: gadget: atmel: create debugfs directory under usb root", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/gadget", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 3, "score_quality": 9, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup commit moving debugfs directory to USB root. Low code volume (3 lines), non-critical USB gadget subsystem. Good commit message with proper Signed-off-by and Link tags. Maintainer (Greg KH) endorsed as committer. Cross-org contribution from MediaTek.", "code_snippet": "@@ -18,6 +18,7 @@\n #include <linux/platform_device.h>\n #include <linux/regmap.h>\n #include <linux/ctype.h>\n+#include <linux/usb.h>\n #include <linux/usb/ch9.h>\n #include <linux/usb/gadget.h>\n #include <linux/delay.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f5b7f7c838216826072c92c8a26aeb2707d707a8"}
{"commit_hash": "d4836b69d9352ffbf2a2fea9735b0c7f3388a579", "short_hash": "d4836b69d935", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-11-20T14:43:01+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-11-21T18:20:29+01:00", "subject": "usb: musb: create debugfs directory under usb root", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/musb", "subsystems_touched": ["drivers/usb/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 9, "score_quality": 10, "score_community": 6, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 5, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 2, "C1_review_chain": 3, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small refactoring to move MUSB debugfs directory under USB root directory. Single line change from NULL to usb_debug_root parent. Maintainer-endorsed through Greg Kroah-Hartman. Clean commit message with Link tag. Low user impact as it only affects debugfs hierarchy.", "code_snippet": "@@ -325,7 +325,7 @@ void musb_init_debugfs(struct musb *musb)\n {\n \tstruct dentry *root;\n \n-\troot = debugfs_create_dir(dev_name(musb->controller), NULL);\n+\troot = debugfs_create_dir(dev_name(musb->controller), usb_debug_root);\n \tmusb->debugfs_root = root;\n \n \tdebugfs_create_file(\"regdump\", S_IRUGO, root, musb, &musb_regdump_fops);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4836b69d9352ffbf2a2fea9735b0c7f3388a579"}
{"commit_hash": "13baf667fa8e23aed12516776de6e50f7617820a", "short_hash": "13baf667fa8e", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-11-22T10:52:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-21T19:30:11-08:00", "subject": "enetc: make enetc_setup_tc_mqprio static", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "34c6adf1977b", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/freescale/enetc/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 4, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Fixes compiler warning by adding static keyword to enetc_setup_tc_mqprio. Minimal code change (1 line), isolated to enetc driver. Cross-org contribution (Huawei to netdev), signed off by maintainer David S. Miller. Good commit message with Fixes tag and clear explanation of compiler warning.", "code_snippet": "@@ -1436,7 +1436,7 @@ int enetc_close(struct net_device *ndev)\n \treturn 0;\n }\n \n-int enetc_setup_tc_mqprio(struct net_device *ndev, void *type_data)\n+static int enetc_setup_tc_mqprio(struct net_device *ndev, void *type_data)\n {\n \tstruct enetc_ndev_priv *priv = netdev_priv(ndev);\n \tstruct tc_mqprio_qopt *mqprio = type_data;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/13baf667fa8e23aed12516776de6e50f7617820a"}
{"commit_hash": "51590df4f3306cb1f43dca54e3ccdd121ab89594", "short_hash": "51590df4f330", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-21T09:12:18Z", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-21T20:36:00Z", "subject": "afs: Remove set but not used variables 'before', 'after'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "63a4681ff39c", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 7, "score_impact": 2, "score_quality": 17, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 8, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "A cleanup commit removing unused variables 'before' and 'after' in AFS directory editing functions to fix gcc warnings. Very small code change (-10/+2 lines). AFS is a mid-tier filesystem. Base score of 2 for maintenance/cleanup. High review quality (8) - passed through subsystem maintainer David Howells. Good commit message with Fixes tag and clear explanation (6). Cross-org contribution from Huawei to Red Hat maintainer (4). Maintainer endorsement (4). Atomic change focused on warning fix.", "code_snippet": "@@ -68,13 +68,11 @@ static int afs_find_contig_bits(union afs_xdr_dir_block *block, unsigned int nr_\n static void afs_set_contig_bits(union afs_xdr_dir_block *block,\n \t\t\t\tint bit, unsigned int nr_slots)\n {\n-\tu64 mask, before, after;\n+\tu64 mask;\n \n \tmask = (1 << nr_slots) - 1;\n \tmask <<= bit;\n \n-\tbefore = *(u64 *)block->hdr.bitmap;\n-\n \tblock->hdr.bitmap[0] |= (u8)(mask >> 0 * 8);\n \tblock->hdr.bitmap[1] |= (u8)(mask >> 1 * 8);\n \tblock->hdr.bitmap[2] |= (u8)(mask >> 2 * 8);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/51590df4f3306cb1f43dca54e3ccdd121ab89594"}
{"commit_hash": "4fe171bb81b13b40bf568330ec3716dfb304ced1", "short_hash": "4fe171bb81b1", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-21T09:12:18Z", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-21T20:36:04Z", "subject": "afs: Remove set but not used variable 'ret'", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "d2ddc776a458", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 4, "score_quality": 9, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Small cleanup removing an unused variable in AFS filesystem. Fixed gcc warning. Cross-org contribution from Huawei to Red Hat maintainer. Good commit message with fixes tag and reporter attribution.", "code_snippet": "@@ -151,7 +151,7 @@ static struct afs_server *afs_install_server(struct afs_net *net,\n \tconst struct afs_addr_list *alist;\n \tstruct afs_server *server;\n \tstruct rb_node **pp, *p;\n-\tint ret = -EEXIST, diff;\n+\tint diff;\n \n \t_enter(\"%p\", candidate);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fe171bb81b13b40bf568330ec3716dfb304ced1"}
{"commit_hash": "3243e04ab1c06e7cb1402aff609c83de97956489", "short_hash": "3243e04ab1c0", "author_name": "Chen Wandun", "author_email": "chenwandun@huawei.com", "author_company": "Huawei", "author_date": "2019-11-22T20:32:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-11-22T10:09:10-08:00", "subject": "net: dsa: ocelot: fix \"should it be static?\" warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUILD"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa/ocelot"], "subsystem_tier": 8, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Chen Wandun <chenwandun@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vivien Didelot <vivien.didelot@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 9, "score_impact": 4, "score_quality": 11, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 8, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Sparse warning fix - adding static keyword to felix_txtstamp function. Minimal code change (2 lines), single file in networking DSA driver. Well-reviewed with Reviewed-by tag from maintainer. Clean commit message explaining the sparse warning. No user impact or stable tagging.", "code_snippet": "@@ -348,8 +348,8 @@ static bool felix_rxtstamp(struct dsa_switch *ds, int port,\n \treturn false;\n }\n \n-bool felix_txtstamp(struct dsa_switch *ds, int port,\n-\t\t    struct sk_buff *clone, unsigned int type)\n+static bool felix_txtstamp(struct dsa_switch *ds, int port,\n+\t\t\t   struct sk_buff *clone, unsigned int type)\n {\n \tstruct ocelot *ocelot = ds->priv;\n \tstruct ocelot_port *ocelot_port = ocelot->ports[port];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3243e04ab1c06e7cb1402aff609c83de97956489"}
{"commit_hash": "10992af6bf46a2048ad964985a5b77464e5563b1", "short_hash": "10992af6bf46", "author_name": "Hewenliang", "author_email": "hewenliang4@huawei.com", "author_company": "Huawei", "author_date": "2019-11-18T20:44:15-05:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-11-22T10:48:14-03:00", "subject": "libtraceevent: Fix memory leakage in copy_filter_type", "primary_category": "BUG-LEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "ef3072cd1d5c", "cc_stable": false, "subsystem_prefix": "tools", "subsystems_touched": ["tools/lib/traceevent/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Hewenliang <hewenliang4@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": ["Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 12, "score_quality": 15, "score_community": 4, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 10, "B2_stable_significance": 0, "B3_user_impact": 2, "B4_novelty": 0, "C1_review_chain": 7, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Memory leak fix in tools/lib/traceevent - adds free(str) and free_arg(arg) in error paths. Reviewed-by from maintainer, Fixes tag present, small scope (tools subsystem not core kernel).", "code_snippet": "@@ -1473,8 +1473,10 @@ static int copy_filter_type(struct tep_event_filter *filter,\n \tif (strcmp(str, \"TRUE\") == 0 || strcmp(str, \"FALSE\") == 0) {\n \t\t/* Add trivial event */\n \t\targ = allocate_arg();\n-\t\tif (arg == NULL)\n+\t\tif (arg == NULL) {\n+\t\t\tfree(str);\n \t\t\treturn -1;\n+\t\t}\n \n \t\targ->type = TEP_FILTER_ARG_BOOLEAN;\n \t\tif (strcmp(str, \"TRUE\") == 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/10992af6bf46a2048ad964985a5b77464e5563b1"}
{"commit_hash": "e9c5dbc1a287735078b8dd3a0028458d9c09b158", "short_hash": "e9c5dbc1a287", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-22T11:42:52+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-22T14:27:11-05:00", "subject": "drm/amdgpu: Use ARRAY_SIZE for sos_old_versions", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 2, "score_quality": 11, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Trivial code style fix replacing manual array size calculation with ARRAY_SIZE macro. Addresses coccicheck warning. Very low technical complexity (1 line change). Cross-org contribution from Huawei to AMD GPU subsystem. Clean maintainer chain with proper Reviewed-by/Signed-off-by.", "code_snippet": "@@ -179,7 +179,7 @@ static bool psp_v3_1_match_version(struct amdgpu_device *adev, uint32_t ver)\n \t * Double check if the latest four legacy versions.\n \t * If yes, it is still the right version.\n \t */\n-\tfor (i = 0; i < sizeof(sos_old_versions) / sizeof(uint32_t); i++) {\n+\tfor (i = 0; i < ARRAY_SIZE(sos_old_versions); i++) {\n \t\tif (sos_old_versions[i] == adev->psp.sos_fw_version)\n \t\t\treturn true;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9c5dbc1a287735078b8dd3a0028458d9c09b158"}
{"commit_hash": "19efcb9e0684668437c5b2a80b643c7a4dfadca8", "short_hash": "19efcb9e0684", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-11-22T11:42:51+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-11-22T14:27:11-05:00", "subject": "drm/amd/powerplay: Use ARRAY_SIZE for smu7_profiling", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drm/amd/powerplay"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 7, "score_impact": 3, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 6, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Single-line cleanup replacing sizeof division with ARRAY_SIZE macro per coccicheck warning. Cross-org contribution (Huawei author, AMD maintainer). Good review chain with proper sign-offs.", "code_snippet": "@@ -4943,7 +4943,7 @@ static int smu7_get_power_profile_mode(struct pp_hwmgr *hwmgr, char *buf)\n \t\t\ttitle[0], title[1], title[2], title[3],\n \t\t\ttitle[4], title[5], title[6], title[7]);\n \n-\tlen = sizeof(smu7_profiling) / sizeof(struct profile_mode_setting);\n+\tlen = ARRAY_SIZE(smu7_profiling);\n \n \tfor (i = 0; i < len; i++) {\n \t\tif (i == hwmgr->power_profile_mode) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19efcb9e0684668437c5b2a80b643c7a4dfadca8"}
{"commit_hash": "c7351845b2d685b3ea695f02047bd1b825fb6c98", "short_hash": "c7351845b2d6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-11-12T07:23:14Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-22T18:48:34+08:00", "subject": "crypto: sun8i-ce - Fix memdup.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/allwinner"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Corentin Labbe <clabbe.montjoie@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 3, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Simple cleanup replacing kmalloc+memcpy with kmemdup in crypto driver. Very small change (2 insertions, 4 deletions) in non-critical driver subsystem. Cross-org contribution from Huawei with maintainer ack.", "code_snippet": "@@ -396,10 +396,9 @@ int sun8i_ce_aes_setkey(struct crypto_skcipher *tfm, const u8 *key,\n \t\tkfree(op->key);\n \t}\n \top->keylen = keylen;\n-\top->key = kmalloc(keylen, GFP_KERNEL | GFP_DMA);\n+\top->key = kmemdup(key, keylen, GFP_KERNEL | GFP_DMA);\n \tif (!op->key)\n \t\treturn -ENOMEM;\n-\tmemcpy(op->key, key, keylen);\n \n \tcrypto_sync_skcipher_clear_flags(op->fallback_tfm, CRYPTO_TFM_REQ_MASK);\n \tcrypto_sync_skcipher_set_flags(op->fallback_tfm, tfm->base.crt_flags & CRYPTO_TFM_REQ_MASK);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c7351845b2d685b3ea695f02047bd1b825fb6c98"}
{"commit_hash": "a30583fcfb86ebf332573598359c189a4e02c2da", "short_hash": "a30583fcfb86", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T19:11:08+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-22T18:48:36+08:00", "subject": "MAINTAINERS: Add maintainer for HiSilicon SEC V2 driver", "primary_category": "DOC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["MAINTAINERS", "crypto/", "drivers/crypto/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 10, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 3, "score_quality": 10, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 2, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 3, "C3_testing": 0, "C4_atomicity": 3, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "MAINTAINERS file update adding maintainer for HiSilicon SEC V2 crypto driver. Single file changed with 10 insertions documenting maintainer info, mailing list, status, and file paths for the SEC2 driver. Properly signed off by author and crypto maintainer Herbert Xu. Low code volume (documentation only) but in crypto subsystem tier. Category is DOC (maintainership update). Full maintainer endorsement through Herbert Xu's sign-off.", "code_snippet": "@@ -7373,6 +7373,16 @@ F:\tinclude/uapi/linux/if_hippi.h\n F:\tnet/802/hippi.c\n F:\tdrivers/net/hippi/\n \n+HISILICON SECURITY ENGINE V2 DRIVER (SEC2)\n+M:\tZaibo Xu <xuzaibo@huawei.com>\n+L:\tlinux-crypto@vger.kernel.org\n+S:\tMaintained\n+F:\tdrivers/crypto/hisilicon/sec2/sec_crypto.c\n+F:\tdrivers/crypto/hisilicon/sec2/sec_main.c\n+F:\tdrivers/crypto/hisilicon/sec2/sec_crypto.h\n+F:\tdrivers/crypto/hisilicon/sec2/sec.h\n+F:\tDocumentation/ABI/testing/debugfs-hisi-sec\n+\n HISILICON HIGH PERFORMANCE RSA ENGINE DRIVER (HPRE)\n M:\tZaibo Xu <xuzaibo@huawei.com>\n L:\tlinux-crypto@vger.kernel.org\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a30583fcfb86ebf332573598359c189a4e02c2da"}
{"commit_hash": "1e9bc276f8f19ea65b617d7c9458ead14da4ef60", "short_hash": "1e9bc276f8f1", "author_name": "Zaibo Xu", "author_email": "xuzaibo@huawei.com", "author_company": "Huawei", "author_date": "2019-11-13T19:11:07+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-11-22T18:48:36+08:00", "subject": "crypto: hisilicon - add DebugFS for HiSilicon SEC", "primary_category": "FEAT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/hisilicon/"], "subsystem_tier": 5, "files_changed": 3, "insertions": 332, "deletions": 0, "hunks": 34, "review_chain": {"signed_off_by": ["Zaibo Xu <xuzaibo@huawei.com> (Huawei)", "Longfang Liu <liulongfang@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 11, "score_impact": 13, "score_quality": 12, "score_community": 6, "score_breakdown": {"A1_code_volume": 6, "A2_subsystem_criticality": 5, "A3_cross_subsystem": 0, "B1_category_base": 8, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 2, "C1_review_chain": 5, "C2_commit_message": 3, "C3_testing": 1, "C4_atomicity": 3, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "DebugFS feature addition for HiSilicon SEC crypto driver. 332 insertions across 3 files, well-structured with proper locking. Includes multiple Reviewed-by tags in actual chain (Herbert Xu as crypto maintainer). Good commit message explaining purpose. Pure feature addition, no bugfix or security content.", "code_snippet": "@@ -119,9 +119,32 @@ enum sec_endian {\n \tSEC_64BE\n };\n \n+enum sec_debug_file_index {\n+\tSEC_CURRENT_QM,\n+\tSEC_CLEAR_ENABLE,\n+\tSEC_DEBUG_FILE_NUM,\n+};\n+\n+struct sec_debug_file {\n+\tenum sec_debug_file_index index;\n+\tspinlock_t lock;\n+\tstruct hisi_qm *qm;\n+};\n+\n+struct sec_dfx {\n+\tu64 send_cnt;\n+\tu64 recv_cnt;\n+};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e9bc276f8f19ea65b617d7c9458ead14da4ef60"}
