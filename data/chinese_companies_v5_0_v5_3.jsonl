{"commit_hash": "32658d2c8073699473c28b67f14ad51403ccec5d", "short_hash": "32658d2c8073", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-08T08:36:25Z", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2018-12-10T11:26:41+01:00", "subject": "drm/ast: Remove set but not used variable 'bo'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/ast"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (2 deletions, 4 hunks) in GPU DRM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact, no stable backport"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with good message explaining warning fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer Daniel Vetter committed"}}, "score_justification": "Compiler warning fix removing unused variable in AST DRM driver", "code_snippet": "@@ -191,7 +191,6 @@ static int astfb_create(struct drm_fb_helper *helper,\n \tint size, ret;\n \tvoid *sysram;\n \tstruct drm_gem_object *gobj = NULL;\n-\tstruct ast_bo *bo = NULL;\n \tmode_cmd.width = sizes->surface_width;\n \tmode_cmd.height = sizes->surface_height;\n \tmode_cmd.pitches[0] = mode_cmd.width * ((sizes->surface_bpp + 7)/8);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32658d2c8073699473c28b67f14ad51403ccec5d"}
{"commit_hash": "6a4b8937a3d6238b5aa9b9c8083f7238903bfb86", "short_hash": "6a4b8937a3d6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-15T06:31:24Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2018-12-22T16:58:14Z", "subject": "iio: imu: st_lsm6dsx: remove set but not used variable ''", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iio", "subsystems_touched": ["drivers/iio/imu"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Lorenzo Bianconi <lorenzo.bianconi83@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 17, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in IIO driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by reviewer with clear message"}, "community": {"cross_org": 1, "maintainer": 1, "response": 0, "subtotal": 2, "details": "Same company author/committer with external ack"}}, "score_justification": "Compiler warning fix removing unused variable in IIO driver", "code_snippet": "@@ -105,12 +105,10 @@ static void st_lsm6dsx_shub_wait_complete(struct st_lsm6dsx_hw *hw)\n static int st_lsm6dsx_shub_read_reg(struct st_lsm6dsx_hw *hw, u8 addr,\n \t\t\t\t    u8 *data, int len)\n {\n-\tconst struct st_lsm6dsx_shub_settings *hub_settings;\n \tint err;\n \n \tmutex_lock(&hw->page_lock);\n \n-\thub_settings = &hw->settings->shub_settings;\n \terr = st_lsm6dsx_set_page(hw, true);\n \tif (err < 0)\n \t\tgoto out;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a4b8937a3d6238b5aa9b9c8083f7238903bfb86"}
{"commit_hash": "e1de3d237b5083fcd0da6fcf600848a4cef9cc67", "short_hash": "e1de3d237b50", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-25T02:20:36Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-03T16:34:38Z", "subject": "ASoC: rockchip: fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion in sound subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic cocci-generated cleanup with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Kernel.org maintainer"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -508,7 +508,6 @@ MODULE_DEVICE_TABLE(of, rk3328_codec_of_match);\n static struct platform_driver rk3328_codec_driver = {\n \t.driver = {\n \t\t   .name = \"rk3328-codec\",\n-\t\t   .owner = THIS_MODULE,\n \t\t   .of_match_table = of_match_ptr(rk3328_codec_of_match),\n \t},\n \t.probe = rk3328_platform_probe,\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/e1de3d237b5083fcd0da6fcf600848a4cef9cc67"}
{"commit_hash": "c39191feed4540fed98badeb484833dcf659bb96", "short_hash": "c39191feed45", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-29T10:49:07+08:00", "committer_name": "Daniel Vetter", "committer_email": "daniel.vetter@ffwll.ch", "committer_company": "Ffwll", "commit_date": "2019-01-07T11:26:31+01:00", "subject": "drm: Fix error handling in drm_legacy_addctx", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 62968144e673 (\"drm: convert drm context code to use Linux idr\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Vetter <daniel.vetter@ffwll.ch> (Ffwll)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in GPU subsystem (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for legacy DRM context"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear fix with proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, FFWLL maintainer"}}, "score_justification": "Fixes signed/unsigned comparison bug in DRM legacy context handling", "code_snippet": "@@ -361,23 +361,26 @@ int drm_legacy_addctx(struct drm_device *dev, void *data,\n {\n \tstruct drm_ctx_list *ctx_entry;\n \tstruct drm_ctx *ctx = data;\n+\tint tmp_handle;\n \n \tif (!drm_core_check_feature(dev, DRIVER_KMS_LEGACY_CONTEXT) &&\n \t    !drm_core_check_feature(dev, DRIVER_LEGACY))\n \t\treturn -EOPNOTSUPP;\n \n-\tctx->handle = drm_legacy_ctxbitmap_next(dev);\n-\tif (ctx->handle == DRM_KERNEL_CONTEXT) {\n+\ttmp_handle = drm_legacy_ctxbitmap_next(dev);\n+\tif (tmp_handle == DRM_KERNEL_CONTEXT) {\n \t\t/* Skip kernel's context and get a new one. */\n-\t\tctx->handle = drm_legacy_ctxbitmap_next(dev);\n+\t\ttmp_handle = drm_legacy_ctxbitmap_next(dev);\n \t}\n-\tDRM_DEBUG(\"%d\\n\", ctx->handle);\n-\tif (ctx->handle < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c39191feed4540fed98badeb484833dcf659bb96"}
{"commit_hash": "9c6ccc035c209dda07685e8dba829a203ba17499", "short_hash": "9c6ccc035c20", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2018-12-12T17:49:06+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-07T12:12:36-07:00", "subject": "RDMA/hns: Fix the bug with updating rq head pointer when flush cqe", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver subsystem with moderate criticality"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting specific driver users, no stable tag"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with dual sign-offs, minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer commitment"}}, "score_justification": "Fix incorrect rq head pointer update with SRQ in Hisilicon RDMA driver", "code_snippet": "@@ -3789,13 +3789,16 @@ static int hns_roce_v2_modify_qp(struct ib_qp *ibqp,\n \t\troce_set_field(qpc_mask->byte_160_sq_ci_pi,\n \t\t\t       V2_QPC_BYTE_160_SQ_PRODUCER_IDX_M,\n \t\t\t       V2_QPC_BYTE_160_SQ_PRODUCER_IDX_S, 0);\n-\t\troce_set_field(context->byte_84_rq_ci_pi,\n+\n+\t\tif (!ibqp->srq) {\n+\t\t\troce_set_field(context->byte_84_rq_ci_pi,\n \t\t\t       V2_QPC_BYTE_84_RQ_PRODUCER_IDX_M,\n \t\t\t       V2_QPC_BYTE_84_RQ_PRODUCER_IDX_S,\n \t\t\t       hr_qp->rq.head);\n-\t\troce_set_field(qpc_mask->byte_84_rq_ci_pi,\n+\t\t\troce_set_field(qpc_mask->byte_84_rq_ci_pi,\n \t\t\t       V2_QPC_BYTE_84_RQ_PRODUCER_IDX_M,\n \t\t\t       V2_QPC_BYTE_84_RQ_PRODUCER_IDX_S, 0);\n+\t\t}\n \t}\n \n \tif (attr_mask & IB_QP_AV) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9c6ccc035c209dda07685e8dba829a203ba17499"}
{"commit_hash": "4d103905eb1e4f14cb62fcf962c9d35da7005dea", "short_hash": "4d103905eb1e", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2018-12-12T17:49:07+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-07T12:12:50-07:00", "subject": "RDMA/hns: Bugfix for the scene without receiver queue", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -526,7 +526,8 @@ static int hns_roce_qp_has_sq(struct ib_qp_init_attr *attr)\n static int hns_roce_qp_has_rq(struct ib_qp_init_attr *attr)\n {\n \tif (attr->qp_type == IB_QPT_XRC_INI ||\n-\t    attr->qp_type == IB_QPT_XRC_TGT || attr->srq)\n+\t    attr->qp_type == IB_QPT_XRC_TGT || attr->srq ||\n+\t    !attr->cap.max_recv_wr)\n \t\treturn 0;\n \n \treturn 1;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/4d103905eb1e4f14cb62fcf962c9d35da7005dea"}
{"commit_hash": "44754b95dd35ee07c462b5425ae9c4cde8c7e7c8", "short_hash": "44754b95dd35", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2018-12-12T17:49:08+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-07T12:13:34-07:00", "subject": "RDMA/hns: Add constraint on the setting of local ACK timeout", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 10, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver code adding validation check"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for specific hardware driver with clear user impact"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Proper Fixes tag and clear explanation, moderate review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Huawei author, Mellanox committer)"}}, "score_justification": "Input validation bug fix in RDMA driver adding constraint check for timeout value, cross-company contribution", "code_snippet": "@@ -3686,10 +3686,16 @@ static int modify_qp_rtr_to_rts(struct ib_qp *ibqp,\n \t\t       V2_QPC_BYTE_212_LSN_S, 0);\n \n \tif (attr_mask & IB_QP_TIMEOUT) {\n-\t\troce_set_field(context->byte_28_at_fl, V2_QPC_BYTE_28_AT_M,\n-\t\t\t       V2_QPC_BYTE_28_AT_S, attr->timeout);\n-\t\troce_set_field(qpc_mask->byte_28_at_fl, V2_QPC_BYTE_28_AT_M,\n-\t\t\t      V2_QPC_BYTE_28_AT_S, 0);\n+\t\tif (attr->timeout < 31) {\n+\t\t\troce_set_field(context->byte_28_at_fl,\n+\t\t\t\t       V2_QPC_BYTE_28_AT_M, V2_QPC_BYTE_28_AT_S,\n+\t\t\t\t       attr->timeout);\n+\t\t\troce_set_field(qpc_mask->byte_28_at_fl,\n+\t\t\t\t       V2_QPC_BYTE_28_AT_M, V2_QPC_BYTE_28_AT_S,\n+\t\t\t\t       0);\n+\t\t} else {\n+\t\t\tdev_warn(dev, \"Local ACK timeout shall be 0 to 30.\\n\");\n+\t\t}\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44754b95dd35ee07c462b5425ae9c4cde8c7e7c8"}
{"commit_hash": "91fb4d83b88a7b544ce564c44167aad29d4154f0", "short_hash": "91fb4d83b88a", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2018-12-12T17:49:09+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-07T12:14:42-07:00", "subject": "RDMA/hns: Modify the pbl ba page size for hip08", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Hu (Xavier) <xavier.huwei@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny change (1 line) in IB driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Hardware support fix for specific driver"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Hardware configuration change enabling 4G MR support on hip08", "code_snippet": "@@ -1366,7 +1366,7 @@ static int hns_roce_v2_profile(struct hns_roce_dev *hr_dev)\n \tcaps->mpt_ba_pg_sz\t= 0;\n \tcaps->mpt_buf_pg_sz\t= 0;\n \tcaps->mpt_hop_num\t= HNS_ROCE_CONTEXT_HOP_NUM;\n-\tcaps->pbl_ba_pg_sz\t= 0;\n+\tcaps->pbl_ba_pg_sz\t= 2;\n \tcaps->pbl_buf_pg_sz\t= 0;\n \tcaps->pbl_hop_num\t= HNS_ROCE_PBL_HOP_NUM;\n \tcaps->mtt_ba_pg_sz\t= 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/91fb4d83b88a7b544ce564c44167aad29d4154f0"}
{"commit_hash": "07758747a2d7963593421b4e782b0f20a80f58d3", "short_hash": "07758747a2d7", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2018-12-17T07:14:35-05:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-07T13:54:01-05:00", "subject": "media: platform: Fix missing spin_lock_init()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d2b4387f3bdf (\"media: platform: Add Aspeed Video Engine driver\")", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny 1-line fix in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with regression tag, affects driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Fixes tag, Coccinelle detected, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Samsung maintainer committed"}}, "score_justification": "Missing spinlock init in driver probe, fixes tag, cross-org commit", "code_snippet": "@@ -1661,6 +1661,7 @@ static int aspeed_video_probe(struct platform_device *pdev)\n \n \tvideo->frame_rate = 30;\n \tvideo->dev = &pdev->dev;\n+\tspin_lock_init(&video->lock);\n \tmutex_init(&video->video_lock);\n \tinit_waitqueue_head(&video->wait);\n \tINIT_DELAYED_WORK(&video->res_work, aspeed_video_resolution_work);\n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/07758747a2d7963593421b4e782b0f20a80f58d3"}
{"commit_hash": "8a1dbc8d91d3d1602282c7e6b4222c7759c916fa", "short_hash": "8a1dbc8d91d3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-02T09:33:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-07T17:35:00+01:00", "subject": "usb: devio: update max count of DPs per interval for ISOC", "primary_category": "BUG-COMPAT", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/core"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-hunk change in USB subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Compatibility fix affecting USB device users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 1, "atomicity": 2, "subtotal": 7, "details": "Basic review, test by author, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different orgs (MediaTek to Linux Foundation)"}}, "score_justification": "USB 3.1 Gen2 compatibility fix increasing isochronous packet limit", "code_snippet": "@@ -1564,12 +1564,10 @@ static int proc_do_submiturb(struct usb_dev_state *ps, struct usbdevfs_urb *uurb\n \t\t}\n \t\tfor (totlen = u = 0; u < number_of_packets; u++) {\n \t\t\t/*\n-\t\t\t * arbitrary limit need for USB 3.0\n-\t\t\t * bMaxBurst (0~15 allowed, 1~16 packets)\n-\t\t\t * bmAttributes (bit 1:0, mult 0~2, 1~3 packets)\n-\t\t\t * sizemax: 1024 * 16 * 3 = 49152\n+\t\t\t * arbitrary limit need for USB 3.1 Gen2\n+\t\t\t * sizemax: 96 DPs at SSP, 96 * 1024 = 98304\n \t\t\t */\n-\t\t\tif (isopkt[u].length > 49152) {\n+\t\t\tif (isopkt[u].length > 98304) {\n \t\t\t\tret = -EINVAL;\n \t\t\t\tgoto error;\n \t\t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a1dbc8d91d3d1602282c7e6b4222c7759c916fa"}
{"commit_hash": "8e11403876b1e29d290ea42bb20bf45ef927ef6e", "short_hash": "8e11403876b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-04T01:38:29Z", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-08T09:34:27-08:00", "subject": "f2fs: remove set but not used variable 'err'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in f2fs filesystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Reviewed-by tag with clear message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Same company review, different maintainer"}}, "score_justification": "GCC unused variable warning fix in f2fs, Reviewed-by internally", "code_snippet": "@@ -2582,14 +2582,11 @@ static void f2fs_dio_submit_bio(struct bio *bio, struct inode *inode,\n {\n \tstruct f2fs_private_dio *dio;\n \tbool write = (bio_op(bio) == REQ_OP_WRITE);\n-\tint err;\n \n \tdio = f2fs_kzalloc(F2FS_I_SB(inode),\n \t\t\tsizeof(struct f2fs_private_dio), GFP_NOFS);\n-\tif (!dio) {\n-\t\terr = -ENOMEM;\n+\tif (!dio)\n \t\tgoto out;\n-\t}\n \n \tdio->inode = inode;\n \tdio->orig_end_io = bio->bi_end_io;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e11403876b1e29d290ea42bb20bf45ef927ef6e"}
{"commit_hash": "539cd352239f6acae4a7997bf31edca5c9a69c81", "short_hash": "539cd352239f", "author_name": "Zhikang Zhang", "author_email": "zhangzhikang1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-03T20:06:38+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-08T09:34:27-08:00", "subject": "f2fs: fix compile warnings: 'struct *' declared inside parameter list", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["include/trace/events"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhikang Zhang <zhangzhikang1@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 3-line forward declaration addition"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Reviewed-by, clear problem description"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Compiler warning fix adding forward declarations for f2fs tracepoints", "code_snippet": "@@ -149,6 +149,9 @@ TRACE_DEFINE_ENUM(CP_TRIMMED);\n \t\t{ CP_SPEC_LOG_NUM,\t\"log type is 2\" },\t\t\\\n \t\t{ CP_RECOVER_DIR,\t\"dir needs recovery\" })\n \n+struct f2fs_sb_info;\n+struct f2fs_io_info;\n+struct extent_info;\n struct victim_sel_policy;\n struct f2fs_map_blocks;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/539cd352239f6acae4a7997bf31edca5c9a69c81"}
{"commit_hash": "1afb4b8524797f95b15480a6654780571cde4e56", "short_hash": "1afb4b852479", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:46+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Add debugfs IOST file and add file operations", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 51, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 13, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small debugging feature in SCSI driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "New debugfs IOST file for hardware debugging"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review chain, minimal message quality"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different companies"}}, "score_justification": "New debugfs IOST file addition for hisi_sas driver debugging", "code_snippet": "@@ -2630,6 +2630,24 @@ static const struct file_operations hisi_sas_debugfs_port_fops = {\n \t.owner = THIS_MODULE,\n };\n \n+static int hisi_sas_show_row_64(struct seq_file *s, int index,\n+\t\t\t\tint sz, u64 *ptr)\n+{\n+\tint i;\n+\n+\t/* completion header size not fixed per HW version */\n+\tseq_printf(s, \"index %04d:\\n\\t\", index);\n+\tfor (i = 1; i <= sz / 8; i++, ptr++) {\n+\t\tseq_printf(s, \" 0x%016llx\", le64_to_cpu(*ptr));\n+\t\tif (!(i % 2))\n+\t\t\tseq_puts(s, \"\\n\\t\");\n+\t}\n+\n+\tseq_puts(s, \"\\n\");\n+\n+\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1afb4b8524797f95b15480a6654780571cde4e56"}
{"commit_hash": "148e379f60c5ce0a9741ccdada46ba91579a9df7", "short_hash": "148e379f60c5", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:45+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Add debugfs DQ file and add file operations", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 52, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small feature in SCSI driver with 52 lines across 6 hunks"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debugfs tracing feature for hisi_sas driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Basic review chain with co-developer sign-offs, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author (Huawei) and committer (Oracle) from different companies, maintainer applied"}}, "score_justification": "Debugfs file addition for hisi_sas driver delivery queue debugging, cross-company contribution", "code_snippet": "@@ -2685,6 +2685,43 @@ static const struct file_operations hisi_sas_debugfs_cq_fops = {\n \t.owner = THIS_MODULE,\n };\n \n+static int hisi_sas_dq_show_slot(struct seq_file *s, int slot, void *dq_ptr)\n+{\n+\tstruct hisi_sas_dq *dq = dq_ptr;\n+\tstruct hisi_hba *hisi_hba = dq->hisi_hba;\n+\tvoid *cmd_queue = hisi_hba->debugfs_cmd_hdr[dq->id];\n+\tvoid *cmd_hdr = cmd_queue +\n+\t\thisi_hba->hw->complete_hdr_size * slot;\n+\n+\treturn hisi_sas_show_row_32(s, slot, sizeof(struct hisi_sas_cmd_hdr),\n+\t\t\t\t    cmd_hdr);\n+}\n+\n+static int hisi_sas_debugfs_dq_show(struct seq_file *s, void *p)\n+{\n+\tint slot, ret;\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/148e379f60c5ce0a9741ccdada46ba91579a9df7"}
{"commit_hash": "971afae7cf4f784c37ea89459c1b3627bcf601ff", "short_hash": "971afae7cf4f", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:44+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Add debugfs CQ file and add file operations", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 70, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in SCSI driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "New debugging feature for hisi_sas driver"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Debugfs feature addition for hisi_sas CQ with cross-company review", "code_snippet": "@@ -2630,12 +2630,68 @@ static const struct file_operations hisi_sas_debugfs_port_fops = {\n \t.owner = THIS_MODULE,\n };\n \n+static int hisi_sas_show_row_32(struct seq_file *s, int index,\n+\t\t\t\tint sz, u32 *ptr)\n+{\n+\tint i;\n+\n+\t/* completion header size not fixed per HW version */\n+\tseq_printf(s, \"index %04d:\\n\\t\", index);\n+\tfor (i = 1; i <= sz / 4; i++, ptr++) {\n+\t\tif (!(i % 4))\n+\t\t\tseq_puts(s, \"\\n\\t\");\n+\t}\n+\tseq_puts(s, \"\\n\");\n+\n+\treturn 0;\n+}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/971afae7cf4f784c37ea89459c1b3627bcf601ff"}
{"commit_hash": "caefac1996764d19e4fa39d8d33651da257dcab2", "short_hash": "caefac199676", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:42+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Debugfs global register create file and add file operations", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 141, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver with 141 lines across 3 files"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 11, "details": "Debugfs tracing feature affecting driver developers"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers, basic message, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author + Oracle committer, internal project"}}, "score_justification": "Adds debugfs tracing for global registers in hisi_sas driver", "code_snippet": "@@ -221,7 +221,15 @@ struct hisi_sas_slot {\n \tu16\tidx;\n };\n \n+#define HISI_SAS_DEBUGFS_REG(x) {#x, x}\n+\n+struct hisi_sas_debugfs_reg_lu {\n+\tchar *name;\n+\tint off;\n+};\n+\n struct hisi_sas_debugfs_reg {\n+\tconst struct hisi_sas_debugfs_reg_lu *lu;\n \tint count;\n \tint base_off;\n \tunion {\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 742f71a8412a..fd85934d241f 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/caefac1996764d19e4fa39d8d33651da257dcab2"}
{"commit_hash": "61a6ebf3f584288e68254ccaddc536fcc602e5ae", "short_hash": "61a6ebf3f584", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:43+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Add debugfs for port registers", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 2, "insertions": 98, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 13, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver (98 lines, 10 hunks)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debugfs feature adds diagnostic value for hisi_sas users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review chain, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Add debugfs interface for port registers in hisi_sas SCSI driver", "code_snippet": "@@ -2604,9 +2604,38 @@ static const struct file_operations hisi_sas_debugfs_global_fops = {\n \t.owner = THIS_MODULE,\n };\n \n+static int hisi_sas_debugfs_port_show(struct seq_file *s, void *p)\n+{\n+\tstruct hisi_sas_phy *phy = s->private;\n+\tstruct hisi_hba *hisi_hba = phy->hisi_hba;\n+\tconst struct hisi_sas_hw *hw = hisi_hba->hw;\n+\tconst struct hisi_sas_debugfs_reg *reg_port = hw->debugfs_reg_port;\n+\tu32 *databuf = hisi_hba->debugfs_port_reg[phy->sas_phy.id];\n+\n+\thisi_sas_debugfs_print_reg(databuf, reg_port, s);\n+\n+\treturn 0;\n+}\n+\n+static int hisi_sas_debugfs_port_open(struct inode *inode, struct file *filp)\n+{\n+\treturn single_open(filp, hisi_sas_debugfs_port_show, inode->i_private);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61a6ebf3f584288e68254ccaddc536fcc602e5ae"}
{"commit_hash": "49159a5e4175f9f7a5149e7e27f583de04e934c2", "short_hash": "49159a5e4175", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:41+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Take debugfs snapshot for all regs", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 4, "insertions": 180, "deletions": 6, "hunks": 30, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 14, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "4 files, 30 hunks, +180/-6 lines adding debugfs snapshot infrastructure"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 15, "details": "New tracing feature for SCSI driver used by many servers"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "3 Signed-off-by tags including maintainer, good commit message, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer committer, 2 orgs involved"}}, "score_justification": "Debugfs snapshot infrastructure for Hisilicon SAS driver - adds register dumping capability for debugging hardware issues, affects storage subsystem users", "code_snippet": "@@ -223,6 +223,12 @@ struct hisi_sas_slot {\n \n struct hisi_sas_debugfs_reg {\n \tint count;\n+\tint base_off;\n+\tunion {\n+\t\tu32 (*read_global_reg)(struct hisi_hba *hisi_hba, u32 off);\n+\t\tu32 (*read_port_reg)(struct hisi_hba *hisi_hba, int port,\n+\t\t\t\t     u32 off);\n+\t};\n };\n \n struct hisi_sas_hw {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49159a5e4175f9f7a5149e7e27f583de04e934c2"}
{"commit_hash": "eb1c2b72b7694c984d520300c901f5fc1fa8ea9e", "short_hash": "eb1c2b72b769", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:40+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Alloc debugfs snapshot buffer memory for all registers", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 99, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 14, "score_impact": 13, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large change in SCSI driver (99 insertions, 12 hunks)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug feature extension for hisi_sas driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Two reviewers, decent commit message with context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Debugfs memory allocation extension for hisi_sas SCSI driver", "code_snippet": "@@ -334,6 +341,14 @@ struct hisi_hba {\n \tu32 intr_coal_ticks;\t/* Time of interrupt coalesce in us */\n \tu32 intr_coal_count;\t/* Interrupt count to coalesce */\n \n+\t/* debugfs memories */\n+\tvoid *debugfs_global_reg;\n+\tvoid *debugfs_port_reg[HISI_SAS_MAX_PHYS];\n+\tvoid *debugfs_complete_hdr[HISI_SAS_MAX_QUEUES];\n+\tstruct hisi_sas_cmd_hdr\t*debugfs_cmd_hdr[HISI_SAS_MAX_QUEUES];\n+\tstruct hisi_sas_iost *debugfs_iost;\n+\tstruct hisi_sas_itct *debugfs_itct;\n+\n \tstruct dentry *debugfs_dir;\n };\n \ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex 919cd3bd746a..0b0dbaabcce8 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb1c2b72b7694c984d520300c901f5fc1fa8ea9e"}
{"commit_hash": "ef63464bcf8feaa793e1aee4d3d186dfd1fff05f", "short_hash": "ef63464bcf8f", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-19T23:56:39+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-08T21:58:37-05:00", "subject": "scsi: hisi_sas: Create root and device debugfs directories", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 41, "deletions": 0, "hunks": 16, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 13, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver (3 files, 16 hunks, +41 lines)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 2, "novelty": 3, "subtotal": 13, "details": "New debugfs feature for driver debugging, limited to hisi_sas users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean implementation with basic message, 2 sign-offs, no testing evidence"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author + Oracle maintainer, cross-company contribution"}}, "score_justification": "Add debugfs infrastructure to hisi_sas driver for runtime debugging", "code_snippet": "@@ -461,6 +464,10 @@ struct hisi_sas_slot_buf_table {\n };\n \n extern struct scsi_transport_template *hisi_sas_stt;\n+\n+extern bool hisi_sas_debugfs_enable;\n+extern struct dentry *hisi_sas_debugfs_dir;\n+\n extern void hisi_sas_stop_phys(struct hisi_hba *hisi_hba);\n extern int hisi_sas_alloc(struct hisi_hba *hisi_hba, struct Scsi_Host *shost);\n extern void hisi_sas_free(struct hisi_hba *hisi_hba);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ef63464bcf8feaa793e1aee4d3d186dfd1fff05f"}
{"commit_hash": "36c346e1c5819115d3ffe6b81d853a061530fe4b", "short_hash": "36c346e1c581", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T02:20:16Z", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-01-09T10:32:18+01:00", "subject": "ALSA: usb-audio: Remove set but not used variable 'first_ch_bits'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1835,7 +1835,7 @@ static int parse_audio_feature_unit(struct mixer_build *state, int unitid,\n {\n \tint channels, i, j;\n \tstruct usb_audio_term iterm;\n-\tunsigned int master_bits, first_ch_bits;\n+\tunsigned int master_bits;\n \tint err, csize;\n \tstruct uac_feature_unit_descriptor *hdr = _ftr;\n \t__u8 *bmaControls;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/36c346e1c5819115d3ffe6b81d853a061530fe4b"}
{"commit_hash": "dd00ecfad9cacde6830113f6f4b4b913820ac626", "short_hash": "dd00ecfad9ca", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:35:57+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:06+01:00", "subject": "arm64: dts: add i2c nodes for MT2712", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 90, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -418,6 +418,96 @@ uart3: serial@11005000 {\n \t\tstatus = \"disabled\";\n \t};\n \n+\ti2c0: i2c@11007000 {\n+\t\tcompatible = \"mediatek,mt2712-i2c\";\n+\t\treg = <0 0x11007000 0 0x90>,\n+\t\t      <0 0x11000180 0 0x80>;\n+\t\tinterrupts = <GIC_SPI 84 IRQ_TYPE_LEVEL_LOW>;\n+\t\tclock-div = <4>;\n+\t\tclocks = <&pericfg CLK_PERI_I2C0>,\n+\t\t\t <&pericfg CLK_PERI_AP_DMA>;\n+\t\tclock-names = \"main\",\n+\t\t\t      \"dma\";\n+\t\t#address-cells = <1>;\n+\t\t#size-cells = <0>;\n+\t\tstatus = \"disabled\";\n+\t};\n+\n+\ti2c1: i2c@11008000 {", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/dd00ecfad9cacde6830113f6f4b4b913820ac626"}
{"commit_hash": "1724f4cc5133f0d841a1cf9c2fec89a20289a844", "short_hash": "1724f4cc5133", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:35:55+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:06+01:00", "subject": "arm64: dts: Add USB3 related nodes for MT2712", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 5, "files_changed": 2, "insertions": 224, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 8, "details": "Medium change in device tree files"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New USB3 hardware support for MT2712 platform"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit with proper structure"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author through community maintainer"}}, "score_justification": "Device tree addition enabling USB3 support for Mediatek MT2712 platform", "code_snippet": "@@ -6,6 +6,7 @@\n  */\n \n /dts-v1/;\n+#include <dt-bindings/gpio/gpio.h>\n #include \"mt2712e.dtsi\"\n \n / {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1724f4cc5133f0d841a1cf9c2fec89a20289a844"}
{"commit_hash": "e82aa7991c193d5d90d9c74d41372f4fcb0d24f9", "short_hash": "e82aa7991c19", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:35:56+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:06+01:00", "subject": "arm64: dts: add iommu/smi nodes for MT2712", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 128, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "128 lines added across 8 hunks in single DTS file"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "Hardware support addition for MT2712 IOMMU/SMI"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with only author/maintainer signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, different maintainer committer"}}, "score_justification": "Device tree source file adding IOMMU and SMI nodes for MediaTek MT2712 SoC", "code_snippet": "@@ -8,6 +8,7 @@\n #include <dt-bindings/clock/mt2712-clk.h>\n #include <dt-bindings/interrupt-controller/irq.h>\n #include <dt-bindings/interrupt-controller/arm-gic.h>\n+#include <dt-bindings/memory/mt2712-larb-port.h>\n #include <dt-bindings/phy/phy.h>\n #include <dt-bindings/power/mt2712-power.h>\n #include \"mt2712-pinfunc.h\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e82aa7991c193d5d90d9c74d41372f4fcb0d24f9"}
{"commit_hash": "a9386c5366a7657fbddec91e0ed04c54b24e145d", "short_hash": "a9386c5366a7", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:36:01+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:07+01:00", "subject": "arm64: dts: add nand nodes for MT2712", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64/dts", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 21, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 4, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT addition adding NAND controller nodes"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "Hardware enablement for NAND flash on MT2712 SoC"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal review tags, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer different person"}}, "score_justification": "Device tree addition enabling NAND flash on MT2712 SoC", "code_snippet": "@@ -504,6 +504,27 @@ spi0: spi@1100a000 {\n \t\tstatus = \"disabled\";\n \t};\n \n+\tnandc: nfi@1100e000 {\n+\t\tcompatible = \"mediatek,mt2712-nfc\";\n+\t\treg = <0 0x1100e000 0 0x1000>;\n+\t\tinterrupts = <GIC_SPI 96 IRQ_TYPE_LEVEL_LOW>;\n+\t\tclocks = <&topckgen CLK_TOP_NFI2X_EN>, <&pericfg CLK_PERI_NFI>;\n+\t\tclock-names = \"nfi_clk\", \"pad_clk\";\n+\t\tecc-engine = <&bch>;\n+\t\t#address-cells = <1>;\n+\t\t#size-cells = <0>;\n+\t\tstatus = \"disabled\";\n+\t};\n+\n+\tbch: ecc@1100f000 {\n+\t\tcompatible = \"mediatek,mt2712-ecc\";\n+\t\treg = <0 0x1100f000 0 0x1000>;\n+\t\tinterrupts = <GIC_SPI 95 IRQ_TYPE_LEVEL_LOW>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9386c5366a7657fbddec91e0ed04c54b24e145d"}
{"commit_hash": "a807d5d7c4f385eb5fb6be528dfaf77f560ff0c8", "short_hash": "a807d5d7c4f3", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:36:02+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:07+01:00", "subject": "arm64: dts: add pcie nodes for MT2712", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 63, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "Small DT change adding 63 lines for PCIe nodes"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MT2712 PCIe"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Minimal review, basic message structure"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, different maintainer committer"}}, "score_justification": "Device tree source addition enabling PCIe support on MT2712 SoC", "code_snippet": "@@ -791,6 +791,69 @@ u3port1: usb-phy@112e8700 {\n \t\t};\n \t};\n \n+\tpcie: pcie@11700000 {\n+\t\tcompatible = \"mediatek,mt2712-pcie\";\n+\t\tdevice_type = \"pci\";\n+\t\treg = <0 0x11700000 0 0x1000>,\n+\t\t      <0 0x112ff000 0 0x1000>;\n+\t\treg-names = \"port0\", \"port1\";\n+\t\t#address-cells = <3>;\n+\t\t#size-cells = <2>;\n+\t\tinterrupts = <GIC_SPI 115 IRQ_TYPE_LEVEL_HIGH>,\n+\t\t\t     <GIC_SPI 117 IRQ_TYPE_LEVEL_HIGH>;\n+\t\tclocks = <&topckgen CLK_TOP_PE2_MAC_P0_SEL>,\n+\t\t\t <&topckgen CLK_TOP_PE2_MAC_P1_SEL>,\n+\t\t\t <&pericfg CLK_PERI_PCIE0>,\n+\t\t\t <&pericfg CLK_PERI_PCIE1>;\n+\t\tclock-names = \"sys_ck0\", \"sys_ck1\", \"ahb_ck0\", \"ahb_ck1\";\n+\t\tphys = <&u3port0 PHY_TYPE_PCIE>, <&u3port1 PHY_TYPE_PCIE>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a807d5d7c4f385eb5fb6be528dfaf77f560ff0c8"}
{"commit_hash": "db0b58d88d7d1af5ce3e454e397eb461565675c5", "short_hash": "db0b58d88d7d", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:36:00+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:07+01:00", "subject": "arm64: dts: add mmc nodes for MT2712", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dts", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 34, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 4, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT change adding 3 MMC nodes to existing dtsi"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Enables MMC hardware support for MT2712 platform"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal review tags, standard DT commit format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author committed by maintainer (different orgs)"}}, "score_justification": "Device tree change adding MMC controller nodes for Mediatek MT2712 SoC", "code_snippet": "@@ -611,6 +611,40 @@ uart4: serial@11019000 {\n \t\tstatus = \"disabled\";\n \t};\n \n+\tmmc0: mmc@11230000 {\n+\t\tcompatible = \"mediatek,mt2712-mmc\";\n+\t\treg = <0 0x11230000 0 0x1000>;\n+\t\tinterrupts = <GIC_SPI 79 IRQ_TYPE_LEVEL_LOW>;\n+\t\tclocks = <&pericfg CLK_PERI_MSDC30_0>,\n+\t\t\t <&pericfg CLK_PERI_MSDC50_0_HCLK_EN>,\n+\t\t\t <&pericfg CLK_PERI_MSDC30_0_QTR_EN>,\n+\t\t\t <&pericfg CLK_PERI_MSDC50_0_EN>;\n+\t\tclock-names = \"source\", \"hclk\", \"bus_clk\", \"source_cg\";\n+\t\tstatus = \"disabled\";\n+\t};\n+\n+\tmmc1: mmc@11240000 {\n+\t\tcompatible = \"mediatek,mt2712-mmc\";\n+\t\treg = <0 0x11240000 0 0x1000>;\n+\t\tinterrupts = <GIC_SPI 80 IRQ_TYPE_LEVEL_LOW>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db0b58d88d7d1af5ce3e454e397eb461565675c5"}
{"commit_hash": "d85b9774c8bda4589db7e82d9e347522b82ef57d", "short_hash": "d85b9774c8bd", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:35:59+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:07+01:00", "subject": "arm64: dts: add pwm nodes for MT2712", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dts", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 28, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 4, "score_impact": 9, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT addition with 28 lines in peripheral subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "Hardware support for specific MediaTek platform"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal description, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different organizations"}}, "score_justification": "DT node addition for PWM peripheral on MT2712 SoC", "code_snippet": "@@ -418,6 +418,34 @@ uart3: serial@11005000 {\n \t\tstatus = \"disabled\";\n \t};\n \n+\tpwm: pwm@11006000 {\n+\t\tcompatible = \"mediatek,mt2712-pwm\";\n+\t\treg = <0 0x11006000 0 0x1000>;\n+\t\t#pwm-cells = <2>;\n+\t\tinterrupts = <GIC_SPI 77 IRQ_TYPE_LEVEL_LOW>;\n+\t\tclocks = <&topckgen CLK_TOP_PWM_SEL>,\n+\t\t\t <&pericfg CLK_PERI_PWM>,\n+\t\t\t <&pericfg CLK_PERI_PWM0>,\n+\t\t\t <&pericfg CLK_PERI_PWM1>,\n+\t\t\t <&pericfg CLK_PERI_PWM2>,\n+\t\t\t <&pericfg CLK_PERI_PWM3>,\n+\t\t\t <&pericfg CLK_PERI_PWM4>,\n+\t\t\t <&pericfg CLK_PERI_PWM5>,\n+\t\t\t <&pericfg CLK_PERI_PWM6>,\n+\t\t\t <&pericfg CLK_PERI_PWM7>;\n+\t\tclock-names = \"top\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d85b9774c8bda4589db7e82d9e347522b82ef57d"}
{"commit_hash": "9d66740cecbdfb7dca65af4ba6ae5f70df8d9c07", "short_hash": "9d66740cecbd", "author_name": "YT Shen", "author_email": "yt.shen@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-03T19:35:58+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-09T18:16:07+01:00", "subject": "arm64: dts: add spi nodes for MT2712", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 65, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YT Shen <yt.shen@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 6, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "Small DT change adding SPI controller nodes"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MT2712 SPI"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, minimal message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Mediatek to maintainer"}}, "score_justification": "Device Tree feature adding SPI nodes for Mediatek MT2712 SoC", "code_snippet": "@@ -463,6 +463,19 @@ i2c2: i2c@11009000 {\n \t\tstatus = \"disabled\";\n \t};\n \n+\tspi0: spi@1100a000 {\n+\t\tcompatible = \"mediatek,mt2712-spi\";\n+\t\t#address-cells = <1>;\n+\t\t#size-cells = <0>;\n+\t\treg = <0 0x1100a000 0 0x100>;\n+\t\tinterrupts = <GIC_SPI 118 IRQ_TYPE_LEVEL_LOW>;\n+\t\tclocks = <&topckgen CLK_TOP_UNIVPLL2_D4>,\n+\t\t\t <&topckgen CLK_TOP_SPI_SEL>,\n+\t\t\t <&pericfg CLK_PERI_SPI0>;\n+\t\tclock-names = \"parent-clk\", \"sel-clk\", \"spi-clk\";\n+\t\tstatus = \"disabled\";\n+\t};\n+\n \ti2c3: i2c@11010000 {\n \t\tcompatible = \"mediatek,mt2712-i2c\";\n \t\treg = <0 0x11010000 0 0x90>,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d66740cecbdfb7dca65af4ba6ae5f70df8d9c07"}
{"commit_hash": "f833fe2056b3a6d69598ef029cede6e77dcc1b14", "short_hash": "f833fe2056b3", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-10T01:43:09Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-10T10:53:35Z", "subject": "ASoC: Intel: bytcht_es8316: use correct drvdata in snd_byt_cht_es8316_mc_remove()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0d3e91da0750 (\"ASoC: Intel: bytcht_es8316: Add external speaker mux support\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/intel"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Hans de Goede <hdegoede@redhat.com> (Redhat)"], "tested_by": [], "acked_by": ["Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in ASoC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for audio driver"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org with kernel.org maintainer"}}, "score_justification": "Type mismatch fix in ASoC driver with proper Fixes tag and cross-org review", "code_snippet": "@@ -544,7 +544,8 @@ static int snd_byt_cht_es8316_mc_probe(struct platform_device *pdev)\n \n static int snd_byt_cht_es8316_mc_remove(struct platform_device *pdev)\n {\n-\tstruct byt_cht_es8316_private *priv = platform_get_drvdata(pdev);\n+\tstruct snd_soc_card *card = platform_get_drvdata(pdev);\n+\tstruct byt_cht_es8316_private *priv = snd_soc_card_get_drvdata(card);\n \n \tgpiod_put(priv->speaker_en_gpio);\n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f833fe2056b3a6d69598ef029cede6e77dcc1b14"}
{"commit_hash": "6375d40322f06925f5f24cd555b12567c830502b", "short_hash": "6375d40322f0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-20T11:55:22+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-01-10T13:29:59+02:00", "subject": "brcmsmac: remove set but not used variables 'phybw40, maxtargetpwr'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 11, "hunks": 14, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4622,13 +4618,10 @@ static void wlc_lcnphy_radio_init(struct brcms_phy *pi)\n static void wlc_lcnphy_tbl_init(struct brcms_phy *pi)\n {\n \tuint idx;\n-\tu8 phybw40;\n \tstruct phytbl_info tab;\n \tconst struct phytbl_info *tb;\n \tu32 val;\n \n-\tphybw40 = CHSPEC_IS40(pi->radio_chanspec);\n-\n \tfor (idx = 0; idx < dot11lcnphytbl_info_sz_rev0; idx++)\n \t\twlc_lcnphy_write_table(pi, &dot11lcnphytbl_info_rev0[idx]);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/6375d40322f06925f5f24cd555b12567c830502b"}
{"commit_hash": "51c8d24101c79ffce3e79137e2cee5dfeb956dd7", "short_hash": "51c8d24101c7", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2018-12-22T10:34:54Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-01-10T13:35:02+02:00", "subject": "cw1200: fix missing unlock on error in cw1200_hw_scan()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-DEADLOCK"], "cve_ids": [], "fixes_tag": "Fixes: 4f68ef64cd7f (\"cw1200: Fix concurrency use-after-free bugs in cw1200_hw_scan()\")", "cc_stable": false, "subsystem_prefix": "cw1200", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jia-Ju Bai <baijiaju1990@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with prevents potential deadlock"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clean fix with proper Fixes tag and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Qualcomm"}}, "score_justification": "Missing unlock on error path in wireless driver scan function", "code_snippet": "@@ -84,8 +84,11 @@ int cw1200_hw_scan(struct ieee80211_hw *hw,\n \n \tframe.skb = ieee80211_probereq_get(hw, priv->vif->addr, NULL, 0,\n \t\treq->ie_len);\n-\tif (!frame.skb)\n+\tif (!frame.skb) {\n+\t\tmutex_unlock(&priv->conf_mutex);\n+\t\tup(&priv->scan.lock);\n \t\treturn -ENOMEM;\n+\t}\n \n \tif (req->ie_len)\n \t\tskb_put_data(frame.skb, req->ie, req->ie_len);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/51c8d24101c79ffce3e79137e2cee5dfeb956dd7"}
{"commit_hash": "074b01a51d058f4216b7ce541e96b778aa6af60d", "short_hash": "074b01a51d05", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2018-12-20T17:36:56+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-01-10T22:02:44+01:00", "subject": "rtc: Fix UBSAN overflow warning", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/rtc", "subsystems_touched": ["drivers/rtc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in RTC driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix preventing UBSAN overflow in RTC ioctls"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Good message with UBSAN output, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Bootlin maintainer"}}, "score_justification": "UBSAN integer overflow fix in RTC time validation; adds explicit unsigned cast", "code_snippet": "@@ -100,7 +100,7 @@ int rtc_valid_tm(struct rtc_time *tm)\n \tif (tm->tm_year < 70\n \t\t|| ((unsigned)tm->tm_mon) >= 12\n \t\t|| tm->tm_mday < 1\n-\t\t|| tm->tm_mday > rtc_month_days(tm->tm_mon, tm->tm_year + 1900)\n+\t\t|| tm->tm_mday > rtc_month_days(tm->tm_mon, ((unsigned)tm->tm_year + 1900))\n \t\t|| ((unsigned)tm->tm_hour) >= 24\n \t\t|| ((unsigned)tm->tm_min) >= 60\n \t\t|| ((unsigned)tm->tm_sec) >= 60)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/074b01a51d058f4216b7ce541e96b778aa6af60d"}
{"commit_hash": "6e737a4e921ea99125955d0d8821d8da129b03bd", "short_hash": "6e737a4e921e", "author_name": "chuanjia.liu", "author_email": "Chuanjia.Liu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-03T11:37:15+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-01-11T13:15:06+01:00", "subject": "pinctrl: mediatek: add EINT support to virtual GPIOs", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chuanjia Liu <Chuanjia.Liu@mediatek.com> (MediaTek)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sean Wang <sean.wang@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 8-line change in pinctrl driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for MediaTek SoC GPIOs"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed and ACKed, good explanation of why"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, Linaro maintainer, cross-company review"}}, "score_justification": "Adds EINT support for virtual GPIOs in MediaTek pinctrl driver", "code_snippet": "@@ -290,7 +290,13 @@ static int mtk_xt_set_gpio_as_eint(void *data, unsigned long eint_n)\n \t\treturn err;\n \n \terr = mtk_hw_set_value(hw, desc, PINCTRL_PIN_REG_SMT, MTK_ENABLE);\n-\tif (err)\n+\t/* SMT is supposed to be supported by every real GPIO and doesn't\n+\t * support virtual GPIOs, so the extra condition err != -ENOTSUPP\n+\t * is just for adding EINT support to these virtual GPIOs. It should\n+\t * add an extra flag in the pin descriptor when more pins with\n+\t * distinctive characteristic come out.\n+\t */\n+\tif (err && err != -ENOTSUPP)\n \t\treturn err;\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e737a4e921ea99125955d0d8821d8da129b03bd"}
{"commit_hash": "8d555c528565ad7261f0ce27c0a808ec9377ad33", "short_hash": "8d555c528565", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-18T02:26:14Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-01-11T14:16:55+08:00", "subject": "crypto: chtls - remove set but not used variables 'err, adap, request, hws'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in crypto subsystem tier 2"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with compiler warnings cited"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei author, external maintainer"}}, "score_justification": "GCC unused variable warning cleanup in crypto driver, cross-org commit", "code_snippet": "@@ -922,14 +922,13 @@ static int csk_wait_memory(struct chtls_dev *cdev,\n \t\t\t   struct sock *sk, long *timeo_p)\n {\n \tDEFINE_WAIT_FUNC(wait, woken_wake_function);\n-\tint sndbuf, err = 0;\n+\tint err = 0;\n \tlong current_timeo;\n \tlong vm_wait = 0;\n \tbool noblock;\n \n \tcurrent_timeo = *timeo_p;\n \tnoblock = (*timeo_p ? false : true);\n-\tsndbuf = cdev->max_host_sndbuf;\n \tif (csk_mem_free(cdev, sk)) {\n \t\tcurrent_timeo = (prandom_u32() % (HZ / 5)) + 2;\n \t\tvm_wait = (prandom_u32() % (HZ / 5)) + 2;", "flags": ["CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/8d555c528565ad7261f0ce27c0a808ec9377ad33"}
{"commit_hash": "e12468241b19653d87534f3ff0778f1ad4668f5e", "short_hash": "e12468241b19", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-28T06:53:53Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-01-11T14:16:56+08:00", "subject": "crypto: chelsio - remove set but not used variables 'adap'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: a1c6fd4308d3 (\"crypto: chelsio - Update ntx queue received from cxgb4\")", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/chelsio"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in critical crypto subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good commit message with fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org) from different companies"}}, "score_justification": "GCC warning fix removing unused variable in crypto driver", "code_snippet": "@@ -1368,7 +1368,6 @@ static int chcr_aes_decrypt(struct ablkcipher_request *req)\n static int chcr_device_init(struct chcr_context *ctx)\n {\n \tstruct uld_ctx *u_ctx = NULL;\n-\tstruct adapter *adap;\n \tunsigned int id;\n \tint txq_perchan, txq_idx, ntxq;\n \tint err = 0, rxq_perchan, rxq_idx;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e12468241b19653d87534f3ff0778f1ad4668f5e"}
{"commit_hash": "66af86d93ce32ff5b262ace9a6696873cc1bdb3e", "short_hash": "66af86d93ce3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-28T14:41:00+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-01-11T14:16:56+08:00", "subject": "crypto: chelsio - check set_msg_len overflow in generate_b0", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 2debd3325e55 (\"crypto: chcr - Add AEAD algos.\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -2762,7 +2762,7 @@ static int set_msg_len(u8 *block, unsigned int msglen, int csize)\n \treturn 0;\n }\n \n-static void generate_b0(struct aead_request *req, u8 *ivptr,\n+static int generate_b0(struct aead_request *req, u8 *ivptr,\n \t\t\tunsigned short op_type)\n {\n \tunsigned int l, lp, m;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/66af86d93ce32ff5b262ace9a6696873cc1bdb3e"}
{"commit_hash": "be8a54d367bfef7a5b354975f878441383ce9993", "short_hash": "be8a54d367bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-28T06:10:33Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-01-11T14:16:56+08:00", "subject": "crypto: ux500 - catch dma submission error", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical crypto subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Error handling fix for specific crypto driver"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal message quality, basic atomicity"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Missing error check on dmaengine_submit() in crypto driver", "code_snippet": "@@ -595,6 +595,12 @@ static int cryp_set_dma_transfer(struct cryp_ctx *ctx,\n \t}\n \n \tcookie = dmaengine_submit(desc);\n+\tif (dma_submit_error(cookie)) {\n+\t\tdev_dbg(ctx->device->dev, \"[%s]: DMA submission failed\\n\",\n+\t\t\t__func__);\n+\t\treturn cookie;\n+\t}\n+\n \tdma_async_issue_pending(channel);\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be8a54d367bfef7a5b354975f878441383ce9993"}
{"commit_hash": "345dca4ca7e65a46bf0b6e2e6b8ab2e998ec6e91", "short_hash": "345dca4ca7e6", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-12T15:16:24+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-01-13T15:11:35+01:00", "subject": "x86/e820: Replace kmalloc() + memcpy() with kmemdup()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 8, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical x86 memory management code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clean commit with proper maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution from ZTE to SUSE maintainer"}}, "score_justification": "Simple API migration from kmalloc+memcpy to kmemdup in x86 e820 code", "code_snippet": "@@ -671,21 +671,18 @@ __init void e820__reallocate_tables(void)\n \tint size;\n \n \tsize = offsetof(struct e820_table, entries) + sizeof(struct e820_entry)*e820_table->nr_entries;\n-\tn = kmalloc(size, GFP_KERNEL);\n+\tn = kmemdup(e820_table, size, GFP_KERNEL);\n \tBUG_ON(!n);\n-\tmemcpy(n, e820_table, size);\n \te820_table = n;\n \n \tsize = offsetof(struct e820_table, entries) + sizeof(struct e820_entry)*e820_table_kexec->nr_entries;\n-\tn = kmalloc(size, GFP_KERNEL);\n+\tn = kmemdup(e820_table_kexec, size, GFP_KERNEL);\n \tBUG_ON(!n);\n-\tmemcpy(n, e820_table_kexec, size);\n \te820_table_kexec = n;\n \n \tsize = offsetof(struct e820_table, entries) + sizeof(struct e820_entry)*e820_table_firmware->nr_entries;\n-\tn = kmalloc(size, GFP_KERNEL);\n+\tn = kmemdup(e820_table_firmware, size, GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/345dca4ca7e65a46bf0b6e2e6b8ab2e998ec6e91"}
{"commit_hash": "1eb7ea26d12345898d2647e00c1f675204143bef", "short_hash": "1eb7ea26d123", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-21T00:45:41-08:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-13T22:49:31-08:00", "subject": "Input: mtk-pmic-keys - remove duplicated include from mtk-pmic-keys.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/input/keyboard", "subsystems_touched": ["drivers/input/keyboard"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal change: include reordering in single file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, only header reorganization"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic Signed-off-by tags, simple message"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, maintainer committer from different org"}}, "score_justification": "Trivial include reordering and duplicate removal in driver", "code_snippet": "@@ -14,18 +14,17 @@\n  *\n  */\n \n-#include <linux/module.h>\n-#include <linux/kernel.h>\n #include <linux/input.h>\n #include <linux/interrupt.h>\n-#include <linux/platform_device.h>\n #include <linux/kernel.h>\n-#include <linux/of.h>\n-#include <linux/of_device.h>\n-#include <linux/regmap.h>\n #include <linux/mfd/mt6323/registers.h>\n-#include <linux/mfd/mt6397/registers.h>\n #include <linux/mfd/mt6397/core.h>\n+#include <linux/mfd/mt6397/registers.h>\n+#include <linux/module.h>\n+#include <linux/of_device.h>\n+#include <linux/of.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1eb7ea26d12345898d2647e00c1f675204143bef"}
{"commit_hash": "06c3bbd3c12737a50c2e981821b5585e1786e73d", "short_hash": "06c3bbd3c127", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-17T17:18:30+08:00", "committer_name": "Laurent Pinchart", "committer_email": "laurent.pinchart+renesas@ideasonboard.com", "committer_company": "Ideasonboard", "commit_date": "2019-01-14T03:51:16+02:00", "subject": "drm/shmob: Fix return value check in shmob_drm_probe", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8f1597c8f1a5 (\"drm: shmobile: Perform initialization/cleanup at probe/remove time\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com> (Ideasonboard)"], "reviewed_by": ["Simon Horman <horms+renesas@verge.net.au> (Net)", "Kieran Bingham <kieran.bingham+renesas@ideasonboard.com> (Ideasonboard)", "Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com> (Ideasonboard)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 15, "score_quality": 15, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in GPU DRM subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with regression impact, affects users of shmobile DRM"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent review chain with 3 reviewers from 2 companies"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different company"}}, "score_justification": "Fixes incorrect NULL check for ERR_PTR return value in DRM driver probe", "code_snippet": "@@ -229,8 +229,8 @@ static int shmob_drm_probe(struct platform_device *pdev)\n \n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tsdev->mmio = devm_ioremap_resource(&pdev->dev, res);\n-\tif (sdev->mmio == NULL)\n-\t\treturn -ENOMEM;\n+\tif (IS_ERR(sdev->mmio))\n+\t\treturn PTR_ERR(sdev->mmio);\n \n \tret = shmob_drm_setup_clocks(sdev, pdata->clk_source);\n \tif (ret < 0)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/06c3bbd3c12737a50c2e981821b5585e1786e73d"}
{"commit_hash": "ee9fa8f302dc1df10583fc043a91003e0a332d1b", "short_hash": "ee9fa8f302dc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-02T13:18:08Z", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-01-14T11:55:45+01:00", "subject": "ACPI: APEI: EINJ: Use DEFINE_DEBUGFS_ATTRIBUTE for debugfs files", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "acpi/apei", "subsystems_touched": ["drivers/acpi/apei"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Borislav Petkov <bp@suse.de> (Suse)"], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 8, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change migrating debugfs API in ACPI subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review chain, clear message with cocci reference"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Huawei/Intel), kernel.org maintainer"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -644,8 +644,8 @@ static int error_type_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(error_type_fops, error_type_get,\n-\t\t\terror_type_set, \"0x%llx\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(error_type_fops, error_type_get, error_type_set,\n+\t\t\t \"0x%llx\\n\");\n \n static int error_inject_set(void *data, u64 val)\n {", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/ee9fa8f302dc1df10583fc043a91003e0a332d1b"}
{"commit_hash": "7cd4774ff7a495839f49a582be7299598eeffc37", "short_hash": "7cd4774ff7a4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T12:10:58Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-01-14T20:39:27+11:00", "subject": "powerpc/mm: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/mm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 6-line change in critical powerpc memory management"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Coccinelle-generated warning fix, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Generated by Coccinelle, basic message, self-committed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Coccinelle-generated debugfs API migration in powerpc mm", "code_snippet": "@@ -1889,12 +1889,12 @@ static int hpt_order_set(void *data, u64 val)\n \treturn mmu_hash_ops.resize_hpt(val);\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(fops_hpt_order, hpt_order_get, hpt_order_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(fops_hpt_order, hpt_order_get, hpt_order_set, \"%llu\\n\");\n \n static int __init hash64_debugfs(void)\n {\n-\tif (!debugfs_create_file(\"hpt_order\", 0600, powerpc_debugfs_root,\n-\t\t\t\t NULL, &fops_hpt_order)) {\n+\tif (!debugfs_create_file_unsafe(\"hpt_order\", 0600, powerpc_debugfs_root,\n+\t\t\t\t\tNULL, &fops_hpt_order)) {\n \t\tpr_err(\"lpar: unable to create hpt_order debugsfs file\\n\");\n \t}\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/7cd4774ff7a495839f49a582be7299598eeffc37"}
{"commit_hash": "d2c255be37f46b7d484783b556f280d2da3aecf8", "short_hash": "d2c255be37f4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T12:06:41Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-15T16:08:04+01:00", "subject": "staging: wilc1000: remove set but not used variable 'msa'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in staging driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean warning fix with good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by Linux Foundation"}}, "score_justification": "Compiler warning fix removing unused variable in staging driver", "code_snippet": "@@ -745,7 +745,7 @@ static s32 wilc_parse_network_info(u8 *msg_buffer,\n {\n \tstruct network_info *info;\n \tstruct ieee80211_mgmt *mgt;\n-\tu8 *wid_val, *msa, *ies;\n+\tu8 *wid_val, *ies;\n \tu16 wid_len, rx_len, ies_len;\n \tu8 msg_type;\n \tsize_t offset;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d2c255be37f46b7d484783b556f280d2da3aecf8"}
{"commit_hash": "4a09a91e5efd3759d28ae4708a7bcef11bee4416", "short_hash": "4a09a91e5efd", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-16T10:12:03+08:00", "committer_name": "Boris Brezillon", "committer_email": "bbrezillon@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-16T16:00:19+01:00", "subject": "dt-bindings: mtd: mtk-quadspi: update bindings for MT7629 SoC", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Boris Brezillon <bbrezillon@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 4, "score_impact": 9, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change in DT binding documentation"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New SoC support in binding doc"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by DT maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org committer"}}, "score_justification": "DT binding update adding MT7629 SoC compatibility string", "code_snippet": "@@ -1,4 +1,4 @@\n-* Serial NOR flash controller for MTK MT81xx (and similar)\n+* Serial NOR flash controller for MediaTek SoCs\n \n Required properties:\n - compatible: \t  For mt8173, compatible should be \"mediatek,mt8173-nor\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a09a91e5efd3759d28ae4708a7bcef11bee4416"}
{"commit_hash": "9cca9b3e55989f8b227d05897877648d67910a6d", "short_hash": "9cca9b3e5598", "author_name": "Guochun Mao", "author_email": "guochun.mao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-16T10:12:04+08:00", "committer_name": "Boris Brezillon", "committer_email": "bbrezillon@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-16T16:00:21+01:00", "subject": "mtd: spi-nor: mtk-quadspi: add SNOR_HWCAPS_READ to spi_nor_hwcaps mask", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/spi-nor"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Guochun Mao <guochun.mao@mediatek.com> (MediaTek)", "Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Boris Brezillon <bbrezillon@kernel.org> (Kernel)"], "reviewed_by": ["Tudor Ambarus <tudor.ambarus@microchip.com> (Microchip)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 1-file driver change with minimal line impact"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for MTD SPI NOR driver affecting specific platform users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by with clear explanation of missing capability"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer, Microchip reviewer"}}, "score_justification": "Driver logic fix adding missing SNOR_HWCAPS_READ flag for MediaTek controller", "code_snippet": "@@ -431,7 +431,8 @@ static int mtk_nor_init(struct mtk_nor *mtk_nor,\n \t\t\tstruct device_node *flash_node)\n {\n \tconst struct spi_nor_hwcaps hwcaps = {\n-\t\t.mask = SNOR_HWCAPS_READ_FAST |\n+\t\t.mask = SNOR_HWCAPS_READ |\n+\t\t\tSNOR_HWCAPS_READ_FAST |\n \t\t\tSNOR_HWCAPS_READ_1_1_2 |\n \t\t\tSNOR_HWCAPS_PP,\n \t};\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9cca9b3e55989f8b227d05897877648d67910a6d"}
{"commit_hash": "356dd9ce2361ba5ba74eeff227fb6ab6d46e128c", "short_hash": "356dd9ce2361", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-16T10:12:05+08:00", "committer_name": "Boris Brezillon", "committer_email": "bbrezillon@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-16T16:00:24+01:00", "subject": "mtd: spi-nor: mtk-quadspi: rename config to a common one", "primary_category": "MAINT-NAMING", "secondary_categories": ["BUILD-KCONFIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd"], "subsystem_tier": 4, "files_changed": 2, "insertions": 9, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Boris Brezillon <bbrezillon@kernel.org> (Kernel)"], "reviewed_by": ["Tudor Ambarus <tudor.ambarus@microchip.com> (Microchip)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small config rename in MTD driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Naming change with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed with clear rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org review by maintainer"}}, "score_justification": "Kconfig symbol rename for MediaTek driver to enable broader SoC sharing", "code_snippet": "@@ -66,6 +58,14 @@ config SPI_HISI_SFC\n \thelp\n \t  This enables support for hisilicon SPI-NOR flash controller.\n \n+config SPI_MTK_QUADSPI\n+\ttristate \"MediaTek Quad SPI controller\"\n+\tdepends on HAS_IOMEM\n+\thelp\n+\t  This enables support for the Quad SPI controller in master mode.\n+\t  This controller does not support generic SPI. It only supports\n+\t  SPI NOR.\n+\n config SPI_NXP_SPIFI\n \ttristate \"NXP SPI Flash Interface (SPIFI)\"\n \tdepends on OF && (ARCH_LPC18XX || COMPILE_TEST)\ndiff --git a/drivers/mtd/spi-nor/Makefile b/drivers/mtd/spi-nor/Makefile\nindex a552efd22958..4e4d4005d7a6 100644\n--- a/drivers/mtd/spi-nor/Makefile\n+++ b/drivers/mtd/spi-nor/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/356dd9ce2361ba5ba74eeff227fb6ab6d46e128c"}
{"commit_hash": "905b464ad9008905db099f90ae20f373c7051804", "short_hash": "905b464ad900", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-15T17:48:52Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T11:22:36-08:00", "subject": "net-next/hinic: replace disable_irq_nosync/enable_irq", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 6, "insertions": 73, "deletions": 4, "hunks": 32, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 16, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in networking driver with 6 files, 32 hunks"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization affecting NIC users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message quality, minimal review evidence"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same org commit, maintainer applied"}}, "score_justification": "Performance optimization replacing disable_irq_nosync with direct MMIO for MSI-X control in Huawei NIC driver", "code_snippet": "@@ -1008,3 +1008,16 @@ int hinic_hwdev_hw_ci_addr_set(struct hinic_hwdev *hwdev, struct hinic_sq *sq,\n \t\t\t\t &hw_ci, sizeof(hw_ci), NULL,\n \t\t\t\t NULL, HINIC_MGMT_MSG_SYNC);\n }\n+\n+/**\n+ * hinic_hwdev_set_msix_state- set msix state\n+ * @hwdev: the NIC HW device\n+ * @msix_index: IRQ corresponding index number\n+ * @flag: msix state\n+ *\n+ **/\n+void hinic_hwdev_set_msix_state(struct hinic_hwdev *hwdev, u16 msix_index,\n+\t\t\t\tenum hinic_msix_state flag)\n+{\n+\thinic_set_msix_state(hwdev->hwif, msix_index, flag);\n+}\ndiff --git a/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h b/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h\nindex d1a7d2522d82..c9e621e19dd0 100644\n--- a/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/905b464ad9008905db099f90ae20f373c7051804"}
{"commit_hash": "f3de19af0f5b18dcbb6d445db02120656ebf9cfb", "short_hash": "f3de19af0f5b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T10:39:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T11:44:58-08:00", "subject": "net/tls: remove unused function tls_sw_sendpage_locked", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/tls"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 9, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Single file cleanup removing 10 lines of unused code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with minimal documentation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by Red Hat maintainer"}}, "score_justification": "Dead code removal in net/tls with cross-org maintainer", "code_snippet": "@@ -1143,16 +1143,6 @@ int tls_sw_do_sendpage(struct sock *sk, struct page *page,\n \treturn copied ? copied : ret;\n }\n \n-int tls_sw_sendpage_locked(struct sock *sk, struct page *page,\n-\t\t\t   int offset, size_t size, int flags)\n-{\n-\tif (flags & ~(MSG_MORE | MSG_DONTWAIT | MSG_NOSIGNAL |\n-\t\t      MSG_SENDPAGE_NOTLAST | MSG_SENDPAGE_NOPOLICY))\n-\t\treturn -ENOTSUPP;\n-\n-\treturn tls_sw_do_sendpage(sk, page, offset, size, flags);\n-}\n-\n int tls_sw_sendpage(struct sock *sk, struct page *page,\n \t\t    int offset, size_t size, int flags)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f3de19af0f5b18dcbb6d445db02120656ebf9cfb"}
{"commit_hash": "01cb8a1a6445e3dcb4ea949ad6771890f224b46d", "short_hash": "01cb8a1a6445", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T10:39:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T11:45:21-08:00", "subject": "net/tls: Make function tls_sw_do_sendpage static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/tls"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in networking subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean sparse fix with proper message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Sparse warning fix adding static to internal TLS function", "code_snippet": "@@ -1020,8 +1020,8 @@ int tls_sw_sendmsg(struct sock *sk, struct msghdr *msg, size_t size)\n \treturn copied ? copied : ret;\n }\n \n-int tls_sw_do_sendpage(struct sock *sk, struct page *page,\n-\t\t       int offset, size_t size, int flags)\n+static int tls_sw_do_sendpage(struct sock *sk, struct page *page,\n+\t\t\t      int offset, size_t size, int flags)\n {\n \tlong timeo = sock_sndtimeo(sk, flags & MSG_DONTWAIT);\n \tstruct tls_context *tls_ctx = tls_get_ctx(sk);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01cb8a1a6445e3dcb4ea949ad6771890f224b46d"}
{"commit_hash": "8b59bfe83cf15f755024e88812e057af7341f525", "short_hash": "8b59bfe83cf1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T15:22:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T21:57:45-08:00", "subject": "qed: remove duplicated include from qed_if.h", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "qed", "subsystems_touched": ["include/linux/qed"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Denis Bolotin <dbolotin@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal change (1 deletion) in driver header"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Include cleanup with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked by subsystem maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Marvell reviewer, maintainer committed"}}, "score_justification": "Remove duplicated #include in qed driver header", "code_snippet": "@@ -38,7 +38,6 @@\n #include <linux/netdevice.h>\n #include <linux/pci.h>\n #include <linux/skbuff.h>\n-#include <linux/types.h>\n #include <asm/byteorder.h>\n #include <linux/io.h>\n #include <linux/compiler.h>\n", "flags": ["INCLUDE_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/8b59bfe83cf15f755024e88812e057af7341f525"}
{"commit_hash": "d4fb30f6f1b1822629508e562e3228f2a44cf620", "short_hash": "d4fb30f6f1b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T20:57:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T22:04:43-08:00", "subject": "tipc: remove unneeded semicolon in trace.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/tipc"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 10, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "4-line change removing extra semicolons in switch statements"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Minor cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with basic formatting and proper scoping"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer David S. Miller applied"}}, "score_justification": "Trivial cleanup removing unneeded semicolons after switch case blocks", "code_snippet": "@@ -111,7 +111,7 @@ int tipc_skb_dump(struct sk_buff *skb, bool more, char *buf)\n \t\t\tbreak;\n \t\tdefault:\n \t\t\tbreak;\n-\t\t};\n+\t\t}\n \t\ti += scnprintf(buf + i, sz - i, \" | %u\",\n \t\t\t       msg_src_droppable(hdr));\n \t\ti += scnprintf(buf + i, sz - i, \" %u\",", "flags": ["MINOR_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/d4fb30f6f1b1822629508e562e3228f2a44cf620"}
{"commit_hash": "5c423d71147422a2ba89a3cb4aaf83def2a4cec0", "short_hash": "5c423d711474", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T20:59:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T22:05:16-08:00", "subject": "net: ethernet: ti: cpsw-phy-sel: remove unneeded semicolon", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/ti", "subsystems_touched": ["drivers/net/ethernet/ti"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 17, "score_technical": 5, "score_impact": 4, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in network driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Minor cleanup, no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Basic review, minimal message, no test"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer merge"}}, "score_justification": "Minor cleanup removing extra semicolons in switch statements", "code_snippet": "@@ -78,7 +78,7 @@ static void cpsw_gmii_sel_am3352(struct cpsw_phy_sel_priv *priv,\n \tcase PHY_INTERFACE_MODE_MII:\n \t\tmode = AM33XX_GMII_SEL_MODE_MII;\n \t\tbreak;\n-\t};\n+\t}\n \n \tmask = GMII_SEL_MODE_MASK << (slave * 2) | BIT(slave + 6);\n \tmask |= BIT(slave + 4);", "flags": ["MAINT-WARN_CAP"], "link": "https://lore.kernel.org/linux-kernel/5c423d71147422a2ba89a3cb4aaf83def2a4cec0"}
{"commit_hash": "bec03debe2e5ebc1c8bb811852b6106ce2129d71", "short_hash": "bec03debe2e5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T21:03:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-17T22:05:42-08:00", "subject": "net/mlx4: remove unneeded semicolon", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Leon Romanovsky <leonro@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -3274,7 +3274,7 @@ int mlx4_set_vf_link_state(struct mlx4_dev *dev, int port, int vf, int link_stat\n \t\tmlx4_warn(dev, \"unknown value for link_state %02x on slave %d port %d\\n\",\n \t\t\t  link_state, slave, port);\n \t\treturn -EINVAL;\n-\t};\n+\t}\n \ts_info = &priv->mfunc.master.vf_admin[slave].vport[port];\n \ts_info->link_state = link_state;\n \ndiff --git a/drivers/net/ethernet/mellanox/mlx4/eq.c b/drivers/net/ethernet/mellanox/mlx4/eq.c\nindex 2df92dbd38e1..4953c852c247 100644\n--- a/drivers/net/ethernet/mellanox/mlx4/eq.c\n+++ b/drivers/net/ethernet/mellanox/mlx4/eq.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/bec03debe2e5ebc1c8bb811852b6106ce2129d71"}
{"commit_hash": "3e8c73671244af16f1a6042f1c10d13b75cd1156", "short_hash": "3e8c73671244", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T05:44:32Z", "committer_name": "James Morris", "committer_email": "james.morris@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-01-18T11:46:44-08:00", "subject": "LSM: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f4ad8f2c4076 (\"LSM: Infrastructure management of the task security\")", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "James Morris <james.morris@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Casey Schaufler <casey@schaufler-ca.com> (Schaufler-ca)"], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1 file, 6 hunks, 6 lines - tiny change in critical security subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with Fixes tag but no stable - minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by + Signed-off-by, good message with sparse warnings and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Microsoft committer, cross-company review"}}, "score_justification": "Sparse warning fix in security LSM - makes 3 functions static with proper Fixes tag", "code_snippet": "@@ -530,7 +530,7 @@ int lsm_inode_alloc(struct inode *inode)\n  *\n  * Returns 0, or -ENOMEM if memory can't be allocated.\n  */\n-int lsm_task_alloc(struct task_struct *task)\n+static int lsm_task_alloc(struct task_struct *task)\n {\n \tif (blob_sizes.lbs_task == 0) {\n \t\ttask->security = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e8c73671244af16f1a6042f1c10d13b75cd1156"}
{"commit_hash": "de77503a59403e7045c18c6bb0a10c245a99b648", "short_hash": "de77503a5940", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-01-12T18:36:29+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-18T13:04:27-07:00", "subject": "RDMA/hns: RDMA/hns: Assign rq head pointer when enable rq record db", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 10, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 17, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in Hisilicon RDMA driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Potential crash fix for specific hardware users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with context but no testing tags"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org: Huawei author, Mellanox committer"}}, "score_justification": "Fixes potential null pointer dereference when rq record db not enabled", "code_snippet": "@@ -675,6 +675,10 @@ static int hns_roce_create_qp_common(struct hns_roce_dev *hr_dev,\n \t\t\t\tdev_err(dev, \"rq record doorbell map failed!\\n\");\n \t\t\t\tgoto err_sq_dbmap;\n \t\t\t}\n+\n+\t\t\t/* indicate kernel supports rq record db */\n+\t\t\tresp.cap_flags |= HNS_ROCE_SUPPORT_RQ_RECORD_DB;\n+\t\t\thr_qp->rdb_en = 1;\n \t\t}\n \t} else {\n \t\tif (init_attr->create_flags &", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de77503a59403e7045c18c6bb0a10c245a99b648"}
{"commit_hash": "8ea175f0056dd72e6a86f6852d0db542efbb08f6", "short_hash": "8ea175f0056d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T03:21:47Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-18T13:41:23-07:00", "subject": "RDMA/qedr: remove set but not used variable 'ib_ctx'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b0ea0fa5435f (\"IB/{core,hw}: Have ib_umem_get extract the ib_ucontext from ib_udata\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/qedr"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change: 6 deletions across 6 hunks in 1 file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix only, no runtime impact, no stable tag"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good commit message with Fixes tag, cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox committer, different orgs"}}, "score_justification": "GCC unused variable warning fix in RDMA driver, cross-org contribution", "code_snippet": "@@ -1459,8 +1458,6 @@ struct ib_srq *qedr_create_srq(struct ib_pd *ibpd,\n \thw_srq->max_sges = init_attr->attr.max_sge;\n \n \tif (udata && ibpd->uobject && ibpd->uobject->context) {\n-\t\tib_ctx = ibpd->uobject->context;\n-\n \t\tif (ib_copy_from_udata(&ureq, udata, sizeof(ureq))) {\n \t\t\tDP_ERR(dev,\n \t\t\t       \"create srq: problem copying data from user space\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ea175f0056dd72e6a86f6852d0db542efbb08f6"}
{"commit_hash": "790b57f686e29b93616b3d13b38043f5ec29fa0a", "short_hash": "790b57f686e2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T11:09:00+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-18T14:04:46-07:00", "subject": "IB/hw: Remove unneeded semicolons", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns", "drivers/infiniband/hw/qedr"], "subsystem_tier": 3, "files_changed": 3, "insertions": 9, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 10, "score_impact": 5, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 10, "details": "Tiny change across 3 files in 2 IB driver subsystems"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Code cleanup removing unnecessary semicolons after switch statements"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Minimal message, no testing, single logical cleanup change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Mellanox applied it"}}, "score_justification": "Trivial cleanup removing spurious semicolons after switch break statements across infiniband drivers", "code_snippet": "@@ -4578,7 +4578,7 @@ static int hns_roce_v2_aeq_int(struct hns_roce_dev *hr_dev,\n \t\t\tdev_err(dev, \"Unhandled event %d on EQ %d at idx %u.\\n\",\n \t\t\t\tevent_type, eq->eqn, eq->cons_index);\n \t\t\tbreak;\n-\t\t};\n+\t\t}\n \n \t\teq->event_type = event_type;\n \t\teq->sub_type = sub_type;\ndiff --git a/drivers/infiniband/hw/qedr/qedr_iw_cm.c b/drivers/infiniband/hw/qedr/qedr_iw_cm.c\nindex 93b16237b767..0555e5a8c9ed 100644\n--- a/drivers/infiniband/hw/qedr/qedr_iw_cm.c\n+++ b/drivers/infiniband/hw/qedr/qedr_iw_cm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/790b57f686e29b93616b3d13b38043f5ec29fa0a"}
{"commit_hash": "c78b5b6cdc8fd8a305b26ba59fe5fad6a0acbe6e", "short_hash": "c78b5b6cdc8f", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: modify parameter checks in the hns3_set_channels", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in tier 3 networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for queue parameter validation affecting hns3 users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with internal review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Parameter validation fix in hns3 driver changing minimum queue check from num_tc to 1", "code_snippet": "@@ -4157,15 +4157,14 @@ int hns3_set_channels(struct net_device *netdev,\n \t\treturn -EINVAL;\n \n \tif (new_tqp_num > hns3_get_max_available_channels(h) ||\n-\t    new_tqp_num < kinfo->num_tc) {\n+\t    new_tqp_num < 1) {\n \t\tdev_err(&netdev->dev,\n-\t\t\t\"Change tqps fail, the tqp range is from %d to %d\",\n-\t\t\tkinfo->num_tc,\n+\t\t\t\"Change tqps fail, the tqp range is from 1 to %d\",\n \t\t\thns3_get_max_available_channels(h));\n \t\treturn -EINVAL;\n \t}\n \n-\tif (kinfo->num_tqps == new_tqp_num)\n+\tif (kinfo->rss_size == new_tqp_num)\n \t\treturn 0;\n \n \tret = hns3_reset_notify(h, HNAE3_DOWN_CLIENT);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c78b5b6cdc8fd8a305b26ba59fe5fad6a0acbe6e"}
{"commit_hash": "73fc9c4882439b3ea4f185264e1c6d969d61b067", "short_hash": "73fc9c488243", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: add interface hclge_tm_bp_setup", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 15, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 10, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in network driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code organization improvement for specific driver"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, clear purpose, no tests"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Refactor extracting back pressure setup into reusable interface", "code_snippet": "@@ -1228,10 +1228,23 @@ static int hclge_mac_pause_setup_hw(struct hclge_dev *hdev)\n \treturn hclge_mac_pause_en_cfg(hdev, tx_en, rx_en);\n }\n \n+static int hclge_tm_bp_setup(struct hclge_dev *hdev)\n+{\n+\tint ret = 0;\n+\tint i;\n+\n+\tfor (i = 0; i < hdev->tm_info.num_tc; i++) {\n+\t\tret = hclge_bp_setup_hw(hdev, i);\n+\t\tif (ret)\n+\t\t\treturn ret;\n+\t}\n+\n+\treturn ret;\n+}\n+\n int hclge_pause_setup_hw(struct hclge_dev *hdev)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73fc9c4882439b3ea4f185264e1c6d969d61b067"}
{"commit_hash": "65749f7375ae7a3cc14237c9972e5a3c14116c85", "short_hash": "65749f7375ae", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: reuse reinitialization interface in the hns3_set_channels", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 63, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4144,52 +4144,11 @@ static int hns3_reset_notify(struct hnae3_handle *handle,\n \treturn ret;\n }\n \n-static int hns3_modify_tqp_num(struct net_device *netdev, u16 new_tqp_num)\n-{\n-\tstruct hns3_nic_priv *priv = netdev_priv(netdev);\n-\tstruct hnae3_handle *h = hns3_get_handle(netdev);\n-\tint ret;\n-\n-\tret = h->ae_algo->ops->set_channels(h, new_tqp_num);\n-\tif (ret)\n-\t\treturn ret;\n-\n-\tret = hns3_get_ring_config(priv);\n-\tif (ret)\n-\t\treturn ret;\n-\n-\tret = hns3_nic_alloc_vector_data(priv);\n-\tif (ret)", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/65749f7375ae7a3cc14237c9972e5a3c14116c85"}
{"commit_hash": "be5929b89002bb6b06b299f04bc35d90ab9d08fe", "short_hash": "be5929b89002", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: remove unnecessary hns3_adjust_tqps_num", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 10, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small removal of unnecessary function in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting hns3 driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple sign-offs but limited explanation"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Huawei author committed by external maintainer"}}, "score_justification": "Dead code removal in hns3 driver - unnecessary adjustment function eliminated", "code_snippet": "@@ -4183,11 +4183,6 @@ static int hns3_modify_tqp_num(struct net_device *netdev, u16 new_tqp_num)\n \treturn ret;\n }\n \n-static int hns3_adjust_tqps_num(u8 num_tc, u32 new_tqp_num)\n-{\n-\treturn (new_tqp_num / num_tc) * num_tc;\n-}\n-\n int hns3_set_channels(struct net_device *netdev,\n \t\t      struct ethtool_channels *ch)\n {", "flags": ["HUAWEI"], "link": "https://lore.kernel.org/linux-kernel/be5929b89002bb6b06b299f04bc35d90ab9d08fe"}
{"commit_hash": "a81aca01a1152b8fafcb67f6d3122cf815e87a70", "short_hash": "a81aca01a115", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: remove unused member in struct hns3_enet_ring", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 2, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny cleanup in standard network driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Minor cleanup with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit structure, minimal testing needed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to netdev maintainer"}}, "score_justification": "Removes unused irq_init_flag field from hns3 driver structure", "code_snippet": "@@ -3208,7 +3208,6 @@ static int hns3_nic_uninit_vector_data(struct hns3_nic_priv *priv)\n \t\t\ttqp_vector->irq_init_flag = HNS3_VECTOR_NOT_INITED;\n \t\t}\n \n-\t\tpriv->ring_data[i].ring->irq_init_flag = HNS3_VECTOR_NOT_INITED;\n \t\thns3_clear_ring_group(&tqp_vector->rx_group);\n \t\thns3_clear_ring_group(&tqp_vector->tx_group);\n \t\tnetif_napi_del(&priv->tqp_vector[i].napi);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex e55995e93bb0..f59ab7387b1f 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a81aca01a1152b8fafcb67f6d3122cf815e87a70"}
{"commit_hash": "2c9dd668914bb9813b83bc62c28ebfe53e205525", "short_hash": "2c9dd668914b", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:21-08:00", "subject": "net: hns3: modify enet reinitialization interface", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 2, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver fix in networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes double free and memory allocation for specific driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation but no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "Driver bug fix for double free and incorrect ring memory allocation during reset/reinit", "code_snippet": "@@ -4045,10 +4049,14 @@ static int hns3_reset_notify_init_enet(struct hnae3_handle *handle)\n \t/* Carrier off reporting is important to ethtool even BEFORE open */\n \tnetif_carrier_off(netdev);\n \n-\tret = hns3_nic_alloc_vector_data(priv);\n+\tret = hns3_get_ring_config(priv);\n \tif (ret)\n \t\treturn ret;\n \n+\tret = hns3_nic_alloc_vector_data(priv);\n+\tif (ret)\n+\t\tgoto err_put_ring;\n+\n \thns3_restore_coal(priv);\n \n \tret = hns3_nic_init_vector_data(priv);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c9dd668914bb9813b83bc62c28ebfe53e205525"}
{"commit_hash": "1f60949297ceb92f8dbf0571f5f502988bbb0273", "short_hash": "1f60949297ce", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: add HNAE3_RESTORE_CLIENT interface in enet module", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 40, "deletions": 28, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change: 4 files, 12 hunks, 68 lines in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Enhancement for specific driver affecting reset behavior"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message explaining why, author + maintainer signoffs, no external testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org (davem)"}}, "score_justification": "Adds new HNAE3_RESTORE_CLIENT interface to properly restore vlan/mac tables during reset", "code_snippet": "@@ -124,6 +124,7 @@ enum hnae3_reset_notify_type {\n \tHNAE3_DOWN_CLIENT,\n \tHNAE3_INIT_CLIENT,\n \tHNAE3_UNINIT_CLIENT,\n+\tHNAE3_RESTORE_CLIENT,\n };\n \n enum hnae3_reset_type {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 10cc86533885..9dd8949381bc 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": ["SINGLE_COMPANY_REVIEW"], "link": "https://lore.kernel.org/linux-kernel/1f60949297ceb92f8dbf0571f5f502988bbb0273"}
{"commit_hash": "af013903c5c5dc4a251e0ac49eaab9411293f9f9", "short_hash": "af013903c5c5", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: do reinitialization while ETS configuration changed", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 22, "deletions": 15, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fix for ETS config affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, basic commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, external maintainer commit"}}, "score_justification": "Fixes incorrect receive queue behavior when ETS changes in hns3 driver", "code_snippet": "@@ -3728,7 +3728,6 @@ static int hns3_client_setup_tc(struct hnae3_handle *handle, u8 tc)\n {\n \tstruct hnae3_knic_private_info *kinfo = &handle->kinfo;\n \tstruct net_device *ndev = kinfo->netdev;\n-\tbool if_running;\n \tint ret;\n \n \tif (tc > HNAE3_MAX_TC)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af013903c5c5dc4a251e0ac49eaab9411293f9f9"}
{"commit_hash": "c3b9c50d1567aa12be4448fe85b09626eba2499c", "short_hash": "c3b9c50d1567", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: fix wrong combined count returned by ethtool -l", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 482d2e9c1cc7 (\"net: hns3: add support to query tqps number\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-hunk fix in networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic bug fix with regression tag"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author(Huawei) and committer(davem) differ"}}, "score_justification": "Logic bug fix for ethtool queue count reporting in hns3 driver", "code_snippet": "@@ -7510,18 +7510,17 @@ static u32 hclge_get_max_channels(struct hnae3_handle *handle)\n \tstruct hclge_vport *vport = hclge_get_vport(handle);\n \tstruct hclge_dev *hdev = vport->back;\n \n-\treturn min_t(u32, hdev->rss_size_max * kinfo->num_tc, hdev->num_tqps);\n+\treturn min_t(u32, hdev->rss_size_max,\n+\t\t     vport->alloc_tqps / kinfo->num_tc);\n }\n \n static void hclge_get_channels(struct hnae3_handle *handle,\n \t\t\t       struct ethtool_channels *ch)\n {\n-\tstruct hclge_vport *vport = hclge_get_vport(handle);\n-\n \tch->max_combined = hclge_get_max_channels(handle);\n \tch->other_count = 1;\n \tch->max_other = 1;\n-\tch->combined_count = vport->alloc_tqps;\n+\tch->combined_count = handle->kinfo.rss_size;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c3b9c50d1567aa12be4448fe85b09626eba2499c"}
{"commit_hash": "205a24ca2df10621a19081ad349920870759c0a6", "short_hash": "205a24ca2df1", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: adjust the use of alloc_tqps and num_tqps", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small logic fix in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Correctness fix for Hisilicon NIC driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation, multiple internal sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "Logic fix distinguishing alloc_tqps vs num_tqps in hns3 driver", "code_snippet": "@@ -5259,7 +5260,8 @@ static int hclge_set_loopback(struct hnae3_handle *handle,\n \t\tbreak;\n \t}\n \n-\tfor (i = 0; i < vport->alloc_tqps; i++) {\n+\tkinfo = &vport->nic.kinfo;\n+\tfor (i = 0; i < kinfo->num_tqps; i++) {\n \t\tret = hclge_tqp_enable(hdev, i, 0, en);\n \t\tif (ret)\n \t\t\treturn ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/205a24ca2df10621a19081ad349920870759c0a6"}
{"commit_hash": "af95882728e30969d3ef911a0814bcd9ca56ee37", "short_hash": "af95882728e3", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: remove redundant codes in hclge_knic_setup", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 17, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 8, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in single NIC driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup affecting hns3 driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple sign-offs, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer merge"}}, "score_justification": "Removes redundant TC info setup code already handled elsewhere", "code_snippet": "@@ -1096,7 +1096,7 @@ static int hclge_knic_setup(struct hclge_vport *vport,\n \tstruct hnae3_handle *nic = &vport->nic;\n \tstruct hnae3_knic_private_info *kinfo = &nic->kinfo;\n \tstruct hclge_dev *hdev = vport->back;\n-\tint i, ret;\n+\tint ret;\n \n \tkinfo->num_desc = num_desc;\n \tkinfo->rx_buf_len = hdev->rx_buf_len;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af95882728e30969d3ef911a0814bcd9ca56ee37"}
{"commit_hash": "672ad0ede179b129ad1c9dbc080a8b808cce510c", "short_hash": "672ad0ede179", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T16:13:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-18T15:10:22-08:00", "subject": "net: hns3: fix user configuration loss for ethtool -L", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 09f2af6405b8 (\"net: hns3: add support to modify tqps number\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 47, "deletions": 49, "hunks": 18, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 4 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for ethtool configuration loss"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with Fixes tag, internal review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer"}}, "score_justification": "Fixes regression where ethtool -L configuration was lost on reset/TC change", "code_snippet": "@@ -1068,14 +1068,14 @@ static int hclge_map_tqps_to_func(struct hclge_dev *hdev, u16 func_id,\n \treturn ret;\n }\n \n-static int  hclge_assign_tqp(struct hclge_vport *vport)\n+static int  hclge_assign_tqp(struct hclge_vport *vport, u16 num_tqps)\n {\n \tstruct hnae3_knic_private_info *kinfo = &vport->nic.kinfo;\n \tstruct hclge_dev *hdev = vport->back;\n \tint i, alloced;\n \n \tfor (i = 0, alloced = 0; i < hdev->num_tqps &&\n-\t     alloced < kinfo->num_tqps; i++) {\n+\t     alloced < num_tqps; i++) {\n \t\tif (!hdev->htqp[i].alloced) {\n \t\t\thdev->htqp[i].q.handle = &vport->nic;\n \t\t\thdev->htqp[i].q.tqp_index = alloced;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/672ad0ede179b129ad1c9dbc080a8b808cce510c"}
{"commit_hash": "bffcd1129e86cca294a8ffe851f5b290e3f1feb3", "short_hash": "bffcd1129e86", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-01T18:12:47+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-18T16:34:06+01:00", "subject": "misc/sgi-gru/grufault: fix a style error", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc", "subsystems_touched": ["drivers/misc/sgi-gru"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal whitespace-only change in driver subsystem"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, pure whitespace fix"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic Signed-off-by chain, minimal message"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "ZTE author, Linux Foundation maintainer"}}, "score_justification": "Whitespace-only fix removing redundant spaces in niche driver", "code_snippet": "@@ -616,8 +616,8 @@ irqreturn_t gru_intr_mblade(int irq, void *dev_id)\n \tfor_each_possible_blade(blade) {\n \t\tif (uv_blade_nr_possible_cpus(blade))\n \t\t\tcontinue;\n-\t\t gru_intr(0, blade);\n-\t\t gru_intr(1, blade);\n+\t\tgru_intr(0, blade);\n+\t\tgru_intr(1, blade);\n \t}\n \treturn IRQ_HANDLED;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bffcd1129e86cca294a8ffe851f5b290e3f1feb3"}
{"commit_hash": "080038cc4575cc0a2e6231f81e12b33da781e14c", "short_hash": "080038cc4575", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-01T18:02:24+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-18T16:34:06+01:00", "subject": "misc/mic/vop/vop_main : remove unneeded semicolon", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -226,7 +226,7 @@ static void vop_reset_inform_host(struct virtio_device *dev)\n \t\tif (ioread8(&dc->host_ack))\n \t\t\tbreak;\n \t\tmsleep(100);\n-\t};\n+\t}\n \n \tdev_dbg(_vop_dev(vdev), \"%s: retry: %d\\n\", __func__, retry);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/080038cc4575cc0a2e6231f81e12b33da781e14c"}
{"commit_hash": "707d0cf8f7cff6dfee9197002859912310532c4f", "short_hash": "707d0cf8f7cf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T06:11:18Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-01-18T18:43:42+08:00", "subject": "crypto: brcm - Fix some set-but-not-used warning", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9d12ba86f818 (\"crypto: brcm - Add Broadcom SPU driver\")", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/bcm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Raveendra Padasalagi <raveendra.padasalagi@broadcom.com> (Broadcom)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in crypto driver with 6 hunks"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-company review, detailed commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom reviewer, maintainer commit"}}, "score_justification": "Compiler warning fix in Broadcom crypto driver with cross-org review", "code_snippet": "@@ -717,7 +717,7 @@ static int handle_ahash_req(struct iproc_reqctx_s *rctx)\n \t */\n \tunsigned int new_data_len;\n \n-\tunsigned int chunk_start = 0;\n+\tunsigned int __maybe_unused chunk_start = 0;\n \tu32 db_size;\t /* Length of data field, incl gcm and hash padding */\n \tint pad_len = 0; /* total pad len, including gcm, hash, stat padding */\n \tu32 data_pad_len = 0;\t/* length of GCM/CCM padding */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/707d0cf8f7cff6dfee9197002859912310532c4f"}
{"commit_hash": "0c4335de196c23a28d9de8f5eb8b973673051ad9", "short_hash": "0c4335de196c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T03:13:12Z", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-01-19T09:57:19+01:00", "subject": "virt_wifi: remove duplicated include from virt_wifi.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 6, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup in wireless driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit from Huawei to Intel maintainer"}}, "score_justification": "Removes duplicate #include statements in virt_wifi driver - straightforward cleanup", "code_snippet": "@@ -14,11 +14,6 @@\n #include <linux/etherdevice.h>\n #include <linux/module.h>\n \n-#include <net/cfg80211.h>\n-#include <net/rtnetlink.h>\n-#include <linux/etherdevice.h>\n-#include <linux/module.h>\n-\n static struct wiphy *common_wiphy;\n \n struct virt_wifi_wiphy_priv {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c4335de196c23a28d9de8f5eb8b973673051ad9"}
{"commit_hash": "e073f7caa26cc7f5423779b1a47f1689dd20bf17", "short_hash": "e073f7caa26c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T03:17:03Z", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-01-19T09:57:42+01:00", "subject": "virt_wifi: remove set but not used variable 'w_priv'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line deletion in wireless driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single author, good message with warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer commit"}}, "score_justification": "GCC unused variable warning fix in virt_wifi driver, cross-org commit", "code_snippet": "@@ -424,13 +424,11 @@ static int virt_wifi_net_device_open(struct net_device *dev)\n static int virt_wifi_net_device_stop(struct net_device *dev)\n {\n \tstruct virt_wifi_netdev_priv *n_priv = netdev_priv(dev);\n-\tstruct virt_wifi_wiphy_priv *w_priv;\n \n \tn_priv->is_up = false;\n \n \tif (!dev->ieee80211_ptr)\n \t\treturn 0;\n-\tw_priv = wiphy_priv(dev->ieee80211_ptr->wiphy);\n \n \tvirt_wifi_cancel_scan(dev->ieee80211_ptr->wiphy);\n \tvirt_wifi_cancel_connect(dev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e073f7caa26cc7f5423779b1a47f1689dd20bf17"}
{"commit_hash": "fa1115c6a249cd3fac5b00aba1be38533e501005", "short_hash": "fa1115c6a249", "author_name": "Yue Haibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T02:06:49Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-19T10:29:56-08:00", "subject": "net: usb: rtl8150: remove set but not used variable 'rx_stat'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -388,7 +388,6 @@ static void read_bulk_callback(struct urb *urb)\n \tunsigned pkt_len, res;\n \tstruct sk_buff *skb;\n \tstruct net_device *netdev;\n-\tu16 rx_stat;\n \tint status = urb->status;\n \tint result;\n \tunsigned long flags;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/fa1115c6a249cd3fac5b00aba1be38533e501005"}
{"commit_hash": "65ea97d1760152e344e3e442fddcff822e3c750b", "short_hash": "65ea97d17601", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T11:05:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-19T10:30:18-08:00", "subject": "isdn: remove unneeded semicolon", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/isdn", "subsystems_touched": ["drivers/isdn/hisax", "drivers/isdn/isdnloop"], "subsystem_tier": 4, "files_changed": 4, "insertions": 6, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "4 files, 12 hunks, 6 insertions, 6 deletions - trivial whitespace fix"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, only cosmetic change"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic S-o-b tags only, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Trivial whitespace fix removing unnecessary semicolons after braces", "code_snippet": "@@ -623,7 +623,7 @@ void netjet_fill_dma(struct BCState *bcs)\n \telse { // it's 56k\n \t\tif (make_raw_data_56k(bcs))\n \t\t\treturn;\n-\t};\n+\t}\n \tif (bcs->cs->debug & L1_DEB_HSCX)\n \t\tdebugl1(bcs->cs, \"tiger fill_dma2: c%d %4lx\", bcs->channel,\n \t\t\tbcs->Flag);\ndiff --git a/drivers/isdn/hisax/q931.c b/drivers/isdn/hisax/q931.c\nindex 298c8dba0321..6b8c3fbe3965 100644\n--- a/drivers/isdn/hisax/q931.c\n+++ b/drivers/isdn/hisax/q931.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/65ea97d1760152e344e3e442fddcff822e3c750b"}
{"commit_hash": "c2be36ac2141b97f9a35ab560381317566bee357", "short_hash": "c2be36ac2141", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T12:10:37Z", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-20T10:53:29+05:30", "subject": "dmaengine: xilinx_dma: remove set but not used variable 'tail_segment'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": ["Radhey Shyam Pandey <radhey.shyam.pandey@xilinx.com> (Xilinx)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1101,7 +1101,6 @@ static void xilinx_vdma_start_transfer(struct xilinx_dma_chan *chan)\n \tstruct xilinx_vdma_config *config = &chan->config;\n \tstruct xilinx_dma_tx_descriptor *desc, *tail_desc;\n \tu32 reg, j;\n-\tstruct xilinx_vdma_tx_segment *tail_segment;\n \tstruct xilinx_vdma_tx_segment *segment, *last = NULL;\n \tint i = 0;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/c2be36ac2141b97f9a35ab560381317566bee357"}
{"commit_hash": "a236a6698c4c080873ea368839e7735efa4c0fa7", "short_hash": "a236a6698c4c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-09-28T10:39:40Z", "committer_name": "Benjamin Gaignard", "committer_email": "benjamin.gaignard@linaro.org", "committer_company": "Linaro", "commit_date": "2019-01-21T10:01:07+01:00", "subject": "drm/stm: ltdc: remove set but not used variable 'src_h'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Benjamin Gaignard <benjamin.gaignard@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -691,7 +691,7 @@ static int ltdc_plane_atomic_check(struct drm_plane *plane,\n \t\t\t\t   struct drm_plane_state *state)\n {\n \tstruct drm_framebuffer *fb = state->fb;\n-\tu32 src_x, src_y, src_w, src_h;\n+\tu32 src_w, src_h;\n \n \tDRM_DEBUG_DRIVER(\"\\n\");\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a236a6698c4c080873ea368839e7735efa4c0fa7"}
{"commit_hash": "43d78e726a2b5fef0c0e0f07e2bed0faa4918d1b", "short_hash": "43d78e726a2b", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-01-17T17:32:42+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-01-21T12:36:55+11:00", "subject": "ARM: dts: aspeed: Add Inspur on5263m5 BMC", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ARM", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 3, "files_changed": 1, "insertions": 145, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small new device tree file for ARM BMC"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New BMC hardware support for specific server"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by present, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit between Inspur and independent maintainer"}}, "score_justification": "New device tree file adding Inspur server BMC support", "code_snippet": "@@ -0,0 +1,145 @@\n+// SPDX-License-Identifier: GPL-2.0\n+// Copyright (c) 2018 Inspur Corporation\n+/dts-v1/;\n+\n+#include \"aspeed-g5.dtsi\"\n+#include <dt-bindings/gpio/aspeed-gpio.h>\n+\n+/ {\n+\tmodel = \"ON5263M5 BMC\";\n+\tcompatible = \"inspur,on5263m5-bmc\", \"aspeed,ast2500\";\n+\n+\tchosen {\n+\t\tstdout-path = &uart5;\n+\t\tbootargs = \"earlyprintk\";\n+\t};\n+\n+\tmemory {\n+\t\treg = <0x80000000 0x20000000>;\n+\t};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/43d78e726a2b5fef0c0e0f07e2bed0faa4918d1b"}
{"commit_hash": "cf5c6c211b7e9eb4f4219f83671432c9ef257187", "short_hash": "cf5c6c211b7e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T15:25:04+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-01-21T15:15:57-03:00", "subject": "perf: Remove duplicated workqueue.h include from perf_event.h", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "perf", "subsystems_touched": ["include/linux"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single line deletion in header file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, include cleanup"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic commit with minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author @huawei, committer @redhat"}}, "score_justification": "Trivial include cleanup removing duplicate workqueue.h", "code_snippet": "@@ -53,7 +53,6 @@ struct perf_guest_info_callbacks {\n #include <linux/atomic.h>\n #include <linux/sysfs.h>\n #include <linux/perf_regs.h>\n-#include <linux/workqueue.h>\n #include <linux/cgroup.h>\n #include <asm/local.h>\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf5c6c211b7e9eb4f4219f83671432c9ef257187"}
{"commit_hash": "2b9acb9a97fe9b4101ca020643760c4a090b4cb4", "short_hash": "2b9acb9a97fe", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-01-19T14:23:29+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-21T16:47:54-07:00", "subject": "RDMA/hns: Add the process of AEQ overflow for hip08", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "Yixian Liu <liuyixian@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important RDMA driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Bug handling enhancement for HNS RoCE driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Co-developed by 2 authors from same company, merged by maintainer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer, cross-org merge"}}, "score_justification": "Adds AEQ overflow recovery handling to HNS RoCE driver, requiring PF reset via hardware operations", "code_snippet": "@@ -4702,11 +4702,22 @@ static irqreturn_t hns_roce_v2_msix_interrupt_abn(int irq, void *dev_id)\n \tint_en = roce_read(hr_dev, ROCEE_VF_ABN_INT_EN_REG);\n \n \tif (roce_get_bit(int_st, HNS_ROCE_V2_VF_INT_ST_AEQ_OVERFLOW_S)) {\n+\t\tstruct pci_dev *pdev = hr_dev->pci_dev;\n+\t\tstruct hnae3_ae_dev *ae_dev = pci_get_drvdata(pdev);\n+\t\tconst struct hnae3_ae_ops *ops = ae_dev->ops;\n+\n \t\tdev_err(dev, \"AEQ overflow!\\n\");\n \n \t\troce_set_bit(int_st, HNS_ROCE_V2_VF_INT_ST_AEQ_OVERFLOW_S, 1);\n \t\troce_write(hr_dev, ROCEE_VF_ABN_INT_ST_REG, int_st);\n \n+\t\t/* Set reset level for reset_event() */\n+\t\tif (ops->set_default_reset_request)\n+\t\t\tops->set_default_reset_request(ae_dev,\n+\t\t\t\t\t\t       HNAE3_FUNC_RESET);\n+\t\tif (ops->reset_event)\n+\t\t\tops->reset_event(pdev, NULL);\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b9acb9a97fe9b4101ca020643760c4a090b4cb4"}
{"commit_hash": "5e053534be14cc71674dd9d3615de40e82d3f116", "short_hash": "5e053534be14", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-20T02:53:53Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-01-22T09:51:19+01:00", "subject": "6lowpan: fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/6lowpan", "subsystems_touched": ["net/6lowpan"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 21, "hunks": 14, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "14 hunks with 42 lines changed in networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration with debugfs overhead reduction for 6lowpan users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Mechanical cocci change with proper attribution"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Holtmann) from different orgs"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -41,9 +41,9 @@ static int lowpan_ctx_flag_active_get(void *data, u64 *val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(lowpan_ctx_flag_active_fops,\n-\t\t\tlowpan_ctx_flag_active_get,\n-\t\t\tlowpan_ctx_flag_active_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(lowpan_ctx_flag_active_fops,\n+\t\t\t lowpan_ctx_flag_active_get,\n+\t\t\t lowpan_ctx_flag_active_set, \"%llu\\n\");\n \n static int lowpan_ctx_flag_c_set(void *data, u64 val)\n {", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/5e053534be14cc71674dd9d3615de40e82d3f116"}
{"commit_hash": "e250fab655182f9e8ce5660d81f974939cf83cfc", "short_hash": "e250fab65518", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T01:54:06Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-01-22T09:51:19+01:00", "subject": "Bluetooth: 6lowpan: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["net/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in Bluetooth subsystem using coccinelle"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Coccinelle-generated with Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Holtmann (different org) committed"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -1108,8 +1108,8 @@ static int lowpan_enable_get(void *data, u64 *val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(lowpan_enable_fops, lowpan_enable_get,\n-\t\t\tlowpan_enable_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(lowpan_enable_fops, lowpan_enable_get,\n+\t\t\t lowpan_enable_set, \"%llu\\n\");\n \n static ssize_t lowpan_control_write(struct file *fp,\n \t\t\t\t    const char __user *user_buffer,", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/e250fab655182f9e8ce5660d81f974939cf83cfc"}
{"commit_hash": "da217871edb2d31c602c6b69cc6ce15a74debce7", "short_hash": "da217871edb2", "author_name": "Yue Haibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-21T08:26:37Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-22T11:32:36+01:00", "subject": "staging: gasket: interrupt: remove unused including <linux/version.h>", "primary_category": "TRIV-INCLUDE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/gasket", "subsystems_touched": ["drivers/staging/gasket"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single line removal in staging driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Unused include removal has no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic cleanup with minimal explanation"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-committed trivial change"}}, "score_justification": "Removal of unused include in staging driver", "code_snippet": "@@ -9,7 +9,6 @@\n #include <linux/device.h>\n #include <linux/interrupt.h>\n #include <linux/printk.h>\n-#include <linux/version.h>\n #ifdef GASKET_KERNEL_TRACE_SUPPORT\n #define CREATE_TRACE_POINTS\n #include <trace/events/gasket_interrupt.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da217871edb2d31c602c6b69cc6ce15a74debce7"}
{"commit_hash": "585f22691dcda2a0ab197072f3a14f0b5684adfc", "short_hash": "585f22691dcd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-21T07:53:13Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-22T11:32:36+01:00", "subject": "staging: rtl8712: drop pointless static qualifier in r8712_efuse_pg_packet_write()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Larry Finger <Larry.Finger@lwfinger.net> (Lwfinger)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -358,7 +358,7 @@ u8 r8712_efuse_pg_packet_write(struct _adapter *padapter, const u8 offset,\n \tu8 pg_header = 0;\n \tu16 efuse_addr = 0, curr_size = 0;\n \tu8 efuse_data, target_word_cnts = 0;\n-\tstatic int repeat_times;\n+\tint repeat_times;\n \tint sub_repeat;\n \tu8 bResult = true;\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/585f22691dcda2a0ab197072f3a14f0b5684adfc"}
{"commit_hash": "f6f5014a1d2c236231358b387d371faddd2ba13c", "short_hash": "f6f5014a1d2c", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-15T22:10:43+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-01-22T11:38:20+01:00", "subject": "ext2: Remove redundant check on s_inode_size", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ext2", "subsystems_touched": ["fs/ext2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 2-line deletion in critical filesystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification affecting ext2 filesystem users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with clear explanation, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from SUSE (different orgs)"}}, "score_justification": "", "code_snippet": "@@ -1024,8 +1024,6 @@ static int ext2_fill_super(struct super_block *sb, void *data, int silent)\n \tsbi->s_frags_per_group = le32_to_cpu(es->s_frags_per_group);\n \tsbi->s_inodes_per_group = le32_to_cpu(es->s_inodes_per_group);\n \n-\tif (EXT2_INODE_SIZE(sb) == 0)\n-\t\tgoto cantfind_ext2;\n \tsbi->s_inodes_per_block = sb->s_blocksize / EXT2_INODE_SIZE(sb);\n \tif (sbi->s_inodes_per_block == 0 || sbi->s_inodes_per_group == 0)\n \t\tgoto cantfind_ext2;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f6f5014a1d2c236231358b387d371faddd2ba13c"}
{"commit_hash": "0fe6f7874d467456da6f6a221dd92499a3ab1780", "short_hash": "0fe6f7874d46", "author_name": "Yong Wu", "author_email": "yong.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-01T12:51:05+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-22T14:25:26+01:00", "subject": "driver core: Remove the link if there is no driver with AUTO flag", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "driver-core", "subsystems_touched": ["drivers/base"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yong Wu <yong.wu@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line change in critical driver core"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting device link management"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with explanation, basic review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Different orgs, kernel maintainer commit"}}, "score_justification": "Fixes improper refcount handling in driver core device links with AUTOREMOVE flag", "code_snippet": "@@ -512,7 +512,7 @@ static void __device_links_no_driver(struct device *dev)\n \t\t\tcontinue;\n \n \t\tif (link->flags & DL_FLAG_AUTOREMOVE_CONSUMER)\n-\t\t\tkref_put(&link->kref, __device_link_del);\n+\t\t\t__device_link_del(&link->kref);\n \t\telse if (link->status != DL_STATE_SUPPLIER_UNBIND)\n \t\t\tWRITE_ONCE(link->status, DL_STATE_AVAILABLE);\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0fe6f7874d467456da6f6a221dd92499a3ab1780"}
{"commit_hash": "6679cf099b81994884246612538bd4c7fb935b30", "short_hash": "6679cf099b81", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-20T22:15:46Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-22T14:54:08-08:00", "subject": "hinic: Add pci device ids", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important network driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "New hardware ID support for specific NIC cards"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message explaining device ID changes, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net maintainer Davem committed"}}, "score_justification": "Adds PCI device IDs for new Huawei NIC card variants, removes conflicting ID", "code_snippet": "@@ -51,9 +51,10 @@ static unsigned int rx_weight = 64;\n module_param(rx_weight, uint, 0644);\n MODULE_PARM_DESC(rx_weight, \"Number Rx packets for NAPI budget (default=64)\");\n \n-#define HINIC_DEV_ID_QUAD_PORT_25GE     0x1822\n-#define HINIC_DEV_ID_DUAL_PORT_25GE     0x0200\n-#define HINIC_DEV_ID_DUAL_PORT_100GE    0x0201\n+#define HINIC_DEV_ID_QUAD_PORT_25GE         0x1822\n+#define HINIC_DEV_ID_DUAL_PORT_100GE        0x0200\n+#define HINIC_DEV_ID_DUAL_PORT_100GE_MEZZ   0x0205\n+#define HINIC_DEV_ID_QUAD_PORT_25GE_MEZZ    0x0210\n \n #define HINIC_WQ_NAME                   \"hinic_dev\"\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6679cf099b81994884246612538bd4c7fb935b30"}
{"commit_hash": "ac92985864e187a1735502f6a02f54eaa655b2aa", "short_hash": "ac92985864e1", "author_name": "Sheng Yong", "author_email": "shengyong1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-15T20:02:15Z", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-22T15:31:26-08:00", "subject": "f2fs: UBSAN: set boolean value iostat_enable correctly", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Sheng Yong <shengyong1@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 14, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important filesystem subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "UBSAN warning fix affects f2fs users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with stack trace, cross-org review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "UBSAN boolean fix in f2fs sysfs with proper type casting", "code_snippet": "@@ -280,10 +280,16 @@ static ssize_t __sbi_store(struct f2fs_attr *a,\n \t\treturn count;\n \t}\n \n-\t*ui = t;\n \n-\tif (!strcmp(a->attr.name, \"iostat_enable\") && *ui == 0)\n-\t\tf2fs_reset_iostat(sbi);\n+\tif (!strcmp(a->attr.name, \"iostat_enable\")) {\n+\t\tsbi->iostat_enable = !!t;\n+\t\tif (!sbi->iostat_enable)\n+\t\t\tf2fs_reset_iostat(sbi);\n+\t\treturn count;\n+\t}\n+\n+\t*ui = (unsigned int)t;\n+\n \treturn count;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac92985864e187a1735502f6a02f54eaa655b2aa"}
{"commit_hash": "2f84babfe5eb270e13d54afebc26b6d19f49cba2", "short_hash": "2f84babfe5eb", "author_name": "Sheng Yong", "author_email": "shengyong1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-14T22:05:14+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-22T15:31:26-08:00", "subject": "f2fs: add brackets for macros", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Sheng Yong <shengyong1@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -2763,9 +2763,9 @@ static inline int get_inline_xattr_addrs(struct inode *inode)\n \n #define F2FS_OLD_ATTRIBUTE_SIZE\t(offsetof(struct f2fs_inode, i_addr))\n #define F2FS_FITS_IN_INODE(f2fs_inode, extra_isize, field)\t\t\\\n-\t\t((offsetof(typeof(*f2fs_inode), field) +\t\\\n+\t\t((offsetof(typeof(*(f2fs_inode)), field) +\t\\\n \t\tsizeof((f2fs_inode)->field))\t\t\t\\\n-\t\t<= (F2FS_OLD_ATTRIBUTE_SIZE + extra_isize))\t\\\n+\t\t<= (F2FS_OLD_ATTRIBUTE_SIZE + (extra_isize)))\t\\\n \n static inline void f2fs_reset_iostat(struct f2fs_sb_info *sbi)\n {", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/2f84babfe5eb270e13d54afebc26b6d19f49cba2"}
{"commit_hash": "720db068634c91553a8e1d9a0fcd8c7050e06d2b", "short_hash": "720db068634c", "author_name": "Sheng Yong", "author_email": "shengyong1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-07T15:02:34+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-22T15:31:26-08:00", "subject": "f2fs: check if file namelen exceeds max value", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Gong Chen <gongchen4@huawei.com> (Huawei)", "Sheng Yong <shengyong1@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 3-line change in critical filesystem layer"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Data corruption fix for F2FS filesystem users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple reviewers from same org, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "Adds namelen bounds check to detect corrupted F2FS dentries", "code_snippet": "@@ -814,7 +814,8 @@ int f2fs_fill_dentries(struct dir_context *ctx, struct f2fs_dentry_ptr *d,\n \n \t\t/* check memory boundary before moving forward */\n \t\tbit_pos += GET_DENTRY_SLOTS(le16_to_cpu(de->name_len));\n-\t\tif (unlikely(bit_pos > d->max)) {\n+\t\tif (unlikely(bit_pos > d->max ||\n+\t\t\t\tle16_to_cpu(de->name_len) > F2FS_NAME_LEN)) {\n \t\t\tf2fs_msg(sbi->sb, KERN_WARNING,\n \t\t\t\t\"%s: corrupted namelen=%d, run fsck to fix.\",\n \t\t\t\t__func__, le16_to_cpu(de->name_len));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/720db068634c91553a8e1d9a0fcd8c7050e06d2b"}
{"commit_hash": "f724c6bee162be3a9cd3b9168414ca106e0cdfe2", "short_hash": "f724c6bee162", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T03:01:21Z", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-01-22T17:53:19+01:00", "subject": "rtc: sd3078: make symbol 'sd3078_driver' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1d67a232105b (\"rtc: sd3078: new driver.\")", "cc_stable": false, "subsystem_prefix": "rtc", "subsystems_touched": ["drivers/rtc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in RTC driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message quality with maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company contribution with maintainer signoff"}}, "score_justification": "Sparse warning fix adding static to driver structure, cross-org review", "code_snippet": "@@ -215,7 +215,7 @@ static const struct of_device_id rtc_dt_match[] = {\n };\n MODULE_DEVICE_TABLE(of, rtc_dt_match);\n \n-struct i2c_driver sd3078_driver = {\n+static struct i2c_driver sd3078_driver = {\n \t.driver     = {\n \t\t.name   = \"sd3078\",\n \t\t.owner  = THIS_MODULE,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f724c6bee162be3a9cd3b9168414ca106e0cdfe2"}
{"commit_hash": "ed175d9c6f0d4df0f83f22ff4c887c21b7d021cd", "short_hash": "ed175d9c6f0d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-21T09:34:53Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-22T20:08:23-08:00", "subject": "devlink: Add missing check of nlmsg_put", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 20, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 3-line fix in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Potential NULL pointer dereference fix affecting networking users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message, author+committer sign-offs only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, David S. Miller maintainer commit"}}, "score_justification": "NULL pointer check fix for nlmsg_put in netlink code", "code_snippet": "@@ -4086,6 +4086,9 @@ devlink_health_buffer_snd(struct genl_info *info,\n \t\treturn -ENOMEM;\n \tnlh = nlmsg_put(skb, info->snd_portid, info->snd_seq,\n \t\t\tNLMSG_DONE, 0, flags | NLM_F_MULTI);\n+\tif (!nlh)\n+\t\tgoto nla_put_failure;\n+\n \terr = genlmsg_reply(skb, info);\n \tif (err)\n \t\treturn err;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ed175d9c6f0d4df0f83f22ff4c887c21b7d021cd"}
{"commit_hash": "3d5b38684951564d07e3f4bb482ef9491f49ced1", "short_hash": "3d5b38684951", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-17T03:14:54Z", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-01-22T23:53:03+01:00", "subject": "i2c: imx: Fix inconsistent IS_ERR and PTR_ERR in i2c_imx_dma_request()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5b3a23a3cc94 (\"i2c: imx: notify about real errors on dma i2c_imx_dma_request\")", "cc_stable": false, "subsystem_prefix": "i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Oleksij Rempel <o.rempel@pengutronix.de> (Pengutronix)", "Uwe Kleine-Knig <u.kleine-koenig@pengutronix.de> (Pengutronix)"], "tested_by": [], "acked_by": ["Esben Haabendal <esben@haabendal.dk> (Haabendal)"], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 15, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in I2C driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Copy-paste error fix with explicit Fixes tag"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "3 reviewers across 2 orgs, good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Pengutronix) from different orgs"}}, "score_justification": "Copy-paste error using wrong variable in error path, well-reviewed fix", "code_snippet": "@@ -287,7 +287,7 @@ static int i2c_imx_dma_request(struct imx_i2c_struct *i2c_imx,\n \n \tdma->chan_tx = dma_request_chan(dev, \"tx\");\n \tif (IS_ERR(dma->chan_tx)) {\n-\t\tret = PTR_ERR(dma->chan_rx);\n+\t\tret = PTR_ERR(dma->chan_tx);\n \t\tif (ret != -ENODEV && ret != -EPROBE_DEFER)\n \t\t\tdev_err(dev, \"can't request DMA tx channel (%d)\\n\", ret);\n \t\tgoto fail_al;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d5b38684951564d07e3f4bb482ef9491f49ced1"}
{"commit_hash": "bfc7af6d6df8d75b9c693b8eb98c21aa75c1e377", "short_hash": "bfc7af6d6df8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T15:05:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-23T10:31:21Z", "subject": "spi: bcm2835aux: remove unneeded NULL check of devm_clk_get", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in peripheral driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Static checker fix affecting driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Author + maintainer, good message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Static checker warning fix removing redundant NULL check in SPI driver", "code_snippet": "@@ -456,7 +456,7 @@ static int bcm2835aux_spi_probe(struct platform_device *pdev)\n \t}\n \n \tbs->clk = devm_clk_get(&pdev->dev, NULL);\n-\tif ((!bs->clk) || (IS_ERR(bs->clk))) {\n+\tif (IS_ERR(bs->clk)) {\n \t\terr = PTR_ERR(bs->clk);\n \t\tdev_err(&pdev->dev, \"could not get clk: %d\\n\", err);\n \t\tgoto out_master_put;\n", "flags": ["STATIC_CHECKER_FIX"], "link": "https://lore.kernel.org/linux-kernel/bfc7af6d6df8d75b9c693b8eb98c21aa75c1e377"}
{"commit_hash": "4a402f47cfce904051cd8b31bef4fe2910d9dce9", "short_hash": "4a402f47cfce", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: Change fw error code NOT_EXEC to NOT_SUPPORTED", "primary_category": "MAINT-NAMING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (4 lines) in single network driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Low-impact naming change for specific driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, clear message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Enum constant renaming in Hisilicon network driver for clarity", "code_snippet": "@@ -259,6 +259,8 @@ int hclge_cmd_send(struct hclge_hw *hw, struct hclge_desc *desc, int num)\n \n \t\t\tif (desc_ret == HCLGE_CMD_EXEC_SUCCESS)\n \t\t\t\tretval = 0;\n+\t\t\telse if (desc_ret == HCLGE_CMD_NOT_SUPPORTED)\n+\t\t\t\tretval = -EOPNOTSUPP;\n \t\t\telse\n \t\t\t\tretval = -EIO;\n \t\t\thw->cmq.last_status = desc_ret;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\nindex f23042b24c09..9f07279513b7 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_cmd.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a402f47cfce904051cd8b31bef4fe2910d9dce9"}
{"commit_hash": "8be7362186bd5ccb5f6f72be49751ad2778e2636", "short_hash": "8be7362186bd", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: fix bug of ethtool_ops.get_channels for VF", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 849e46077689 (\"net: hns3: add ethtool_ops.get_channels support for VF\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in network driver for Hisilicon hardware"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix with Fixes tag, affects VF ethtool operations"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with Fixes tag, 2 reviewers from same org"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer (David S. Miller) committed"}}, "score_justification": "Logic bug fix in Hisilicon VF driver for incorrect ethtool channel reporting, with proper Fixes tag and good explanation.", "code_snippet": "@@ -2466,7 +2466,8 @@ static u32 hclgevf_get_max_channels(struct hclgevf_dev *hdev)\n \tstruct hnae3_handle *nic = &hdev->nic;\n \tstruct hnae3_knic_private_info *kinfo = &nic->kinfo;\n \n-\treturn min_t(u32, hdev->rss_size_max * kinfo->num_tc, hdev->num_tqps);\n+\treturn min_t(u32, hdev->rss_size_max,\n+\t\t     hdev->num_tqps / kinfo->num_tc);\n }\n \n /**", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8be7362186bd5ccb5f6f72be49751ad2778e2636"}
{"commit_hash": "ac574b80a1ba834be01932d8cd4976acda775a36", "short_hash": "ac574b80a1ba", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:33+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: clear param in ring when free ring", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver with skb cleanup"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting specific NIC users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs but minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committed"}}, "score_justification": "Resource leak fix in NIC driver cleanup path with proper skb freeing", "code_snippet": "@@ -3397,6 +3397,11 @@ static void hns3_fini_ring(struct hns3_enet_ring *ring)\n \tring->desc_cb = NULL;\n \tring->next_to_clean = 0;\n \tring->next_to_use = 0;\n+\tring->pending_buf = 0;\n+\tif (ring->skb) {\n+\t\tdev_kfree_skb_any(ring->skb);\n+\t\tring->skb = NULL;\n+\t}\n }\n \n static int hns3_buf_size2type(u32 buf_size)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac574b80a1ba834be01932d8cd4976acda775a36"}
{"commit_hash": "90c68a41db7d02ac031e612c0c97147a58e20515", "short_hash": "90c68a41db7d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: fix rss configuration lost problem when setting channel", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 09f2af6405b8 (\"net: hns3: add support to modify tqps number\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 3, "insertions": 13, "deletions": 4, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4190,9 +4191,10 @@ int hns3_set_channels(struct net_device *netdev,\n \t\treturn ret;\n \n \torg_tqp_num = h->kinfo.num_tqps;\n-\tret = h->ae_algo->ops->set_channels(h, new_tqp_num);\n+\tret = h->ae_algo->ops->set_channels(h, new_tqp_num, rxfh_configured);\n \tif (ret) {\n-\t\tret = h->ae_algo->ops->set_channels(h, org_tqp_num);\n+\t\tret = h->ae_algo->ops->set_channels(h, org_tqp_num,\n+\t\t\t\t\t\t    rxfh_configured);\n \t\tif (ret) {\n \t\t\t/* If revert to old tqp failed, fatal error occurred */\n \t\t\tdev_err(&netdev->dev,\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex bf0931c6764f..3ba8de93bc3d 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/90c68a41db7d02ac031e612c0c97147a58e20515"}
{"commit_hash": "9e5157ba440f2bf87071c017545d6c4ba627e501", "short_hash": "9e5157ba440f", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: fix for shaper not setting when TC num changes", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "Fixes: cacde272dd00 (\"net: hns3: Add hclge_dcb module for the support of DCB feature\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 5, "deletions": 10, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in network driver with 3 files, 10 hunks"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for shaper parameter setting affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Fixes tag present, good explanation, internal Huawei review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer from different org"}}, "score_justification": "Driver-specific regression fix for DCB shaper parameter configuration with proper Fixes tag", "code_snippet": "@@ -162,11 +162,7 @@ static int hclge_map_update(struct hnae3_handle *h)\n \tstruct hclge_dev *hdev = vport->back;\n \tint ret;\n \n-\tret = hclge_tm_map_cfg(hdev);\n-\tif (ret)\n-\t\treturn ret;\n-\n-\tret = hclge_tm_schd_mode_hw(hdev);\n+\tret = hclge_tm_schd_setup_hw(hdev);\n \tif (ret)\n \t\treturn ret;\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\nindex fb8596a3e5e4..d057c9f03175 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e5157ba440f2bf87071c017545d6c4ba627e501"}
{"commit_hash": "d3ec4ef669379bf69891415b4f1397a26a81932c", "short_hash": "d3ec4ef66937", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: refactor the statistics updating for netdev", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 20, "deletions": 32, "hunks": 16, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 12, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor across 2 files, 16 hunks in NIC driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Refactor improving statistics accuracy for hns3 users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Internal review, adequate message, single logical change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Statistics refactoring to fix incorrect VF packet counting in hns3 driver", "code_snippet": "@@ -1399,7 +1399,12 @@ static void hns3_nic_get_stats64(struct net_device *netdev,\n \tint queue_num = priv->ae_handle->kinfo.num_tqps;\n \tstruct hnae3_handle *handle = priv->ae_handle;\n \tstruct hns3_enet_ring *ring;\n+\tu64 rx_length_errors = 0;\n+\tu64 rx_crc_errors = 0;\n+\tu64 rx_multicast = 0;\n \tunsigned int start;\n+\tu64 tx_errors = 0;\n+\tu64 rx_errors = 0;\n \tunsigned int idx;\n \tu64 tx_bytes = 0;\n \tu64 rx_bytes = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3ec4ef669379bf69891415b4f1397a26a81932c"}
{"commit_hash": "c376fa1aae6328beb5551e92fa84f4441fdde399", "short_hash": "c376fa1aae63", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: add rx multicast packets statistic", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 15, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change adding 15 lines across 3 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for network statistics, affects driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple sign-offs, basic message, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Adds rx multicast packet statistic to hns3 driver, small enhancement with proper review chain", "code_snippet": "@@ -2680,7 +2681,12 @@ static int hns3_handle_rx_bd(struct hns3_enet_ring *ring,\n \t\treturn -EFAULT;\n \t}\n \n+\tl2_frame_type = hnae3_get_field(l234info, HNS3_RXD_DMAC_M,\n+\t\t\t\t\tHNS3_RXD_DMAC_S);\n \tu64_stats_update_begin(&ring->syncp);\n+\tif (l2_frame_type == HNS3_L2_TYPE_MULTICAST)\n+\t\tring->stats.rx_multicast++;\n+\n \tring->stats.rx_pkts++;\n \tring->stats.rx_bytes += skb->len;\n \tu64_stats_update_end(&ring->syncp);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex f59ab7387b1f..f3d248626ab3 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c376fa1aae6328beb5551e92fa84f4441fdde399"}
{"commit_hash": "45e92b7e4e27a427de7e87d5c4d63d4ce7ba02ab", "short_hash": "45e92b7e4e27", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:01-08:00", "subject": "net: hns3: add calling roce callback function when link status change", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 11, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Hu (Xavier) <xavier.huwei@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in driver subsystem (2 files, 11 lines, 6 hunks)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement affecting hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, adequate message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Adds RoCE callback notification on link status change in hns3 driver", "code_snippet": "@@ -2117,6 +2119,10 @@ static void hclge_update_link_status(struct hclge_dev *hdev)\n \t\tfor (i = 0; i < hdev->num_vmdq_vport + 1; i++) {\n \t\t\thandle = &hdev->vport[i].nic;\n \t\t\tclient->ops->link_status_change(handle, state);\n+\t\t\trhandle = &hdev->vport[i].roce;\n+\t\t\tif (rclient && rclient->ops->link_status_change)\n+\t\t\t\trclient->ops->link_status_change(rhandle,\n+\t\t\t\t\t\t\t\t state);\n \t\t}\n \t\thdev->hw.mac.link = state;\n \t}\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\nindex bb9f45200ef5..989f08377d58 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/45e92b7e4e27a427de7e87d5c4d63d4ce7ba02ab"}
{"commit_hash": "d3ad430ac531e65f29c9737f86744c425c9173ef", "short_hash": "d3ad430ac531", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:02-08:00", "subject": "net: hns3: fix PFC not setting problem for DCB module", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cacde272dd00 (\"net: hns3: Add hclge_dcb module for the support of DCB feature\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 3, "insertions": 6, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "3 files, 8 hunks, +6/-4 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic fix with Fixes tag, affects DCB users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple sign-offs, clear explanation, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer, different orgs"}}, "score_justification": "DCB PFC logic fix in HiSilicon driver with proper Fixes tag", "code_snippet": "@@ -308,10 +311,8 @@ static int hclge_ieee_setpfc(struct hnae3_handle *h, struct ieee_pfc *pfc)\n \t\t}\n \t}\n \n-\tif (pfc_map == hdev->tm_info.hw_pfc_map)\n-\t\treturn 0;\n-\n \thdev->tm_info.hw_pfc_map = pfc_map;\n+\thdev->tm_info.pfc_en = pfc->pfc_en;\n \n \treturn hclge_pause_setup_hw(hdev, false);\n }\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex b5a38fc1af91..2c413c63c6c9 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": ["SAME_ORG_AUTHOR"], "link": "https://lore.kernel.org/linux-kernel/d3ad430ac531e65f29c9737f86744c425c9173ef"}
{"commit_hash": "330baff5423b143fba698f2acc9eff3cfb1a0776", "short_hash": "330baff5423b", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:02-08:00", "subject": "net: hns3: add ETS TC weight setting in SSU module", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 43, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver change with new function"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "New ETS weight setting feature for hns3"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic commit message with 3 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer"}}, "score_justification": "New ETS TC weight configuration function for Hisilicon hns3 driver", "code_snippet": "@@ -947,6 +947,36 @@ static int hclge_tm_pri_tc_base_dwrr_cfg(struct hclge_dev *hdev)\n \treturn 0;\n }\n \n+static int hclge_tm_ets_tc_dwrr_cfg(struct hclge_dev *hdev)\n+{\n+#define DEFAULT_TC_WEIGHT\t1\n+#define DEFAULT_TC_OFFSET\t14\n+\n+\tstruct hclge_ets_tc_weight_cmd *ets_weight;\n+\tstruct hclge_desc desc;\n+\tint i;\n+\n+\thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_ETS_TC_WEIGHT, false);\n+\tets_weight = (struct hclge_ets_tc_weight_cmd *)desc.data;\n+\n+\tfor (i = 0; i < HNAE3_MAX_TC; i++) {\n+\t\tstruct hclge_pg_info *pg_info;\n+\n+\t\tets_weight->tc_weight[i] = DEFAULT_TC_WEIGHT;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/330baff5423b143fba698f2acc9eff3cfb1a0776"}
{"commit_hash": "d174ea75c96a12287354af53dc17cb24f328f90a", "short_hash": "d174ea75c96a", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:02-08:00", "subject": "net: hns3: add statistics for PFC frames and MAC control frames", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 4, "insertions": 109, "deletions": 7, "hunks": 18, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver (109+ insertions, 18 hunks)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement adding statistics for PFC and MAC control frames"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Same-company review, adequate message explaining firmware support"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, David S. Miller committer (different org)"}}, "score_justification": "Adds PFC and MAC control frame statistics to hns3 driver with fallback support for old firmware", "code_snippet": "@@ -170,8 +170,12 @@ static bool hclge_is_special_opcode(u16 opcode)\n \t/* these commands have several descriptors,\n \t * and use the first one to save opcode and return value\n \t */\n-\tu16 spec_opcode[3] = {HCLGE_OPC_STATS_64_BIT,\n-\t\tHCLGE_OPC_STATS_32_BIT, HCLGE_OPC_STATS_MAC};\n+\tu16 spec_opcode[] = {HCLGE_OPC_STATS_64_BIT,\n+\t\t\t     HCLGE_OPC_STATS_32_BIT,\n+\t\t\t     HCLGE_OPC_STATS_MAC,\n+\t\t\t     HCLGE_OPC_STATS_MAC_ALL,\n+\t\t\t     HCLGE_OPC_QUERY_32_BIT_REG,\n+\t\t\t     HCLGE_OPC_QUERY_64_BIT_REG};\n \tint i;\n \n \tfor (i = 0; i < ARRAY_SIZE(spec_opcode); i++) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d174ea75c96a12287354af53dc17cb24f328f90a"}
{"commit_hash": "44e59e375bf7785660a250f61e802996894d148a", "short_hash": "44e59e375bf7", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T07:39:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-23T11:13:02-08:00", "subject": "net: hns3: do not return GE PFC setting err when initializing", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 18, "deletions": 13, "hunks": 20, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message, same-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, Huawei author with different maintainer"}}, "score_justification": "Driver init fix for PFC unsupported error on GE MAC, prevents initialization failure.", "code_snippet": "@@ -1271,10 +1271,15 @@ int hclge_pause_setup_hw(struct hclge_dev *hdev)\n \tif (!hnae3_dev_dcb_supported(hdev))\n \t\treturn 0;\n \n-\t/* When MAC is GE Mode, hdev does not support pfc setting */\n+\t/* GE MAC does not support PFC, when driver is initializing and MAC\n+\t * is in GE Mode, ignore the error here, otherwise initialization\n+\t * will fail.\n+\t */\n \tret = hclge_pfc_setup_hw(hdev);\n-\tif (ret)\n-\t\tdev_warn(&hdev->pdev->dev, \"set pfc pause failed:%d\\n\", ret);\n+\tif (init && ret == -EOPNOTSUPP)\n+\t\tdev_warn(&hdev->pdev->dev, \"GE MAC does not support pfc\\n\");\n+\telse\n+\t\treturn ret;\n \n \treturn hclge_tm_bp_setup(hdev);\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44e59e375bf7785660a250f61e802996894d148a"}
{"commit_hash": "a3b8bcbafa45b6cdcbca6beb8684c862a5a2ca61", "short_hash": "a3b8bcbafa45", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T12:44:32Z", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-01-23T15:42:31+01:00", "subject": "rtc: sd3078: fix platform_no_drv_owner.cocci warnings", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -218,7 +218,6 @@ MODULE_DEVICE_TABLE(of, rtc_dt_match);\n static struct i2c_driver sd3078_driver = {\n \t.driver     = {\n \t\t.name   = \"sd3078\",\n-\t\t.owner  = THIS_MODULE,\n \t\t.of_match_table = of_match_ptr(rtc_dt_match),\n \t},\n \t.probe      = sd3078_probe,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a3b8bcbafa45b6cdcbca6beb8684c862a5a2ca61"}
{"commit_hash": "e902cdcb5112b89ee445588147964723fd69ffb4", "short_hash": "e902cdcb5112", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T20:00:22+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-23T15:45:37Z", "subject": "spi/topcliff_pch: Fix potential NULL dereference on allocation error", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c37f3c2749b5 (\"spi/topcliff_pch: DMA support\")", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 19, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small targeted fix in SPI driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "NULL dereference crash fix with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean fix with proper Fixes tag and explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer commit"}}, "score_justification": "NULL pointer dereference fix in SPI DMA allocation path", "code_snippet": "@@ -1008,6 +1008,9 @@ static void pch_spi_handle_dma(struct pch_spi_data *data, int *bpw)\n \n \t/* RX */\n \tdma->sg_rx_p = kcalloc(num, sizeof(*dma->sg_rx_p), GFP_ATOMIC);\n+\tif (!dma->sg_rx_p)\n+\t\treturn;\n+\n \tsg_init_table(dma->sg_rx_p, num); /* Initialize SG table */\n \t/* offset, length setting */\n \tsg = dma->sg_rx_p;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e902cdcb5112b89ee445588147964723fd69ffb4"}
{"commit_hash": "0e40dc2f70cda099e13392a26bd37aed24bcd25d", "short_hash": "0e40dc2f70cd", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2018-12-18T21:21:55+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-24T09:22:30-07:00", "subject": "RDMA/hns: Add timer allocation support for hip08", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 7, "insertions": 227, "deletions": 2, "hunks": 54, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Substantial feature addition (227 insertions) in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "New hardware feature for hip08, affects RDMA users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit message with two sign-offs, minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei author, Mellanox maintainer)"}}, "score_justification": "Functional enhancement adding QPC/CQC timer allocation for hip08 hardware", "code_snippet": "@@ -89,6 +93,10 @@ enum {\n \tHNS_ROCE_CMD_DESTROY_SRQC_BT1\t= 0x39,\n \tHNS_ROCE_CMD_DESTROY_SRQC_BT2\t= 0x3a,\n \n+\t/* QPC TIMER commands */\n+\tHNS_ROCE_CMD_WRITE_QPC_TIMER_BT0 = 0x33,\n+\tHNS_ROCE_CMD_READ_QPC_TIMER_BT0  = 0x37,\n+\n \t/* EQC commands */\n \tHNS_ROCE_CMD_CREATE_AEQC\t= 0x80,\n \tHNS_ROCE_CMD_MODIFY_AEQC\t= 0x81,\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_device.h b/drivers/infiniband/hw/hns/hns_roce_device.h\nindex bbcc56f8fc76..6fde434b22fd 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_device.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_device.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e40dc2f70cda099e13392a26bd37aed24bcd25d"}
{"commit_hash": "aa84fa18741b83daf0f8f160c46ae92f4d6f1343", "short_hash": "aa84fa18741b", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2018-12-18T21:21:54+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-24T09:22:30-07:00", "subject": "RDMA/hns: Add SCC context clr support for hip08", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 4, "insertions": 85, "deletions": 1, "hunks": 22, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "85 insertions across 4 files, 22 hunks in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Functional enhancement for DCQCN flow control in hns driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic Signed-off-by tags, minimal commit message context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer, cross-company commit"}}, "score_justification": "Adds SCC context clear support for DCQCN flow control in Hisilicon hip08 RDMA driver", "code_snippet": "@@ -867,6 +869,8 @@ struct hns_roce_hw {\n \t\t\t int attr_mask, enum ib_qp_state cur_state,\n \t\t\t enum ib_qp_state new_state);\n \tint (*destroy_qp)(struct ib_qp *ibqp);\n+\tint (*qp_flow_control_init)(struct hns_roce_dev *hr_dev,\n+\t\t\t struct hns_roce_qp *hr_qp);\n \tint (*post_send)(struct ib_qp *ibqp, const struct ib_send_wr *wr,\n \t\t\t const struct ib_send_wr **bad_wr);\n \tint (*post_recv)(struct ib_qp *qp, const struct ib_recv_wr *recv_wr,\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\nindex 549a60113766..5e57f5f93d49 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa84fa18741b83daf0f8f160c46ae92f4d6f1343"}
{"commit_hash": "6a157f7d1b14eb88d89fbd396cfea15ac4bded2d", "short_hash": "6a157f7d1b14", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2018-12-18T21:21:53+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-24T09:22:30-07:00", "subject": "RDMA/hns: Add SCC context allocation support for hip08", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 8, "insertions": 146, "deletions": 8, "hunks": 68, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "8 files, 68 hunks, +146/-8 lines in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "DCQCN support for hip08 hardware in Hisilicon driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic message, maintainer signoff, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer commit"}}, "score_justification": "DCQCN SCC context support for hip08 in Hisilicon RDMA driver", "code_snippet": "@@ -98,6 +98,10 @@ enum {\n \tHNS_ROCE_CMD_MODIFY_CEQC\t= 0x91,\n \tHNS_ROCE_CMD_QUERY_CEQC\t\t= 0x92,\n \tHNS_ROCE_CMD_DESTROY_CEQC\t= 0x93,\n+\n+\t/* SCC CTX BT commands */\n+\tHNS_ROCE_CMD_READ_SCCC_BT0\t= 0xa4,\n+\tHNS_ROCE_CMD_WRITE_SCCC_BT0\t= 0xa5,\n };\n \n enum {\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_device.h b/drivers/infiniband/hw/hns/hns_roce_device.h\nindex 9a4be70936e0..7c93be4379e6 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_device.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_device.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a157f7d1b14eb88d89fbd396cfea15ac4bded2d"}
{"commit_hash": "c61a4633a56aaa85bd61645c4188340f8bb2f7f1", "short_hash": "c61a4633a56a", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-24T15:10:02+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-01-24T15:14:35+01:00", "subject": "iommu/dma: Remove unused variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: aa3ac9469c18 (\"iommu/iova: Make dma 32bit pfn implicit\")", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 4 hunks, 3 lines changed in critical iommu subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup commit with no runtime impact, fixes regression from prior commit"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Cc tags from maintainers, proper Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Hisilicon, committer from Suse (different orgs)"}}, "score_justification": "Dead variable cleanup in iommu/dma with proper Fixes tag referencing commit that made it unused", "code_snippet": "@@ -289,7 +289,7 @@ int iommu_dma_init_domain(struct iommu_domain *domain, dma_addr_t base,\n {\n \tstruct iommu_dma_cookie *cookie = domain->iova_cookie;\n \tstruct iova_domain *iovad = &cookie->iovad;\n-\tunsigned long order, base_pfn, end_pfn;\n+\tunsigned long order, base_pfn;\n \tint attr;\n \n \tif (!cookie || cookie->type != IOMMU_DMA_IOVA_COOKIE)", "flags": ["DEAD_CODE_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/c61a4633a56aaa85bd61645c4188340f8bb2f7f1"}
{"commit_hash": "8f4ebaaa8d97dc531a3f947a8d30a5a70fe38743", "short_hash": "8f4ebaaa8d97", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T06:19:18Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-24T22:13:03-08:00", "subject": "net: stmmac: Fix return value check in qcom_ethqos_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a7c30e62d4b8 (\"net: stmmac: Add driver for Qualcomm ethqos\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Vinod Koul <vkoul@kernel.org> (Kernel)", "Niklas Cassel <niklas.cassel@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with proper error handling in driver"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 Acked-by, Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer, cross-org acks"}}, "score_justification": "Driver error handling fix: IS_ERR check for clk_get", "code_snippet": "@@ -473,8 +473,8 @@ static int qcom_ethqos_probe(struct platform_device *pdev)\n \tethqos->por = of_device_get_match_data(&pdev->dev);\n \n \tethqos->rgmii_clk = devm_clk_get(&pdev->dev, \"rgmii\");\n-\tif (!ethqos->rgmii_clk) {\n-\t\tret = -ENOMEM;\n+\tif (IS_ERR(ethqos->rgmii_clk)) {\n+\t\tret = PTR_ERR(ethqos->rgmii_clk);\n \t\tgoto err_mem;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f4ebaaa8d97dc531a3f947a8d30a5a70fe38743"}
{"commit_hash": "0ba9480cffaa99a317973164f61b5d927091a286", "short_hash": "0ba9480cffaa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T10:59:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-24T22:49:57-08:00", "subject": "bridge: remove duplicated include from br_multicast.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/bridge", "subsystems_touched": ["net/bridge"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single line removal in networking"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Include reordering has no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Minimal message, single logical change"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Removing duplicate header include in bridge multicast code", "code_snippet": "@@ -35,7 +35,6 @@\n #include <net/mld.h>\n #include <net/ip6_checksum.h>\n #include <net/addrconf.h>\n-#include <net/ipv6.h>\n #endif\n \n #include \"br_private.h\"\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/0ba9480cffaa99a317973164f61b5d927091a286"}
{"commit_hash": "04389af74d9129703c22609315ee7648d831dca0", "short_hash": "04389af74d91", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T22:16:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-25T10:02:49+01:00", "subject": "usb: ftdi-elan: remove a unnecessary variable 'empty_packets'", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/misc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 5, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny cleanup in USB driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Dead code removal with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic cleanup with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei contributor accepted by Linux Foundation maintainer"}}, "score_justification": "Dead variable removal in USB misc driver, cross-org contribution", "code_snippet": "@@ -915,7 +915,6 @@ static int ftdi_elan_respond_engine(struct usb_ftdi *ftdi)\n \tint bytes_read = 0;\n \tint retry_on_empty = 1;\n \tint retry_on_timeout = 3;\n-\tint empty_packets = 0;\n read:{\n \t\tint packet_bytes = 0;\n \t\tint retval = usb_bulk_msg(ftdi->udev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04389af74d9129703c22609315ee7648d831dca0"}
{"commit_hash": "ac626ff960624d81442a3ec4a3e71a9e929e98ae", "short_hash": "ac626ff96062", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T22:16:57+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-25T10:06:25+01:00", "subject": "usb: ftdi-elan: Fix if == else warnings in ftdi_elan_respond_engine", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/misc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 24, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small deletion in USB driver fixing compiler warning"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message explaining coccinelle warnings"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Compiler warning fix removing redundant if/else branches", "code_snippet": "@@ -959,30 +959,6 @@ read:{\n \t\t\tdev_err(&ftdi->udev->dev, \"error = %d with packet_bytes = %d with total %d bytes%s\\n\",\n \t\t\t\tretval, packet_bytes, bytes_read, diag);\n \t\t\treturn retval;\n-\t\t} else if (packet_bytes == 2) {\n-\t\t\tunsigned char s0 = ftdi->bulk_in_buffer[0];\n-\t\t\tunsigned char s1 = ftdi->bulk_in_buffer[1];\n-\t\t\tif (s0 == 0x31 && s1 == 0x60) {\n-\t\t\t\tif (retry_on_empty-- > 0) {\n-\t\t\t\t\tgoto more;\n-\t\t\t\t} else\n-\t\t\t\t\treturn 0;\n-\t\t\t} else if (s0 == 0x31 && s1 == 0x00) {\n-\t\t\t\tif (retry_on_empty-- > 0) {\n-\t\t\t\t\tgoto more;\n-\t\t\t\t} else\n-\t\t\t\t\treturn 0;\n-\t\t\t} else {\n-\t\t\t\tif (retry_on_empty-- > 0) {\n-\t\t\t\t\tgoto more;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac626ff960624d81442a3ec4a3e71a9e929e98ae"}
{"commit_hash": "a94aec035a122bf6d1a05b14f02f34c34b99506a", "short_hash": "a94aec035a12", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-22T14:39:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-25T18:05:10Z", "subject": "ASoC: mediatek: mt8183: add platform driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 14, "insertions": 6333, "deletions": 0, "hunks": 28, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 18, "score_impact": 19, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 18, "details": "Major new driver: 14 files, 6333 insertions, 28 hunks"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 19, "details": "Complete new driver for MT8183 audio platform"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal message, only author/maintainer S-o-b tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, kernel.org maintainer committed"}}, "score_justification": "New complete audio platform driver for MediaTek MT8183 SoC with 6333 lines across 14 files", "code_snippet": "@@ -0,0 +1,13 @@\n+# SPDX-License-Identifier: GPL-2.0\n+\n+# platform driver\n+snd-soc-mt8183-afe-objs := \\\n+\tmt8183-afe-pcm.o \\\n+\tmt8183-afe-clk.o \\\n+\tmt8183-dai-i2s.o \\\n+\tmt8183-dai-tdm.o \\\n+\tmt8183-dai-pcm.o \\\n+\tmt8183-dai-hostless.o \\\n+\tmt8183-dai-adda.o\n+\n+obj-$(CONFIG_SND_SOC_MT8183) += snd-soc-mt8183-afe.o\ndiff --git a/sound/soc/mediatek/mt8183/mt8183-afe-clk.c b/sound/soc/mediatek/mt8183/mt8183-afe-clk.c\nnew file mode 100644\nindex 000000000000..f523ad103acc\n--- /dev/null\n+++ b/sound/soc/mediatek/mt8183/mt8183-afe-clk.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a94aec035a122bf6d1a05b14f02f34c34b99506a"}
{"commit_hash": "bfd74e65c47ff325924fe5bd90789b1db422c9cc", "short_hash": "bfd74e65c47f", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-22T14:39:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-25T18:07:04Z", "subject": "ASoC: mediatek: mt8183: add audio afe document", "primary_category": "DOC-KERNEL", "secondary_categories": ["DT-BINDING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["Documentation/devicetree/bindings/sound", "sound/soc/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 36, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 9, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "New DT binding doc for audio driver"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New platform support documentation"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal review, basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, merged by maintainer"}}, "score_justification": "New DT binding documentation for Mediatek mt8183 audio driver", "code_snippet": "@@ -0,0 +1,36 @@\n+Mediatek AFE PCM controller for mt8183\n+\n+Required properties:\n+- compatible = \"mediatek,mt68183-audio\";\n+- reg: register location and size\n+- interrupts: should contain AFE interrupt\n+- power-domains: should define the power domain\n+- clocks: Must contain an entry for each entry in clock-names\n+- clock-names: should have these clock names:\n+\t\t\"infra_sys_audio_clk\",\n+\t\t\"mtkaif_26m_clk\",\n+\t\t\"top_mux_audio\",\n+\t\t\"top_mux_aud_intbus\",\n+\t\t\"top_sys_pll3_d4\",\n+\t\t\"top_clk26m_clk\";\n+\n+Example:\n+\n+\tafe: mt8183-afe-pcm@11220000  {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bfd74e65c47ff325924fe5bd90789b1db422c9cc"}
{"commit_hash": "6a8d4198ca80deb2f978260a096fa651229cf4a2", "short_hash": "6a8d4198ca80", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-22T14:39:10+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-25T18:07:13Z", "subject": "ASoC: mediatek: mt6358: add codec driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 4, "insertions": 4659, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 18, "score_impact": 20, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 18, "details": "New codec driver with 4659 lines added across 4 files in sound subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "New driver for MediaTek MT6358 audio codec, affects users of this hardware"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal commit message, only author and maintainer sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author committed by kernel.org maintainer Mark Brown"}}, "score_justification": "New complete audio codec driver for MediaTek MT6358 with 4659 lines of code", "code_snippet": "@@ -1339,6 +1340,12 @@ config SND_SOC_ML26124\n config SND_SOC_MT6351\n \ttristate \"MediaTek MT6351 Codec\"\n \n+config SND_SOC_MT6358\n+\ttristate \"MediaTek MT6358 Codec\"\n+\thelp\n+\t  Enable support for the platform which uses MT6358 as\n+\texternal codec device.\n+\n config SND_SOC_NAU8540\n        tristate \"Nuvoton Technology Corporation NAU85L40 CODEC\"\n        depends on I2C\ndiff --git a/sound/soc/codecs/Makefile b/sound/soc/codecs/Makefile\nindex 9bb3346fab2f..457f9ff5a2d4 100644\n--- a/sound/soc/codecs/Makefile\n+++ b/sound/soc/codecs/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a8d4198ca80deb2f978260a096fa651229cf4a2"}
{"commit_hash": "7ca80f232e810b758ba72daef8f189c34a20bd32", "short_hash": "7ca80f232e81", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-22T14:39:11+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-25T18:09:24Z", "subject": "ASoC: mediatek: mt6358: add codec document", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/devicetree/bindings", "subsystems_touched": ["Documentation/devicetree/bindings/sound"], "subsystem_tier": 5, "files_changed": 1, "insertions": 18, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 10, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding file, 18 lines added"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "New binding for MediaTek audio codec"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic signing, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, maintainer applied"}}, "score_justification": "New device tree binding for MediaTek MT6358 audio codec", "code_snippet": "@@ -0,0 +1,18 @@\n+Mediatek MT6358 Audio Codec\n+\n+The communication between MT6358 and SoC is through Mediatek PMIC wrapper.\n+For more detail, please visit Mediatek PMIC wrapper documentation.\n+\n+Must be a child node of PMIC wrapper.\n+\n+Required properties:\n+\n+- compatible : \"mediatek,mt6358-sound\".\n+- Avdd-supply : power source of AVDD\n+\n+Example:\n+\n+mt6358_snd {\n+\tcompatible = \"mediatek,mt6358-sound\";\n+\tAvdd-supply = <&mt6358_vaud28_reg>;\n+};\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7ca80f232e810b758ba72daef8f189c34a20bd32"}
{"commit_hash": "af84282e2b48143894383d4d6d7812d72e292be9", "short_hash": "af84282e2b48", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-10-05T09:02:49Z", "committer_name": "Luca Coelho", "committer_email": "luciano.coelho@intel.com", "committer_company": "Intel", "commit_date": "2019-01-25T20:57:20+02:00", "subject": "iwlwifi: use kmemdup in iwl_parse_nvm_mcc_info()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/intel/iwlwifi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Luca Coelho <luciano.coelho@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code simplification for driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, clear message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Simple API migration from kzalloc+memcpy to kmemdup in iwlwifi driver", "code_snippet": "@@ -1195,14 +1195,12 @@ iwl_parse_nvm_mcc_info(struct device *dev, const struct iwl_cfg *cfg,\n \tregd_to_copy = sizeof(struct ieee80211_regdomain) +\n \t\tvalid_rules * sizeof(struct ieee80211_reg_rule);\n \n-\tcopy_rd = kzalloc(regd_to_copy, GFP_KERNEL);\n+\tcopy_rd = kmemdup(regd, regd_to_copy, GFP_KERNEL);\n \tif (!copy_rd) {\n \t\tcopy_rd = ERR_PTR(-ENOMEM);\n \t\tgoto out;\n \t}\n \n-\tmemcpy(copy_rd, regd, regd_to_copy);\n-\n out:\n \tkfree(regdb_ptrs);\n \tkfree(regd);\n", "flags": ["API_MIGRATION"], "link": "https://lore.kernel.org/linux-kernel/af84282e2b48143894383d4d6d7812d72e292be9"}
{"commit_hash": "84239b445964b15045e1418ebf28e74121ace309", "short_hash": "84239b445964", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T02:28:59Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-25T22:05:23-08:00", "subject": "ptp: fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/ptp", "subsystems_touched": ["drivers/ptp"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Yangbo Lu <yangbo.lu@nxp.com> (NXP)"], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single logical change with ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org maintainer acceptance"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -33,8 +33,8 @@ static int ptp_qoriq_fiper1_lpbk_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(ptp_qoriq_fiper1_fops, ptp_qoriq_fiper1_lpbk_get,\n-\t\t\tptp_qoriq_fiper1_lpbk_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(ptp_qoriq_fiper1_fops, ptp_qoriq_fiper1_lpbk_get,\n+\t\t\t ptp_qoriq_fiper1_lpbk_set, \"%llu\\n\");\n \n static int ptp_qoriq_fiper2_lpbk_get(void *data, u64 *val)\n {", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/84239b445964b15045e1418ebf28e74121ace309"}
{"commit_hash": "c2a39d981da7a04874d3ba17ac6122b8e62ec8e1", "short_hash": "c2a39d981da7", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: do reinitialization while mqprio configuration changed", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 21, "deletions": 17, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium changes across 2 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for mqprio configuration affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with multiple Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Driver logic fix for mqprio TC reconfiguration, moves down/up operations to PF module", "code_snippet": "@@ -1482,7 +1482,6 @@ static int hns3_setup_tc(struct net_device *netdev, void *type_data)\n \tu8 tc = mqprio_qopt->qopt.num_tc;\n \tu16 mode = mqprio_qopt->mode;\n \tu8 hw = mqprio_qopt->qopt.hw;\n-\tbool if_running;\n \tint ret;\n \n \tif (!((hw == TC_MQPRIO_HW_OFFLOAD_TCS &&", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2a39d981da7a04874d3ba17ac6122b8e62ec8e1"}
{"commit_hash": "350fda0a0af9d077e895c7b01a4901d354ae656e", "short_hash": "350fda0a0af9", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: After setting the loopback, add the status of getting MAC", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 22, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in driver code with 6 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Single logical change with internal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer applied"}}, "score_justification": "Fixes loopback config to verify MAC status with timeout", "code_snippet": "@@ -5237,8 +5237,15 @@ static int hclge_set_serdes_loopback(struct hclge_dev *hdev, bool en,\n {\n #define HCLGE_SERDES_RETRY_MS\t10\n #define HCLGE_SERDES_RETRY_NUM\t100\n+\n+#define HCLGE_MAC_LINK_STATUS_MS   20\n+#define HCLGE_MAC_LINK_STATUS_NUM  10\n+#define HCLGE_MAC_LINK_STATUS_DOWN 0\n+#define HCLGE_MAC_LINK_STATUS_UP   1\n+\n \tstruct hclge_serdes_lb_cmd *req;\n \tstruct hclge_desc desc;\n+\tint mac_link_ret = 0;\n \tint ret, i = 0;\n \tu8 loop_mode_b;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/350fda0a0af9d077e895c7b01a4901d354ae656e"}
{"commit_hash": "28673b33c75621b52971b5d5aeed0be59de0bda5", "short_hash": "28673b33c756", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: fix broadcast promisc issue for revision 0x20", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 46a3df9f9718 (\"net: hns3: Add HNS3 Acceleration Engine & Compatibility Layer Support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 11, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in important network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Driver bug affecting VLAN filtering behavior"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear Fixes tag and explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer"}}, "score_justification": "Fixes broadcast promisc mode logic bug for hardware revision 0x20", "code_snippet": "@@ -541,13 +541,13 @@ static void hns3_nic_set_rx_mode(struct net_device *netdev)\n \t\t}\n \t}\n \n-\thns3_update_promisc_mode(netdev, new_flags);\n \t/* User mode Promisc mode enable and vlan filtering is disabled to\n \t * let all packets in. MAC-VLAN Table overflow Promisc enabled and\n \t * vlan fitering is enabled\n \t */\n \thns3_enable_vlan_filter(netdev, new_flags & HNAE3_VLAN_FLTR);\n \th->netdev_flags = new_flags;\n+\thns3_update_promisc_mode(netdev, new_flags);\n }\n \n int hns3_update_promisc_mode(struct net_device *netdev, u8 promisc_flags)\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex d5482f9c422c..558389a18353 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/28673b33c75621b52971b5d5aeed0be59de0bda5"}
{"commit_hash": "47ef6deccdfffaef8f56c5021a83a774fc77ee13", "short_hash": "47ef6deccdff", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: fix return value handle issue for hclge_set_loopback()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0f29fc23b21d (\"net: hns3: Fix for loopback selftest failed problem\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 2, "insertions": 7, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 16, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in NIC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, internal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Single company, external maintainer"}}, "score_justification": "Driver return value bug fix with proper Fixes tag", "code_snippet": "@@ -334,10 +334,10 @@ static void hns3_self_test(struct net_device *ndev,\n \t\t\tcontinue;\n \n \t\tdata[test_index] = hns3_lp_up(ndev, loop_type);\n-\t\tif (!data[test_index]) {\n+\t\tif (!data[test_index])\n \t\t\tdata[test_index] = hns3_lp_run_test(ndev, loop_type);\n-\t\t\thns3_lp_down(ndev, loop_type);\n-\t\t}\n+\n+\t\thns3_lp_down(ndev, loop_type);\n \n \t\tif (data[test_index])\n \t\t\teth_test->flags |= ETH_TEST_FL_FAILED;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 64b1589e549f..d5482f9c422c 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/47ef6deccdfffaef8f56c5021a83a774fc77ee13"}
{"commit_hash": "ac864c2346d087dd3739435af1b8d36be5f60c75", "short_hash": "ac864c2346d0", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: clear pci private data when unload hns3 driver", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Single line change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource cleanup fix affecting driver users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Multiple internal reviewers, basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Missing cleanup on driver unload - sets PCI private data to NULL", "code_snippet": "@@ -1781,6 +1781,7 @@ static void hns3_remove(struct pci_dev *pdev)\n \t\thns3_disable_sriov(pdev);\n \n \thnae3_unregister_ae_dev(ae_dev);\n+\tpci_set_drvdata(pdev, NULL);\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac864c2346d087dd3739435af1b8d36be5f60c75"}
{"commit_hash": "1821dce9ae6c6d70e9e9ea93638855e7a27797ca", "short_hash": "1821dce9ae6c", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: add error handling in hclge_ieee_setets", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cacde272dd00 (\"net: hns3: Add hclge_dcb module for the support of DCB feature\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 13, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in NIC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource handling fix with netdev impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Fixes tag, 3 SOBs from same company"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "Error path cleanup fix in hns3 NIC driver preventing netdev startup issues", "code_snippet": "@@ -232,12 +232,13 @@ static int hclge_ieee_setets(struct hnae3_handle *h, struct ieee_ets *ets)\n \n \tret = hclge_ieee_ets_to_tm_info(hdev, ets);\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_out;\n \n \tif (map_changed) {\n \t\tret = hclge_client_setup_tc(hdev);\n \t\tif (ret)\n-\t\t\treturn ret;\n+\t\t\tgoto err_out;\n+\n \t\tret = hclge_notify_client(hdev, HNAE3_INIT_CLIENT);\n \t\tif (ret)\n \t\t\treturn ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1821dce9ae6c6d70e9e9ea93638855e7a27797ca"}
{"commit_hash": "217e288c9718b383d68cacec50e37ec2c085c485", "short_hash": "217e288c9718", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:30-08:00", "subject": "net: hns3: don't update packet statistics for packets dropped by hardware", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (3 deletions, 4 hunks)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for driver statistics accuracy affecting users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic explanation with 4 sign-offs, minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, networking maintainer merge"}}, "score_justification": "Driver statistics logic fix removing hw-dropped packets from netdev stats", "code_snippet": "@@ -1425,9 +1425,7 @@ static void hns3_nic_get_stats64(struct net_device *netdev,\n \t\t\tstart = u64_stats_fetch_begin_irq(&ring->syncp);\n \t\t\ttx_bytes += ring->stats.tx_bytes;\n \t\t\ttx_pkts += ring->stats.tx_pkts;\n-\t\t\ttx_drop += ring->stats.tx_busy;\n \t\t\ttx_drop += ring->stats.sw_err_cnt;\n-\t\t\ttx_errors += ring->stats.tx_busy;\n \t\t\ttx_errors += ring->stats.sw_err_cnt;\n \t\t} while (u64_stats_fetch_retry_irq(&ring->syncp, start));\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/217e288c9718b383d68cacec50e37ec2c085c485"}
{"commit_hash": "b7b585c286ab021bdb1d0c14b93c58b6bfbe3ef0", "short_hash": "b7b585c286ab", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:31-08:00", "subject": "net: hns3: add initialization for nic state", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Driver fix for Hisilicon NIC users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Internal review with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer"}}, "score_justification": "Driver state initialization fix reordering bit operations", "code_snippet": "@@ -361,11 +363,10 @@ static int hns3_nic_net_up(struct net_device *netdev)\n \tif (ret)\n \t\tgoto out_start_err;\n \n-\tclear_bit(HNS3_NIC_STATE_DOWN, &priv->state);\n-\n \treturn 0;\n \n out_start_err:\n+\tset_bit(HNS3_NIC_STATE_DOWN, &priv->state);\n \twhile (j--)\n \t\thns3_tqp_disable(h->kinfo.tqp[j]);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7b585c286ab021bdb1d0c14b93c58b6bfbe3ef0"}
{"commit_hash": "f01f5559cac89e57f2420aa77abf35f2e7b09104", "short_hash": "f01f5559cac8", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:21+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:31-08:00", "subject": "net: hns3: don't allow vf to enable promisc mode", "primary_category": "SEC-ACCESS", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 21, "deletions": 18, "hunks": 8, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 16, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Security hardening for VF promisc mode"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org with maintainer commit"}}, "score_justification": "VF promisc mode restriction for security, preventing packet leakage between virtual functions", "code_snippet": "@@ -203,12 +203,11 @@ static int hclge_map_unmap_ring_to_vf_vector(struct hclge_vport *vport, bool en,\n static int hclge_set_vf_promisc_mode(struct hclge_vport *vport,\n \t\t\t\t     struct hclge_mbx_vf_to_pf_cmd *req)\n {\n-\tbool en_uc = req->msg[1] ? true : false;\n-\tbool en_mc = req->msg[2] ? true : false;\n+\tbool en_bc = req->msg[1] ? true : false;\n \tstruct hclge_promisc_param param;\n \n-\t/* always enable broadcast promisc bit */\n-\thclge_promisc_param_init(&param, en_uc, en_mc, true, vport->vport_id);\n+\t/* vf is not allowed to enable unicast/multicast broadcast */\n+\thclge_promisc_param_init(&param, false, false, en_bc, vport->vport_id);\n \treturn hclge_cmd_set_promisc_mode(vport->back, &param);\n }\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\nindex 24b54083b5f9..fc99a0c70164 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f01f5559cac89e57f2420aa77abf35f2e7b09104"}
{"commit_hash": "51e8439f34962794f6c5010a44893fe58450b8df", "short_hash": "51e8439f3496", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:31-08:00", "subject": "net: hns3: add 8 BD limit for tx flow", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 27, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1133,6 +1133,7 @@ static int hns3_nic_maybe_stop_tso(struct sk_buff **out_skb, int *bnum,\n \t\t\t\t   struct hns3_enet_ring *ring)\n {\n \tstruct sk_buff *skb = *out_skb;\n+\tstruct sk_buff *new_skb = NULL;\n \tstruct skb_frag_struct *frag;\n \tint bdnum_for_frag;\n \tint frag_num;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/51e8439f34962794f6c5010a44893fe58450b8df"}
{"commit_hash": "1cce5eb6506d8e4924927062398e8d9ff6411536", "short_hash": "1cce5eb6506d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:31-08:00", "subject": "net: hns3: call hns3_nic_set_real_num_queue with netdev down", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 2, "insertions": 13, "deletions": 12, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small-medium change in hns3 driver across 2 files with 8 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Logic fix for TC configuration affecting hns3 network users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation, internal review only, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer, cross-company"}}, "score_justification": "TC configuration logic fix in hns3 driver, refactors queue setup call sequence", "code_snippet": "@@ -384,13 +384,12 @@ static int hclge_setup_tc(struct hnae3_handle *h, u8 tc, u8 *prio_tc)\n \thclge_tm_prio_tc_info_update(hdev, prio_tc);\n \n \tret = hclge_tm_init_hw(hdev, false);\n-\tif (ret) {\n-\t\tif (hclge_notify_client(hdev, HNAE3_INIT_CLIENT))\n-\t\t\treturn ret;\n+\tif (ret)\n+\t\tgoto err_out;\n \n-\t\thclge_notify_client(hdev, HNAE3_UP_CLIENT);\n-\t\treturn ret;\n-\t}\n+\tret = hclge_client_setup_tc(hdev);\n+\tif (ret)\n+\t\tgoto err_out;\n \n \thdev->flag &= ~HCLGE_FLAG_DCB_ENABLE;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1cce5eb6506d8e4924927062398e8d9ff6411536"}
{"commit_hash": "a1ef124e6e8621e9472098a7a37655ef4bace423", "short_hash": "a1ef124e6e86", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-27T00:49:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-26T09:33:31-08:00", "subject": "net: hns3: remove dcb_ops->map_update in hclge_dcb", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 6, "deletions": 14, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 12, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in network driver (3 files, 12 hunks, +6/-14 lines)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code simplification affecting DCB/mqprio users of hns3 driver"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple reviewers from same company, adequate message, no test evidence"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committer from different org (davem), no external report"}}, "score_justification": "Refactor to remove dcb_ops->map_update callback and call hclge_map_update directly", "code_snippet": "@@ -477,7 +477,6 @@ struct hnae3_dcb_ops {\n \tu8   (*getdcbx)(struct hnae3_handle *);\n \tu8   (*setdcbx)(struct hnae3_handle *, u8);\n \n-\tint (*map_update)(struct hnae3_handle *);\n \tint (*setup_tc)(struct hnae3_handle *, u8, u8 *);\n };\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 927a980fc211..0ecaeab2dad4 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": ["HUAWEI"], "link": "https://lore.kernel.org/linux-kernel/a1ef124e6e8621e9472098a7a37655ef4bace423"}
{"commit_hash": "d7c3eeffbc55ad462e6447902ffa752c7e9d6aae", "short_hash": "d7c3eeffbc55", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T22:31:36+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-01-28T12:51:29+02:00", "subject": "usb: gadget: Remove dead branch code", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/gadget"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 8, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup removing dead code from USB gadget subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Low-impact cleanup removing unreachable code"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic explanation, no testing evidence, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei to Intel maintainer)"}}, "score_justification": "Dead code removal in USB gadget driver; u8 variable cannot exceed 255", "code_snippet": "@@ -1570,10 +1570,6 @@ uvcg_uncompressed_##cname##_store(struct config_item *item,\t\t\\\n \tif (ret)\t\t\t\t\t\t\t\\\n \t\tgoto end;\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n-\tif (num > 255) {\t\t\t\t\t\t\\\n-\t\tret = -EINVAL;\t\t\t\t\t\t\\\n-\t\tgoto end;\t\t\t\t\t\t\\\n-\t}\t\t\t\t\t\t\t\t\\\n \tu->desc.aname = num;\t\t\t\t\t\t\\\n \tret = len;\t\t\t\t\t\t\t\\\n end:\t\t\t\t\t\t\t\t\t\\", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d7c3eeffbc55ad462e6447902ffa752c7e9d6aae"}
{"commit_hash": "ff54d82b7716b9bbc8694afd63ebcdb465598cdc", "short_hash": "ff54d82b7716", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T01:36:51Z", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-01-28T14:41:54+01:00", "subject": "pinctrl: ti-iodelay: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 6, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line deletion in tier-4 driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Automated cleanup with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Coccinelle-generated cleanup with minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Linaro maintainer applied"}}, "score_justification": "Automated coccinelle cleanup removing redundant .owner field", "code_snippet": "@@ -923,7 +923,6 @@ static struct platform_driver ti_iodelay_driver = {\n \t.probe = ti_iodelay_probe,\n \t.remove = ti_iodelay_remove,\n \t.driver = {\n-\t\t   .owner = THIS_MODULE,\n \t\t   .name = DRIVER_NAME,\n \t\t   .of_match_table = ti_iodelay_of_match,\n \t},\n", "flags": ["COCCINELLE", "AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/ff54d82b7716b9bbc8694afd63ebcdb465598cdc"}
{"commit_hash": "4f41e66cf555f74b5aa490684e72b4a6aa34988d", "short_hash": "4f41e66cf555", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T16:41:40+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-01-28T14:42:55+01:00", "subject": "pinctrl: sirf: drop pointless static qualifier in sirfsoc_gpio_probe", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in pinctrl driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Minor cleanup affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review, simple atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei author, Linaro maintainer)"}}, "score_justification": "Minor cleanup removing unnecessary static from local variable", "code_snippet": "@@ -782,7 +782,7 @@ static void sirfsoc_gpio_set_pulldown(struct sirfsoc_gpio_chip *sgpio,\n static int sirfsoc_gpio_probe(struct device_node *np)\n {\n \tint i, err = 0;\n-\tstatic struct sirfsoc_gpio_chip *sgpio;\n+\tstruct sirfsoc_gpio_chip *sgpio;\n \tstruct sirfsoc_gpio_bank *bank;\n \tvoid __iomem *regs;\n \tstruct platform_device *pdev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f41e66cf555f74b5aa490684e72b4a6aa34988d"}
{"commit_hash": "0b7a814c26444ec71c5a37a4a60ea180d8e8c6e8", "short_hash": "0b7a814c2644", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-25T22:01:36+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-01-28T15:51:11+01:00", "subject": "ext2: Remove redundant check for finding no group", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -222,8 +222,6 @@ static int find_group_dir(struct super_block *sb, struct inode *parent)\n \t\t\tbest_desc = desc;\n \t\t}\n \t}\n-\tif (!best_desc)\n-\t\treturn -1;\n \n \treturn best_group;\n }\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/0b7a814c26444ec71c5a37a4a60ea180d8e8c6e8"}
{"commit_hash": "cdd7b40642582f5130ea5ec20432175a70c8933e", "short_hash": "cdd7b4064258", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T10:46:34+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-01-29T00:09:26+01:00", "subject": "selftests: bpf: remove duplicated include", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["tools/testing/selftests/bpf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Song Liu <songliubraving@fb.com> (Fb)"], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup across 3 test files"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain with clear scope"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Iogearbox maintainer"}}, "score_justification": "Duplicate include removal in BPF selftests with cross-org review", "code_snippet": "@@ -25,7 +24,6 @@\n #include <stdbool.h>\n #include <stdlib.h>\n #include <stdio.h>\n-#include <stdlib.h>\n #include <string.h>\n #include <sys/ioctl.h>\n #include <sys/socket.h>\ndiff --git a/tools/testing/selftests/bpf/test_maps.c b/tools/testing/selftests/bpf/test_maps.c\nindex e2b9eee37187..1dfef77cff6f 100644\n--- a/tools/testing/selftests/bpf/test_maps.c\n+++ b/tools/testing/selftests/bpf/test_maps.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cdd7b40642582f5130ea5ec20432175a70c8933e"}
{"commit_hash": "f2aecc1d38ff26f972d8c825ccc1f5152b79e203", "short_hash": "f2aecc1d38ff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T10:00:14+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:16:09-05:00", "subject": "scsi: fnic: Remove set but not used variable 'vdev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/fnic"], "subsystem_tier": 3, "files_changed": 2, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Satish Kharat <satishkh@cisco.com> (Cisco)"], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "2 files, 4 hunks, 6 deletions - small cleanup in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Acked-by from maintainer, good message with compiler output"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle committer, Cisco ack - cross-org"}}, "score_justification": "Compiler warning fix removing unused variable in fnic driver", "code_snippet": "@@ -27,12 +27,9 @@\n static int vnic_rq_alloc_bufs(struct vnic_rq *rq)\n {\n \tstruct vnic_rq_buf *buf;\n-\tstruct vnic_dev *vdev;\n \tunsigned int i, j, count = rq->ring.desc_count;\n \tunsigned int blks = VNIC_RQ_BUF_BLKS_NEEDED(count);\n \n-\tvdev = rq->vdev;\n-\n \tfor (i = 0; i < blks; i++) {\n \t\trq->bufs[i] = kzalloc(VNIC_RQ_BUF_BLK_SZ, GFP_ATOMIC);\n \t\tif (!rq->bufs[i]) {\ndiff --git a/drivers/scsi/fnic/vnic_wq.c b/drivers/scsi/fnic/vnic_wq.c\nindex 74cfc567f657..015af2cdabaf 100644\n--- a/drivers/scsi/fnic/vnic_wq.c\n+++ b/drivers/scsi/fnic/vnic_wq.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2aecc1d38ff26f972d8c825ccc1f5152b79e203"}
{"commit_hash": "5979f33b982dca807ea802b512480bc62f81396a", "short_hash": "5979f33b982d", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T22:22:29+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:19-05:00", "subject": "scsi: hisi_sas: Add debugfs ITCT file and add file operations", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 33, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 11, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change adding debugfs support in SCSI driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 11, "details": "New debugfs feature for driver developers"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review chain, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Adds new debugfs ITCT file for hisi_sas driver debugging", "code_snippet": "@@ -2769,6 +2769,36 @@ static const struct file_operations hisi_sas_debugfs_iost_fops = {\n \t.owner = THIS_MODULE,\n };\n \n+static int hisi_sas_debugfs_itct_show(struct seq_file *s, void *p)\n+{\n+\tint i, ret;\n+\tstruct hisi_hba *hisi_hba = s->private;\n+\tstruct hisi_sas_itct *debugfs_itct = hisi_hba->debugfs_itct;\n+\t__le64 *itct = &debugfs_itct->qw0;\n+\n+\tfor (i = 0; i < HISI_SAS_MAX_ITCT_ENTRIES; i++, debugfs_itct++) {\n+\t\tret = hisi_sas_show_row_64(s, i, sizeof(*debugfs_itct),\n+\t\t\t\t\t   itct);\n+\t\tif (ret)\n+\t\t\treturn ret;\n+\t}\n+\n+\treturn 0;\n+}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5979f33b982dca807ea802b512480bc62f81396a"}
{"commit_hash": "d1548e9c323f51e6d7da4392ec4368cfc5425a78", "short_hash": "d1548e9c323f", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T22:22:36+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: Correct memory allocation size for DQ debugfs", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in SCSI driver (tier 3), single file touched"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix for specific driver, debugfs impact only"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple sign-offs but minimal commit message detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Debugfs memory allocation size correction in hisi_sas driver", "code_snippet": "@@ -2498,7 +2498,7 @@ static void hisi_sas_debugfs_snapshot_cq_reg(struct hisi_hba *hisi_hba)\n \n static void hisi_sas_debugfs_snapshot_dq_reg(struct hisi_hba *hisi_hba)\n {\n-\tint queue_entry_size = hisi_hba->hw->complete_hdr_size;\n+\tint queue_entry_size = sizeof(struct hisi_sas_cmd_hdr);\n \tint i;\n \n \tfor (i = 0; i < hisi_hba->queue_count; i++)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1548e9c323f51e6d7da4392ec4368cfc5425a78"}
{"commit_hash": "b6c9b15e44090aee2a7fba646b06ff166f595b16", "short_hash": "b6c9b15e4409", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T22:22:35+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: Fix losing directly attached disk when hot-plug", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 4, "insertions": 56, "deletions": 9, "hunks": 28, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "4 files, 28 hunks, +56/-9 lines in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting users of specific SAS hardware"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with root cause and test details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Hot-plug disk loss bug fix with timer-based workaround for PHY up timeout", "code_snippet": "@@ -522,6 +525,7 @@ extern void hisi_sas_init_mem(struct hisi_hba *hisi_hba);\n extern void hisi_sas_rst_work_handler(struct work_struct *work);\n extern void hisi_sas_sync_rst_work_handler(struct work_struct *work);\n extern void hisi_sas_kill_tasklets(struct hisi_hba *hisi_hba);\n+extern void hisi_sas_phy_oob_ready(struct hisi_hba *hisi_hba, int phy_no);\n extern bool hisi_sas_notify_phy_event(struct hisi_sas_phy *phy,\n \t\t\t\tenum hisi_sas_phy_event event);\n extern void hisi_sas_release_tasks(struct hisi_hba *hisi_hba);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex e44d2cd69de7..98ea029e5a35 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6c9b15e44090aee2a7fba646b06ff166f595b16"}
{"commit_hash": "ae68b566e0215b0e2ca6f4abf0dbf91e662e44e4", "short_hash": "ae68b566e021", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-25T22:22:33+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: Remove unused parameter of function hisi_sas_alloc()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-file driver cleanup removing unused parameter"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 reviewers, clear message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from HiSilicon, committer from Oracle"}}, "score_justification": "API cleanup removing unused parameter from hisi_sas_alloc", "code_snippet": "@@ -497,7 +497,7 @@ extern bool hisi_sas_debugfs_enable;\n extern struct dentry *hisi_sas_debugfs_dir;\n \n extern void hisi_sas_stop_phys(struct hisi_hba *hisi_hba);\n-extern int hisi_sas_alloc(struct hisi_hba *hisi_hba, struct Scsi_Host *shost);\n+extern int hisi_sas_alloc(struct hisi_hba *hisi_hba);\n extern void hisi_sas_free(struct hisi_hba *hisi_hba);\n extern u8 hisi_sas_get_ata_protocol(struct host_to_dev_fis *fis,\n \t\t\t\tint direction);\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_main.c b/drivers/scsi/hisi_sas/hisi_sas_main.c\nindex b7a370af4c32..86d358aa2732 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_main.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae68b566e0215b0e2ca6f4abf0dbf91e662e44e4"}
{"commit_hash": "eb44e4d7b5a3090f0114927f42ae575c29664a09", "short_hash": "eb44e4d7b5a3", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T22:22:34+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: Reject setting programmed minimum linkrate > 1.5G", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in SCSI driver (1 file, 12 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for hisi_sas driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single logical change, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Rejects invalid min linkrate > 1.5G in hisi_sas driver", "code_snippet": "@@ -955,6 +955,9 @@ static void hisi_sas_phy_set_linkrate(struct hisi_hba *hisi_hba, int phy_no,\n \tstruct asd_sas_phy *sas_phy = &phy->sas_phy;\n \tenum sas_linkrate min, max;\n \n+\tif (r->minimum_linkrate > SAS_LINK_RATE_1_5_GBPS)\n+\t\treturn -EINVAL;\n+\n \tif (r->maximum_linkrate == SAS_LINK_RATE_UNKNOWN) {\n \t\tmax = sas_phy->phy->maximum_linkrate;\n \t\tmin = r->minimum_linkrate;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb44e4d7b5a3090f0114927f42ae575c29664a09"}
{"commit_hash": "ffb1c820b8b6a0466a51c467dcd8c0add77d00a7", "short_hash": "ffb1c820b8b6", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-25T22:22:32+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: remove the check of sas_dev status in hisi_sas_I_T_nexus_reset()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 0, "deletions": 16, "hunks": 16, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 14, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium code removal (16 lines, 16 hunks) in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Error handling fix for SATA device recovery"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with reviewer from different company"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Hisilicon author, Oracle maintainer committed"}}, "score_justification": "Removes unnecessary device status check that prevented SATA device hardreset during error recovery", "code_snippet": "@@ -1639,15 +1637,10 @@ static int hisi_sas_debug_I_T_nexus_reset(struct domain_device *device)\n \n static int hisi_sas_I_T_nexus_reset(struct domain_device *device)\n {\n-\tstruct hisi_sas_device *sas_dev = device->lldd_dev;\n \tstruct hisi_hba *hisi_hba = dev_to_hisi_hba(device);\n \tstruct device *dev = hisi_hba->dev;\n \tint rc = TMF_RESP_FUNC_FAILED;\n \n-\tif (sas_dev->dev_status != HISI_SAS_DEV_EH)\n-\t\treturn TMF_RESP_FUNC_FAILED;\n-\tsas_dev->dev_status = HISI_SAS_DEV_NORMAL;\n-\n \trc = hisi_sas_internal_task_abort(hisi_hba, device,\n \t\t\t\t\tHISI_SAS_INT_ABT_DEV, 0);\n \tif (rc < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ffb1c820b8b6a0466a51c467dcd8c0add77d00a7"}
{"commit_hash": "5c31b0c677531c2b8b4e29b3cfb923df663f39b7", "short_hash": "5c31b0c67753", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-25T22:22:31+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: shutdown axi bus to avoid exception CQ returned", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in SCSI driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting hisi_sas users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Hardware-specific crash fix in hisi_sas driver to prevent resource corruption during fatal AXI interrupts", "code_snippet": "@@ -1646,6 +1646,7 @@ static irqreturn_t fatal_axi_int_v3_hw(int irq_no, void *p)\n \tu32 irq_value, irq_msk;\n \tstruct hisi_hba *hisi_hba = p;\n \tstruct device *dev = hisi_hba->dev;\n+\tstruct pci_dev *pdev = hisi_hba->pci_dev;\n \tint i;\n \n \tirq_msk = hisi_sas_read32(hisi_hba, ENT_INT_SRC_MSK3);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5c31b0c677531c2b8b4e29b3cfb923df663f39b7"}
{"commit_hash": "569eddcf3a0f4efff4ef96a7012010e0f7daa8b4", "short_hash": "569eddcf3a0f", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-25T22:22:30+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-01-29T01:41:20-05:00", "subject": "scsi: hisi_sas: send primitive NOTIFY to SSP situation only", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 5, "insertions": 9, "deletions": 8, "hunks": 16, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change across 5 files in SCSI subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting specific SCSI driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs but minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Hisilicon, committer from Oracle"}}, "score_justification": "Fixes underflow issue in hisi_sas driver by restricting NOTIFY to SSP protocol only", "code_snippet": "@@ -778,7 +778,8 @@ static void hisi_sas_phyup_work(struct work_struct *work)\n \tstruct asd_sas_phy *sas_phy = &phy->sas_phy;\n \tint phy_no = sas_phy->id;\n \n-\thisi_hba->hw->sl_notify(hisi_hba, phy_no); /* This requires a sleep */\n+\tif (phy->identify.target_port_protocols == SAS_PROTOCOL_SSP)\n+\t\thisi_hba->hw->sl_notify_ssp(hisi_hba, phy_no);\n \thisi_sas_bytes_dmaed(hisi_hba, phy_no);\n }\n \ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c\nindex 28ab52a021cf..c8f808faed95 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v1_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/569eddcf3a0f4efff4ef96a7012010e0f7daa8b4"}
{"commit_hash": "b0dd77a796423ad3c609b6708260adca85a0798f", "short_hash": "b0dd77a79642", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T10:12:42+08:00", "committer_name": "Boris Brezillon", "committer_email": "bbrezillon@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-29T15:09:16+01:00", "subject": "mtd: docg3: fix a possible memory leak of mtd->name", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ae9d4934b2d7 (\"mtd: docg3: add multiple floor support\")", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/devices"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Boris Brezillon <bbrezillon@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in tier-4 driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with proper Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Memory leak fix in MTD driver using devm_kasprintf", "code_snippet": "@@ -1767,8 +1767,8 @@ static int __init doc_set_driver_info(int chip_id, struct mtd_info *mtd)\n \n \tswitch (chip_id) {\n \tcase DOC_CHIPID_G3:\n-\t\tmtd->name = kasprintf(GFP_KERNEL, \"docg3.%d\",\n-\t\t\t\t      docg3->device_id);\n+\t\tmtd->name = devm_kasprintf(docg3->dev, GFP_KERNEL, \"docg3.%d\",\n+\t\t\t\t\t   docg3->device_id);\n \t\tif (!mtd->name)\n \t\t\treturn -ENOMEM;\n \t\tdocg3->max_block = 2047;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b0dd77a796423ad3c609b6708260adca85a0798f"}
{"commit_hash": "32937a82f36c7bbe08db4052de94bc7ade4e3c51", "short_hash": "32937a82f36c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T14:58:27+08:00", "committer_name": "Boris Brezillon", "committer_email": "bbrezillon@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-29T15:09:16+01:00", "subject": "mtd: docg3: Fix passing zero to 'PTR_ERR' warning in doc_probe_device", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: ae9d4934b2d7 (\"mtd: docg3: add multiple floor support\")", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/devices"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Boris Brezillon <bbrezillon@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Robert Jarzmik <robert.jarzmik@free.fr> (Free)"], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Fixes error handling bug with regression tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag and reviewer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different author/committer orgs"}}, "score_justification": "Error handling fix for static checker warning in MTD driver", "code_snippet": "@@ -1872,7 +1872,7 @@ doc_probe_device(struct docg3_cascade *cascade, int floor, struct device *dev)\n nomem2:\n \tkfree(docg3);\n nomem1:\n-\treturn ERR_PTR(ret);\n+\treturn ret ? ERR_PTR(ret) : NULL;\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32937a82f36c7bbe08db4052de94bc7ade4e3c51"}
{"commit_hash": "4bc74ba1c7320933ba8d59a42563b722fe539a36", "short_hash": "4bc74ba1c732", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-29T20:39:49+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-01-29T16:43:54+01:00", "subject": "ext2: Fix a typo in comment", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ext2", "subsystems_touched": ["fs/ext2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal typo fix in comment only"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, comment-only change"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic commit format, minimal review needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org maintainer acceptance"}}, "score_justification": "Trivial typo fix (totoal->total) in comment only", "code_snippet": "@@ -717,7 +717,7 @@ static int ext2_get_blocks(struct inode *inode,\n \t/* the number of blocks need to allocate for [d,t]indirect blocks */\n \tindirect_blks = (chain + depth) - partial - 1;\n \t/*\n-\t * Next look up the indirect map to count the totoal number of\n+\t * Next look up the indirect map to count the total number of\n \t * direct blocks to allocate for this branch.\n \t */\n \tcount = ext2_blks_to_allocate(partial, indirect_blks,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bc74ba1c7320933ba8d59a42563b722fe539a36"}
{"commit_hash": "691b9ab6c9676e5868a4787be9041dd990005311", "short_hash": "691b9ab6c967", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-29T15:36:57+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-01-29T18:32:30+01:00", "subject": "x86/mm/tlb: Remove unused cpu variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a2055abe9c67 (\"x86/mm: Pass flush_tlb_info to flush_tlb_others() etc\")", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/mm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Tiny 3-line deletion in critical x86 memory management"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good cleanup with Fixes tag, no testing needed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, SUSE maintainer, multiple Ccs"}}, "score_justification": "Dead variable removal cleanup in x86 TLB code with proper Fixes tag", "code_snippet": "@@ -685,9 +685,6 @@ void native_flush_tlb_others(const struct cpumask *cpumask,\n \t\t * that UV should be updated so that smp_call_function_many(),\n \t\t * etc, are optimal on UV.\n \t\t */\n-\t\tunsigned int cpu;\n-\n-\t\tcpu = smp_processor_id();\n \t\tcpumask = uv_flush_tlb_others(cpumask, info);\n \t\tif (cpumask)\n \t\t\tsmp_call_function_many(cpumask, flush_tlb_func_remote,\n", "flags": ["DEAD_CODE_REMOVAL"], "link": "https://lore.kernel.org/linux-kernel/691b9ab6c9676e5868a4787be9041dd990005311"}
{"commit_hash": "b2fb5cc574695a32361a6c1878816b3d6563aa0f", "short_hash": "b2fb5cc57469", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2018-10-16T18:44:43+08:00", "committer_name": "Bjorn Helgaas", "committer_email": "bhelgaas@google.com", "committer_company": "Google", "commit_date": "2019-01-30T10:57:08-06:00", "subject": "PCI: Rely on config space header type, not class code", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci"], "subsystem_tier": 3, "files_changed": 3, "insertions": 10, "deletions": 14, "hunks": 10, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Bjorn Helgaas <bhelgaas@google.com> (Google)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small changes within PCI subsystem (3 files, 10 hunks, +10/-14 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Correctness fix for PCI device handling, affects PCI device users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with spec references, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Author from Mediatek, maintainer from Google reviewed and modified"}}, "score_justification": "PCI logic fix using correct header type instead of unreliable class code", "code_snippet": "@@ -1186,12 +1186,12 @@ void __pci_bus_size_bridges(struct pci_bus *bus, struct list_head *realloc_head)\n \t\tif (!b)\n \t\t\tcontinue;\n \n-\t\tswitch (dev->class >> 8) {\n-\t\tcase PCI_CLASS_BRIDGE_CARDBUS:\n+\t\tswitch (dev->hdr_type) {\n+\t\tcase PCI_HEADER_TYPE_CARDBUS:\n \t\t\tpci_bus_size_cardbus(b, realloc_head);\n \t\t\tbreak;\n \n-\t\tcase PCI_CLASS_BRIDGE_PCI:\n+\t\tcase PCI_HEADER_TYPE_BRIDGE:\n \t\tdefault:\n \t\t\t__pci_bus_size_bridges(b, realloc_head);\n \t\t\tbreak;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2fb5cc574695a32361a6c1878816b3d6563aa0f"}
{"commit_hash": "7dd50e205b3348dc7784efbdf85723551de64a25", "short_hash": "7dd50e205b33", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-30T18:30:51+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-30T12:03:58+01:00", "subject": "tty: ipwireless: Fix potential NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 099dc4fb6265 (\"ipwireless: driver for PC Card 3G/UMTS modem\")", "cc_stable": false, "subsystem_prefix": "drivers/tty", "subsystems_touched": ["drivers/tty/ipwireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 19, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small NULL pointer check in TTY driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "NULL pointer dereference fix in TTY driver with clear Fixes tag", "code_snippet": "@@ -1516,6 +1516,8 @@ static void ipw_send_setup_packet(struct ipw_hardware *hw)\n \t\t\tsizeof(struct ipw_setup_get_version_query_packet),\n \t\t\tADDR_SETUP_PROT, TL_PROTOCOLID_SETUP,\n \t\t\tTL_SETUP_SIGNO_GET_VERSION_QRY);\n+\tif (!ver_packet)\n+\t\treturn;\n \tver_packet->header.length = sizeof(struct tl_setup_get_version_qry);\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7dd50e205b3348dc7784efbdf85723551de64a25"}
{"commit_hash": "eed9535f9f716a532ec0c5d6cc7a48584acdf435", "short_hash": "eed9535f9f71", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: fix an issue for hclgevf_ae_get_hdev", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for specific NIC driver"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "container_of logic fix for RoCE vs NIC handle in Hisilicon driver", "code_snippet": "@@ -86,7 +86,12 @@ static const u32 tqp_intr_reg_addr_list[] = {HCLGEVF_TQP_INTR_CTRL_REG,\n static inline struct hclgevf_dev *hclgevf_ae_get_hdev(\n \tstruct hnae3_handle *handle)\n {\n-\treturn container_of(handle, struct hclgevf_dev, nic);\n+\tif (!handle->client)\n+\t\treturn container_of(handle, struct hclgevf_dev, nic);\n+\telse if (handle->client->type == HNAE3_CLIENT_ROCE)\n+\t\treturn container_of(handle, struct hclgevf_dev, roce);\n+\telse\n+\t\treturn container_of(handle, struct hclgevf_dev, nic);\n }\n \n static int hclgevf_tqps_update_stats(struct hnae3_handle *handle)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eed9535f9f716a532ec0c5d6cc7a48584acdf435"}
{"commit_hash": "9fc55413270fffe1b5ebdea03489d763c62c0305", "short_hash": "9fc55413270f", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: fix improper error handling in the hclge_init_ae_dev()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 288475b2ad01 (\"{topost} net: hns3: refine umv space allocation\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 2 lines changed in ethernet driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Error path fix with Fixes tag, affects specific NIC users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Fixes tag, explains error handling issue clearly"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer from different org"}}, "score_justification": "Error handling fix in NIC driver resource cleanup path", "code_snippet": "@@ -7383,7 +7383,7 @@ static int hclge_init_ae_dev(struct hnae3_ae_dev *ae_dev)\n \tret = hclge_init_umv_space(hdev);\n \tif (ret) {\n \t\tdev_err(&pdev->dev, \"umv space init error, ret=%d.\\n\", ret);\n-\t\tgoto err_msi_irq_uninit;\n+\t\tgoto err_mdiobus_unreg;\n \t}\n \n \tret = hclge_mac_init(hdev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9fc55413270fffe1b5ebdea03489d763c62c0305"}
{"commit_hash": "472d7ecee20e8fea18e6223cc1d383b6c3483502", "short_hash": "472d7ecee20e", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: fix for rss result nonuniform", "primary_category": "BUG-PERF-REG", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 26, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 17, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 17, "details": "Performance improvement for RSS affecting network users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, adequate explanation, single change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer merged"}}, "score_justification": "RSS hash algorithm and key change for better distribution uniformity", "code_snippet": "@@ -3673,9 +3684,10 @@ static void hclge_rss_init_cfg(struct hclge_dev *hdev)\n \t\tvport[i].rss_tuple_sets.ipv6_fragment_en =\n \t\t\tHCLGE_RSS_INPUT_TUPLE_OTHER;\n \n-\t\tvport[i].rss_algo = HCLGE_RSS_HASH_ALGO_TOEPLITZ;\n+\t\tvport[i].rss_algo = rss_algo;\n \n-\t\tnetdev_rss_key_fill(vport[i].rss_hash_key, HCLGE_RSS_KEY_SIZE);\n+\t\tmemcpy(vport[i].rss_hash_key, hclge_hash_key,\n+\t\t       HCLGE_RSS_KEY_SIZE);\n \t}\n \n \thclge_rss_indir_init_cfg(hdev);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\nindex fc99a0c70164..93f306f42cf4 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/472d7ecee20e8fea18e6223cc1d383b6c3483502"}
{"commit_hash": "e215278548f9ea412e2be794efa1c84c6817c657", "short_hash": "e215278548f9", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: fix netif_napi_del() not do problem when unloading", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 76ad4f0ee747 (\"net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 20, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear explanation with Fixes tag, some review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Resource leak fix: netif_napi_del() skipped on unmap_ring_from_vector() error during unload/reset", "code_snippet": "@@ -3196,15 +3196,10 @@ static int hns3_nic_uninit_vector_data(struct hns3_nic_priv *priv)\n \t\tif (!tqp_vector->rx_group.ring && !tqp_vector->tx_group.ring)\n \t\t\tcontinue;\n \n-\t\tret = hns3_get_vector_ring_chain(tqp_vector,\n-\t\t\t\t\t\t &vector_ring_chain);\n-\t\tif (ret)\n-\t\t\treturn ret;\n+\t\thns3_get_vector_ring_chain(tqp_vector, &vector_ring_chain);\n \n-\t\tret = h->ae_algo->ops->unmap_ring_from_vector(h,\n+\t\th->ae_algo->ops->unmap_ring_from_vector(h,\n \t\t\ttqp_vector->vector_irq, &vector_ring_chain);\n-\t\tif (ret)\n-\t\t\treturn ret;\n \n \t\thns3_free_vector_ring_chain(tqp_vector, &vector_ring_chain);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e215278548f9ea412e2be794efa1c84c6817c657"}
{"commit_hash": "c8a8045b2d0a974149d65bbe6a7acbcde93cf85b", "short_hash": "c8a8045b2d0a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: Fix NULL deref when unloading driver", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: 256727da7395 (\"net: hns3: Add MDIO support to HNS3 Ethernet driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 5, "insertions": 40, "deletions": 22, "hunks": 24, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 12, "score_impact": 20, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver with 5 files, 24 hunks"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix affecting driver users, has Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed crash trace and explanation, no testing tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer David S. Miller committed"}}, "score_justification": "NULL pointer crash fix in hns3 driver with detailed crash analysis", "code_snippet": "@@ -464,6 +464,8 @@ struct hnae3_ae_ops {\n \tint (*set_gro_en)(struct hnae3_handle *handle, int enable);\n \tu16 (*get_global_queue_id)(struct hnae3_handle *handle, u16 queue_id);\n \tvoid (*set_timer_task)(struct hnae3_handle *handle, bool enable);\n+\tint (*mac_connect_phy)(struct hnae3_handle *handle);\n+\tvoid (*mac_disconnect_phy)(struct hnae3_handle *handle);\n };\n \n struct hnae3_dcb_ops {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 6520e1c1a837..ac9b0aa258ec 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8a8045b2d0a974149d65bbe6a7acbcde93cf85b"}
{"commit_hash": "de67a690cc27024c22328ce8ff3a2ed32f30fe7d", "short_hash": "de67a690cc27", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: only support tc 0 for VF", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 28, "deletions": 16, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in network driver across 3 files with 10 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple reviewers, clear explanation, no explicit testing"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Single organization, maintainer committed change"}}, "score_justification": "Driver functional change limiting VF to single TC for simplicity", "code_snippet": "@@ -93,13 +93,11 @@ static int hclge_dcb_common_validate(struct hclge_dev *hdev, u8 num_tc,\n \t\t}\n \t}\n \n-\tfor (i = 0; i < hdev->num_alloc_vport; i++) {\n-\t\tif (num_tc > hdev->vport[i].alloc_tqps) {\n-\t\t\tdev_err(&hdev->pdev->dev,\n-\t\t\t\t\"allocated tqp(%u) checking failed, %u > tqp(%u)\\n\",\n-\t\t\t\ti, num_tc, hdev->vport[i].alloc_tqps);\n-\t\t\treturn -EINVAL;\n-\t\t}\n+\tif (num_tc > hdev->vport[0].alloc_tqps) {\n+\t\tdev_err(&hdev->pdev->dev,\n+\t\t\t\"allocated tqp checking failed, %u > tqp(%u)\\n\",\n+\t\t\tnum_tc, hdev->vport[0].alloc_tqps);\n+\t\treturn -EINVAL;\n \t}\n \n \treturn 0;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de67a690cc27024c22328ce8ff3a2ed32f30fe7d"}
{"commit_hash": "74354140a579008fd164241e3697d9c37e5b8989", "short_hash": "74354140a579", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: change hnae3_register_ae_dev() to int", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 16, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver with 10 hunks across 3 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource handling fix for specific network driver, no stable tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Two Signed-off-by tags, clear explanation of error path handling"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netfilter maintainer David S. Miller committed"}}, "score_justification": "Error handling improvement in network driver registration, changes void return to int for proper error propagation", "code_snippet": "@@ -238,7 +238,7 @@ EXPORT_SYMBOL(hnae3_unregister_ae_algo);\n  * @ae_dev: the AE device\n  * NOTE: the duplicated name will not be checked\n  */\n-void hnae3_register_ae_dev(struct hnae3_ae_dev *ae_dev)\n+int hnae3_register_ae_dev(struct hnae3_ae_dev *ae_dev)\n {\n \tconst struct pci_device_id *id;\n \tstruct hnae3_ae_algo *ae_algo;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/74354140a579008fd164241e3697d9c37e5b8989"}
{"commit_hash": "fc0c174f4223b7340999e1b3004dbc3b3b9b06de", "short_hash": "fc0c174f4223", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: use the correct interface to stop|open port", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 5668abda0931 (\"net: hns3: add support for set_ringparam\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer merge"}}, "score_justification": "Regression fix replacing dev_close/dev_open with direct ndo_stop/ndo_open calls", "code_snippet": "@@ -805,7 +805,7 @@ static int hns3_set_ringparam(struct net_device *ndev,\n \t\t    old_desc_num, new_desc_num);\n \n \tif (if_running)\n-\t\tdev_close(ndev);\n+\t\tndev->netdev_ops->ndo_stop(ndev);\n \n \tret = hns3_uninit_all_ring(priv);\n \tif (ret)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fc0c174f4223b7340999e1b3004dbc3b3b9b06de"}
{"commit_hash": "8e1445a653c9f9a51fca6f80b8df82b523e1c4ba", "short_hash": "8e1445a653c9", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: fix VF dump register issue", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1600c3e5f23e (\"net: hns3: Support \"ethtool -d\" for HNS3 VF driver\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1115,6 +1115,8 @@ static const struct ethtool_ops hns3vf_ethtool_ops = {\n \t.get_channels = hns3_get_channels,\n \t.get_coalesce = hns3_get_coalesce,\n \t.set_coalesce = hns3_set_coalesce,\n+\t.get_regs_len = hns3_get_regs_len,\n+\t.get_regs = hns3_get_regs,\n \t.get_link = hns3_get_link,\n };\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8e1445a653c9f9a51fca6f80b8df82b523e1c4ba"}
{"commit_hash": "1a6e552df33c0dca4fecd0a179833d1b5233012a", "short_hash": "1a6e552df33c", "author_name": "liyongxin", "author_email": "liyongxin1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:03-08:00", "subject": "net: hns3: reuse the definition of l3 and l4 header info union", "primary_category": "MAINT-DUP", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 6, "deletions": 27, "hunks": 10, "review_chain": {"signed_off_by": ["liyongxin <liyongxin1@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 10, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small deduplication refactor in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code quality improvement with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation but no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer from different org"}}, "score_justification": "Deduplication commit removing redundant union definitions in hns3 driver", "code_snippet": "@@ -655,11 +655,7 @@ static int hns3_set_tso(struct sk_buff *skb, u32 *paylen,\n static int hns3_get_l4_protocol(struct sk_buff *skb, u8 *ol4_proto,\n \t\t\t\tu8 *il4_proto)\n {\n-\tunion {\n-\t\tstruct iphdr *v4;\n-\t\tstruct ipv6hdr *v6;\n-\t\tunsigned char *hdr;\n-\t} l3;\n+\tunion l3_hdr_info l3;\n \tunsigned char *l4_hdr;\n \tunsigned char *exthdr;\n \tu8 l4_proto_tmp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a6e552df33c0dca4fecd0a179833d1b5233012a"}
{"commit_hash": "9abeb7d8cf8719bf221bf371f97fbf0971657be3", "short_hash": "9abeb7d8cf87", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:04-08:00", "subject": "net: hns3: keep flow director state unchanged when reset", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 6871af29b3ab (\"net: hns3: Add reset handle for flow director\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 2, "insertions": 7, "deletions": 5, "hunks": 14, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver with 14 hunks"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "Regression fix for hns3 driver flow director state persistence across resets", "code_snippet": "@@ -5170,7 +5172,7 @@ static void hclge_enable_fd(struct hnae3_handle *handle, bool enable)\n \tstruct hclge_vport *vport = hclge_get_vport(handle);\n \tstruct hclge_dev *hdev = vport->back;\n \n-\thdev->fd_cfg.fd_en = enable;\n+\thdev->fd_en = enable;\n \tif (!enable)\n \t\thclge_del_all_fd_entries(handle, false);\n \telse\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex 2c413c63c6c9..c939f4a7f5f0 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9abeb7d8cf8719bf221bf371f97fbf0971657be3"}
{"commit_hash": "c59a85c07e77a7669e5b4d2ffa878b6894ec3953", "short_hash": "c59a85c07e77", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T04:55:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-01-30T14:50:04-08:00", "subject": "net: hns3: stop sending keep alive msg to PF when VF is resetting", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: a6d818e31d08 (\"net: hns3: Add vport alive state checking support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in specific network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix for VF-PF communication with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple Signed-off-by, clear explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Prevents VF mailbox communication during reset state, fixing potential crash/hang", "code_snippet": "@@ -1624,6 +1624,10 @@ static void hclgevf_keep_alive_task(struct work_struct *work)\n \tint ret;\n \n \thdev = container_of(work, struct hclgevf_dev, keep_alive_task);\n+\n+\tif (test_bit(HCLGEVF_STATE_RST_HANDLING, &hdev->state))\n+\t\treturn;\n+\n \tret = hclgevf_send_mbx_msg(hdev, HCLGE_MBX_KEEP_ALIVE, 0, NULL,\n \t\t\t\t   0, false, &respmsg, sizeof(u8));\n \tif (ret)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c59a85c07e77a7669e5b4d2ffa878b6894ec3953"}
{"commit_hash": "d8501cc85069f161466016a140e71ea88ee83376", "short_hash": "d8501cc85069", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-17T03:39:18-02:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-31T09:24:05-02:00", "subject": "media: dt-bindings: media: add 'assigned-clocks' to vcodec examples", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["Documentation/devicetree/bindings/media"], "subsystem_tier": 4, "files_changed": 1, "insertions": 13, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Qianqian Yan <qianqian.yan@mediatek.com> (MediaTek)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 6, "score_impact": 9, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small documentation change in DT bindings"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 9, "details": "Documentation update for MT8173 vcodec"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain, adequate message"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "DT binding documentation update adding assigned-clocks examples", "code_snippet": "@@ -66,6 +66,15 @@ vcodec_dec: vcodec@16000000 {\n                   \"vencpll\",\n                   \"venc_lt_sel\",\n                   \"vdec_bus_clk_src\";\n+    assigned-clocks = <&topckgen CLK_TOP_VENC_LT_SEL>,\n+                      <&topckgen CLK_TOP_CCI400_SEL>,\n+                      <&topckgen CLK_TOP_VDEC_SEL>,\n+                      <&apmixedsys CLK_APMIXED_VCODECPLL>,\n+                      <&apmixedsys CLK_APMIXED_VENCPLL>;\n+    assigned-clock-parents = <&topckgen CLK_TOP_VCODECPLL_370P5>,\n+                             <&topckgen CLK_TOP_UNIVPLL_D2>,\n+                             <&topckgen CLK_TOP_VCODECPLL>;\n+    assigned-clock-rates = <0>, <0>, <0>, <1482000000>, <800000000>;\n   };\n \n   vcodec_enc: vcodec@18002000 {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d8501cc85069f161466016a140e71ea88ee83376"}
{"commit_hash": "04bde67410bfff52958298e831fc5c7db04abe2d", "short_hash": "04bde67410bf", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-17T03:39:20-02:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-01-31T09:24:54-02:00", "subject": "media: mtk-vcodec: Using common interface to manage vdec/venc clock", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/platform/mtk-vcodec", "subsystems_touched": ["drivers/media/platform/mtk-vcodec"], "subsystem_tier": 4, "files_changed": 3, "insertions": 132, "deletions": 166, "hunks": 16, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Qianqian Yan <qianqian.yan@mediatek.com> (MediaTek)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in driver subsystem with 3 files, 16 hunks, 132 insertions, 166 deletions"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration affecting MediaTek vcodec driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with rationale, 2 reviewers, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org (Samsung)"}}, "score_justification": "", "code_snippet": "@@ -27,11 +27,14 @@ int mtk_vcodec_init_dec_pm(struct mtk_vcodec_dev *mtkdev)\n \tstruct device_node *node;\n \tstruct platform_device *pdev;\n \tstruct mtk_vcodec_pm *pm;\n-\tint ret = 0;\n+\tstruct mtk_vcodec_clk *dec_clk;\n+\tstruct mtk_vcodec_clk_info *clk_info;\n+\tint i = 0, ret = 0;\n \n \tpdev = mtkdev->plat_dev;\n \tpm = &mtkdev->pm;\n \tpm->mtkdev = mtkdev;\n+\tdec_clk = &pm->vdec_clk;\n \tnode = of_parse_phandle(pdev->dev.of_node, \"mediatek,larb\", 0);\n \tif (!node) {\n \t\tmtk_v4l2_err(\"of_parse_phandle mediatek,larb fail!\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04bde67410bfff52958298e831fc5c7db04abe2d"}
{"commit_hash": "cf2d65ec1d21f986bc128697aff5f52fef1ff12a", "short_hash": "cf2d65ec1d21", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T01:56:31Z", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-01-31T10:55:05Z", "subject": "perf: xgene: Remove set but not used variable 'config'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "perf", "subsystems_touched": ["drivers/perf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in perf driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean commit with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution from Huawei to Arm maintainer"}}, "score_justification": "Cross-org warning fix removing unused variable in perf driver", "code_snippet": "@@ -1057,7 +1057,6 @@ static void xgene_perf_start(struct perf_event *event, int flags)\n static void xgene_perf_stop(struct perf_event *event, int flags)\n {\n \tstruct hw_perf_event *hw = &event->hw;\n-\tu64 config;\n \n \tif (hw->state & PERF_HES_UPTODATE)\n \t\treturn;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf2d65ec1d21f986bc128697aff5f52fef1ff12a"}
{"commit_hash": "da91ddfdc7212e6e716be55a5cf2305ce84a422f", "short_hash": "da91ddfdc721", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-31T15:19:21Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-01-31T15:41:07-07:00", "subject": "RDMA/hns: Remove set but not used variable 'rst'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in infiniband driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with compiler warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (huawei -> mellanox), maintainer commit"}}, "score_justification": "Compiler warning fix removing unused variable in RDMA driver", "code_snippet": "@@ -4381,7 +4381,7 @@ static int hns_roce_v2_destroy_qp(struct ib_qp *ibqp)\n static int hns_roce_v2_qp_flow_control_init(struct hns_roce_dev *hr_dev,\n \t\t\t\t\t\tstruct hns_roce_qp *hr_qp)\n {\n-\tstruct hns_roce_sccc_clr_done *rst, *resp;\n+\tstruct hns_roce_sccc_clr_done *resp;\n \tstruct hns_roce_sccc_clr *clr;\n \tstruct hns_roce_cmq_desc desc;\n \tint ret, i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da91ddfdc7212e6e716be55a5cf2305ce84a422f"}
{"commit_hash": "1a392b3de7c5747506b38fc14b2e79977d3c7770", "short_hash": "1a392b3de7c5", "author_name": "Liu Jian", "author_email": "liujian56@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T06:45:37+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-31T16:36:36+01:00", "subject": "driver: uio: fix possible memory leak in __uio_register_device", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a93e7b331568 (\"uio: Prevent device destruction while fds are open\")", "cc_stable": false, "subsystem_prefix": "drivers/uio", "subsystems_touched": ["drivers/uio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Jian <liujian56@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Hamish Martin <hamish.martin@alliedtelesis.co.nz> (Co)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 4-line change in single driver file"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Cross-company review, clear message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "Memory leak fix in UIO driver with proper error path cleanup", "code_snippet": "@@ -940,8 +940,10 @@ int __uio_register_device(struct module *owner,\n \tatomic_set(&idev->event, 0);\n \n \tret = uio_get_minor(idev);\n-\tif (ret)\n+\tif (ret) {\n+\t\tkfree(idev);\n \t\treturn ret;\n+\t}\n \n \tidev->dev.devt = MKDEV(uio_major, idev->minor);\n \tidev->dev.class = &uio_class;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a392b3de7c5747506b38fc14b2e79977d3c7770"}
{"commit_hash": "221a1f4ac12d2ab46246c160b2e00d1b1160d5d9", "short_hash": "221a1f4ac12d", "author_name": "Liu Jian", "author_email": "liujian56@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T06:45:38+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-01-31T16:36:52+01:00", "subject": "driver: uio: fix possible use-after-free in __uio_register_device", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: a93e7b331568 (\"uio: Prevent device destruction while fds are open\")", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/uio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Liu Jian <liujian56@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Hamish Martin <hamish.martin@alliedtelesis.co.nz> (Co)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Use-after-free fix for UIO driver"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by tag with clear Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Use-after-free fix in UIO driver error path with proper review", "code_snippet": "@@ -955,7 +956,7 @@ int __uio_register_device(struct module *owner,\n \tif (ret)\n \t\tgoto err_device_create;\n \n-\tret = device_register(&idev->dev);\n+\tret = device_add(&idev->dev);\n \tif (ret)\n \t\tgoto err_device_create;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/221a1f4ac12d2ab46246c160b2e00d1b1160d5d9"}
{"commit_hash": "722f761084bd1e1a26ba096b48ba8c09048413a1", "short_hash": "722f761084bd", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T05:44:17Z", "committer_name": "Florian Fainelli", "committer_email": "f.fainelli@gmail.com", "committer_company": "Gmail", "commit_date": "2019-01-31T21:05:58-08:00", "subject": "soc: bcm: bcm2835-pm: Make local symbol static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 670c672608a1 (\"soc: bcm: bcm2835-pm: Add support for power domains under a new binding.\")", "cc_stable": false, "subsystem_prefix": "soc", "subsystems_touched": ["drivers/soc/bcm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Scott Branden <scott.branden@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line change in SoC driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by tag, clear Fixes reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom/Gmail committer"}}, "score_justification": "Sparse warning fix adding static keyword to SoC driver symbol", "code_snippet": "@@ -553,7 +553,7 @@ static int bcm2835_reset_status(struct reset_controller_dev *rcdev,\n \t}\n }\n \n-const struct reset_control_ops bcm2835_reset_ops = {\n+static const struct reset_control_ops bcm2835_reset_ops = {\n \t.reset = bcm2835_reset_reset,\n \t.status = bcm2835_reset_status,\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/722f761084bd1e1a26ba096b48ba8c09048413a1"}
{"commit_hash": "999eb686aa909c4609ae336979327bcf3d876462", "short_hash": "999eb686aa90", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-18T11:32:15+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-01T14:25:41+02:00", "subject": "wireless: remove unneeded semicolon", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 5, "insertions": 7, "deletions": 7, "hunks": 14, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ping-Ke Shih <pkshih@realtek.com> (Realtek)", "Steve deRosier <derosier@cal-sierra.com> (Cal-sierra)", "Arend van Spriel <arend.vanspriel@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1986,7 +1986,7 @@ static inline const char *ath10k_wmi_phymode_str(enum wmi_phy_mode mode)\n \t\t/* no default handler to allow compiler to check that the\n \t\t * enum is fully handled\n \t\t */\n-\t};\n+\t}\n \n \treturn \"<unknown>\";\n }\ndiff --git a/drivers/net/wireless/ath/ath6kl/init.c b/drivers/net/wireless/ath/ath6kl/init.c\nindex 54132af70094..aa1c71a76ef7 100644\n--- a/drivers/net/wireless/ath/ath6kl/init.c\n+++ b/drivers/net/wireless/ath/ath6kl/init.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/999eb686aa909c4609ae336979327bcf3d876462"}
{"commit_hash": "7e33d4d48974e06745514a68c8b1670e5006a4dd", "short_hash": "7e33d4d48974", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-21T07:57:00Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-02-01T14:42:03+08:00", "subject": "crypto: seqiv - Use kmemdup in seqiv_aead_encrypt()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 8, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical crypto subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic acceptance by maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company acceptance"}}, "score_justification": "Simple refactoring using kmemdup instead of kmalloc+memcpy in crypto driver", "code_snippet": "@@ -89,13 +89,12 @@ static int seqiv_aead_encrypt(struct aead_request *req)\n \n \tif (unlikely(!IS_ALIGNED((unsigned long)info,\n \t\t\t\t crypto_aead_alignmask(geniv) + 1))) {\n-\t\tinfo = kmalloc(ivsize, req->base.flags &\n-\t\t\t\t       CRYPTO_TFM_REQ_MAY_SLEEP ? GFP_KERNEL:\n-\t\t\t\t\t\t\t\t  GFP_ATOMIC);\n+\t\tinfo = kmemdup(req->iv, ivsize, req->base.flags &\n+\t\t\t       CRYPTO_TFM_REQ_MAY_SLEEP ? GFP_KERNEL :\n+\t\t\t       GFP_ATOMIC);\n \t\tif (!info)\n \t\t\treturn -ENOMEM;\n \n-\t\tmemcpy(info, req->iv, ivsize);\n \t\tcompl = seqiv_aead_encrypt_complete;\n \t\tdata = req;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7e33d4d48974e06745514a68c8b1670e5006a4dd"}
{"commit_hash": "b04a27ca175d66f3662ad334f538254d560838f9", "short_hash": "b04a27ca175d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T14:55:17+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-02-01T14:42:04+08:00", "subject": "crypto: chelsio - Fix passing zero to 'PTR_ERR' warning in chcr_aead_op", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 2debd3325e55 (\"crypto: chcr - Add AEAD algos.\")", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in critical crypto subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minor user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit by maintainer"}}, "score_justification": "Static checker warning fix in crypto driver - corrects PTR_ERR usage with NULL pointer", "code_snippet": "@@ -3676,9 +3676,9 @@ static int chcr_aead_op(struct aead_request *req,\n \t/* Form a WR from req */\n \tskb = create_wr_fn(req, u_ctx->lldi.rxq_ids[a_ctx(tfm)->rx_qidx], size);\n \n-\tif (IS_ERR(skb) || !skb) {\n+\tif (IS_ERR_OR_NULL(skb)) {\n \t\tchcr_dec_wrcount(cdev);\n-\t\treturn PTR_ERR(skb);\n+\t\treturn PTR_ERR_OR_ZERO(skb);\n \t}\n \n \tskb->dev = u_ctx->lldi.ports[0];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b04a27ca175d66f3662ad334f538254d560838f9"}
{"commit_hash": "e18e9dac9cdc9f4d048115cd4b9b0ff40c190555", "short_hash": "e18e9dac9cdc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T01:57:19Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-01T18:19:56-05:00", "subject": "scsi: csiostor: Remove set but not used variable 'pln'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/csiostor"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Varun Prakash <varun@chelsio.com> (Chelsio)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing unused variable in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Acked-by and clear commit message with warning details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Oracle, acked by Chelsio"}}, "score_justification": "Compiler warning fix removing unused variable in SCSI driver", "code_snippet": "@@ -497,7 +497,6 @@ csio_fcoe_alloc_vnp(struct csio_hw *hw, struct csio_lnode *ln)\n static int\n csio_fcoe_free_vnp(struct csio_hw *hw, struct csio_lnode *ln)\n {\n-\tstruct csio_lnode *pln;\n \tstruct csio_mb  *mbp;\n \tstruct fw_fcoe_vnp_cmd *rsp;\n \tint ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e18e9dac9cdc9f4d048115cd4b9b0ff40c190555"}
{"commit_hash": "49f30235061bf5c5c201c5097061e34510bf110a", "short_hash": "49f30235061b", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-01-25T15:26:32+01:00", "committer_name": "Russell King", "committer_email": "rmk+kernel@armlinux.org.uk", "committer_company": "Org", "commit_date": "2019-02-01T21:44:45Z", "subject": "ARM: 8831/1: NOMMU: pmsa-v8: remove unneeded semicolon", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Vladimir Murzin <vladimir.murzin@arm.com> (ARM)", "Russell King <rmk+kernel@armlinux.org.uk> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Vladimir Murzin <vladimir.murzin@arm.com> (ARM)"], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal change removing duplicate semicolons"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Trivial cleanup with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic review chain for trivial fix"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "No cross-org collaboration value for trivial"}}, "score_justification": "Removes duplicate semicolons in ARM PMSA-v8 memory management code", "code_snippet": "@@ -165,7 +165,7 @@ static int __init pmsav8_setup_ram(unsigned int number, phys_addr_t start,phys_a\n \t\treturn -EINVAL;\n \n \tbar = start;\n-\tlar = (end - 1) & ~(PMSAv8_MINALIGN - 1);;\n+\tlar = (end - 1) & ~(PMSAv8_MINALIGN - 1);\n \n \tbar |= PMSAv8_AP_PL1RW_PL0RW | PMSAv8_RGN_SHARED;\n \tlar |= PMSAv8_LAR_IDX(PMSAv8_RGN_NORMAL) | PMSAv8_LAR_EN;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49f30235061bf5c5c201c5097061e34510bf110a"}
{"commit_hash": "f9f07091b43e3a758bd197eb99ef5f011efce7fc", "short_hash": "f9f07091b43e", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: optimize the maximum TC macro", "primary_category": "MAINT-NAMING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 6, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small rename across 3 files in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Naming optimization with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Macro rename HCLGE_TC_NUM to HCLGE_MAX_TC_NUM across driver files", "code_snippet": "@@ -312,16 +312,16 @@ struct hclge_ctrl_vector_chain_cmd {\n \tu8 rsv;\n };\n \n-#define HCLGE_TC_NUM\t\t8\n+#define HCLGE_MAX_TC_NUM\t\t8\n #define HCLGE_TC0_PRI_BUF_EN_B\t15 /* Bit 15 indicate enable or not */\n #define HCLGE_BUF_UNIT_S\t7  /* Buf size is united by 128 bytes */\n struct hclge_tx_buff_alloc_cmd {\n-\t__le16 tx_pkt_buff[HCLGE_TC_NUM];\n+\t__le16 tx_pkt_buff[HCLGE_MAX_TC_NUM];\n \tu8 tx_buff_rsv[8];\n };\n \n struct hclge_rx_priv_buff_cmd {\n-\t__le16 buf_num[HCLGE_TC_NUM];\n+\t__le16 buf_num[HCLGE_MAX_TC_NUM];\n \t__le16 shared_buf;\n \tu8 rsv[6];\n };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f9f07091b43e3a758bd197eb99ef5f011efce7fc"}
{"commit_hash": "9194d18b0577a63f313a6eb2e0d4723add2c32e6", "short_hash": "9194d18b0577", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:33+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: fix the problem that the supported port is empty", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e2cb1dec9779 (\"net: hns3: Add HNS3 VF HCL(Hardware Compatibility Layer) Support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 5, "insertions": 77, "deletions": 4, "hunks": 30, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 16, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 5 files in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with clear user impact for VF device info"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and clear explanation, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by net maintainer"}}, "score_justification": "Fixes missing VF link mode info display in ethtool", "code_snippet": "@@ -60,7 +62,7 @@ enum hclge_mbx_vlan_cfg_subcode {\n };\n \n #define HCLGE_MBX_MAX_MSG_SIZE\t16\n-#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t8\n+#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t16\n #define HCLGE_MBX_RING_MAP_BASIC_MSG_NUM\t3\n #define HCLGE_MBX_RING_NODE_VARIABLE_NUM\t3\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c\nindex 6afb0a4b73f7..7e4a104582d6 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9194d18b0577a63f313a6eb2e0d4723add2c32e6"}
{"commit_hash": "b6b4f987c5c4fe488f3f68460b9addc08482b164", "short_hash": "b6b4f987c5c4", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: fix a wrong checking in the hclge_tx_buffer_calc()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9ffe79a9c2ee (\"net: hns3: Support for dynamically assigning tx buffer to TC\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in NIC driver (tier 3 subsystem)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting Hisilicon NIC users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good Fixes tag, clear explanation, single change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Logic bug regression in NIC driver TX buffer allocation for TCs", "code_snippet": "@@ -1506,13 +1506,14 @@ static int hclge_tx_buffer_calc(struct hclge_dev *hdev,\n \tfor (i = 0; i < HCLGE_MAX_TC_NUM; i++) {\n \t\tstruct hclge_priv_buf *priv = &buf_alloc->priv_buf[i];\n \n-\t\tif (total_size < hdev->tx_buf_size)\n-\t\t\treturn -ENOMEM;\n+\t\tif (hdev->hw_tc_map & BIT(i)) {\n+\t\t\tif (total_size < hdev->tx_buf_size)\n+\t\t\t\treturn -ENOMEM;\n \n-\t\tif (hdev->hw_tc_map & BIT(i))\n \t\t\tpriv->tx_buf_size = hdev->tx_buf_size;\n-\t\telse\n+\t\t} else {\n \t\t\tpriv->tx_buf_size = 0;\n+\t\t}\n \n \t\ttotal_size -= priv->tx_buf_size;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6b4f987c5c4fe488f3f68460b9addc08482b164"}
{"commit_hash": "3a586422a5533a6c78376a779860f48ed72b9d83", "short_hash": "3a586422a553", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-02T22:39:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: move some set_bit statement into hclge_prepare_mac_addr", "primary_category": "MAINT-DUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3/hns3pf", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 13, "hunks": 10, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactoring in networking driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code deduplication with no user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, basic explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, netdev maintainer commit"}}, "score_justification": "Code deduplication refactor moving set_bit calls into helper function", "code_snippet": "@@ -5586,13 +5586,19 @@ static bool hclge_is_all_function_id_zero(struct hclge_desc *desc)\n }\n \n static void hclge_prepare_mac_addr(struct hclge_mac_vlan_tbl_entry_cmd *new_req,\n-\t\t\t\t   const u8 *addr)\n+\t\t\t\t   const u8 *addr, bool is_mc)\n {\n \tconst unsigned char *mac_addr = addr;\n \tu32 high_val = mac_addr[2] << 16 | (mac_addr[3] << 24) |\n \t\t       (mac_addr[0]) | (mac_addr[1] << 8);\n \tu32 low_val  = mac_addr[4] | (mac_addr[5] << 8);\n \n+\thnae3_set_bit(new_req->flags, HCLGE_MAC_VLAN_BIT0_EN_B, 1);\n+\tif (is_mc) {\n+\t\thnae3_set_bit(new_req->entry_type, HCLGE_MAC_VLAN_BIT1_EN_B, 1);\n+\t\thnae3_set_bit(new_req->mc_mac_en, HCLGE_MAC_VLAN_BIT0_EN_B, 1);\n+\t}\n+\n \tnew_req->mac_addr_hi32 = cpu_to_le32(high_val);\n \tnew_req->mac_addr_lo16 = cpu_to_le16(low_val & 0xffff);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a586422a5533a6c78376a779860f48ed72b9d83"}
{"commit_hash": "b671b723e0d235b516dc33c163e6296df9b4f0ca", "short_hash": "b671b723e0d2", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-02T22:39:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: add hclge_cmd_check_retval() to parse comman's return value", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 33, "deletions": 27, "hunks": 8, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 10, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-sized refactoring in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting HNS3 driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, clear explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Hisilicon author, kernel.org maintainer committed"}}, "score_justification": "Code refactoring extracting function for better maintainability in HNS3 driver", "code_snippet": "@@ -186,6 +186,38 @@ static bool hclge_is_special_opcode(u16 opcode)\n \treturn false;\n }\n \n+static int hclge_cmd_check_retval(struct hclge_hw *hw, struct hclge_desc *desc,\n+\t\t\t\t  int num, int ntc)\n+{\n+\tu16 opcode, desc_ret;\n+\tint handle;\n+\tint retval;\n+\n+\topcode = le16_to_cpu(desc[0].opcode);\n+\tfor (handle = 0; handle < num; handle++) {\n+\t\tdesc[handle] = hw->cmq.csq.desc[ntc];\n+\t\tntc++;\n+\t\tif (ntc == hw->cmq.csq.desc_num)\n+\t\t\tntc = 0;\n+\t}\n+\tif (likely(!hclge_is_special_opcode(opcode)))\n+\t\tdesc_ret = le16_to_cpu(desc[num - 1].retval);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b671b723e0d235b516dc33c163e6296df9b4f0ca"}
{"commit_hash": "8ca754b13f3c3b99d946665385b3b76e66aab96d", "short_hash": "8ca754b13f3c", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: code optimization for hclge_rx_buffer_calc", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 63, "deletions": 77, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 10, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in network driver with 8 hunks across 1 file"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, good message explaining refactor"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer applied"}}, "score_justification": "Refactor extracting buffer calc logic into separate functions for readability", "code_snippet": "@@ -1520,66 +1520,15 @@ static int hclge_tx_buffer_calc(struct hclge_dev *hdev,\n \treturn 0;\n }\n \n-/* hclge_rx_buffer_calc: calculate the rx private buffer size for all TCs\n- * @hdev: pointer to struct hclge_dev\n- * @buf_alloc: pointer to buffer calculation data\n- * @return: 0: calculate sucessful, negative: fail\n- */\n-static int hclge_rx_buffer_calc(struct hclge_dev *hdev,\n-\t\t\t\tstruct hclge_pkt_buf_alloc *buf_alloc)\n+static bool hclge_rx_buf_calc_all(struct hclge_dev *hdev, bool max,\n+\t\t\t\t  struct hclge_pkt_buf_alloc *buf_alloc)\n {\n-\tu32 rx_all = hdev->pkt_buf_size, aligned_mps;\n-\tint no_pfc_priv_num, pfc_priv_num;\n-\tstruct hclge_priv_buf *priv;\n+\tu32 rx_all = hdev->pkt_buf_size - hclge_get_tx_buff_alloced(buf_alloc);\n+\tu32 aligned_mps = round_up(hdev->mps, HCLGE_BUF_SIZE_UNIT);\n \tint i;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ca754b13f3c3b99d946665385b3b76e66aab96d"}
{"commit_hash": "1731be4c73bb4d5bbfb4b15aaab3f183ccba6fe6", "short_hash": "1731be4c73bb", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: Modify parameter type from int to bool in set_gro_en", "primary_category": "MAINT-NAMING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 12, "deletions": 20, "hunks": 10, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change (4 files, 10 hunks, +12/-20 lines) in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Type change fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean message, self-committed, no testing evidence"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Type change from int to bool in driver function signature", "code_snippet": "@@ -461,7 +461,7 @@ struct hnae3_ae_ops {\n \tbool (*get_hw_reset_stat)(struct hnae3_handle *handle);\n \tbool (*ae_dev_resetting)(struct hnae3_handle *handle);\n \tunsigned long (*ae_dev_reset_cnt)(struct hnae3_handle *handle);\n-\tint (*set_gro_en)(struct hnae3_handle *handle, int enable);\n+\tint (*set_gro_en)(struct hnae3_handle *handle, bool enable);\n \tu16 (*get_global_queue_id)(struct hnae3_handle *handle, u16 queue_id);\n \tvoid (*set_timer_task)(struct hnae3_handle *handle, bool enable);\n \tint (*mac_connect_phy)(struct hnae3_handle *handle);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex bc571b3d8ddc..db06d36d408f 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1731be4c73bb4d5bbfb4b15aaab3f183ccba6fe6"}
{"commit_hash": "6241e71e7207102ffc733991f7a00f74098d7da0", "short_hash": "6241e71e7207", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: fix an issue for hns3_update_new_int_gl", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a95e1f8666e9 (\"net: hns3: change the time interval of int_gl calculating\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix with hardware-specific impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear Fixes tag but minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Incorrect check prevented adaptive interrupt moderation from updating when rx/tx-usecs is 0", "code_snippet": "@@ -2777,7 +2777,7 @@ static bool hns3_get_new_int_gl(struct hns3_enet_ring_group *ring_group)\n \tu32 time_passed_ms;\n \tu16 new_int_gl;\n \n-\tif (!ring_group->coal.int_gl || !tqp_vector->last_jiffies)\n+\tif (!tqp_vector->last_jiffies)\n \t\treturn false;\n \n \tif (ring_group->total_packets == 0) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6241e71e7207102ffc733991f7a00f74098d7da0"}
{"commit_hash": "9e50dc11b856f19908559bafe1a3eca0ddc632b2", "short_hash": "9e50dc11b856", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:08-08:00", "subject": "net: hns3: fix a code style issue for hns3_update_new_int_gl()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 8, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup for specific driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic message with two signoffs"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All from same company, maintainer commit"}}, "score_justification": "Code style cleanup changing &tqp_vector->tx_group to tx_group pointer", "code_snippet": "@@ -2880,7 +2880,7 @@ static void hns3_update_new_int_gl(struct hns3_enet_tqp_vector *tqp_vector)\n \t}\n \n \tif (tx_group->coal.gl_adapt_enable) {\n-\t\ttx_update = hns3_get_new_int_gl(&tqp_vector->tx_group);\n+\t\ttx_update = hns3_get_new_int_gl(tx_group);\n \t\tif (tx_update)\n \t\t\thns3_set_vector_coalesce_tx_gl(tqp_vector,\n \t\t\t\t\t\t       tx_group->coal.int_gl);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e50dc11b856f19908559bafe1a3eca0ddc632b2"}
{"commit_hash": "54a395b63e470696884fc12629b12e24d9379111", "short_hash": "54a395b63e47", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:09-08:00", "subject": "net: hns3: MAC table entry count function increases operation 0 value protection measures", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for specific driver"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer"}}, "score_justification": "Adds bounds checking to prevent underflow/overflow in MAC table counter management", "code_snippet": "@@ -5830,9 +5830,12 @@ static void hclge_update_umv_space(struct hclge_vport *vport, bool is_free)\n \tif (is_free) {\n \t\tif (vport->used_umv_num > hdev->priv_umv_size)\n \t\t\thdev->share_umv_size++;\n-\t\tvport->used_umv_num--;\n+\n+\t\tif (vport->used_umv_num > 0)\n+\t\t\tvport->used_umv_num--;\n \t} else {\n-\t\tif (vport->used_umv_num >= hdev->priv_umv_size)\n+\t\tif (vport->used_umv_num >= hdev->priv_umv_size &&\n+\t\t    hdev->share_umv_size > 0)\n \t\t\thdev->share_umv_size--;\n \t\tvport->used_umv_num++;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54a395b63e470696884fc12629b12e24d9379111"}
{"commit_hash": "6104ca87e12a5119d3e53e926bb6fe468bb328e2", "short_hash": "6104ca87e12a", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:09-08:00", "subject": "net: hns3: modify the upper limit judgment condition", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small targeted change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bounds check hardening for NIC driver users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "3 signers from Huawei, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Bounds check hardening in Hisilicon NIC driver to prevent variable anomaly", "code_snippet": "@@ -197,7 +197,7 @@ static int hclge_cmd_check_retval(struct hclge_hw *hw, struct hclge_desc *desc,\n \tfor (handle = 0; handle < num; handle++) {\n \t\tdesc[handle] = hw->cmq.csq.desc[ntc];\n \t\tntc++;\n-\t\tif (ntc == hw->cmq.csq.desc_num)\n+\t\tif (ntc >= hw->cmq.csq.desc_num)\n \t\t\tntc = 0;\n \t}\n \tif (likely(!hclge_is_special_opcode(opcode)))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6104ca87e12a5119d3e53e926bb6fe468bb328e2"}
{"commit_hash": "77af09c6780b1394a1e888a6862d49cadc0247fa", "short_hash": "77af09c6780b", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-02-02T22:39:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-02T08:24:09-08:00", "subject": "net: hns3: don't allow user to change vlan filter state", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-COMPAT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 1-file change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for Hisilicon network driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Prevents VLAN filter state change bug causing packet drops", "code_snippet": "@@ -1929,8 +1929,7 @@ static void hns3_set_default_feature(struct net_device *netdev)\n \t\tNETIF_F_GSO_UDP_TUNNEL_CSUM | NETIF_F_SCTP_CRC;\n \n \tif (pdev->revision >= 0x21) {\n-\t\tnetdev->hw_features |= NETIF_F_HW_VLAN_CTAG_FILTER |\n-\t\t\tNETIF_F_GRO_HW;\n+\t\tnetdev->hw_features |= NETIF_F_GRO_HW;\n \t\tnetdev->features |= NETIF_F_GRO_HW;\n \n \t\tif (!(h->flags & HNAE3_SUPPORT_VF)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77af09c6780b1394a1e888a6862d49cadc0247fa"}
{"commit_hash": "425da20a98e0ab6ba6b37ff00ab50519d7dd7740", "short_hash": "425da20a98e0", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-30T14:47:11+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-02T15:58:43Z", "subject": "ASoC: mediatek: add documents for btcvsd driver", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/devicetree/bindings", "subsystems_touched": ["Documentation/devicetree/bindings/sound"], "subsystem_tier": 5, "files_changed": 1, "insertions": 24, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding doc, 1 file, 2 hunks, 24 lines added"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "New DT binding enables MediaTek BT audio driver support"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain, minimal message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer committer"}}, "score_justification": "New devicetree binding documentation for MediaTek BT SCO audio driver", "code_snippet": "@@ -0,0 +1,24 @@\n+Mediatek ALSA BT SCO CVSD/MSBC Driver\n+\n+Required properties:\n+- compatible = \"mediatek,mtk-btcvsd-snd\";\n+- reg: register location and size of PKV and SRAM_BANK2\n+- interrupts: should contain BTSCO interrupt\n+- mediatek,infracfg: the phandles of INFRASYS\n+- mediatek,offset: Array contains of register offset and mask\n+    infra_misc_offset,\n+    infra_conn_bt_cvsd_mask,\n+    cvsd_mcu_read_offset,\n+    cvsd_mcu_write_offset,\n+    cvsd_packet_indicator_offset\n+\n+Example:\n+\n+\tmtk-btcvsd-snd@18000000 {\n+\t\tcompatible = \"mediatek,mtk-btcvsd-snd\";\n+\t\treg=<0 0x18000000 0 0x1000>,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/425da20a98e0ab6ba6b37ff00ab50519d7dd7740"}
{"commit_hash": "4bd8597dc36c376a2bb1ef2c72984615bdeb68de", "short_hash": "4bd8597dc36c", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-30T14:47:10+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-02T15:59:27Z", "subject": "ASoC: mediatek: add btcvsd driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 3, "insertions": 1375, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 18, "score_impact": 20, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 18, "details": "New driver with 1375 lines added across 3 files in sound subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "New BT SCO CVSD/MSBC driver for MediaTek platforms, affects BT audio users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with author and maintainer sign-offs, no external review tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author committed by kernel.org maintainer (Mark Brown)"}}, "score_justification": "New driver adding BT SCO CVSD/MSBC support for MediaTek SoCs with 1375 lines", "code_snippet": "@@ -115,3 +115,12 @@ config SND_SOC_MT8183\n \t  that can be used with other codecs.\n \t  Select Y if you have such device.\n \t  If unsure select \"N\".\n+\n+config SND_SOC_MTK_BTCVSD\n+\ttristate \"ALSA BT SCO CVSD/MSBC Driver\"\n+\thelp\n+\t  This is for software BTCVSD. This enable\n+\t  the function for transferring/receiving\n+\t  BT encoded data to/from BT firmware.\n+\t  Select Y if you have such device.\n+\t  If unsure select \"N\".\ndiff --git a/sound/soc/mediatek/common/Makefile b/sound/soc/mediatek/common/Makefile\nindex cdadabc5fd16..9ab90433a8d7 100644\n--- a/sound/soc/mediatek/common/Makefile\n+++ b/sound/soc/mediatek/common/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bd8597dc36c376a2bb1ef2c72984615bdeb68de"}
{"commit_hash": "801da462e88dadad046bd24e0c4fdaa2fb95ee36", "short_hash": "801da462e88d", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2018-08-10T10:40:51+08:00", "committer_name": "Vladimir Zapolskiy", "committer_email": "vz@mleia.com", "committer_company": "Mleia", "commit_date": "2019-02-03T21:40:09+02:00", "subject": "ARM: lpc32xx: Use kmemdup to replace duplicating its implementation", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ARM", "subsystems_touched": ["arch/arm/mach-lpc32xx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Vladimir Zapolskiy <vz@mleia.com> (Mleia)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 10, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in ARM platform-specific code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting LPC32xx platform users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with simple explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "API migration from kmalloc+memcpy to kmemdup in ARM platform code", "code_snippet": "@@ -86,14 +86,11 @@ static int lpc32xx_pm_enter(suspend_state_t state)\n \tvoid *iram_swap_area;\n \n \t/* Allocate some space for temporary IRAM storage */\n-\tiram_swap_area = kmalloc(lpc32xx_sys_suspend_sz, GFP_KERNEL);\n+\tiram_swap_area = kmemdup((void *)TEMP_IRAM_AREA,\n+\t\t\t\t lpc32xx_sys_suspend_sz, GFP_KERNEL);\n \tif (!iram_swap_area)\n \t\treturn -ENOMEM;\n \n-\t/* Backup a small area of IRAM used for the suspend code */\n-\tmemcpy(iram_swap_area, (void *) TEMP_IRAM_AREA,\n-\t\tlpc32xx_sys_suspend_sz);\n-\n \t/*\n \t * Copy code to suspend system into IRAM. The suspend code\n \t * needs to run from IRAM as DRAM may no longer be available\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/801da462e88dadad046bd24e0c4fdaa2fb95ee36"}
{"commit_hash": "938010ab072221f9b396770bbe78001ee3b74302", "short_hash": "938010ab0722", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-26T12:05:38Z", "committer_name": "Oleksandr Andrushchenko", "committer_email": "oleksandr_andrushchenko@epam.com", "committer_company": "Epam", "commit_date": "2019-02-04T08:31:57+02:00", "subject": "drm/xen-front: Drop pointless static qualifier in fb_destroy()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/xen", "subsystems_touched": ["drivers/gpu/drm/xen"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Oleksandr Andrushchenko <oleksandr_andrushchenko@epam.com> (Epam)"], "reviewed_by": ["Oleksandr Andrushchenko <oleksandr_andrushchenko@epam.com> (Epam)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal change in GPU driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed by maintainer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to EPAM maintainer"}}, "score_justification": "Removes unnecessary static qualifier in DRM driver function", "code_snippet": "@@ -54,7 +54,7 @@ fb_create(struct drm_device *dev, struct drm_file *filp,\n \t  const struct drm_mode_fb_cmd2 *mode_cmd)\n {\n \tstruct xen_drm_front_drm_info *drm_info = dev->dev_private;\n-\tstatic struct drm_framebuffer *fb;\n+\tstruct drm_framebuffer *fb;\n \tstruct drm_gem_object *gem_obj;\n \tint ret;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/938010ab072221f9b396770bbe78001ee3b74302"}
{"commit_hash": "ebda52fa1be73952ec603b1fad685ce86ccb5ee6", "short_hash": "ebda52fa1be7", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T10:45:01+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-02-04T10:37:11-08:00", "subject": "raid1: simplify raid1_error function", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1603,11 +1603,9 @@ static void raid1_error(struct mddev *mddev, struct md_rdev *rdev)\n \t\treturn;\n \t}\n \tset_bit(Blocked, &rdev->flags);\n-\tif (test_and_clear_bit(In_sync, &rdev->flags)) {\n+\tif (test_and_clear_bit(In_sync, &rdev->flags))\n \t\tmddev->degraded++;\n-\t\tset_bit(Faulty, &rdev->flags);\n-\t} else\n-\t\tset_bit(Faulty, &rdev->flags);\n+\tset_bit(Faulty, &rdev->flags);\n \tspin_unlock_irqrestore(&conf->device_lock, flags);\n \t/*\n \t * if recovery is running, make sure it aborts.\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/ebda52fa1be73952ec603b1fad685ce86ccb5ee6"}
{"commit_hash": "6032c062723ce5a23eccb7d2bf8c0a2985424f27", "short_hash": "6032c062723c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-11-30T19:24:26+08:00", "committer_name": "Luca Coelho", "committer_email": "luciano.coelho@intel.com", "committer_company": "Intel", "commit_date": "2019-02-04T12:27:19+02:00", "subject": "iwlwifi: mvm: remove duplicated include from ops.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iwlwifi", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Luca Coelho <luciano.coelho@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single duplicate include removed"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic cleanup, minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org submission with maintainer signoff"}}, "score_justification": "Removal of duplicate include statement in iwlwifi driver", "code_snippet": "@@ -82,7 +82,6 @@\n #include \"fw/api/scan.h\"\n #include \"time-event.h\"\n #include \"fw-api.h\"\n-#include \"fw/api/scan.h\"\n #include \"fw/acpi.h\"\n \n #define DRV_DESCRIPTION\t\"The new Intel(R) wireless AGN driver for Linux\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6032c062723ce5a23eccb7d2bf8c0a2985424f27"}
{"commit_hash": "1200e070d6cc5ae4ab702c460b48fefc6668eafa", "short_hash": "1200e070d6cc", "author_name": "Li Yu", "author_email": "liyu65@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-24T12:24:19-08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-04T14:30:50+05:30", "subject": "dmaengine: k3dma: Delete axi_config", "primary_category": "MAINT-DEPR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Li Yu <liyu65@hisilicon.com> (HiSilicon)", "Guodong Xu <guodong.xu@linaro.org> (Linaro)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 9, "score_quality": 11, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in DMA driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 9, "details": "Deprecated feature removal with minor user impact"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with ack and proper signing"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Hisilicon author with Linaro maintainer, cross-org ack"}}, "score_justification": "Removal of AXI config register access from DMA driver; should be set by bootloader", "code_snippet": "@@ -52,8 +52,6 @@\n #define CX_SRC\t\t\t0x814\n #define CX_DST\t\t\t0x818\n #define CX_CFG\t\t\t0x81c\n-#define AXI_CFG\t\t\t0x820\n-#define AXI_CFG_DEFAULT\t\t0x201201\n \n #define CX_LLI_CHAIN_EN\t\t0x2\n #define CX_CFG_EN\t\t0x1", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1200e070d6cc5ae4ab702c460b48fefc6668eafa"}
{"commit_hash": "c4994a98faf2797d8977c0d075222962d71c4112", "short_hash": "c4994a98faf2", "author_name": "Li Yu", "author_email": "liyu65@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-01-24T12:24:20-08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-04T14:30:57+05:30", "subject": "dmaengine: k3dma: Add support for dma-channel-mask", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 3, "files_changed": 1, "insertions": 19, "deletions": 1, "hunks": 10, "review_chain": {"signed_off_by": ["Li Yu <liyu65@hisilicon.com> (HiSilicon)", "John Stultz <john.stultz@linaro.org> (Linaro)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 15, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in DMA driver (19 additions, 1 deletion, 10 hunks)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 15, "details": "Hardware support feature for specific SoC with DMA channel masking"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with context, multiple reviewers, no testing evidence"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org (Hisilicon author, Linaro committer, kernel.org maintainer) with 2 reviewers"}}, "score_justification": "", "code_snippet": "@@ -856,6 +863,13 @@ static int k3_dma_probe(struct platform_device *op)\n \t\t\t\t\"dma-channels\", &d->dma_channels);\n \t\tof_property_read_u32((&op->dev)->of_node,\n \t\t\t\t\"dma-requests\", &d->dma_requests);\n+\t\tret = of_property_read_u32((&op->dev)->of_node,\n+\t\t\t\t\"dma-channel-mask\", &d->dma_channel_mask);\n+\t\tif (ret) {\n+\t\t\tdev_warn(&op->dev,\n+\t\t\t\t \"dma-channel-mask doesn't exist, considering all as available.\\n\");\n+\t\t\td->dma_channel_mask = (u32)~0UL;\n+\t\t}\n \t}\n \n \tif (!(soc_data->flags & K3_FLAG_NOCLK)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c4994a98faf2797d8977c0d075222962d71c4112"}
{"commit_hash": "c3c668e742397dfc107e44c09606cc68b37df30d", "short_hash": "c3c668e74239", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T11:11:04+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-04T15:33:58-07:00", "subject": "RDMA/hns: Make some function static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 2, "insertions": 6, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -5818,7 +5818,7 @@ static int hns_roce_v2_modify_srq(struct ib_srq *ibsrq,\n \treturn 0;\n }\n \n-int hns_roce_v2_query_srq(struct ib_srq *ibsrq, struct ib_srq_attr *attr)\n+static int hns_roce_v2_query_srq(struct ib_srq *ibsrq, struct ib_srq_attr *attr)\n {\n \tstruct hns_roce_dev *hr_dev = to_hr_dev(ibsrq->device);\n \tstruct hns_roce_srq *srq = to_hr_srq(ibsrq);\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_srq.c b/drivers/infiniband/hw/hns/hns_roce_srq.c\nindex 11be2dbf6486..a8ee2f6da967 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_srq.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_srq.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/c3c668e742397dfc107e44c09606cc68b37df30d"}
{"commit_hash": "d3743fa94ccd177917783726faf54632439ddb54", "short_hash": "d3743fa94ccd", "author_name": "Wei Hu (Xavier)", "author_email": "xavier.huwei@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T20:43:15+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-04T16:13:50-07:00", "subject": "RDMA/hns: Fix the chip hanging caused by sending doorbell during reset", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 2d40788825ac (\"RDMA/hns: Add support for processing send wr and receive wr\")", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 3, "insertions": 28, "deletions": 9, "hunks": 30, "review_chain": {"signed_off_by": ["Wei Hu (Xavier) <xavier.huwei@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 22, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in important infiniband driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Chip hang crash fix affecting RDMA users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with Fixes tag and detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Huawei author, Mellanox maintainer"}}, "score_justification": "Chip hang crash fix in Huawei RDMA driver with doorbell protection during reset", "code_snippet": "@@ -768,9 +770,10 @@ static int hns_roce_v2_cmd_sw_resetting(struct hns_roce_dev *hr_dev)\n \tconst struct hnae3_ae_ops *ops = handle->ae_algo->ops;\n \n \t/* When software reset is detected at .init_instance() function, we\n-\t * should stop sending mailbox&cmq to hardware, and exit with\n-\t * error.\n+\t * should stop sending mailbox&cmq&doorbell to hardware, and exit\n+\t * with error.\n \t */\n+\thr_dev->dis_db = true;\n \tif (ops->ae_dev_reset_cnt(handle) != hr_dev->reset_cnt)\n \t\thr_dev->is_reset = true;\n ", "flags": ["HARDWARE_FIX"], "link": "https://lore.kernel.org/linux-kernel/d3743fa94ccd177917783726faf54632439ddb54"}
{"commit_hash": "6a04aed6afaefd5fd396f23da184298135f31e37", "short_hash": "6a04aed6afae", "author_name": "Wei Hu (Xavier)", "author_email": "xavier.huwei@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T20:43:14+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-04T16:13:50-07:00", "subject": "RDMA/hns: Fix the chip hanging caused by sending mailbox&CMQ during reset", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: a04ff739f2a9 (\"RDMA/hns: Add command queue support for hip08 RoCE driver\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 4, "insertions": 167, "deletions": 13, "hunks": 20, "review_chain": {"signed_off_by": ["Wei Hu (Xavier) <xavier.huwei@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 14, "score_impact": 20, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large change (167 insertions, 20 hunks) in RDMA driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with hardware hanging, has Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, cross-company review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer, different orgs"}}, "score_justification": "Hardware hang fix during reset for RDMA driver with comprehensive state handling", "code_snippet": "@@ -176,17 +176,33 @@ int hns_roce_cmd_mbox(struct hns_roce_dev *hr_dev, u64 in_param, u64 out_param,\n \t\t      unsigned long in_modifier, u8 op_modifier, u16 op,\n \t\t      unsigned long timeout)\n {\n-\tif (hr_dev->is_reset)\n-\t\treturn 0;\n+\tint ret;\n+\n+\tif (hr_dev->hw->rst_prc_mbox) {\n+\t\tret = hr_dev->hw->rst_prc_mbox(hr_dev);\n+\t\tif (ret == CMD_RST_PRC_SUCCESS)\n+\t\t\treturn 0;\n+\t\telse if (ret == CMD_RST_PRC_EBUSY)\n+\t\t\treturn -EBUSY;\n+\t}\n \n \tif (hr_dev->cmd.use_events)\n-\t\treturn hns_roce_cmd_mbox_wait(hr_dev, in_param, out_param,\n-\t\t\t\t\t      in_modifier, op_modifier, op,\n-\t\t\t\t\t      timeout);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a04aed6afaefd5fd396f23da184298135f31e37"}
{"commit_hash": "d061effc36f7bd38a12912977a37a50ac9140d11", "short_hash": "d061effc36f7", "author_name": "Wei Hu (Xavier)", "author_email": "xavier.huwei@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T20:43:13+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-04T16:13:50-07:00", "subject": "RDMA/hns: Fix the Oops during rmmod or insmod ko when reset occurs", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: cb7a94c9c808 (\"RDMA/hns: Add reset process for RoCE in hip08\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 3, "insertions": 112, "deletions": 13, "hunks": 22, "review_chain": {"signed_off_by": ["Wei Hu (Xavier) <xavier.huwei@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 14, "score_impact": 20, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "3 files, 22 hunks, +125 lines - substantial state machine refactoring"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with Fixes tag, affects RDMA users on Huawei hardware"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Excellent message with stack trace, 2 sign-offs, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer, cross-org commit"}}, "score_justification": "Race condition crash fix during module load/unload with hardware reset, adding state machine to prevent NULL pointer dereference", "code_snippet": "@@ -217,6 +217,26 @@ enum {\n \tHNS_ROCE_DB_PER_PAGE = PAGE_SIZE / 4\n };\n \n+enum hns_roce_reset_stage {\n+\tHNS_ROCE_STATE_NON_RST,\n+\tHNS_ROCE_STATE_RST_BEF_DOWN,\n+\tHNS_ROCE_STATE_RST_DOWN,\n+\tHNS_ROCE_STATE_RST_UNINIT,\n+\tHNS_ROCE_STATE_RST_INIT,\n+\tHNS_ROCE_STATE_RST_INITED,\n+};\n+\n+enum hns_roce_instance_state {\n+\tHNS_ROCE_STATE_NON_INIT,\n+\tHNS_ROCE_STATE_INIT,\n+\tHNS_ROCE_STATE_INITED,\n+\tHNS_ROCE_STATE_UNINIT,\n+};\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d061effc36f7bd38a12912977a37a50ac9140d11"}
{"commit_hash": "c8b37524d3cdbcf07426529cb83b38b1240cb54d", "short_hash": "c8b37524d3cd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-15T10:06:10Z", "committer_name": "Mimi Zohar", "committer_email": "zohar@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-02-04T17:36:01-05:00", "subject": "evm: remove set but not used variable 'xattr'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 21af76631476 (\"EVM: turn evm_config_xattrnames into a list\")", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security/integrity/evm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in security subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean fix with proper Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, IBM maintainer committed"}}, "score_justification": "Warning fix removing unused variable in EVM security subsystem", "code_snippet": "@@ -563,7 +563,6 @@ static int __init init_evm(void)\n {\n \tint error;\n \tstruct list_head *pos, *q;\n-\tstruct xattr_list *xattr;\n \n \tevm_init_config();\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8b37524d3cdbcf07426529cb83b38b1240cb54d"}
{"commit_hash": "27752647f88a1b03019e03f21f32b60452af7d4b", "short_hash": "27752647f88a", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-28T22:04:26+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-04T21:53:17-05:00", "subject": "scsi: ufs: Print uic error history in time order", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)", "Bean Huo <beanhuo@micron.com> (Micron)"], "tested_by": ["Bean Huo <beanhuo@micron.com> (Micron)"], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -393,15 +393,20 @@ static void ufshcd_print_uic_err_hist(struct ufs_hba *hba,\n \t\tstruct ufs_uic_err_reg_hist *err_hist, char *err_name)\n {\n \tint i;\n+\tbool found = false;\n \n \tfor (i = 0; i < UIC_ERR_REG_HIST_LENGTH; i++) {\n-\t\tint p = (i + err_hist->pos - 1) % UIC_ERR_REG_HIST_LENGTH;\n+\t\tint p = (i + err_hist->pos) % UIC_ERR_REG_HIST_LENGTH;\n \n \t\tif (err_hist->reg[p] == 0)\n \t\t\tcontinue;\n \t\tdev_err(hba->dev, \"%s[%d] = 0x%x at %lld us\\n\", err_name, i,\n \t\t\terr_hist->reg[p], ktime_to_us(err_hist->tstamp[p]));\n+\t\tfound = true;\n \t}\n+\n+\tif (!found)\n+\t\tdev_err(hba->dev, \"No record of %s uic errors\\n\", err_name);\n }", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/27752647f88a1b03019e03f21f32b60452af7d4b"}
{"commit_hash": "c3424f59a0cb994a098c3701bf14617580a18290", "short_hash": "c3424f59a0cb", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-14T10:04:16+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-05T13:27:56-08:00", "subject": "dt-bindings: clock: add clock for MT2712", "primary_category": "FEAT-FUNC", "secondary_categories": ["DT-BINDING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["dt-bindings/clock"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 4, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change in DT binding header (tier 5)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "HW support for MediaTek platform, niche users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by DT maintainer, minimal context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, kernel.org maintainer"}}, "score_justification": "DT binding header update adding clock definition for MediaTek MT2712", "code_snippet": "@@ -228,7 +228,8 @@\n #define CLK_TOP_NFI2X_EN\t\t189\n #define CLK_TOP_NFIECC_EN\t\t190\n #define CLK_TOP_NFI1X_CK_EN\t\t191\n-#define CLK_TOP_NR_CLK\t\t\t192\n+#define CLK_TOP_APLL2_D3\t\t192\n+#define CLK_TOP_NR_CLK\t\t\t193\n \n /* INFRACFG */\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c3424f59a0cb994a098c3701bf14617580a18290"}
{"commit_hash": "51ff86dd1069a9ea52672efb20b89dbaff6dffe1", "short_hash": "51ff86dd1069", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2018-12-14T10:04:17+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-05T13:28:04-08:00", "subject": "clk: mediatek: update clock driver of MT2712", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in standard clock driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support update for specific MediaTek platform"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with dual signoff, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer committer"}}, "score_justification": "Hardware support update adding audio clock parent for MT2712 platform", "code_snippet": "@@ -594,7 +596,8 @@ static const char * const a1sys_hp_parents[] = {\n \t\"apll1_ck\",\n \t\"apll1_d2\",\n \t\"apll1_d4\",\n-\t\"apll1_d8\"\n+\t\"apll1_d8\",\n+\t\"apll1_d3\"\n };\n \n static const char * const a2sys_hp_parents[] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/51ff86dd1069a9ea52672efb20b89dbaff6dffe1"}
{"commit_hash": "70ae5669b5b3f357a5c1d64152508506624a5c5d", "short_hash": "70ae5669b5b3", "author_name": "qii wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-21T15:59:29+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-02-05T14:10:00+01:00", "subject": "dt-bindings: i2c: Add Mediatek MT7629 i2c binding", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/", "subsystems_touched": ["Documentation/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["qii wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -10,6 +10,7 @@ Required properties:\n       \"mediatek,mt6589-i2c\": for MediaTek MT6589\n       \"mediatek,mt7622-i2c\": for MediaTek MT7622\n       \"mediatek,mt7623-i2c\", \"mediatek,mt6577-i2c\": for MediaTek MT7623\n+      \"mediatek,mt7629-i2c\", \"mediatek,mt2712-i2c\": for MediaTek MT7629\n       \"mediatek,mt8173-i2c\": for MediaTek MT8173\n   - reg: physical base address of the controller and dma base, length of memory\n     mapped region.\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/70ae5669b5b3f357a5c1d64152508506624a5c5d"}
{"commit_hash": "93caa0dab77cb4bd6c8efd82042f5a6b73d2b87e", "short_hash": "93caa0dab77c", "author_name": "qii wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-21T15:59:30+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-02-05T14:10:43+01:00", "subject": "i2c: mediatek: speeds is replaced by macros definitions", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["qii wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change replacing magic numbers with macros"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code quality improvement for I2C driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by from different company, clean scope"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, committer from different org"}}, "score_justification": "Magic number replacement with macros in MediaTek I2C driver", "code_snippet": "@@ -456,7 +456,7 @@ static int mtk_i2c_do_transfer(struct mtk_i2c *i2c, struct i2c_msg *msgs,\n \n \tcontrol_reg = readw(i2c->base + OFFSET_CONTROL) &\n \t\t\t~(I2C_CONTROL_DIR_CHANGE | I2C_CONTROL_RS);\n-\tif ((i2c->speed_hz > 400000) || (left_num >= 1))\n+\tif ((i2c->speed_hz > MAX_FS_MODE_SPEED) || (left_num >= 1))\n \t\tcontrol_reg |= I2C_CONTROL_RS;\n \n \tif (i2c->op == I2C_MASTER_WRRD)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/93caa0dab77cb4bd6c8efd82042f5a6b73d2b87e"}
{"commit_hash": "0056a54b335335f0231a80ecf81d03095037437e", "short_hash": "0056a54b3353", "author_name": "qii wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-21T15:59:31+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-02-05T14:11:46+01:00", "subject": "i2c: mediatek: remove completion_done()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["qii wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -642,8 +642,6 @@ static int mtk_i2c_do_transfer(struct mtk_i2c *i2c, struct i2c_msg *msgs,\n \t\treturn -ETIMEDOUT;\n \t}\n \n-\tcompletion_done(&i2c->msg_complete);\n-\n \tif (i2c->irq_stat & (I2C_HS_NACKERR | I2C_ACKERR)) {\n \t\tdev_dbg(i2c->dev, \"addr: %x, transfer ACK error\\n\", msgs->addr);\n \t\tmtk_i2c_init_hw(i2c);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/0056a54b335335f0231a80ecf81d03095037437e"}
{"commit_hash": "eb9aecd90d1a39601e91cd08b90d5fee51d321a6", "short_hash": "eb9aecd90d1a", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:07+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:35-08:00", "subject": "thermal: mediatek: fix register index error", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b7cf0053738c (\"thermal: Add Mediatek thermal driver for mt2701.\")", "cc_stable": false, "subsystem_prefix": "thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with Fixes tag for thermal driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag and explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer different org"}}, "score_justification": "Register index error fix in Mediatek thermal driver with proper Fixes tag", "code_snippet": "@@ -431,7 +431,8 @@ static int mtk_thermal_bank_temperature(struct mtk_thermal_bank *bank)\n \tu32 raw;\n \n \tfor (i = 0; i < conf->bank_data[bank->id].num_sensors; i++) {\n-\t\traw = readl(mt->thermal_base + conf->msr[i]);\n+\t\traw = readl(mt->thermal_base +\n+\t\t\t    conf->msr[conf->bank_data[bank->id].sensors[i]]);\n \n \t\ttemp = raw_to_mcelsius(mt,\n \t\t\t\t       conf->bank_data[bank->id].sensors[i],", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb9aecd90d1a39601e91cd08b90d5fee51d321a6"}
{"commit_hash": "1d0819455e4329a3cf1e257888bd252d0bd15600", "short_hash": "1d0819455e43", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:08+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:44-08:00", "subject": "thermal: mediatek: add common index of vts settings.", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 3, "files_changed": 1, "insertions": 69, "deletions": 24, "hunks": 22, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in thermal driver (93 lines, 22 hunks)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement improving driver flexibility"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message explaining scalability rationale, no tags"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Single company (MediaTek), different committer"}}, "score_justification": "Refactor adds vts_index enum for scalability across MediaTek SoCs", "code_snippet": "@@ -112,17 +112,26 @@\n  * MT2701 has 3 sensors and needs 3 VTS calibration data.\n  * MT2712 has 4 sensors and needs 4 VTS calibration data.\n  */\n-#define MT8173_CALIB_BUF0_VALID\t\tBIT(0)\n-#define MT8173_CALIB_BUF1_ADC_GE(x)\t(((x) >> 22) & 0x3ff)\n-#define MT8173_CALIB_BUF0_VTS_TS1(x)\t(((x) >> 17) & 0x1ff)\n-#define MT8173_CALIB_BUF0_VTS_TS2(x)\t(((x) >> 8) & 0x1ff)\n-#define MT8173_CALIB_BUF1_VTS_TS3(x)\t(((x) >> 0) & 0x1ff)\n-#define MT8173_CALIB_BUF2_VTS_TS4(x)\t(((x) >> 23) & 0x1ff)\n-#define MT8173_CALIB_BUF2_VTS_TSABB(x)\t(((x) >> 14) & 0x1ff)\n-#define MT8173_CALIB_BUF0_DEGC_CALI(x)\t(((x) >> 1) & 0x3f)\n-#define MT8173_CALIB_BUF0_O_SLOPE(x)\t(((x) >> 26) & 0x3f)\n-#define MT8173_CALIB_BUF0_O_SLOPE_SIGN(x)\t(((x) >> 7) & 0x1)\n-#define MT8173_CALIB_BUF1_ID(x)\t(((x) >> 9) & 0x1)\n+#define CALIB_BUF0_VALID\t\tBIT(0)\n+#define CALIB_BUF1_ADC_GE(x)\t\t(((x) >> 22) & 0x3ff)\n+#define CALIB_BUF0_VTS_TS1(x)\t\t(((x) >> 17) & 0x1ff)\n+#define CALIB_BUF0_VTS_TS2(x)\t\t(((x) >> 8) & 0x1ff)\n+#define CALIB_BUF1_VTS_TS3(x)\t\t(((x) >> 0) & 0x1ff)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1d0819455e4329a3cf1e257888bd252d0bd15600"}
{"commit_hash": "f84514766985d39ff546097eb887f896a8cfb855", "short_hash": "f84514766985", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:09+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:45-08:00", "subject": "thermal: mediatek: add calibration item", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 3, "files_changed": 1, "insertions": 18, "deletions": 1, "hunks": 18, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important thermal driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for MediaTek thermal calibration"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic commit message with two Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different organization"}}, "score_justification": "Adds calibration coefficient support to MediaTek thermal driver for different projects", "code_snippet": "@@ -162,12 +168,18 @@ enum {\n /* The number of sensing points per bank */\n #define MT2712_NUM_SENSORS_PER_ZONE\t4\n \n+/* The calibration coefficient of sensor  */\n+#define MT2712_CALIBRATION\t165\n+\n #define MT7622_TEMP_AUXADC_CHANNEL\t11\n #define MT7622_NUM_SENSORS\t\t1\n #define MT7622_NUM_ZONES\t\t1\n #define MT7622_NUM_SENSORS_PER_ZONE\t1\n #define MT7622_TS1\t0\n \n+/* The calibration coefficient of sensor  */\n+#define MT7622_CALIBRATION\t165\n+\n struct mtk_thermal;\n \n struct thermal_bank_cfg {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f84514766985d39ff546097eb887f896a8cfb855"}
{"commit_hash": "bd9403943d7d19ce54ae462762beecb54a751c44", "short_hash": "bd9403943d7d", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:10+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:46-08:00", "subject": "thermal: mediatek: add thermal controller offset", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 4, "files_changed": 1, "insertions": 54, "deletions": 25, "hunks": 38, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in driver subsystem with 38 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different orgs for author and committer"}}, "score_justification": "Functional enhancement adding controller offset support for Mediatek thermal driver to handle >4 sensors", "code_snippet": "@@ -105,6 +105,9 @@\n /* The number of sensing points per bank */\n #define MT8173_NUM_SENSORS_PER_ZONE\t4\n \n+/* The number of controller in the MT8173 */\n+#define MT8173_NUM_CONTROLLER\t\t1\n+\n /* The calibration coefficient of sensor  */\n #define MT8173_CALIBRATION\t165\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd9403943d7d19ce54ae462762beecb54a751c44"}
{"commit_hash": "c0d7c861bd5792bef9de7192359b05099611bb27", "short_hash": "c0d7c861bd57", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:12+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:47-08:00", "subject": "dt-bindings: thermal: add binding document for mt8183 thermal controller", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 3, "score_impact": 10, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "Minimal 1-line addition to DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "New device support for MT8183 SoC"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Two Signed-off-by tags, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org"}}, "score_justification": "Single-line DT binding doc addition for new MT8183 thermal controller support.", "code_snippet": "@@ -13,6 +13,7 @@ Required properties:\n   - \"mediatek,mt2701-thermal\" : For MT2701 family of SoCs\n   - \"mediatek,mt2712-thermal\" : For MT2712 family of SoCs\n   - \"mediatek,mt7622-thermal\" : For MT7622 SoC\n+  - \"mediatek,mt8183-thermal\" : For MT8183 family of SoCs\n - reg: Address range of the thermal controller\n - interrupts: IRQ for the thermal controller\n - clocks, clock-names: Clocks needed for the thermal controller. required\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c0d7c861bd5792bef9de7192359b05099611bb27"}
{"commit_hash": "cb82aaade9d1bf87dadd95534c31304fb4b2ffe8", "short_hash": "cb82aaade9d1", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:11+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-05T17:01:47-08:00", "subject": "thermal: mediatek: add flag for bank selection", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 4, "files_changed": 1, "insertions": 14, "deletions": 6, "hunks": 14, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver subsystem with moderate complexity"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support enhancement for MediaTek thermal driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review chain with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different organizations"}}, "score_justification": "Hardware support enhancement adding bank selection flag for MediaTek thermal controller architecture differences", "code_snippet": "@@ -213,6 +213,7 @@ struct mtk_thermal_data {\n \tconst int cali_val;\n \tconst int num_controller;\n \tconst int *controller_offset;\n+\tbool need_switch_bank;\n \tstruct thermal_bank_cfg bank_data[];\n };\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cb82aaade9d1bf87dadd95534c31304fb4b2ffe8"}
{"commit_hash": "f8b11e089aeb63303daa0c05e4575df7075b1122", "short_hash": "f8b11e089aeb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T02:02:52Z", "committer_name": "Martin Schwidefsky", "committer_email": "schwidefsky@de.ibm.com", "committer_company": "IBM", "commit_date": "2019-02-07T11:57:09+01:00", "subject": "s390: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-INCLUDE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "s390", "subsystems_touched": ["arch/s390/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Heiko Carstens <heiko.carstens@de.ibm.com> (IBM)", "Martin Schwidefsky <schwidefsky@de.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 9, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Single line removal in architecture-specific kernel setup code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Include cleanup with minimal runtime impact on s390 platform"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean removal with maintainer sign-offs, minimal testing needed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author with IBM maintainer review and commit"}}, "score_justification": "Unused include removal in s390 architecture code with proper maintainer chain", "code_snippet": "@@ -49,7 +49,6 @@\n #include <linux/memory.h>\n #include <linux/compat.h>\n #include <linux/start_kernel.h>\n-#include <linux/version.h>\n \n #include <asm/ipl.h>\n #include <asm/facility.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f8b11e089aeb63303daa0c05e4575df7075b1122"}
{"commit_hash": "44a9d1b9a6bb41b5dba3d6d345421385b0843e4d", "short_hash": "44a9d1b9a6bb", "author_name": "liangshengjun", "author_email": "liangshengjun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2018-12-24T02:36:28Z", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-07T13:14:51+02:00", "subject": "usb: gadget: function: sync f_uac1 ac header baInterfaceNr", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/gadget/function"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Liang Shengjun <liangshengjun@hisilicon.com> (HiSilicon)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB gadget subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting USB audio gadget users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with 2 Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, Intel maintainer"}}, "score_justification": "USB audio gadget logic fix syncing interface numbers, cross-org review", "code_snippet": "@@ -568,6 +568,7 @@ static int f_audio_bind(struct usb_configuration *c, struct usb_function *f)\n \t\tgoto fail;\n \tas_out_interface_alt_0_desc.bInterfaceNumber = status;\n \tas_out_interface_alt_1_desc.bInterfaceNumber = status;\n+\tac_header_desc.baInterfaceNr[0] = status;\n \tuac1->as_out_intf = status;\n \tuac1->as_out_alt = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44a9d1b9a6bb41b5dba3d6d345421385b0843e4d"}
{"commit_hash": "b7f456ced7f0e251ba14d8a5a1dd307096bb5306", "short_hash": "b7f456ced7f0", "author_name": "Erin Lo", "author_email": "erin.lo@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-24T16:07:16+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T16:14:00+01:00", "subject": "dt-bindings: arm: Add bindings for Mediatek MT8183 SoC Platform", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 9, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change in DT binding documentation (peripheral tier)"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New hardware platform documentation affecting MT8183 users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by DT maintainer, clear message with proper prefix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (MediaTek author, maintainer committer)"}}, "score_justification": "DT binding documentation adding MT8183 SoC support with proper review", "code_snippet": "@@ -20,6 +20,7 @@ compatible: Must contain one of\n    \"mediatek,mt8127\"\n    \"mediatek,mt8135\"\n    \"mediatek,mt8173\"\n+   \"mediatek,mt8183\"\n \n \n Supported boards:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7f456ced7f0e251ba14d8a5a1dd307096bb5306"}
{"commit_hash": "cd10b9343d1fd092cbf5fc3c2062942618158891", "short_hash": "cd10b9343d1f", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T16:30:13+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T16:34:46+01:00", "subject": "dt-bindings: soc: fix typo of MT8173 power dt-bindings", "primary_category": "TRIV-TYPO", "secondary_categories": ["DT-BINDING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["include/dt-bindings/power"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single file typo fix"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Same org commit"}}, "score_justification": "Fixes incorrect IC name MT8183 to MT8173 in header guard", "code_snippet": "@@ -1,6 +1,6 @@\n /* SPDX-License-Identifier: GPL-2.0 */\n-#ifndef _DT_BINDINGS_POWER_MT8183_POWER_H\n-#define _DT_BINDINGS_POWER_MT8183_POWER_H\n+#ifndef _DT_BINDINGS_POWER_MT8173_POWER_H\n+#define _DT_BINDINGS_POWER_MT8173_POWER_H\n \n #define MT8173_POWER_DOMAIN_VDEC\t0\n #define MT8173_POWER_DOMAIN_VENC\t1", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cd10b9343d1fd092cbf5fc3c2062942618158891"}
{"commit_hash": "f9a4b7f45ff595e33c98d652e852854818fddad7", "short_hash": "f9a4b7f45ff5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-30T11:09:00+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-07T16:54:21+02:00", "subject": "ath10k: snoc: remove set but not used variable 'ar_snoc'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ath10k", "subsystems_touched": ["drivers/net/wireless/ath/ath10k"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": ["Brian Norris <briannorris@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in wireless driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-org review with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Qualcomm maintainer, ChromeOS reviewer"}}, "score_justification": "Compiler warning fix removing unused variable in ath10k wireless driver", "code_snippet": "@@ -875,13 +875,11 @@ static void ath10k_snoc_tx_pipe_cleanup(struct ath10k_snoc_pipe *snoc_pipe)\n {\n \tstruct ath10k_ce_pipe *ce_pipe;\n \tstruct ath10k_ce_ring *ce_ring;\n-\tstruct ath10k_snoc *ar_snoc;\n \tstruct sk_buff *skb;\n \tstruct ath10k *ar;\n \tint i;\n \n \tar = snoc_pipe->hif_ce_state;\n-\tar_snoc = ath10k_snoc_priv(ar);\n \tce_pipe = snoc_pipe->ce_hdl;\n \tce_ring = ce_pipe->src_ring;\n \n", "flags": ["CC_STABLE_MISSING"], "link": "https://lore.kernel.org/linux-kernel/f9a4b7f45ff595e33c98d652e852854818fddad7"}
{"commit_hash": "2663146427cedb9d7582cfa481d5d5611fb3138a", "short_hash": "2663146427ce", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-29T12:28:48+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T17:47:07+01:00", "subject": "Revert \"ARM: mediatek: add MT7623a smp bringup code\"", "primary_category": "BACK-REVERT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-mediatek"], "subsystem_tier": 2, "files_changed": 2, "insertions": 0, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 10, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in ARM architecture subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 6, "details": "Revert removing unused compatible string"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear revert with minimal review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Revert commit removing unused MT7623a compatible string from ARM MediaTek", "code_snippet": "@@ -50,7 +49,6 @@ static const char * const mediatek_board_dt_compat[] = {\n \t\"mediatek,mt6589\",\n \t\"mediatek,mt6592\",\n \t\"mediatek,mt7623\",\n-\t\"mediatek,mt7623a\",\n \t\"mediatek,mt8127\",\n \t\"mediatek,mt8135\",\n \tNULL,\ndiff --git a/arch/arm/mach-mediatek/platsmp.c b/arch/arm/mach-mediatek/platsmp.c\nindex 6882ff07aaa6..51e85562098c 100644\n--- a/arch/arm/mach-mediatek/platsmp.c\n+++ b/arch/arm/mach-mediatek/platsmp.c", "flags": ["BACK-REVERT"], "link": "https://lore.kernel.org/linux-kernel/2663146427cedb9d7582cfa481d5d5611fb3138a"}
{"commit_hash": "dd93f84655777d690bbc4e9f65180fe5e0384734", "short_hash": "dd93f8465577", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-29T12:31:14+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T17:51:27+01:00", "subject": "dt-bindings: arm: mediatek: remove unused \"mediatek, mt7623a\"", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/", "subsystems_touched": ["Documentation/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -15,8 +15,7 @@ compatible: Must contain one of\n    \"mediatek,mt6795\"\n    \"mediatek,mt6797\"\n    \"mediatek,mt7622\"\n-   \"mediatek,mt7623\" which is referred to MT7623N SoC\n-   \"mediatek,mt7623a\"\n+   \"mediatek,mt7623\"\n    \"mediatek,mt8127\"\n    \"mediatek,mt8135\"\n    \"mediatek,mt8173\"\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/dd93f84655777d690bbc4e9f65180fe5e0384734"}
{"commit_hash": "858a6c310f7761314164e3a49c05f25330595d92", "short_hash": "858a6c310f77", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-29T12:31:15+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T17:51:51+01:00", "subject": "dt-bindings: arm: mediatek: add support for MT7622 BPI-R64 and MT7629 RFB", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 9, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT binding doc change in peripheral tier"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New board support documentation"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean binding update with proper format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Mediatek to maintainer"}}, "score_justification": "DT binding documentation adding MT7622 BPI-R64 and MT7629 RFB board compatibles", "code_snippet": "@@ -57,6 +58,9 @@ Supported boards:\n - Reference board variant 1 for MT7622:\n     Required root node properties:\n       - compatible = \"mediatek,mt7622-rfb1\", \"mediatek,mt7622\";\n+- Bananapi BPI-R64 for MT7622:\n+    Required root node properties:\n+      - compatible = \"bananapi,bpi-r64\", \"mediatek,mt7622\";\n - Reference board for MT7623a with eMMC:\n     Required root node properties:\n       - compatible = \"mediatek,mt7623a-rfb-emmc\", \"mediatek,mt7623\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/858a6c310f7761314164e3a49c05f25330595d92"}
{"commit_hash": "a43379dddf1ba14b6a9d50d95175117bbdf52ed2", "short_hash": "a43379dddf1b", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-29T12:31:18+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-07T17:59:16+01:00", "subject": "arm: mediatek: add MT7629 smp bring up code", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-mediatek"], "subsystem_tier": 2, "files_changed": 3, "insertions": 6, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change (3 files, 6 hunks, 6 insertions) in critical ARM architecture code"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MediaTek MT7629 SoC SMP boot"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Imperative subject, basic context, no testing evidence, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (mediatek.com) and committer (gmail.com) from different orgs"}}, "score_justification": "New SMP boot support for MediaTek MT7629 SoC in ARM architecture layer", "code_snippet": "@@ -26,6 +26,10 @@ config MACH_MT7623\n \tbool \"MediaTek MT7623 SoCs support\"\n \tdefault ARCH_MEDIATEK\n \n+config MACH_MT7629\n+\tbool \"MediaTek MT7629 SoCs support\"\n+\tdefault ARCH_MEDIATEK\n+\n config MACH_MT8127\n \tbool \"MediaTek MT8127 SoCs support\"\n \tdefault ARCH_MEDIATEK\ndiff --git a/arch/arm/mach-mediatek/mediatek.c b/arch/arm/mach-mediatek/mediatek.c\nindex c3cf215773b2..b6a81ba1ce32 100644\n--- a/arch/arm/mach-mediatek/mediatek.c\n+++ b/arch/arm/mach-mediatek/mediatek.c", "flags": ["NEW_SOC_SUPPORT"], "link": "https://lore.kernel.org/linux-kernel/a43379dddf1ba14b6a9d50d95175117bbdf52ed2"}
{"commit_hash": "a7325a6ca45f6a53ad8f639b7b69f22961ad3757", "short_hash": "a7325a6ca45f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-05T16:24:54-07:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-08T12:27:36+01:00", "subject": "coresight: stm: Remove set but not used variable 'res_size'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 237483aa5cf4 (\"coresight: stm: adding driver for CoreSight STM component\")", "cc_stable": false, "subsystem_prefix": "coresight", "subsystems_touched": ["drivers/hwtracing/coresight"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": ["Leo Yan <leo.yan@linaro.org> (Linaro)"], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver removing unused variable"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers with good message and testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author with Linaro/Linux Foundation reviewers"}}, "score_justification": "Compiler warning fix removing unused variable in coresight driver", "code_snippet": "@@ -793,7 +793,7 @@ static int stm_probe(struct amba_device *adev, const struct amba_id *id)\n \tstruct stm_drvdata *drvdata;\n \tstruct resource *res = &adev->res;\n \tstruct resource ch_res;\n-\tsize_t res_size, bitmap_size;\n+\tsize_t bitmap_size;\n \tstruct coresight_desc desc = { 0 };\n \tstruct device_node *np = adev->dev.of_node;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7325a6ca45f6a53ad8f639b7b69f22961ad3757"}
{"commit_hash": "60b71a239bbd286232a547349815d6330f10db7c", "short_hash": "60b71a239bbd", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-29T12:31:17+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-08T13:18:04+01:00", "subject": "dt-bindings: interrupt-controller: update bindings for MT7623", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation/", "subsystems_touched": ["Documentation/"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -9,6 +9,7 @@ Required properties:\n \t\"mediatek,mt8135-sysirq\", \"mediatek,mt6577-sysirq\": for MT8135\n \t\"mediatek,mt8127-sysirq\", \"mediatek,mt6577-sysirq\": for MT8127\n \t\"mediatek,mt7622-sysirq\", \"mediatek,mt6577-sysirq\": for MT7622\n+\t\"mediatek,mt7623-sysirq\", \"mediatek,mt6577-sysirq\": for MT7623\n \t\"mediatek,mt6795-sysirq\", \"mediatek,mt6577-sysirq\": for MT6795\n \t\"mediatek,mt6797-sysirq\", \"mediatek,mt6577-sysirq\": for MT6797\n \t\"mediatek,mt6765-sysirq\", \"mediatek,mt6577-sysirq\": for MT6765\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/60b71a239bbd286232a547349815d6330f10db7c"}
{"commit_hash": "78f2ef18e185b09a9d9e5b81d0e39f9a3c698157", "short_hash": "78f2ef18e185", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-30T11:15:26+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-08T17:28:39+02:00", "subject": "rtlwifi: remove set but not used variable 'cmd_seq'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless/realtek/rtlwifi", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ping-Ke Shih <pkshih@realtek.com> (Realtek)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean removal with proper review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org author/maintainer via subsystem tree"}}, "score_justification": "GCC unused variable warning fix in Realtek WiFi driver", "code_snippet": "@@ -2311,11 +2311,10 @@ static void rtl_c2h_content_parsing(struct ieee80211_hw *hw,\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct rtl_hal_ops *hal_ops = rtlpriv->cfg->ops;\n \tconst struct rtl_btc_ops *btc_ops = rtlpriv->btcoexist.btc_ops;\n-\tu8 cmd_id, cmd_seq, cmd_len;\n+\tu8 cmd_id, cmd_len;\n \tu8 *cmd_buf = NULL;\n \n \tcmd_id = GET_C2H_CMD_ID(skb->data);\n-\tcmd_seq = GET_C2H_SEQ(skb->data);\n \tcmd_len = skb->len - C2H_DATA_OFFSET;\n \tcmd_buf = GET_C2H_DATA_PTR(skb->data);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78f2ef18e185b09a9d9e5b81d0e39f9a3c698157"}
{"commit_hash": "b3cce125cb1e2eb2683e1c785fdc409a4148157d", "short_hash": "b3cce125cb1e", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-06T18:52:51+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-08T18:08:21-05:00", "subject": "scsi: hisi_sas: Add support for DIX feature for v3 hw", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 184, "deletions": 32, "hunks": 42, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 16, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "New DIX feature for specific driver"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 1, "subtotal": 9, "details": "Multi-person review, decent message quality"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Hisilicon author, Huawei reviewer, Oracle maintainer"}}, "score_justification": "DIX feature addition to hisi_sas v3 driver with macro precedence cleanup", "code_snippet": "@@ -41,20 +41,25 @@\n #define HISI_SAS_COMMAND_TABLE_SZ (sizeof(union hisi_sas_command_table))\n \n #define hisi_sas_status_buf_addr(buf) \\\n-\t(buf + offsetof(struct hisi_sas_slot_buf_table, status_buffer))\n-#define hisi_sas_status_buf_addr_mem(slot) hisi_sas_status_buf_addr(slot->buf)\n+\t((buf) + offsetof(struct hisi_sas_slot_buf_table, status_buffer))\n+#define hisi_sas_status_buf_addr_mem(slot) hisi_sas_status_buf_addr((slot)->buf)\n #define hisi_sas_status_buf_addr_dma(slot) \\\n-\thisi_sas_status_buf_addr(slot->buf_dma)\n+\thisi_sas_status_buf_addr((slot)->buf_dma)\n \n #define hisi_sas_cmd_hdr_addr(buf) \\\n-\t(buf + offsetof(struct hisi_sas_slot_buf_table, command_header))\n-#define hisi_sas_cmd_hdr_addr_mem(slot) hisi_sas_cmd_hdr_addr(slot->buf)\n-#define hisi_sas_cmd_hdr_addr_dma(slot) hisi_sas_cmd_hdr_addr(slot->buf_dma)\n+\t((buf) + offsetof(struct hisi_sas_slot_buf_table, command_header))\n+#define hisi_sas_cmd_hdr_addr_mem(slot) hisi_sas_cmd_hdr_addr((slot)->buf)\n+#define hisi_sas_cmd_hdr_addr_dma(slot) hisi_sas_cmd_hdr_addr((slot)->buf_dma)\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3cce125cb1e2eb2683e1c785fdc409a4148157d"}
{"commit_hash": "4fefe5bbf599d6c6bee6b2ee376be789b33ca571", "short_hash": "4fefe5bbf599", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-06T18:52:55+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-08T18:08:22-05:00", "subject": "scsi: hisi_sas: Use pci_irq_get_affinity() for v3 hw as experimental", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 4, "insertions": 89, "deletions": 14, "hunks": 32, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver with 4 files and 32 hunks"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization affecting HiSilicon SAS users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with context, 2 reviewers, marked experimental"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Experimental performance optimization adding auto IRQ affinity for HiSilicon SAS v3", "code_snippet": "@@ -526,12 +533,15 @@ static int hisi_sas_task_prep(struct sas_task *task,\n \t}\n \n \tlist_add_tail(&slot->delivery, &dq->list);\n-\tlist_add_tail(&slot->entry, &sas_dev->list);\n \tspin_unlock_irqrestore(&dq->lock, flags);\n+\tspin_lock_irqsave(&sas_dev->lock, flags);\n+\tlist_add_tail(&slot->entry, &sas_dev->list);\n+\tspin_unlock_irqrestore(&sas_dev->lock, flags);\n \n \tdlvry_queue = dq->id;\n \tdlvry_queue_slot = wr_q_index;\n \n+\tslot->device_id = sas_dev->device_id;\n \tslot->n_elem = n_elem;\n \tslot->n_elem_dif = n_elem_dif;\n \tslot->dlvry_queue = dlvry_queue;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fefe5bbf599d6c6bee6b2ee376be789b33ca571"}
{"commit_hash": "1273d65f29045df915ff1448672cca22f7c078e6", "short_hash": "1273d65f2904", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-06T18:52:53+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-08T18:08:22-05:00", "subject": "scsi: hisi_sas: change queue depth from 512 to 4096", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal change in SCSI driver subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for SCSI storage users"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple reviewers from different orgs, decent explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from HiSilicon, committer from Oracle, Huawei reviewer"}}, "score_justification": "Performance tuning to increase queue depth for better multi-disk IO throughput", "code_snippet": "@@ -30,7 +30,7 @@\n \n #define HISI_SAS_MAX_PHYS\t9\n #define HISI_SAS_MAX_QUEUES\t32\n-#define HISI_SAS_QUEUE_SLOTS 512\n+#define HISI_SAS_QUEUE_SLOTS\t4096\n #define HISI_SAS_MAX_ITCT_ENTRIES 1024\n #define HISI_SAS_MAX_DEVICES HISI_SAS_MAX_ITCT_ENTRIES\n #define HISI_SAS_RESET_BIT\t0\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1273d65f29045df915ff1448672cca22f7c078e6"}
{"commit_hash": "7c5e136363919d8dfa27d4bcd4b3ecedfa234997", "short_hash": "7c5e13636391", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T18:52:52+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-08T18:08:22-05:00", "subject": "scsi: hisi_sas: Add manual trigger for debugfs dump", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 34, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small addition to SCSI driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 11, "details": "Debug feature for driver developers"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Moderate review chain with brief message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Debugfs trigger feature for hisi_sas driver, adds manual dump capability", "code_snippet": "@@ -2977,6 +2977,36 @@ static void hisi_sas_debugfs_snapshot_regs(struct hisi_hba *hisi_hba)\n \thisi_hba->hw->snapshot_restore(hisi_hba);\n }\n \n+static ssize_t hisi_sas_debugfs_trigger_dump_write(struct file *file,\n+\t\t\t\t\t\t   const char __user *user_buf,\n+\t\t\t\t\t\t   size_t count, loff_t *ppos)\n+{\n+\tstruct hisi_hba *hisi_hba = file->f_inode->i_private;\n+\tchar buf[8];\n+\n+\t/* A bit racy, but don't care too much since it's only debugfs */\n+\tif (hisi_hba->debugfs_snapshot)\n+\t\treturn -EFAULT;\n+\n+\tif (count > 8)\n+\t\treturn -EFAULT;\n+\n+\tif (copy_from_user(buf, user_buf, count))\n+\t\treturn -EFAULT;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c5e136363919d8dfa27d4bcd4b3ecedfa234997"}
{"commit_hash": "8e71fa5e4d86bedfd26df85381d65d6b4c860020", "short_hash": "8e71fa5e4d86", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-08T19:24:45+01:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-02-08T19:24:45+01:00", "subject": "fbdev: chipsfb: remove set but not used variable 'size'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8c8709334cec (\"[PATCH] ppc32: Remove CONFIG_PMAC_PBOOK\")", "cc_stable": false, "subsystem_prefix": "video", "subsystems_touched": ["drivers/video"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion fixing compiler warning"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 1, "response": 0, "subtotal": 3, "details": "Author @huawei, maintainer @samsung"}}, "score_justification": "Compiler warning fix removing unused variable in fbdev driver", "code_snippet": "@@ -349,7 +349,7 @@ static void init_chips(struct fb_info *p, unsigned long addr)\n static int chipsfb_pci_init(struct pci_dev *dp, const struct pci_device_id *ent)\n {\n \tstruct fb_info *p;\n-\tunsigned long addr, size;\n+\tunsigned long addr;\n \tunsigned short cmd;\n \tint rc = -ENODEV;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e71fa5e4d86bedfd26df85381d65d6b4c860020"}
{"commit_hash": "f40298444e8ca13789dc002ffb269c343aadfb87", "short_hash": "f40298444e8c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-08T19:24:49+01:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-02-08T19:24:49+01:00", "subject": "video: fbdev: Fix potential NULL pointer dereference", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -978,6 +978,8 @@ void fb_edid_to_monspecs(unsigned char *edid, struct fb_monspecs *specs)\n \tget_monspecs(edid, specs);\n \n \tspecs->modedb = fb_create_modedb(edid, &specs->modedb_len, specs);\n+\tif (!specs->modedb)\n+\t\treturn;\n \n \t/*\n \t * Workaround for buggy EDIDs that sets that the first\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/f40298444e8ca13789dc002ffb269c343aadfb87"}
{"commit_hash": "96be65d12d792b3e177505db1225e1ec4f9cf5cd", "short_hash": "96be65d12d79", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T09:18:41Z", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-09T11:33:37+01:00", "subject": "gpio: tqmx86: Drop unnecessary gpiochip_remove in tqmx86_gpio_probe()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: b868db94a6a7 (\"gpio: tqmx86: Add GPIO from for this IO controller\")", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["drivers/gpio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Andrew Lunn <andrew@lunn.ch> (Lunn)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in GPIO driver (tier 4)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration cleanup affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two reviewers, proper Fixes tag, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer, Lunn reviewer"}}, "score_justification": "devm API cleanup removing unnecessary gpiochip_remove call", "code_snippet": "@@ -291,7 +291,7 @@ static int tqmx86_gpio_probe(struct platform_device *pdev)\n \t\t\t\t\t   IRQ_TYPE_EDGE_BOTH);\n \t\tif (ret) {\n \t\t\tdev_err(dev, \"Could not add irq chip\\n\");\n-\t\t\tgoto out_remove;\n+\t\t\tgoto out_pm_dis;\n \t\t}\n \n \t\tgpiochip_set_chained_irqchip(chip, irq_chip,", "flags": ["FIXES_TAG_PRESENT"], "link": "https://lore.kernel.org/linux-kernel/96be65d12d792b3e177505db1225e1ec4f9cf5cd"}
{"commit_hash": "401e7e88d4ef80188ffa07095ac00456f901b8c4", "short_hash": "401e7e88d4ef", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-01-28T11:08:54+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-02-09T19:48:41-06:00", "subject": "ipmi_si: fix use-after-free of resource->name", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 93c303d2045b (\"ipmi_si: Clean up shutdown a bit\")", "cc_stable": true, "subsystem_prefix": "drivers/char/ipmi", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 3, "files_changed": 3, "insertions": 11, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["NuoHan Qiao <qiaonuohan@huawei.com> (Huawei)"]}, "score_total": 54, "score_technical": 10, "score_impact": 24, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small targeted fix across 3 files with 10 hunks"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Use-after-free causing kernel panic, stable backport"}, "quality": {"review_chain": 3, "message_quality": 7, "testing": 2, "atomicity": 2, "subtotal": 14, "details": "Excellent commit with stack trace and detailed analysis"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, MVista maintainer, internal reporter"}}, "score_justification": "Use-after-free race in IPMI driver causing kernel panic on module unload with stable backport", "code_snippet": "@@ -2085,6 +2085,11 @@ static int try_smi_init(struct smi_info *new_smi)\n \tWARN_ON(new_smi->io.dev->init_name != NULL);\n \n  out_err:\n+\tif (rv && new_smi->io.io_cleanup) {\n+\t\tnew_smi->io.io_cleanup(&new_smi->io);\n+\t\tnew_smi->io.io_cleanup = NULL;\n+\t}\n+\n \tkfree(init_name);\n \treturn rv;\n }\ndiff --git a/drivers/char/ipmi/ipmi_si_mem_io.c b/drivers/char/ipmi/ipmi_si_mem_io.c\nindex fd0ec8d6bf0e..75583612ab10 100644\n--- a/drivers/char/ipmi/ipmi_si_mem_io.c\n+++ b/drivers/char/ipmi/ipmi_si_mem_io.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/401e7e88d4ef80188ffa07095ac00456f901b8c4"}
{"commit_hash": "904cdbd41d749a476863a0ca41f6f396774f26e4", "short_hash": "904cdbd41d74", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-10T23:23:04-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-10T23:23:04-05:00", "subject": "jbd2: clear dirty flag when revoking a buffer from an older transaction", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 12, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 61, "score_technical": 12, "score_impact": 26, "score_quality": 18, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical journaling layer"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Data corruption fix affecting all ext4 users"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 18, "details": "Excellent message with detailed analysis and test refs"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, MIT committer, SUSE reviewer"}}, "score_justification": "Data corruption bug in JBD2 transaction handling during truncate, stable backport", "code_snippet": "@@ -1609,14 +1609,21 @@ int jbd2_journal_forget (handle_t *handle, struct buffer_head *bh)\n \t\t/* However, if the buffer is still owned by a prior\n \t\t * (committing) transaction, we can't drop it yet... */\n \t\tJBUFFER_TRACE(jh, \"belongs to older transaction\");\n-\t\t/* ... but we CAN drop it from the new transaction if we\n-\t\t * have also modified it since the original commit. */\n+\t\t/* ... but we CAN drop it from the new transaction through\n+\t\t * marking the buffer as freed and set j_next_transaction to\n+\t\t * the new transaction, so that not only the commit code\n+\t\t * knows it should clear dirty bits when it is done with the\n+\t\t * buffer, but also the buffer can be checkpointed only\n+\t\t * after the new transaction commits. */\n \n-\t\tif (jh->b_next_transaction) {\n-\t\t\tJ_ASSERT(jh->b_next_transaction == transaction);\n+\t\tset_buffer_freed(bh);\n+\n+\t\tif (!jh->b_next_transaction) {\n \t\t\tspin_lock(&journal->j_list_lock);\n-\t\t\tjh->b_next_transaction = NULL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/904cdbd41d749a476863a0ca41f6f396774f26e4"}
{"commit_hash": "597599268e3b91cac71faf48743f4783dec682fc", "short_hash": "597599268e3b", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-10T23:26:06-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-10T23:26:06-05:00", "subject": "jbd2: discard dirty data when forgetting an un-journalled buffer", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 38, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 22, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized change in critical JBD2 filesystem layer"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Data corruption fix affecting all ext4 users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-explained with reviewer from different org"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, MIT maintainer, SUSE reviewer"}}, "score_justification": "Prevents data corruption by discarding dirty buffers during forget in JBD2 layer", "code_snippet": "@@ -1597,9 +1597,7 @@ int jbd2_journal_forget (handle_t *handle, struct buffer_head *bh)\n \t\t\t__jbd2_journal_unfile_buffer(jh);\n \t\t\tif (!buffer_jbd(bh)) {\n \t\t\t\tspin_unlock(&journal->j_list_lock);\n-\t\t\t\tjbd_unlock_bh_state(bh);\n-\t\t\t\t__bforget(bh);\n-\t\t\t\tgoto drop;\n+\t\t\t\tgoto not_jbd;\n \t\t\t}\n \t\t}\n \t\tspin_unlock(&journal->j_list_lock);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/597599268e3b91cac71faf48743f4783dec682fc"}
{"commit_hash": "16e08b14a4550bb167c48e918b26ef0d4980e9d1", "short_hash": "16e08b14a455", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-10T23:32:07-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-10T23:32:07-05:00", "subject": "ext4: cleanup clean_bdev_aliases() calls", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 3, "insertions": 2, "deletions": 21, "hunks": 10, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 8, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "3 files, 10 hunks, net deletion removing obsolete cleanup calls"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup reducing complexity, affects ext4 users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Cross-org review, clear explanation of why removal is safe"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, MIT committer, SUSE reviewer suggestion"}}, "score_justification": "Cleanup removing obsolete buffer alias calls after jbd2 changes, well-reviewed across organizations", "code_snippet": "@@ -4048,18 +4048,8 @@ ext4_ext_handle_unwritten_extents(handle_t *handle, struct inode *inode,\n \t} else\n \t\tallocated = ret;\n \tmap->m_flags |= EXT4_MAP_NEW;\n-\t/*\n-\t * if we allocated more blocks than requested\n-\t * we need to make sure we unmap the extra block\n-\t * allocated. The actual needed block will get\n-\t * unmapped later when we find the buffer_head marked\n-\t * new.\n-\t */\n-\tif (allocated > map->m_len) {\n-\t\tclean_bdev_aliases(inode->i_sb->s_bdev, newblock + map->m_len,\n-\t\t\t\t   allocated - map->m_len);\n+\tif (allocated > map->m_len)\n \t\tallocated = map->m_len;\n-\t}\n \tmap->m_len = allocated;\n \n map_out:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16e08b14a4550bb167c48e918b26ef0d4980e9d1"}
{"commit_hash": "67a11611e1a5211f6569044fbf8150875764d1d0", "short_hash": "67a11611e1a5", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-11T00:02:05-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-11T00:02:05-05:00", "subject": "ext4: fix check of inode in swap_inode_boot_loader", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 13, "deletions": 9, "hunks": 4, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 20, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Race condition fix in ext4 with stable backport"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with clear explanation but minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by MIT maintainer"}}, "score_justification": "Race condition in ext4 boot loader swap - inode validation moved under lock", "code_snippet": "@@ -116,15 +116,6 @@ static long swap_inode_boot_loader(struct super_block *sb,\n \tstruct inode *inode_bl;\n \tstruct ext4_inode_info *ei_bl;\n \n-\tif (inode->i_nlink != 1 || !S_ISREG(inode->i_mode) ||\n-\t    IS_SWAPFILE(inode) || IS_ENCRYPTED(inode) ||\n-\t    ext4_has_inline_data(inode))\n-\t\treturn -EINVAL;\n-\n-\tif (IS_RDONLY(inode) || IS_APPEND(inode) || IS_IMMUTABLE(inode) ||\n-\t    !inode_owner_or_capable(inode) || !capable(CAP_SYS_ADMIN))\n-\t\treturn -EPERM;\n-\n \tinode_bl = ext4_iget(sb, EXT4_BOOT_LOADER_INO, EXT4_IGET_SPECIAL);\n \tif (IS_ERR(inode_bl))\n \t\treturn PTR_ERR(inode_bl);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/67a11611e1a5211f6569044fbf8150875764d1d0"}
{"commit_hash": "a46c68a318b08f819047843abf349aeee5d10ac2", "short_hash": "a46c68a318b0", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-11T00:05:24-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-11T00:05:24-05:00", "subject": "ext4: cleanup pagecache before swap i_data", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 12, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 20, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in critical filesystem subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Race fix with stable backport affecting ext4 users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation of race condition fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer sign-off"}}, "score_justification": "Race condition fix in ext4 swap_inode_boot_loader to prevent new pagecache during i_data swap", "code_snippet": "@@ -141,6 +138,15 @@ static long swap_inode_boot_loader(struct super_block *sb,\n \t\tgoto journal_err_out;\n \t}\n \n+\tdown_write(&EXT4_I(inode)->i_mmap_sem);\n+\terr = filemap_write_and_wait(inode->i_mapping);\n+\tif (err)\n+\t\tgoto err_out;\n+\n+\terr = filemap_write_and_wait(inode_bl->i_mapping);\n+\tif (err)\n+\t\tgoto err_out;\n+\n \t/* Wait for all existing dio workers */\n \tinode_dio_wait(inode);\n \tinode_dio_wait(inode_bl);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a46c68a318b08f819047843abf349aeee5d10ac2"}
{"commit_hash": "aa507b5faf38784defe49f5e64605ac3c4425e26", "short_hash": "aa507b5faf38", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-11T00:14:02-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-11T00:14:02-05:00", "subject": "ext4: update quota information while swapping boot loader inode", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 43, "deletions": 13, "hunks": 8, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 12, "score_impact": 24, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in critical filesystem subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Data corruption fix affecting ext4 users with stable backport"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with adequate message explaining quota issue"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to MIT maintainer"}}, "score_justification": "Quota accounting bug during inode swap could cause data corruption", "code_snippet": "@@ -180,6 +181,13 @@ static long swap_inode_boot_loader(struct super_block *sb,\n \t\t\tmemset(ei_bl->i_data, 0, sizeof(ei_bl->i_data));\n \t}\n \n+\terr = dquot_initialize(inode);\n+\tif (err)\n+\t\tgoto err_out1;\n+\n+\tsize = (qsize_t)(inode->i_blocks) * (1 << 9) + inode->i_bytes;\n+\tsize_bl = (qsize_t)(inode_bl->i_blocks) * (1 << 9) + inode_bl->i_bytes;\n+\tdiff = size - size_bl;\n \tswap_inode_data(inode, inode_bl);\n \n \tinode->i_ctime = inode_bl->i_ctime = current_time(inode);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa507b5faf38784defe49f5e64605ac3c4425e26"}
{"commit_hash": "abdc644e8cbac2e9b19763680e5a7cf9bab2bee7", "short_hash": "abdc644e8cba", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-11T00:35:06-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-11T00:35:06-05:00", "subject": "ext4: add mask of ext4 flags to swap", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 2, "insertions": 8, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 18, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Bug fix with stable backport affecting ext4 users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author + maintainer S-o-b, good message explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by different maintainer"}}, "score_justification": "Flag swap bug fix in ext4 ioctl that could cause confusion with journal data flag", "code_snippet": "@@ -426,6 +426,9 @@ struct flex_groups {\n /* Flags that are appropriate for non-directories/regular files. */\n #define EXT4_OTHER_FLMASK (EXT4_NODUMP_FL | EXT4_NOATIME_FL)\n \n+/* The only flags that should be swapped */\n+#define EXT4_FL_SHOULD_SWAP (EXT4_HUGE_FILE_FL | EXT4_EXTENTS_FL)\n+\n /* Mask out flags that are inappropriate for the given type of inode. */\n static inline __u32 ext4_mask_flags(umode_t mode, __u32 flags)\n {\ndiff --git a/fs/ext4/ioctl.c b/fs/ext4/ioctl.c\nindex eff68358fae7..2e76fb55d94a 100644\n--- a/fs/ext4/ioctl.c\n+++ b/fs/ext4/ioctl.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/abdc644e8cbac2e9b19763680e5a7cf9bab2bee7"}
{"commit_hash": "21698fd57984cd28207d841dbdaa026d6061bceb", "short_hash": "21698fd57984", "author_name": "QiaoChong", "author_email": "qiaochong@loongson.cn", "author_company": "Loongson", "author_date": "2019-02-09T20:59:07Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-11T09:39:02+01:00", "subject": "parport_pc: fix find_superio io compare code, should use equal test.", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 181bf1e815a2 (\"parport_pc: clean up the modified while loops using for\")", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/parport"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["QiaoChong <qiaochong@loongson.cn> (Loongson)", "Sudip Mukherjee <sudipm.mukherjee@gmail.com> (Gmail)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 17, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Single operator fix in parport driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport, affects parport users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear Fixes tag, good explanation of logic error"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Loongson, maintainer committed"}}, "score_justification": "Logic error fix in find_superio() comparing wrong operator, regression from earlier cleanup", "code_snippet": "@@ -1377,7 +1377,7 @@ static struct superio_struct *find_superio(struct parport *p)\n {\n \tint i;\n \tfor (i = 0; i < NR_SUPERIOS; i++)\n-\t\tif (superios[i].io != p->base)\n+\t\tif (superios[i].io == p->base)\n \t\t\treturn &superios[i];\n \treturn NULL;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21698fd57984cd28207d841dbdaa026d6061bceb"}
{"commit_hash": "49ff8cfb1755a6bb7d4f1645f9346962fb4e473e", "short_hash": "49ff8cfb1755", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-11T11:04:41+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-11T16:01:48Z", "subject": "ASoC: mediatek: use %pOFn instead of device_node.name", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 7, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in sound subsystem (4 hunks, 2 insertions, 2 deletions)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 7, "details": "API migration with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean API migration with proper explanation and maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org: Mediatek author, kernel.org maintainer"}}, "score_justification": "API migration from device_node.name to %pOFn format specifier for device tree compatibility", "code_snippet": "@@ -1269,7 +1269,7 @@ static int mtk_btcvsd_snd_probe(struct platform_device *pdev)\n \t/* irq */\n \tirq_id = platform_get_irq(pdev, 0);\n \tif (irq_id <= 0) {\n-\t\tdev_err(dev, \"%s no irq found\\n\", dev->of_node->name);\n+\t\tdev_err(dev, \"%pOFn no irq found\\n\", dev->of_node);\n \t\treturn irq_id < 0 ? irq_id : -ENXIO;\n \t}\n \ndiff --git a/sound/soc/mediatek/mt8183/mt8183-afe-pcm.c b/sound/soc/mediatek/mt8183/mt8183-afe-pcm.c\nindex ff3111ec876c..4e045dd305a7 100644\n--- a/sound/soc/mediatek/mt8183/mt8183-afe-pcm.c\n+++ b/sound/soc/mediatek/mt8183/mt8183-afe-pcm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49ff8cfb1755a6bb7d4f1645f9346962fb4e473e"}
{"commit_hash": "e88db81645d36f945d11bd73ffff31dad148eaf8", "short_hash": "e88db81645d3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T09:09:50-08:00", "committer_name": "Darrick J. Wong", "committer_email": "darrick.wong@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-11T16:07:00-08:00", "subject": "xfs: remove duplicated xfs_defer.h", "primary_category": "TRIV-INCLUDE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "xfs", "subsystems_touched": ["fs/xfs"], "subsystem_tier": 2, "files_changed": 4, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "reviewed_by": ["Darrick J. Wong <darrick.wong@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "4 files, 8 hunks, only 4 lines deleted (duplicate includes)"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, trivial include cleanup"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Reviewed by maintainer, minimal message, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, Oracle maintainer, cross-org review"}}, "score_justification": "Trivial duplicate include removal across 4 XFS files with cross-org review", "code_snippet": "@@ -17,7 +17,6 @@\n #include \"xfs_alloc.h\"\n #include \"xfs_bmap.h\"\n #include \"xfs_inode.h\"\n-#include \"xfs_defer.h\"\n \n /*\n  * This routine is called to allocate a \"bmap update done\"\ndiff --git a/fs/xfs/xfs_trans_extfree.c b/fs/xfs/xfs_trans_extfree.c\nindex 0710434eb240..8ee7a3f8bb20 100644\n--- a/fs/xfs/xfs_trans_extfree.c\n+++ b/fs/xfs/xfs_trans_extfree.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e88db81645d36f945d11bd73ffff31dad148eaf8"}
{"commit_hash": "3dfed89512d3b65f6f092cfaaee53b0698bbf75e", "short_hash": "3dfed89512d3", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-25T01:45:54Z", "committer_name": "Chanwoo Choi", "committer_email": "cw00.choi@samsung.com", "committer_company": "Samsung", "commit_date": "2019-02-11T17:21:38+09:00", "subject": "extcon: ptn5150: Fix return value check in ptn5150_i2c_probe()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Chanwoo Choi <cw00.choi@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -240,14 +240,14 @@ static int ptn5150_i2c_probe(struct i2c_client *i2c,\n \tinfo->dev = &i2c->dev;\n \tinfo->i2c = i2c;\n \tinfo->int_gpiod = devm_gpiod_get(&i2c->dev, \"int\", GPIOD_IN);\n-\tif (!info->int_gpiod) {\n+\tif (IS_ERR(info->int_gpiod)) {\n \t\tdev_err(dev, \"failed to get INT GPIO\\n\");\n-\t\treturn -EINVAL;\n+\t\treturn PTR_ERR(info->int_gpiod);\n \t}\n \tinfo->vbus_gpiod = devm_gpiod_get(&i2c->dev, \"vbus\", GPIOD_IN);\n-\tif (!info->vbus_gpiod) {\n+\tif (IS_ERR(info->vbus_gpiod)) {\n \t\tdev_err(dev, \"failed to get VBUS GPIO\\n\");\n-\t\treturn -EINVAL;\n+\t\treturn PTR_ERR(info->vbus_gpiod);\n \t}\n \tret = gpiod_direction_output(info->vbus_gpiod, 0);\n \tif (ret) {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/3dfed89512d3b65f6f092cfaaee53b0698bbf75e"}
{"commit_hash": "59b9bb0abca9efe47207301dbaf0d1beee2bd0f7", "short_hash": "59b9bb0abca9", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-02-09T19:32:58Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-02-11T20:07:51Z", "subject": "iio:chemical:sps30 Supress some switch fallthrough warnings.", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tomasz Duszynski <tduszyns@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -118,6 +118,7 @@ static int sps30_do_cmd(struct sps30_state *state, u16 cmd, u8 *data, int size)\n \tcase SPS30_READ_AUTO_CLEANING_PERIOD:\n \t\tbuf[0] = SPS30_AUTO_CLEANING_PERIOD >> 8;\n \t\tbuf[1] = (u8)SPS30_AUTO_CLEANING_PERIOD;\n+\t\t/* fall through */\n \tcase SPS30_READ_DATA_READY_FLAG:\n \tcase SPS30_READ_DATA:\n \tcase SPS30_READ_SERIAL:", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/59b9bb0abca9efe47207301dbaf0d1beee2bd0f7"}
{"commit_hash": "e7a44cfd639945a0dec749f896adc1d340c2a6aa", "short_hash": "e7a44cfd6399", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-12T07:58:31Z", "committer_name": "James Morris", "committer_email": "james.morris@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-02-12T10:59:22-08:00", "subject": "LSM: fix return value check in safesetid_init_securityfs()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: aeca4e2ca65c (\"LSM: add SafeSetID module that gates setid calls\")", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security/safesetid"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "James Morris <james.morris@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kees Cook <keescook@chromium.org> (Chromium)"], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical security subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting security module users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Two reviewers, detailed message with context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Microsoft"}}, "score_justification": "Error handling fix in security LSM module init function", "code_snippet": "@@ -167,7 +167,7 @@ static int __init safesetid_init_securityfs(void)\n \t\treturn 0;\n \n \tsafesetid_policy_dir = securityfs_create_dir(\"safesetid\", NULL);\n-\tif (!safesetid_policy_dir) {\n+\tif (IS_ERR(safesetid_policy_dir)) {\n \t\tret = PTR_ERR(safesetid_policy_dir);\n \t\tgoto error;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e7a44cfd639945a0dec749f896adc1d340c2a6aa"}
{"commit_hash": "fde55ea74ce69b1ba2fb108b197f7c3c6b8749e1", "short_hash": "fde55ea74ce6", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-11T19:09:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-12T12:34:19-05:00", "subject": "devlink: use direct return of genlmsg_reply", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 8, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking core"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message quality, single logical change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from maintainer"}}, "score_justification": "Simple code simplification removing redundant check in devlink", "code_snippet": "@@ -4356,11 +4356,8 @@ static int devlink_fmsg_snd(struct devlink_fmsg *fmsg,\n \t\terr = -EMSGSIZE;\n \t\tgoto nla_put_failure;\n \t}\n-\terr = genlmsg_reply(skb, info);\n-\tif (err)\n-\t\treturn err;\n \n-\treturn 0;\n+\treturn genlmsg_reply(skb, info);\n \n nla_put_failure:\n \tnlmsg_free(skb);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fde55ea74ce69b1ba2fb108b197f7c3c6b8749e1"}
{"commit_hash": "fc23af99e47612042964ace44121872158ae834d", "short_hash": "fc23af99e476", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-12T15:18:47+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-12T14:12:59Z", "subject": "ASoC: mediatek: btcvsd fix rx stream assign", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in audio driver - wrong struct field assignment"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix for specific Mediatek audio hardware"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message, minimal review, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer commit"}}, "score_justification": "Typo fix assigning tx->stream instead of rx->stream in rx init function", "code_snippet": "@@ -250,7 +250,7 @@ static int mtk_btcvsd_snd_rx_init(struct mtk_btcvsd_snd *bt)\n \tbt->rx->buf_size = BTCVSD_RX_BUF_SIZE;\n \tbt->rx->timeout = 0;\n \tbt->rx->rw_cnt = 0;\n-\tbt->tx->stream = SNDRV_PCM_STREAM_CAPTURE;\n+\tbt->rx->stream = SNDRV_PCM_STREAM_CAPTURE;\n \treturn 0;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fc23af99e47612042964ace44121872158ae834d"}
{"commit_hash": "c8faabfc6f48009fb0d9ad4203aecfa569e5ff8d", "short_hash": "c8faabfc6f48", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-01-24T16:49:05+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:47:01+02:00", "subject": "tpm: add _head suffix to tcg_efi_specid_event and tcg_pcr_event2", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tpm", "subsystems_touched": ["drivers/char/tpm"], "subsystem_tier": 4, "files_changed": 2, "insertions": 10, "deletions": 14, "hunks": 18, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Nayna Jain <nayna@linux.ibm.com> (IBM)"], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 10, "score_quality": 18, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small refactor in TPM driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API refactoring affecting TPM eventlog users"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 18, "details": "Multi-org review with clear rationale and testing"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Intel maintainer, IBM tester"}}, "score_justification": "Struct rename refactor for variable-length array handling in TPM eventlog", "code_snippet": "@@ -37,10 +37,10 @@\n  *\n  * Returns size of the event. If it is an invalid event, returns 0.\n  */\n-static int calc_tpm2_event_size(struct tcg_pcr_event2 *event,\n+static int calc_tpm2_event_size(struct tcg_pcr_event2_head *event,\n \t\t\t\tstruct tcg_pcr_event *event_header)\n {\n-\tstruct tcg_efi_specid_event *efispecid;\n+\tstruct tcg_efi_specid_event_head *efispecid;\n \tstruct tcg_event_field *event_field;\n \tvoid *marker;\n \tvoid *marker_start;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8faabfc6f48009fb0d9ad4203aecfa569e5ff8d"}
{"commit_hash": "bcfff8384f6c4e6627676ef07ccad9cfacd67849", "short_hash": "bcfff8384f6c", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:47+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:50+02:00", "subject": "tpm: dynamically allocate the allocated_banks array", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tpm", "subsystems_touched": ["drivers/char/tpm"], "subsystem_tier": 4, "files_changed": 5, "insertions": 44, "deletions": 19, "hunks": 20, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 14, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in TPM driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement affecting TPM users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Well-documented with tested-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org from Huawei to Intel"}}, "score_justification": "Dynamic allocation of PCR banks array in TPM driver, well-tested refactor", "code_snippet": "@@ -266,6 +266,7 @@ static void tpm_dev_release(struct device *dev)\n \tkfree(chip->log.bios_event_log);\n \tkfree(chip->work_space.context_buf);\n \tkfree(chip->work_space.session_buf);\n+\tkfree(chip->allocated_banks);\n \tkfree(chip);\n }\n \ndiff --git a/drivers/char/tpm/tpm-interface.c b/drivers/char/tpm/tpm-interface.c\nindex 498809bf1bf0..2b31eff06b0e 100644\n--- a/drivers/char/tpm/tpm-interface.c\n+++ b/drivers/char/tpm/tpm-interface.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bcfff8384f6c4e6627676ef07ccad9cfacd67849"}
{"commit_hash": "240730437deb213a58915830884e1a99045624dc", "short_hash": "240730437deb", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:51+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:51+02:00", "subject": "KEYS: trusted: explicitly use tpm_chip structure from tpm_default_chip()", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security/keys"], "subsystem_tier": 2, "files_changed": 1, "insertions": 24, "deletions": 14, "hunks": 24, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 14, "score_impact": 15, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "Medium change in critical security subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "API migration for TPM crypto agility support"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 15, "details": "Well-reviewed with tested-by from maintainer"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org commit (Huawei/Intel) with maintainer review"}}, "score_justification": "API migration preparing for TPM crypto agility, well-reviewed cross-org commit", "code_snippet": "@@ -1021,13 +1022,13 @@ static int trusted_instantiate(struct key *key,\n \t\tbreak;\n \tcase Opt_new:\n \t\tkey_len = payload->key_len;\n-\t\tret = tpm_get_random(NULL, payload->key, key_len);\n+\t\tret = tpm_get_random(chip, payload->key, key_len);\n \t\tif (ret != key_len) {\n \t\t\tpr_info(\"trusted_key: key_create failed (%d)\\n\", ret);\n \t\t\tgoto out;\n \t\t}\n \t\tif (tpm2)\n-\t\t\tret = tpm_seal_trusted(NULL, payload, options);\n+\t\t\tret = tpm_seal_trusted(chip, payload, options);\n \t\telse\n \t\t\tret = key_seal(payload, options);\n \t\tif (ret < 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/240730437deb213a58915830884e1a99045624dc"}
{"commit_hash": "901615cb916dc955fb7bda4e34402bf263532e4a", "short_hash": "901615cb916d", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:50+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:51+02:00", "subject": "tpm: move tpm_chip definition to include/linux/tpm.h", "primary_category": "MAINT-API-MIG", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/tpm", "subsystems_touched": ["drivers/char/tpm", "include/linux"], "subsystem_tier": 4, "files_changed": 2, "insertions": 95, "deletions": 97, "hunks": 12, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 13, "score_quality": 14, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 2, "subtotal": 12, "details": "Medium refactor moving structure between driver and public header"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "API migration enabling future crypto agility feature for TPM users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Reviewed and tested by maintainer, clear rationale for prep work"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Intel maintainer review/test, cross-org collaboration"}}, "score_justification": "Struct migration from private to public header to enable crypto agility feature", "code_snippet": "@@ -25,30 +25,22 @@\n \n #include <linux/module.h>\n #include <linux/delay.h>\n-#include <linux/fs.h>\n-#include <linux/hw_random.h>\n #include <linux/mutex.h>\n #include <linux/sched.h>\n #include <linux/platform_device.h>\n #include <linux/io.h>\n #include <linux/tpm.h>\n-#include <linux/acpi.h>\n-#include <linux/cdev.h>\n #include <linux/highmem.h>\n #include <linux/tpm_eventlog.h>\n-#include <crypto/hash_info.h>\n \n #ifdef CONFIG_X86\n #include <asm/intel-family.h>\n #endif", "flags": [], "link": "https://lore.kernel.org/linux-kernel/901615cb916dc955fb7bda4e34402bf263532e4a"}
{"commit_hash": "879b589210a9a0c9f77d301aaf0ddee20f2c5052", "short_hash": "879b589210a9", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:49+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:51+02:00", "subject": "tpm: retrieve digest size of unknown algorithms with PCR read", "primary_category": "FEAT-FUNC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/tpm", "subsystems_touched": ["drivers/char/tpm", "include/linux", "security/integrity/ima"], "subsystem_tier": 2, "files_changed": 6, "insertions": 96, "deletions": 36, "hunks": 38, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "acked_by": ["Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reported_by": []}, "score_total": 62, "score_technical": 19, "score_impact": 18, "score_quality": 19, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 8, "cross_subsystem": 3, "subtotal": 19, "details": "Large change (96+/-36, 38 hunks) in critical TPM/IMA security subsystem spanning drivers and integrity subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Functional enhancement improving TPM algorithm support with bus data corruption protection"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 4, "atomicity": 2, "subtotal": 19, "details": "Multi-org review (Huawei/Intel/IBM), tested-by tag, detailed message with technical rationale"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author @huawei.com, committer @intel.com, reviewer @ibm.com - strong cross-org collaboration"}}, "score_justification": "TPM driver enhancement enabling digest size retrieval for unknown algorithms, improves crypto subsystem compatibility with corruption protection", "code_snippet": "@@ -281,11 +281,12 @@ EXPORT_SYMBOL_GPL(tpm_is_tpm2);\n  * tpm_pcr_read - read a PCR value from SHA1 bank\n  * @chip:\ta &struct tpm_chip instance, %NULL for the default chip\n  * @pcr_idx:\tthe PCR to be retrieved\n- * @res_buf:\tthe value of the PCR\n+ * @digest:\tthe PCR bank and buffer current PCR value is written to\n  *\n  * Return: same as with tpm_transmit_cmd()\n  */\n-int tpm_pcr_read(struct tpm_chip *chip, u32 pcr_idx, u8 *res_buf)\n+int tpm_pcr_read(struct tpm_chip *chip, u32 pcr_idx,\n+\t\t struct tpm_digest *digest)\n {\n \tint rc;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/879b589210a9a0c9f77d301aaf0ddee20f2c5052"}
{"commit_hash": "aa042475938f5818b0c1b6203061e85ad2535dbc", "short_hash": "aa042475938f", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:48+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:51+02:00", "subject": "tpm: rename and export tpm2_digest and tpm2_algorithms", "primary_category": "FEAT-API", "secondary_categories": ["MAINT-NAMING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/tpm", "subsystems_touched": ["drivers/char/tpm", "include/linux"], "subsystem_tier": 3, "files_changed": 6, "insertions": 33, "deletions": 30, "hunks": 24, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "acked_by": ["Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 16, "score_quality": 16, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 12, "details": "Small-medium change across TPM driver and public headers"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "New kernel API enabling IMA subsystem integration"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Strong review with Reviewed-by, Tested-by, Acked-by tags"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-company: Huawei author, Intel maintainer, IBM reviewer"}}, "score_justification": "Exports TPM digest structures to public API for IMA use, well-reviewed cross-org contribution", "code_snippet": "@@ -122,17 +122,6 @@ enum tpm2_return_codes {\n \tTPM2_RC_RETRY\t\t= 0x0922,\n };\n \n-enum tpm2_algorithms {\n-\tTPM2_ALG_ERROR\t\t= 0x0000,\n-\tTPM2_ALG_SHA1\t\t= 0x0004,\n-\tTPM2_ALG_KEYEDHASH\t= 0x0008,\n-\tTPM2_ALG_SHA256\t\t= 0x000B,\n-\tTPM2_ALG_SHA384\t\t= 0x000C,\n-\tTPM2_ALG_SHA512\t\t= 0x000D,\n-\tTPM2_ALG_NULL\t\t= 0x0010,\n-\tTPM2_ALG_SM3_256\t= 0x0012,\n-};\n-\n enum tpm2_command_codes {\n \tTPM2_CC_FIRST\t\t        = 0x011F,\n \tTPM2_CC_HIERARCHY_CONTROL       = 0x0121,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa042475938f5818b0c1b6203061e85ad2535dbc"}
{"commit_hash": "0b6cf6b97b7ef1fa3c7fefab0cac897a1c4a3400", "short_hash": "0b6cf6b97b7e", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-06T17:24:52+01:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-02-13T09:48:52+02:00", "subject": "tpm: pass an array of tpm_extend_digest structures to tpm_pcr_extend()", "primary_category": "FEAT-API", "secondary_categories": ["MAINT-API-MIG", "FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tpm", "subsystems_touched": ["drivers/char/tpm", "include/linux/tpm", "security/integrity/ima", "security/keys"], "subsystem_tier": 2, "files_changed": 8, "insertions": 82, "deletions": 38, "hunks": 34, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)", "Mimi Zohar <zohar@linux.ibm.com> (on x86 for TPM 1.2 & PTT TPM 2.0) (IBM)"], "acked_by": [], "reported_by": []}, "score_total": 59, "score_technical": 19, "score_impact": 16, "score_quality": 19, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 8, "cross_subsystem": 3, "subtotal": 19, "details": "8 files, 34 hunks, +82/-38 lines in TPM security subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "New kernel API for multi-bank TPM PCR extension"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 4, "atomicity": 2, "subtotal": 19, "details": "Reviewed/tested by 2 orgs, detailed message with rationale"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Intel maintainer, cross-org review"}}, "score_justification": "API change enabling multi-algorithm PCR extension in TPM, affects security subsystems", "code_snippet": "@@ -308,42 +308,34 @@ EXPORT_SYMBOL_GPL(tpm_pcr_read);\n  * tpm_pcr_extend - extend a PCR value in SHA1 bank.\n  * @chip:\ta &struct tpm_chip instance, %NULL for the default chip\n  * @pcr_idx:\tthe PCR to be retrieved\n- * @hash:\tthe hash value used to extend the PCR value\n+ * @digests:\tarray of tpm_digest structures used to extend PCRs\n  *\n- * Note: with TPM 2.0 extends also those banks for which no digest was\n- * specified in order to prevent malicious use of those PCR banks.\n+ * Note: callers must pass a digest for every allocated PCR bank, in the same\n+ * order of the banks in chip->allocated_banks.\n  *\n  * Return: same as with tpm_transmit_cmd()\n  */\n-int tpm_pcr_extend(struct tpm_chip *chip, u32 pcr_idx, const u8 *hash)\n+int tpm_pcr_extend(struct tpm_chip *chip, u32 pcr_idx,\n+\t\t   struct tpm_digest *digests)\n {\n \tint rc;\n-\tstruct tpm_digest *digest_list;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b6cf6b97b7ef1fa3c7fefab0cac897a1c4a3400"}
{"commit_hash": "726dabfde6aa35a4f1508e235ae37edbbf9fbc65", "short_hash": "726dabfde6aa", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-11T17:04:00+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-02-13T09:50:58Z", "subject": "PCI: endpoint: functions: Use memcpy_fromio()/memcpy_toio()", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 349e7a85b25f (\"PCI: endpoint: functions: Add an EP function to test PCI\")", "cc_stable": false, "subsystem_prefix": "pci", "subsystems_touched": ["drivers/pci/endpoint/functions"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in PCI endpoint test driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, low runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Fixes tag, Acked-by, detailed log"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (ZTE) and committer (Arm) different orgs"}}, "score_justification": "Sparse warning fix replacing memcpy with memcpy_fromio/memcpy_toio for PCI endpoint test driver", "code_snippet": "@@ -175,7 +175,7 @@ static int pci_epf_test_read(struct pci_epf_test *epf_test)\n \t\tgoto err_map_addr;\n \t}\n \n-\tmemcpy(buf, src_addr, reg->size);\n+\tmemcpy_fromio(buf, src_addr, reg->size);\n \n \tcrc32 = crc32_le(~0, buf, reg->size);\n \tif (crc32 != reg->checksum)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/726dabfde6aa35a4f1508e235ae37edbbf9fbc65"}
{"commit_hash": "51bef0f378f39ed0604296354b964e3919161396", "short_hash": "51bef0f378f3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T01:43:32Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-13T11:52:33Z", "subject": "ASoC: cs35l36: Remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 7, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal change in audio driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with proper formatting"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer signoff"}}, "score_justification": "Include cleanup in audio driver removing unused linux/version.h", "code_snippet": "@@ -8,7 +8,6 @@\n \n #include <linux/module.h>\n #include <linux/moduleparam.h>\n-#include <linux/version.h>\n #include <linux/kernel.h>\n #include <linux/init.h>\n #include <linux/delay.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/51bef0f378f39ed0604296354b964e3919161396"}
{"commit_hash": "03bf3aeb03a8562a7ad6ed629e49953f132217c1", "short_hash": "03bf3aeb03a8", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T06:29:44Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-13T11:52:47Z", "subject": "ASoC: mediatek: mt8183: make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a94aec035a12 (\"ASoC: mediatek: mt8183: add platform driver\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in audio subsystem driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear commit with Fixes tag and sparse context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer applied"}}, "score_justification": "Sparse warning fix adding static to two unused functions in audio driver", "code_snippet": "@@ -963,7 +963,7 @@ static const struct mtk_afe_i2s_priv mt8183_i2s_priv[DAI_I2S_NUM] = {\n \t},\n };\n \n-int mt8183_dai_i2s_get_share(struct mtk_base_afe *afe)\n+static int mt8183_dai_i2s_get_share(struct mtk_base_afe *afe)\n {\n \tstruct mt8183_afe_private *afe_priv = afe->platform_priv;\n \tconst struct device_node *of_node = afe->dev->of_node;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03bf3aeb03a8562a7ad6ed629e49953f132217c1"}
{"commit_hash": "a4cbb465bcc98f1c5740c887d4be3a68f1a47279", "short_hash": "a4cbb465bcc9", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T06:29:56Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-13T11:52:56Z", "subject": "ASoC: cros_ec_codec: Make symbol 'cros_ec_dai' static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b291f42a3718 (\"ASoC: cros_ec_codec: Add codec driver for Cros EC\")", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -206,7 +206,7 @@ static const struct snd_soc_dai_ops cros_ec_i2s_dai_ops = {\n \t.set_fmt = cros_ec_i2s_set_dai_fmt,\n };\n \n-struct snd_soc_dai_driver cros_ec_dai[] = {\n+static struct snd_soc_dai_driver cros_ec_dai[] = {\n \t{\n \t\t.name = \"cros_ec_codec I2S\",\n \t\t.id = 0,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a4cbb465bcc98f1c5740c887d4be3a68f1a47279"}
{"commit_hash": "46befd3249d72fb8dfce6d1c019511c247245ba6", "short_hash": "46befd3249d7", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:47:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:41-08:00", "subject": "net: neterion: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -3055,7 +3055,7 @@ static void tx_intr_handler(struct fifo_info *fifo_data)\n \n \t\t/* Updating the statistics block */\n \t\tswstats->mem_freed += skb->truesize;\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n \n \t\tget_info.offset++;\n \t\tif (get_info.offset == get_info.fifo_len + 1)\ndiff --git a/drivers/net/ethernet/neterion/vxge/vxge-main.c b/drivers/net/ethernet/neterion/vxge/vxge-main.c\nindex 0da7393b2ef3..b877acec5cde 100644\n--- a/drivers/net/ethernet/neterion/vxge/vxge-main.c\n+++ b/drivers/net/ethernet/neterion/vxge/vxge-main.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/46befd3249d72fb8dfce6d1c019511c247245ba6"}
{"commit_hash": "8f5eeb9097fc46bd68a95870cbf2d04de3c4f968", "short_hash": "8f5eeb9097fc", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:56:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: fealnx: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal change in network driver path"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving drop monitoring for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Single change with basic commit message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committed by maintainer from different org"}}, "score_justification": "API migration in network driver replacing kfree with consume for better monitoring", "code_snippet": "@@ -1531,7 +1531,7 @@ static irqreturn_t intr_handler(int irq, void *dev_instance)\n \t\t\t/* Free the original skb. */\n \t\t\tpci_unmap_single(np->pci_dev, np->cur_tx->buffer,\n \t\t\t\tnp->cur_tx->skbuff->len, PCI_DMA_TODEVICE);\n-\t\t\tdev_kfree_skb_irq(np->cur_tx->skbuff);\n+\t\t\tdev_consume_skb_irq(np->cur_tx->skbuff);\n \t\t\tnp->cur_tx->skbuff = NULL;\n \t\t\t--np->really_tx_count;\n \t\t\tif (np->cur_tx->control & TXLD) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f5eeb9097fc46bd68a95870cbf2d04de3c4f968"}
{"commit_hash": "412261d5c901472b025c8dcea173997209f28ab2", "short_hash": "412261d5c901", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:56:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: moxa: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/moxa"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in network driver tier 3"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration affecting moxart driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Author self-signed, minimal message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committed by David S. Miller"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for successful TX", "code_snippet": "@@ -300,7 +300,7 @@ static void moxart_tx_finished(struct net_device *ndev)\n \t\tndev->stats.tx_packets++;\n \t\tndev->stats.tx_bytes += priv->tx_skb[tx_tail]->len;\n \n-\t\tdev_kfree_skb_irq(priv->tx_skb[tx_tail]);\n+\t\tdev_consume_skb_irq(priv->tx_skb[tx_tail]);\n \t\tpriv->tx_skb[tx_tail] = NULL;\n \n \t\ttx_tail = TX_NEXT(tx_tail);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/412261d5c901472b025c8dcea173997209f28ab2"}
{"commit_hash": "e78042eb6e2d831f9e616d7cfa1dce3021504b5d", "short_hash": "e78042eb6e2d", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:59:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: sis: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/sis"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-file driver change with 4 hunks and 4 total line changes"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for network driver affecting users of SIS hardware"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, maintainer David Miller committed"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq in SIS network drivers", "code_snippet": "@@ -714,7 +714,7 @@ static void sis190_tx_interrupt(struct net_device *dev,\n \n \t\tsis190_unmap_tx_skb(tp->pci_dev, skb, txd);\n \t\ttp->Tx_skbuff[entry] = NULL;\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n \t}\n \n \tif (tp->dirty_tx != dirty_tx) {\ndiff --git a/drivers/net/ethernet/sis/sis900.c b/drivers/net/ethernet/sis/sis900.c\nindex 4bb89f74742c..6073387511f8 100644\n--- a/drivers/net/ethernet/sis/sis900.c\n+++ b/drivers/net/ethernet/sis/sis900.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e78042eb6e2d831f9e616d7cfa1dce3021504b5d"}
{"commit_hash": "5f5a8c75daed965a3631ab98a783846260d2729d", "short_hash": "5f5a8c75daed", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:52:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: apple: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/apple", "subsystems_touched": ["drivers/net/ethernet/apple"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 10, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (Tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration for better drop profiling"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Maintainer acked, good atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: ZTE -> kernel.org maintainer"}}, "score_justification": "Simple API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch/perf profiling in Apple MACE driver", "code_snippet": "@@ -764,7 +764,7 @@ static irqreturn_t mace_interrupt(int irq, void *dev_id)\n \t    dev->stats.tx_bytes += mp->tx_bufs[i]->len;\n \t    ++dev->stats.tx_packets;\n \t}\n-\tdev_kfree_skb_irq(mp->tx_bufs[i]);\n+\tdev_consume_skb_irq(mp->tx_bufs[i]);\n \t--mp->tx_active;\n \tif (++i >= N_TX_RING)\n \t    i = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f5a8c75daed965a3631ab98a783846260d2729d"}
{"commit_hash": "d270f67d325ca709f3f98d5965e401235e6e4422", "short_hash": "d270f67d325c", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:51:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: atheros: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/atheros", "subsystems_touched": ["drivers/net/ethernet/atheros/atl1e", "drivers/net/ethernet/atheros/atlx"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "2 files, 4 hunks, 4 lines changed - API migration"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration improving drop profiles for specific drivers"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "2 reviewers, clear message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, maintainer David Miller accepted"}}, "score_justification": "API migration in Atheros ethernet drivers for better drop profiling", "code_snippet": "@@ -1259,7 +1259,7 @@ static bool atl1e_clean_tx_irq(struct atl1e_adapter *adapter)\n \t\t}\n \n \t\tif (tx_buffer->skb) {\n-\t\t\tdev_kfree_skb_irq(tx_buffer->skb);\n+\t\t\tdev_consume_skb_irq(tx_buffer->skb);\n \t\t\ttx_buffer->skb = NULL;\n \t\t}\n \ndiff --git a/drivers/net/ethernet/atheros/atlx/atl1.c b/drivers/net/ethernet/atheros/atlx/atl1.c\nindex 63edc5706c09..9e07b469066a 100644\n--- a/drivers/net/ethernet/atheros/atlx/atl1.c\n+++ b/drivers/net/ethernet/atheros/atlx/atl1.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d270f67d325ca709f3f98d5965e401235e6e4422"}
{"commit_hash": "eae15bdc2a0c13e5d908e5c41702fdf0076e218a", "short_hash": "eae15bdc2a0c", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-12T23:49:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:42-08:00", "subject": "net: qualcomm: emac: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/qualcomm/emac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 7, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Single-line function replacement in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for better drop monitoring support"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation of API choice, signed off by maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org maintainer applied"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch/perf integration in Qualcomm ethernet driver.", "code_snippet": "@@ -1204,7 +1204,7 @@ void emac_mac_tx_process(struct emac_adapter *adpt, struct emac_tx_queue *tx_q)\n \t\tif (tpbuf->skb) {\n \t\t\tpkts_compl++;\n \t\t\tbytes_compl += tpbuf->skb->len;\n-\t\t\tdev_kfree_skb_irq(tpbuf->skb);\n+\t\t\tdev_consume_skb_irq(tpbuf->skb);\n \t\t\ttpbuf->skb = NULL;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eae15bdc2a0c13e5d908e5c41702fdf0076e218a"}
{"commit_hash": "88e425843ee26f80b82d984e8ec4b662c38eb0ed", "short_hash": "88e425843ee2", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T00:01:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:54-08:00", "subject": "net: ixp4xx_eth: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/xscale"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for debugging improvement"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Reviewed-by tag, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company review by maintainer"}}, "score_justification": "API migration in network driver from dev_kfree_skb_irq to dev_consume_skb_irq", "code_snippet": "@@ -139,7 +139,7 @@\n #ifdef __ARMEB__\n typedef struct sk_buff buffer_t;\n #define free_buffer dev_kfree_skb\n-#define free_buffer_irq dev_kfree_skb_irq\n+#define free_buffer_irq dev_consume_skb_irq\n #else\n typedef void buffer_t;\n #define free_buffer kfree\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88e425843ee26f80b82d984e8ec4b662c38eb0ed"}
{"commit_hash": "b9560a22a440a8813e613226c730d38cbbdb39eb", "short_hash": "b9560a22a440", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T00:00:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T20:50:54-08:00", "subject": "net: macb: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Claudiu Beznea <claudiu.beznea@microchip.com> (Microchip)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "API migration improving debugging visibility"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Single Reviewed-by tag, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different author/committer orgs"}}, "score_justification": "Network driver API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better drop profile visibility", "code_snippet": "@@ -3763,7 +3763,7 @@ static irqreturn_t at91ether_interrupt(int irq, void *dev_id)\n \t\t\tdev->stats.tx_errors++;\n \n \t\tif (lp->skb) {\n-\t\t\tdev_kfree_skb_irq(lp->skb);\n+\t\t\tdev_consume_skb_irq(lp->skb);\n \t\t\tlp->skb = NULL;\n \t\t\tdma_unmap_single(&lp->pdev->dev, lp->skb_physaddr,\n \t\t\t\t\t lp->skb_length, DMA_TO_DEVICE);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9560a22a440a8813e613226c730d38cbbdb39eb"}
{"commit_hash": "fb14b096355b8c947a256e8e5259a4ebaca00866", "short_hash": "fb14b096355b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T01:42:00Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-13T21:09:06-08:00", "subject": "net: sched: remove duplicated include from cls_api.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single include removal in networking scheduler"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Include-only change with no runtime effect"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Minimal cleanup, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author from Huawei, committed by networking maintainer"}}, "score_justification": "Duplicate include removal in networking scheduler code.", "code_snippet": "@@ -38,7 +38,6 @@\n #include <net/tc_act/tc_csum.h>\n #include <net/tc_act/tc_gact.h>\n #include <net/tc_act/tc_skbedit.h>\n-#include <net/tc_act/tc_mirred.h>\n \n extern const struct nla_policy rtm_tca_policy[TCA_MAX + 1];\n \n", "flags": ["TRIVIAL_INCLUDE_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/fb14b096355b8c947a256e8e5259a4ebaca00866"}
{"commit_hash": "a06702ca023feccb7c1a5171987f5cac959427ed", "short_hash": "a06702ca023f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T02:10:33Z", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-02-14T08:55:00+01:00", "subject": "ALSA: es1688: Remove set but not used variable 'hw'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/isa"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-line change in sound driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean warning fix with proper signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei author, SUSE maintainer"}}, "score_justification": "Unused variable warning fix in legacy sound driver", "code_snippet": "@@ -121,7 +121,7 @@ EXPORT_SYMBOL(snd_es1688_reset);\n static int snd_es1688_probe(struct snd_es1688 *chip)\n {\n \tunsigned long flags;\n-\tunsigned short major, minor, hw;\n+\tunsigned short major, minor;\n \tint i;\n \n \t/*", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a06702ca023feccb7c1a5171987f5cac959427ed"}
{"commit_hash": "8d565748b6035eeda18895c213396a4c9fac6a4c", "short_hash": "8d565748b603", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-02-10T05:24:10Z", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-02-14T10:29:02Z", "subject": "irqchip/gic-v3-its: Avoid parsing _indirect_ twice for Device table", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 32bd44dc19de (\"irqchip/gic-v3-its: Fix the incorrect parsing of VCPU table size\")", "cc_stable": true, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 17, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line fix in irqchip driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport, affects ARM interrupt controller users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by maintainer, clear Fixes tag, minimal change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, ARM maintainer committed, cross-company collaboration"}}, "score_justification": "Missing break statement caused function to execute twice. Small fix with stable tag and cross-org review.", "code_snippet": "@@ -1946,6 +1946,8 @@ static int its_alloc_tables(struct its_node *its)\n \t\t\tindirect = its_parse_indirect_baser(its, baser,\n \t\t\t\t\t\t\t    psz, &order,\n \t\t\t\t\t\t\t    its->device_ids);\n+\t\t\tbreak;\n+\n \t\tcase GITS_BASER_TYPE_VCPU:\n \t\t\tindirect = its_parse_indirect_baser(its, baser,\n \t\t\t\t\t\t\t    psz, &order,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d565748b6035eeda18895c213396a4c9fac6a4c"}
{"commit_hash": "3b1b5291f79d040d549d7c746669fc30e8045b9b", "short_hash": "3b1b5291f79d", "author_name": "Sheng Yong", "author_email": "shengyong1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T14:46:36+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-14T10:47:20+01:00", "subject": "staging: erofs: fix memleak of inode's shared xattr array", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: b17500a0fdba (\"staging: erofs: introduce xattr & acl support\")", "cc_stable": true, "subsystem_prefix": "staging/erofs", "subsystems_touched": ["drivers/staging/erofs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sheng Yong <shengyong1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Gao Xiang <gaoxiang25@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 4-line fix in staging driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Memory leak fix with stable backport, affects EROFS users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes tag and Reviewed-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Memory leak fix in error path of EROFS xattr init with stable backport", "code_snippet": "@@ -111,8 +111,11 @@ static int init_inode_xattrs(struct inode *inode)\n \n \t\t\tit.page = erofs_get_meta_page(sb,\n \t\t\t\t++it.blkaddr, S_ISDIR(inode->i_mode));\n-\t\t\tif (IS_ERR(it.page))\n+\t\t\tif (IS_ERR(it.page)) {\n+\t\t\t\tkfree(vi->xattr_shared_xattrs);\n+\t\t\t\tvi->xattr_shared_xattrs = NULL;\n \t\t\t\treturn PTR_ERR(it.page);\n+\t\t\t}\n \n \t\t\tit.kaddr = kmap_atomic(it.page);\n \t\t\tatomic_map = true;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b1b5291f79d040d549d7c746669fc30e8045b9b"}
{"commit_hash": "ae6279ecb786d9132da0315700580dc23f939986", "short_hash": "ae6279ecb786", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:21:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: nuvoton: w90p910_ether: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/nuvoton", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 5, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line driver API migration change"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving dropwatch compatibility"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation, 2 SOB tags, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, net maintainer merge"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch integration in ethernet driver.", "code_snippet": "@@ -630,7 +630,7 @@ static int w90p910_ether_start_xmit(struct sk_buff *skb, struct net_device *dev)\n \n \tif (!(w90p910_send_frame(dev, skb->data, skb->len))) {\n \t\tether->skb = skb;\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n \t\treturn 0;\n \t}\n \treturn -EAGAIN;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae6279ecb786d9132da0315700580dc23f939986"}
{"commit_hash": "380ab7e3d59d790e05d39f3c1d4a6039ef0e3901", "short_hash": "380ab7e3d59d", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:19:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: natsemi: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/natsemi", "subsystems_touched": ["drivers/net/ethernet/natsemi"], "subsystem_tier": 4, "files_changed": 3, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 9, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small API migration across 3 driver files in standard subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "API migration improving drop profiling for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple atomic change with basic message, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "ZTE author committed by kernel.org maintainer"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch integration across natsemi drivers", "code_snippet": "@@ -2173,7 +2173,7 @@ static void netdev_tx_done(struct net_device *dev)\n \t\t\t\t\tnp->tx_skbuff[entry]->len,\n \t\t\t\t\tPCI_DMA_TODEVICE);\n \t\t/* Free the original skb. */\n-\t\tdev_kfree_skb_irq(np->tx_skbuff[entry]);\n+\t\tdev_consume_skb_irq(np->tx_skbuff[entry]);\n \t\tnp->tx_skbuff[entry] = NULL;\n \t}\n \tif (netif_queue_stopped(dev) &&\ndiff --git a/drivers/net/ethernet/natsemi/ns83820.c b/drivers/net/ethernet/natsemi/ns83820.c\nindex 958fced4dacf..000009e18ff8 100644\n--- a/drivers/net/ethernet/natsemi/ns83820.c\n+++ b/drivers/net/ethernet/natsemi/ns83820.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/380ab7e3d59d790e05d39f3c1d4a6039ef0e3901"}
{"commit_hash": "105cfb064bcd60fdd74ac29a02f09efbc6a303d8", "short_hash": "105cfb064bcd", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:18:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: micrel: ks8695net: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/micrel"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 9, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-line API migration in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 2, "novelty": 0, "subtotal": 9, "details": "API migration improves drop profile visibility"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean atomic change with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, netdev maintainer applied"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch support", "code_snippet": "@@ -391,7 +391,7 @@ ks8695_tx_irq(int irq, void *dev_id)\n \t\t\t\t\t ksp->tx_buffers[buff_n].dma_ptr,\n \t\t\t\t\t ksp->tx_buffers[buff_n].length,\n \t\t\t\t\t DMA_TO_DEVICE);\n-\t\t\tdev_kfree_skb_irq(ksp->tx_buffers[buff_n].skb);\n+\t\t\tdev_consume_skb_irq(ksp->tx_buffers[buff_n].skb);\n \t\t\tksp->tx_buffers[buff_n].skb = NULL;\n \t\t\tksp->tx_ring_used--;\n \t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/105cfb064bcd60fdd74ac29a02f09efbc6a303d8"}
{"commit_hash": "d1a096c2c72d605ddcbb53a5f71f96cf9c6d384c", "short_hash": "d1a096c2c72d", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:17:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: sgi: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/sgi"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in network drivers"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving drop monitoring"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message, minimal review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, netdev maintainer"}}, "score_justification": "API migration in SGI network drivers replacing dev_kfree_skb_irq with dev_consume_skb_irq for better drop profiling", "code_snippet": "@@ -666,7 +666,7 @@ static inline void ioc3_tx(struct net_device *dev)\n \t\tpackets++;\n \t\tskb = ip->tx_skbs[o_entry];\n \t\tbytes += skb->len;\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n \t\tip->tx_skbs[o_entry] = NULL;\n \n \t\to_entry = (o_entry + 1) & 127;\t\t/* Next */\ndiff --git a/drivers/net/ethernet/sgi/meth.c b/drivers/net/ethernet/sgi/meth.c\nindex 67954a9e3675..f425ab528224 100644\n--- a/drivers/net/ethernet/sgi/meth.c\n+++ b/drivers/net/ethernet/sgi/meth.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1a096c2c72d605ddcbb53a5f71f96cf9c6d384c"}
{"commit_hash": "5fbc136b487852b5ec06855497efb688b7aa8b4e", "short_hash": "5fbc136b4878", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:15:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: myri10ge: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "API migration improvement for driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic quality with simple explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, maintainer from different org"}}, "score_justification": "API migration in network driver for better drop profiling", "code_snippet": "@@ -1408,7 +1408,7 @@ myri10ge_tx_done(struct myri10ge_slice_state *ss, int mcp_index)\n \t\tif (skb) {\n \t\t\tss->stats.tx_bytes += skb->len;\n \t\t\tss->stats.tx_packets++;\n-\t\t\tdev_kfree_skb_irq(skb);\n+\t\t\tdev_consume_skb_irq(skb);\n \t\t\tif (len)\n \t\t\t\tpci_unmap_single(pdev,\n \t\t\t\t\t\t dma_unmap_addr(&tx->info[idx],\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5fbc136b487852b5ec06855497efb688b7aa8b4e"}
{"commit_hash": "fc67ade130382e21a43eca81c5ed098d8a82eedd", "short_hash": "fc67ade13038", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:14:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: amd: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/amd", "subsystems_touched": ["drivers/net/ethernet/amd"], "subsystem_tier": 4, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 9, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change across 2 driver files"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "API migration improving drop monitoring"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (ZTE <-> kernel.org maintainer)"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better profiling", "code_snippet": "@@ -1084,7 +1084,7 @@ static irqreturn_t lance_interrupt(int irq, void *dev_id)\n \t\t\t\t/* We must free the original skb if it's not a data-only copy\n \t\t\t\t   in the bounce buffer. */\n \t\t\t\tif (lp->tx_skbuff[entry]) {\n-\t\t\t\t\tdev_kfree_skb_irq(lp->tx_skbuff[entry]);\n+\t\t\t\t\tdev_consume_skb_irq(lp->tx_skbuff[entry]);\n \t\t\t\t\tlp->tx_skbuff[entry] = NULL;\n \t\t\t\t}\n \t\t\t\tdirty_tx++;\ndiff --git a/drivers/net/ethernet/amd/ni65.c b/drivers/net/ethernet/amd/ni65.c\nindex 8931ce6bab7b..87ff5d6d1b22 100644\n--- a/drivers/net/ethernet/amd/ni65.c\n+++ b/drivers/net/ethernet/amd/ni65.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fc67ade130382e21a43eca81c5ed098d8a82eedd"}
{"commit_hash": "76cba8fd9c7d8dd2d18c8bee581c4176383441c6", "short_hash": "76cba8fd9c7d", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T23:12:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T11:56:36-05:00", "subject": "net: dlink: sundance: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1286,7 +1285,7 @@ static irqreturn_t intr_handler(int irq, void *dev_instance)\n \t\t\t\tdma_unmap_single(&np->pci_dev->dev,\n \t\t\t\t\tle32_to_cpu(np->tx_ring[entry].frag[0].addr),\n \t\t\t\t\tskb->len, DMA_TO_DEVICE);\n-\t\t\t\tdev_kfree_skb_irq (np->tx_skbuff[entry]);\n+\t\t\t\tdev_consume_skb_irq(np->tx_skbuff[entry]);\n \t\t\t\tnp->tx_skbuff[entry] = NULL;\n \t\t\t\tnp->tx_ring[entry].frag[0].addr = 0;\n \t\t\t\tnp->tx_ring[entry].frag[0].length = 0;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/76cba8fd9c7d8dd2d18c8bee581c4176383441c6"}
{"commit_hash": "189a10f0108a8ebaf1e2f3d8bf68aeb5ebd30109", "short_hash": "189a10f0108a", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:39:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:22:03-05:00", "subject": "isdn:hisax: Replace dev_kfree_skb_any by dev_consume_skb_any", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "isdn", "subsystems_touched": ["drivers/isdn/hisax"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in legacy ISDN driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation but no external review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to maintainer"}}, "score_justification": "Corrects skb handling API usage in ISDN driver from kfree to consume", "code_snippet": "@@ -656,7 +656,7 @@ hfcpci_fill_fifo(struct BCState *bcs)\n \t\t\t\tschedule_event(bcs, B_ACKPENDING);\n \t\t\t}\n \n-\t\t\tdev_kfree_skb_any(bcs->tx_skb);\n+\t\t\tdev_consume_skb_any(bcs->tx_skb);\n \t\t\tbcs->tx_skb = skb_dequeue(&bcs->squeue);\t/* fetch next data */\n \t\t}\n \t\ttest_and_clear_bit(BC_FLG_BUSY, &bcs->Flag);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/189a10f0108a8ebaf1e2f3d8bf68aeb5ebd30109"}
{"commit_hash": "62f2589883405081f3e0a4aae69f3fe8932348a3", "short_hash": "62f258988340", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:40:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:25:24-05:00", "subject": "net:dl2k: Replace dev_kfree_skb_irq by dev_consume_skb_irq", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 11, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration with minor user benefit"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean atomic change with clear rationale"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (ZTE -> kernel.org maintainer)"}}, "score_justification": "API migration in network driver, cross-company acceptance", "code_snippet": "@@ -843,7 +843,7 @@ rio_free_tx (struct net_device *dev, int irq)\n \t\t\t\t  desc_to_dma(&np->tx_ring[entry]),\n \t\t\t\t  skb->len, PCI_DMA_TODEVICE);\n \t\tif (irq)\n-\t\t\tdev_kfree_skb_irq(skb);\n+\t\t\tdev_consume_skb_irq(skb);\n \t\telse\n \t\t\tdev_kfree_skb(skb);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62f2589883405081f3e0a4aae69f3fe8932348a3"}
{"commit_hash": "edc307bb7e4897df53248bd92f94221371c596ac", "short_hash": "edc307bb7e48", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:40:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:25:24-05:00", "subject": "net:dl2k: Modify the code style escaping the warning", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny whitespace fix in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Checkpatch warning fix, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Checkpatch.pl warning fix removing spaces before parentheses in function calls", "code_snippet": "@@ -843,9 +843,9 @@ rio_free_tx (struct net_device *dev, int irq)\n \t\t\t\t  desc_to_dma(&np->tx_ring[entry]),\n \t\t\t\t  skb->len, PCI_DMA_TODEVICE);\n \t\tif (irq)\n-\t\t\tdev_kfree_skb_irq (skb);\n+\t\t\tdev_kfree_skb_irq(skb);\n \t\telse\n-\t\t\tdev_kfree_skb (skb);\n+\t\t\tdev_kfree_skb(skb);\n \n \t\tnp->tx_skbuff[entry] = NULL;\n \t\tentry = (entry + 1) % TX_RING_SIZE;\n", "flags": ["CHECKPATCH_FIX"], "link": "https://lore.kernel.org/linux-kernel/edc307bb7e4897df53248bd92f94221371c596ac"}
{"commit_hash": "f3e5c07002b08f0e001015fd221187efb772afae", "short_hash": "f3e5c07002b0", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:41:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:26:26-05:00", "subject": "net:ethernet:cadence: Replace dev_kfree_skb_any by dev_consume_skb_any", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Correctness fix for network packet handling"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with Signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, netdev maintainer merged"}}, "score_justification": "Bug fix replacing incorrect kfree with consume_skb for handled packets", "code_snippet": "@@ -1734,7 +1734,7 @@ static int macb_pad_and_fcs(struct sk_buff **skb, struct net_device *ndev)\n \t\tif (!nskb)\n \t\t\treturn -ENOMEM;\n \n-\t\tdev_kfree_skb_any(*skb);\n+\t\tdev_consume_skb_any(*skb);\n \t\t*skb = nskb;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f3e5c07002b08f0e001015fd221187efb772afae"}
{"commit_hash": "f694be27b7c0f31e926277dbde4395d56e79f36e", "short_hash": "f694be27b7c0", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:42:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:26:50-05:00", "subject": "sfc: Replace dev_kfree_skb_any by dev_consume_skb_any", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/sfc", "subsystems_touched": ["drivers/net/ethernet/sfc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Bert Kenward <bkenward@solarflare.com> (Solarflare)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver tier 3"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting sfc driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Acked by maintainer, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, different maintainer committer"}}, "score_justification": "API migration fix for skb consume vs drop in network driver", "code_snippet": "@@ -471,7 +471,7 @@ static int efx_tx_tso_fallback(struct efx_tx_queue *tx_queue,\n \tif (IS_ERR(segments))\n \t\treturn PTR_ERR(segments);\n \n-\tdev_kfree_skb_any(skb);\n+\tdev_consume_skb_any(skb);\n \tskb = segments;\n \n \twhile (skb) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f694be27b7c0f31e926277dbde4395d56e79f36e"}
{"commit_hash": "1ff85bfa1614df6cacec780cd5922dc0b1c340c7", "short_hash": "1ff85bfa1614", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-28T07:33:35Z", "committer_name": "Sebastian Reichel", "committer_email": "sebastian.reichel@collabora.com", "committer_company": "Collabora", "commit_date": "2019-02-14T12:36:21+01:00", "subject": "HSI: omap_ssi_port: fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "hsi", "subsystems_touched": ["drivers/hsi/controllers"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sebastian Reichel <sebastian.reichel@collabora.com> (Collabora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 8, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small API migration in driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Coccinelle-generated with clear rationale"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer from Collabora"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -162,7 +162,7 @@ static int ssi_div_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(ssi_sst_div_fops, ssi_div_get, ssi_div_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(ssi_sst_div_fops, ssi_div_get, ssi_div_set, \"%llu\\n\");\n \n static int ssi_debug_add_port(struct omap_ssi_port *omap_port,\n \t\t\t\t     struct dentry *dir)", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/1ff85bfa1614df6cacec780cd5922dc0b1c340c7"}
{"commit_hash": "baff7b09ffa9055d54a366f26b02269ea579b268", "short_hash": "baff7b09ffa9", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T22:45:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:14-05:00", "subject": "net: i825xx: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/i825xx", "subsystems_touched": ["drivers/net/ethernet/i825xx"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 2-line change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for dropwatch profiling support"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple API swap with minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, David Miller maintainer merge"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better drop profiling", "code_snippet": "@@ -1194,7 +1194,7 @@ static irqreturn_t i596_interrupt(int irq, void *dev_id)\n \t\t\t\tdma_unmap_single(dev->dev.parent,\n \t\t\t\t\t\t tx_cmd->dma_addr,\n \t\t\t\t\t\t skb->len, DMA_TO_DEVICE);\n-\t\t\t\tdev_kfree_skb_irq(skb);\n+\t\t\t\tdev_consume_skb_irq(skb);\n \n \t\t\t\ttx_cmd->cmd.command = 0; /* Mark free */\n \t\t\t\tbreak;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/baff7b09ffa9055d54a366f26b02269ea579b268"}
{"commit_hash": "e772261b53bc45f53693ae4514658cd376da9e56", "short_hash": "e772261b53bc", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T23:06:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:15-05:00", "subject": "net: adaptec: starfire: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (1 file, 2 hunks, 2 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 11, "details": "API migration for drop profile friendliness, low user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Properly scoped with clear explanation, minimal review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (ZTE) and committer (davemloft) from different orgs"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq in network driver interrupt handler for better drop profiling", "code_snippet": "@@ -1390,7 +1390,7 @@ static irqreturn_t intr_handler(int irq, void *dev_instance)\n \t\t\t\t\t}\n \t\t\t\t}\n \n-\t\t\t\tdev_kfree_skb_irq(skb);\n+\t\t\t\tdev_consume_skb_irq(skb);\n \t\t\t}\n \t\t\tnp->tx_done_q[np->tx_done].status = 0;\n \t\t\tnp->tx_done = (np->tx_done + 1) % DONE_Q_SIZE;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e772261b53bc45f53693ae4514658cd376da9e56"}
{"commit_hash": "467d2fceafb6c1dc3cf444c86266a6c0334b1f3b", "short_hash": "467d2fceafb6", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T22:55:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:15-05:00", "subject": "net: 3com: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/3com", "subsystems_touched": ["drivers/net/ethernet/3com"], "subsystem_tier": 4, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "8 hunks, +4-4 lines across 2 files in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration improving drop monitoring for 3com driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear API migration rationale, single logical change, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, net maintainer David Miller merged"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch/perf integration", "code_snippet": "@@ -1192,7 +1192,7 @@ static irqreturn_t corkscrew_interrupt(int irq, void *dev_id)\n #ifdef VORTEX_BUS_MASTER\n \t\tif (status & DMADone) {\n \t\t\toutw(0x1000, ioaddr + Wn7_MasterStatus);\t/* Ack the event. */\n-\t\t\tdev_kfree_skb_irq(lp->tx_skb);\t/* Release the transferred buffer */\n+\t\t\tdev_consume_skb_irq(lp->tx_skb);\t/* Release the transferred buffer */\n \t\t\tnetif_wake_queue(dev);\n \t\t}\n #endif\ndiff --git a/drivers/net/ethernet/3com/3c59x.c b/drivers/net/ethernet/3com/3c59x.c\nindex 40f421dbdf57..147051404194 100644\n--- a/drivers/net/ethernet/3com/3c59x.c\n+++ b/drivers/net/ethernet/3com/3c59x.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/467d2fceafb6c1dc3cf444c86266a6c0334b1f3b"}
{"commit_hash": "67633e78646c7be5e2e4bd1255da22dd4381c1e1", "short_hash": "67633e78646c", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T22:53:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:15-05:00", "subject": "net: arc_emac: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/arc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for drop profile visibility"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company with maintainer merge"}}, "score_justification": "Driver fix improving drop monitoring visibility via proper skb API", "code_snippet": "@@ -148,7 +148,7 @@ static void arc_emac_tx_clean(struct net_device *ndev)\n \t\t\t\t dma_unmap_len(tx_buff, len), DMA_TO_DEVICE);\n \n \t\t/* return the sk_buff to system */\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n \n \t\ttxbd->data = 0;\n \t\ttxbd->info = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/67633e78646c7be5e2e4bd1255da22dd4381c1e1"}
{"commit_hash": "1bba6de1a67f10270dd0f0951050d0470514c2a5", "short_hash": "1bba6de1a67f", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T22:52:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:15-05:00", "subject": "net: packetengines: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/packetengines"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving drop monitoring"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple change with basic documentation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit through maintainer"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better drop monitoring", "code_snippet": "@@ -1337,7 +1337,7 @@ static irqreturn_t hamachi_interrupt(int irq, void *dev_instance)\n \t\t\t\t\t\t\tleXX_to_cpu(hmp->tx_ring[entry].addr),\n \t\t\t\t\t\t\tskb->len,\n \t\t\t\t\t\t\tPCI_DMA_TODEVICE);\n-\t\t\t\t\t\tdev_kfree_skb_irq(skb);\n+\t\t\t\t\t\tdev_consume_skb_irq(skb);\n \t\t\t\t\t\thmp->tx_skbuff[entry] = NULL;\n \t\t\t\t\t}\n \t\t\t\t\thmp->tx_ring[entry].status_n_length = 0;\ndiff --git a/drivers/net/ethernet/packetengines/yellowfin.c b/drivers/net/ethernet/packetengines/yellowfin.c\nindex 54224d1822e3..6f8d6584f809 100644\n--- a/drivers/net/ethernet/packetengines/yellowfin.c\n+++ b/drivers/net/ethernet/packetengines/yellowfin.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1bba6de1a67f10270dd0f0951050d0470514c2a5"}
{"commit_hash": "d1441d4782f2d3d7b9596df8076a2f213a34dcf5", "short_hash": "d1441d4782f2", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T22:50:58+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-14T12:43:15-05:00", "subject": "net: xilinx: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/xilinx", "subsystems_touched": ["drivers/net/ethernet/xilinx"], "subsystem_tier": 3, "files_changed": 3, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 12, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small API migration in network driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "API migration improving drop profile visibility"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear explanation of API change rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company author to maintainer commit"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch support", "code_snippet": "@@ -630,7 +630,7 @@ static void temac_start_xmit_done(struct net_device *ndev)\n \t\tdma_unmap_single(ndev->dev.parent, cur_p->phys, cur_p->len,\n \t\t\t\t DMA_TO_DEVICE);\n \t\tif (cur_p->app4)\n-\t\t\tdev_kfree_skb_irq((struct sk_buff *)cur_p->app4);\n+\t\t\tdev_consume_skb_irq((struct sk_buff *)cur_p->app4);\n \t\tcur_p->app0 = 0;\n \t\tcur_p->app1 = 0;\n \t\tcur_p->app2 = 0;\ndiff --git a/drivers/net/ethernet/xilinx/xilinx_axienet_main.c b/drivers/net/ethernet/xilinx/xilinx_axienet_main.c\nindex 0789d8af7d72..ec7e7ec24ff9 100644\n--- a/drivers/net/ethernet/xilinx/xilinx_axienet_main.c\n+++ b/drivers/net/ethernet/xilinx/xilinx_axienet_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1441d4782f2d3d7b9596df8076a2f213a34dcf5"}
{"commit_hash": "ab22bf05216a6bb4812448f3a8609489047cf311", "short_hash": "ab22bf05216a", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T16:13:04+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T13:20:18-07:00", "subject": "RDMA/hns: Fix the state of rereg mr", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic bug fix for MR state management"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review, clear message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer committer"}}, "score_justification": "MR state incorrectly persisted after reregister, fixed by setting VALID state", "code_snippet": "@@ -2190,6 +2190,9 @@ static int hns_roce_v2_rereg_write_mtpt(struct hns_roce_dev *hr_dev,\n \tstruct hns_roce_v2_mpt_entry *mpt_entry = mb_buf;\n \tint ret = 0;\n \n+\troce_set_field(mpt_entry->byte_4_pd_hop_st, V2_MPT_BYTE_4_MPT_ST_M,\n+\t\t       V2_MPT_BYTE_4_MPT_ST_S, V2_MPT_ST_VALID);\n+\n \tif (flags & IB_MR_REREG_PD) {\n \t\troce_set_field(mpt_entry->byte_4_pd_hop_st, V2_MPT_BYTE_4_PD_M,\n \t\t\t       V2_MPT_BYTE_4_PD_S, pdn);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ab22bf05216a6bb4812448f3a8609489047cf311"}
{"commit_hash": "704e0e613a6d584fde1c80ead0329e918b4f8671", "short_hash": "704e0e613a6d", "author_name": "chenglang", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T16:13:03+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T13:20:18-07:00", "subject": "RDMA/hns: Limit minimum ROCE CQ depth to 64", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["chenglang <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in RDMA driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting HNS RDMA users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Configuration fix adding min_cqes cap for consistency with hip06", "code_snippet": "@@ -1512,6 +1512,7 @@ static int hns_roce_v2_profile(struct hns_roce_dev *hr_dev)\n \tcaps->max_wqes\t\t= HNS_ROCE_V2_MAX_WQE_NUM;\n \tcaps->num_cqs\t\t= HNS_ROCE_V2_MAX_CQ_NUM;\n \tcaps->num_srqs\t\t= HNS_ROCE_V2_MAX_SRQ_NUM;\n+\tcaps->min_cqes\t\t= HNS_ROCE_MIN_CQE_NUM;\n \tcaps->max_cqes\t\t= HNS_ROCE_V2_MAX_CQE_NUM;\n \tcaps->max_srqwqes\t= HNS_ROCE_V2_MAX_SRQWQE_NUM;\n \tcaps->max_sq_sg\t\t= HNS_ROCE_V2_MAX_SQ_SGE_NUM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/704e0e613a6d584fde1c80ead0329e918b4f8671"}
{"commit_hash": "dad1f9802ecee3a21143293b2505e1b57b1ae525", "short_hash": "dad1f9802ece", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T16:13:07+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T13:20:19-07:00", "subject": "RDMA/hns: Configure capacity of hns device", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -226,6 +226,11 @@ static int hns_roce_query_device(struct ib_device *ib_dev,\n \t\tprops->max_srq_sge = hr_dev->caps.max_srq_sges;\n \t}\n \n+\tif (hr_dev->caps.flags & HNS_ROCE_CAP_FLAG_FRMR) {\n+\t\tprops->device_cap_flags |= IB_DEVICE_MEM_MGT_EXTENSIONS;\n+\t\tprops->max_fast_reg_page_list_len = HNS_ROCE_FRMR_MAX_PA;\n+\t}\n+\n \treturn 0;\n }\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/dad1f9802ecee3a21143293b2505e1b57b1ae525"}
{"commit_hash": "e95c716c7faa0d0eede5eabb6fea2504709e25b6", "short_hash": "e95c716c7faa", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T16:13:06+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T13:20:19-07:00", "subject": "RDMA/hns: Delete useful prints for aeq subtype event", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 51, "hunks": 2, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in driver error handling"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Driver-only debug output cleanup"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two signoffs, minimal message, no test"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox committer"}}, "score_justification": "Driver cleanup removing incorrect error messages, replaces verbose switch with simple subtype logging", "code_snippet": "@@ -4658,64 +4658,19 @@ static void hns_roce_irq_work_handle(struct work_struct *work)\n \t\tdev_warn(dev, \"Send queue drained.\\n\");\n \t\tbreak;\n \tcase HNS_ROCE_EVENT_TYPE_WQ_CATAS_ERROR:\n-\t\tdev_err(dev, \"Local work queue catastrophic error.\\n\");\n+\t\tdev_err(dev, \"Local work queue 0x%x catas error, sub_type:%d\\n\",\n+\t\t\tqpn, irq_work->sub_type);\n \t\thns_roce_set_qps_to_err(irq_work->hr_dev, qpn);\n-\t\tswitch (irq_work->sub_type) {\n-\t\tcase HNS_ROCE_LWQCE_QPC_ERROR:\n-\t\t\tdev_err(dev, \"QP %d, QPC error.\\n\", qpn);\n-\t\t\tbreak;\n-\t\tcase HNS_ROCE_LWQCE_MTU_ERROR:\n-\t\t\tdev_err(dev, \"QP %d, MTU error.\\n\", qpn);\n-\t\t\tbreak;\n-\t\tcase HNS_ROCE_LWQCE_WQE_BA_ADDR_ERROR:\n-\t\t\tdev_err(dev, \"QP %d, WQE BA addr error.\\n\", qpn);\n-\t\t\tbreak;\n-\t\tcase HNS_ROCE_LWQCE_WQE_ADDR_ERROR:\n-\t\t\tdev_err(dev, \"QP %d, WQE addr error.\\n\", qpn);", "flags": ["ALL_FROM_HUAWEI"], "link": "https://lore.kernel.org/linux-kernel/e95c716c7faa0d0eede5eabb6fea2504709e25b6"}
{"commit_hash": "f7f27a5f03cc9f47cc14f75a5be25f0f26b1b5ff", "short_hash": "f7f27a5f03cc", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-02-03T16:13:05+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T13:20:19-07:00", "subject": "RDMA/hns: Set allocated memory to zero for wrid", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in infiniband driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Memory corruption fix preventing data leaks"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two signoffs but minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer committed"}}, "score_justification": "Fixes uninitialized memory corruption by using kcalloc instead of kmalloc_array", "code_snippet": "@@ -763,10 +763,10 @@ static int hns_roce_create_qp_common(struct hns_roce_dev *hr_dev,\n \t\t\tgoto err_mtt;\n \t\t}\n \n-\t\thr_qp->sq.wrid = kmalloc_array(hr_qp->sq.wqe_cnt, sizeof(u64),\n-\t\t\t\t\t       GFP_KERNEL);\n-\t\thr_qp->rq.wrid = kmalloc_array(hr_qp->rq.wqe_cnt, sizeof(u64),\n-\t\t\t\t\t       GFP_KERNEL);\n+\t\thr_qp->sq.wrid = kcalloc(hr_qp->sq.wqe_cnt, sizeof(u64),\n+\t\t\t\t\t GFP_KERNEL);\n+\t\thr_qp->rq.wrid = kcalloc(hr_qp->rq.wqe_cnt, sizeof(u64),\n+\t\t\t\t\t GFP_KERNEL);\n \t\tif (!hr_qp->sq.wrid || !hr_qp->rq.wrid) {\n \t\t\tret = -ENOMEM;\n \t\t\tgoto err_wrid;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f7f27a5f03cc9f47cc14f75a5be25f0f26b1b5ff"}
{"commit_hash": "36f0a1ccb3d4c328dfa263412ec28b77970c523b", "short_hash": "36f0a1ccb3d4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T01:57:10Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-14T14:47:39-07:00", "subject": "RDMA/iwpm: Remove set but not used variable 'msg_seq'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line deletion in infiniband driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag referencing original commit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer cross-company review"}}, "score_justification": "GCC unused variable warning fix removing dead code since 2019, cross-org review", "code_snippet": "@@ -808,7 +808,6 @@ int iwpm_send_hello(u8 nl_client, int iwpm_pid, u16 abi_version)\n {\n \tstruct sk_buff *skb = NULL;\n \tstruct nlmsghdr *nlh;\n-\tu32 msg_seq;\n \tconst char *err_str = \"\";\n \tint ret = -EINVAL;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/36f0a1ccb3d4c328dfa263412ec28b77970c523b"}
{"commit_hash": "8e8a3cea7ea5f5458fdf2287713626892e7715f5", "short_hash": "8e8a3cea7ea5", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-14T17:33:49+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-02-14T17:09:43+01:00", "subject": "x86/mm/dump_pagetables: Remove the unused prev_pud variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -444,7 +444,6 @@ static void walk_pud_level(struct seq_file *m, struct pg_state *st, p4d_t addr,\n \tint i;\n \tpud_t *start, *pud_start;\n \tpgprotval_t prot, eff;\n-\tpud_t *prev_pud = NULL;\n \n \tpud_start = start = (pud_t *)p4d_page_vaddr(addr);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8e8a3cea7ea5f5458fdf2287713626892e7715f5"}
{"commit_hash": "7f736599d632dde93bda79cca54fd5dcfd937e06", "short_hash": "7f736599d632", "author_name": "Huang Zijiang", "author_email": "huang.zijiang@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-14T14:39:07+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-02-15T12:02:47+01:00", "subject": "EDAC, altera: Add missing of_node_put()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/edac", "subsystems_touched": ["drivers/edac"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huang Zijiang <huang.zijiang@zte.com.cn> (ZTE)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": ["Thor Thayer <thor.thayer@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver subsystem fixing resource cleanup"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix for specific driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by from Intel, proper message explaining the leak"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, SUSE maintainer, Intel reviewer"}}, "score_justification": "Reference leak fix in Altera EDAC driver missing of_node_put() calls", "code_snippet": "@@ -1046,14 +1046,17 @@ altr_init_a10_ecc_block(struct device_node *np, u32 irq_mask,\n \t\t\treturn -ENODEV;\n \t\t}\n \n-\t\tif (of_address_to_resource(sysmgr_np, 0, &res))\n+\t\tif (of_address_to_resource(sysmgr_np, 0, &res)) {\n+\t\t\tof_node_put(sysmgr_np);\n \t\t\treturn -ENOMEM;\n+\t\t}\n \n \t\t/* Need physical address for SMCC call */\n \t\tbase = res.start;\n \n \t\tecc_mgr_map = regmap_init(NULL, NULL, (void *)base,\n \t\t\t\t\t  &s10_sdram_regmap_cfg);\n+\t\tof_node_put(sysmgr_np);\n \t}\n \tof_node_put(np_eccmgr);\n \tif (IS_ERR(ecc_mgr_map)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f736599d632dde93bda79cca54fd5dcfd937e06"}
{"commit_hash": "f0cfecea8d1e8e0cd5d5053f9452b3a450f49eb5", "short_hash": "f0cfecea8d1e", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-14T13:21:17+08:00", "committer_name": "Bjorn Helgaas", "committer_email": "bhelgaas@google.com", "committer_company": "Google", "commit_date": "2019-02-15T13:58:20-06:00", "subject": "PCI/portdrv: Support PCIe services on subtractive decode bridges", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/pcie"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Bjorn Helgaas <bhelgaas@google.com> (Google)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change adding PCI device ID entry"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Hardware support extension for PCIe bridges"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with maintainer review"}}, "score_justification": "Adds PCIe support for subtractive decode bridges with 2-line driver table update", "code_snippet": "@@ -185,6 +185,8 @@ static void pcie_portdrv_err_resume(struct pci_dev *dev)\n static const struct pci_device_id port_pci_ids[] = {\n \t/* handle any PCI-Express port */\n \t{ PCI_DEVICE_CLASS(((PCI_CLASS_BRIDGE_PCI << 8) | 0x00), ~0) },\n+\t/* subtractive decode PCI-to-PCI bridge, class type is 060401h */\n+\t{ PCI_DEVICE_CLASS(((PCI_CLASS_BRIDGE_PCI << 8) | 0x01), ~0) },\n \t{ },\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f0cfecea8d1e8e0cd5d5053f9452b3a450f49eb5"}
{"commit_hash": "dddaf89e2fbc69b15e82a96ccd174c70f65bf3d5", "short_hash": "dddaf89e2fbc", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T08:16:06Z", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-02-16T10:43:56+01:00", "subject": "netfilter: ipt_CLUSTERIP: make symbol 'cip_netdev_notifier' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5a86d68bcf02 (\"netfilter: ipt_CLUSTERIP: fix deadlock in netns exit routine\")", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/ipv4/netfilter"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in critical netfilter subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "Sparse warning fix adding static keyword to notifier_block", "code_snippet": "@@ -864,7 +864,7 @@ static struct pernet_operations clusterip_net_ops = {\n \t.size = sizeof(struct clusterip_net),\n };\n \n-struct notifier_block cip_netdev_notifier = {\n+static struct notifier_block cip_netdev_notifier = {\n \t.notifier_call = clusterip_netdev_event\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dddaf89e2fbc69b15e82a96ccd174c70f65bf3d5"}
{"commit_hash": "22cb45d7692ab502dd47dc5a607b3af240ee1e37", "short_hash": "22cb45d7692a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T09:04:08Z", "committer_name": "Konrad Rzeszutek Wilk", "committer_email": "konrad.wilk@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-16T11:36:34-05:00", "subject": "swiotlb: drop pointless static qualifier in swiotlb_create_debugfs()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dma", "subsystems_touched": ["kernel/dma"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Konrad Rzeszutek Wilk <konrad.wilk@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical DMA subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean commit with proper explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Oracle"}}, "score_justification": "Removes unnecessary static qualifier in __init function", "code_snippet": "@@ -682,7 +682,7 @@ swiotlb_dma_supported(struct device *hwdev, u64 mask)\n \n static int __init swiotlb_create_debugfs(void)\n {\n-\tstatic struct dentry *d_swiotlb_usage;\n+\tstruct dentry *d_swiotlb_usage;\n \tstruct dentry *ent;\n \n \td_swiotlb_usage = debugfs_create_dir(\"swiotlb\", NULL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/22cb45d7692ab502dd47dc5a607b3af240ee1e37"}
{"commit_hash": "a0bc653b1d48671caa9d22a44ff98050f8efd3ea", "short_hash": "a0bc653b1d48", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-15T02:36:47Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-17T15:31:47-08:00", "subject": "net: dsa: bcm_sf2: Remove set but not used variables 'v6_spec, v6_m_spec'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e4f7ef54cbd8 (\"dsa: bcm_sf2: use flow_rule infrastructure\")", "cc_stable": false, "subsystem_prefix": "net/dsa", "subsystems_touched": ["drivers/net/dsa"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 4 hunks, 5 deletions in DSA driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with Fixes tag, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer merge"}}, "score_justification": "Compiler warning cleanup removing unused variables after API change", "code_snippet": "@@ -603,7 +603,6 @@ static int bcm_sf2_cfp_ipv6_rule_set(struct bcm_sf2_priv *priv, int port,\n \t\t\t\t     unsigned int queue_num,\n \t\t\t\t     struct ethtool_rx_flow_spec *fs)\n {\n-\tstruct ethtool_tcpip6_spec *v6_spec, *v6_m_spec;\n \tstruct ethtool_rx_flow_spec_input input = {};\n \tunsigned int slice_num, rule_index[2];\n \tconst struct cfp_udf_layout *layout;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0bc653b1d48671caa9d22a44ff98050f8efd3ea"}
{"commit_hash": "3edaded89649d042ef4060cecc42f5599f3054b6", "short_hash": "3edaded89649", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T01:48:09Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-17T15:51:46-08:00", "subject": "net: sgi: use GFP_ATOMIC under spin lock", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 8d4c28fbc284 (\"meth: pass struct device to DMA API functions\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 17, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 2 line change in network driver"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Deadlock fix with Fixes tag, affects SGI platform users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, David Miller maintainer commit"}}, "score_justification": "Spinlock deadlock fix in SGI network driver, changes GFP_KERNEL to GFP_ATOMIC", "code_snippet": "@@ -214,7 +214,7 @@ static int meth_init_tx_ring(struct meth_private *priv)\n {\n \t/* Init TX ring */\n \tpriv->tx_ring = dma_alloc_coherent(&priv->pdev->dev,\n-\t\t\tTX_RING_BUFFER_SIZE, &priv->tx_ring_dma, GFP_KERNEL);\n+\t\t\tTX_RING_BUFFER_SIZE, &priv->tx_ring_dma, GFP_ATOMIC);\n \tif (!priv->tx_ring)\n \t\treturn -ENOMEM;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3edaded89649d042ef4060cecc42f5599f3054b6"}
{"commit_hash": "58ecf2688cc9b44d2e8f830c16212edbeaef4dce", "short_hash": "58ecf2688cc9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T10:37:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-17T15:53:01-08:00", "subject": "ptr_ring: remove duplicated include from ptr_ring.h", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "include/linux", "subsystems_touched": ["include/linux"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 9, "score_impact": 5, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Single line removal in critical kernel header"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Code cleanup with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with minimal documentation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit by Huawei, maintainer Davem"}}, "score_justification": "Trivial cleanup removing duplicate include in kernel header", "code_snippet": "@@ -26,7 +26,6 @@\n #include <linux/cache.h>\n #include <linux/types.h>\n #include <linux/compiler.h>\n-#include <linux/cache.h>\n #include <linux/slab.h>\n #include <asm/errno.h>\n #endif\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58ecf2688cc9b44d2e8f830c16212edbeaef4dce"}
{"commit_hash": "e511f17b1fb40248e63677a6ab81a29b9b32080d", "short_hash": "e511f17b1fb4", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T08:15:52Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-17T15:55:11-08:00", "subject": "net: hns3: make function hclge_set_all_vf_rst() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: aa5c4f175be6 (\"net: hns3: add reset handling for VF when doing PF reset\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with fixes tag"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, single change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer"}}, "score_justification": "Sparse warning fix making function static in Hisilicon driver", "code_snippet": "@@ -2599,7 +2599,7 @@ static int hclge_set_vf_rst(struct hclge_dev *hdev, int func_id, bool reset)\n \treturn hclge_cmd_send(&hdev->hw, &desc, 1);\n }\n \n-int hclge_set_all_vf_rst(struct hclge_dev *hdev, bool reset)\n+static int hclge_set_all_vf_rst(struct hclge_dev *hdev, bool reset)\n {\n \tint i;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e511f17b1fb40248e63677a6ab81a29b9b32080d"}
{"commit_hash": "bb8727096c86c299080c46258492098cc01741b9", "short_hash": "bb8727096c86", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T07:06:09Z", "committer_name": "Arnd Bergmann", "committer_email": "arnd@arndb.de", "committer_company": "Arndb", "commit_date": "2019-02-18T11:16:22+01:00", "subject": "clk: tegra: dfll: Make symbol 'tegra210_cpu_cvb_tables' static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 2b2dbc2f94e5 (\"clk: tegra: dfll: add CVB tables for Tegra210\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Thierry Reding <treding@nvidia.com> (NVIDIA)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -241,7 +241,7 @@ static const unsigned long tegra210_cpu_max_freq_table[] = {\n \t\t{          0UL,\t{       0, 0, 0 } }, \\\n \t}\n \n-struct cvb_table tegra210_cpu_cvb_tables[] = {\n+static struct cvb_table tegra210_cpu_cvb_tables[] = {\n \t{\n \t\t.speedo_id = 10,\n \t\t.process_id = 0,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/bb8727096c86c299080c46258492098cc01741b9"}
{"commit_hash": "6c8d750f9784cef32a8cffdad74c8a351b4ca3a6", "short_hash": "6c8d750f9784", "author_name": "Xiongfeng Wang", "author_email": "wangxiongfeng2@huawei.com", "author_company": "Huawei", "author_date": "2019-02-17T11:54:15+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-02-18T11:27:42+01:00", "subject": "cpufreq / cppc: Work around for Hisilicon CPPC cpufreq", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 1, "insertions": 65, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Xiongfeng Wang <wangxiongfeng2@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in cpufreq driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware workaround for Hisilicon platforms"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with adequate explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-company (Huawei-Intel) contribution"}}, "score_justification": "Hardware workaround for Hisilicon CPPC chips lacking performance counters", "code_snippet": "@@ -42,6 +42,66 @@\n  */\n static struct cppc_cpudata **all_cpu_data;\n \n+struct cppc_workaround_oem_info {\n+\tchar oem_id[ACPI_OEM_ID_SIZE +1];\n+\tchar oem_table_id[ACPI_OEM_TABLE_ID_SIZE + 1];\n+\tu32 oem_revision;\n+};\n+\n+static bool apply_hisi_workaround;\n+\n+static struct cppc_workaround_oem_info wa_info[] = {\n+\t{\n+\t\t.oem_id\t\t= \"HISI  \",\n+\t\t.oem_table_id\t= \"HIP07   \",\n+\t\t.oem_revision\t= 0,\n+\t}, {\n+\t\t.oem_id\t\t= \"HISI  \",\n+\t\t.oem_table_id\t= \"HIP08   \",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6c8d750f9784cef32a8cffdad74c8a351b4ca3a6"}
{"commit_hash": "1757d05f3112acc5c0cdbcccad3afdee99655bf9", "short_hash": "1757d05f3112", "author_name": "Xiongfeng Wang", "author_email": "wangxiongfeng2@huawei.com", "author_company": "Huawei", "author_date": "2019-02-17T11:54:14+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-02-18T11:27:42+01:00", "subject": "ACPI / CPPC: Add a helper to get desired performance", "primary_category": "FEAT-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "acpi", "subsystems_touched": ["drivers/acpi", "include/acpi"], "subsystem_tier": 3, "files_changed": 2, "insertions": 43, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiongfeng Wang <wangxiongfeng2@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small new API function in ACPI CPPC subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 16, "details": "New kernel API for CPPC performance queries"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean API addition with kerneldoc, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Intel maintainer applied"}}, "score_justification": "New exported helper function cppc_get_desired_perf for ACPI CPPC subsystem", "code_snippet": "@@ -1050,6 +1050,48 @@ static int cpc_write(int cpu, struct cpc_register_resource *reg_res, u64 val)\n \treturn ret_val;\n }\n \n+/**\n+ * cppc_get_desired_perf - Get the value of desired performance register.\n+ * @cpunum: CPU from which to get desired performance.\n+ * @desired_perf: address of a variable to store the returned desired performance\n+ *\n+ * Return: 0 for success, -EIO otherwise.\n+ */\n+int cppc_get_desired_perf(int cpunum, u64 *desired_perf)\n+{\n+\tstruct cpc_desc *cpc_desc = per_cpu(cpc_desc_ptr, cpunum);\n+\tint pcc_ss_id = per_cpu(cpu_pcc_subspace_idx, cpunum);\n+\tstruct cpc_register_resource *desired_reg;\n+\tstruct cppc_pcc_data *pcc_ss_data = NULL;\n+\n+\tdesired_reg = &cpc_desc->cpc_regs[DESIRED_PERF];\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1757d05f3112acc5c0cdbcccad3afdee99655bf9"}
{"commit_hash": "adf5d73056d185eff31a04aa91f5cb0a2ae22152", "short_hash": "adf5d73056d1", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T07:19:34+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-02-18T14:05:29+01:00", "subject": "Bluetooth: mediatek: trivial typo fix", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 7237c4c9ec92 (\"Bluetooth: mediatek: Add protocol support for MediaTek serial devices\")", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single character typo fix in comment"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, trivial typo correction"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting, maintainer sign-off"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Maintainer accepted, same company"}}, "score_justification": "Single-character typo fix in Bluetooth driver comment", "code_snippet": "@@ -107,7 +107,7 @@ static int mtk_hci_wmt_sync(struct hci_dev *hdev, u8 op, u8 flag, u16 plen,\n \t * Complete as with usual HCI command flow control.\n \t *\n \t * After sending the command, wait for BTMTKUART_TX_WAIT_VND_EVT\n-\t * state to be cleared. The driver speicfic event receive routine\n+\t * state to be cleared. The driver specific event receive routine\n \t * will clear that state and with that indicate completion of the\n \t * WMT command.\n \t */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/adf5d73056d185eff31a04aa91f5cb0a2ae22152"}
{"commit_hash": "77f328dbc6cf42f22c691a164958a5452142a542", "short_hash": "77f328dbc6cf", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T07:19:35+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-02-18T14:06:38+01:00", "subject": "Bluetooth: mediatek: fix up an error path to restore bdev->tx_state", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 7237c4c9ec92 (\"Bluetooth: mediatek: Add protocol support for MediaTek serial devices\")", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line fix in Bluetooth driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix with regression tag"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org"}}, "score_justification": "Resource leak fix in error paths for MediaTek Bluetooth driver", "code_snippet": "@@ -115,11 +115,13 @@ static int mtk_hci_wmt_sync(struct hci_dev *hdev, u8 op, u8 flag, u16 plen,\n \t\t\t\t  TASK_INTERRUPTIBLE, HCI_INIT_TIMEOUT);\n \tif (err == -EINTR) {\n \t\tbt_dev_err(hdev, \"Execution of wmt command interrupted\");\n+\t\tclear_bit(BTMTKUART_TX_WAIT_VND_EVT, &bdev->tx_state);\n \t\treturn err;\n \t}\n \n \tif (err) {\n \t\tbt_dev_err(hdev, \"Execution of wmt command timed out\");\n+\t\tclear_bit(BTMTKUART_TX_WAIT_VND_EVT, &bdev->tx_state);\n \t\treturn -ETIMEDOUT;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77f328dbc6cf42f22c691a164958a5452142a542"}
{"commit_hash": "88e5f366a1903bfb717ad37a72f4657dae4d81da", "short_hash": "88e5f366a190", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T07:19:36+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-02-18T14:07:38+01:00", "subject": "Bluetooth: mediatek: pass a pointer to mtk_hci_wmt_sync", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 48, "deletions": 15, "hunks": 18, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 12, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in Bluetooth driver with new struct"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code quality improvement with minor runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single logical change with clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, committer different org"}}, "score_justification": "Refactor consolidating function parameters into struct for better code readability and stack usage", "code_snippet": "@@ -58,6 +58,14 @@ struct mtk_hci_wmt_cmd {\n \tu8 data[256];\n } __packed;\n \n+struct btmtk_hci_wmt_params {\n+\tu8 op;\n+\tu8 flag;\n+\tu16 dlen;\n+\tconst void *data;\n+\tu32 *status;\n+};\n+\n struct btmtkuart_dev {\n \tstruct hci_dev *hdev;\n \tstruct serdev_device *serdev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88e5f366a1903bfb717ad37a72f4657dae4d81da"}
{"commit_hash": "e0b67035a90b58d01f911fed77b6e3da153da66e", "short_hash": "e0b67035a90b", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T07:19:37+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-02-18T14:08:55+01:00", "subject": "Bluetooth: mediatek: update the common setup between MT7622 and other devices", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 190, "deletions": 14, "hunks": 22, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change: 1 file, 22 hunks, +190/-14 lines in Bluetooth driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for MediaTek Bluetooth device setup"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Well-documented commit with external reference, 2 SOBs including maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (different org) from different companies"}}, "score_justification": "Enhances MediaTek Bluetooth driver setup sequence for MT7622 compatibility", "code_snippet": "@@ -37,7 +38,17 @@\n enum {\n \tMTK_WMT_PATCH_DWNLD = 0x1,\n \tMTK_WMT_FUNC_CTRL = 0x6,\n-\tMTK_WMT_RST = 0x7\n+\tMTK_WMT_RST = 0x7,\n+\tMTK_WMT_SEMAPHORE = 0x17,\n+};\n+\n+enum {\n+\tBTMTK_WMT_INVALID,\n+\tBTMTK_WMT_PATCH_UNDONE,\n+\tBTMTK_WMT_PATCH_DONE,\n+\tBTMTK_WMT_ON_UNDONE,\n+\tBTMTK_WMT_ON_DONE,\n+\tBTMTK_WMT_ON_PROGRESS,\n };\n \n struct mtk_stp_hdr {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0b67035a90b58d01f911fed77b6e3da153da66e"}
{"commit_hash": "93bc420ed41df63a18ae794101f7cbf45226a6ef", "short_hash": "93bc420ed41d", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T09:07:02+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-02-18T15:14:43+01:00", "subject": "ext2: support statx syscall", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/ext2"], "subsystem_tier": 2, "files_changed": 5, "insertions": 32, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "5 files, 14 hunks, 32 insertions - medium filesystem change"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Statx syscall support for ext2 FS users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single reviewer from same company, good message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer commitment"}}, "score_justification": "Adds statx syscall support to ext2 filesystem, fixing generic/424 test", "code_snippet": "@@ -774,6 +774,7 @@ extern int ext2_write_inode (struct inode *, struct writeback_control *);\n extern void ext2_evict_inode(struct inode *);\n extern int ext2_get_block(struct inode *, sector_t, struct buffer_head *, int);\n extern int ext2_setattr (struct dentry *, struct iattr *);\n+extern int ext2_getattr (const struct path *, struct kstat *, u32, unsigned int);\n extern void ext2_set_inode_flags(struct inode *inode);\n extern int ext2_fiemap(struct inode *inode, struct fiemap_extent_info *fieinfo,\n \t\t       u64 start, u64 len);\ndiff --git a/fs/ext2/file.c b/fs/ext2/file.c\nindex 28b2609f25c1..39c4772e96c9 100644\n--- a/fs/ext2/file.c\n+++ b/fs/ext2/file.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/93bc420ed41df63a18ae794101f7cbf45226a6ef"}
{"commit_hash": "780feae7eb69388c8d8b661cda6706b0dc0f642b", "short_hash": "780feae7eb69", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T10:59:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-18T16:34:20-08:00", "subject": "mdio_bus: Fix PTR_ERR() usage after initialization to constant", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: bafbdd527d56 (\"phylib: Add device reset GPIO support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/phy", "subsystems_touched": ["drivers/net/phy"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in networking driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic error fix with no stable tag, affects PHY driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, no external review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer from different org"}}, "score_justification": "Fixes incorrect PTR_ERR() usage order in GPIO error handling, coccinelle warning", "code_snippet": "@@ -48,11 +48,12 @@ static int mdiobus_register_gpiod(struct mdio_device *mdiodev)\n \t\tgpiod = fwnode_get_named_gpiod(&mdiodev->dev.of_node->fwnode,\n \t\t\t\t\t       \"reset-gpios\", 0, GPIOD_OUT_LOW,\n \t\t\t\t\t       \"PHY reset\");\n-\tif (PTR_ERR(gpiod) == -ENOENT ||\n-\t    PTR_ERR(gpiod) == -ENOSYS)\n-\t\tgpiod = NULL;\n-\telse if (IS_ERR(gpiod))\n-\t\treturn PTR_ERR(gpiod);\n+\tif (IS_ERR(gpiod)) {\n+\t\tif (PTR_ERR(gpiod) == -ENOENT || PTR_ERR(gpiod) == -ENOSYS)\n+\t\t\tgpiod = NULL;\n+\t\telse\n+\t\t\treturn PTR_ERR(gpiod);\n+\t}\n \n \tmdiodev->reset = gpiod;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/780feae7eb69388c8d8b661cda6706b0dc0f642b"}
{"commit_hash": "6e07902f56fae81036ebc5a0b61d5ffdd739e4bc", "short_hash": "6e07902f56fa", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T08:19:55Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-18T16:34:51-08:00", "subject": "net: sched: using kfree_rcu() to simplify the code", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Author and maintainer sign-offs only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to maintainer"}}, "score_justification": "RCU callback simplification using kfree_rcu() helper", "code_snippet": "@@ -526,11 +526,6 @@ static struct qdisc_size_table *qdisc_get_stab(struct nlattr *opt,\n \treturn stab;\n }\n \n-static void stab_kfree_rcu(struct rcu_head *head)\n-{\n-\tkfree(container_of(head, struct qdisc_size_table, rcu));\n-}\n-\n void qdisc_put_stab(struct qdisc_size_table *tab)\n {\n \tif (!tab)", "flags": ["CRITICAL_PATH_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/6e07902f56fae81036ebc5a0b61d5ffdd739e4bc"}
{"commit_hash": "bf9d787ba7ea87c5c676a73a0ba191edd5a0341a", "short_hash": "bf9d787ba7ea", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T17:53:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-18T16:40:08-08:00", "subject": "liquidio: using NULL instead of plain integer", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/cavium/liquidio"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in network driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple fix with basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to davem"}}, "score_justification": "Compiler warning fix replacing integer 0 with NULL pointer", "code_snippet": "@@ -1450,7 +1450,7 @@ void cn23xx_tell_vf_its_macaddr_changed(struct octeon_device *oct, int vfidx,\n \t\tmbox_cmd.recv_len = 0;\n \t\tmbox_cmd.recv_status = 0;\n \t\tmbox_cmd.fn = NULL;\n-\t\tmbox_cmd.fn_arg = 0;\n+\t\tmbox_cmd.fn_arg = NULL;\n \t\tether_addr_copy(mbox_cmd.msg.s.params, mac);\n \t\tmbox_cmd.q_no = vfidx * oct->sriov_info.rings_per_vf;\n \t\tocteon_mbox_write(oct, &mbox_cmd);\ndiff --git a/drivers/net/ethernet/cavium/liquidio/lio_main.c b/drivers/net/ethernet/cavium/liquidio/lio_main.c\nindex e97e6754ee09..9b7819fdc9de 100644\n--- a/drivers/net/ethernet/cavium/liquidio/lio_main.c\n+++ b/drivers/net/ethernet/cavium/liquidio/lio_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf9d787ba7ea87c5c676a73a0ba191edd5a0341a"}
{"commit_hash": "c9b747dbc2036c917b1067fbb78dc38b105c4454", "short_hash": "c9b747dbc203", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T12:19:54Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-18T16:47:32-08:00", "subject": "bnx2x: Remove set but not used variable 'mfw_vn'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/broadcom"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sudarsana Reddy Kalluru <skalluru@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 4-line change in single driver file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix only affects compile-time"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean atomic change with Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Marvell reviewer, netdev maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in bnx2x driver", "code_snippet": "@@ -11998,7 +11998,7 @@ static void validate_set_si_mode(struct bnx2x *bp)\n static int bnx2x_get_hwinfo(struct bnx2x *bp)\n {\n \tint /*abs*/func = BP_ABS_FUNC(bp);\n-\tint vn, mfw_vn;\n+\tint vn;\n \tu32 val = 0, val2 = 0;\n \tint rc = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c9b747dbc2036c917b1067fbb78dc38b105c4454"}
{"commit_hash": "f91fecc09e498529230b4d5053cb361619a0c42d", "short_hash": "f91fecc09e49", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-18T21:05:01+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-02-18T17:09:24+01:00", "subject": "x86/smpboot: Remove unused phys_id variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 6, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Minimal change in critical x86 kernel code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with Fixes tag and detailed Cc list"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company contribution from Hisilicon to SUSE maintainer"}}, "score_justification": "Cleanup removing unused variable in x86 smpboot, cross-org reviewed by maintainer", "code_snippet": "@@ -149,7 +149,7 @@ static inline void smpboot_restore_warm_reset_vector(void)\n  */\n static void smp_callin(void)\n {\n-\tint cpuid, phys_id;\n+\tint cpuid;\n \n \t/*\n \t * If waken up by an INIT in an 82489DX configuration", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f91fecc09e498529230b4d5053cb361619a0c42d"}
{"commit_hash": "b2c02c63ac254530cffe3a7dc7d4e433da1b3a67", "short_hash": "b2c02c63ac25", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T07:46:53Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-18T17:42:37Z", "subject": "ASoC: cs35l36: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6ba9dd6c893b (\"ASoC: cs35l36: Add support for Cirrus CS35L36 Amplifier\")", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["James Schulman <james.schulman@cirrus.com> (Cirrus)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in audio codec driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-company review, good message format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org committer, Cirrus ack"}}, "score_justification": "Sparse warning fix adding static to 4 functions in audio codec, cross-org review", "code_snippet": "@@ -131,7 +131,7 @@ static const struct cs35l36_pll_config cs35l36_pll_sysclk[] = {\n \t{27000000,\t0x3F, 0x0A},\n };\n \n-struct reg_default cs35l36_reg[] = {\n+static struct reg_default cs35l36_reg[] = {\n \t{CS35L36_TESTKEY_CTRL,\t\t\t0x00000000},\n \t{CS35L36_USERKEY_CTL,\t\t\t0x00000000},\n \t{CS35L36_OTP_CTRL1,\t\t\t0x00002460},", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2c02c63ac254530cffe3a7dc7d4e433da1b3a67"}
{"commit_hash": "70605450fd42060783b0072a61a30f42a74f2917", "short_hash": "70605450fd42", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T14:50:26Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-18T18:23:59Z", "subject": "ASoC: stm32: sai: remove set but not used variables 'mask, cr1'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -898,7 +898,7 @@ static int stm32_sai_configure_clock(struct snd_soc_dai *cpu_dai,\n \t\t\t\t     struct snd_pcm_hw_params *params)\n {\n \tstruct stm32_sai_sub_data *sai = snd_soc_dai_get_drvdata(cpu_dai);\n-\tint cr1, mask, div = 0;\n+\tint div = 0;\n \tint sai_clk_rate, mclk_ratio, den;\n \tunsigned int rate = params_rate(params);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/70605450fd42060783b0072a61a30f42a74f2917"}
{"commit_hash": "bceac167b00fbc2f5e93eecd578179a467863d85", "short_hash": "bceac167b00f", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-11T10:13:41+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-02-18T19:54:34+01:00", "subject": "mt76: change the return type of mt76_dma_attach()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 8, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver (tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Simple API simplification changing return type int to void", "code_snippet": "@@ -553,10 +553,9 @@ static const struct mt76_queue_ops mt76_dma_ops = {\n \t.kick = mt76_dma_kick_queue,\n };\n \n-int mt76_dma_attach(struct mt76_dev *dev)\n+void mt76_dma_attach(struct mt76_dev *dev)\n {\n \tdev->queue_ops = &mt76_dma_ops;\n-\treturn 0;\n }\n EXPORT_SYMBOL_GPL(mt76_dma_attach);\n \ndiff --git a/drivers/net/wireless/mediatek/mt76/dma.h b/drivers/net/wireless/mediatek/mt76/dma.h\nindex 357cc356342d..e3292df5e9b2 100644\n--- a/drivers/net/wireless/mediatek/mt76/dma.h\n+++ b/drivers/net/wireless/mediatek/mt76/dma.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bceac167b00fbc2f5e93eecd578179a467863d85"}
{"commit_hash": "f612acfae86af7ecad754ae6a46019be9da05b8e", "short_hash": "f612acfae86a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T10:10:38+08:00", "committer_name": "Al Viro", "committer_email": "viro@zeniv.linux.org.uk", "committer_company": "Org", "commit_date": "2019-02-18T21:26:24-05:00", "subject": "exec: Fix mem leak in kernel_read_file", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 39d637af5aa7 (\"vfs: forbid write access when reading a file into memory\")", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Al Viro <viro@zeniv.linux.org.uk> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 20, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny surgical fix in critical VFS path"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 20, "details": "Memory leak affecting all kernel module loading"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with Fixes tag and stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org (Huawei -> maintainer) with external bug report"}}, "score_justification": "Memory leak in kernel_read_file() error path, reported by syzkaller", "code_snippet": "@@ -932,7 +932,7 @@ int kernel_read_file(struct file *file, void **buf, loff_t *size,\n \t\tbytes = kernel_read(file, *buf + pos, i_size - pos, &pos);\n \t\tif (bytes < 0) {\n \t\t\tret = bytes;\n-\t\t\tgoto out;\n+\t\t\tgoto out_free;\n \t\t}\n \n \t\tif (bytes == 0)\n", "flags": ["BUG-BOT-SYZKALLER"], "link": "https://lore.kernel.org/linux-kernel/f612acfae86af7ecad754ae6a46019be9da05b8e"}
{"commit_hash": "44466306ebecc73c68835f5fe27d119591a1ab5c", "short_hash": "44466306ebec", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T12:17:39-08:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-19T10:38:19-08:00", "subject": "Input: ti_am335x_tsc - remove set but not used variable 'tscadc_dev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 333e07ec4b33 (\"Input: ti_am335x_tsc: Mark TSC device as wakeup source\")", "cc_stable": false, "subsystem_prefix": "input", "subsystems_touched": ["drivers/input/touchscreen"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal warning fix in touchscreen driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": ": Clear message with Fixes tag and root cause"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer review and commit"}}, "score_justification": "Remove unused variable fix triggered by previous commit, clean warning resolution with proper Fixes tag", "code_snippet": "@@ -507,10 +507,8 @@ static int titsc_remove(struct platform_device *pdev)\n static int __maybe_unused titsc_suspend(struct device *dev)\n {\n \tstruct titsc *ts_dev = dev_get_drvdata(dev);\n-\tstruct ti_tscadc_dev *tscadc_dev;\n \tunsigned int idle;\n \n-\ttscadc_dev = ti_tscadc_dev_get(to_platform_device(dev));\n \tif (device_may_wakeup(dev)) {\n \t\ttitsc_writel(ts_dev, REG_IRQSTATUS, TSC_IRQENB_MASK);\n \t\tidle = titsc_readl(ts_dev, REG_IRQENABLE);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44466306ebecc73c68835f5fe27d119591a1ab5c"}
{"commit_hash": "e6049cf122d1568d8000c7f5bd52c99de07ecc65", "short_hash": "e6049cf122d1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-15T03:35:07Z", "committer_name": "Maxime Ripard", "committer_email": "maxime.ripard@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-02-19T11:08:41+01:00", "subject": "drm: Remove set but not used variable 'gem'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Eric Anholt <eric@anholt.net> (Anholt)", "Maxime Ripard <maxime.ripard@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -249,7 +249,6 @@ static int vc4_txp_connector_atomic_check(struct drm_connector *conn,\n \t\t\t\t\tstruct drm_connector_state *conn_state)\n {\n \tstruct drm_crtc_state *crtc_state;\n-\tstruct drm_gem_cma_object *gem;\n \tstruct drm_framebuffer *fb;\n \tint i;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e6049cf122d1568d8000c7f5bd52c99de07ecc65"}
{"commit_hash": "9bcf065e28122588a6cbee08cf847826dacbb438", "short_hash": "9bcf065e2812", "author_name": "Qing Xia", "author_email": "saberlily.xia@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-01T14:59:46+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T11:12:08+01:00", "subject": "staging: android: ion: fix sys heap pool's gfp_flags", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e7f63771b60e (\"ION: Sys_heap: Add cached pool to spead up cached buffer alloc\")", "cc_stable": true, "subsystem_prefix": "staging/android/ion", "subsystems_touched": ["drivers/staging/android/ion"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Qing Xia <saberlily.xia@hisilicon.com> (HiSilicon)", "Jing Xia <jing.xia@unisoc.com> (Unisoc)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Yuming Han <yuming.han@unisoc.com> (Unisoc)", "Zhaoyang Huang <zhaoyang.huang@unisoc.com> (Unisoc)", "Orson Zhai <orson.zhai@unisoc.com> (Unisoc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 6, "score_impact": 17, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in staging driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "3 reviewers from same company, good message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Hisilicon, committer from Linux Foundation"}}, "score_justification": "Regression fix in Android ION driver with incorrect GFP flags reset logic", "code_snippet": "@@ -224,10 +224,10 @@ static void ion_system_heap_destroy_pools(struct ion_page_pool **pools)\n static int ion_system_heap_create_pools(struct ion_page_pool **pools)\n {\n \tint i;\n-\tgfp_t gfp_flags = low_order_gfp_flags;\n \n \tfor (i = 0; i < NUM_ORDERS; i++) {\n \t\tstruct ion_page_pool *pool;\n+\t\tgfp_t gfp_flags = low_order_gfp_flags;\n \n \t\tif (orders[i] > 4)\n \t\t\tgfp_flags = high_order_gfp_flags;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9bcf065e28122588a6cbee08cf847826dacbb438"}
{"commit_hash": "db42646990619bb2e249065b6dcfe71327944863", "short_hash": "db4264699061", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T12:29:29Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T11:14:14+01:00", "subject": "staging: mt7621-mmc: Remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Single include removal in staging driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Low-impact cleanup, no runtime effect"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic cleanup, minimal testing needed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer applied"}}, "score_justification": "Unused include removal in staging driver, single-line change with cross-org review", "code_snippet": "@@ -36,7 +36,6 @@\n  * Inc.\n  */\n \n-#include <linux/version.h>\n #include <linux/kernel.h>\n #include <linux/sched.h>\n #include <linux/kthread.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db42646990619bb2e249065b6dcfe71327944863"}
{"commit_hash": "880cbfa02406af395a120dc758259c892053006e", "short_hash": "880cbfa02406", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T15:15:43Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T11:14:14+01:00", "subject": "staging: rtl8192e: Remove set but not used variables 'broad_addr, stype'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8192e"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small cleanup in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear warning fix with good message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Compiler warning fix removing unused variables in staging driver", "code_snippet": "@@ -1728,8 +1728,7 @@ static short _rtl92e_tx(struct net_device *dev, struct sk_buff *skb)\n \t\t\t\t    MAX_DEV_ADDR_SIZE);\n \tstruct tx_desc *pdesc = NULL;\n \tstruct rtllib_hdr_1addr *header = NULL;\n-\tu16 fc = 0, type = 0, stype = 0;\n-\tbool  multi_addr = false, broad_addr = false, uni_addr = false;\n+\tu16 fc = 0, type = 0;\n \tu8 *pda_addr = NULL;\n \tint   idx;\n \tu32 fwinfo_size = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/880cbfa02406af395a120dc758259c892053006e"}
{"commit_hash": "7c136bcc09c421f5a2a1bdd59b8936016e4df49d", "short_hash": "7c136bcc09c4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T11:26:48+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T11:18:00+01:00", "subject": "staging: rtlwifi: Remove set but not used variables 'dataempty, hoffset'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtlwifi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in staging driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with compiler warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei to Linux Foundation maintainer"}}, "score_justification": "Removes unused variables to fix gcc warnings in staging driver", "code_snippet": "@@ -919,7 +919,7 @@ static int efuse_pg_packet_write(struct ieee80211_hw *hw,\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct pgpkt_struct target_pkt;\n \tu8 write_state = PG_STATE_HEADER;\n-\tint continual = true, dataempty = true, result = true;\n+\tint continual = true, result = true;\n \tu16 efuse_addr = 0;\n \tu8 efuse_data;\n \tu8 target_word_cnts = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c136bcc09c421f5a2a1bdd59b8936016e4df49d"}
{"commit_hash": "76a60f312f64dc48450b15a7f167b46e6230e4d1", "short_hash": "76a60f312f64", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T01:35:56Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-19T11:42:49Z", "subject": "ASoC: wm8741: Make function 'wm8741_mute' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 36b1599340b5 (\"ASoC: wm8741: Add digital mute callback\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in audio driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean warning fix with proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Sparse warning fix adding static to unused function in audio codec driver", "code_snippet": "@@ -368,7 +368,7 @@ static int wm8741_set_dai_fmt(struct snd_soc_dai *codec_dai,\n \treturn 0;\n }\n \n-int wm8741_mute(struct snd_soc_dai *codec_dai, int mute)\n+static int wm8741_mute(struct snd_soc_dai *codec_dai, int mute)\n {\n \tstruct snd_soc_component *component = codec_dai->component;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76a60f312f64dc48450b15a7f167b46e6230e4d1"}
{"commit_hash": "7346195e8643482968f547483e0d823ec1982fab", "short_hash": "7346195e8643", "author_name": "He Kuang", "author_email": "hekuang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T21:05:31+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-02-19T12:30:12-03:00", "subject": "perf report: Don't shadow inlined symbol with different addr range", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: aa441895f7b4 (\"perf report: Compare symbol name for inlined frames when sorting\")", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/util"], "subsystem_tier": 3, "files_changed": 2, "insertions": 9, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["He Kuang <hekuang@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2 files, 4 hunks, 12 LOC in perf/util subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix affecting perf tool users with inline symbols"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag, Link to discussion, Acked-by, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat committer, cross-company review"}}, "score_justification": "Fixes perf tool regression where inlined symbols with same name but different addr ranges were incorrectly shadowed", "code_snippet": "@@ -231,8 +231,14 @@ static int64_t _sort__sym_cmp(struct symbol *sym_l, struct symbol *sym_r)\n \tif (sym_l == sym_r)\n \t\treturn 0;\n \n-\tif (sym_l->inlined || sym_r->inlined)\n-\t\treturn strcmp(sym_l->name, sym_r->name);\n+\tif (sym_l->inlined || sym_r->inlined) {\n+\t\tint ret = strcmp(sym_l->name, sym_r->name);\n+\n+\t\tif (ret)\n+\t\t\treturn ret;\n+\t\tif ((sym_l->start <= sym_r->end) && (sym_l->end >= sym_r->start))\n+\t\t\treturn 0;\n+\t}\n \n \tif (sym_l->start != sym_r->start)\n \t\treturn (int64_t)(sym_r->start - sym_l->start);\ndiff --git a/tools/perf/util/srcline.c b/tools/perf/util/srcline.c\nindex 00f215580b5a..10ca1533937e 100644\n--- a/tools/perf/util/srcline.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7346195e8643482968f547483e0d823ec1982fab"}
{"commit_hash": "72faa7a773ca59336f3c889e878de81445c5a85c", "short_hash": "72faa7a773ca", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-16T17:12:24+08:00", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-02-19T12:45:01-08:00", "subject": "MIPS: irq: Allocate accurate order pages for irq stack", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: fe8bd18ffea5 (\"MIPS: Introduce irq_stack\")", "cc_stable": true, "subsystem_prefix": "mips", "subsystems_touched": ["arch/mips/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 17, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arch subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport, affects MIPS users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (ZTE to MIPS), maintainer signed"}}, "score_justification": "IRQ stack allocation bug fix using get_order() for correct page order on MIPS", "code_snippet": "@@ -52,6 +52,7 @@ asmlinkage void spurious_interrupt(void)\n void __init init_IRQ(void)\n {\n \tint i;\n+\tunsigned int order = get_order(IRQ_STACK_SIZE);\n \n \tfor (i = 0; i < NR_IRQS; i++)\n \t\tirq_set_noprobe(i);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72faa7a773ca59336f3c889e878de81445c5a85c"}
{"commit_hash": "3b9c9f3b0b0293a52c0edd033d9df3a6b0e06f62", "short_hash": "3b9c9f3b0b02", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T16:06:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-19T13:22:46-08:00", "subject": "net: rose: add missing dev_put() on error in rose_bind", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/rose"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 13, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 2-line fix in networking protocol"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix in niche protocol"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean fix with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Missing dev_put on error path in ROSE protocol bind function", "code_snippet": "@@ -689,8 +689,10 @@ static int rose_bind(struct socket *sock, struct sockaddr *uaddr, int addr_len)\n \t\trose->source_call = user->call;\n \t\tax25_uid_put(user);\n \t} else {\n-\t\tif (ax25_uid_policy && !capable(CAP_NET_BIND_SERVICE))\n+\t\tif (ax25_uid_policy && !capable(CAP_NET_BIND_SERVICE)) {\n+\t\t\tdev_put(dev);\n \t\t\treturn -EACCES;\n+\t\t}\n \t\trose->source_call   = *source;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b9c9f3b0b0293a52c0edd033d9df3a6b0e06f62"}
{"commit_hash": "c2a5994fbb5bf6ae3fcdcc9bbe323d62f8e28618", "short_hash": "c2a5994fbb5b", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T21:45:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-19T14:08:19-08:00", "subject": "net: ns83820: code cleanup for ns83820_probe_phy()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 49, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)"], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in network driver with net deletion of code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed cleanup with clear purpose"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit, cross-company review"}}, "score_justification": "Dead code removal in network driver with cross-org review", "code_snippet": "@@ -1869,56 +1869,28 @@ static unsigned ns83820_mii_write_reg(struct ns83820 *dev, unsigned phy, unsigne\n static void ns83820_probe_phy(struct net_device *ndev)\n {\n \tstruct ns83820 *dev = PRIV(ndev);\n-\tstatic int first;\n-\tint i;\n-#define MII_PHYIDR1\t0x02\n-#define MII_PHYIDR2\t0x03\n-\n-#if 0\n-\tif (!first) {\n-\t\tunsigned tmp;\n-\t\tns83820_mii_read_reg(dev, 1, 0x09);\n-\t\tns83820_mii_write_reg(dev, 1, 0x10, 0x0d3e);\n-\n-\t\ttmp = ns83820_mii_read_reg(dev, 1, 0x00);\n-\t\tns83820_mii_write_reg(dev, 1, 0x00, tmp | 0x8000);\n-\t\tudelay(1300);\n-\t\tns83820_mii_read_reg(dev, 1, 0x09);\n-\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2a5994fbb5bf6ae3fcdcc9bbe323d62f8e28618"}
{"commit_hash": "4e46f271c37415323f2b650d02ef50c87ff8d092", "short_hash": "4e46f271c374", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T14:57:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T14:26:45+01:00", "subject": "usb: typec: mux: Fix unsigned comparison with less than zero", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: 96a6d031ca99 (\"usb: typec: mux: Find the muxes by also matching against the device node\")", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/typec"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB subsystem driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with Fixes tag, affects USB Type-C users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Acked-by, clear explanation with Coccinelle detection"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Intel reviewer, Linux Foundation committer"}}, "score_justification": "Type mismatch bug fix: unsigned variable hiding error code check", "code_snippet": "@@ -126,7 +126,7 @@ static void *typec_mux_match(struct device_connection *con, int ep, void *data)\n {\n \tconst struct typec_altmode_desc *desc = data;\n \tstruct typec_mux *mux;\n-\tsize_t nval;\n+\tint nval;\n \tbool match;\n \tu16 *val;\n \tint i;\n", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/4e46f271c37415323f2b650d02ef50c87ff8d092"}
{"commit_hash": "0742a338f5b3446a26de551ad8273fb41b2787f2", "short_hash": "0742a338f5b3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T22:34:51+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T14:41:38+01:00", "subject": "cdc-wdm: pass return value of recover_from_urb_loss", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 17d80d562fd7 (\"USB: autosuspend for cdc-wdm\")", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/class"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic regression fix for USB device users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer Greg KH merged"}}, "score_justification": "Return value bug fix in USB driver with regression tag", "code_snippet": "@@ -1099,7 +1099,7 @@ static int wdm_post_reset(struct usb_interface *intf)\n \trv = recover_from_urb_loss(desc);\n \tmutex_unlock(&desc->wlock);\n \tmutex_unlock(&desc->rlock);\n-\treturn 0;\n+\treturn rv;\n }\n \n static struct usb_driver wdm_driver = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0742a338f5b3446a26de551ad8273fb41b2787f2"}
{"commit_hash": "8e9fd85c59fb22f4dfa55d2d155401aa935d6ab4", "short_hash": "8e9fd85c59fb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-15T12:35:13Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T14:41:38+01:00", "subject": "usb: host: oxu210hp-hcd: remove set but not used variables 'uframes, transfer_buffer_length'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/host", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in USB host driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message explaining warnings, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Compiler warning fix removing unused variables in USB driver", "code_snippet": "@@ -2253,16 +2253,12 @@ static void scan_periodic(struct oxu_hcd *oxu)\n \tfor (;;) {\n \t\tunion ehci_shadow\tq, *q_p;\n \t\t__le32\t\t\ttype, *hw_p;\n-\t\tunsigned\t\tuframes;\n \n \t\t/* don't scan past the live uframe */\n \t\tframe = now_uframe >> 3;\n-\t\tif (frame == (clock >> 3))\n-\t\t\tuframes = now_uframe & 0x07;\n-\t\telse {\n+\t\tif (frame != (clock >> 3)) {\n \t\t\t/* safe to scan the whole frame at once */\n \t\t\tnow_uframe |= 0x07;\n-\t\t\tuframes = 8;\n \t\t}\n \n restart:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e9fd85c59fb22f4dfa55d2d155401aa935d6ab4"}
{"commit_hash": "682a60446b150f3058b77806768977f4dff0fffb", "short_hash": "682a60446b15", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T01:35:43Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-19T14:50:11+01:00", "subject": "misc: fastrpc: Fix return value check in fastrpc_map_create()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc", "subsystems_touched": ["drivers/misc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in misc driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix for error handling in fastrpc driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer committer"}}, "score_justification": "Fix incorrect error checking - dma_buf_get() returns ERR_PTR not NULL", "code_snippet": "@@ -496,8 +496,8 @@ static int fastrpc_map_create(struct fastrpc_user *fl, int fd,\n \tmap->fl = fl;\n \tmap->fd = fd;\n \tmap->buf = dma_buf_get(fd);\n-\tif (!map->buf) {\n-\t\terr = -EINVAL;\n+\tif (IS_ERR(map->buf)) {\n+\t\terr = PTR_ERR(map->buf);\n \t\tgoto get_err;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/682a60446b150f3058b77806768977f4dff0fffb"}
{"commit_hash": "e4d1b2716b8859199c28f2ac5f984bd05a146a6b", "short_hash": "e4d1b2716b88", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T08:08:46Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-19T17:07:40+02:00", "subject": "brcmfmac: remove set but not used variable 'old_state'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "brcmfmac", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Arend van Spriel <arend.vanspriel@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line deletion in wireless driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime effect"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Acked-by from Broadcom, clear warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, CodeAurora committer, Broadcom ack"}}, "score_justification": "Unused variable warning fix in Broadcom wireless driver", "code_snippet": "@@ -575,7 +575,6 @@ static void\n brcmf_usb_state_change(struct brcmf_usbdev_info *devinfo, int state)\n {\n \tstruct brcmf_bus *bcmf_bus = devinfo->bus_pub.bus;\n-\tint old_state;\n \n \tbrcmf_dbg(USB, \"Enter, current state=%d, new state=%d\\n\",\n \t\t  devinfo->bus_pub.state, state);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4d1b2716b8859199c28f2ac5f984bd05a146a6b"}
{"commit_hash": "6f6e4f98ee52b2159a61f31bd6052783e9af2c09", "short_hash": "6f6e4f98ee52", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T07:51:56Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-19T17:09:25+02:00", "subject": "rsi: remove set but not used variables 'info, vif'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -121,11 +121,8 @@ static struct sk_buff *rsi_prepare_skb(struct rsi_common *common,\n \t\t\t\t       u32 pkt_len,\n \t\t\t\t       u8 extended_desc)\n {\n-\tstruct ieee80211_tx_info *info;\n \tstruct sk_buff *skb = NULL;\n \tu8 payload_offset;\n-\tstruct ieee80211_vif *vif;\n-\tstruct ieee80211_hdr *wh;\n \n \tif (WARN(!pkt_len, \"%s: Dummy pkt received\", __func__))\n \t\treturn NULL;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/6f6e4f98ee52b2159a61f31bd6052783e9af2c09"}
{"commit_hash": "e97cb6ea71b03e13449726d57f2409f66e531180", "short_hash": "e97cb6ea71b0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T01:49:17Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-19T17:14:23+02:00", "subject": "libertas_tf: remove set but not used variable 'flags'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/marvell/libertas_tf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Steve deRosier <derosier@cal-sierra.com> (Cal-sierra)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line deletion in wireless driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single Reviewed-by tag, clear message explaining warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @codeaurora.org, cross-company review"}}, "score_justification": "GCC unused variable warning fix in Libertas wireless driver with proper review chain", "code_snippet": "@@ -550,7 +550,6 @@ int lbtf_rx(struct lbtf_private *priv, struct sk_buff *skb)\n \tstruct ieee80211_rx_status stats;\n \tstruct rxpd *prxpd;\n \tint need_padding;\n-\tunsigned int flags;\n \tstruct ieee80211_hdr *hdr;\n \n \tlbtf_deb_enter(LBTF_DEB_RX);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e97cb6ea71b03e13449726d57f2409f66e531180"}
{"commit_hash": "b9b81d152cfbce6c99dd5f07156b61c41f98ac05", "short_hash": "b9b81d152cfb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T07:52:26Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-19T17:17:42+02:00", "subject": "rtl818x_pci: Remove set but not used variables 'io_addr, mem_addr'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1723,8 +1723,8 @@ static int rtl8180_probe(struct pci_dev *pdev,\n {\n \tstruct ieee80211_hw *dev;\n \tstruct rtl8180_priv *priv;\n-\tunsigned long mem_addr, mem_len;\n-\tunsigned int io_addr, io_len;\n+\tunsigned long mem_len;\n+\tunsigned int io_len;\n \tint err;\n \tconst char *chip_name, *rf_name = NULL;\n \tu32 reg;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/b9b81d152cfbce6c99dd5f07156b61c41f98ac05"}
{"commit_hash": "59e54d9aabc411e7d8628622526f38fad4a19b28", "short_hash": "59e54d9aabc4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T01:51:52Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-19T18:58:34-05:00", "subject": "scsi: lpfc: Remove set but not used variable 'phys_id'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing unused variable from SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei.com, committer @oracle.com, Broadcom reviewer"}}, "score_justification": "Remove unused variable to fix compiler warning in lpfc driver", "code_snippet": "@@ -10597,7 +10597,7 @@ lpfc_find_hyper(struct lpfc_hba *phba, int cpu,\n static void\n lpfc_cpu_affinity_check(struct lpfc_hba *phba, int vectors)\n {\n-\tint i, cpu, idx, phys_id;\n+\tint i, cpu, idx;\n \tint max_phys_id, min_phys_id;\n \tint max_core_id, min_core_id;\n \tstruct lpfc_vector_map_info *cpup;", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/59e54d9aabc411e7d8628622526f38fad4a19b28"}
{"commit_hash": "bcf3b67d16a4c8ffae0aa79de5853435e683945c", "short_hash": "bcf3b67d16a4", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-02-15T19:50:27+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-19T18:58:38-05:00", "subject": "scsi: megaraid_sas: return error when create DMA pool failed", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 40, "score_technical": 7, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line fix in SCSI driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting RAID controller users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed stack trace provided, cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom ack, Oracle commit"}}, "score_justification": "NULL pointer dereference from error path bug in DMA pool failure", "code_snippet": "@@ -4188,6 +4188,7 @@ int megasas_alloc_cmds(struct megasas_instance *instance)\n \tif (megasas_create_frame_pool(instance)) {\n \t\tdev_printk(KERN_DEBUG, &instance->pdev->dev, \"Error creating frame DMA pool\\n\");\n \t\tmegasas_free_cmds(instance);\n+\t\treturn -ENOMEM;\n \t}\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bcf3b67d16a4c8ffae0aa79de5853435e683945c"}
{"commit_hash": "3b8f8b95d9d3c73637bd33a644952a7cfa8e2c2a", "short_hash": "3b8f8b95d9d3", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T07:04:32Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-19T20:52:19-07:00", "subject": "iw_cxgb4: Make function read_tcb() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 11a27e2121a5 (\"iw_cxgb4: complete the cached SRQ buffers\")", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/cxgb4"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Raju Rangoju <rajur@chelsio.com> (Chelsio)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in infiniband driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Has Fixes tag and cross-company ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox committer, Chelsio ack"}}, "score_justification": "Sparse warning fix adding static to local function in infiniband driver", "code_snippet": "@@ -655,7 +655,7 @@ static int send_halfclose(struct c4iw_ep *ep)\n \treturn c4iw_l2t_send(&ep->com.dev->rdev, skb, ep->l2t);\n }\n \n-void read_tcb(struct c4iw_ep *ep)\n+static void read_tcb(struct c4iw_ep *ep)\n {\n \tstruct sk_buff *skb;\n \tstruct cpl_get_tcb *req;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b8f8b95d9d3c73637bd33a644952a7cfa8e2c2a"}
{"commit_hash": "6ac16e403900a98f9b330daa5f0d89f76a24c6eb", "short_hash": "6ac16e403900", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T20:10:25+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-19T20:52:19-07:00", "subject": "RDMA/hns: Bugfix for set hem of SCC", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 6a157f7d1b14 (\"RDMA/hns: Add SCC context allocation support for hip08\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 20, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in RDMA driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with hardware error causing driver unload failures"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Well-reviewed with detailed error context and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer committed"}}, "score_justification": "Regression causing PCIe hardware errors on hip08 driver unload due to incorrect HEM indexing for SCC context", "code_snippet": "@@ -2940,6 +2940,9 @@ static int hns_roce_v2_set_hem(struct hns_roce_dev *hr_dev,\n \tif (IS_ERR(mailbox))\n \t\treturn PTR_ERR(mailbox);\n \n+\tif (table->type == HEM_TYPE_SCCC)\n+\t\tobj = mhop.l0_idx;\n+\n \tif (check_whether_last_step(hop_num, step_idx)) {\n \t\them = table->hem[hem_idx];\n \t\tfor (hns_roce_hem_first(hem, &iter);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6ac16e403900a98f9b330daa5f0d89f76a24c6eb"}
{"commit_hash": "3e394f9413ecba2779b6a1d77095f4d8611a52d2", "short_hash": "3e394f9413ec", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T20:10:24+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-02-19T20:52:19-07:00", "subject": "RDMA/hns: Modify qp&cq&pd specification according to UM", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small constant fix in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Hardware limitation correction affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Fixes QP/CQ/PD spec limits for hip08 hardware constraints in Hisilicon RDMA driver", "code_snippet": "@@ -45,14 +45,14 @@\n #define HNS_ROCE_VF_SGID_NUM\t\t\t32\n #define HNS_ROCE_VF_SL_NUM\t\t\t8\n \n-#define HNS_ROCE_V2_MAX_QP_NUM\t\t\t0x2000\n-#define HNS_ROCE_V2_MAX_QPC_TIMER_NUM          0x200\n+#define HNS_ROCE_V2_MAX_QP_NUM\t\t\t0x100000\n+#define HNS_ROCE_V2_MAX_QPC_TIMER_NUM\t\t0x200\n #define HNS_ROCE_V2_MAX_WQE_NUM\t\t\t0x8000\n #define\tHNS_ROCE_V2_MAX_SRQ\t\t\t0x100000\n #define HNS_ROCE_V2_MAX_SRQ_WR\t\t\t0x8000\n #define HNS_ROCE_V2_MAX_SRQ_SGE\t\t\t0x100\n-#define HNS_ROCE_V2_MAX_CQ_NUM\t\t\t0x8000\n-#define HNS_ROCE_V2_MAX_CQC_TIMER_NUM          0x100\n+#define HNS_ROCE_V2_MAX_CQ_NUM\t\t\t0x100000\n+#define HNS_ROCE_V2_MAX_CQC_TIMER_NUM\t\t0x100\n #define HNS_ROCE_V2_MAX_SRQ_NUM\t\t\t0x100000\n #define HNS_ROCE_V2_MAX_CQE_NUM\t\t\t0x10000\n #define HNS_ROCE_V2_MAX_SRQWQE_NUM\t\t0x8000", "flags": ["DRIVER-HW"], "link": "https://lore.kernel.org/linux-kernel/3e394f9413ecba2779b6a1d77095f4d8611a52d2"}
{"commit_hash": "1b44471b555930cd8d03ae9be86bd2c32fbf0a92", "short_hash": "1b44471b5559", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T01:45:46Z", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-02-19T21:05:55Z", "subject": "KVM: arm64: Fix comment for KVM_PHYS_SHIFT", "primary_category": "DOC-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/arm64/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": ["Suzuki K Poulose <suzuki.poulose@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 5, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Minimal comment change in KVM subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 5, "details": "API doc clarification for KVM developers"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed by subsystem expert, clear context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Arm maintainer, cross-org review"}}, "score_justification": "KVM API documentation update clarifying IPA size support behavior", "code_snippet": "@@ -138,7 +138,8 @@ static inline unsigned long __kern_hyp_va(unsigned long v)\n \t})\n \n /*\n- * We currently only support a 40bit IPA.\n+ * We currently support using a VM-specified IPA size. For backward\n+ * compatibility, the default IPA size is fixed to 40bits.\n  */\n #define KVM_PHYS_SHIFT\t(40)\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1b44471b555930cd8d03ae9be86bd2c32fbf0a92"}
{"commit_hash": "c2be79a0bcf34ed975787e03a129936df17ec0dc", "short_hash": "c2be79a0bcf3", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-19T17:22:21+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-02-20T11:00:27Z", "subject": "KVM: arm/arm64: Remove unused gpa_end variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/", "subsystems_touched": ["virt/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1597,14 +1597,13 @@ static void kvm_send_hwpoison_signal(unsigned long address,\n static bool fault_supports_stage2_pmd_mappings(struct kvm_memory_slot *memslot,\n \t\t\t\t\t       unsigned long hva)\n {\n-\tgpa_t gpa_start, gpa_end;\n+\tgpa_t gpa_start;\n \thva_t uaddr_start, uaddr_end;\n \tsize_t size;\n \n \tsize = memslot->npages * PAGE_SIZE;\n \n \tgpa_start = memslot->base_gfn << PAGE_SHIFT;\n-\tgpa_end = gpa_start + size;\n \n \tuaddr_start = memslot->userspace_addr;\n \tuaddr_end = uaddr_start + size;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/c2be79a0bcf34ed975787e03a129936df17ec0dc"}
{"commit_hash": "e7f0c424d0806b05d6f47be9f202b037eb701707", "short_hash": "e7f0c424d080", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-13T20:29:06+08:00", "committer_name": "Steven Rostedt (VMware)", "committer_email": "rostedt@goodmis.org", "committer_company": "Goodmis", "commit_date": "2019-02-20T13:47:08-05:00", "subject": "tracing: Do not free iter->trace in fail path of tracing_open_pipe()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d716ff71dd12 (\"tracing: Remove taking of trace_types_lock in pipe files\")", "cc_stable": true, "subsystem_prefix": "trace", "subsystems_touched": ["kernel/trace"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 10, "score_impact": 24, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical tracing subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Crash fix with stable backport affecting ftrace users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Cross-org review, detailed message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, VMware maintainer reviewed"}}, "score_justification": "Use-after-free fix from regression in lock removal patch", "code_snippet": "@@ -5624,7 +5624,6 @@ static int tracing_open_pipe(struct inode *inode, struct file *filp)\n \treturn ret;\n \n fail:\n-\tkfree(iter->trace);\n \tkfree(iter);\n \t__trace_array_put(tr);\n \tmutex_unlock(&trace_types_lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e7f0c424d0806b05d6f47be9f202b037eb701707"}
{"commit_hash": "a4ffe6b52d27f42f01c132ed851d121ebec34cfb", "short_hash": "a4ffe6b52d27", "author_name": "Michael Kao", "author_email": "michael.kao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T15:38:13+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-20T17:23:33-08:00", "subject": "thermal: mediatek: add support for MT8183", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 3, "files_changed": 1, "insertions": 98, "deletions": 1, "hunks": 20, "review_chain": {"signed_off_by": ["Michael Kao <michael.kao@mediatek.com> (MediaTek)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized change adding MT8183 support in thermal driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for specific MediaTek platform"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single author, good message with technical details, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, external maintainer committer"}}, "score_justification": "New hardware support for MediaTek MT8183 thermal sensors in existing driver", "code_snippet": "@@ -71,6 +71,15 @@\n \n #define TEMP_SPARE0\t\t0x0f0\n \n+#define TEMP_ADCPNP0_1          0x148\n+#define TEMP_ADCPNP1_1          0x14c\n+#define TEMP_ADCPNP2_1          0x150\n+#define TEMP_MSR0_1             0x190\n+#define TEMP_MSR1_1             0x194\n+#define TEMP_MSR2_1             0x198\n+#define TEMP_ADCPNP3_1          0x1b4\n+#define TEMP_MSR3_1             0x1B8\n+\n #define PTPCORESEL\t\t0x400\n \n #define TEMP_MONCTL1_PERIOD_UNIT(x)\t((x) & 0x3ff)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4ffe6b52d27f42f01c132ed851d121ebec34cfb"}
{"commit_hash": "a245b62be3f0274114df49a8b5481be6383b314f", "short_hash": "a245b62be3f0", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-13T22:53:29+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-02-20T17:23:39-08:00", "subject": "thermal/qcom/tsens-common : fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/thermal", "subsystems_touched": ["drivers/thermal/qcom"], "subsystem_tier": 4, "files_changed": 1, "insertions": 23, "deletions": 10, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in peripheral driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review, good message explaining reference leak"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to Gmail maintainer"}}, "score_justification": "Resource leak fix for device reference in error paths of Qualcomm TSENS driver", "code_snippet": "@@ -144,13 +144,17 @@ int __init init_common(struct tsens_device *tmdev)\n \t\ttmdev->tm_offset = 0;\n \t\tres = platform_get_resource(op, IORESOURCE_MEM, 1);\n \t\tsrot_base = devm_ioremap_resource(&op->dev, res);\n-\t\tif (IS_ERR(srot_base))\n-\t\t\treturn PTR_ERR(srot_base);\n+\t\tif (IS_ERR(srot_base)) {\n+\t\t\tret = PTR_ERR(srot_base);\n+\t\t\tgoto err_put_device;\n+\t\t}\n \n \t\ttmdev->srot_map = devm_regmap_init_mmio(tmdev->dev, srot_base,\n \t\t\t\t\t\t\t&tsens_srot_config);\n-\t\tif (IS_ERR(tmdev->srot_map))\n-\t\t\treturn PTR_ERR(tmdev->srot_map);\n+\t\tif (IS_ERR(tmdev->srot_map)) {\n+\t\t\tret = PTR_ERR(tmdev->srot_map);\n+\t\t\tgoto err_put_device;\n+\t\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a245b62be3f0274114df49a8b5481be6383b314f"}
{"commit_hash": "ded52fbe7020a5696b0b0a0fdbf234e37bf16f94", "short_hash": "ded52fbe7020", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T22:56:43+08:00", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-02-20T17:33:55-05:00", "subject": "nfs: fix xfstest generic/099 failed on nfsv3", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "nfs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 2-line deletion in critical NFS filesystem code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "ACL caching bug affecting NFSv3 users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with xfstest reference, dual sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Hammerspace maintainer"}}, "score_justification": "NFSv3 ACL caching bug causing stale data - removes incorrect set_cached_acl calls", "code_snippet": "@@ -222,8 +222,6 @@ static int __nfs3_proc_setacls(struct inode *inode, struct posix_acl *acl,\n \tswitch (status) {\n \t\tcase 0:\n \t\t\tstatus = nfs_refresh_inode(inode, fattr);\n-\t\t\tset_cached_acl(inode, ACL_TYPE_ACCESS, acl);\n-\t\t\tset_cached_acl(inode, ACL_TYPE_DEFAULT, dfacl);\n \t\t\tbreak;\n \t\tcase -EPFNOSUPPORT:\n \t\tcase -EPROTONOSUPPORT:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ded52fbe7020a5696b0b0a0fdbf234e37bf16f94"}
{"commit_hash": "8deed847445a8fb619689988a24c0f8df1369a58", "short_hash": "8deed847445a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T14:33:02+08:00", "committer_name": "Arnd Bergmann", "committer_email": "arnd@arndb.de", "committer_company": "Arndb", "commit_date": "2019-02-20T17:56:27+01:00", "subject": "hwrng: Fix unsigned comparison with less than zero", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: 5fe8b1cc6a03 (\"hwrng: add OP-TEE based rng driver\")", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"], "reviewed_by": ["Sumit Garg <sumit.garg@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal 4-line change in standard driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic error fix with existing Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (arndb.de) different orgs"}}, "score_justification": "Type change fix for unsigned comparison bug detected by Coccinelle", "code_snippet": "@@ -73,7 +73,7 @@ struct optee_rng_private {\n static size_t get_optee_rng_data(struct optee_rng_private *pvt_data,\n \t\t\t\t void *buf, size_t req_size)\n {\n-\tu32 ret = 0;\n+\tint ret = 0;\n \tu8 *rng_data = NULL;\n \tsize_t rng_size = 0;\n \tstruct tee_ioctl_invoke_arg inv_arg;", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/8deed847445a8fb619689988a24c0f8df1369a58"}
{"commit_hash": "62ade1bed27c26c2ea9280174ae6d6c7a9e825b2", "short_hash": "62ade1bed27c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-19T15:04:28+08:00", "committer_name": "Arnd Bergmann", "committer_email": "arnd@arndb.de", "committer_company": "Arndb", "commit_date": "2019-02-20T17:57:47+01:00", "subject": "tee: optee: Fix unsigned comparison with less than zero", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c3fa24af9244 (\"tee: optee: add TEE bus device enumeration support\")", "cc_stable": false, "subsystem_prefix": "drivers/tee", "subsystems_touched": ["drivers/tee/optee"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"], "reviewed_by": ["Sumit Garg <sumit.garg@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 15, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in TEE driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic error fix with backport value"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with Fixes tag and Coccinelle detection"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org contribution with maintainer review"}}, "score_justification": "Type mismatch bug fix detected by Coccinelle, changes ret from u32 to int", "code_snippet": "@@ -34,7 +34,7 @@ static int optee_ctx_match(struct tee_ioctl_version_data *ver, const void *data)\n static int get_devices(struct tee_context *ctx, u32 session,\n \t\t       struct tee_shm *device_shm, u32 *shm_size)\n {\n-\tu32 ret = 0;\n+\tint ret = 0;\n \tstruct tee_ioctl_invoke_arg inv_arg;\n \tstruct tee_param param[4];\n \n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/62ade1bed27c26c2ea9280174ae6d6c7a9e825b2"}
{"commit_hash": "4f640201a8aebcee053712828f5457aee9909cc8", "short_hash": "4f640201a8ae", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T09:34:58Z", "committer_name": "Arnd Bergmann", "committer_email": "arnd@arndb.de", "committer_company": "Arndb", "commit_date": "2019-02-20T17:58:50+01:00", "subject": "hwrng: make symbol 'optee_rng_id_table' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5fe8b1cc6a03 (\"hwrng: add OP-TEE based rng driver\")", "cc_stable": false, "subsystem_prefix": "drivers/char/hw_random", "subsystems_touched": ["drivers/char/hw_random"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"], "reviewed_by": ["Sumit Garg <sumit.garg@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in tier-4 driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix, minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single reviewer, good message format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Sparse compiler warning fix adding static keyword to driver symbol", "code_snippet": "@@ -270,7 +270,7 @@ static int optee_rng_remove(struct device *dev)\n \treturn 0;\n }\n \n-const struct tee_client_device_id optee_rng_id_table[] = {\n+static const struct tee_client_device_id optee_rng_id_table[] = {\n \t{UUID_INIT(0xab7a617c, 0xb8e7, 0x4d8f,\n \t\t   0x83, 0x01, 0xd0, 0x9b, 0x61, 0x03, 0x6b, 0x64)},\n \t{}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f640201a8aebcee053712828f5457aee9909cc8"}
{"commit_hash": "58f7691fd7383a904ca86500288e1c5ffd354edc", "short_hash": "58f7691fd738", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-20T19:50:54+02:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-20T20:18:23+01:00", "subject": "usb: xhci: remove unused member 'parent' in xhci_regset struct", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Mathias Nyman <mathias.nyman@linux.intel.com> (Intel)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 7, "score_impact": 6, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line removal in USB host driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Low-impact cleanup removing unused struct member"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain with minimal message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Mediatek->Intel->Linux Foundation) with kernel.org maintainer"}}, "score_justification": "Simple dead code removal in USB debugfs struct", "code_snippet": "@@ -80,7 +80,6 @@ struct xhci_regset {\n \tchar\t\t\tname[DEBUGFS_NAMELEN];\n \tstruct debugfs_regset32\tregset;\n \tsize_t\t\t\tnregs;\n-\tstruct dentry\t\t*parent;\n \tstruct list_head\tlist;\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58f7691fd7383a904ca86500288e1c5ffd354edc"}
{"commit_hash": "01215d3edb0f384ddeaa5e4a22c1ae5ff634149f", "short_hash": "01215d3edb0f", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-21T11:24:09-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-21T11:24:09-05:00", "subject": "jbd2: fix compile warning when using JBUFFER_TRACE", "primary_category": "BUG-CRASH", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 24, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical filesystem journaling layer"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Fixes potential uninitialized variable usage in core fs"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with compiler warnings, reviewed"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org contribution with maintainer sign-off"}}, "score_justification": "Fixes uninitialized variable use in JBD2 journaling layer with stable backport", "code_snippet": "@@ -1252,11 +1252,12 @@ int jbd2_journal_get_undo_access(handle_t *handle, struct buffer_head *bh)\n \tstruct journal_head *jh;\n \tchar *committed_data = NULL;\n \n-\tJBUFFER_TRACE(jh, \"entry\");\n \tif (jbd2_write_access_granted(handle, bh, true))\n \t\treturn 0;\n \n \tjh = jbd2_journal_add_journal_head(bh);\n+\tJBUFFER_TRACE(jh, \"entry\");\n+\n \t/*\n \t * Do this first --- it can drop the journal lock, so we want to\n \t * make sure that obtaining the committed_data is done", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01215d3edb0f384ddeaa5e4a22c1ae5ff634149f"}
{"commit_hash": "ddccb6dbe780d68133191477571cb7c69e17bb8c", "short_hash": "ddccb6dbe780", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-21T11:29:10-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-02-21T11:29:10-05:00", "subject": "ext4: fix compile error when using BUFFER_TRACE", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: c03b45b853f58 (\"ext4, project: expand inode extra size if possible\")", "cc_stable": false, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Minimal fix in critical filesystem subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Build error fix with regression tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by maintainer, clear error message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, MIT committer, SUSE reviewer"}}, "score_justification": "Build error fix from pointer access regression in ext4", "code_snippet": "@@ -5995,7 +5995,7 @@ int ext4_expand_extra_isize(struct inode *inode,\n \n \text4_write_lock_xattr(inode, &no_expand);\n \n-\tBUFFER_TRACE(iloc.bh, \"get_write_access\");\n+\tBUFFER_TRACE(iloc->bh, \"get_write_access\");\n \terror = ext4_journal_get_write_access(handle, iloc->bh);\n \tif (error) {\n \t\tbrelse(iloc->bh);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ddccb6dbe780d68133191477571cb7c69e17bb8c"}
{"commit_hash": "fb8cd60c8418aebe91f773cfa32409119b96cdde", "short_hash": "fb8cd60c8418", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T08:54:59Z", "committer_name": "Gerd Hoffmann", "committer_email": "kraxel@redhat.com", "committer_company": "Redhat", "commit_date": "2019-02-21T13:04:16+01:00", "subject": "drm/qxl: remove set but not used variable 'bo_old'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 4979904c62b9 (\"drm/qxl: use shadow bo directly\")", "cc_stable": false, "subsystem_prefix": "drm/qxl", "subsystems_touched": ["drivers/gpu/drm/qxl"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Gerd Hoffmann <kraxel@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei author, Red Hat maintainer)"}}, "score_justification": "Compiler warning fix removing unused variable in QXL GPU driver", "code_snippet": "@@ -535,7 +535,7 @@ static void qxl_primary_atomic_update(struct drm_plane *plane,\n {\n \tstruct qxl_device *qdev = plane->dev->dev_private;\n \tstruct qxl_bo *bo = gem_to_qxl_bo(plane->state->fb->obj[0]);\n-\tstruct qxl_bo *bo_old, *primary;\n+\tstruct qxl_bo *primary;\n \tstruct drm_clip_rect norect = {\n \t    .x1 = 0,\n \t    .y1 = 0,", "flags": ["FIXES_TAG_PRESENT", "CROSS_ORG_COMMIT"], "link": "https://lore.kernel.org/linux-kernel/fb8cd60c8418aebe91f773cfa32409119b96cdde"}
{"commit_hash": "a2b5a3fa2ce10411130b496ad0e55ef5a4971fd9", "short_hash": "a2b5a3fa2ce1", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-19T10:15:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T13:48:00-08:00", "subject": "net: remove unneeded switch fall-through", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4", "net/ipv6"], "subsystem_tier": 2, "files_changed": 2, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 12, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 12, "details": "Tiny cleanup across ipv4 and ipv6 multicast code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Minor cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Baidu, committed by net maintainer"}}, "score_justification": "Minor cleanup removing redundant fall-through comments before return statements", "code_snippet": "@@ -1541,7 +1541,6 @@ static int ip_mc_check_igmp_msg(struct sk_buff *skb)\n \tcase IGMP_HOST_LEAVE_MESSAGE:\n \tcase IGMP_HOST_MEMBERSHIP_REPORT:\n \tcase IGMPV2_HOST_MEMBERSHIP_REPORT:\n-\t\t/* fall through */\n \t\treturn 0;\n \tcase IGMPV3_HOST_MEMBERSHIP_REPORT:\n \t\treturn ip_mc_check_igmp_reportv3(skb);\ndiff --git a/net/ipv6/mcast_snoop.c b/net/ipv6/mcast_snoop.c\nindex 55e2ac179f28..dddd75d1be0e 100644\n--- a/net/ipv6/mcast_snoop.c\n+++ b/net/ipv6/mcast_snoop.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a2b5a3fa2ce10411130b496ad0e55ef5a4971fd9"}
{"commit_hash": "08e71623c8223723b19d079933974645d52967c6", "short_hash": "08e71623c822", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-19T10:17:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T13:48:59-08:00", "subject": "bridge: remove redundant check on err in br_multicast_ipv4_rcv", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/", "subsystems_touched": ["net/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Roopa Prabhu <roopa@cumulusnetworks.com> (Cumulusnetworks)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1615,12 +1615,7 @@ static int br_multicast_ipv4_rcv(struct net_bridge *br,\n \t\t\tif (ip_hdr(skb)->protocol == IPPROTO_PIM)\n \t\t\t\tbr_multicast_pim(br, port, skb);\n \t\t} else if (ipv4_is_all_snoopers(ip_hdr(skb)->daddr)) {\n-\t\t\terr = br_ip4_multicast_mrd_rcv(br, port, skb);\n-\n-\t\t\tif (err < 0 && err != -ENOMSG) {\n-\t\t\t\tbr_multicast_err_count(br, port, skb->protocol);\n-\t\t\t\treturn err;\n-\t\t\t}\n+\t\t\tbr_ip4_multicast_mrd_rcv(br, port, skb);\n \t\t}\n \n \t\treturn 0;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/08e71623c8223723b19d079933974645d52967c6"}
{"commit_hash": "747fc3f351baa061b41a1e2a81821bc963e4f794", "short_hash": "747fc3f351ba", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-20T10:32:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: some bugfix of ppu(rcb) ras errors", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f69b10b317f9 (\"net: hns3: handle hw errors of PPU(RCB)\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 12, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (2 files, 8 hunks)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix for RAS error handling in Hisilicon NIC"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag, good explanation, multiple sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, net maintainer committer"}}, "score_justification": "RAS error handling fix in hns3 driver with proper Fixes tag", "code_snippet": "@@ -1373,14 +1380,13 @@ int hclge_handle_hw_msix_error(struct hclge_dev *hdev,\n \t\tset_bit(HNAE3_GLOBAL_RESET, reset_requests);\n \t}\n \n-\t/* log PPU(RCB) errors */\n+\t/* log PPU(RCB) MPF errors */\n \tdesc_data = (__le32 *)&desc[5];\n \tstatus = le32_to_cpu(*(desc_data + 2)) &\n \t\t\tHCLGE_PPU_MPF_INT_ST2_MSIX_MASK;\n \tif (status) {\n-\t\tdev_warn(dev,\n-\t\t\t \"PPU_MPF_ABNORMAL_INT_ST2[28:29], err_status(0x%x)\\n\",\n-\t\t\t status);\n+\t\thclge_log_error(dev, \"PPU_MPF_ABNORMAL_INT_ST2\",\n+\t\t\t\t&hclge_ppu_mpf_abnormal_int_st2[0], status);\n \t\tset_bit(HNAE3_CORE_RESET, reset_requests);\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/747fc3f351baa061b41a1e2a81821bc963e4f794"}
{"commit_hash": "3d69e59f42bdd57c2a185da52f9579c33dec7121", "short_hash": "3d69e59f42bd", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-20T10:32:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: modify print message of ssu common ecc errors", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 43, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver change in network subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Diagnostic enhancement for specific hardware"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, kernel.org maintainer"}}, "score_justification": "Diagnostic enhancement adding specific ECC error bit logging for Hisilicon network driver", "code_snippet": "@@ -277,6 +277,45 @@ static const struct hclge_hw_error hclge_ssu_com_err_int[] = {\n \t{ /* sentinel */ }\n };\n \n+#define HCLGE_SSU_MEM_ECC_ERR(x) \\\n+\t{ .int_msk = BIT(x), .msg = \"ssu_mem\" #x \"_ecc_mbit_err\" }\n+\n+static const struct hclge_hw_error hclge_ssu_mem_ecc_err_int[] = {\n+\tHCLGE_SSU_MEM_ECC_ERR(0),\n+\tHCLGE_SSU_MEM_ECC_ERR(1),\n+\tHCLGE_SSU_MEM_ECC_ERR(2),\n+\tHCLGE_SSU_MEM_ECC_ERR(3),\n+\tHCLGE_SSU_MEM_ECC_ERR(4),\n+\tHCLGE_SSU_MEM_ECC_ERR(5),\n+\tHCLGE_SSU_MEM_ECC_ERR(6),\n+\tHCLGE_SSU_MEM_ECC_ERR(7),\n+\tHCLGE_SSU_MEM_ECC_ERR(8),\n+\tHCLGE_SSU_MEM_ECC_ERR(9),\n+\tHCLGE_SSU_MEM_ECC_ERR(10),\n+\tHCLGE_SSU_MEM_ECC_ERR(11),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d69e59f42bdd57c2a185da52f9579c33dec7121"}
{"commit_hash": "f18635d52c23594259da2f741399abc6c6f41f15", "short_hash": "f18635d52c23", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: fix port info query issue for copper port", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5f373b158523 (\"net: hns3: Fix speed/duplex information loss problem when executing ethtool ethx cmd of VF\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 44, "deletions": 24, "hunks": 10, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "4 files, 10 hunks, 68 lines in Hisilicon network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix affecting Hisilicon NIC users with copper ports"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and clear explanation, only internal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer"}}, "score_justification": "Fix incorrect EOPNOTSUPP return for copper ports without phy device", "code_snippet": "@@ -621,12 +621,11 @@ static int hns3_get_link_ksettings(struct net_device *netdev,\n \t\thns3_get_ksettings(h, cmd);\n \t\tbreak;\n \tcase HNAE3_MEDIA_TYPE_COPPER:\n-\t\tif (!netdev->phydev)\n-\t\t\treturn -EOPNOTSUPP;\n-\n \t\tcmd->base.port = PORT_TP;\n-\t\tphy_ethtool_ksettings_get(netdev->phydev, cmd);\n-\n+\t\tif (!netdev->phydev)\n+\t\t\thns3_get_ksettings(h, cmd);\n+\t\telse\n+\t\t\tphy_ethtool_ksettings_get(netdev->phydev, cmd);\n \t\tbreak;\n \tdefault:\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 9a442f3c682a..87edac45c040 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f18635d52c23594259da2f741399abc6c6f41f15"}
{"commit_hash": "db68ca0ef7c98bb39cb193571c63b22ca99f633f", "short_hash": "db68ca0ef7c9", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: convert mac advertize and supported from u32 to link mode", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 12, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 12, "score_quality": 9, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver replacing set_bit with linkmode_set_bit API"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "API migration in driver affecting users of Hisilicon NICs"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "3 people from Huawei reviewed, clear message explaining rationale"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All from same organization (Huawei) but committer is maintainer"}}, "score_justification": "API migration from set_bit to linkmode_set_bit in Hisilicon network driver to support >31 link modes", "code_snippet": "@@ -839,27 +839,27 @@ static void hclge_parse_fiber_link_mode(struct hclge_dev *hdev,\n \tunsigned long *supported = hdev->hw.mac.supported;\n \n \tif (speed_ability & HCLGE_SUPPORT_1G_BIT)\n-\t\tset_bit(ETHTOOL_LINK_MODE_1000baseX_Full_BIT,\n-\t\t\tsupported);\n+\t\tlinkmode_set_bit(ETHTOOL_LINK_MODE_1000baseX_Full_BIT,\n+\t\t\t\t supported);\n \n \tif (speed_ability & HCLGE_SUPPORT_10G_BIT)\n-\t\tset_bit(ETHTOOL_LINK_MODE_10000baseSR_Full_BIT,\n-\t\t\tsupported);\n+\t\tlinkmode_set_bit(ETHTOOL_LINK_MODE_10000baseSR_Full_BIT,\n+\t\t\t\t supported);\n \n \tif (speed_ability & HCLGE_SUPPORT_25G_BIT)\n-\t\tset_bit(ETHTOOL_LINK_MODE_25000baseSR_Full_BIT,\n-\t\t\tsupported);\n+\t\tlinkmode_set_bit(ETHTOOL_LINK_MODE_25000baseSR_Full_BIT,\n+\t\t\t\t supported);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db68ca0ef7c98bb39cb193571c63b22ca99f633f"}
{"commit_hash": "bdd59d661153a59af79112676565276ae2a1f457", "short_hash": "bdd59d661153", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: add pointer checking at the beginning of the exported functions.", "primary_category": "SEC-HARDEN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "14 hunks adding NULL checks to exported functions in network driver"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Defensive hardening for NIC driver users, preventing null pointer crashes"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, 4 internal reviewers, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer (David S. Miller) committed"}}, "score_justification": "Defensive hardening adding NULL pointer checks to 7 exported functions in Hisilicon NIC driver", "code_snippet": "@@ -32,6 +32,9 @@ static bool hnae3_client_match(enum hnae3_client_type client_type,\n void hnae3_set_client_init_flag(struct hnae3_client *client,\n \t\t\t\tstruct hnae3_ae_dev *ae_dev, int inited)\n {\n+\tif (!client || !ae_dev)\n+\t\treturn;\n+\n \tswitch (client->type) {\n \tcase HNAE3_CLIENT_KNIC:\n \t\thnae3_set_bit(ae_dev->flag, HNAE3_KNIC_CLIENT_INITED_B, inited);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bdd59d661153a59af79112676565276ae2a1f457"}
{"commit_hash": "676131f7c53ecdd79e29fc8cfcdefe6f9f2485e8", "short_hash": "676131f7c53e", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:04-08:00", "subject": "net: hns3: Check variable is valid before assigning it to another", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 10, "deletions": 6, "hunks": 8, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 18, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in network driver (8 hunks, 16 lines)"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Null pointer crash fix affecting Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation but no Fixes tag or testing evidence"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, netdev maintainer merge"}}, "score_justification": "Null pointer dereference fix in hns3 driver - checks ops validity before use", "code_snippet": "@@ -273,15 +278,13 @@ int hnae3_register_ae_dev(struct hnae3_ae_dev *ae_dev)\n \t\tif (!id)\n \t\t\tcontinue;\n \n-\t\tae_dev->ops = ae_algo->ops;\n-\n-\t\tif (!ae_dev->ops) {\n-\t\t\tdev_err(&ae_dev->pdev->dev, \"ae_dev ops are null\\n\");\n+\t\tif (!ae_algo->ops) {\n+\t\t\tdev_err(&ae_dev->pdev->dev, \"ae_algo ops are null\\n\");\n \t\t\tret = -EOPNOTSUPP;\n \t\t\tgoto out_err;\n \t\t}\n+\t\tae_dev->ops = ae_algo->ops;\n \n-\t\t/* ae_dev init should set flag */\n \t\tret = ae_dev->ops->init_ae_dev(ae_dev);\n \t\tif (ret) {\n \t\t\tdev_err(&ae_dev->pdev->dev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/676131f7c53ecdd79e29fc8cfcdefe6f9f2485e8"}
{"commit_hash": "34f81f049e354082f638820afe5e59bbd243fb18", "short_hash": "34f81f049e35", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: clear command queue's registers when unloading VF driver", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: fedd0c15d288 (\"net: hns3: Add HNS3 VF IMP(Integrated Management Proc) cmd interface\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 20, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup fix in ethernet driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Driver bug fix with hardware impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear commit with Fixes tag but no external testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer"}}, "score_justification": "VF driver register cleanup bug to prevent IMP wrong state", "code_snippet": "@@ -362,8 +362,28 @@ int hclgevf_cmd_init(struct hclgevf_dev *hdev)\n \treturn 0;\n }\n \n+static void hclgevf_cmd_uninit_regs(struct hclgevf_hw *hw)\n+{\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CSQ_BASEADDR_L_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CSQ_BASEADDR_H_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CSQ_DEPTH_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CSQ_HEAD_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CSQ_TAIL_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CRQ_BASEADDR_L_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CRQ_BASEADDR_H_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CRQ_DEPTH_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CRQ_HEAD_REG, 0);\n+\thclgevf_write_dev(hw, HCLGEVF_NIC_CRQ_TAIL_REG, 0);\n+}\n+\n void hclgevf_cmd_uninit(struct hclgevf_dev *hdev)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/34f81f049e354082f638820afe5e59bbd243fb18"}
{"commit_hash": "232d0d55fca6ab589d5267c74a376210f341d71e", "short_hash": "232d0d55fca6", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: uninitialize command queue while unloading PF driver", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 68c0a5c70614 (\"net: hns3: Add HNS3 IMP(Integrated Mgmt Proc) Cmd Interface Support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 29, "deletions": 3, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup addition in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix for specific NIC driver"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Resource handling fix adding proper uninitialization for command queue registers", "code_snippet": "@@ -390,6 +390,20 @@ int hclge_cmd_init(struct hclge_dev *hdev)\n \treturn 0;\n }\n \n+static void hclge_cmd_uninit_regs(struct hclge_hw *hw)\n+{\n+\thclge_write_dev(hw, HCLGE_NIC_CSQ_BASEADDR_L_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CSQ_BASEADDR_H_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CSQ_DEPTH_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CSQ_HEAD_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CSQ_TAIL_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CRQ_BASEADDR_L_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CRQ_BASEADDR_H_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CRQ_DEPTH_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CRQ_HEAD_REG, 0);\n+\thclge_write_dev(hw, HCLGE_NIC_CRQ_TAIL_REG, 0);\n+}\n+\n static void hclge_destroy_queue(struct hclge_cmq_ring *ring)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/232d0d55fca6ab589d5267c74a376210f341d71e"}
{"commit_hash": "c6075b193462d9a3930fb41f587f94720658752a", "short_hash": "c6075b193462", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: Record VF vlan tables", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 96, "deletions": 1, "hunks": 16, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium changes (96+ lines, 16 hunks) in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for VF VLAN management in NIC driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good structure but minimal message detail, no testing tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer David Miller committed"}}, "score_justification": "Hisilicon HNS3 driver enhancement adding VF VLAN table tracking for PF cleanup", "code_snippet": "@@ -1329,6 +1329,7 @@ static int hclge_alloc_vport(struct hclge_dev *hdev)\n \t\tvport->back = hdev;\n \t\tvport->vport_id = i;\n \t\tvport->mps = HCLGE_MAC_DEFAULT_FRAME;\n+\t\tINIT_LIST_HEAD(&vport->vlan_list);\n \t\tINIT_LIST_HEAD(&vport->uc_mac_list);\n \t\tINIT_LIST_HEAD(&vport->mc_mac_list);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c6075b193462d9a3930fb41f587f94720658752a"}
{"commit_hash": "6dd86902f21d096ed7ef2dcc921ee80c73807313", "short_hash": "6dd86902f21d", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T10:32:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: Record VF unicast and multicast tables", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 156, "deletions": 1, "hunks": 24, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 14, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large feature in network driver: 4 files, 24 hunks, +156 lines"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "New VF table tracking for hns3 driver, aids recovery"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multi-SOB from same company, clear purpose, no test tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer, same org"}}, "score_justification": "New VF mac table tracking feature for hns3 to aid recovery after exceptions", "code_snippet": "@@ -42,6 +42,8 @@ enum HCLGE_MBX_OPCODE {\n \tHCLGE_MBX_GET_QID_IN_PF,\t/* (VF -> PF) get queue id in pf */\n \tHCLGE_MBX_LINK_STAT_MODE,\t/* (PF -> VF) link mode has changed */\n \tHCLGE_MBX_GET_LINK_MODE,\t/* (VF -> PF) get the link mode of pf */\n+\n+\tHCLGE_MBX_GET_VF_FLR_STATUS = 200, /* (M7 -> PF) get vf reset status */\n };\n \n /* below are per-VF mac-vlan subcodes */\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 87edac45c040..b1f5c6fa6954 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6dd86902f21d096ed7ef2dcc921ee80c73807313"}
{"commit_hash": "3aff0ac97391fe4181fd68f06b8fec345f7d1bc5", "short_hash": "3aff0ac97391", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-20T10:32:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: fix 6th bit of ppp mpf abnormal errors", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single character typo fix in error message string"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Typo fix has no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting with internal review chain"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Maintainer committed but same company"}}, "score_justification": "Typo fix in error message string (erre->err), no functional change", "code_snippet": "@@ -80,7 +80,7 @@ static const struct hclge_hw_error hclge_ppp_mpf_abnormal_int_st1[] = {\n \t{ .int_msk = BIT(3), .msg = \"umv_key_mem1_ecc_mbit_err\" },\n \t{ .int_msk = BIT(4), .msg = \"umv_key_mem2_ecc_mbit_err\" },\n \t{ .int_msk = BIT(5), .msg = \"umv_key_mem3_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(6), .msg = \"umv_ad_mem_ecc_mbit_erre\" },\n+\t{ .int_msk = BIT(6), .msg = \"umv_ad_mem_ecc_mbit_err\" },\n \t{ .int_msk = BIT(7), .msg = \"rss_tc_mode_mem_ecc_mbit_err\" },\n \t{ .int_msk = BIT(8), .msg = \"rss_idt_mem0_ecc_mbit_err\" },\n \t{ .int_msk = BIT(9), .msg = \"rss_idt_mem1_ecc_mbit_err\" },\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3aff0ac97391fe4181fd68f06b8fec345f7d1bc5"}
{"commit_hash": "d1f55d6bfcf007691a6392ca421cf5fa1b007d1c", "short_hash": "d1f55d6bfcf0", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-20T10:32:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-21T16:29:05-08:00", "subject": "net: hns3: enable 8~11th bit of mac common msi-x error", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 8, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver enabling new hardware error bits"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Hardware support enhancement for existing driver, moderate user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 1, "atomicity": 2, "subtotal": 6, "details": "Basic commit flow, mentions testing but minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, net maintainer committer, single org"}}, "score_justification": "Enables additional MSI-X error bits for Hisilicon HNS3 hardware error reporting", "code_snippet": "@@ -219,6 +219,12 @@ static const struct hclge_hw_error hclge_mac_afifo_tnl_int[] = {\n \t{ .int_msk = BIT(5), .msg = \"cge_igu_afifo_ecc_mbit_err\" },\n \t{ .int_msk = BIT(6), .msg = \"lge_igu_afifo_ecc_1bit_err\" },\n \t{ .int_msk = BIT(7), .msg = \"lge_igu_afifo_ecc_mbit_err\" },\n+\t{ .int_msk = BIT(8), .msg = \"cge_igu_afifo_overflow_err\" },\n+\t{ .int_msk = BIT(9), .msg = \"lge_igu_afifo_overflow_err\" },\n+\t{ .int_msk = BIT(10), .msg = \"egu_cge_afifo_underrun_err\" },\n+\t{ .int_msk = BIT(11), .msg = \"egu_lge_afifo_underrun_err\" },\n+\t{ .int_msk = BIT(12), .msg = \"egu_ge_afifo_underrun_err\" },\n+\t{ .int_msk = BIT(13), .msg = \"ge_igu_afifo_overflow_err\" },\n \t{ /* sentinel */ }\n };\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\nindex 86d6143068c1..fc068280d391 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1f55d6bfcf007691a6392ca421cf5fa1b007d1c"}
{"commit_hash": "11db1ad4513d6205d2519e1a30ff4cef746e3243", "short_hash": "11db1ad4513d", "author_name": "Wei Li", "author_email": "liwei391@huawei.com", "author_company": "Huawei", "author_date": "2019-02-21T17:57:16+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-02-21T17:00:35-03:00", "subject": "perf annotate: Fix getting source line failure", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 425859ff0de33 (\"perf annotate: No need to calculate notes->start twice\")", "cc_stable": false, "subsystem_prefix": "perf", "subsystems_touched": ["tools/perf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Li <liwei391@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": ["Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 15, "score_quality": 16, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in perf tools subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for perf annotate users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Excellent message with before/after output"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, RedHat maintainer, Intel reviewer"}}, "score_justification": "Regression fix restoring notes->start assignment moved too early", "code_snippet": "@@ -1891,6 +1891,7 @@ int symbol__annotate(struct symbol *sym, struct map *map,\n \t\t     struct annotation_options *options,\n \t\t     struct arch **parch)\n {\n+\tstruct annotation *notes = symbol__annotation(sym);\n \tstruct annotate_args args = {\n \t\t.privsize\t= privsize,\n \t\t.evsel\t\t= evsel,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11db1ad4513d6205d2519e1a30ff4cef746e3243"}
{"commit_hash": "9f08a5d896ce43380314c34ed3f264c8e6075b80", "short_hash": "9f08a5d896ce", "author_name": "Dongdong Liu", "author_email": "liudongdong3@huawei.com", "author_company": "Huawei", "author_date": "2019-02-11T15:02:59+08:00", "committer_name": "Bjorn Helgaas", "committer_email": "bhelgaas@google.com", "committer_company": "Google", "commit_date": "2019-02-21T17:07:20-06:00", "subject": "PCI/DPC: Fix print AER status in DPC event handling", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8aefa9b0d910 (\"PCI/DPC: Print AER status in DPC event handling\")", "cc_stable": true, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/pcie"], "subsystem_tier": 3, "files_changed": 1, "insertions": 26, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Dongdong Liu <liudongdong3@huawei.com> (Huawei)", "Bjorn Helgaas <bhelgaas@google.com> (Google)"], "reviewed_by": ["Keith Busch <keith.busch@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important PCI subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable backport affecting PCI users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Fixes tag + Reviewed-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Google maintainer, Intel reviewer"}}, "score_justification": "Fixes uninitialized variable in DPC AER status handling with stable backport", "code_snippet": "@@ -202,6 +202,28 @@ static void dpc_process_rp_pio_error(struct dpc_dev *dpc)\n \tpci_write_config_dword(pdev, cap + PCI_EXP_DPC_RP_PIO_STATUS, status);\n }\n \n+static int dpc_get_aer_uncorrect_severity(struct pci_dev *dev,\n+\t\t\t\t\t  struct aer_err_info *info)\n+{\n+\tint pos = dev->aer_cap;\n+\tu32 status, mask, sev;\n+\n+\tpci_read_config_dword(dev, pos + PCI_ERR_UNCOR_STATUS, &status);\n+\tpci_read_config_dword(dev, pos + PCI_ERR_UNCOR_MASK, &mask);\n+\tstatus &= ~mask;\n+\tif (!status)\n+\t\treturn 0;\n+\n+\tpci_read_config_dword(dev, pos + PCI_ERR_UNCOR_SEVER, &sev);\n+\tstatus &= sev;\n+\tif (status)\n+\t\tinfo->severity = AER_FATAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f08a5d896ce43380314c34ed3f264c8e6075b80"}
{"commit_hash": "668ae7288e82aa8e7f7cc40b8e13248305d752e7", "short_hash": "668ae7288e82", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-22T05:46:01Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-22T08:45:40+01:00", "subject": "habanalabs: use GFP_ATOMIC under spin lock", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0feaf86d4e69 (\"habanalabs: add virtual memory and MMU modules\")", "cc_stable": false, "subsystem_prefix": "drivers/misc/habanalabs", "subsystems_touched": ["drivers/misc/habanalabs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Oded Gabbay <oded.gabbay@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in specialized driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Deadlock fix for habanalabs users with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by tag, good message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Sleep under spin lock fix preventing potential deadlock in habanalabs driver", "code_snippet": "@@ -120,7 +120,7 @@ static int alloc_device_memory(struct hl_ctx *ctx, struct hl_mem_in *args,\n \n \tspin_lock(&vm->idr_lock);\n \thandle = idr_alloc(&vm->phys_pg_pack_handles, phys_pg_pack, 1, 0,\n-\t\t\t\tGFP_KERNEL);\n+\t\t\t\tGFP_ATOMIC);\n \tspin_unlock(&vm->idr_lock);\n \n \tif (handle < 0) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/668ae7288e82aa8e7f7cc40b8e13248305d752e7"}
{"commit_hash": "7f5d9c1bc0e6c13ba01546e9c6fda083764a4e9c", "short_hash": "7f5d9c1bc0e6", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-22T14:34:29+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-02-22T09:41:52Z", "subject": "KVM: arm/arm64: Remove unused timer variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/", "subsystems_touched": ["virt/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": ["Julien Thierry <julien.thierry@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -236,14 +236,12 @@ static enum hrtimer_restart kvm_hrtimer_expire(struct hrtimer *hrt)\n \n static bool kvm_timer_should_fire(struct arch_timer_context *timer_ctx)\n {\n-\tstruct arch_timer_cpu *timer;\n \tenum kvm_arch_timers index;\n \tu64 cval, now;\n \n \tif (!timer_ctx)\n \t\treturn false;\n \n-\ttimer = vcpu_timer(timer_ctx->vcpu);\n \tindex = arch_timer_ctx_index(timer_ctx);\n \n \tif (timer_ctx->loaded) {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/7f5d9c1bc0e6c13ba01546e9c6fda083764a4e9c"}
{"commit_hash": "e7e6198c60566eda97655d495087fa73e1d7a1fd", "short_hash": "e7e6198c6056", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-09T12:50:21Z", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-22T10:01:21-08:00", "subject": "clk: tegra: dfll: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/tegra"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change converting macros in driver code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Coccinelle-generated, basic message quality"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -1112,8 +1112,8 @@ static int attr_enable_set(void *data, u64 val)\n \n \treturn val ? dfll_enable(td) : dfll_disable(td);\n }\n-DEFINE_SIMPLE_ATTRIBUTE(enable_fops, attr_enable_get, attr_enable_set,\n-\t\t\t\"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(enable_fops, attr_enable_get, attr_enable_set,\n+\t\t\t \"%llu\\n\");\n \n static int attr_lock_get(void *data, u64 *val)\n {", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/e7e6198c60566eda97655d495087fa73e1d7a1fd"}
{"commit_hash": "812296631816d31eef001078c1b14ce865f8378a", "short_hash": "812296631816", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T01:56:16Z", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-22T10:01:31-08:00", "subject": "clk: mediatek: fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk/mediatek", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single-line deletion in driver using coccinelle"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with coccinelle attribution"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -1463,7 +1463,6 @@ static struct platform_driver clk_mt2712_drv = {\n \t.probe = clk_mt2712_probe,\n \t.driver = {\n \t\t.name = \"clk-mt2712\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = of_match_clk_mt2712,\n \t},\n };\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/812296631816d31eef001078c1b14ce865f8378a"}
{"commit_hash": "767637416e218d2d3ba7e1697b8a72a375797866", "short_hash": "767637416e21", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T17:47:10+08:00", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-02-22T13:34:30+01:00", "subject": "cfg80211: pmsr: use eth_broadcast_addr() to assign broadcast address", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code simplification with minor user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal tags, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "API simplification replacing memset with helper function", "code_snippet": "@@ -258,7 +258,7 @@ int nl80211_pmsr_start(struct sk_buff *skb, struct genl_info *info)\n \t} else {\n \t\tmemcpy(req->mac_addr, nla_data(info->attrs[NL80211_ATTR_MAC]),\n \t\t       ETH_ALEN);\n-\t\tmemset(req->mac_addr_mask, 0xff, ETH_ALEN);\n+\t\teth_broadcast_addr(req->mac_addr_mask);\n \t}\n \n \tidx = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/767637416e218d2d3ba7e1697b8a72a375797866"}
{"commit_hash": "049e5feae18fe07df0687dc14582f338dde3fb56", "short_hash": "049e5feae18f", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-22T05:46:16Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-22T15:17:43Z", "subject": "spi: sifive: Remove spi_master_put in sifive_spi_remove()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 484a9a68d669 (\"spi: sifive: Add driver for the SiFive SPI controller\")", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1-line deletion in SPI driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Fixes tag + Coccinelle reference, cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org committer"}}, "score_justification": "Removes redundant spi_master_put() in driver remove path", "code_snippet": "@@ -424,7 +424,6 @@ static int sifive_spi_remove(struct platform_device *pdev)\n \n \t/* Disable all the interrupts just in case */\n \tsifive_spi_write(spi, SIFIVE_SPI_REG_IE, 0);\n-\tspi_master_put(master);\n \n \treturn 0;\n }\n", "flags": ["DEVM_CONVERSION"], "link": "https://lore.kernel.org/linux-kernel/049e5feae18fe07df0687dc14582f338dde3fb56"}
{"commit_hash": "daad4d2a0a60b0b2879e66194100b43c41e96ca9", "short_hash": "daad4d2a0a60", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-22T05:46:32Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-22T15:17:58Z", "subject": "spi: sifive: Remove redundant dev_err call in sifive_spi_probe()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 8, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny single-file cleanup in SPI driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup removing redundant error message"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Two Signed-off-by tags, simple message, atomic"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer committed"}}, "score_justification": "Simple cleanup removing redundant dev_err call in SPI driver probe.", "code_snippet": "@@ -310,7 +310,6 @@ static int sifive_spi_probe(struct platform_device *pdev)\n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tspi->regs = devm_ioremap_resource(&pdev->dev, res);\n \tif (IS_ERR(spi->regs)) {\n-\t\tdev_err(&pdev->dev, \"Unable to map IO resources\\n\");\n \t\tret = PTR_ERR(spi->regs);\n \t\tgoto put_master;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/daad4d2a0a60b0b2879e66194100b43c41e96ca9"}
{"commit_hash": "2e876b5d9f8dc6b685bc75f5b03b2a984fed63df", "short_hash": "2e876b5d9f8d", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-17T21:50:32+08:00", "committer_name": "Daniel Lezcano", "committer_email": "daniel.lezcano@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-23T12:13:45+01:00", "subject": "dt-bindings: timer: mediatek: update bindings for MT7629 SoC", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 8, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Daniel Lezcano <daniel.lezcano@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT binding doc update for single SoC"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 8, "details": "Binding doc update for new SoC support"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean binding update with proper signing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (MediaTek -> Linaro maintainer)"}}, "score_justification": "DT binding documentation update adding MT7629 timer compatible string, correcting MediaTek branding", "code_snippet": "@@ -1,7 +1,7 @@\n-Mediatek Timers\n+MediaTek Timers\n ---------------\n \n-Mediatek SoCs have two different timers on different platforms,\n+MediaTek SoCs have two different timers on different platforms,\n - GPT (General Purpose Timer)\n - SYST (System Timer)\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e876b5d9f8dc6b685bc75f5b03b2a984fed63df"}
{"commit_hash": "c211524029a1495763889c1489401c3e62a8e11b", "short_hash": "c211524029a1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-22T14:15:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-23T13:46:24-08:00", "subject": "kcm: Remove unnecessary SLAB_PANIC for kmem_cache_create() in kcm_init", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/kcm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup removing redundant flag with graceful error handling"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different organizations"}}, "score_justification": "Removes redundant SLAB_PANIC flag since kcm_init has NULL checks", "code_snippet": "@@ -2036,13 +2036,13 @@ static int __init kcm_init(void)\n \n \tkcm_muxp = kmem_cache_create(\"kcm_mux_cache\",\n \t\t\t\t     sizeof(struct kcm_mux), 0,\n-\t\t\t\t     SLAB_HWCACHE_ALIGN | SLAB_PANIC, NULL);\n+\t\t\t\t     SLAB_HWCACHE_ALIGN, NULL);\n \tif (!kcm_muxp)\n \t\tgoto fail;\n \n \tkcm_psockp = kmem_cache_create(\"kcm_psock_cache\",\n \t\t\t\t       sizeof(struct kcm_psock), 0,\n-\t\t\t\t\tSLAB_HWCACHE_ALIGN | SLAB_PANIC, NULL);\n+\t\t\t\t\tSLAB_HWCACHE_ALIGN, NULL);\n \tif (!kcm_psockp)\n \t\tgoto fail;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c211524029a1495763889c1489401c3e62a8e11b"}
{"commit_hash": "2fe8b2d5578d7d142982e3bf62e4c0caf8b8fe02", "short_hash": "2fe8b2d5578d", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-09T16:54:20+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-02-24T11:40:46+01:00", "subject": "ubifs: Reject unsupported ioctl flags explicitly", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -28,6 +28,11 @@\n #include <linux/mount.h>\n #include \"ubifs.h\"\n \n+/* Need to be kept consistent with checked flags in ioctl2ubifs() */\n+#define UBIFS_SUPPORTED_IOCTL_FLAGS \\\n+\t(FS_COMPR_FL | FS_SYNC_FL | FS_APPEND_FL | \\\n+\t FS_IMMUTABLE_FL | FS_DIRSYNC_FL)\n+\n /**\n  * ubifs_set_inode_flags - set VFS inode flags.\n  * @inode: VFS inode to set flags for", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/2fe8b2d5578d7d142982e3bf62e4c0caf8b8fe02"}
{"commit_hash": "c2f26e8f8788dbd911692d983a3ece83d7d66fbb", "short_hash": "c2f26e8f8788", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-22T17:08:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T12:37:23-08:00", "subject": "net: Use RCU_INIT_POINTER() to set sk_wq", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking core"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 6, "novelty": 0, "subtotal": 13, "details": "RCU API migration affecting network stack"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal review, concise message"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Baidu author, kernel maintainer commit"}}, "score_justification": "RCU API migration in networking core, replacing direct pointer assignments with RCU_INIT_POINTER", "code_snippet": "@@ -1865,7 +1865,7 @@ struct sock *sk_clone_lock(const struct sock *sk, const gfp_t priority)\n \t\t */\n \t\tsk_refcnt_debug_inc(newsk);\n \t\tsk_set_socket(newsk, NULL);\n-\t\tnewsk->sk_wq = NULL;\n+\t\tRCU_INIT_POINTER(newsk->sk_wq, NULL);\n \n \t\tif (newsk->sk_prot->sockets_allocated)\n \t\t\tsk_sockets_allocated_inc(newsk);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2f26e8f8788dbd911692d983a3ece83d7d66fbb"}
{"commit_hash": "2a73ac3e6c9d7cd80af731bcb699c180d95c8166", "short_hash": "2a73ac3e6c9d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:49-08:00", "subject": "net: hns3: add xps setting support for hns3 driver", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 24, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 4 hunks, 24 lines in ethernet driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "XPS feature improves throughput for hns3 users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 reviewers, adequate message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "XPS transmit queue steering feature for hns3 NIC", "code_snippet": "@@ -378,6 +378,29 @@ static int hns3_nic_net_up(struct net_device *netdev)\n \treturn ret;\n }\n \n+static void hns3_config_xps(struct hns3_nic_priv *priv)\n+{\n+\tint i;\n+\n+\tfor (i = 0; i < priv->vector_num; i++) {\n+\t\tstruct hns3_enet_tqp_vector *tqp_vector = &priv->tqp_vector[i];\n+\t\tstruct hns3_enet_ring *ring = tqp_vector->tx_group.ring;\n+\n+\t\twhile (ring) {\n+\t\t\tint ret;\n+\n+\t\t\tret = netif_set_xps_queue(priv->netdev,\n+\t\t\t\t\t\t  &tqp_vector->affinity_mask,\n+\t\t\t\t\t\t  ring->tqp->tqp_index);\n+\t\t\tif (ret)\n+\t\t\t\tnetdev_warn(priv->netdev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a73ac3e6c9d7cd80af731bcb699c180d95c8166"}
{"commit_hash": "186551284e6ec3d7c87b0e48da570816a39e9afc", "short_hash": "186551284e6e", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: fix improper error handling for hns3_client_start", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a6d818e31d08 (\"net: hns3: Add vport alive state checking support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line fix in network driver error path"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for specific driver with user impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag, good message, basic review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei to davem), maintainer committed"}}, "score_justification": "Error handling bug fix in hns3 network driver with Fixes tag", "code_snippet": "@@ -3656,7 +3656,7 @@ static int hns3_client_init(struct hnae3_handle *handle)\n \tret = hns3_client_start(handle);\n \tif (ret) {\n \t\tdev_err(priv->dev, \"hns3_client_start fail! ret=%d\\n\", ret);\n-\t\t\tgoto out_reg_netdev_fail;\n+\t\t\tgoto out_client_start;\n \t}\n \n \thns3_dcbnl_setup(handle);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/186551284e6ec3d7c87b0e48da570816a39e9afc"}
{"commit_hash": "a638b1d8cc875ae819591be787503fc1db053d5f", "short_hash": "a638b1d8cc87", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: fix get VF RSS issue", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 374ad291762a (\"net: hns3: net: hns3: Add RSS general configuration support for VF\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 74, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 2 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for RSS config on Hisilicon NIC"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, same-company review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "Fixes incorrect RSS hash key retrieval for VFs on revision 0x20 hardware", "code_snippet": "@@ -490,6 +490,24 @@ static int hclge_get_queue_id_in_pf(struct hclge_vport *vport,\n \treturn hclge_gen_resp_to_vf(vport, mbx_req, 0, resp_data, 2);\n }\n \n+static int hclge_get_rss_key(struct hclge_vport *vport,\n+\t\t\t     struct hclge_mbx_vf_to_pf_cmd *mbx_req)\n+{\n+#define HCLGE_RSS_MBX_RESP_LEN\t8\n+\tu8 resp_data[HCLGE_RSS_MBX_RESP_LEN];\n+\tstruct hclge_dev *hdev = vport->back;\n+\tu8 index;\n+\n+\tindex = mbx_req->msg[2];\n+\n+\tmemcpy(&resp_data[0],\n+\t       &hdev->vport[0].rss_hash_key[index * HCLGE_RSS_MBX_RESP_LEN],\n+\t       HCLGE_RSS_MBX_RESP_LEN);\n+\n+\treturn hclge_gen_resp_to_vf(vport, mbx_req, 0, resp_data,\n+\t\t\t\t    HCLGE_RSS_MBX_RESP_LEN);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a638b1d8cc875ae819591be787503fc1db053d5f"}
{"commit_hash": "eb4c2ccbad6c688be791e0c08640a40124558c03", "short_hash": "eb4c2ccbad6c", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: fix setting of the hns reset_type for rdma hw errors", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 630ba007f475 (\"net: hns3: add handling of RDMA RAS errors\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 20, "deletions": 16, "hunks": 10, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in NIC driver (1 file, 10 hunks, 36 lines)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for Hisilicon NIC users, no stable tag"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple Signed-off-by, good Fixes/Reported-by, no Tested-by"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Same company (Huawei), reported by internal team, external maintainer"}}, "score_justification": "Regression fix for wrong reset_type logic in hns3 RDMA error handling", "code_snippet": "@@ -1148,10 +1148,10 @@ static int hclge_log_rocee_ovf_error(struct hclge_dev *hdev)\n \treturn 0;\n }\n \n-static int hclge_log_and_clear_rocee_ras_error(struct hclge_dev *hdev)\n+static enum hnae3_reset_type\n+hclge_log_and_clear_rocee_ras_error(struct hclge_dev *hdev)\n {\n-\tenum hnae3_reset_type reset_type = HNAE3_FUNC_RESET;\n-\tstruct hnae3_ae_dev *ae_dev = hdev->ae_dev;\n+\tenum hnae3_reset_type reset_type = HNAE3_NONE_RESET;\n \tstruct device *dev = &hdev->pdev->dev;\n \tstruct hclge_desc desc[2];\n \tunsigned int status;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb4c2ccbad6c688be791e0c08640a40124558c03"}
{"commit_hash": "30ebc576d7773c7d8b53fa7941c2c56e488589fd", "short_hash": "30ebc576d777", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: enable VF VLAN filter for each VF when initializing", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 64d114f0a750 (\"net: hns3: Add egress/ingress vlan filter for revision 0x21\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 23, "deletions": 11, "hunks": 10, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver change in network subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Fixes VLAN filtering affecting hns3 driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple sign-offs, good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "Fixes VLAN filter initialization for hns3 VF to prevent broadcast packet leaks", "code_snippet": "@@ -6376,12 +6377,13 @@ static void hclge_enable_vlan_filter(struct hnae3_handle *handle, bool enable)\n \n \tif (hdev->pdev->revision >= 0x21) {\n \t\thclge_set_vlan_filter_ctrl(hdev, HCLGE_FILTER_TYPE_VF,\n-\t\t\t\t\t   HCLGE_FILTER_FE_EGRESS, enable);\n+\t\t\t\t\t   HCLGE_FILTER_FE_EGRESS, enable, 0);\n \t\thclge_set_vlan_filter_ctrl(hdev, HCLGE_FILTER_TYPE_PORT,\n-\t\t\t\t\t   HCLGE_FILTER_FE_INGRESS, enable);\n+\t\t\t\t\t   HCLGE_FILTER_FE_INGRESS, enable, 0);\n \t} else {\n \t\thclge_set_vlan_filter_ctrl(hdev, HCLGE_FILTER_TYPE_VF,\n-\t\t\t\t\t   HCLGE_FILTER_FE_EGRESS_V1_B, enable);\n+\t\t\t\t\t   HCLGE_FILTER_FE_EGRESS_V1_B, enable,\n+\t\t\t\t\t   0);\n \t}\n \tif (enable)\n \t\thandle->netdev_flags |= HNAE3_VLAN_FLTR;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/30ebc576d7773c7d8b53fa7941c2c56e488589fd"}
{"commit_hash": "c04259442395a6d9648e8dd105e9058726b2451a", "short_hash": "c04259442395", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: add support to config depth for tx|rx ring separately", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 10, "insertions": 119, "deletions": 47, "hunks": 48, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 14, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "10 files, 48 hunks, +119/-47 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Functional enhancement for Hisilicon NIC users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, clear purpose, no test evidence"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer applied"}}, "score_justification": "Functional enhancement adding independent TX/RX ring depth configuration for Hisilicon NIC", "code_snippet": "@@ -537,7 +539,9 @@ struct hnae3_roce_private_info {\n struct hnae3_unic_private_info {\n \tstruct net_device *netdev;\n \tu16 rx_buf_len;\n-\tu16 num_desc;\n+\tu16 num_tx_desc;\n+\tu16 num_rx_desc;\n+\n \tu16 num_tqps;\t/* total number of tqps in this handle */\n \tstruct hnae3_queue **tqp;  /* array base of all TQPs of this instance */\n };\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 236b340f8102..9f9a52d74f7a 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c04259442395a6d9648e8dd105e9058726b2451a"}
{"commit_hash": "e8149933b1fab774e892f8ab605d241df673291c", "short_hash": "e8149933b1fa", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: remove hnae3_get_bit in data path", "primary_category": "FEAT-PERF", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 19, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (10 hunks, +14-19 LOC)"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 15, "details": "Performance optimization in NIC data path affecting Hisilicon users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic SOB chain, minimal message quality, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, davem maintainer accepted, cross-org review"}}, "score_justification": "Remove unnecessary bit masking in hot path to improve Hisilicon NIC performance", "code_snippet": "@@ -2318,13 +2318,12 @@ static void hns3_rx_checksum(struct hns3_enet_ring *ring, struct sk_buff *skb,\n \t}\n \n \t/* check if hardware has done checksum */\n-\tif (!hnae3_get_bit(bd_base_info, HNS3_RXD_L3L4P_B))\n+\tif (!(bd_base_info & BIT(HNS3_RXD_L3L4P_B)))\n \t\treturn;\n \n-\tif (unlikely(hnae3_get_bit(l234info, HNS3_RXD_L3E_B) ||\n-\t\t     hnae3_get_bit(l234info, HNS3_RXD_L4E_B) ||\n-\t\t     hnae3_get_bit(l234info, HNS3_RXD_OL3E_B) ||\n-\t\t     hnae3_get_bit(l234info, HNS3_RXD_OL4E_B))) {\n+\tif (unlikely(l234info & (BIT(HNS3_RXD_L3E_B) | BIT(HNS3_RXD_L4E_B) ||\n+\t\t\t\t BIT(HNS3_RXD_OL3E_B) ||\n+\t\t\t\t BIT(HNS3_RXD_OL4E_B)))) {\n \t\tu64_stats_update_begin(&ring->syncp);\n \t\tring->stats.l3l4_csum_err++;\n \t\tu64_stats_update_end(&ring->syncp);", "flags": ["DATA-PATH-OPT", "HOT-PATH"], "link": "https://lore.kernel.org/linux-kernel/e8149933b1fab774e892f8ab605d241df673291c"}
{"commit_hash": "cde4ffada8290c803e5b68423466118e5421c774", "short_hash": "cde4ffada829", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: replace hnae3_set_bit and hnae3_set_field in data path", "primary_category": "FEAT-PERF", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 51, "deletions": 69, "hunks": 18, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-sized change in network driver with 18 hunks"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization in data path affecting driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs from same company, clear explanation"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Committer from different org, maintainer applied change"}}, "score_justification": "Data path optimization removing unnecessary masking operations in Hisilicon HNS3 driver", "code_snippet": "@@ -667,8 +669,7 @@ static int hns3_set_tso(struct sk_buff *skb, u32 *paylen,\n \n \t/* find the txbd field values */\n \t*paylen = skb->len - hdr_len;\n-\thnae3_set_bit(*type_cs_vlan_tso,\n-\t\t      HNS3_TXD_TSO_B, 1);\n+\thns3_set_field(*type_cs_vlan_tso, HNS3_TXD_TSO_B, 1);\n \n \t/* get MSS for TSO */\n \t*mss = skb_shinfo(skb)->gso_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cde4ffada8290c803e5b68423466118e5421c774"}
{"commit_hash": "d40fa7eeab55dc1f0ab5f81d1c53af31dbcdd9ac", "short_hash": "d40fa7eeab55", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: remove some ops in struct hns3_nic_ops", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 5, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup in single driver (2 files, 8 hunks, 5+9 lines)"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Driver cleanup, no stable backport, affects hns3 NIC users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "2 SOBs, basic message explaining why, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer (davem), cross-org"}}, "score_justification": "Driver cleanup removing unused ops struct members, calling function directly", "code_snippet": "@@ -1290,9 +1290,9 @@ netdev_tx_t hns3_nic_net_xmit(struct sk_buff *skb, struct net_device *netdev)\n \t\tfrag = &skb_shinfo(skb)->frags[i - 1];\n \t\tsize = skb_frag_size(frag);\n \n-\t\tret = priv->ops.fill_desc(ring, frag, size,\n-\t\t\t\t\t  seg_num - 1 == i ? 1 : 0,\n-\t\t\t\t\t  DESC_TYPE_PAGE);\n+\t\tret = hns3_fill_desc(ring, frag, size,\n+\t\t\t\t     seg_num - 1 == i ? 1 : 0,\n+\t\t\t\t     DESC_TYPE_PAGE);\n \n \t\tif (ret)\n \t\t\tgoto frag_fill_err;", "flags": ["SINGLE_COMPANY"], "link": "https://lore.kernel.org/linux-kernel/d40fa7eeab55dc1f0ab5f81d1c53af31dbcdd9ac"}
{"commit_hash": "0cccebac710a2ac1ee9a18744e9ee24746f7d947", "short_hash": "0cccebac710a", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: add unlikely for error handling in data path", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 16, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium optimization: 1 file, 16 hunks, 18 lines in networking driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization in critical data path for HNS3 NIC users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": ">Minimal commit message explaining performance hint change, self-signed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer (David S. Miller)"}}, "score_justification": "Performance optimization adding unlikely() hints to error handling in network driver data path", "code_snippet": "@@ -1065,12 +1065,12 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \t\t\tret = hns3_set_l3l4_type_csum(skb, ol4_proto, il4_proto,\n \t\t\t\t\t\t      &type_cs_vlan_tso,\n \t\t\t\t\t\t      &ol_type_vlan_len_msec);\n-\t\t\tif (ret)\n+\t\t\tif (unlikely(ret))\n \t\t\t\treturn ret;\n \n \t\t\tret = hns3_set_tso(skb, &paylen, &mss,\n \t\t\t\t\t   &type_cs_vlan_tso);\n-\t\t\tif (ret)\n+\t\t\tif (unlikely(ret))\n \t\t\t\treturn ret;\n \t\t}\n ", "flags": ["SELF_COMMIT"], "link": "https://lore.kernel.org/linux-kernel/0cccebac710a2ac1ee9a18744e9ee24746f7d947"}
{"commit_hash": "3fe13ed95dd3c4aede3313a2dd2d589c207b51d0", "short_hash": "3fe13ed95dd3", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: avoid mult + div op in critical data path", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 11, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver optimizing critical path"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for specific driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Company reviewers, basic message, clear scope"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer, proactive"}}, "score_justification": "Driver micro-optimization replacing mult/div with bit shifts in fast path", "code_snippet": "@@ -1145,14 +1145,14 @@ static int hns3_nic_maybe_stop_tso(struct sk_buff **out_skb, int *bnum,\n \tint i;\n \n \tsize = skb_headlen(skb);\n-\tbuf_num = (size + HNS3_MAX_BD_SIZE - 1) / HNS3_MAX_BD_SIZE;\n+\tbuf_num = (size + HNS3_MAX_BD_SIZE - 1) >> HNS3_MAX_BD_SIZE_OFFSET;\n \n \tfrag_num = skb_shinfo(skb)->nr_frags;\n \tfor (i = 0; i < frag_num; i++) {\n \t\tfrag = &skb_shinfo(skb)->frags[i];\n \t\tsize = skb_frag_size(frag);\n-\t\tbdnum_for_frag =\n-\t\t\t(size + HNS3_MAX_BD_SIZE - 1) / HNS3_MAX_BD_SIZE;\n+\t\tbdnum_for_frag = (size + HNS3_MAX_BD_SIZE - 1) >>\n+\t\t\t\t HNS3_MAX_BD_SIZE_OFFSET;\n \t\tif (bdnum_for_frag > HNS3_MAX_BD_PER_FRAG)\n \t\t\treturn -ENOMEM;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3fe13ed95dd3c4aede3313a2dd2d589c207b51d0"}
{"commit_hash": "47e7b13b0aff869465585d36a8d5075fe17cb90a", "short_hash": "47e7b13b0aff", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T17:22:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T20:27:50-08:00", "subject": "net: hns3: limit some variable scope in critical data path", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 19, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 12, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small scope optimization in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Performance improvement for hns3 NIC users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with internal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Variable scope reduction in critical data path for performance", "code_snippet": "@@ -1029,26 +1029,21 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \tstruct hns3_desc_cb *desc_cb = &ring->desc_cb[ring->next_to_use];\n \tstruct hns3_desc *desc = &ring->desc[ring->next_to_use];\n \tstruct device *dev = ring_to_dev(ring);\n-\tu32 ol_type_vlan_len_msec = 0;\n \tu16 bdtp_fe_sc_vld_ra_ri = 0;\n \tstruct skb_frag_struct *frag;\n \tunsigned int frag_buf_num;\n-\tu32 type_cs_vlan_tso = 0;\n-\tstruct sk_buff *skb;\n-\tu16 inner_vtag = 0;\n-\tu16 out_vtag = 0;\n-\tunsigned int k;\n-\tint sizeoflast;\n-\tu32 paylen = 0;\n+\tint k, sizeoflast;\n \tdma_addr_t dma;\n-\tu16 mss = 0;\n-\tu8 ol4_proto;\n-\tu8 il4_proto;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/47e7b13b0aff869465585d36a8d5075fe17cb90a"}
{"commit_hash": "75efc250d2e57c43761890388a92eecd93aa9e45", "short_hash": "75efc250d2e5", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T15:28:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T21:57:26-08:00", "subject": "ipv6: icmp: use percpu allocation", "primary_category": "MAINT-API-MIG", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv6", "include/net"], "subsystem_tier": 2, "files_changed": 2, "insertions": 6, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 15, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 15, "details": "API migration with performance benefits for networking users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message with basic formatting"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to netdev maintainer"}}, "score_justification": "Convert IPv6 icmp_sk from kcalloc to alloc_percpu for better scalability", "code_snippet": "@@ -83,7 +83,7 @@ struct netns_ipv6 {\n \tstruct fib6_table       *fib6_local_tbl;\n \tstruct fib_rules_ops    *fib6_rules_ops;\n #endif\n-\tstruct sock\t\t**icmp_sk;\n+\tstruct sock * __percpu\t*icmp_sk;\n \tstruct sock             *ndisc_sk;\n \tstruct sock             *tcp_sk;\n \tstruct sock             *igmp_sk;\ndiff --git a/net/ipv6/icmp.c b/net/ipv6/icmp.c\nindex af520014def5..802faa2fcc0e 100644\n--- a/net/ipv6/icmp.c\n+++ b/net/ipv6/icmp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/75efc250d2e57c43761890388a92eecd93aa9e45"}
{"commit_hash": "3232a1ef0f0d1b8d3c5bb4d5b3584fa45d29f760", "short_hash": "3232a1ef0f0d", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T15:28:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T21:57:26-08:00", "subject": "ipv6: icmp: use icmpv6_sk_exit()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/ipv6", "subsystems_touched": ["net/ipv6"], "subsystem_tier": 2, "files_changed": 1, "insertions": 11, "deletions": 14, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 12, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Code simplification refactoring that extracts error path cleanup into reusable function", "code_snippet": "@@ -953,10 +953,19 @@ void icmpv6_flow_init(struct sock *sk, struct flowi6 *fl6,\n \tsecurity_sk_classify_flow(sk, flowi6_to_flowi(fl6));\n }\n \n+static void __net_exit icmpv6_sk_exit(struct net *net)\n+{\n+\tint i;\n+\n+\tfor_each_possible_cpu(i)\n+\t\tinet_ctl_sock_destroy(net->ipv6.icmp_sk[i]);\n+\tkfree(net->ipv6.icmp_sk);\n+}\n+\n static int __net_init icmpv6_sk_init(struct net *net)\n {\n \tstruct sock *sk;\n-\tint err, i, j;\n+\tint err, i;\n \n \tnet->ipv6.icmp_sk =", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3232a1ef0f0d1b8d3c5bb4d5b3584fa45d29f760"}
{"commit_hash": "e9128c14bf1ecf2d4afdd9aab2f5fe7277358233", "short_hash": "e9128c14bf1e", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T15:28:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-24T21:57:26-08:00", "subject": "ipv4: icmp: use icmp_sk_exit()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ipv4", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small simplification in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code cleanup improving maintainability"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review with simple explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer"}}, "score_justification": "Code simplification replacing error path cleanup with existing function", "code_snippet": "@@ -1245,9 +1245,7 @@ static int __net_init icmp_sk_init(struct net *net)\n \treturn 0;\n \n fail:\n-\tfor_each_possible_cpu(i)\n-\t\tinet_ctl_sock_destroy(*per_cpu_ptr(net->ipv4.icmp_sk, i));\n-\tfree_percpu(net->ipv4.icmp_sk);\n+\ticmp_sk_exit(net);\n \treturn err;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9128c14bf1ecf2d4afdd9aab2f5fe7277358233"}
{"commit_hash": "9a633f3bfb9784fe4d12c0349e9d887e36b4a9e0", "short_hash": "9a633f3bfb97", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-16T05:44:51Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-25T08:40:58+01:00", "subject": "mmc: sdhci-esdhc-imx: fix return value check in sdhci_esdhc_imx_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: fadac7488064 (\"mmc: sdhci-esdhc-imx: add CMDQ support\")", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Adrian Hunter <adrian.hunter@intel.com> (Intel)"], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in MMC host driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with no stable tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Acked-by reviewer, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer"}}, "score_justification": "Incorrect error check after devm_kzalloc, simple logic fix", "code_snippet": "@@ -1500,8 +1500,8 @@ static int sdhci_esdhc_imx_probe(struct platform_device *pdev)\n \tif (imx_data->socdata->flags & ESDHC_FLAG_CQHCI) {\n \t\thost->mmc->caps2 |= MMC_CAP2_CQE | MMC_CAP2_CQE_DCMD;\n \t\tcq_host = devm_kzalloc(&pdev->dev, sizeof(*cq_host), GFP_KERNEL);\n-\t\tif (IS_ERR(cq_host)) {\n-\t\t\terr = PTR_ERR(cq_host);\n+\t\tif (!cq_host) {\n+\t\t\terr = -ENOMEM;\n \t\t\tgoto disable_ahb_clk;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a633f3bfb9784fe4d12c0349e9d887e36b4a9e0"}
{"commit_hash": "f6a3d9d9dc1c86b75d858ebf011c7fff4b10a9bd", "short_hash": "f6a3d9d9dc1c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-29T01:43:48Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-25T08:40:58+01:00", "subject": "mmc: block: fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/core"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 8, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small API migration in MMC block driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Coccinelle-generated change with clear rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer"}}, "score_justification": "Coccinelle-generated debugfs API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -2774,8 +2774,8 @@ static int mmc_dbg_card_status_get(void *data, u64 *val)\n \n \treturn ret;\n }\n-DEFINE_SIMPLE_ATTRIBUTE(mmc_dbg_card_status_fops, mmc_dbg_card_status_get,\n-\t\tNULL, \"%08llx\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(mmc_dbg_card_status_fops, mmc_dbg_card_status_get,\n+\t\t\t NULL, \"%08llx\\n\");\n \n /* That is two digits * 512 + 1 for newline */\n #define EXT_CSD_STR_LEN 1025", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/f6a3d9d9dc1c86b75d858ebf011c7fff4b10a9bd"}
{"commit_hash": "4e47345a0c3f4a7895f78a3c0ab3812f3324f96b", "short_hash": "4e47345a0c3f", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2018-12-18T07:15:41Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-25T08:40:58+01:00", "subject": "mmc: sdhci_am654: Make symbol 'sdhci_am654_ops' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: aff88ff23512 (\"mmc: sdhci_am654: Add Initial Support for AM654 SDHCI driver\")", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line change in MMC driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic Reviewed-by tags with minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer cross-company"}}, "score_justification": "Sparse warning fix adding static to driver ops structure", "code_snippet": "@@ -158,7 +158,7 @@ static void sdhci_am654_set_power(struct sdhci_host *host, unsigned char mode,\n \tsdhci_set_power_noreg(host, mode, vdd);\n }\n \n-struct sdhci_ops sdhci_am654_ops = {\n+static struct sdhci_ops sdhci_am654_ops = {\n \t.get_max_clock = sdhci_pltfm_clk_get_max_clock,\n \t.get_timeout_clock = sdhci_pltfm_clk_get_max_clock,\n \t.set_uhs_signaling = sdhci_set_uhs_signaling,\n", "flags": ["CROSS_ORG", "HAS_FIXES"], "link": "https://lore.kernel.org/linux-kernel/4e47345a0c3f4a7895f78a3c0ab3812f3324f96b"}
{"commit_hash": "b026a7eca1a7b1254017835f91438b569bfc4e54", "short_hash": "b026a7eca1a7", "author_name": "chunhui dai", "author_email": "chunhui.dai@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-25T10:09:09+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-25T09:19:32-08:00", "subject": "clk: mediatek: add MUX_GATE_FLAGS_2", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 2, "insertions": 15, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["chunhui dai <chunhui.dai@mediatek.com> (MediaTek)", "wangyan wang <wangyan.wang@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "API enhancement for MediaTek clock drivers"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit with maintainer"}}, "score_justification": "Adds MUX_GATE_FLAGS_2 macro to support mux flag configuration in MediaTek clock drivers", "code_snippet": "@@ -167,7 +167,7 @@ struct clk *mtk_clk_register_composite(const struct mtk_composite *mc,\n \t\tmux->mask = BIT(mc->mux_width) - 1;\n \t\tmux->shift = mc->mux_shift;\n \t\tmux->lock = lock;\n-\n+\t\tmux->flags = mc->mux_flags;\n \t\tmux_hw = &mux->hw;\n \t\tmux_ops = &clk_mux_ops;\n \ndiff --git a/drivers/clk/mediatek/clk-mtk.h b/drivers/clk/mediatek/clk-mtk.h\nindex f83c2bbb677e..5f0b18bc5ef5 100644\n--- a/drivers/clk/mediatek/clk-mtk.h\n+++ b/drivers/clk/mediatek/clk-mtk.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b026a7eca1a7b1254017835f91438b569bfc4e54"}
{"commit_hash": "d3174bc836d5aadc871f74ed496694c5ea27b104", "short_hash": "d3174bc836d5", "author_name": "chunhui dai", "author_email": "chunhui.dai@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-25T10:09:10+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-25T09:19:33-08:00", "subject": "clk: mediatek: using CLK_MUX_ROUND_CLOSEST for the clock of dpi1_sel", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["chunhui dai <chunhui.dai@mediatek.com> (MediaTek)", "wangyan wang <wangyan.wang@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line change in peripheral driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting specific platform users with minor novelty"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two company review chain, adequate message quality, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit from MediaTek to kernel.org maintainer"}}, "score_justification": "Clock driver fix adding CLK_MUX_ROUND_CLOSEST flag for proper MUX selection on MediaTek platform", "code_snippet": "@@ -535,8 +535,8 @@ static const struct mtk_composite top_muxes[] = {\n \t\t0x0080, 8, 2, 15),\n \tMUX_GATE(CLK_TOP_DPI0_SEL, \"dpi0_sel\", dpi0_parents,\n \t\t0x0080, 16, 3, 23),\n-\tMUX_GATE(CLK_TOP_DPI1_SEL, \"dpi1_sel\", dpi1_parents,\n-\t\t0x0080, 24, 2, 31),\n+\tMUX_GATE_FLAGS_2(CLK_TOP_DPI1_SEL, \"dpi1_sel\", dpi1_parents,\n+\t\t0x0080, 24, 2, 31, 0, CLK_MUX_ROUND_CLOSEST),\n \n \tMUX_GATE(CLK_TOP_TVE_SEL, \"tve_sel\", tve_parents,\n \t\t0x0090, 0, 3, 7),\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3174bc836d5aadc871f74ed496694c5ea27b104"}
{"commit_hash": "aa704d4e75c1ee4fe8eb6dc448955792fe19c96d", "short_hash": "aa704d4e75c1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-15T06:31:07Z", "committer_name": "David Sterba", "committer_email": "dsterba@suse.com", "committer_company": "SUSE", "commit_date": "2019-02-25T14:13:18+01:00", "subject": "btrfs: remove set but not used variable 'num_pages'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9ee8234e6220 (\"Btrfs: use generic_remap_file_range_prep() for cloning and deduplication\")", "cc_stable": false, "subsystem_prefix": "btrfs", "subsystems_touched": ["fs/btrfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Sterba <dsterba@suse.com> (SUSE)"], "reviewed_by": ["Anand Jain <anand.jain@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in important filesystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed-by with good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to Suse"}}, "score_justification": "Removes unused variable causing gcc warning in btrfs, cross-company review", "code_snippet": "@@ -3278,7 +3278,6 @@ static int btrfs_extent_same(struct inode *src, u64 loff, u64 olen,\n \t\t\t     struct inode *dst, u64 dst_loff)\n {\n \tint ret;\n-\tint num_pages = PAGE_ALIGN(BTRFS_MAX_DEDUPE_LEN) >> PAGE_SHIFT;\n \tu64 i, tail_len, chunk_count;\n \n \t/* don't make the dst file partly checksummed */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa704d4e75c1ee4fe8eb6dc448955792fe19c96d"}
{"commit_hash": "f65e25e343cfc0e6f4db9a687c4085fad268325d", "short_hash": "f65e25e343cf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T12:32:02Z", "committer_name": "David Sterba", "committer_email": "dsterba@suse.com", "committer_company": "SUSE", "commit_date": "2019-02-25T14:19:23+01:00", "subject": "btrfs: Remove unnecessary casts in btrfs_read_root_item", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "btrfs", "subsystems_touched": ["fs/btrfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Sterba <dsterba@suse.com> (SUSE)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)", "Qu Wenruo <wqu@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 6, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in critical filesystem subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Dual reviewed-by, detailed explanation of cleanup"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, SUSE committer, Oracle reviewer"}}, "score_justification": "Cleanup removing unnecessary casts in btrfs, well-reviewed across companies", "code_snippet": "@@ -21,12 +21,12 @@ static void btrfs_read_root_item(struct extent_buffer *eb, int slot,\n \t\t\t\tstruct btrfs_root_item *item)\n {\n \tuuid_le uuid;\n-\tint len;\n+\tu32 len;\n \tint need_reset = 0;\n \n \tlen = btrfs_item_size_nr(eb, slot);\n \tread_extent_buffer(eb, item, btrfs_item_ptr_offset(eb, slot),\n-\t\t\tmin_t(int, len, (int)sizeof(*item)));\n+\t\t\t   min_t(u32, len, sizeof(*item)));\n \tif (len < sizeof(*item))\n \t\tneed_reset = 1;\n \tif (!need_reset && btrfs_root_generation(item)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f65e25e343cfc0e6f4db9a687c4085fad268325d"}
{"commit_hash": "c14f7e1efcbf744c49fcb44a121112c54d2c5330", "short_hash": "c14f7e1efcbf", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T23:06:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: wan: z85230: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 12, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single function call change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 12, "details": "Enhancement for better drop profiling visibility"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean change with clear justification"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to maintainer"}}, "score_justification": "API change to improve dropwatch profiling by using consume vs free", "code_snippet": "@@ -1536,7 +1536,7 @@ static void z8530_tx_done(struct z8530_channel *c)\n \tz8530_tx_begin(c);\n \tc->netdevice->stats.tx_packets++;\n \tc->netdevice->stats.tx_bytes += skb->len;\n-\tdev_kfree_skb_irq(skb);\n+\tdev_consume_skb_irq(skb);\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c14f7e1efcbf744c49fcb44a121112c54d2c5330"}
{"commit_hash": "11dc98064c91b90c65210686fc744a03ad525cea", "short_hash": "11dc98064c91", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T23:05:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: wan: cosa: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 1-line change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improves debugging visibility"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, maintainer committed"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq in WAN driver for better drop profiling support", "code_snippet": "@@ -769,7 +769,7 @@ static int cosa_net_tx_done(struct channel_data *chan, int size)\n \t\tchan->netdev->stats.tx_aborted_errors++;\n \t\treturn 1;\n \t}\n-\tdev_kfree_skb_irq(chan->tx_skb);\n+\tdev_consume_skb_irq(chan->tx_skb);\n \tchan->tx_skb = NULL;\n \tchan->netdev->stats.tx_packets++;\n \tchan->netdev->stats.tx_bytes += size;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11dc98064c91b90c65210686fc744a03ad525cea"}
{"commit_hash": "153d96bec5688fd563ed0569d61fa1367532b7c3", "short_hash": "153d96bec568", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T23:03:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: wan: sbni: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration for drop profiling"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer"}}, "score_justification": "API migration in network driver from kfree to consume for better drop profiling support", "code_snippet": "@@ -761,7 +761,7 @@ send_complete( struct net_device *dev )\n \tdev->stats.tx_packets++;\n \tdev->stats.tx_bytes += nl->tx_buf_p->len;\n #endif\n-\tdev_kfree_skb_irq( nl->tx_buf_p );\n+\tdev_consume_skb_irq(nl->tx_buf_p);\n \n \tnl->tx_buf_p = NULL;\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/153d96bec5688fd563ed0569d61fa1367532b7c3"}
{"commit_hash": "763284d4a5df1592d626334e2c0e206ca4aa07fa", "short_hash": "763284d4a5df", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T23:02:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: wan: ixp4xx_hss: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change: 1 line modified in single driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for better profiling support"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, net maintainer applied"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better drop profiling", "code_snippet": "@@ -246,7 +246,7 @@\n #ifdef __ARMEB__\n typedef struct sk_buff buffer_t;\n #define free_buffer dev_kfree_skb\n-#define free_buffer_irq dev_kfree_skb_irq\n+#define free_buffer_irq dev_consume_skb_irq\n #else\n typedef void buffer_t;\n #define free_buffer kfree\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/763284d4a5df1592d626334e2c0e206ca4aa07fa"}
{"commit_hash": "73634c0851cf7cb86f7614421cf6e149520fb580", "short_hash": "73634c0851cf", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T23:01:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: wan: wanxl: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important networking driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 2, "novelty": 1, "subtotal": 10, "details": "API migration improving drop profile visibility"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Reviewed-by tag from maintainer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit with kernel.org maintainer"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for better dropwatch integration", "code_snippet": "@@ -185,7 +185,7 @@ static inline void wanxl_tx_intr(struct port *port)\n                 desc->stat = PACKET_EMPTY; /* Free descriptor */\n \t\tpci_unmap_single(port->card->pdev, desc->address, skb->len,\n \t\t\t\t PCI_DMA_TODEVICE);\n-\t\tdev_kfree_skb_irq(skb);\n+\t\tdev_consume_skb_irq(skb);\n                 port->tx_in = (port->tx_in + 1) % TX_BUFFERS;\n         }\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73634c0851cf7cb86f7614421cf6e149520fb580"}
{"commit_hash": "b84caee8449e6e8a2e7da88bdb43958db82b26d8", "short_hash": "b84caee8449e", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-25T22:57:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-25T14:36:15-08:00", "subject": "net: lmc: replace dev_kfree_skb_irq by dev_consume_skb_irq for drop profiles", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "drivers/net/wan", "subsystems_touched": ["drivers/net/wan"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in WAN driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for better profiling"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Well-explained but no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, maintainer merged"}}, "score_justification": "API migration from dev_kfree_skb_irq to dev_consume_skb_irq for drop profile compatibility", "code_snippet": "@@ -1320,8 +1320,7 @@ static irqreturn_t lmc_interrupt (int irq, void *dev_instance) /*fold00*/\n \t\t\tsc->lmc_device->stats.tx_packets++;\n                 }\n \n-                //                dev_kfree_skb(sc->lmc_txq[i]);\n-                dev_kfree_skb_irq(sc->lmc_txq[i]);\n+\t\tdev_consume_skb_irq(sc->lmc_txq[i]);\n                 sc->lmc_txq[i] = NULL;\n \n                 badtx++;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b84caee8449e6e8a2e7da88bdb43958db82b26d8"}
{"commit_hash": "bae1320f7afdb08db96884f2caedc62db295ed4e", "short_hash": "bae1320f7afd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-25T02:03:28Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-26T09:07:35-08:00", "subject": "mlxsw: spectrum: remove set but not used variable 'autoneg_status'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 475b33cb66c9 (\"mlxsw: spectrum: Remove unsupported eth_proto_lp_advertise field in PTYS\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/mellanox/mlxsw"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Ido Schimmel <idosch@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer review"}}, "score_justification": "Remove unused variable fixing gcc warning in Mellanox driver", "code_snippet": "@@ -3059,7 +3059,6 @@ static int mlxsw_sp_port_get_link_ksettings(struct net_device *dev,\n \tconst struct mlxsw_sp_port_type_speed_ops *ops;\n \tchar ptys_pl[MLXSW_REG_PTYS_LEN];\n \tu8 connector_type;\n-\tu8 autoneg_status;\n \tbool autoneg;\n \tint err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bae1320f7afdb08db96884f2caedc62db295ed4e"}
{"commit_hash": "635bd69bbe92acfeddcc6f3d7e7eb1a9049f361b", "short_hash": "635bd69bbe92", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-26T01:57:32Z", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-26T09:41:04-08:00", "subject": "clk: ingenic: Remove set but not used variable 'enable'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ab27eb4bc365 (\"clk: ingenic: Add code to enable/disable PLLs\")", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/ingenic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 4 hunks, tiny change removing unused variable"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Compiler warning fix removing unused variable in clock driver", "code_snippet": "@@ -83,7 +83,7 @@ ingenic_pll_recalc_rate(struct clk_hw *hw, unsigned long parent_rate)\n \tconst struct ingenic_cgu_clk_info *clk_info;\n \tconst struct ingenic_cgu_pll_info *pll_info;\n \tunsigned m, n, od_enc, od;\n-\tbool bypass, enable;\n+\tbool bypass;\n \tunsigned long flags;\n \tu32 ctl;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/635bd69bbe92acfeddcc6f3d7e7eb1a9049f361b"}
{"commit_hash": "56897b217a1d0a91c9920cb418d6b3fe922f590a", "short_hash": "56897b217a1d", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T12:33:27+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-02-26T09:55:39+01:00", "subject": "Bluetooth: hci_ldisc: Postpone HCI_UART_PROTO_READY bit set in hci_uart_set_proto()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": ["Jeremy Cline <jcline@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": ["syzbot+899a33dc0fa0dbaf06a6@syzkaller.appspotmail.com"]}, "score_total": 49, "score_technical": 8, "score_impact": 21, "score_quality": 13, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in Bluetooth driver with clear race condition"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 21, "details": "Use-after-free vulnerability affecting Bluetooth users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent message with race diagram, Reported-by, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 3, "subtotal": 7, "details": "Huawei author, RedHat reviewer, external syzbot report"}}, "score_justification": "Use-after-free race in Bluetooth HCI UART from concurrent proto set/recv", "code_snippet": "@@ -696,14 +696,13 @@ static int hci_uart_set_proto(struct hci_uart *hu, int id)\n \t\treturn -EPROTONOSUPPORT;\n \n \thu->proto = p;\n-\tset_bit(HCI_UART_PROTO_READY, &hu->flags);\n \n \terr = hci_uart_register_dev(hu);\n \tif (err) {\n-\t\tclear_bit(HCI_UART_PROTO_READY, &hu->flags);\n \t\treturn err;\n \t}\n \n+\tset_bit(HCI_UART_PROTO_READY, &hu->flags);\n \treturn 0;\n }\n \n", "flags": ["REPORTED-BY"], "link": "https://lore.kernel.org/linux-kernel/56897b217a1d0a91c9920cb418d6b3fe922f590a"}
{"commit_hash": "379c003f77307bb25f5f80a67afa7c70e56b1c32", "short_hash": "379c003f7730", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-22T09:58:58+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-02-26T10:13:16-05:00", "subject": "scsi: megaraid_sas: Remove a bunch of set but not used variables", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 26, "hunks": 28, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1638,15 +1633,12 @@ static inline void megasas_free_ioc_init_cmd(struct megasas_instance *instance)\n u32\n megasas_init_adapter_fusion(struct megasas_instance *instance)\n {\n-\tstruct megasas_register_set __iomem *reg_set;\n \tstruct fusion_context *fusion;\n \tu32 scratch_pad_1;\n \tint i = 0, count;\n \n \tfusion = instance->ctrl_context;\n \n-\treg_set = instance->reg_set;\n-\n \tmegasas_fusion_update_can_queue(instance, PROBE_CONTEXT);\n \n \t/*", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/379c003f77307bb25f5f80a67afa7c70e56b1c32"}
{"commit_hash": "64f4466c887e2f16cb01467c8064ff1106c980a3", "short_hash": "64f4466c887e", "author_name": "Seiya Wang", "author_email": "seiya.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-25T14:51:12+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-26T10:17:40-08:00", "subject": "clk: mediatek: correct cpu clock name for MT8173 SoC", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-NAMING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Seiya Wang <seiya.wang@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Correctness fix for CPU clock naming"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by but minimal message context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit with kernel.org maintainer"}}, "score_justification": "", "code_snippet": "@@ -542,7 +542,7 @@ static const char * const ca57_parents[] __initconst = {\n \n static const struct mtk_composite cpu_muxes[] __initconst = {\n \tMUX(CLK_INFRA_CA53SEL, \"infra_ca53_sel\", ca53_parents, 0x0000, 0, 2),\n-\tMUX(CLK_INFRA_CA57SEL, \"infra_ca57_sel\", ca57_parents, 0x0000, 2, 2),\n+\tMUX(CLK_INFRA_CA72SEL, \"infra_ca72_sel\", ca72_parents, 0x0000, 2, 2),\n };\n \n static const struct mtk_composite top_muxes[] __initconst = {\ndiff --git a/include/dt-bindings/clock/mt8173-clk.h b/include/dt-bindings/clock/mt8173-clk.h\nindex 8aea623dd518..76e4e5b65353 100644\n--- a/include/dt-bindings/clock/mt8173-clk.h\n+++ b/include/dt-bindings/clock/mt8173-clk.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64f4466c887e2f16cb01467c8064ff1106c980a3"}
{"commit_hash": "3b40bf4e24d13a858b7e58687ed9580157bcf17e", "short_hash": "3b40bf4e24d1", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-25T10:43:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-26T14:50:22-08:00", "subject": "net: Use RCU_POINTER_INITIALIZER() to init static variable", "primary_category": "MAINT-API-MIG", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 6, "novelty": 0, "subtotal": 13, "details": "API migration improving RCU correctness"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, clear message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different orgs for author/committer"}}, "score_justification": "RCU API migration in network scheduler for correctness", "code_snippet": "@@ -559,7 +559,7 @@ struct Qdisc_ops noop_qdisc_ops __read_mostly = {\n };\n \n static struct netdev_queue noop_netdev_queue = {\n-\t.qdisc\t\t=\t&noop_qdisc,\n+\tRCU_POINTER_INITIALIZER(qdisc, &noop_qdisc),\n \t.qdisc_sleeping\t=\t&noop_qdisc,\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b40bf4e24d13a858b7e58687ed9580157bcf17e"}
{"commit_hash": "03af21d6ba35e2a95797fc12a3b479856bacc379", "short_hash": "03af21d6ba35", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-25T03:32:46Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-26T15:09:00+02:00", "subject": "ath9k: remove set but not used variable 'acq'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 89cea7493a34 (\"ath9k: Switch to mac80211 TXQ scheduling and airtime APIs\")", "cc_stable": false, "subsystem_prefix": "ath9k", "subsystems_touched": ["drivers/net/wireless/ath/ath9k"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Toke Hiland-Jrgensen <toke@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small warning fix in wireless driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with fixes tag"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with ack and fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Codeaurora maintainer"}}, "score_justification": "Compiler warning fix removing unused variables after refactor", "code_snippet": "@@ -1006,9 +1006,6 @@ static void ath_rx_count_airtime(struct ath_softc *sc,\n \t\t\t\t struct ath_rx_status *rs,\n \t\t\t\t struct sk_buff *skb)\n {\n-\tstruct ath_node *an;\n-\tstruct ath_acq *acq;\n-\tstruct ath_vif *avp;\n \tstruct ieee80211_hdr *hdr = (struct ieee80211_hdr *) skb->data;\n \tstruct ath_hw *ah = sc->sc_ah;\n \tstruct ath_common *common = ath9k_hw_common(ah);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03af21d6ba35e2a95797fc12a3b479856bacc379"}
{"commit_hash": "e83887f67bee00daca7db271fa44db462c55eb28", "short_hash": "e83887f67bee", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-27T20:47:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-02-27T10:07:57-08:00", "subject": "ethtool: Use explicit designated initializers for .cmd", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Michal Kubecek <mkubecek@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in networking core to fix compiler warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Proper review chain with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different organizations"}}, "score_justification": "Compiler warning fix using designated initializers in networking code", "code_snippet": "@@ -1717,7 +1717,7 @@ static noinline_for_stack int ethtool_set_channels(struct net_device *dev,\n \n static int ethtool_get_pauseparam(struct net_device *dev, void __user *useraddr)\n {\n-\tstruct ethtool_pauseparam pauseparam = { ETHTOOL_GPAUSEPARAM };\n+\tstruct ethtool_pauseparam pauseparam = { .cmd = ETHTOOL_GPAUSEPARAM };\n \n \tif (!dev->ethtool_ops->get_pauseparam)\n \t\treturn -EOPNOTSUPP;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e83887f67bee00daca7db271fa44db462c55eb28"}
{"commit_hash": "35acfbab6e5b229ea3c4807d1949c3ab8fda9818", "short_hash": "35acfbab6e5b", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-22T16:58:44+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-02-27T11:03:59+01:00", "subject": "netfilter: remove unneeded switch fall-through", "primary_category": "TRIV-COMMENT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/netfilter"], "subsystem_tier": 2, "files_changed": 2, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Trivial comment-only change in netfilter"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact from comment removal"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting with maintainer sign-off"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "No community engagement beyond sign-off"}}, "score_justification": "Removes unnecessary fall-through comments in empty switch cases", "code_snippet": "@@ -240,7 +240,7 @@ static bool l4proto_in_range(const struct nf_conntrack_tuple *tuple,\n \t__be16 port;\n \n \tswitch (tuple->dst.protonum) {\n-\tcase IPPROTO_ICMP: /* fallthrough */\n+\tcase IPPROTO_ICMP:\n \tcase IPPROTO_ICMPV6:\n \t\treturn ntohs(tuple->src.u.icmp.id) >= ntohs(min->icmp.id) &&\n \t\t       ntohs(tuple->src.u.icmp.id) <= ntohs(max->icmp.id);\ndiff --git a/net/netfilter/nf_tables_core.c b/net/netfilter/nf_tables_core.c\nindex 2a00aef7b6d4..e56a94dff34e 100644\n--- a/net/netfilter/nf_tables_core.c\n+++ b/net/netfilter/nf_tables_core.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35acfbab6e5b229ea3c4807d1949c3ab8fda9818"}
{"commit_hash": "79e246fd2f378c7197314521f7ae3297ee6ceeb8", "short_hash": "79e246fd2f37", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-27T13:54:31+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-02-27T15:53:03+01:00", "subject": "staging: rtl8723bs: Remove duplicated include from drv_types.h", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Trivial include removal in staging driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, duplicate include removal"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting, minimal review needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Trivial duplicate include removal in staging driver", "code_snippet": "@@ -65,7 +65,6 @@ enum _NIC_VERSION {\n #include <rtw_event.h>\n #include <rtw_mlme_ext.h>\n #include <rtw_ap.h>\n-#include <rtw_efuse.h>\n #include <rtw_version.h>\n #include <rtw_odm.h>\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/79e246fd2f378c7197314521f7ae3297ee6ceeb8"}
{"commit_hash": "3a0681c7448b174e5dcfd19e9079cdd281c35f1a", "short_hash": "3a0681c7448b", "author_name": "Chaotian Jing", "author_email": "chaotian.jing@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T13:59:34+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-02-28T09:16:12+01:00", "subject": "mmc: core: do not retry CMD6 in __mmc_switch()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/core"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 6, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal change in MMC driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting MMC card users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author + maintainer signed, brief explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, maintainer from Linaro committed"}}, "score_justification": "Fixes unnecessary retry logic for CMD6 in MMC driver to avoid timeout errors", "code_snippet": "@@ -562,7 +562,7 @@ int __mmc_switch(struct mmc_card *card, u8 set, u8 index, u8 value,\n \tif (index == EXT_CSD_SANITIZE_START)\n \t\tcmd.sanitize_busy = true;\n \n-\terr = mmc_wait_for_cmd(host, &cmd, MMC_CMD_RETRIES);\n+\terr = mmc_wait_for_cmd(host, &cmd, 0);\n \tif (err)\n \t\tgoto out;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a0681c7448b174e5dcfd19e9079cdd281c35f1a"}
{"commit_hash": "34e022d8b780a03902d82fb3997ba7c7b1f40c81", "short_hash": "34e022d8b780", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-22T15:15:40+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-28T10:38:44+02:00", "subject": "mt76: fix a leaked reference by adding a missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 12, "score_quality": 10, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in wireless driver adding error handling paths"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Memory leak fix affecting mt76 wireless device users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with coccinelle detection, basic review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different author/committer orgs, standard tree flow"}}, "score_justification": "Reference leak fix in mt76 driver detected by coccinelle, properly scoped cleanup", "code_snippet": "@@ -54,22 +54,30 @@ mt76_get_of_eeprom(struct mt76_dev *dev, int len)\n \t\tpart = np->name;\n \n \tmtd = get_mtd_device_nm(part);\n-\tif (IS_ERR(mtd))\n-\t\treturn PTR_ERR(mtd);\n+\tif (IS_ERR(mtd)) {\n+\t\tret =  PTR_ERR(mtd);\n+\t\tgoto out_put_node;\n+\t}\n \n-\tif (size <= sizeof(*list))\n-\t\treturn -EINVAL;\n+\tif (size <= sizeof(*list)) {\n+\t\tret = -EINVAL;\n+\t\tgoto out_put_node;\n+\t}\n \n \toffset = be32_to_cpup(list);\n \tret = mtd_read(mtd, offset, len, &retlen, dev->eeprom.data);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/34e022d8b780a03902d82fb3997ba7c7b1f40c81"}
{"commit_hash": "f321505656018a389fdf2dc261af4beda2cf9cfd", "short_hash": "f32150565601", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-27T02:23:21Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-28T10:39:20+02:00", "subject": "rtlwifi: rtl8723be: Remove set but not used variable 'b_last_is_cur_rdlstate'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 3-line deletion in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean removal with good message context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Qualcomm maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in WiFi driver", "code_snippet": "@@ -995,12 +995,9 @@ static void rtl8723be_dm_check_edca_turbo(struct ieee80211_hw *hw)\n \tu32 edca_be = 0x5ea42b;\n \tu32 iot_peer = 0;\n \tbool b_is_cur_rdlstate;\n-\tbool b_last_is_cur_rdlstate = false;\n \tbool b_bias_on_rx = false;\n \tbool b_edca_turbo_on = false;\n \n-\tb_last_is_cur_rdlstate = rtlpriv->dm.is_cur_rdlstate;\n-\n \tcur_txok_cnt = rtlpriv->stats.txbytesunicast - last_txok_cnt;\n \tcur_rxok_cnt = rtlpriv->stats.rxbytesunicast - last_rxok_cnt;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f321505656018a389fdf2dc261af4beda2cf9cfd"}
{"commit_hash": "85c6ac33c87c44893ddc561dfd0a8bdc9ec68cd5", "short_hash": "85c6ac33c87c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-27T02:23:34Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-28T10:39:46+02:00", "subject": "rtlwifi: rtl8723ae: Remove set but not used variable 'bt_retry_cnt'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1405,7 +1405,6 @@ static void rtl8723e_dm_bt_reset_action_profile_state(struct ieee80211_hw *hw)\n static void _rtl8723e_dm_bt_coexist_2_ant(struct ieee80211_hw *hw)\n {\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n-\tu8 bt_retry_cnt;\n \tu8 bt_info_original;\n \tRT_TRACE(rtlpriv, COMP_BT_COEXIST, DBG_DMESG,\n \t\t\"[BTCoex] Get bt info by fw!!\\n\");", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/85c6ac33c87c44893ddc561dfd0a8bdc9ec68cd5"}
{"commit_hash": "037e0c5df64980dfffdce1317790730ceda77945", "short_hash": "037e0c5df649", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-27T02:23:47Z", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-02-28T10:40:39+02:00", "subject": "rtlwifi: rtl8192se: Remove set but not used variable 'seg_ptr'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi/rtl8192se"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line fix in wireless driver (Tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with Fixes tag, self-committed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Qualcomm maintainer"}}, "score_justification": "GCC unused variable warning fix in rtlwifi driver; removes seg_ptr after skb_put_data conversion", "code_snippet": "@@ -136,7 +136,6 @@ static bool _rtl92s_firmware_downloadcode(struct ieee80211_hw *hw,\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct sk_buff *skb;\n \tstruct rtl_tcb_desc *tcb_desc;\n-\tunsigned char *seg_ptr;\n \tu16 frag_threshold = MAX_FIRMWARE_CODE_SIZE;\n \tu16 frag_length, frag_offset = 0;\n \tu16 extra_descoffset = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/037e0c5df64980dfffdce1317790730ceda77945"}
{"commit_hash": "4d7c1d3fd7c7eda7dea351f071945e843a46c145", "short_hash": "4d7c1d3fd7c7", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T21:27:05+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-02-28T14:01:36-07:00", "subject": "block: fix NULL pointer dereference in register_disk", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 20, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical block subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "NULL pointer crash fix affecting storage users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "NULL pointer dereference fix in block layer disk registration", "code_snippet": "@@ -655,10 +655,12 @@ static void register_disk(struct device *parent, struct gendisk *disk,\n \t\tkobject_uevent(&part_to_dev(part)->kobj, KOBJ_ADD);\n \tdisk_part_iter_exit(&piter);\n \n-\terr = sysfs_create_link(&ddev->kobj,\n-\t\t\t\t&disk->queue->backing_dev_info->dev->kobj,\n-\t\t\t\t\"bdi\");\n-\tWARN_ON(err);\n+\tif (disk->queue->backing_dev_info->dev) {\n+\t\terr = sysfs_create_link(&ddev->kobj,\n+\t\t\t  &disk->queue->backing_dev_info->dev->kobj,\n+\t\t\t  \"bdi\");\n+\t\tWARN_ON(err);\n+\t}\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d7c1d3fd7c7eda7dea351f071945e843a46c145"}
{"commit_hash": "6dc8746d7124c14bd86679ead7e64614263212c9", "short_hash": "6dc8746d7124", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T08:42:32Z", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-02-28T14:05:58-07:00", "subject": "floppy: remove set but not used variable 'q'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Kosina <jkosina@suse.cz> (Suse)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in block driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by tag with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org committer"}}, "score_justification": "Compiler warning fix removing unused variable in floppy driver", "code_snippet": "@@ -2230,7 +2230,6 @@ static void floppy_end_request(struct request *req, blk_status_t error)\n static void request_done(int uptodate)\n {\n \tstruct request *req = current_req;\n-\tstruct request_queue *q;\n \tint block;\n \tchar msg[sizeof(\"request done \") + sizeof(int) * 3];\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6dc8746d7124c14bd86679ead7e64614263212c9"}
{"commit_hash": "cd46eb89dff7f6390eaeb11013bb23aae196bbfc", "short_hash": "cd46eb89dff7", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-19T13:14:07+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-02-28T14:06:37-07:00", "subject": "nbd: propagate genlmsg_reply return code", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1 file, 2 hunks, small change in block driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for NBD driver affecting storage users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic SOB chain, minimal message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author, kernel.org maintainer committer"}}, "score_justification": "Error handling fix for NBD driver genlmsg_reply call", "code_snippet": "@@ -2118,8 +2118,7 @@ static int nbd_genl_status(struct sk_buff *skb, struct genl_info *info)\n \t}\n \tnla_nest_end(reply, dev_list);\n \tgenlmsg_end(reply, reply_head);\n-\tgenlmsg_reply(reply, info);\n-\tret = 0;\n+\tret = genlmsg_reply(reply, info);\n out:\n \tmutex_unlock(&nbd_index_mutex);\n \treturn ret;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cd46eb89dff7f6390eaeb11013bb23aae196bbfc"}
{"commit_hash": "d9a5289d291874a855dd84763559ff83ad0620c5", "short_hash": "d9a5289d2918", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T22:49:00+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-02-28T14:17:58+08:00", "subject": "crypto: stm32 - drop pointless static qualifier in stm32_hash_remove()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1564,7 +1564,7 @@ static int stm32_hash_probe(struct platform_device *pdev)\n \n static int stm32_hash_remove(struct platform_device *pdev)\n {\n-\tstatic struct stm32_hash_dev *hdev;\n+\tstruct stm32_hash_dev *hdev;\n \tint ret;\n \n \thdev = platform_get_drvdata(pdev);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d9a5289d291874a855dd84763559ff83ad0620c5"}
{"commit_hash": "bf432e72c170f28c08bb8c0f45356a5a48a7cae2", "short_hash": "bf432e72c170", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T08:59:47Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-02-28T14:17:58+08:00", "subject": "crypto: marvell - Remove set but not used variable 'ivsize'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -322,7 +322,6 @@ static int mv_cesa_skcipher_dma_req_init(struct skcipher_request *req,\n \tstruct mv_cesa_skcipher_dma_iter iter;\n \tbool skip_ctx = false;\n \tint ret;\n-\tunsigned int ivsize;\n \n \tbasereq->chain.first = NULL;\n \tbasereq->chain.last = NULL;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/bf432e72c170f28c08bb8c0f45356a5a48a7cae2"}
{"commit_hash": "f060f46f09bb920d1e0d436d654996033b856e26", "short_hash": "f060f46f09bb", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-27T09:30:44+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-02-28T14:18:26Z", "subject": "ASoC: mediatek: btcvsd add loopback", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 68, "deletions": 1, "hunks": 10, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 15, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in sound subsystem (1 file, 10 hunks, 69 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "New feature enhancement for MediaTek Bluetooth audio"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, only signed-off tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer committer"}}, "score_justification": "New loopback feature for MediaTek Bluetooth SCO audio driver", "code_snippet": "@@ -486,7 +487,8 @@ static irqreturn_t mtk_btcvsd_snd_irq_handler(int irq_id, void *dev)\n \tif (bt->rx->state != BT_SCO_STATE_RUNNING &&\n \t    bt->rx->state != BT_SCO_STATE_ENDING &&\n \t    bt->tx->state != BT_SCO_STATE_RUNNING &&\n-\t    bt->tx->state != BT_SCO_STATE_ENDING) {\n+\t    bt->tx->state != BT_SCO_STATE_ENDING &&\n+\t    bt->tx->state != BT_SCO_STATE_LOOPBACK) {\n \t\tdev_warn(bt->dev, \"%s(), in idle state: rx->state: %d, tx->state: %d\\n\",\n \t\t\t __func__, bt->rx->state, bt->tx->state);\n \t\tgoto irq_handler_exit;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f060f46f09bb920d1e0d436d654996033b856e26"}
{"commit_hash": "6e876c3dd205d30b0db6850e97a03d75457df007", "short_hash": "6e876c3dd205", "author_name": "luojiajun", "author_email": "luojiajun3@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T00:30:00-05:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-03-01T00:30:00-05:00", "subject": "jbd2: fix invalid descriptor block checksum", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["luojiajun <luojiajun3@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 16, "score_quality": 15, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical journaling layer"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Fixes journal recovery failure affecting ext4 users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 15, "details": "Good message with reproduction reference and review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, MIT committer, SUSE reviewer"}}, "score_justification": "JBD2 checksum fix preventing journal recovery failure on abort", "code_snippet": "@@ -694,9 +694,11 @@ void jbd2_journal_commit_transaction(journal_t *journal)\n                            the last tag we set up. */\n \n \t\t\ttag->t_flags |= cpu_to_be16(JBD2_FLAG_LAST_TAG);\n-\n-\t\t\tjbd2_descriptor_block_csum_set(journal, descriptor);\n start_journal_io:\n+\t\t\tif (descriptor)\n+\t\t\t\tjbd2_descriptor_block_csum_set(journal,\n+\t\t\t\t\t\t\tdescriptor);\n+\n \t\t\tfor (i = 0; i < bufs; i++) {\n \t\t\t\tstruct buffer_head *bh = wbuf[i];\n \t\t\t\t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e876c3dd205d30b0db6850e97a03d75457df007"}
{"commit_hash": "a947a45f052934a14971a59eb835ce287cb3291b", "short_hash": "a947a45f0529", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-28T22:45:01+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-03-01T10:17:56+01:00", "subject": "iommu/mediatek: Fix semicolon code style issue", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change removing extra semicolon"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Style fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with proper formatting"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to SUSE maintainer"}}, "score_justification": "Style fix removing duplicate semicolon in IOMMU driver", "code_snippet": "@@ -474,7 +474,7 @@ static int mtk_iommu_add_device(struct device *dev)\n \t\treturn err;\n \t}\n \n-\treturn iommu_device_link(&data->iommu, dev);;\n+\treturn iommu_device_link(&data->iommu, dev);\n }\n \n static void mtk_iommu_remove_device(struct device *dev)\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/a947a45f052934a14971a59eb835ce287cb3291b"}
{"commit_hash": "c61df57343bf05743f8abbb31eec9a6f05820dd1", "short_hash": "c61df57343bf", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T13:36:06+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-03-01T11:16:46Z", "subject": "PCI: mediatek: Fix memory mapped IO range size computation", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in PCIe driver (tier 4)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix affecting device BAR allocation"}, "quality": {"review_chain": 2, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Excellent commit message with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (MediaTek -> ARM) with maintainer rewrite"}}, "score_justification": "Bug fix for incorrect MMIO window size calc causing potential system error", "code_snippet": "@@ -654,7 +654,6 @@ static int mtk_pcie_startup_port_v2(struct mtk_pcie_port *port)\n \tstruct resource *mem = &pcie->mem;\n \tconst struct mtk_pcie_soc *soc = port->pcie->soc;\n \tu32 val;\n-\tsize_t size;\n \tint err;\n \n \t/* MT7622 platforms need to enable LTSSM and ASPM from PCIe subsys */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c61df57343bf05743f8abbb31eec9a6f05820dd1"}
{"commit_hash": "cbe3a7728c7ad4721677208e155db06f67eb57d2", "short_hash": "cbe3a7728c7a", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-01T13:36:07+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-03-01T11:22:21Z", "subject": "PCI: mediatek: Enlarge PCIe2AHB window size to support 4GB DRAM", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Bjorn Helgaas <bhelgaas@google.com> (Google)"]}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in PCI controller driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "DMA access fix for specific platform"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org commit with external report"}}, "score_justification": "PCIe DMA window size fix for MediaTek controller, enables full 4GB DRAM access", "code_snippet": "@@ -90,6 +90,12 @@\n #define AHB2PCIE_SIZE(x)\t((x) & GENMASK(4, 0))\n #define PCIE_AXI_WINDOW0\t0x448\n #define WIN_ENABLE\t\tBIT(7)\n+/*\n+ * Define PCIe to AHB window size as 2^33 to support max 8GB address space\n+ * translate, support least 4GB DRAM size access from EP DMA(physical DRAM\n+ * start from 0x40000000).\n+ */\n+#define PCIE2AHB_SIZE\t0x21\n \n /* PCIe V2 configuration transaction header */\n #define PCIE_CFG_HEADER0\t0x460", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cbe3a7728c7ad4721677208e155db06f67eb57d2"}
{"commit_hash": "b805d78d300bcf2c83d6df7da0c818b0fee41427", "short_hash": "b805d78d300b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-28T15:18:59+08:00", "committer_name": "Steffen Klassert", "committer_email": "steffen.klassert@secunet.com", "committer_company": "Secunet", "commit_date": "2019-03-01T12:17:41+01:00", "subject": "xfrm: policy: Fix out-of-bound array accesses in __xfrm_policy_unlink", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: e682adf021be (\"xfrm: Try to honor policy index if it's supplied by user\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/xfrm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Steffen Klassert <steffen.klassert@secunet.com> (Secunet)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 50, "score_technical": 10, "score_impact": 22, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Out-of-bounds fix affecting IPsec users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with UBSAN report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, secunet.com maintainer, Hulk Robot report"}}, "score_justification": "UBSAN out-of-bounds array access in xfrm policy unlink with proper Fixes tag", "code_snippet": "@@ -1424,7 +1424,7 @@ static int verify_newpolicy_info(struct xfrm_userpolicy_info *p)\n \tret = verify_policy_dir(p->dir);\n \tif (ret)\n \t\treturn ret;\n-\tif (p->index && ((p->index & XFRM_POLICY_MAX) != p->dir))\n+\tif (p->index && (xfrm_policy_id2dir(p->index) != p->dir))\n \t\treturn -EINVAL;\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b805d78d300bcf2c83d6df7da0c818b0fee41427"}
{"commit_hash": "11d4dd0b20041289e60f0642d458b96389b3125d", "short_hash": "11d4dd0b2004", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-22T21:45:52+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-03-01T14:28:43+01:00", "subject": "netfilter: convert the proto argument from u8 to u16", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["netfilter", "bridge/netfilter"], "subsystem_tier": 2, "files_changed": 3, "insertions": 7, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 14, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Small API signature fix across 3 files in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Type truncation bug affecting ebtables match/target validation"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Dual Signed-off-by with maintainer, clear explanation of type mismatch"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author, Netfilter maintainer committer (different org)"}}, "score_justification": "Type mismatch fix: proto argument truncation in xt_check_match/target causing ebtables validation failure", "code_snippet": "@@ -289,9 +289,9 @@ bool xt_find_jump_offset(const unsigned int *offsets,\n \n int xt_check_proc_name(const char *name, unsigned int size);\n \n-int xt_check_match(struct xt_mtchk_param *, unsigned int size, u_int8_t proto,\n+int xt_check_match(struct xt_mtchk_param *, unsigned int size, u16 proto,\n \t\t   bool inv_proto);\n-int xt_check_target(struct xt_tgchk_param *, unsigned int size, u_int8_t proto,\n+int xt_check_target(struct xt_tgchk_param *, unsigned int size, u16 proto,\n \t\t    bool inv_proto);\n \n int xt_match_to_user(const struct xt_entry_match *m,\ndiff --git a/net/bridge/netfilter/ebtables.c b/net/bridge/netfilter/ebtables.c\nindex f77888ec93f1..eb15891f8b9f 100644\n--- a/net/bridge/netfilter/ebtables.c\n+++ b/net/bridge/netfilter/ebtables.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11d4dd0b20041289e60f0642d458b96389b3125d"}
{"commit_hash": "a9f5e78c403d2d62ade4f4c85040efc85f4049b8", "short_hash": "a9f5e78c403d", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-26T17:13:56+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-03-01T14:34:24+01:00", "subject": "netfilter: nf_tables: check the result of dereferencing base_chain->stats", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: 009240940e84c1 (\"netfilter: nf_tables: don't assume chain stats are set when jumplabel is set\")", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/netfilter"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Eric Dumazet <eric.dumazet@gmail.com> (Gmail)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Logic bug fix with regression tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag, 2 orgs involved"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author, Netfilter maintainer committer"}}, "score_justification": "NULL pointer dereference fix in netfilter stats with sparse warning fixes", "code_snippet": "@@ -98,21 +98,23 @@ static noinline void nft_update_chain_stats(const struct nft_chain *chain,\n \t\t\t\t\t    const struct nft_pktinfo *pkt)\n {\n \tstruct nft_base_chain *base_chain;\n+\tstruct nft_stats __percpu *pstats;\n \tstruct nft_stats *stats;\n \n \tbase_chain = nft_base_chain(chain);\n-\tif (!rcu_access_pointer(base_chain->stats))\n-\t\treturn;\n \n-\tlocal_bh_disable();\n-\tstats = this_cpu_ptr(rcu_dereference(base_chain->stats));\n-\tif (stats) {\n+\trcu_read_lock();\n+\tpstats = READ_ONCE(base_chain->stats);\n+\tif (pstats) {\n+\t\tlocal_bh_disable();\n+\t\tstats = this_cpu_ptr(pstats);\n \t\tu64_stats_update_begin(&stats->syncp);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9f5e78c403d2d62ade4f4c85040efc85f4049b8"}
{"commit_hash": "2e7b162c5e911050be84c86c6226a5e21bba5771", "short_hash": "2e7b162c5e91", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-26T17:20:52+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-03-01T14:36:46+01:00", "subject": "netfilter: nf_conntrack: ensure that CONNTRACK_LOCKS is power of 2", "primary_category": "FEAT-PERF", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/netfilter"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization for netfilter users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two signoffs, good explanation with Suggested-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author, Netfilter maintainer committer"}}, "score_justification": "Compile-time optimization ensuring CONNTRACK_LOCKS is power of 2 for bitwise modulo", "code_snippet": "@@ -2480,6 +2480,7 @@ int nf_conntrack_init_net(struct net *net)\n \tint cpu;\n \n \tBUILD_BUG_ON(IP_CT_UNTRACKED == IP_CT_NUMBER);\n+\tBUILD_BUG_ON_NOT_POWER_OF_2(CONNTRACK_LOCKS);\n \tatomic_set(&net->ct.count, 0);\n \n \tnet->ct.pcpu_lists = alloc_percpu(struct ct_pcpu);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e7b162c5e911050be84c86c6226a5e21bba5771"}
{"commit_hash": "d3b34d048b7c1a4aac9f2e2e6ff6b0e21e50719e", "short_hash": "d3b34d048b7c", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T06:58:09Z", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-03-01T15:23:06Z", "subject": "PCI: aardvark: Make symbol 'advk_pci_bridge_emul_ops' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8a3ebd8de328 (\"PCI: aardvark: Implement emulated root PCI bridge config space\")", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Thomas Petazzoni <thomas.petazzoni@bootlin.com> (Bootlin)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change adding static keyword"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with regression tag but no stable CC"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain (2 orgs) with proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Huawei->Arm, acked by Bootlin"}}, "score_justification": "Sparse warning fix in PCI controller driver with cross-org review", "code_snippet": "@@ -466,7 +466,7 @@ advk_pci_bridge_emul_pcie_conf_write(struct pci_bridge_emul *bridge,\n \t}\n }\n \n-struct pci_bridge_emul_ops advk_pci_bridge_emul_ops = {\n+static struct pci_bridge_emul_ops advk_pci_bridge_emul_ops = {\n \t.read_pcie = advk_pci_bridge_emul_pcie_conf_read,\n \t.write_pcie = advk_pci_bridge_emul_pcie_conf_write,\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3b34d048b7c1a4aac9f2e2e6ff6b0e21e50719e"}
{"commit_hash": "f819cd926ca7c9105fa0086dcb7e5930c200d6c6", "short_hash": "f819cd926ca7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T16:09:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-01T23:13:49-08:00", "subject": "drivers: net: Remove unnecessary semicolon", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/dsa", "drivers/net/ethernet/cisco", "drivers/net/ethernet/faraday", "drivers/net/ethernet/mediatek", "drivers/net/usb"], "subsystem_tier": 4, "files_changed": 5, "insertions": 6, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sean Wang <sean.wang@mediatek.com> for mt7530 and mtk_eth_soc (MediaTek)"], "reported_by": []}, "score_total": 32, "score_technical": 11, "score_impact": 6, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 3, "subtotal": 11, "details": "Small automated cleanup across 5 network driver files"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Low-impact cleanup with no runtime behavior change"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Coccinelle-generated cleanup with acked-by review"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author committed by net maintainer with Mediatek review"}}, "score_justification": "Coccinelle-generated semicolon cleanup across network drivers with maintainer ack", "code_snippet": "@@ -32,7 +32,8 @@ int enic_addfltr_5t(struct enic *enic, struct flow_keys *keys, u16 rq)\n \t\tbreak;\n \tdefault:\n \t\treturn -EPROTONOSUPPORT;\n-\t};\n+\t}\n+\n \tdata.type = FILTER_IPV4_5TUPLE;\n \tdata.u.ipv4.src_addr = ntohl(keys->addrs.v4addrs.src);\n \tdata.u.ipv4.dst_addr = ntohl(keys->addrs.v4addrs.dst);\ndiff --git a/drivers/net/ethernet/faraday/ftgmac100.c b/drivers/net/ethernet/faraday/ftgmac100.c\nindex 3e5e97186fc4..b17b79e612a3 100644\n--- a/drivers/net/ethernet/faraday/ftgmac100.c\n+++ b/drivers/net/ethernet/faraday/ftgmac100.c", "flags": ["AUTO_GENERATED", "COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/f819cd926ca7c9105fa0086dcb7e5930c200d6c6"}
{"commit_hash": "316720b9c2341307b9a17103cdafa1ca9b2fb872", "short_hash": "316720b9c234", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-26T01:42:53Z", "committer_name": "Dan Williams", "committer_email": "dan.j.williams@intel.com", "committer_company": "Intel", "commit_date": "2019-03-02T00:05:35-08:00", "subject": "libnvdimm/of_pmem: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/nvdimm", "subsystems_touched": ["drivers/nvdimm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dan Williams <dan.j.williams@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-line change in standard driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Auto-generated with proper tags, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei/Intel) with maintainer sign-off"}}, "score_justification": "Auto-generated cocci warning fix removing redundant .owner field", "code_snippet": "@@ -108,7 +108,6 @@ static struct platform_driver of_pmem_region_driver = {\n \t.remove = of_pmem_region_remove,\n \t.driver = {\n \t\t.name = \"of_pmem\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = of_pmem_region_match,\n \t},\n };\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/316720b9c2341307b9a17103cdafa1ca9b2fb872"}
{"commit_hash": "da39013e8e6aecc7afe0654ad87cf2f0fad993af", "short_hash": "da39013e8e6a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-23T17:05:24+08:00", "committer_name": "Wim Van Sebroeck", "committer_email": "wim@linux-watchdog.org", "committer_company": "Linux-watchdog", "commit_date": "2019-03-02T15:28:18+01:00", "subject": "watchdog: pika_wdt: drop pointless static qualifier in pikawdt_init", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/watchdog", "subsystems_touched": ["drivers/watchdog"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Guenter Roeck <linux@roeck-us.net> (Roeck-us)", "Wim Van Sebroeck <wim@linux-watchdog.org> (Linux-watchdog)"], "reviewed_by": ["Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 6, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single variable qualifier change in driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime effect"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed by maintainer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by watchdog maintainer"}}, "score_justification": "Cleanup removing unnecessary static from local variable in watchdog driver", "code_snippet": "@@ -225,7 +225,7 @@ static int __init pikawdt_init(void)\n {\n \tstruct device_node *np;\n \tvoid __iomem *fpga;\n-\tstatic u32 post1;\n+\tu32 post1;\n \tint ret;\n \n \tnp = of_find_compatible_node(NULL, NULL, \"pika,fpga\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da39013e8e6aecc7afe0654ad87cf2f0fad993af"}
{"commit_hash": "b805c403c859756175fefc213065125da16b808d", "short_hash": "b805c403c859", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-01T10:14:07+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-03-02T17:49:46+01:00", "subject": "dt-bindings: net: bluetooth: add support for MediaTek MT7663U and MT7668U UART devices", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 64, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT binding change adding 64 lines for new device documentation"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "New hardware support for MediaTek BT devices, affects specific users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by DT maintainer, clear message, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (BlueZ) from different orgs"}}, "score_justification": "DT binding documentation for new MediaTek MT7663U/MT7668U Bluetooth UART devices with proper review chain", "code_snippet": "@@ -33,3 +33,67 @@ Example:\n \t\t\tclock-names = \"ref\";\n \t\t};\n \t};\n+\n+MediaTek UART based Bluetooth Devices\n+==================================\n+\n+This device is a serial attached device to UART device and thus it must be a\n+child node of the serial node with UART.\n+\n+Please refer to the following documents for generic properties:\n+\n+\tDocumentation/devicetree/bindings/serial/slave-device.txt\n+\n+Required properties:\n+\n+- compatible:\tMust be\n+\t\t  \"mediatek,mt7663u-bluetooth\": for MT7663U device\n+\t\t  \"mediatek,mt7668u-bluetooth\": for MT7668U device", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b805c403c859756175fefc213065125da16b808d"}
{"commit_hash": "22eaf6c9946ae269061d95bb9ceee02524166474", "short_hash": "22eaf6c9946a", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-03T02:44:09+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-03-02T19:51:23+01:00", "subject": "Bluetooth: mediatek: add support for MediaTek MT7663U and MT7668U UART devices", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 271, "deletions": 10, "hunks": 32, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 14, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large feature addition (281 lines) in Bluetooth driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MediaTek devices, moderate user impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Well-documented commit with proper Signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (MediaTek to maintainer) with maintainer sign-off"}}, "score_justification": "New hardware support for MediaTek MT7663U/MT7668U Bluetooth UART devices", "code_snippet": "@@ -12,11 +12,15 @@\n #include <linux/atomic.h>\n #include <linux/clk.h>\n #include <linux/firmware.h>\n+#include <linux/gpio/consumer.h>\n #include <linux/iopoll.h>\n #include <linux/kernel.h>\n #include <linux/module.h>\n #include <linux/of.h>\n+#include <linux/of_device.h>\n+#include <linux/pinctrl/consumer.h>\n #include <linux/pm_runtime.h>\n+#include <linux/regulator/consumer.h>\n #include <linux/serdev.h>\n #include <linux/skbuff.h>\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/22eaf6c9946ae269061d95bb9ceee02524166474"}
{"commit_hash": "6377f787aeb945cae7abbb6474798de129e1f3ac", "short_hash": "6377f787aeb9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T10:57:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-03T13:01:49-08:00", "subject": "appletalk: Fix use-after-free in atalk_proc_exit", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/appletalk", "include/linux"], "subsystem_tier": 2, "files_changed": 4, "insertions": 37, "deletions": 9, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 51, "score_technical": 16, "score_impact": 18, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 16, "details": "Medium change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "UAF crash fix affecting appletalk users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed KASAN report with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer reviewed, reported by robot"}}, "score_justification": "Use-after-free crash fix in appletalk with KASAN report, proper error handling added", "code_snippet": "@@ -158,7 +158,7 @@ extern int sysctl_aarp_retransmit_limit;\n extern int sysctl_aarp_resolve_time;\n \n #ifdef CONFIG_SYSCTL\n-extern void atalk_register_sysctl(void);\n+extern int atalk_register_sysctl(void);\n extern void atalk_unregister_sysctl(void);\n #else\n #define atalk_register_sysctl()\t\tdo { } while(0)\ndiff --git a/net/appletalk/atalk_proc.c b/net/appletalk/atalk_proc.c\nindex bd8734ef80b8..77f203f1febc 100644\n--- a/net/appletalk/atalk_proc.c\n+++ b/net/appletalk/atalk_proc.c", "flags": ["KASAN_REPORT"], "link": "https://lore.kernel.org/linux-kernel/6377f787aeb945cae7abbb6474798de129e1f3ac"}
{"commit_hash": "e2bcd8b0ce6ee3410665765db0d44dd8b7e3b348", "short_hash": "e2bcd8b0ce6e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T10:57:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-03T13:01:49-08:00", "subject": "appletalk: use remove_proc_subtree to simplify procfs code", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/appletalk"], "subsystem_tier": 2, "files_changed": 1, "insertions": 17, "deletions": 39, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 10, "score_impact": 9, "score_quality": 5, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small simplification in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review quality with no testing evidence"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Single org contribution, maintainer applied"}}, "score_justification": "Simplifies procfs cleanup using remove_proc_subtree", "code_snippet": "@@ -210,56 +210,34 @@ static const struct seq_operations atalk_seq_socket_ops = {\n \t.show   = atalk_seq_socket_show,\n };\n \n-static struct proc_dir_entry *atalk_proc_dir;\n-\n int __init atalk_proc_init(void)\n {\n-\tstruct proc_dir_entry *p;\n-\tint rc = -ENOMEM;\n+\tif (!proc_mkdir(\"atalk\", init_net.proc_net))\n+\t\treturn -ENOMEM;\n \n-\tatalk_proc_dir = proc_mkdir(\"atalk\", init_net.proc_net);\n-\tif (!atalk_proc_dir)\n+\tif (!proc_create_seq(\"atalk/interface\", 0444, init_net.proc_net,\n+\t\t\t    &atalk_seq_interface_ops))\n \t\tgoto out;\n \n-\tp = proc_create_seq(\"interface\", 0444, atalk_proc_dir,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e2bcd8b0ce6ee3410665765db0d44dd8b7e3b348"}
{"commit_hash": "5e3cc1ee1405a7eb3487ed24f786dec01b4cbe1f", "short_hash": "5e3cc1ee1405", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-01-24T14:35:13+08:00", "committer_name": "Dominique Martinet", "committer_email": "dominique.martinet@cea.fr", "committer_company": "Cea", "commit_date": "2019-03-03T14:04:07+09:00", "subject": "9p: use inode->i_lock to protect i_size_write() under 32-bit", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: 7549ae3e81cc (\"9p: Use the i_size_[read, write]() macros instead of using inode->i_size directly.\")", "cc_stable": true, "subsystem_prefix": "9p", "subsystems_touched": ["fs/9p"], "subsystem_tier": 2, "files_changed": 5, "insertions": 53, "deletions": 30, "hunks": 38, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Dominique Martinet <dominique.martinet@cea.fr> (Cea)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Xing Gaopeng <xingaopeng@huawei.com> (Huawei)"]}, "score_total": 50, "score_technical": 12, "score_impact": 20, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 5 files (83 lines, 38 hunks) in filesystem layer"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Deadlock/race fix affecting 9p filesystem users, stable backport tagged"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Detailed message with stack trace, Fixes/Link/Reported-by tags, cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-company (Huawei->CEA), has Reported-by, detailed issue report"}}, "score_justification": "Soft lockup fix for 32-bit SMP race condition in i_size_write() protection", "code_snippet": "@@ -61,8 +64,10 @@ int v9fs_init_inode(struct v9fs_session_info *v9ses,\n \t\t    struct inode *inode, umode_t mode, dev_t);\n void v9fs_evict_inode(struct inode *inode);\n ino_t v9fs_qid2ino(struct p9_qid *qid);\n-void v9fs_stat2inode(struct p9_wstat *, struct inode *, struct super_block *);\n-void v9fs_stat2inode_dotl(struct p9_stat_dotl *, struct inode *);\n+void v9fs_stat2inode(struct p9_wstat *stat, struct inode *inode,\n+\t\t      struct super_block *sb, unsigned int flags);\n+void v9fs_stat2inode_dotl(struct p9_stat_dotl *stat, struct inode *inode,\n+\t\t\t   unsigned int flags);\n int v9fs_dir_release(struct inode *inode, struct file *filp);\n int v9fs_file_open(struct inode *inode, struct file *file);\n void v9fs_inode2stat(struct inode *inode, struct p9_wstat *stat);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e3cc1ee1405a7eb3487ed24f786dec01b4cbe1f"}
{"commit_hash": "895a5e96dbd6386c8e78e5b78e067dcc67b7f0ab", "short_hash": "895a5e96dbd6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-02T10:34:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-03T21:10:57-08:00", "subject": "net-sysfs: Fix mem leak in netdev_register_kobject", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 1d24eb4815d1 (\"xps: Transmit Packet Steering\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 10, "score_impact": 11, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical networking core subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Memory leak fix affecting network device users"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with syzkaller report and stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei -> davem), reported by Hulk Robot"}}, "score_justification": "Memory leak in error path of netdev_register_kobject, reported by syzkaller", "code_snippet": "@@ -1547,6 +1547,9 @@ static int register_queue_kobjects(struct net_device *dev)\n error:\n \tnetdev_queue_update_kobjects(dev, txq, 0);\n \tnet_rx_queue_update_kobjects(dev, rxq, 0);\n+#ifdef CONFIG_SYSFS\n+\tkset_unregister(dev->queues_kset);\n+#endif\n \treturn error;\n }\n \n", "flags": ["REPORTED_BY_EXTERNAL"], "link": "https://lore.kernel.org/linux-kernel/895a5e96dbd6386c8e78e5b78e067dcc67b7f0ab"}
{"commit_hash": "a87b40615a145f69621bac5dc16360047c51f1d9", "short_hash": "a87b40615a14", "author_name": "Jitao Shi", "author_email": "jitao.shi@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-22T17:02:43+08:00", "committer_name": "Thierry Reding", "committer_email": "thierry.reding@gmail.com", "committer_company": "Gmail", "commit_date": "2019-03-04T11:45:08+01:00", "subject": "pwm: Add MediaTek MT8183 display PWM driver support", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pwm", "subsystems_touched": ["drivers/pwm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jitao Shi <jitao.shi@mediatek.com> (MediaTek)", "Thierry Reding <thierry.reding@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change adding new SoC variant to driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MediaTek MT8183 display PWM"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message explaining register differences, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, maintainer committed"}}, "score_justification": "New MediaTek MT8183 display PWM support with SoC-specific register configuration", "code_snippet": "@@ -277,10 +277,21 @@ static const struct mtk_pwm_data mt8173_pwm_data = {\n \t.commit_mask = 0x1,\n };\n \n+static const struct mtk_pwm_data mt8183_pwm_data = {\n+\t.enable_mask = BIT(0),\n+\t.con0 = 0x18,\n+\t.con0_sel = 0x0,\n+\t.con1 = 0x1c,\n+\t.has_commit = false,\n+\t.bls_debug = 0x80,\n+\t.bls_debug_mask = 0x3,\n+};\n+\n static const struct of_device_id mtk_disp_pwm_of_match[] = {\n \t{ .compatible = \"mediatek,mt2701-disp-pwm\", .data = &mt2701_pwm_data},\n \t{ .compatible = \"mediatek,mt6595-disp-pwm\", .data = &mt8173_pwm_data},\n \t{ .compatible = \"mediatek,mt8173-disp-pwm\", .data = &mt8173_pwm_data},\n+\t{ .compatible = \"mediatek,mt8183-disp-pwm\", .data = &mt8183_pwm_data},\n \t{ }", "flags": ["ADD_HWT_SUPPORT"], "link": "https://lore.kernel.org/linux-kernel/a87b40615a145f69621bac5dc16360047c51f1d9"}
{"commit_hash": "4e69cf1fe2c52d189acdd06c1fd99cc258aba61f", "short_hash": "4e69cf1fe2c5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-04T10:56:20+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-04T16:41:30-04:00", "subject": "RDMA/hns: Use GFP_ATOMIC in hns_roce_v2_modify_qp", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "Fixes: 0425e3e6e0c7 (\"RDMA/hns: Support flush cqe for hip08 in kernel space\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in RDMA driver fixing sleep-in-spinlock"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Deadlock fix for RDMA hardware users with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Mellanox maintainer"}}, "score_justification": "Sleep-while-spinlock bug in RDMA driver; GFP_KERNEL->GFP_ATOMIC fix", "code_snippet": "@@ -4027,7 +4027,7 @@ static int hns_roce_v2_modify_qp(struct ib_qp *ibqp,\n \tstruct device *dev = hr_dev->dev;\n \tint ret = -EINVAL;\n \n-\tcontext = kcalloc(2, sizeof(*context), GFP_KERNEL);\n+\tcontext = kcalloc(2, sizeof(*context), GFP_ATOMIC);\n \tif (!context)\n \t\treturn -ENOMEM;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4e69cf1fe2c52d189acdd06c1fd99cc258aba61f"}
{"commit_hash": "f87e033b3b923d91194348c11221e1bbc92e51b2", "short_hash": "f87e033b3b92", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-02-21T00:34:47+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-05T14:53:51-05:00", "subject": "dm writecache: fix typo in name for writeback_wq", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal typo fix in single file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact - cosmetic string fix"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic Signed-off-by, minimal message"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Same org author/committer, no external review"}}, "score_justification": "Single-character typo fix in workqueue name string", "code_snippet": "@@ -1859,7 +1859,7 @@ static int writecache_ctr(struct dm_target *ti, unsigned argc, char **argv)\n \t\tgoto bad;\n \t}\n \n-\twc->writeback_wq = alloc_workqueue(\"writecache-writeabck\", WQ_MEM_RECLAIM, 1);\n+\twc->writeback_wq = alloc_workqueue(\"writecache-writeback\", WQ_MEM_RECLAIM, 1);\n \tif (!wc->writeback_wq) {\n \t\tr = -ENOMEM;\n \t\tti->error = \"Could not allocate writeback workqueue\";\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f87e033b3b923d91194348c11221e1bbc92e51b2"}
{"commit_hash": "e585f51c4ee00046175ace52ca87ea4726302688", "short_hash": "e585f51c4ee0", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-02-28T16:31:21+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-03-05T16:38:45+11:00", "subject": "powerpc: remove dead code in head_fsl_booke.S", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Christophe Leroy <christophe.leroy@c-s.fr> (C-s)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in critical powerpc architecture code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "One reviewer, minimal message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Simple dead code removal in powerpc assembly, well-contained cleanup", "code_snippet": "@@ -194,13 +194,6 @@ set_ivor:\n #endif\n \tmtspr\tSPRN_MAS4, r2\n \n-#if 0\n-\t/* Enable DOZE */\n-\tmfspr\tr2,SPRN_HID0\n-\toris\tr2,r2,HID0_DOZE@h\n-\tmtspr\tSPRN_HID0, r2\n-#endif\n-\n #if !defined(CONFIG_BDI_SWITCH)\n \t/*\n \t * The Abatron BDI JTAG debugger does not tolerate others\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e585f51c4ee00046175ace52ca87ea4726302688"}
{"commit_hash": "e450f4d1a5d633d60a7384b54dea3c89037d41b1", "short_hash": "e450f4d1a5d6", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-02-01T11:19:15Z", "committer_name": "Ilya Dryomov", "committer_email": "idryomov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-03-05T18:55:17+01:00", "subject": "ceph: pass inclusive lend parameter to filemap_write_and_wait_range()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ceph", "subsystems_touched": ["fs/ceph"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Ilya Dryomov <idryomov@gmail.com> (Gmail)"], "reviewed_by": ["\"Yan, Zheng\" <zyan@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical filesystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic bug fix affecting Ceph users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Two reviewers, clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Red Hat reviewer"}}, "score_justification": "Fixes off-by-one error in page cache range calls in Ceph filesystem", "code_snippet": "@@ -929,14 +930,15 @@ ceph_direct_read_write(struct kiocb *iocb, struct iov_iter *iter,\n \t     (write ? \"write\" : \"read\"), file, pos, (unsigned)count,\n \t     snapc, snapc->seq);\n \n-\tret = filemap_write_and_wait_range(inode->i_mapping, pos, pos + count);\n+\tret = filemap_write_and_wait_range(inode->i_mapping,\n+\t\t\t\t\t   pos, pos + count - 1);\n \tif (ret < 0)\n \t\treturn ret;\n \n \tif (write) {\n \t\tint ret2 = invalidate_inode_pages2_range(inode->i_mapping,\n \t\t\t\t\tpos >> PAGE_SHIFT,\n-\t\t\t\t\t(pos + count) >> PAGE_SHIFT);\n+\t\t\t\t\t(pos + count - 1) >> PAGE_SHIFT);\n \t\tif (ret2 < 0)\n \t\t\tdout(\"invalidate_inode_pages2_range returned %d\\n\", ret2);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e450f4d1a5d633d60a7384b54dea3c89037d41b1"}
{"commit_hash": "a0770e13c8da83bdb64738c0209ab02dd3cfff8b", "short_hash": "a0770e13c8da", "author_name": "zhengliang", "author_email": "zhengliang6@huawei.com", "author_company": "Huawei", "author_date": "2019-03-04T09:32:25+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-05T19:57:56-08:00", "subject": "f2fs: fix to data block override node segment by mistake", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zheng Liang <zhengliang6@huawei.com> (Huawei)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 20, "score_quality": 12, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in critical filesystem subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Data corruption fix affecting f2fs users"}, "quality": {"review_chain": 3, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Excellent scenario diagram with detailed race analysis"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same company (Huawei) author and reviewer"}}, "score_justification": "Race condition fix for data block override bug in f2fs with detailed scenario analysis", "code_snippet": "@@ -915,6 +915,10 @@ static int f2fs_drop_inode(struct inode *inode)\n \t\t\tsb_start_intwrite(inode->i_sb);\n \t\t\tf2fs_i_size_write(inode, 0);\n \n+\t\t\tf2fs_submit_merged_write_cond(F2FS_I_SB(inode),\n+\t\t\t\t\tinode, NULL, 0, DATA);\n+\t\t\ttruncate_inode_pages_final(inode->i_mapping);\n+\n \t\t\tif (F2FS_HAS_BLOCKS(inode))\n \t\t\t\tf2fs_truncate(inode);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0770e13c8da83bdb64738c0209ab02dd3cfff8b"}
{"commit_hash": "cc725ef3cb202ef2019a3c67c8913efa05c3cce6", "short_hash": "cc725ef3cb20", "author_name": "Jia Guo", "author_email": "guojia12@huawei.com", "author_company": "Huawei", "author_date": "2019-03-05T15:41:41-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-05T21:07:13-08:00", "subject": "ocfs2: fix a panic problem caused by o2cb_ctl", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ocfs2", "subsystems_touched": ["fs/ocfs2"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Jia Guo <guojia12@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Joseph Qi <jiangqi903@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Jun Piao <piaojun@huawei.com> (Huawei)"], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 20, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small surgical fix in filesystem subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Kernel panic fix affecting OCFS2 filesystem users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Detailed message with stack trace and cross-org review"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author from Huawei, ACK from same org, Torvalds committed"}}, "score_justification": "Kernel panic fix from NULL deref in OCFS2 node management with detailed stack trace explanation", "code_snippet": "@@ -621,13 +621,15 @@ static void o2nm_node_group_drop_item(struct config_group *group,\n \tstruct o2nm_node *node = to_o2nm_node(item);\n \tstruct o2nm_cluster *cluster = to_o2nm_cluster(group->cg_item.ci_parent);\n \n-\to2net_disconnect_node(node);\n+\tif (cluster->cl_nodes[node->nd_num] == node) {\n+\t\to2net_disconnect_node(node);\n \n-\tif (cluster->cl_has_local &&\n-\t    (cluster->cl_local_node == node->nd_num)) {\n-\t\tcluster->cl_has_local = 0;\n-\t\tcluster->cl_local_node = O2NM_INVALID_NODE_NUM;\n-\t\to2net_stop_listening(node);\n+\t\tif (cluster->cl_has_local &&\n+\t\t    (cluster->cl_local_node == node->nd_num)) {\n+\t\t\tcluster->cl_has_local = 0;\n+\t\t\tcluster->cl_local_node = O2NM_INVALID_NODE_NUM;\n+\t\t\to2net_stop_listening(node);\n+\t\t}\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc725ef3cb202ef2019a3c67c8913efa05c3cce6"}
{"commit_hash": "46612b751c4941c5c0472ddf04027e877ae5990f", "short_hash": "46612b751c49", "author_name": "zhongjiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-03-05T15:41:16-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-05T21:07:13-08:00", "subject": "mm: hwpoison: fix thp split handing in soft_offline_in_use_page()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 61f5d698cc97 (\"mm: re-enable THP\")", "cc_stable": true, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 6, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["zhongjiang <zhongjiang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Naoya Horiguchi <n-horiguchi@ah.jp.nec.com> (NEC)"], "reported_by": []}, "score_total": 57, "score_technical": 14, "score_impact": 26, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 14, "details": "Small change in critical memory management subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Kernel BUG fix in THP handling affecting all users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Detailed commit message with stack trace, multiple reviewers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by Linus, NEC reviewer"}}, "score_justification": "VM_BUG_ON_PAGE crash fix in THP soft offline with stable backport", "code_snippet": "@@ -1825,19 +1825,17 @@ static int soft_offline_in_use_page(struct page *page, int flags)\n \tstruct page *hpage = compound_head(page);\n \n \tif (!PageHuge(page) && PageTransHuge(hpage)) {\n-\t\tlock_page(hpage);\n-\t\tif (!PageAnon(hpage) || unlikely(split_huge_page(hpage))) {\n-\t\t\tunlock_page(hpage);\n-\t\t\tif (!PageAnon(hpage))\n+\t\tlock_page(page);\n+\t\tif (!PageAnon(page) || unlikely(split_huge_page(page))) {\n+\t\t\tunlock_page(page);\n+\t\t\tif (!PageAnon(page))\n \t\t\t\tpr_info(\"soft offline: %#lx: non anonymous thp\\n\", page_to_pfn(page));\n \t\t\telse\n \t\t\t\tpr_info(\"soft offline: %#lx: thp split failed\\n\", page_to_pfn(page));\n-\t\t\tput_hwpoison_page(hpage);\n+\t\t\tput_hwpoison_page(page);\n \t\t\treturn -EBUSY;\n \t\t}\n-\t\tunlock_page(hpage);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46612b751c4941c5c0472ddf04027e877ae5990f"}
{"commit_hash": "35f12f0f5c3bbd60caba89351f45c8eef8ffd423", "short_hash": "35f12f0f5c3b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-03-05T15:44:21-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-05T21:07:16-08:00", "subject": "mm/filemap: pass inclusive 'end_byte' parameter to filemap_range_has_page", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6be96d3ad34a (\"fs: return if direct I/O will trigger writeback\")", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Matthew Wilcox <willy@infradead.org> (Infradead)"], "tested_by": [], "acked_by": ["Christoph Hellwig <hch@lst.de> (Lst)"], "reported_by": []}, "score_total": 53, "score_technical": 12, "score_impact": 18, "score_quality": 16, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Tiny change in critical memory management subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Logic fix in direct I/O path affecting many users"}, "quality": {"review_chain": 10, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 16, "details": "Excellent review chain with 4 reviewers from different orgs"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Author @huawei, committer @linux-foundation.org, multi-org review"}}, "score_justification": "Off-by-one fix in mm/filemap direct I/O path with strong multi-org review", "code_snippet": "@@ -3071,7 +3071,7 @@ generic_file_direct_write(struct kiocb *iocb, struct iov_iter *from)\n \tif (iocb->ki_flags & IOCB_NOWAIT) {\n \t\t/* If there are pages to writeback, return */\n \t\tif (filemap_range_has_page(inode->i_mapping, pos,\n-\t\t\t\t\t   pos + write_len))\n+\t\t\t\t\t   pos + write_len - 1))\n \t\t\treturn -EAGAIN;\n \t} else {\n \t\twritten = filemap_write_and_wait_range(mapping, pos,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35f12f0f5c3bbd60caba89351f45c8eef8ffd423"}
{"commit_hash": "867aaccf1f2c35eff4706ea69299f731f2a1953e", "short_hash": "867aaccf1f2c", "author_name": "Zhikang Zhang", "author_email": "zhangzhikang1@huawei.com", "author_company": "Huawei", "author_date": "2019-03-05T15:50:29-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-05T21:07:21-08:00", "subject": "proc: remove unused argument in proc_pid_lookup()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "proc", "subsystems_touched": ["fs/proc"], "subsystem_tier": 2, "files_changed": 3, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Zhikang Zhang <zhangzhikang1@huawei.com> (Huawei)", "Alexey Dobriyan <adobriyan@gmail.com> (Gmail)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change removing unused inode parameter in proc filesystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup affecting procfs maintainers only"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers, basic message, no test evidence"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, different orgs in review chain"}}, "score_justification": "Cleanup removing unused inode argument from proc_pid_lookup across proc fs", "code_snippet": "@@ -3161,7 +3161,7 @@ static struct dentry *proc_pid_instantiate(struct dentry * dentry,\n \treturn d_splice_alias(inode, dentry);\n }\n \n-struct dentry *proc_pid_lookup(struct inode *dir, struct dentry * dentry, unsigned int flags)\n+struct dentry *proc_pid_lookup(struct dentry *dentry, unsigned int flags)\n {\n \tstruct task_struct *task;\n \tunsigned tgid;\ndiff --git a/fs/proc/internal.h b/fs/proc/internal.h\nindex 95b14196f284..4fc5a9b68f76 100644\n--- a/fs/proc/internal.h\n+++ b/fs/proc/internal.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/867aaccf1f2c35eff4706ea69299f731f2a1953e"}
{"commit_hash": "a53837a5458c5b84588dfa3fa510c6a29b7bd4d7", "short_hash": "a53837a5458c", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-04T22:36:14+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-06T09:47:48-03:00", "subject": "perf clang: Remove needless extra semicolon", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/util/c++"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in perf tooling"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup affecting perf users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single cleanup with basic review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from ZTE to Red Hat maintainer"}}, "score_justification": "Removes extra semicolon in perf clang code - simple cleanup with cross-company review", "code_snippet": "@@ -156,7 +156,7 @@ getBPFObjectFromModule(llvm::Module *Module)\n #endif\n \tif (NotAdded) {\n \t\tllvm::errs() << \"TargetMachine can't emit a file of this type\\n\";\n-\t\treturn std::unique_ptr<llvm::SmallVectorImpl<char>>(nullptr);;\n+\t\treturn std::unique_ptr<llvm::SmallVectorImpl<char>>(nullptr);\n \t}\n \tPM.run(*Module);\n \n", "flags": ["CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/a53837a5458c5b84588dfa3fa510c6a29b7bd4d7"}
{"commit_hash": "6caabe7f197d3466d238f70915d65301f1716626", "short_hash": "6caabe7f197d", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T22:45:01+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-06T10:57:05-08:00", "subject": "net: hsr: fix memory leak in hsr_dev_finalize()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: c5a759117210 (\"net/hsr: Use list_head (and rcu) instead of array for slave devices.\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/hsr"], "subsystem_tier": 2, "files_changed": 3, "insertions": 16, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 12, "score_impact": 14, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 8, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 14, "details": "Memory leak fix affecting HSR users"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good commit with kmemleak report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei -> maintainer), Reported-by tag"}}, "score_justification": "Memory leak in HSR error path with kmemleak report and proper Fixes tag", "code_snippet": "@@ -506,6 +506,8 @@ int hsr_dev_finalize(struct net_device *hsr_dev, struct net_device *slave[2],\n fail:\n \thsr_for_each_port(hsr, port)\n \t\thsr_del_port(port);\n+err_add_port:\n+\thsr_del_node(&hsr->self_node_db);\n \n \treturn res;\n }\ndiff --git a/net/hsr/hsr_framereg.c b/net/hsr/hsr_framereg.c\nindex 286ceb41ac0c..9af16cb68f76 100644\n--- a/net/hsr/hsr_framereg.c\n+++ b/net/hsr/hsr_framereg.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6caabe7f197d3466d238f70915d65301f1716626"}
{"commit_hash": "cf9efd5d92365696580a45e0351208eef0ea1562", "short_hash": "cf9efd5d9236", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-28T22:51:02+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-06T19:26:46-05:00", "subject": "scsi: hisi_sas: Change SERDES_CFG init value to increase reliability of HiLink", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Yupeng Zhou <zhouyupeng1@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes link stability for specific disks"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Well-explained with internal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Maintainer committed, single org reviewers"}}, "score_justification": "Hardware-specific reliability fix for HiSilicon SAS driver link stability", "code_snippet": "@@ -129,6 +129,7 @@\n #define PHY_CTRL_RESET_MSK\t\t(0x1 << PHY_CTRL_RESET_OFF)\n #define CMD_HDR_PIR_OFF\t\t\t8\n #define CMD_HDR_PIR_MSK\t\t\t(0x1 << CMD_HDR_PIR_OFF)\n+#define SERDES_CFG\t\t\t(PORT_BASE + 0x1c)\n #define SL_CFG\t\t\t\t(PORT_BASE + 0x84)\n #define AIP_LIMIT\t\t\t(PORT_BASE + 0x90)\n #define SL_CONTROL\t\t\t(PORT_BASE + 0x94)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf9efd5d92365696580a45e0351208eef0ea1562"}
{"commit_hash": "57dbb2b218eb6b4faa39025e3e5974742a4e8986", "short_hash": "57dbb2b218eb", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-28T22:51:01+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-06T19:26:46-05:00", "subject": "scsi: hisi_sas: Send HARD RESET to clear the previous affiliation of STP target port", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 3, "insertions": 49, "deletions": 3, "hunks": 22, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver (3 files, 22 hunks, +49/-3 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for SAS expander compatibility affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple sign-offs, detailed explanation of problem and solution"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Hisilicon) and committer (Oracle) from different companies"}}, "score_justification": "SAS expander hot-swap bug fix introducing HARD RESET per SAS spec and device status tracking", "code_snippet": "@@ -94,6 +95,11 @@ enum {\n \tPORT_TYPE_SATA = (1U << 0),\n };\n \n+enum dev_status {\n+\tHISI_SAS_DEV_INIT,\n+\tHISI_SAS_DEV_NORMAL,\n+};\n+\n enum {\n \tHISI_SAS_INT_ABT_CMD = 0,\n \tHISI_SAS_INT_ABT_DEV = 1,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/57dbb2b218eb6b4faa39025e3e5974742a4e8986"}
{"commit_hash": "aaeb82323d12f3b61015878e035d74600e1f2c85", "short_hash": "aaeb82323d12", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-02-28T22:50:59+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-06T19:26:46-05:00", "subject": "scsi: hisi_sas: print PHY RX errors count for later revision of v3 hw", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 2, "insertions": 60, "deletions": 25, "hunks": 14, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 15, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI driver with multiple hunks"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 15, "details": "New hardware feature for specific driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with context, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer accepted"}}, "score_justification": "Enhanced PHY error reporting for later HW revision with interrupt coalescing", "code_snippet": "@@ -161,6 +161,7 @@ struct hisi_sas_phy {\n \tu8\t\tin_reset;\n \tu8\t\treserved[2];\n \tu32\t\tphy_type;\n+\tu32\t\tcode_violation_err_count;\n \tenum sas_linkrate\tminimum_linkrate;\n \tenum sas_linkrate\tmaximum_linkrate;\n };\ndiff --git a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\nindex 151a102c4cc7..720721196b12 100644\n--- a/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c\n+++ b/drivers/scsi/hisi_sas/hisi_sas_v3_hw.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aaeb82323d12f3b61015878e035d74600e1f2c85"}
{"commit_hash": "4790595723d4b833b18c994973d39f9efb842887", "short_hash": "4790595723d4", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-28T22:50:58+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-06T19:26:46-05:00", "subject": "scsi: hisi_sas: Fix a timeout race of driver internal and SMP IO", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race/deadlock fix affecting SCSI storage users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with stack trace, multiple sign-offs"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Multi-org (HiSilicon, Huawei, Oracle) with maintainer sign-off"}}, "score_justification": "Race condition in SCSI driver causing deadlock during controller reset", "code_snippet": "@@ -980,7 +980,8 @@ static void hisi_sas_do_release_task(struct hisi_hba *hisi_hba, struct sas_task\n \t\tspin_lock_irqsave(&task->task_state_lock, flags);\n \t\ttask->task_state_flags &=\n \t\t\t~(SAS_TASK_STATE_PENDING | SAS_TASK_AT_INITIATOR);\n-\t\ttask->task_state_flags |= SAS_TASK_STATE_DONE;\n+\t\tif (!slot->is_internal && task->task_proto != SAS_PROTOCOL_SMP)\n+\t\t\ttask->task_state_flags |= SAS_TASK_STATE_DONE;\n \t\tspin_unlock_irqrestore(&task->task_state_lock, flags);\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4790595723d4b833b18c994973d39f9efb842887"}
{"commit_hash": "fba770c6682447f1998267f4143595e77be4f112", "short_hash": "fba770c66824", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-28T22:50:57+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-06T19:26:46-05:00", "subject": "scsi: hisi_sas: Change return variable type in phy_up_v3_hw()", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line change in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Type mismatch fix with minimal impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "3 sign-offs, simple fix message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, Huawei co-author, Oracle maintainer committed"}}, "score_justification": "Type mismatch fix flagged by static analyzer, low impact", "code_snippet": "@@ -1344,7 +1344,8 @@ static void prep_abort_v3_hw(struct hisi_hba *hisi_hba,\n \n static irqreturn_t phy_up_v3_hw(int phy_no, struct hisi_hba *hisi_hba)\n {\n-\tint i, res;\n+\tint i;\n+\tirqreturn_t res;\n \tu32 context, port_id, link_rate;\n \tstruct hisi_sas_phy *phy = &hisi_hba->phy[phy_no];\n \tstruct asd_sas_phy *sas_phy = &phy->sas_phy;\n", "flags": ["STATIC_ANALYZER"], "link": "https://lore.kernel.org/linux-kernel/fba770c6682447f1998267f4143595e77be4f112"}
{"commit_hash": "df20af1e270bb6e024d9d009516b1da864d58632", "short_hash": "df20af1e270b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-03T03:12:41Z", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-03-06T22:37:35+01:00", "subject": "um: Remove duplicated include from vector_user.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "um", "subsystems_touched": ["arch/um/drivers"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": ["Anton Ivanov <anton.ivanov@cambridgegreys.com> (Cambridgegreys)"], "tested_by": [], "acked_by": ["Anton Ivanov <anton.ivanov@cambridgegreys.com> (Cambridgegreys)"], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal 3-line deletion in single file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, duplicate include removal"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Has review tags but minimal testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author from Huawei, maintainer committed"}}, "score_justification": "Trivial include deduplication in UM driver with cross-org review", "code_snippet": "@@ -16,14 +16,12 @@\n #include <sys/types.h>\n #include <sys/stat.h>\n #include <fcntl.h>\n-#include <sys/types.h>\n #include <sys/socket.h>\n #include <net/ethernet.h>\n #include <netinet/ip.h>\n #include <netinet/ether.h>\n #include <linux/if_ether.h>\n #include <linux/if_packet.h>\n-#include <sys/socket.h>\n #include <sys/wait.h>\n #include <sys/uio.h>\n #include <linux/virtio_net.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/df20af1e270bb6e024d9d009516b1da864d58632"}
{"commit_hash": "7c1b998d3483acf785c45035c0e14a62023f1edb", "short_hash": "7c1b998d3483", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-03-04T01:10:00Z", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-03-07T12:50:23+01:00", "subject": "mt76: fix return value check in mt76_wmac_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c8846e101502 (\"mt76: add driver for MT7603E and MT7628/7688\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 4 lines changed in wireless driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with proper error handling for device probe"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed by maintainer, proper Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by independent maintainer"}}, "score_justification": "Error handling fix for wireless driver probe, correcting return value check", "code_snippet": "@@ -23,9 +23,9 @@ mt76_wmac_probe(struct platform_device *pdev)\n \t}\n \n \tmem_base = devm_ioremap_resource(&pdev->dev, res);\n-\tif (!mem_base) {\n+\tif (IS_ERR(mem_base)) {\n \t\tdev_err(&pdev->dev, \"Failed to get memory resource\\n\");\n-\t\treturn -EINVAL;\n+\t\treturn PTR_ERR(mem_base);\n \t}\n \n \tmdev = mt76_alloc_device(&pdev->dev, sizeof(*dev), &mt7603_ops,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c1b998d3483acf785c45035c0e14a62023f1edb"}
{"commit_hash": "4169680e9f7cdbf893f8885611b3235aeda94224", "short_hash": "4169680e9f7c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-07T16:26:36-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-07T18:31:59-08:00", "subject": "kernel/panic.c: taint: fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Sergey Senozhatsky <sergey.senozhatsky.work@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 8, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical kernel subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Multi-stage review with detailed rationale"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author from Huawei, reviewed by Sergey, signed by Andrew Morton and Linus Torvalds"}}, "score_justification": "Coccinelle-generated API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -642,16 +642,14 @@ static int clear_warn_once_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(clear_warn_once_fops,\n-\t\t\tNULL,\n-\t\t\tclear_warn_once_set,\n-\t\t\t\"%lld\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(clear_warn_once_fops, NULL, clear_warn_once_set,\n+\t\t\t \"%lld\\n\");\n \n static __init int register_warn_debugfs(void)\n {\n \t/* Don't care about failure */\n-\tdebugfs_create_file(\"clear_warn_once\", 0200, NULL,\n-\t\t\t    NULL, &clear_warn_once_fops);\n+\tdebugfs_create_file_unsafe(\"clear_warn_once\", 0200, NULL, NULL,\n+\t\t\t\t   &clear_warn_once_fops);\n \treturn 0;\n }", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/4169680e9f7cdbf893f8885611b3235aeda94224"}
{"commit_hash": "67ceb1eca0acc045c9ef170a05f58fd710063967", "short_hash": "67ceb1eca0ac", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-03-07T16:29:19-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-07T18:32:01-08:00", "subject": "fat: enable .splice_write to support splice on O_DIRECT file", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fat", "subsystems_touched": ["fs/fat"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["OGAWA Hirofumi <hirofumi@mail.parknet.co.jp> (Co)"], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 14, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes -EFAULT for splice on O_DIRECT files"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 16, "details": "Good explanation with test reference and multiple tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 1, "subtotal": 6, "details": "Multi-org review, Linus merged, has test link"}}, "score_justification": "Fixes splice() failure on O_DIRECT fat files by implementing splice_write callback", "code_snippet": "@@ -214,6 +214,7 @@ const struct file_operations fat_file_operations = {\n #endif\n \t.fsync\t\t= fat_file_fsync,\n \t.splice_read\t= generic_file_splice_read,\n+\t.splice_write\t= iter_file_splice_write,\n \t.fallocate\t= fat_fallocate,\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/67ceb1eca0acc045c9ef170a05f58fd710063967"}
{"commit_hash": "663cb6340c6e84fe29aa6d0fa63d85ea6bd6cd19", "short_hash": "663cb6340c6e", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-03-07T16:30:10-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-07T18:32:02-08:00", "subject": "scripts/gdb: replace flags (MS_xyz -> SB_xyz)", "primary_category": "MAINT-API-MIG", "secondary_categories": ["BUILD-FIX", "BACK-STABLE"], "cve_ids": [], "fixes_tag": "Fixes: e262e32d6bde (\"vfs: Suppress MS_* flag defs within the kernel unless explicitly enabled\")", "cc_stable": true, "subsystem_prefix": "scripts", "subsystems_touched": ["scripts/gdb"], "subsystem_tier": 4, "files_changed": 2, "insertions": 12, "deletions": 12, "hunks": 6, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Kieran Bingham <kieran.bingham@ideasonboard.com> (Ideasonboard)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": ["Nick Desaulniers <ndesaulniers@google.com> (Google)", "Kieran Bingham <kieran.bingham@ideasonboard.com> (Ideasonboard)"], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 6, "score_impact": 13, "score_quality": 17, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in debugging scripts subsystem"}, "impact": {"category_base": 7, "stable_lts": 4, "user_impact": 2, "novelty": 0, "subtotal": 13, "details": "API migration fix with stable backport affecting developers"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 17, "details": "Excellent review chain with detailed message and testing"}, "community": {"cross_org": 3, "maintainer": 3, "response": 1, "subtotal": 7, "details": "Multiple orgs involved with maintainer committer"}}, "score_justification": "API migration fix for GDB debugging scripts broken by upstream flag rename, well-reviewed with stable backport", "code_snippet": "@@ -37,12 +37,12 @@\n import gdb\n \n /* linux/fs.h */\n-LX_VALUE(MS_RDONLY)\n-LX_VALUE(MS_SYNCHRONOUS)\n-LX_VALUE(MS_MANDLOCK)\n-LX_VALUE(MS_DIRSYNC)\n-LX_VALUE(MS_NOATIME)\n-LX_VALUE(MS_NODIRATIME)\n+LX_VALUE(SB_RDONLY)\n+LX_VALUE(SB_SYNCHRONOUS)\n+LX_VALUE(SB_MANDLOCK)\n+LX_VALUE(SB_DIRSYNC)\n+LX_VALUE(SB_NOATIME)\n+LX_VALUE(SB_NODIRATIME)\n \n /* linux/mount.h */\n LX_VALUE(MNT_NOSUID)\ndiff --git a/scripts/gdb/linux/proc.py b/scripts/gdb/linux/proc.py", "flags": ["MULTI_ORG_REVIEW"], "link": "https://lore.kernel.org/linux-kernel/663cb6340c6e84fe29aa6d0fa63d85ea6bd6cd19"}
{"commit_hash": "fd2081ffce4e8aa3b2085be3bc584523ddeedf02", "short_hash": "fd2081ffce4e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-07T16:31:31-08:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-07T18:32:03-08:00", "subject": "kernel/fork.c: remove duplicated include", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Stephen Rothwell <sfr@canb.auug.org.au> (Org)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal change in critical kernel subsystem"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, cosmetic cleanup"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Multiple reviewers but minimal change"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, multiple maintainer sign-offs"}}, "score_justification": "Trivial duplicate include removal in fork.c, no functional change", "code_snippet": "@@ -77,7 +77,6 @@\n #include <linux/blkdev.h>\n #include <linux/fs_struct.h>\n #include <linux/magic.h>\n-#include <linux/sched/mm.h>\n #include <linux/perf_event.h>\n #include <linux/posix-timers.h>\n #include <linux/user-return-notifier.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fd2081ffce4e8aa3b2085be3bc584523ddeedf02"}
{"commit_hash": "d394d33bee22421b39a0bcdc51ca6d68ba308625", "short_hash": "d394d33bee22", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T11:26:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-08T14:42:37-08:00", "subject": "net: hns3: add dma_rmb() for rx description", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e55970950556 (\"net: hns3: Add handling of GRO Pkts not fully RX'ed in NAPI poll\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking driver tier 3"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Race condition fix with Fixes tag, affects hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag, good explanation of hardware ordering issue"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer from different org"}}, "score_justification": "DMA memory ordering race fix in Hisilicon NIC driver with proper Fixes tag", "code_snippet": "@@ -2472,6 +2472,8 @@ static int hns3_add_frag(struct hns3_enet_ring *ring, struct hns3_desc *desc,\n \t\tdesc = &ring->desc[ring->next_to_clean];\n \t\tdesc_cb = &ring->desc_cb[ring->next_to_clean];\n \t\tbd_base_info = le32_to_cpu(desc->rx.bd_base_info);\n+\t\t/* make sure HW write desc complete */\n+\t\tdma_rmb();\n \t\tif (!(bd_base_info & BIT(HNS3_RXD_VLD_B)))\n \t\t\treturn -ENXIO;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d394d33bee22421b39a0bcdc51ca6d68ba308625"}
{"commit_hash": "6d2b0f02f5a07a4bf02e4cbc90d7eaa85cac2986", "short_hash": "6d2b0f02f5a0", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-03-06T14:46:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-08T15:06:38-08:00", "subject": "connector: fix unsafe usage of ->real_parent", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: b086ff87251b4a4 (\"connector: add parent pid and tgid to coredump and exit events\")", "cc_stable": false, "subsystem_prefix": "drivers/connector", "subsystems_touched": ["drivers/connector"], "subsystem_tier": 4, "files_changed": 1, "insertions": 18, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Evgeniy Polyakov <zbr@ioremap.net> (Ioremap)"], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in driver subsystem (connector)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Use-after-free fix with real KASAN report"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed KASAN report, Fixes tag, Acked-by"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Baidu author, different maintainer"}}, "score_justification": "Use-after-free in connector driver with KASAN report, fixes unsafe real_parent access", "code_snippet": "@@ -262,8 +263,14 @@ void proc_coredump_connector(struct task_struct *task)\n \tev->what = PROC_EVENT_COREDUMP;\n \tev->event_data.coredump.process_pid = task->pid;\n \tev->event_data.coredump.process_tgid = task->tgid;\n-\tev->event_data.coredump.parent_pid = task->real_parent->pid;\n-\tev->event_data.coredump.parent_tgid = task->real_parent->tgid;\n+\n+\trcu_read_lock();\n+\tif (pid_alive(task)) {\n+\t\tparent = rcu_dereference(task->real_parent);\n+\t\tev->event_data.coredump.parent_pid = parent->pid;\n+\t\tev->event_data.coredump.parent_tgid = parent->tgid;\n+\t}\n+\trcu_read_unlock();\n \n \tmemcpy(&msg->id, &cn_proc_event_id, sizeof(msg->id));\n \tmsg->ack = 0; /* not used */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d2b0f02f5a07a4bf02e4cbc90d7eaa85cac2986"}
{"commit_hash": "831d2fefdfce757fcea86742220f8cbe7ca51ddd", "short_hash": "831d2fefdfce", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-03-09T16:59:03Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-03-09T16:59:03Z", "subject": "iio: chemical: fix missing Kconfig block for sgp30", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: ce514124161a (\"iio: chemical: sgp30: Support Sensirion SGP30/SGPC3 sensors\")", "cc_stable": false, "subsystem_prefix": "drivers/iio/chemical", "subsystems_touched": ["drivers/iio/chemical"], "subsystem_tier": 4, "files_changed": 1, "insertions": 13, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Andreas Brauchli <a.brauchli@elementarea.net> (Elementarea)"]}, "score_total": 29, "score_technical": 6, "score_impact": 12, "score_quality": 9, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small Kconfig fix in IIO driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build regression fix affecting sensor driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Fixes: tag and Reported-by, self-committed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 2, "subtotal": 2, "details": "Author commited own fix responding to external report"}}, "score_justification": "Missing Kconfig block caused build regression for SGP30 driver", "code_snippet": "@@ -71,6 +71,19 @@ config PMS7003\n \t  To compile this driver as a module, choose M here: the module will\n \t  be called pms7003.\n \n+config SENSIRION_SGP30\n+\ttristate \"Sensirion SGPxx gas sensors\"\n+\tdepends on I2C\n+\tselect CRC8\n+\thelp\n+\t  Say Y here to build I2C interface support for the following\n+\t  Sensirion SGP gas sensors:\n+\t    * SGP30 gas sensor\n+\t    * SGPC3 low power gas sensor\n+\n+\t  To compile this driver as module, choose M here: the\n+\t  module will be called sgp30.\n+\n config SPS30\n \ttristate \"SPS30 particulate matter sensor\"\n \tdepends on I2C", "flags": [], "link": "https://lore.kernel.org/linux-kernel/831d2fefdfce757fcea86742220f8cbe7ca51ddd"}
{"commit_hash": "69b51bbb03f73e04c486f79d1556b2d9becf4dbc", "short_hash": "69b51bbb03f7", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-03-10T14:47:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-09T22:58:47-08:00", "subject": "net: hns3: fix to stop multiple HNS reset due to the AER changes", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "Fixes: 332fbf576579 (\"net: hns3: add handling of hw ras errors using new set of commands\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 11, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 10, "score_impact": 14, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Regression fix for users of Hisilicon network cards"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good explanation with Fixes tag and detailed context"}, "community": {"cross_org": 0, "maintainer": 3, "response": 2, "subtotal": 5, "details": "Same company (Huawei), but maintainer committed"}}, "score_justification": "Regression fix for HNS driver preventing multiple unwanted PF resets after AER changes", "code_snippet": "@@ -1850,7 +1850,9 @@ static pci_ers_result_t hns3_slot_reset(struct pci_dev *pdev)\n \n \t/* request the reset */\n \tif (ae_dev->ops->reset_event) {\n-\t\tae_dev->ops->reset_event(pdev, NULL);\n+\t\tif (!ae_dev->override_pci_need_reset)\n+\t\t\tae_dev->ops->reset_event(pdev, NULL);\n+\n \t\treturn PCI_ERS_RESULT_RECOVERED;\n \t}\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\nindex 1feceff1477c..1f52d11f77b5 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/69b51bbb03f73e04c486f79d1556b2d9becf4dbc"}
{"commit_hash": "62c9d2674b31d4c8a674bee86b7edc6da2803aea", "short_hash": "62c9d2674b31", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-03-02T09:17:32+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-03-11T10:13:17+01:00", "subject": "inotify: Fix fsnotify_mark refcount leak in inotify_update_existing_watch()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 4d97f7d53da7dc83 (\"inotify: Add flag IN_MASK_CREATE for inotify_add_watch()\")", "cc_stable": false, "subsystem_prefix": "fs/notify", "subsystems_touched": ["fs/notify"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical filesystem notification subsystem"}, "impact": {"category_base": 7, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Memory leak regression fix affecting inotify users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Huawei/SUSE) with maintainer sign-off"}}, "score_justification": "Refcount leak fix for IN_MASK_CREATE regression, clean error path handling", "code_snippet": "@@ -519,8 +519,10 @@ static int inotify_update_existing_watch(struct fsnotify_group *group,\n \tfsn_mark = fsnotify_find_mark(&inode->i_fsnotify_marks, group);\n \tif (!fsn_mark)\n \t\treturn -ENOENT;\n-\telse if (create)\n-\t\treturn -EEXIST;\n+\telse if (create) {\n+\t\tret = -EEXIST;\n+\t\tgoto out;\n+\t}\n \n \ti_mark = container_of(fsn_mark, struct inotify_inode_mark, fsn_mark);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/62c9d2674b31d4c8a674bee86b7edc6da2803aea"}
{"commit_hash": "a843dc4ebaecd15fca1f4d35a97210f72ea1473b", "short_hash": "a843dc4ebaec", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-03-11T16:29:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-11T10:32:45-07:00", "subject": "net: sit: fix UBSAN Undefined behaviour in check_6rd", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv6"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["linmiaohe <linmiaohe@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "UBSAN fix affecting SIT tunnel users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit with stack trace, no stable tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, David Miller maintainer merge"}}, "score_justification": "UBSAN shift overflow fix in SIT tunnel with clear stack trace", "code_snippet": "@@ -778,8 +778,9 @@ static bool check_6rd(struct ip_tunnel *tunnel, const struct in6_addr *v6dst,\n \t\tpbw0 = tunnel->ip6rd.prefixlen >> 5;\n \t\tpbi0 = tunnel->ip6rd.prefixlen & 0x1f;\n \n-\t\td = (ntohl(v6dst->s6_addr32[pbw0]) << pbi0) >>\n-\t\t    tunnel->ip6rd.relay_prefixlen;\n+\t\td = tunnel->ip6rd.relay_prefixlen < 32 ?\n+\t\t\t(ntohl(v6dst->s6_addr32[pbw0]) << pbi0) >>\n+\t\t    tunnel->ip6rd.relay_prefixlen : 0;\n \n \t\tpbi1 = pbi0 - tunnel->ip6rd.relay_prefixlen;\n \t\tif (pbi1 > 0)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a843dc4ebaecd15fca1f4d35a97210f72ea1473b"}
{"commit_hash": "a9764869779081e8bf24da07ac040e8f3efcf13a", "short_hash": "a97648697790", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-08T13:05:53+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-11T16:58:49Z", "subject": "ASoC: dpcm: prevent snd_soc_dpcm use after free", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc"], "subsystem_tier": 3, "files_changed": 3, "insertions": 36, "deletions": 7, "hunks": 32, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in sound subsystem with race condition fix across 3 files"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Race condition causing crashes in audio subsystem affecting many users"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed analysis with stack trace but no external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer, different orgs"}}, "score_justification": "Use-after-free race in DPCM with detailed crash analysis and irq spinlock fix", "code_snippet": "@@ -3232,12 +3247,15 @@ int snd_soc_dpcm_can_be_free_stop(struct snd_soc_pcm_runtime *fe,\n \t\tstate = dpcm->fe->dpcm[stream].state;\n \t\tif (state == SND_SOC_DPCM_STATE_START ||\n \t\t\tstate == SND_SOC_DPCM_STATE_PAUSED ||\n-\t\t\tstate == SND_SOC_DPCM_STATE_SUSPEND)\n-\t\t\treturn 0;\n+\t\t\tstate == SND_SOC_DPCM_STATE_SUSPEND) {\n+\t\t\tret = 0;\n+\t\t\tbreak;\n+\t\t}\n \t}\n+\tspin_unlock_irqrestore(&fe->card->dpcm_lock, flags);\n \n \t/* it's safe to free/stop this BE DAI */\n-\treturn 1;\n+\treturn ret;\n }\n EXPORT_SYMBOL_GPL(snd_soc_dpcm_can_be_free_stop);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9764869779081e8bf24da07ac040e8f3efcf13a"}
{"commit_hash": "68b79cdc6de97fe270ceb40082a4aa6ad3e41ea7", "short_hash": "68b79cdc6de9", "author_name": "Zeng Guangyue", "author_email": "zengguangyue@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-18T14:26:41+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-12T18:59:17-07:00", "subject": "f2fs: correct spelling mistake", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["include/linux"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zeng Guangyue <zengguangyue@hisilicon.com> (HiSilicon)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single character change in comment"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic review for typo fix"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "No external involvement"}}, "score_justification": "Single-character typo fix in comment, no functional change", "code_snippet": "@@ -285,7 +285,7 @@ enum {\n \n struct node_footer {\n \t__le32 nid;\t\t/* node id */\n-\t__le32 ino;\t\t/* inode nunmber */\n+\t__le32 ino;\t\t/* inode number */\n \t__le32 flag;\t\t/* include cold/fsync/dentry marks and offset */\n \t__le64 cp_ver;\t\t/* checkpoint version */\n \t__le32 next_blkaddr;\t/* next node page block address */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68b79cdc6de97fe270ceb40082a4aa6ad3e41ea7"}
{"commit_hash": "19b39a25388e71390e059906c979f87be4ef0c71", "short_hash": "19b39a25388e", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-19T13:10:29+08:00", "committer_name": "Stefan Schmidt", "committer_email": "stefan@datenfreihafen.org", "committer_company": "Datenfreihafen", "commit_date": "2019-03-13T10:13:26+01:00", "subject": "ieee802154: hwsim: propagate genlmsg_reply return code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Stefan Schmidt <stefan@datenfreihafen.org> (Datenfreihafen)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -324,7 +324,7 @@ static int hwsim_get_radio_nl(struct sk_buff *msg, struct genl_info *info)\n \t\t\tgoto out_err;\n \t\t}\n \n-\t\tgenlmsg_reply(skb, info);\n+\t\tres = genlmsg_reply(skb, info);\n \t\tbreak;\n \t}\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/19b39a25388e71390e059906c979f87be4ef0c71"}
{"commit_hash": "bb06c388fa20ae24cfe80c52488de718a7e3a53f", "short_hash": "bb06c388fa20", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-03-13T16:01:37+08:00", "committer_name": "Dominique Martinet", "committer_email": "dominique.martinet@cea.fr", "committer_company": "Cea", "commit_date": "2019-03-13T11:50:04+01:00", "subject": "9p/net: fix memory leak in p9_client_create", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 574d356b7a02 (\"9p/net: put a lower bound on msize\")", "cc_stable": true, "subsystem_prefix": "net/9p", "subsystems_touched": ["net/9p"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Dominique Martinet <dominique.martinet@cea.fr> (Cea)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 17, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 8, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 17, "details": "Memory leak fix with stable backport"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes/Link tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org commit with external report"}}, "score_justification": "Memory leak fix in 9p client error path with stable backport", "code_snippet": "@@ -1061,7 +1061,7 @@ struct p9_client *p9_client_create(const char *dev_name, char *options)\n \t\tp9_debug(P9_DEBUG_ERROR,\n \t\t\t \"Please specify a msize of at least 4k\\n\");\n \t\terr = -EINVAL;\n-\t\tgoto free_client;\n+\t\tgoto close_trans;\n \t}\n \n \terr = p9_client_version(clnt);\n", "flags": ["HAS_FIXES_TAG", "HAS_STABLE_TAG", "HAS_REPORTED_BY"], "link": "https://lore.kernel.org/linux-kernel/bb06c388fa20ae24cfe80c52488de718a7e3a53f"}
{"commit_hash": "d11de63f2b519f0a162b834013b6d3a46dbf3886", "short_hash": "d11de63f2b51", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-13T18:54:59+01:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-13T12:05:39-06:00", "subject": "nvme-loop: init nvmet_ctrl fatal_err_work when allocate", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 4d43d395fe (\"workqueue: Try to catch flush_work() without INIT_WORK()\")", "cc_stable": false, "subsystem_prefix": "nvme", "subsystems_touched": ["drivers/nvme/target"], "subsystem_tier": 3, "files_changed": 1, "insertions": 10, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Christoph Hellwig <hch@lst.de> (Lst)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Sagi Grimberg <sagi@grimberg.me> (Grimberg)", "Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 20, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in NVMe target subsystem (6 hunks, +10 -10 lines)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with regression, affects NVMe target users"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Good commit message with stack trace, 2 reviewers from different orgs"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, LST/Kernel/Broadcom reviewers, maintainer committed"}}, "score_justification": "Fixes workqueue warning/crash in nvme-loop from missing INIT_WORK(), moved to allocation", "code_snippet": "@@ -1163,6 +1163,15 @@ static void nvmet_release_p2p_ns_map(struct nvmet_ctrl *ctrl)\n \tput_device(ctrl->p2p_client);\n }\n \n+static void nvmet_fatal_error_handler(struct work_struct *work)\n+{\n+\tstruct nvmet_ctrl *ctrl =\n+\t\t\tcontainer_of(work, struct nvmet_ctrl, fatal_err_work);\n+\n+\tpr_err(\"ctrl %d fatal error occurred!\\n\", ctrl->cntlid);\n+\tctrl->ops->delete_ctrl(ctrl);\n+}\n+\n u16 nvmet_alloc_ctrl(const char *subsysnqn, const char *hostnqn,\n \t\tstruct nvmet_req *req, u32 kato, struct nvmet_ctrl **ctrlp)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d11de63f2b519f0a162b834013b6d3a46dbf3886"}
{"commit_hash": "01fc08ff1f2f3f17d5947f18e62ed93c391aa3ce", "short_hash": "01fc08ff1f2f", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-13T18:54:58+01:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-13T12:05:39-06:00", "subject": "nvme: update comment to make the code easier to read", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Christoph Hellwig <hch@lst.de> (Lst)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -179,8 +179,8 @@ static int nvme_delete_ctrl_sync(struct nvme_ctrl *ctrl)\n \tint ret = 0;\n \n \t/*\n-\t * Keep a reference until the work is flushed since ->delete_ctrl\n-\t * can free the controller.\n+\t * Keep a reference until nvme_do_delete_ctrl() complete,\n+\t * since ->delete_ctrl can free the controller.\n \t */\n \tnvme_get_ctrl(ctrl);\n \tif (!nvme_change_ctrl_state(ctrl, NVME_CTRL_DELETING))\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/01fc08ff1f2f3f17d5947f18e62ed93c391aa3ce"}
{"commit_hash": "5b5f99b186906d198f4455b3add911c87ab361fc", "short_hash": "5b5f99b18690", "author_name": "Zhike Wang", "author_email": "wangzhike@jd.com", "author_company": "JD", "author_date": "2019-03-11T03:15:54-07:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-13T13:48:27-07:00", "subject": "net_sched: return correct value for *notify* functions", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net_sched", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 2, "insertions": 34, "deletions": 13, "hunks": 16, "review_chain": {"signed_off_by": ["Zhike Wang <wangzhike@jd.com> (JD)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Cong Wang <xiyou.wangcong@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 45, "score_technical": 14, "score_impact": 16, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "Medium change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Resource leak fix affecting network scheduler users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear explanation with example, reviewed by maintainer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "JD.com author, kernel maintainer merged"}}, "score_justification": "Fixes resource leak in net_sched notify functions that incorrectly returned positive values on success", "code_snippet": "@@ -1906,10 +1907,14 @@ static int tfilter_notify(struct net *net, struct sk_buff *oskb,\n \t}\n \n \tif (unicast)\n-\t\treturn netlink_unicast(net->rtnl, skb, portid, MSG_DONTWAIT);\n+\t\terr = netlink_unicast(net->rtnl, skb, portid, MSG_DONTWAIT);\n+\telse\n+\t\terr = rtnetlink_send(skb, net, portid, RTNLGRP_TC,\n+\t\t\t\t     n->nlmsg_flags & NLM_F_ECHO);\n \n-\treturn rtnetlink_send(skb, net, portid, RTNLGRP_TC,\n-\t\t\t      n->nlmsg_flags & NLM_F_ECHO);\n+\tif (err > 0)\n+\t\terr = 0;\n+\treturn err;\n }\n \n static int tfilter_del_notify(struct net *net, struct sk_buff *oskb,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5b5f99b186906d198f4455b3add911c87ab361fc"}
{"commit_hash": "7cf77140777364d77b2b6e392e7e081a205a08c5", "short_hash": "7cf771407773", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-03-14T23:51:13-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-03-14T23:51:13-04:00", "subject": "ext4: remove useless ext4_pin_inode()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 30, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 10, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Dead code removal in critical filesystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup only, no runtime behavior change"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message, dual Signed-off-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from MIT"}}, "score_justification": "Removal of commented-out dead function in ext4 filesystem", "code_snippet": "@@ -6082,36 +6082,6 @@ void ext4_dirty_inode(struct inode *inode, int flags)\n \treturn;\n }\n \n-#if 0\n-/*\n- * Bind an inode's backing buffer_head into this transaction, to prevent\n- * it from being flushed to disk early.  Unlike\n- * ext4_reserve_inode_write, this leaves behind no bh reference and\n- * returns no iloc structure, so the caller needs to repeat the iloc\n- * lookup to mark the inode dirty later.\n- */\n-static int ext4_pin_inode(handle_t *handle, struct inode *inode)\n-{\n-\tstruct ext4_iloc iloc;\n-\n-\tint err = 0;\n-\tif (handle) {\n-\t\terr = ext4_get_inode_loc(inode, &iloc);\n-\t\tif (!err) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7cf77140777364d77b2b6e392e7e081a205a08c5"}
{"commit_hash": "9804501fa1228048857910a6bf23e085aade37cc", "short_hash": "9804501fa122", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-14T13:47:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-15T11:25:48-07:00", "subject": "appletalk: Fix potential NULL pointer dereference in unregister_snap_client", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/appletalk", "include/linux"], "subsystem_tier": 2, "files_changed": 3, "insertions": 25, "deletions": 12, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"]}, "score_total": 50, "score_technical": 14, "score_impact": 20, "score_quality": 9, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 14, "details": "Medium change in networking subsystem across 3 files"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix affecting Appletalk users with Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Reported-by but minimal review"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Cross-org contribution from external reporter"}}, "score_justification": "NULL pointer dereference fix in Appletalk initialization path", "code_snippet": "@@ -108,7 +108,7 @@ static __inline__ struct elapaarp *aarp_hdr(struct sk_buff *skb)\n #define AARP_RESOLVE_TIME\t(10 * HZ)\n \n extern struct datalink_proto *ddp_dl, *aarp_dl;\n-extern void aarp_proto_init(void);\n+extern int aarp_proto_init(void);\n \n /* Inter module exports */\n \ndiff --git a/net/appletalk/aarp.c b/net/appletalk/aarp.c\nindex 49a16cee2aae..420a98bf79b5 100644\n--- a/net/appletalk/aarp.c\n+++ b/net/appletalk/aarp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9804501fa1228048857910a6bf23e085aade37cc"}
{"commit_hash": "da9cfb87a44da61f2403c4312916befcb6b6d7e8", "short_hash": "da9cfb87a44d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-15T15:55:19+08:00", "committer_name": "Masahiro Yamada", "committer_email": "yamada.masahiro@socionext.com", "committer_company": "Socionext", "commit_date": "2019-03-17T12:55:45+09:00", "subject": "coccinelle: semantic code search for missing put_device()", "primary_category": "FEAT-TEST", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scripts/coccinelle", "subsystems_touched": ["scripts/coccinelle"], "subsystem_tier": 4, "files_changed": 1, "insertions": 56, "deletions": 0, "hunks": 5, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Masahiro Yamada <yamada.masahiro@socionext.com> (Socionext)"], "reviewed_by": ["Julia Lawall <Julia.Lawall@lip6.fr> (Lip6)", "Markus Elfring <Markus.Elfring@web.de> (Web)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 12, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "New cocci script adds 56 lines in 1 file with 5 hunks"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 3, "subtotal": 12, "details": "New test tool for detecting reference leaks aids developers"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "2 reviewers, detailed explanation of semantic search logic"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from Socionext, 2 external reviews"}}, "score_justification": "New Coccinelle script for semantic code search detecting missing put_device calls", "code_snippet": "@@ -0,0 +1,56 @@\n+// SPDX-License-Identifier: GPL-2.0\n+/// Find missing put_device for every of_find_device_by_node.\n+///\n+// Confidence: Moderate\n+// Copyright: (C) 2018-2019 Wen Yang, ZTE.\n+// Comments:\n+// Options: --no-includes --include-headers\n+\n+virtual report\n+virtual org\n+\n+@search exists@\n+local idexpression id;\n+expression x,e,e1;\n+position p1,p2;\n+type T,T1,T2,T3;\n+@@\n+\n+id = of_find_device_by_node@p1(x)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da9cfb87a44da61f2403c4312916befcb6b6d7e8"}
{"commit_hash": "2b062a0a00ab31192bb12c0d8c1c71458b12bbed", "short_hash": "2b062a0a00ab", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:34:01+08:00", "committer_name": "Maxime Ripard", "committer_email": "maxime.ripard@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-03-18T08:11:12+01:00", "subject": "ARM: sunxi: fix a leaked reference by adding missing of_node_put", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Maxime Ripard <maxime.ripard@bootlin.com> (Bootlin)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -50,6 +50,7 @@ static void __init sun6i_smp_prepare_cpus(unsigned int max_cpus)\n \t}\n \n \tprcm_membase = of_iomap(node, 0);\n+\tof_node_put(node);\n \tif (!prcm_membase) {\n \t\tpr_err(\"Couldn't map A31 PRCM registers\\n\");\n \t\treturn;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/2b062a0a00ab31192bb12c0d8c1c71458b12bbed"}
{"commit_hash": "995c770b6588c84fbe41cd00bc9911c995df2b59", "short_hash": "995c770b6588", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:32:57+08:00", "committer_name": "Maxime Ripard", "committer_email": "maxime.ripard@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-03-18T08:11:12+01:00", "subject": "ARM: sunxi: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-sunxi"], "subsystem_tier": 2, "files_changed": 2, "insertions": 6, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Maxime Ripard <maxime.ripard@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical ARM architecture code"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting ARM sunxi platform users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with coccinelle detection, basic review chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit with maintainer sign-off"}}, "score_justification": "Reference leak fix in ARM SMP code detected by coccinelle", "code_snippet": "@@ -107,7 +108,9 @@ static bool sunxi_core_is_cortex_a15(unsigned int core, unsigned int cluster)\n \t\treturn false;\n \t}\n \n-\treturn of_device_is_compatible(node, \"arm,cortex-a15\");\n+\tis_compatible = of_device_is_compatible(node, \"arm,cortex-a15\");\n+\tof_node_put(node);\n+\treturn is_compatible;\n }\n \n static int sunxi_cpu_power_switch_set(unsigned int cpu, unsigned int cluster,\ndiff --git a/arch/arm/mach-sunxi/platsmp.c b/arch/arm/mach-sunxi/platsmp.c\nindex 8fb5088464db..e4c28ac44b25 100644\n--- a/arch/arm/mach-sunxi/platsmp.c\n+++ b/arch/arm/mach-sunxi/platsmp.c", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/995c770b6588c84fbe41cd00bc9911c995df2b59"}
{"commit_hash": "684b73245cd4d2608f4f2214f6bff02ba6ceca5f", "short_hash": "684b73245cd4", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-15T11:05:10+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-18T08:14:51-06:00", "subject": "blk-mq: use blk_mq_sched_mark_restart_hctx to set RESTART", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 12, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical block layer"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "API migration affecting I/O performance"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, minimal message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Refactors blk-mq to use existing API instead of direct bit manipulation", "code_snippet": "@@ -1093,8 +1093,7 @@ static bool blk_mq_mark_tag_wait(struct blk_mq_hw_ctx *hctx,\n \tbool ret;\n \n \tif (!(hctx->flags & BLK_MQ_F_TAG_SHARED)) {\n-\t\tif (!test_bit(BLK_MQ_S_SCHED_RESTART, &hctx->state))\n-\t\t\tset_bit(BLK_MQ_S_SCHED_RESTART, &hctx->state);\n+\t\tblk_mq_sched_mark_restart_hctx(hctx);\n \n \t\t/*\n \t\t * It's possible that a tag was freed in the window between the\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/684b73245cd4d2608f4f2214f6bff02ba6ceca5f"}
{"commit_hash": "115bbc30c6d2d7c8eddf87f88c1b7033522d47d2", "short_hash": "115bbc30c6d2", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-01T16:56:49+08:00", "committer_name": "Simon Horman", "committer_email": "horms+renesas@verge.net.au", "committer_company": "Net", "commit_date": "2019-03-18T10:32:36+01:00", "subject": "ARM: shmobile: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-shmobile"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Simon Horman <horms+renesas@verge.net.au> (Net)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)", "Geert Uytterhoeven <geert+renesas@glider.be> (Glider)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in ARM architecture subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting ARM SoC users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with coccinelle detection info, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from different org"}}, "score_justification": "Resource leak fix adding missing of_node_put in ARM power management code, detected by coccinelle", "code_snippet": "@@ -72,6 +72,7 @@ void __init rcar_gen2_pm_init(void)\n \t}\n \n \terror = of_address_to_resource(np, 0, &res);\n+\tof_node_put(np);\n \tif (error) {\n \t\tpr_err(\"Failed to get smp-sram address: %d\\n\", error);\n \t\treturn;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/115bbc30c6d2d7c8eddf87f88c1b7033522d47d2"}
{"commit_hash": "bbfaa7d36c1eb465f120f2a3dfe25c1fe022195d", "short_hash": "bbfaa7d36c1e", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-07T07:51:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-18T11:19:00Z", "subject": "ASoC: dpcm: prevent snd_soc_dpcm use after free", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc"], "subsystem_tier": 3, "files_changed": 3, "insertions": 29, "deletions": 7, "hunks": 24, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in audio subsystem adding spinlock protection"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race condition fix affecting audio users"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed commit with crash backtrace, no testing tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Mediatek, committer is kernel.org maintainer"}}, "score_justification": "Use-after-free race in DPCM audio path with detailed crash analysis and spinlock fix", "code_snippet": "@@ -3230,12 +3240,15 @@ int snd_soc_dpcm_can_be_free_stop(struct snd_soc_pcm_runtime *fe,\n \t\tstate = dpcm->fe->dpcm[stream].state;\n \t\tif (state == SND_SOC_DPCM_STATE_START ||\n \t\t\tstate == SND_SOC_DPCM_STATE_PAUSED ||\n-\t\t\tstate == SND_SOC_DPCM_STATE_SUSPEND)\n-\t\t\treturn 0;\n+\t\t\tstate == SND_SOC_DPCM_STATE_SUSPEND) {\n+\t\t\tret = 0;\n+\t\t\tbreak;\n+\t\t}\n \t}\n+\tspin_unlock(&fe->card->dpcm_lock);\n \n \t/* it's safe to free/stop this BE DAI */\n-\treturn 1;\n+\treturn ret;\n }\n EXPORT_SYMBOL_GPL(snd_soc_dpcm_can_be_free_stop);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bbfaa7d36c1eb465f120f2a3dfe25c1fe022195d"}
{"commit_hash": "cc4807bb609230d8959fd732b0bf3bd4c2de8eac", "short_hash": "cc4807bb6092", "author_name": "Zhiqiang Liu", "author_email": "liuzhiqiang26@huawei.com", "author_company": "Huawei", "author_date": "2019-03-16T17:02:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-18T17:07:27-07:00", "subject": "vxlan: Don't call gro_cells_destroy() before device is unregistered", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 58ce31cca1ff (\"vxlan: GRO support at tunnel layer\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Suanming.Mou <mousuanming@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Stefano Brivio <sbrivio@redhat.com> (Redhat)", "Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important networking driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Race/use-after-free fix affecting vxlan tunnel users, has Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed explanation with Fixes tag, 2 reviewers from different orgs"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Huawei, reviewer from Red Hat, committer from different org"}}, "score_justification": "Use-after-free race fix in vxlan driver with RCU violation, good review chain", "code_snippet": "@@ -4335,10 +4335,8 @@ static void vxlan_destroy_tunnels(struct net *net, struct list_head *head)\n \t\t/* If vxlan->dev is in the same netns, it has already been added\n \t\t * to the list by the previous loop.\n \t\t */\n-\t\tif (!net_eq(dev_net(vxlan->dev), net)) {\n-\t\t\tgro_cells_destroy(&vxlan->gro_cells);\n+\t\tif (!net_eq(dev_net(vxlan->dev), net))\n \t\t\tunregister_netdevice_queue(vxlan->dev, head);\n-\t\t}\n \t}\n \n \tfor (h = 0; h < PORT_HASH_SIZE; ++h)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc4807bb609230d8959fd732b0bf3bd4c2de8eac"}
{"commit_hash": "95e0b46fcebd7dbf6850dee96046e4c4ddc7f69c", "short_hash": "95e0b46fcebd", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-03-07T09:16:24+08:00", "committer_name": "Paul Moore", "committer_email": "paul@paul-moore.com", "committer_company": "Paul-moore", "commit_date": "2019-03-18T19:11:49-04:00", "subject": "audit: fix a memleak caused by auditing load module", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: ca86cad7380e3 (\"audit: log module name on init_module\")", "cc_stable": false, "subsystem_prefix": "kernel/audit", "subsystems_touched": ["kernel/audit"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Paul Moore <paul@paul-moore.com> (Paul-moore)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 16, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small surgical fix in critical kernel/audit subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with proper Fixes tag, affects audit users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Good commit message with kmemleak report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Baidu, maintainer Paul Moore applied"}}, "score_justification": "Memory leak in audit module logging with kmemleak report", "code_snippet": "@@ -840,6 +840,13 @@ static inline void audit_proctitle_free(struct audit_context *context)\n \tcontext->proctitle.len = 0;\n }\n \n+static inline void audit_free_module(struct audit_context *context)\n+{\n+\tif (context->type == AUDIT_KERN_MODULE) {\n+\t\tkfree(context->module.name);\n+\t\tcontext->module.name = NULL;\n+\t}\n+}\n static inline void audit_free_names(struct audit_context *context)\n {\n \tstruct audit_names *n, *next;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/95e0b46fcebd7dbf6850dee96046e4c4ddc7f69c"}
{"commit_hash": "e0fda7377d30685feaef4d93d9fdfde91c5d7d9a", "short_hash": "e0fda7377d30", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-18T14:22:30+08:00", "committer_name": "Zhang Rui", "committer_email": "rui.zhang@intel.com", "committer_company": "Intel", "commit_date": "2019-03-18T22:11:06+08:00", "subject": "thermal: cpu_cooling: Remove unused cur_freq variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "thermal", "subsystems_touched": ["drivers/thermal"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Zhang Rui <rui.zhang@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 25, "score_technical": 5, "score_impact": 7, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (1 file, 2 hunks, -2 +1 lines) in thermal driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 2, "novelty": 0, "subtotal": 7, "details": "Cleanup of dead code after previous refactor"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Acked-by reviewer, proper Fixes tag reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (HiSilicon -> Intel), proper maintainer signoff"}}, "score_justification": "Dead code removal in thermal subsystem following previous refactoring", "code_snippet": "@@ -536,12 +536,11 @@ static int cpufreq_power2state(struct thermal_cooling_device *cdev,\n \t\t\t       struct thermal_zone_device *tz, u32 power,\n \t\t\t       unsigned long *state)\n {\n-\tunsigned int cur_freq, target_freq;\n+\tunsigned int target_freq;\n \tu32 last_load, normalised_power;\n \tstruct cpufreq_cooling_device *cpufreq_cdev = cdev->devdata;\n \tstruct cpufreq_policy *policy = cpufreq_cdev->policy;\n \n-\tcur_freq = cpufreq_quick_get(policy->cpu);\n \tpower = power > 0 ? power : 0;\n \tlast_load = cpufreq_cdev->last_load ?: 1;\n \tnormalised_power = (power * 100) / last_load;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0fda7377d30685feaef4d93d9fdfde91c5d7d9a"}
{"commit_hash": "d6db988a44294d7a91f60ecb87914694ba106305", "short_hash": "d6db988a4429", "author_name": "CK Hu", "author_email": "ck.hu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-14T17:44:44+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-03-19T10:37:40+08:00", "subject": "drm/mediatek: Add Mediatek framebuffer device", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 15, "score_quality": 6, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for DRM users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with context"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-committed without external review"}}, "score_justification": "Adds fbdev emulation support to Mediatek DRM driver", "code_snippet": "@@ -15,6 +15,7 @@\n #include <drm/drmP.h>\n #include <drm/drm_atomic.h>\n #include <drm/drm_atomic_helper.h>\n+#include <drm/drm_fb_helper.h>\n #include <drm/drm_gem.h>\n #include <drm/drm_gem_cma_helper.h>\n #include <drm/drm_of.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d6db988a44294d7a91f60ecb87914694ba106305"}
{"commit_hash": "3df64d7b0a4f70f1797f23cfd4cca5c4d48131fe", "short_hash": "3df64d7b0a4f", "author_name": "CK Hu", "author_email": "ck.hu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-14T17:36:48+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-03-19T10:37:40+08:00", "subject": "drm/mediatek: Implement gem prime vmap/vunmap function", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 3, "insertions": 51, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 16, "score_quality": 5, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change: 3 files, 8 hunks, 51 insertions in GPU subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Functional enhancement for fbcon support, affects MediaTek DRM users"}, "quality": {"review_chain": 0, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Single author self-commit, basic message quality, atomic change"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-committed by author, no external review"}}, "score_justification": "New GEM vmap/vunmap implementation for MediaTek DRM to enable fbcon", "code_snippet": "@@ -341,6 +341,8 @@ static struct drm_driver mtk_drm_driver = {\n \t.gem_prime_get_sg_table = mtk_gem_prime_get_sg_table,\n \t.gem_prime_import_sg_table = mtk_gem_prime_import_sg_table,\n \t.gem_prime_mmap = mtk_drm_gem_mmap_buf,\n+\t.gem_prime_vmap = mtk_drm_gem_prime_vmap,\n+\t.gem_prime_vunmap = mtk_drm_gem_prime_vunmap,\n \t.fops = &mtk_drm_fops,\n \n \t.name = DRIVER_NAME,\ndiff --git a/drivers/gpu/drm/mediatek/mtk_drm_gem.c b/drivers/gpu/drm/mediatek/mtk_drm_gem.c\nindex 259b7b0de1d2..38483e9ee071 100644\n--- a/drivers/gpu/drm/mediatek/mtk_drm_gem.c\n+++ b/drivers/gpu/drm/mediatek/mtk_drm_gem.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3df64d7b0a4f70f1797f23cfd4cca5c4d48131fe"}
{"commit_hash": "a3e23f719f5c4a38ffb3d30c8d7632a4ed8ccd9e", "short_hash": "a3e23f719f5c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T10:16:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-19T13:45:58-07:00", "subject": "net-sysfs: call dev_hold if kobject_init_and_add success", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d0d668371679 (\"net: don't decrement kobj reference count on init failure\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting network device users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-documented with Fixes tag and Reported-by"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Internal report with maintainer review"}}, "score_justification": "Reference count regression causing device unregister errors", "code_snippet": "@@ -928,6 +928,8 @@ static int rx_queue_add_kobject(struct net_device *dev, int index)\n \tif (error)\n \t\treturn error;\n \n+\tdev_hold(queue->dev);\n+\n \tif (dev->sysfs_rx_queue_group) {\n \t\terror = sysfs_create_group(kobj, dev->sysfs_rx_queue_group);\n \t\tif (error) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3e23f719f5c4a38ffb3d30c8d7632a4ed8ccd9e"}
{"commit_hash": "dea37a97265588da604c6ba80160a287b72c7bfd", "short_hash": "dea37a972655", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T07:45:08-05:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T13:48:50-04:00", "subject": "media: cpia2: Fix use-after-free in cpia2_exit", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/usb"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 8, "score_impact": 16, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB media driver"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Use-after-free bug affecting camera driver users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 14, "details": "Good commit with detailed KASAN report and explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org commit with maintainer and reporter tags"}}, "score_justification": "Use-after-free in module exit caused by unchecked init return value", "code_snippet": "@@ -1240,8 +1240,7 @@ static int __init cpia2_init(void)\n \tLOG(\"%s v%s\\n\",\n \t    ABOUT, CPIA_VERSION);\n \tcheck_parameters();\n-\tcpia2_usb_init();\n-\treturn 0;\n+\treturn cpia2_usb_init();\n }\n \n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dea37a97265588da604c6ba80160a287b72c7bfd"}
{"commit_hash": "a0cfa79f8470031a06f99172ae7163ceb12cb524", "short_hash": "a0cfa79f8470", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T22:42:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-19T14:10:09-07:00", "subject": "ibmveth: Make array ibmveth_stats static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -93,7 +93,7 @@ struct ibmveth_stat {\n #define IBMVETH_STAT_OFF(stat) offsetof(struct ibmveth_adapter, stat)\n #define IBMVETH_GET_STAT(a, off) *((u64 *)(((unsigned long)(a)) + off))\n \n-struct ibmveth_stat ibmveth_stats[] = {\n+static struct ibmveth_stat ibmveth_stats[] = {\n \t{ \"replenish_task_cycles\", IBMVETH_STAT_OFF(replenish_task_cycles) },\n \t{ \"replenish_no_mem\", IBMVETH_STAT_OFF(replenish_no_mem) },\n \t{ \"replenish_add_buff_failure\",\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a0cfa79f8470031a06f99172ae7163ceb12cb524"}
{"commit_hash": "538abaf38e75857cbc0eda3b28994808878e3017", "short_hash": "538abaf38e75", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T22:46:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-19T14:11:06-07:00", "subject": "net: hns3: Make hclgevf_update_link_mode static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, minimal line change in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no stable backport, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good commit message with sparse warning context, no external testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, networking maintainer David S. Miller committed"}}, "score_justification": "Sparse warning fix adding static keyword to unexported function in network driver", "code_snippet": "@@ -404,7 +404,7 @@ void hclgevf_update_link_status(struct hclgevf_dev *hdev, int link_state)\n \t}\n }\n \n-void hclgevf_update_link_mode(struct hclgevf_dev *hdev)\n+static void hclgevf_update_link_mode(struct hclgevf_dev *hdev)\n {\n #define HCLGEVF_ADVERTISING 0\n #define HCLGEVF_SUPPORTED   1\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/538abaf38e75857cbc0eda3b28994808878e3017"}
{"commit_hash": "56dc6d6355744b1c890dd09a6627e0c492f83bb9", "short_hash": "56dc6d635574", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T22:59:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-19T14:11:39-07:00", "subject": "datagram: Make __skb_datagram_iter static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Sagi Grimberg <sagi@grimberg.me> (Grimberg)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change adding 'static' keyword in networking core"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic reviewed sparse warning fix with clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, reviewed externally, committed by maintainer"}}, "score_justification": "Sparse warning fix adding static to unused exported function in networking core", "code_snippet": "@@ -408,10 +408,10 @@ int skb_kill_datagram(struct sock *sk, struct sk_buff *skb, unsigned int flags)\n }\n EXPORT_SYMBOL(skb_kill_datagram);\n \n-int __skb_datagram_iter(const struct sk_buff *skb, int offset,\n-\t\t\tstruct iov_iter *to, int len, bool fault_short,\n-\t\t\tsize_t (*cb)(const void *, size_t, void *, struct iov_iter *),\n-\t\t\tvoid *data)\n+static int __skb_datagram_iter(const struct sk_buff *skb, int offset,\n+\t\t\t       struct iov_iter *to, int len, bool fault_short,\n+\t\t\t       size_t (*cb)(const void *, size_t, void *,\n+\t\t\t\t\t    struct iov_iter *), void *data)\n {\n \tint start = skb_headlen(skb);\n \tint i, copy = start - offset, start_off = offset, n;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/56dc6d6355744b1c890dd09a6627e0c492f83bb9"}
{"commit_hash": "64c40525849f4eb8e6c10b5bbba3c2a2e942bfa6", "short_hash": "64c40525849f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:39:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-19T14:13:37-07:00", "subject": "net: pasemi: Make pasemi_mac_init_module static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/pasemi", "subsystems_touched": ["drivers/net/ethernet/pasemi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line change in network driver fixing sparse warning"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single sign-off from maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Davem maintainer acceptance"}}, "score_justification": "Sparse warning fix adding static keyword to driver init function", "code_snippet": "@@ -1839,7 +1839,7 @@ static void __exit pasemi_mac_cleanup_module(void)\n \tpci_unregister_driver(&pasemi_mac_driver);\n }\n \n-int pasemi_mac_init_module(void)\n+static int pasemi_mac_init_module(void)\n {\n \tint err;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64c40525849f4eb8e6c10b5bbba3c2a2e942bfa6"}
{"commit_hash": "0ecc471a2cb7d4d386089445a727f47b59dc9b6e", "short_hash": "0ecc471a2cb7", "author_name": "Hanjun Guo", "author_email": "hanjun.guo@linaro.org", "author_company": "Linaro", "author_date": "2019-03-05T21:40:58+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-03-19T14:55:10Z", "subject": "arm64: kpti: Whitelist HiSilicon Taishan v110 CPUs", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Hanjun Guo <hanjun.guo@linaro.org> (Linaro)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)", "Zhangshaokun <zhangshaokun@hisilicon.com> (HiSilicon)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 1-line addition in critical arm64 kernel"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Hardware support for HiSilicon CPU"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Two reviewers, good message context"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Linaro, committer ARM, reviewers from Huawei"}}, "score_justification": "Whitelists HiSilicon Taishan v110 CPUs for KPTI meltdown mitigation", "code_snippet": "@@ -963,6 +963,7 @@ static bool unmap_kernel_at_el0(const struct arm64_cpu_capabilities *entry,\n \t\tMIDR_ALL_VERSIONS(MIDR_CORTEX_A57),\n \t\tMIDR_ALL_VERSIONS(MIDR_CORTEX_A72),\n \t\tMIDR_ALL_VERSIONS(MIDR_CORTEX_A73),\n+\t\tMIDR_ALL_VERSIONS(MIDR_HISI_TSV110),\n \t\t{ /* sentinel */ }\n \t};\n \tchar const *str = \"command line option\";\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ecc471a2cb7d4d386089445a727f47b59dc9b6e"}
{"commit_hash": "efd00c722ca855745fcc35a7e6675b5a782a3fc8", "short_hash": "efd00c722ca8", "author_name": "Hanjun Guo", "author_email": "hanjun.guo@linaro.org", "author_company": "Linaro", "author_date": "2019-03-05T21:40:57+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-03-19T14:55:10Z", "subject": "arm64: Add MIDR encoding for HiSilicon Taishan CPUs", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Hanjun Guo <hanjun.guo@linaro.org> (Linaro)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)", "Zhangshaokun <zhangshaokun@hisilicon.com> (HiSilicon)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small header-only addition in critical arm64 subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 16, "details": "New hardware support for HiSilicon server CPUs"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review chain, clear message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Linaro author, Huawei reviewers, ARM maintainer"}}, "score_justification": "Adds MIDR encoding support for HiSilicon Taishan v110 CPUs in Kunpeng server SoCs", "code_snippet": "@@ -107,6 +108,8 @@\n \n #define FUJITSU_CPU_PART_A64FX\t\t0x001\n \n+#define HISI_CPU_PART_TSV110\t\t0xD01\n+\n #define MIDR_CORTEX_A53 MIDR_CPU_MODEL(ARM_CPU_IMP_ARM, ARM_CPU_PART_CORTEX_A53)\n #define MIDR_CORTEX_A57 MIDR_CPU_MODEL(ARM_CPU_IMP_ARM, ARM_CPU_PART_CORTEX_A57)\n #define MIDR_CORTEX_A72 MIDR_CPU_MODEL(ARM_CPU_IMP_ARM, ARM_CPU_PART_CORTEX_A72)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/efd00c722ca855745fcc35a7e6675b5a782a3fc8"}
{"commit_hash": "6c55033a705a7f7fdacf952b579a424aad7507ef", "short_hash": "6c55033a705a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-26T05:48:28Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-03-19T15:03:53-05:00", "subject": "drm/amdgpu: remove set but not used variable 'vbi_time_out'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4098,14 +4098,13 @@ static int si_notify_smc_display_change(struct amdgpu_device *adev,\n \n static void si_program_response_times(struct amdgpu_device *adev)\n {\n-\tu32 voltage_response_time, backbias_response_time, acpi_delay_time, vbi_time_out;\n+\tu32 voltage_response_time, acpi_delay_time, vbi_time_out;\n \tu32 vddc_dly, acpi_dly, vbi_dly;\n \tu32 reference_clock;\n \n \tsi_write_smc_soft_register(adev, SI_SMC_SOFT_REGISTER_mvdd_chg_time, 1);\n \n \tvoltage_response_time = (u32)adev->pm.dpm.voltage_response_time;\n-\tbackbias_response_time = (u32)adev->pm.dpm.backbias_response_time;\n \n \tif (voltage_response_time == 0)\n \t\tvoltage_response_time = 1000;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/6c55033a705a7f7fdacf952b579a424aad7507ef"}
{"commit_hash": "1e608013490a271bd0b3a6b025ee079ca098d647", "short_hash": "1e608013490a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T03:31:50Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-03-19T15:03:53-05:00", "subject": "drm/amdgpu: remove set but not used variables 'vm, bo'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: a46a2cd103a8 (\"drm/amdgpu: Add GPUVM memory management functions for KFD\")", "cc_stable": false, "subsystem_prefix": "drm/amdgpu", "subsystems_touched": ["drivers/gpu/drm/amd/amdgpu"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in GPU driver (Tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message explaining gcc warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, AMD maintainer commit"}}, "score_justification": "GCC unused variable warning fix in amdgpu driver, cross-company commit", "code_snippet": "@@ -719,13 +719,7 @@ static int update_gpuvm_pte(struct amdgpu_device *adev,\n \t\tstruct amdgpu_sync *sync)\n {\n \tint ret;\n-\tstruct amdgpu_vm *vm;\n-\tstruct amdgpu_bo_va *bo_va;\n-\tstruct amdgpu_bo *bo;\n-\n-\tbo_va = entry->bo_va;\n-\tvm = bo_va->base.vm;\n-\tbo = bo_va->base.bo;\n+\tstruct amdgpu_bo_va *bo_va = entry->bo_va;\n \n \t/* Update the page tables  */\n \tret = amdgpu_vm_bo_update(adev, bo_va, false);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e608013490a271bd0b3a6b025ee079ca098d647"}
{"commit_hash": "de6ee704d100c969e4a2ea7edbeebbde63d61e5f", "short_hash": "de6ee704d100", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T13:59:35Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-03-19T15:03:53-05:00", "subject": "drm/ttm: remove set but not used variable 'bdev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/ttm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in GPU subsystem (2 line deletion)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Single cleanup with decent message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from AMD committed"}}, "score_justification": "Removes unused variable to fix compiler warning in DRM TTM driver", "code_snippet": "@@ -188,13 +188,11 @@ void ttm_eu_fence_buffer_objects(struct ww_acquire_ctx *ticket,\n \tstruct ttm_validate_buffer *entry;\n \tstruct ttm_buffer_object *bo;\n \tstruct ttm_bo_global *glob;\n-\tstruct ttm_bo_device *bdev;\n \n \tif (list_empty(list))\n \t\treturn;\n \n \tbo = list_first_entry(list, struct ttm_validate_buffer, head)->bo;\n-\tbdev = bo->bdev;\n \tglob = bo->bdev->glob;\n \n \tspin_lock(&glob->lru_lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de6ee704d100c969e4a2ea7edbeebbde63d61e5f"}
{"commit_hash": "2a7821400f0f3c56fd6667c1a128afb0d70eac81", "short_hash": "2a7821400f0f", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-28T22:48:04+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-03-19T15:04:03-05:00", "subject": "drm/amd/powerplay: fix semicolon code style issue", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/powerplay"], "subsystem_tier": 3, "files_changed": 2, "insertions": 5, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "5 semicolon removals across 2 files in GPU driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, removes superfluous semicolons"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Minimal message, dual Signed-off-by, no testing"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "ZTE author, AMD maintainer committed"}}, "score_justification": "Removes 5 superfluous semicolons in AMD GPU powerplay driver", "code_snippet": "@@ -1379,7 +1379,7 @@ static int pp_set_hard_min_fclk_by_freq(void *handle, uint32_t clock)\n \n \tif (hwmgr->hwmgr_func->set_hard_min_fclk_by_freq == NULL) {\n \t\tpr_debug(\"%s was not implemented.\\n\", __func__);\n-\t\treturn -EINVAL;;\n+\t\treturn -EINVAL;\n \t}\n \n \tmutex_lock(&hwmgr->smu_lock);\ndiff --git a/drivers/gpu/drm/amd/powerplay/hwmgr/hardwaremanager.c b/drivers/gpu/drm/amd/powerplay/hwmgr/hardwaremanager.c\nindex c1c51c115e57..70f7f47a2fcf 100644\n--- a/drivers/gpu/drm/amd/powerplay/hwmgr/hardwaremanager.c\n+++ b/drivers/gpu/drm/amd/powerplay/hwmgr/hardwaremanager.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a7821400f0f3c56fd6667c1a128afb0d70eac81"}
{"commit_hash": "ac0cdb3d990108df795b676cd0d0e65ac34b2273", "short_hash": "ac0cdb3d9901", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-03-08T22:08:31+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-19T15:37:44+01:00", "subject": "sc16is7xx: missing unregister/delete driver on error in sc16is7xx_init()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 4, "files_changed": 1, "insertions": 10, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Vladimir Zapolskiy <vz@mleia.com> (Mleia)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in serial driver (1 file, 4 hunks, 12 LOC)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific serial driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by, clear message, proper Fixes-style pattern"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committed by kernel.org maintainer"}}, "score_justification": "Resource leak fix adding missing cleanup path in serial driver init", "code_snippet": "@@ -1507,7 +1507,7 @@ static int __init sc16is7xx_init(void)\n \tret = i2c_add_driver(&sc16is7xx_i2c_uart_driver);\n \tif (ret < 0) {\n \t\tpr_err(\"failed to init sc16is7xx i2c --> %d\\n\", ret);\n-\t\treturn ret;\n+\t\tgoto err_i2c;\n \t}\n #endif\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ac0cdb3d990108df795b676cd0d0e65ac34b2273"}
{"commit_hash": "0576385acb89fdb361dbdbd62e7cfd0bc35bc6ba", "short_hash": "0576385acb89", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-27T00:57:23-05:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T16:34:08-04:00", "subject": "media: rockchip-vpu: Remove duplicated include from rockchip_vpu_drv.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/staging/media"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Removes 1 duplicate include line"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic cleanup with minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-committed by author"}}, "score_justification": "Duplicate include removal in staging driver", "code_snippet": "@@ -22,7 +22,6 @@\n #include <media/v4l2-event.h>\n #include <media/v4l2-mem2mem.h>\n #include <media/videobuf2-core.h>\n-#include <media/videobuf2-core.h>\n #include <media/videobuf2-vmalloc.h>\n \n #include \"rockchip_vpu_common.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0576385acb89fdb361dbdbd62e7cfd0bc35bc6ba"}
{"commit_hash": "0e3edd94448001a33ed7f8af2179cd4a280348a2", "short_hash": "0e3edd944480", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:20:42+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-03-19T16:37:56+01:00", "subject": "drivers: base: swnode: Make two functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/base"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal change in driver code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean fix with good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Sparse warning fix making functions static in driver code", "code_snippet": "@@ -472,7 +472,7 @@ static int software_node_read_string_array(const struct fwnode_handle *fwnode,\n \t\t\t\t\t\tval, nval);\n }\n \n-struct fwnode_handle *\n+static struct fwnode_handle *\n software_node_get_parent(const struct fwnode_handle *fwnode)\n {\n \tstruct software_node *swnode = to_software_node(fwnode);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e3edd94448001a33ed7f8af2179cd4a280348a2"}
{"commit_hash": "c1a65ebd05a9a6b9ae753fbc9f6ed2a8f0f4f09f", "short_hash": "c1a65ebd05a9", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-03-11T10:37:39-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T16:37:59-04:00", "subject": "media: staging: davinci: drop pointless static qualifier in vpfe_resizer_init()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/staging/media"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in staging driver (non-critical path)"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, accepted by subsystem maintainer"}}, "score_justification": "Removes unnecessary static qualifier in staging driver; minor cleanup with good review", "code_snippet": "@@ -1881,7 +1881,7 @@ int vpfe_resizer_init(struct vpfe_resizer_device *vpfe_rsz,\n \tstruct v4l2_subdev *sd = &vpfe_rsz->crop_resizer.subdev;\n \tstruct media_pad *pads = &vpfe_rsz->crop_resizer.pads[0];\n \tstruct media_entity *me = &sd->entity;\n-\tstatic resource_size_t  res_len;\n+\tresource_size_t res_len;\n \tstruct resource *res;\n \tint ret;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c1a65ebd05a9a6b9ae753fbc9f6ed2a8f0f4f09f"}
{"commit_hash": "3c73b8a40d49f798d189f20b0f9ad4bff7766a0e", "short_hash": "3c73b8a40d49", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T20:32:55-05:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T16:45:25-04:00", "subject": "media: rc: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/rc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single include removal in peripheral driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers, clear message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Samsung maintainer"}}, "score_justification": "Removal of unused include in RC decoder driver", "code_snippet": "@@ -5,7 +5,6 @@\n \n #include \"rc-core-priv.h\"\n #include <linux/module.h>\n-#include <linux/version.h>\n \n #define RCMM_UNIT\t\t166667\t/* nanosecs */\n #define RCMM_PREFIX_PULSE\t416666  /* 166666.666666666*2.5 */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3c73b8a40d49f798d189f20b0f9ad4bff7766a0e"}
{"commit_hash": "56cd26b618855c9af48c8301aa6754ced8dd0beb", "short_hash": "56cd26b61885", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-05T00:40:26-05:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T16:46:20-04:00", "subject": "media: serial_ir: Fix use-after-free in serial_ir_init_module", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: fa5dc29c1fcc (\"[media] lirc_serial: move out of staging and rename to serial_ir\")", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/rc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 49, "score_technical": 8, "score_impact": 20, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in media driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "UAF crash fix with syzbot report"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 2, "atomicity": 2, "subtotal": 15, "details": "Excellent message with full KASAN report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, kernel.org maintainer, robot reporter"}}, "score_justification": "KASAN-detected use-after-free in module init path with detailed trace", "code_snippet": "@@ -773,8 +773,6 @@ static void serial_ir_exit(void)\n \n static int __init serial_ir_init_module(void)\n {\n-\tint result;\n-\n \tswitch (type) {\n \tcase IR_HOMEBREW:\n \tcase IR_IRDEO:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/56cd26b618855c9af48c8301aa6754ced8dd0beb"}
{"commit_hash": "0c17e83fe423467e3ccf0a02f99bd050a73bbeb4", "short_hash": "0c17e83fe423", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-01T16:56:46+08:00", "committer_name": "Shawn Guo", "committer_email": "shawnguo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T16:48:00+08:00", "subject": "ARM: imx51: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-imx"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Shawn Guo <shawnguo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical ARM architecture code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting i.MX51 platform users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Well-documented with coccinelle detection, multiple Cc tags"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "ZTE author, NXP maintainer, cross-org review"}}, "score_justification": "Reference leak fix detected by coccinelle in ARM i.MX51 platform code", "code_snippet": "@@ -59,6 +59,7 @@ static void __init imx51_m4if_setup(void)\n \t\treturn;\n \n \tm4if_base = of_iomap(np, 0);\n+\tof_node_put(np);\n \tif (!m4if_base) {\n \t\tpr_err(\"Unable to map M4IF registers\\n\");\n \t\treturn;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c17e83fe423467e3ccf0a02f99bd050a73bbeb4"}
{"commit_hash": "58b60a9cb2521edfa2e1eb2abde56cab83fdebd3", "short_hash": "58b60a9cb252", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:41+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:20-04:00", "subject": "scsi: ufs: Introduce ufshcd_get_pwr_dev_param", "primary_category": "FEAT-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 4, "files_changed": 2, "insertions": 119, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Bean Huo <beanhuo@micron.com> (Micron)"], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 17, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in UFS driver layer with exported symbol"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 17, "details": "New API for UFS power mode management, moderate user impact"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good review chain with clear commit message explaining rationale"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org contribution from Mediatek via Oracle maintainer"}}, "score_justification": "New exported API for UFS power management consolidating code from vendor drivers", "code_snippet": "@@ -39,6 +39,7 @@\n \n #include \"ufshcd.h\"\n #include \"ufshcd-pltfrm.h\"\n+#include \"unipro.h\"\n \n #define UFSHCD_DEFAULT_LANES_PER_DIRECTION\t\t2\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58b60a9cb2521edfa2e1eb2abde56cab83fdebd3"}
{"commit_hash": "ddd90623ce26ea8f54892d8dc074ca136345c73a", "short_hash": "ddd90623ce26", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:47+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: ufs-mediatek: Add UFS support for Mediatek SoC chips", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 4, "insertions": 435, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -108,6 +108,20 @@ config SCSI_UFS_QCOM\n \t  Select this if you have UFS controller on QCOM chipset.\n \t  If unsure, say N.\n \n+config SCSI_UFS_MEDIATEK\n+\ttristate \"Mediatek specific hooks to UFS controller platform driver\"\n+\tdepends on SCSI_UFSHCD_PLATFORM && ARCH_MEDIATEK\n+\tselect PHY_MTK_UFS\n+\thelp\n+\t  This selects the Mediatek specific additions to UFSHCD platform driver.\n+\t  UFS host on Mediatek needs some vendor specific configuration before\n+\t  accessing the hardware which includes PHY configuration and vendor\n+\t  specific registers.\n+\n+\t  Select this if you have UFS controller on Mediatek chipset.\n+\n+\t  If unsure, say N.\n+\n config SCSI_UFS_HISI\n \ttristate \"Hisilicon specific hooks to UFS controller platform driver\"", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/ddd90623ce26ea8f54892d8dc074ca136345c73a"}
{"commit_hash": "1dfb86628dba6735baf5fe4d5b0486508ae63075", "short_hash": "1dfb86628dba", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:46+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: phy: mediatek: Add UFS M-PHY driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/mediatek"], "subsystem_tier": 4, "files_changed": 3, "insertions": 256, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 19, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "New driver: 3 files, 256 insertions, 6 hunks"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 19, "details": "New UFS PHY driver for MediaTek platforms"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "1 reviewer, basic message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Oracle maintainer committed"}}, "score_justification": "New UFS M-PHY driver for MediaTek chipsets with proper framework integration", "code_snippet": "@@ -13,6 +13,16 @@ config PHY_MTK_TPHY\n \t  multi-ports is first version, otherwise is second veriosn,\n \t  so you can easily distinguish them by banks layout.\n \n+config PHY_MTK_UFS\n+\ttristate \"MediaTek UFS M-PHY driver\"\n+\tdepends on ARCH_MEDIATEK && OF\n+\tselect GENERIC_PHY\n+\thelp\n+\t  Support for UFS M-PHY on MediaTek chipsets.\n+\t  Enable this to provide vendor-specific probing,\n+\t  initialization, power on and power off flow of\n+\t  specified M-PHYs.\n+\n config PHY_MTK_XSPHY\n     tristate \"MediaTek XS-PHY Driver\"\n     depends on ARCH_MEDIATEK && OF\ndiff --git a/drivers/phy/mediatek/Makefile b/drivers/phy/mediatek/Makefile\nindex ee49edc97ee9..08a8e6a97b1e 100644\n--- a/drivers/phy/mediatek/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1dfb86628dba6735baf5fe4d5b0486508ae63075"}
{"commit_hash": "e95424f009af2b2ba6f10b30c33977f2beb9a5ae", "short_hash": "e95424f009af", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:45+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: dt-bindings: ufs: Add document for ufs-mediatek", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 40, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 4, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding document, 1 file, 2 hunks, 40 lines"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New documentation for MediaTek UFS host controller"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Single Reviewed-by tag, clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (Oracle) from different orgs"}}, "score_justification": "New DT binding doc for MediaTek UFS controller with proper review", "code_snippet": "@@ -0,0 +1,40 @@\n+* Mediatek Universal Flash Storage (UFS) Host Controller\n+\n+UFS nodes are defined to describe on-chip UFS hardware macro.\n+Each UFS Host Controller should have its own node.\n+\n+To bind UFS PHY with UFS host controller, the controller node should\n+contain a phandle reference to UFS M-PHY node.\n+\n+Required properties for UFS nodes:\n+- compatible         : Compatible list, contains the following controller:\n+                       \"mediatek,mt8183-ufshci\" for MediaTek UFS host controller\n+                       present on MT81xx chipsets.\n+- reg                : Address and length of the UFS register set.\n+- phys               : phandle to m-phy.\n+- clocks             : List of phandle and clock specifier pairs.\n+- clock-names        : List of clock input name strings sorted in the same\n+                       order as the clocks property. \"ufs\" is mandatory.\n+                       \"ufs\": ufshci core control clock.\n+- freq-table-hz      : Array of <min max> operating frequencies stored in the same", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e95424f009af2b2ba6f10b30c33977f2beb9a5ae"}
{"commit_hash": "55a1fa9538bf88935cadf34df997c1189735648e", "short_hash": "55a1fa9538bf", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:44+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: dt-bindings: phy: Add document for phy-mtk-ufs", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["Documentation/devicetree/bindings/phy"], "subsystem_tier": 5, "files_changed": 1, "insertions": 38, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 9, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding doc, 38 lines in single file"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New hardware support documentation for MediaTek UFS PHY"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by DT maintainer, clear message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author Mediatek, committer Oracle, reviewed by different org"}}, "score_justification": "New DT binding documentation for MediaTek UFS M-PHY, properly reviewed", "code_snippet": "@@ -0,0 +1,38 @@\n+MediaTek Universal Flash Storage (UFS) M-PHY binding\n+--------------------------------------------------------\n+\n+UFS M-PHY nodes are defined to describe on-chip UFS M-PHY hardware macro.\n+Each UFS M-PHY node should have its own node.\n+\n+To bind UFS M-PHY with UFS host controller, the controller node should\n+contain a phandle reference to UFS M-PHY node.\n+\n+Required properties for UFS M-PHY nodes:\n+- compatible         : Compatible list, contains the following controller:\n+                       \"mediatek,mt8183-ufsphy\" for ufs phy\n+                       persent on MT81xx chipsets.\n+- reg                : Address and length of the UFS M-PHY register set.\n+- #phy-cells         : This property shall be set to 0.\n+- clocks             : List of phandle and clock specifier pairs.\n+- clock-names        : List of clock input name strings sorted in the same\n+                       order as the clocks property. Following clocks are\n+                       mandatory.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/55a1fa9538bf88935cadf34df997c1189735648e"}
{"commit_hash": "0b1d96d515ef99ea244a372134538147144f490a", "short_hash": "0b1d96d515ef", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:43+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: ufs-hisi: Re-factor ufshcd_get_pwr_dev_param", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 105, "hunks": 6, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Bean Huo <beanhuo@micron.com> (Micron)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 11, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Medium refactor with significant code deletion"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration affecting UFS Hisilicon driver users"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good review chain with clear migration context"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Multiple orgs involved (MediaTek, WDC, Micron, Oracle)"}}, "score_justification": "", "code_snippet": "@@ -293,108 +293,7 @@ static int ufs_hisi_link_startup_notify(struct ufs_hba *hba,\n \treturn err;\n }\n \n-struct ufs_hisi_dev_params {\n-\tu32 pwm_rx_gear; /* pwm rx gear to work in */\n-\tu32 pwm_tx_gear; /* pwm tx gear to work in */\n-\tu32 hs_rx_gear;  /* hs rx gear to work in */\n-\tu32 hs_tx_gear;  /* hs tx gear to work in */\n-\tu32 rx_lanes;    /* number of rx lanes */\n-\tu32 tx_lanes;    /* number of tx lanes */\n-\tu32 rx_pwr_pwm;  /* rx pwm working pwr */\n-\tu32 tx_pwr_pwm;  /* tx pwm working pwr */\n-\tu32 rx_pwr_hs;   /* rx hs working pwr */\n-\tu32 tx_pwr_hs;   /* tx hs working pwr */\n-\tu32 hs_rate;     /* rate A/B to work in HS */\n-\tu32 desired_working_mode;\n-};\n-\n-static int ufs_hisi_get_pwr_dev_param(", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0b1d96d515ef99ea244a372134538147144f490a"}
{"commit_hash": "e4c0ee3f91d9916c13aaff0a87b5939c7f625caf", "short_hash": "e4c0ee3f91d9", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:42+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T16:56:21-04:00", "subject": "scsi: ufs-qcom: Re-factor ufshcd_get_pwr_dev_param", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 102, "hunks": 6, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Bean Huo <beanhuo@micron.com> (Micron)"], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 11, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactoring: 6 hunks, -98 lines net in UFS driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration consolidating code to UFS core"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "2 reviewers (WDC, Micron), clear migration rationale"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (MediaTek) + reviewers from WDC/Micron + maintainer (Oracle)"}}, "score_justification": "API migration refactoring: moves duplicate power param code from ufs-qcom to common UFS core, reducing code duplication with 98-line net deletion.", "code_snippet": "@@ -595,104 +595,6 @@ static int ufs_qcom_resume(struct ufs_hba *hba, enum ufs_pm_op pm_op)\n \treturn err;\n }\n \n-struct ufs_qcom_dev_params {\n-\tu32 pwm_rx_gear;\t/* pwm rx gear to work in */\n-\tu32 pwm_tx_gear;\t/* pwm tx gear to work in */\n-\tu32 hs_rx_gear;\t\t/* hs rx gear to work in */\n-\tu32 hs_tx_gear;\t\t/* hs tx gear to work in */\n-\tu32 rx_lanes;\t\t/* number of rx lanes */\n-\tu32 tx_lanes;\t\t/* number of tx lanes */\n-\tu32 rx_pwr_pwm;\t\t/* rx pwm working pwr */\n-\tu32 tx_pwr_pwm;\t\t/* tx pwm working pwr */\n-\tu32 rx_pwr_hs;\t\t/* rx hs working pwr */\n-\tu32 tx_pwr_hs;\t\t/* tx hs working pwr */\n-\tu32 hs_rate;\t\t/* rate A/B to work in HS */\n-\tu32 desired_working_mode;\n-};\n-\n-static int ufs_qcom_get_pwr_dev_param(struct ufs_qcom_dev_params *qcom_param,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4c0ee3f91d9916c13aaff0a87b5939c7f625caf"}
{"commit_hash": "094b0246a2ca2fe74cab89b7516aa736e5dc4679", "short_hash": "094b0246a2ca", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T12:56:14Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T17:19:36-04:00", "subject": "scsi: mptfusion: remove set, but not used, variables", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/message/fusion", "subsystems_touched": ["drivers/message/fusion"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 4, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 3, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change removing 2 unused variables in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear warning fix with compiler output, good atomicity"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer, different orgs"}}, "score_justification": "GCC unused variable warning fix removing 2 dead vars in mptspi driver", "code_snippet": "@@ -258,8 +258,6 @@ mptspi_writeIOCPage4(MPT_SCSI_HOST *hd, u8 channel , u8 id)\n \tIOCPage4_t\t\t*IOCPage4Ptr;\n \tMPT_FRAME_HDR\t\t*mf;\n \tdma_addr_t\t\t dataDma;\n-\tu16\t\t\t req_idx;\n-\tu32\t\t\t frameOffset;\n \tu32\t\t\t flagsLength;\n \tint\t\t\t ii;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/094b0246a2ca2fe74cab89b7516aa736e5dc4679"}
{"commit_hash": "3f0b2d74210053ce1e773c0376cd9509ea95b780", "short_hash": "3f0b2d742100", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T07:39:06Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T17:45:28-04:00", "subject": "scsi: qedi: Remove set but not used variable 'cls_sess'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 4-line deletion in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning-only fix, no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with compiler output, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Dead variable removal fixing compiler warnings in SCSI driver", "code_snippet": "@@ -155,12 +155,10 @@ static void qedi_tmf_resp_work(struct work_struct *work)\n \tstruct iscsi_conn *conn = qedi_conn->cls_conn->dd_data;\n \tstruct iscsi_session *session = conn->session;\n \tstruct iscsi_tm_rsp *resp_hdr_ptr;\n-\tstruct iscsi_cls_session *cls_sess;\n \tint rval = 0;\n \n \tset_bit(QEDI_CONN_FW_CLEANUP, &qedi_conn->flags);\n \tresp_hdr_ptr =  (struct iscsi_tm_rsp *)qedi_cmd->tmf_resp_buf;\n-\tcls_sess = iscsi_conn_to_session(qedi_conn->cls_conn);\n \n \tiscsi_block_session(session->cls_session);\n \trval = qedi_cleanup_all_io(qedi, qedi_conn, qedi_cmd->task, true);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3f0b2d74210053ce1e773c0376cd9509ea95b780"}
{"commit_hash": "7512ddef63075605ecc25fee86940a1452fcbe49", "short_hash": "7512ddef6307", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-16T18:01:30+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-19T17:46:16-04:00", "subject": "scsi: mvumi: Stop using plain integer as NULL pointer", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (3 lines) in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Cross-company review, sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Sparse warning fix replacing integer 0 with NULL pointer", "code_snippet": "@@ -752,7 +752,7 @@ static int mvumi_issue_blocked_cmd(struct mvumi_hba *mhba,\n \t\tspin_lock_irqsave(mhba->shost->host_lock, flags);\n \t\tatomic_dec(&cmd->sync_cmd);\n \t\tif (mhba->tag_cmd[cmd->frame->tag]) {\n-\t\t\tmhba->tag_cmd[cmd->frame->tag] = 0;\n+\t\t\tmhba->tag_cmd[cmd->frame->tag] = NULL;\n \t\t\tdev_warn(&mhba->pdev->dev, \"TIMEOUT:release tag [%d]\\n\",\n \t\t\t\t\t\t\tcmd->frame->tag);\n \t\t\ttag_release_one(mhba, &mhba->tag_pool, cmd->frame->tag);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7512ddef63075605ecc25fee86940a1452fcbe49"}
{"commit_hash": "629266bf7229cd6a550075f5961f95607b823b59", "short_hash": "629266bf7229", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:33:54+08:00", "committer_name": "Krzysztof Kozlowski", "committer_email": "krzk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-19T21:34:38+01:00", "subject": "ARM: exynos: Fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-exynos"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Krzysztof Kozlowski <krzk@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in ARM architecture subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Memory leak fix with stable backport"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Well-documented with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different companies"}}, "score_justification": "Reference leak fix adding missing of_node_put calls detected by coccinelle", "code_snippet": "@@ -196,6 +196,7 @@ bool __init exynos_secure_firmware_available(void)\n \t\treturn false;\n \n \taddr = of_get_address(nd, 0, NULL, NULL);\n+\tof_node_put(nd);\n \tif (!addr) {\n \t\tpr_err(\"%s: No address specified.\\n\", __func__);\n \t\treturn false;\ndiff --git a/arch/arm/mach-exynos/suspend.c b/arch/arm/mach-exynos/suspend.c\nindex c521af625e40..64a57e703fc2 100644\n--- a/arch/arm/mach-exynos/suspend.c\n+++ b/arch/arm/mach-exynos/suspend.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/629266bf7229cd6a550075f5961f95607b823b59"}
{"commit_hash": "8bfb175461353c0d0da992e00cc35a40a65a58ea", "short_hash": "8bfb17546135", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T01:54:29Z", "committer_name": "Hans de Goede", "committer_email": "hdegoede@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-20T10:16:40+01:00", "subject": "drm/vboxvideo: Remove unused including <linux/version.h>", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans de Goede <hdegoede@redhat.com> (Redhat)"], "reviewed_by": ["Hans de Goede <hdegoede@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single line removal in GPU driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Include reordering with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Reviewed-by maintainer, clear message"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author @huawei, committer @redhat"}}, "score_justification": "Unused include removal in vboxvideo driver, cross-org review", "code_snippet": "@@ -14,7 +14,6 @@\n #include <linux/io.h>\n #include <linux/irqreturn.h>\n #include <linux/string.h>\n-#include <linux/version.h>\n \n #include <drm/drm_encoder.h>\n #include <drm/drm_fb_helper.h>\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/8bfb175461353c0d0da992e00cc35a40a65a58ea"}
{"commit_hash": "1bfe45f4ae81dc961b4bcb2ce6860c4ee1af621a", "short_hash": "1bfe45f4ae81", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T10:06:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-20T11:02:47-07:00", "subject": "net: bridge: use eth_broadcast_addr() to assign broadcast address", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/bridge"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration in bridge multicast code"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to maintainer"}}, "score_justification": "API migration from memset to eth_broadcast_addr() in bridge multicast", "code_snippet": "@@ -517,7 +517,7 @@ struct net_bridge_port_group *br_multicast_new_port_group(\n \tif (src)\n \t\tmemcpy(p->eth_addr, src, ETH_ALEN);\n \telse\n-\t\tmemset(p->eth_addr, 0xff, ETH_ALEN);\n+\t\teth_broadcast_addr(p->eth_addr);\n \n \treturn p;\n }\n", "flags": ["API-MIGRATION"], "link": "https://lore.kernel.org/linux-kernel/1bfe45f4ae81dc961b4bcb2ce6860c4ee1af621a"}
{"commit_hash": "881d7afdff165159a7138e56523889eac27d84c8", "short_hash": "881d7afdff16", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:37:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-20T11:20:12-07:00", "subject": "net: hns3: Make hclge_destroy_cmd_queue static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -411,7 +411,7 @@ static void hclge_destroy_queue(struct hclge_cmq_ring *ring)\n \tspin_unlock(&ring->lock);\n }\n \n-void hclge_destroy_cmd_queue(struct hclge_hw *hw)\n+static void hclge_destroy_cmd_queue(struct hclge_hw *hw)\n {\n \thclge_destroy_queue(&hw->cmq.csq);\n \thclge_destroy_queue(&hw->cmq.crq);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/881d7afdff165159a7138e56523889eac27d84c8"}
{"commit_hash": "a534ea30e70fc51c4cef31c0683955dd8a568a11", "short_hash": "a534ea30e70f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:48:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-20T12:25:59-07:00", "subject": "net: isdn: Make isdn_ppp_mp_discard and isdn_ppp_mp_reassembly static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/isdn", "subsystems_touched": ["drivers/isdn/i4l"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in ISDN driver fixing sparse warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with sparse warnings, author+maintainer SOB"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Sparse warning fix adding static keyword to two functions in ISDN driver", "code_snippet": "@@ -1888,8 +1888,9 @@ static u32 isdn_ppp_mp_get_seq(int short_seq,\n \treturn seq;\n }\n \n-struct sk_buff *isdn_ppp_mp_discard(ippp_bundle *mp,\n-\t\t\t\t    struct sk_buff *from, struct sk_buff *to)\n+static struct sk_buff *isdn_ppp_mp_discard(ippp_bundle *mp,\n+\t\t\t\t\t   struct sk_buff *from,\n+\t\t\t\t\t   struct sk_buff *to)\n {\n \tif (from)\n \t\twhile (from != to) {", "flags": ["MAINT-WARN"], "link": "https://lore.kernel.org/linux-kernel/a534ea30e70fc51c4cef31c0683955dd8a568a11"}
{"commit_hash": "29ece8b4354f8c5eaee798a3d8a1b356efee426f", "short_hash": "29ece8b4354f", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-18T22:44:41+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-20T14:02:07-06:00", "subject": "block: add BLK_MQ_POLL_CLASSIC for hybrid poll and return EINVAL for unexpected value", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 3, "insertions": 12, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Damien Le Moal <damien.lemoal@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 13, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in critical block layer"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 13, "details": "Logic fix for block polling sysfs"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by with clear explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, WD reviewer, kernel.org maintainer"}}, "score_justification": "Refactor replaces magic -1 with named constant, adds EINVAL validation", "code_snippet": "@@ -3391,7 +3391,7 @@ static bool blk_mq_poll_hybrid(struct request_queue *q,\n {\n \tstruct request *rq;\n \n-\tif (q->poll_nsec == -1)\n+\tif (q->poll_nsec == BLK_MQ_POLL_CLASSIC)\n \t\treturn false;\n \n \tif (!blk_qc_t_is_internal(cookie))\ndiff --git a/block/blk-sysfs.c b/block/blk-sysfs.c\nindex 59685918167e..422327089e0f 100644\n--- a/block/blk-sysfs.c\n+++ b/block/blk-sysfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29ece8b4354f8c5eaee798a3d8a1b356efee426f"}
{"commit_hash": "0e83fc61eee62979260f6aeadd23ee8b615ee1a2", "short_hash": "0e83fc61eee6", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T18:21:34+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-20T14:24:04-04:00", "subject": "scsi: hisi_sas: Add softreset in hisi_sas_I_T_nexus_reset()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: ffb1c820b8b6 (\"scsi: hisi_sas: remove the check of sas_dev status in hisi_sas_I_T_nexus_reset()\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in SCSI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting SATA disk writes"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Regression fix for missing softreset causing SATA disk write failures", "code_snippet": "@@ -1801,6 +1801,12 @@ static int hisi_sas_I_T_nexus_reset(struct domain_device *device)\n \t}\n \thisi_sas_dereg_device(hisi_hba, device);\n \n+\tif (dev_is_sata(device)) {\n+\t\trc = hisi_sas_softreset_ata_disk(device);\n+\t\tif (rc)\n+\t\t\treturn TMF_RESP_FUNC_FAILED;\n+\t}\n+\n \trc = hisi_sas_debug_I_T_nexus_reset(device);\n \n \tif ((rc == TMF_RESP_FUNC_COMPLETE) || (rc == -ENODEV))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e83fc61eee62979260f6aeadd23ee8b615ee1a2"}
{"commit_hash": "7a67eb1d3abefe16b491b0e9801f98a98f15a3bf", "short_hash": "7a67eb1d3abe", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:23:19+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-20T17:14:03Z", "subject": "regulator: of: Make regulator_of_get_init_node static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "regulator", "subsystems_touched": ["drivers/regulator"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change adding static keyword to function declaration"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message explaining sparse warning, clean fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by Linaro maintainer"}}, "score_justification": "Sparse warning fix adding static to unused function in regulator driver", "code_snippet": "@@ -371,8 +371,9 @@ int of_regulator_match(struct device *dev, struct device_node *node,\n }\n EXPORT_SYMBOL_GPL(of_regulator_match);\n \n-struct device_node *regulator_of_get_init_node(struct device *dev,\n-\t\t\t\t\t       const struct regulator_desc *desc)\n+static struct\n+device_node *regulator_of_get_init_node(struct device *dev,\n+\t\t\t\t\tconst struct regulator_desc *desc)\n {\n \tstruct device_node *search, *child;\n \tconst char *name;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7a67eb1d3abefe16b491b0e9801f98a98f15a3bf"}
{"commit_hash": "d9ea27a3304812500de3674981a9c3a2086d517b", "short_hash": "d9ea27a33048", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:18:13+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-03-20T17:33:41Z", "subject": "KVM: arm/arm64: vgic-its: Make attribute accessors static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "virt/", "subsystems_touched": ["virt/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1736,8 +1736,8 @@ static void vgic_its_destroy(struct kvm_device *kvm_dev)\n \tkfree(its);\n }\n \n-int vgic_its_has_attr_regs(struct kvm_device *dev,\n-\t\t\t   struct kvm_device_attr *attr)\n+static int vgic_its_has_attr_regs(struct kvm_device *dev,\n+\t\t\t\t  struct kvm_device_attr *attr)\n {\n \tconst struct vgic_register_region *region;\n \tgpa_t offset = attr->attr;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d9ea27a3304812500de3674981a9c3a2086d517b"}
{"commit_hash": "cbb24e26735f6142ba994b4d44fc2dcd54c3fe1f", "short_hash": "cbb24e26735f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:24:58+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-20T20:06:51-04:00", "subject": "scsi: ufs-mediatek: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)", "Stanley Chu <stanley.chu@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in SCSI UFS driver (tier 4)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "2 reviewers, good message with warnings, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei->Oracle committer, Codeaurora/Mediatek reviews"}}, "score_justification": "Sparse warning fix adding static to 3 functions in UFS driver", "code_snippet": "@@ -16,7 +16,7 @@\n #include \"unipro.h\"\n #include \"ufs-mediatek.h\"\n \n-void ufs_mtk_cfg_unipro_cg(struct ufs_hba *hba, bool enable)\n+static void ufs_mtk_cfg_unipro_cg(struct ufs_hba *hba, bool enable)\n {\n \tu32 tmp;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cbb24e26735f6142ba994b4d44fc2dcd54c3fe1f"}
{"commit_hash": "1ea9b4633cda461f09b4476ff612d32d78e81c92", "short_hash": "1ea9b4633cda", "author_name": "tangwenji", "author_email": "tang.wenji@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-13T22:56:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-20T20:36:39-04:00", "subject": "scsi: target: iscsi: Fix np_ip_proto and np_sock_type in iscsit_setup_np", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/target/iscsi", "subsystems_touched": ["drivers/target/iscsi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["tangwenji <tang.wenji@zte.com.cn> (ZTE)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Mike Christie <mchristi@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line deletion in SCSI target iSCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix affecting iSCSI storage users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by from Red Hat, clear explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "ZTE author, Oracle maintainer, Red Hat reviewer"}}, "score_justification": "Logic fix removing premature TCP assignments that were overwritten", "code_snippet": "@@ -883,9 +883,6 @@ int iscsit_setup_np(\n \t\treturn -EINVAL;\n \t}\n \n-\tnp->np_ip_proto = IPPROTO_TCP;\n-\tnp->np_sock_type = SOCK_STREAM;\n-\n \tret = sock_create(sockaddr->ss_family, np->np_sock_type,\n \t\t\tnp->np_ip_proto, &sock);\n \tif (ret < 0) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1ea9b4633cda461f09b4476ff612d32d78e81c92"}
{"commit_hash": "f55d0b40eccfcfb50f93cc7d03c95e25ab19917e", "short_hash": "f55d0b40eccf", "author_name": "tangwenji", "author_email": "tang.wenji@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-20T22:14:44+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-20T20:38:07-04:00", "subject": "scsi: target: iscsi: Free conn_ops when zalloc_cpumask_var failed", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/target/iscsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["tangwenji <tang.wenji@zte.com.cn> (ZTE)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Mike Christie <mchristi@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in storage subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting iSCSI users"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Two reviewers including maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Oracle maintainer"}}, "score_justification": "Error path cleanup bug - wrong goto label freed incorrect resource", "code_snippet": "@@ -1156,13 +1156,13 @@ static struct iscsi_conn *iscsit_alloc_conn(struct iscsi_np *np)\n \n \tif (!zalloc_cpumask_var(&conn->conn_cpumask, GFP_KERNEL)) {\n \t\tpr_err(\"Unable to allocate conn->conn_cpumask\\n\");\n-\t\tgoto free_mask;\n+\t\tgoto free_conn_ops;\n \t}\n \n \treturn conn;\n \n-free_mask:\n-\tfree_cpumask_var(conn->conn_cpumask);\n+free_conn_ops:\n+\tkfree(conn->conn_ops);\n put_transport:\n \tiscsit_put_transport(conn->conn_transport);\n free_conn:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f55d0b40eccfcfb50f93cc7d03c95e25ab19917e"}
{"commit_hash": "2efa48fec0c344a6ca1bba66b15d63d38cf20199", "short_hash": "2efa48fec0c3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:59:22+08:00", "committer_name": "Paul Moore", "committer_email": "paul@paul-moore.com", "committer_company": "Paul-moore", "commit_date": "2019-03-20T21:04:32-04:00", "subject": "audit: Make audit_log_cap and audit_copy_inode static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Paul Moore <paul@paul-moore.com> (Paul-moore)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Richard Guy Briggs <rgb@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in kernel audit subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by maintainer, clear sparse fix"}, "community": {"cross_org": 2, "maintainer": 1, "response": 0, "subtotal": 3, "details": "Huawei author, different maintainer"}}, "score_justification": "Sparse warning fix making functions static in kernel audit", "code_snippet": "@@ -1147,7 +1147,8 @@ static void audit_log_execve_info(struct audit_context *context,\n \tkfree(buf_head);\n }\n \n-void audit_log_cap(struct audit_buffer *ab, char *prefix, kernel_cap_t *cap)\n+static void audit_log_cap(struct audit_buffer *ab, char *prefix,\n+\t\t\t  kernel_cap_t *cap)\n {\n \tint i;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2efa48fec0c344a6ca1bba66b15d63d38cf20199"}
{"commit_hash": "5bbfcebb6d1bf322b5902e3c4b6b42a1f679fec3", "short_hash": "5bbfcebb6d1b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T12:59:39Z", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-03-20T23:39:49-05:00", "subject": "drm/ttm: remove set but not used variable 'rdev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a987fcaa805f (\"ttm: Make parts of a struct ttm_bo_device global.\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in GPU subsystem (Tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Well-documented fix with historical context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei author, AMD maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in radeon driver", "code_snippet": "@@ -251,14 +251,12 @@ static int radeon_move_vram_ram(struct ttm_buffer_object *bo,\n \t\t\t\tstruct ttm_mem_reg *new_mem)\n {\n \tstruct ttm_operation_ctx ctx = { interruptible, no_wait_gpu };\n-\tstruct radeon_device *rdev;\n \tstruct ttm_mem_reg *old_mem = &bo->mem;\n \tstruct ttm_mem_reg tmp_mem;\n \tstruct ttm_place placements;\n \tstruct ttm_placement placement;\n \tint r;\n \n-\trdev = radeon_get_rdev(bo->bdev);\n \ttmp_mem = *new_mem;\n \ttmp_mem.mm_node = NULL;\n \tplacement.num_placement = 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5bbfcebb6d1bf322b5902e3c4b6b42a1f679fec3"}
{"commit_hash": "ceabee6c59943bdd5e1da1a6a20dc7ee5f8113a2", "short_hash": "ceabee6c5994", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T15:02:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-21T09:29:06-07:00", "subject": "genetlink: Fix a memory leak on error path", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 2ae0f17df1cd (\"genetlink: use idr to track families\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/netlink"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Kirill Tkhai <ktkhai@virtuozzo.com> (Virtuozzo)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clean fix with good message and review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org from Huawei to Virtuozzo to netdev maintainer"}}, "score_justification": "Memory leak on error path in genetlink registration", "code_snippet": "@@ -366,7 +366,7 @@ int genl_register_family(struct genl_family *family)\n \t\t\t       start, end + 1, GFP_KERNEL);\n \tif (family->id < 0) {\n \t\terr = family->id;\n-\t\tgoto errout_locked;\n+\t\tgoto errout_free;\n \t}\n \n \terr = genl_validate_assign_mc_groups(family);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ceabee6c59943bdd5e1da1a6a20dc7ee5f8113a2"}
{"commit_hash": "dc3173c7067ebbac44ed4a5c3636dc0ff27f981b", "short_hash": "dc3173c7067e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:22:20+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-03-21T11:08:24Z", "subject": "irqchip/brcmstb-l2: Make two init functions static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -275,14 +275,14 @@ static int __init brcmstb_l2_intc_of_init(struct device_node *np,\n \treturn ret;\n }\n \n-int __init brcmstb_l2_edge_intc_of_init(struct device_node *np,\n+static int __init brcmstb_l2_edge_intc_of_init(struct device_node *np,\n \tstruct device_node *parent)\n {\n \treturn brcmstb_l2_intc_of_init(np, parent, &l2_edge_intc_init);\n }\n IRQCHIP_DECLARE(brcmstb_l2_intc, \"brcm,l2-intc\", brcmstb_l2_edge_intc_of_init);\n \n-int __init brcmstb_l2_lvl_intc_of_init(struct device_node *np,\n+static int __init brcmstb_l2_lvl_intc_of_init(struct device_node *np,\n \tstruct device_node *parent)\n {\n \treturn brcmstb_l2_intc_of_init(np, parent, &l2_lvl_intc_init);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/dc3173c7067ebbac44ed4a5c3636dc0ff27f981b"}
{"commit_hash": "096048cb120d5318b3a9a7c1e062a4b11c0e80ab", "short_hash": "096048cb120d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:40:27+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-03-21T11:08:25Z", "subject": "irqchip/mmp: Make mmp_irq_domain_ops static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -176,7 +176,7 @@ static int mmp_irq_domain_xlate(struct irq_domain *d, struct device_node *node,\n \treturn 0;\n }\n \n-const struct irq_domain_ops mmp_irq_domain_ops = {\n+static const struct irq_domain_ops mmp_irq_domain_ops = {\n \t.map\t\t= mmp_irq_domain_map,\n \t.xlate\t\t= mmp_irq_domain_xlate,\n };\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/096048cb120d5318b3a9a7c1e062a4b11c0e80ab"}
{"commit_hash": "fca269f201a8d9985c0a31fb60b15d4eb57cef80", "short_hash": "fca269f201a8", "author_name": "Jianguo Chen", "author_email": "chenjianguo3@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T18:54:21Z", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-03-21T11:08:26Z", "subject": "irqchip/mbigen: Don't clear eventid when freeing an MSI", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jianguo Chen <chenjianguo3@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting mbigen interrupt users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with call trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Arm maintainer"}}, "score_justification": "Bug fix for mbigen IRQ chip clearing eventid incorrectly during free", "code_snippet": "@@ -161,6 +161,9 @@ static void mbigen_write_msg(struct msi_desc *desc, struct msi_msg *msg)\n \tvoid __iomem *base = d->chip_data;\n \tu32 val;\n \n+\tif (!msg->address_lo && !msg->address_hi)\n+\t\treturn;\n+ \n \tbase += get_mbigen_vec_reg(d->hwirq);\n \tval = readl_relaxed(base);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fca269f201a8d9985c0a31fb60b15d4eb57cef80"}
{"commit_hash": "6b70fc94afd165342876e53fc4b2f7d085009945", "short_hash": "6b70fc94afd1", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T14:25:05-04:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-21T13:38:27-07:00", "subject": "net-sysfs: Fix memory leak in netdev_register_kobject", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1fa5ae857bb1 (\"driver core: get rid of struct device's bus_id string array\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)", "Stephen Hemminger <stephen@networkplumber.org> (Networkplumber)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 49, "score_technical": 10, "score_impact": 18, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical networking core subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Memory leak fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Two Reviewed-by tags, detailed message with stack trace"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Huawei author, Intel reviewer, committer from different org, reported by Hulk Robot"}}, "score_justification": "Memory leak in netdev kobject registration path with cross-org review", "code_snippet": "@@ -1747,16 +1747,20 @@ int netdev_register_kobject(struct net_device *ndev)\n \n \terror = device_add(dev);\n \tif (error)\n-\t\treturn error;\n+\t\tgoto error_put_device;\n \n \terror = register_queue_kobjects(ndev);\n-\tif (error) {\n-\t\tdevice_del(dev);\n-\t\treturn error;\n-\t}\n+\tif (error)\n+\t\tgoto error_device_del;\n \n \tpm_runtime_set_memalloc_noio(dev, true);\n \n+\treturn 0;\n+\n+error_device_del:", "flags": ["REPORTED_BY_EXTERNAL"], "link": "https://lore.kernel.org/linux-kernel/6b70fc94afd165342876e53fc4b2f7d085009945"}
{"commit_hash": "5f543a54eec08228ab0cc0a49cf5d79dd32c9e5e", "short_hash": "5f543a54eec0", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T11:28:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-21T13:59:24-07:00", "subject": "net: hns3: fix for not calculating tx bd num correctly", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 3fe13ed95dd3 (\"net: hns3: avoid mult + div op in critical data path\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 6, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver with multiple related hunks"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic bug fix causing TX errors for specific packet sizes"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with math detail and Fixes tag, no external testing"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Integer division bug fix in NIC driver causing TX errors for 1-byte frags due to incorrect calculation formula", "code_snippet": "@@ -1124,14 +1125,13 @@ static int hns3_nic_maybe_stop_tso(struct sk_buff **out_skb, int *bnum,\n \tint i;\n \n \tsize = skb_headlen(skb);\n-\tbuf_num = (size + HNS3_MAX_BD_SIZE - 1) >> HNS3_MAX_BD_SIZE_OFFSET;\n+\tbuf_num = hns3_tx_bd_count(size);\n \n \tfrag_num = skb_shinfo(skb)->nr_frags;\n \tfor (i = 0; i < frag_num; i++) {\n \t\tfrag = &skb_shinfo(skb)->frags[i];\n \t\tsize = skb_frag_size(frag);\n-\t\tbdnum_for_frag = (size + HNS3_MAX_BD_SIZE - 1) >>\n-\t\t\t\t HNS3_MAX_BD_SIZE_OFFSET;\n+\t\tbdnum_for_frag = hns3_tx_bd_count(size);\n \t\tif (unlikely(bdnum_for_frag > HNS3_MAX_BD_PER_FRAG))\n \t\t\treturn -ENOMEM;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f543a54eec08228ab0cc0a49cf5d79dd32c9e5e"}
{"commit_hash": "f27b744baaa646a7c0a01443cc0d8b4787cac2f7", "short_hash": "f27b744baaa6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T23:14:48+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-21T16:43:00+01:00", "subject": "irqchip/irq-mvebu-sei: Make mvebu_sei_ap806_caps static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in drivers subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain, simple message quality"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Linutronix"}}, "score_justification": "Sparse warning fix adding static keyword to global structure", "code_snippet": "@@ -478,7 +478,7 @@ static int mvebu_sei_probe(struct platform_device *pdev)\n \treturn ret;\n }\n \n-struct mvebu_sei_caps mvebu_sei_ap806_caps = {\n+static struct mvebu_sei_caps mvebu_sei_ap806_caps = {\n \t.ap_range = {\n \t\t.first = 0,\n \t\t.size = 21,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f27b744baaa646a7c0a01443cc0d8b4787cac2f7"}
{"commit_hash": "909e9c9c428376e2a43d178ed4b0a2d5ba9cb7d3", "short_hash": "909e9c9c4283", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-28T20:24:59+08:00", "committer_name": "Ben Skeggs", "committer_email": "bskeggs@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-22T09:57:58+10:00", "subject": "drm/nouveau/debugfs: Fix check of pm_runtime_get_sync failure", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: eaeb9010bb4b (\"drm/nouveau/debugfs: Wake up GPU before doing any reclocking\")", "cc_stable": false, "subsystem_prefix": "drm/nouveau", "subsystems_touched": ["drivers/gpu/drm/nouveau"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ben Skeggs <bskeggs@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with regression tag, affects nouveau users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Red Hat"}}, "score_justification": "Incorrect error check fix for pm_runtime_get_sync in nouveau debugfs", "code_snippet": "@@ -181,7 +181,7 @@ nouveau_debugfs_pstate_set(struct file *file, const char __user *ubuf,\n \t}\n \n \tret = pm_runtime_get_sync(drm->dev);\n-\tif (IS_ERR_VALUE(ret) && ret != -EACCES)\n+\tif (ret < 0 && ret != -EACCES)\n \t\treturn ret;\n \tret = nvif_mthd(ctrl, NVIF_CONTROL_PSTATE_USER, &args, sizeof(args));\n \tpm_runtime_put_autosuspend(drm->dev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/909e9c9c428376e2a43d178ed4b0a2d5ba9cb7d3"}
{"commit_hash": "2219c9ee922d9a0548b44fb82342166d9d9fdbc9", "short_hash": "2219c9ee922d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-21T03:38:51Z", "committer_name": "Ben Skeggs", "committer_email": "bskeggs@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-22T09:57:58+10:00", "subject": "drm/nouveau/dmem: remove set but not used variable 'drm'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/nouveau", "subsystems_touched": ["drivers/gpu/drm/nouveau"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ben Skeggs <bskeggs@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear commit message with dual signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei/Red Hat) with maintainer signoff"}}, "score_justification": "Compiler warning fix removing unused variable in nouveau driver", "code_snippet": "@@ -100,12 +100,10 @@ static void\n nouveau_dmem_free(struct hmm_devmem *devmem, struct page *page)\n {\n \tstruct nouveau_dmem_chunk *chunk;\n-\tstruct nouveau_drm *drm;\n \tunsigned long idx;\n \n \tchunk = (void *)hmm_devmem_page_get_drvdata(page);\n \tidx = page_to_pfn(page) - chunk->pfn_first;\n-\tdrm = chunk->drm;\n \n \t/*\n \t * FIXME:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2219c9ee922d9a0548b44fb82342166d9d9fdbc9"}
{"commit_hash": "78d722b1bdd96b31bbe886a2cb2e69ce7b350347", "short_hash": "78d722b1bdd9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-29T11:21:44+08:00", "committer_name": "Luca Coelho", "committer_email": "luciano.coelho@intel.com", "committer_company": "Intel", "commit_date": "2019-03-22T12:59:42+02:00", "subject": "iwlwifi: Use struct_size() in kzalloc", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/intel/iwlwifi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Luca Coelho <luciano.coelho@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 11, "score_quality": 9, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "API migration improving code safety"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message, maintainer sign-off"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Huawei author, Intel maintainer"}}, "score_justification": "API migration to struct_size() in iwlwifi driver", "code_snippet": "@@ -1116,11 +1115,7 @@ iwl_parse_nvm_mcc_info(struct device *dev, const struct iwl_cfg *cfg,\n \t\t      num_of_ch);\n \n \t/* build a regdomain rule for every valid channel */\n-\tsize_of_regd =\n-\t\tsizeof(struct ieee80211_regdomain) +\n-\t\tnum_of_ch * sizeof(struct ieee80211_reg_rule);\n-\n-\tregd = kzalloc(size_of_regd, GFP_KERNEL);\n+\tregd = kzalloc(struct_size(regd, reg_rules, num_of_ch), GFP_KERNEL);\n \tif (!regd)\n \t\treturn ERR_PTR(-ENOMEM);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78d722b1bdd96b31bbe886a2cb2e69ce7b350347"}
{"commit_hash": "5a07168d8d89b00fe1760120714378175b3ef992", "short_hash": "5a07168d8d89", "author_name": "Chen Jie", "author_email": "chenjie6@huawei.com", "author_company": "Huawei", "author_date": "2019-03-15T03:44:38Z", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-22T13:05:26+01:00", "subject": "futex: Ensure that futex address is aligned in handle_futex_death()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0771dfefc9e5 (\"[PATCH] lightweight robust futexes: core\")", "cc_stable": true, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/futex"], "subsystem_tier": 1, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chen Jie <chenjie6@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 57, "score_technical": 12, "score_impact": 26, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in core kernel futex subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Crash fix affecting all users with stable backport"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent message with Fixes tag and detailed context"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-company contribution from Huawei to Linutronix maintainer"}}, "score_justification": "Kernel crash fix for unaligned futex addresses in robust list code, stable backport with excellent documentation", "code_snippet": "@@ -3436,6 +3436,10 @@ static int handle_futex_death(u32 __user *uaddr, struct task_struct *curr, int p\n {\n \tu32 uval, uninitialized_var(nval), mval;\n \n+\t/* Futex address must be 32bit aligned */\n+\tif ((((unsigned long)uaddr) % sizeof(*uaddr)) != 0)\n+\t\treturn -1;\n+\n retry:\n \tif (get_user(uval, uaddr))\n \t\treturn -1;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5a07168d8d89b00fe1760120714378175b3ef992"}
{"commit_hash": "c72c4cde8095aa0e4336cb337dac25d6e347240d", "short_hash": "c72c4cde8095", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:04:00+08:00", "committer_name": "Paul Moore", "committer_email": "paul@paul-moore.com", "committer_company": "Paul-moore", "commit_date": "2019-03-22T15:59:30-04:00", "subject": "selinux: Make selinux_kernfs_init_security static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "security/", "subsystems_touched": ["security/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Paul Moore <paul@paul-moore.com> (Paul-moore)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ondrej Mosnacek <omosnace@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -3386,8 +3386,8 @@ static int selinux_inode_copy_up_xattr(const char *name)\n \n /* kernfs node operations */\n \n-int selinux_kernfs_init_security(struct kernfs_node *kn_dir,\n-\t\t\t\t struct kernfs_node *kn)\n+static int selinux_kernfs_init_security(struct kernfs_node *kn_dir,\n+\t\t\t\t\tstruct kernfs_node *kn)\n {\n \tconst struct task_security_struct *tsec = current_security();\n \tu32 parent_sid, newsid, clen;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/c72c4cde8095aa0e4336cb337dac25d6e347240d"}
{"commit_hash": "d18a7408d7be0f34a120d99051ed5187d9727728", "short_hash": "d18a7408d7be", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:37:08+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-22T22:59:32+01:00", "subject": "clocksource/drivers/clps711x: Make clps711x_clksrc_init() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clocksource", "subsystems_touched": ["drivers/clocksource"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in non-critical driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean commit with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linutronix maintainer"}}, "score_justification": "Sparse warning fix adding static keyword to unused function", "code_snippet": "@@ -93,8 +93,9 @@ static int __init _clps711x_clkevt_init(struct clk *clock, void __iomem *base,\n \t\t\t   \"clps711x-timer\", clkevt);\n }\n \n-void __init clps711x_clksrc_init(void __iomem *tc1_base, void __iomem *tc2_base,\n-\t\t\t\t unsigned int irq)\n+static void __init clps711x_clksrc_init(void __iomem *tc1_base,\n+\t\t\t\t\tvoid __iomem *tc2_base,\n+\t\t\t\t\tunsigned int irq)\n {\n \tstruct clk *tc1 = clk_get_sys(\"clps711x-timer.0\", NULL);\n \tstruct clk *tc2 = clk_get_sys(\"clps711x-timer.1\", NULL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d18a7408d7be0f34a120d99051ed5187d9727728"}
{"commit_hash": "9039de4034775f4420bf01fa879f8c04b3cd6bba", "short_hash": "9039de403477", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:43:59+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-22T22:59:33+01:00", "subject": "clocksource/drivers/mips-gic-timer: Make gic_compare_irqaction static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clocksource", "subsystems_touched": ["drivers/clocksource"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single keyword change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Standard maintainer sign-off, clear sparse fix message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linutronix maintainer applied"}}, "score_justification": "Sparse warning fix adding static keyword to local variable in MIPS clocksource driver", "code_snippet": "@@ -67,7 +67,7 @@ static irqreturn_t gic_compare_interrupt(int irq, void *dev_id)\n \treturn IRQ_HANDLED;\n }\n \n-struct irqaction gic_compare_irqaction = {\n+static struct irqaction gic_compare_irqaction = {\n \t.handler = gic_compare_interrupt,\n \t.percpu_dev_id = &gic_clockevent_device,\n \t.flags = IRQF_PERCPU | IRQF_TIMER,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9039de4034775f4420bf01fa879f8c04b3cd6bba"}
{"commit_hash": "008258d995a637c77c10a5d087d134eed49a6572", "short_hash": "008258d995a6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:43:02+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-22T22:59:33+01:00", "subject": "clocksource/drivers/timer-ti-dm: Make omap_dm_timer_set_load_start() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clocksource", "subsystems_touched": ["drivers/clocksource"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line change fixing sparse warning in driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Maintainer signed off, clear message citing warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linutronix maintainer applied"}}, "score_justification": "Sparse warning fix making function static in TI timer driver", "code_snippet": "@@ -586,8 +586,8 @@ static int omap_dm_timer_set_load(struct omap_dm_timer *timer, int autoreload,\n }\n \n /* Optimized set_load which removes costly spin wait in timer_start */\n-int omap_dm_timer_set_load_start(struct omap_dm_timer *timer, int autoreload,\n-                            unsigned int load)\n+static int omap_dm_timer_set_load_start(struct omap_dm_timer *timer,\n+\t\t\t\t\tint autoreload, unsigned int load)\n {\n \tu32 l;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/008258d995a637c77c10a5d087d134eed49a6572"}
{"commit_hash": "bddee90af621914f08a03d546419fc293e9140d8", "short_hash": "bddee90af621", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:39:40+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-22T22:59:33+01:00", "subject": "clocksource/drivers/tcb_clksrc: Make tc_clksrc_suspend/resume() static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -71,7 +71,7 @@ static u64 tc_get_cycles32(struct clocksource *cs)\n \treturn readl_relaxed(tcaddr + ATMEL_TC_REG(0, CV));\n }\n \n-void tc_clksrc_suspend(struct clocksource *cs)\n+static void tc_clksrc_suspend(struct clocksource *cs)\n {\n \tint i;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/bddee90af621914f08a03d546419fc293e9140d8"}
{"commit_hash": "674a2b27234d1b7afcb0a9162e81b2e53aeef217", "short_hash": "674a2b27234d", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-03-23T11:43:05-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-03-23T11:43:05-04:00", "subject": "ext4: brelse all indirect buffer in ext4_ind_remove_space()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "fs/ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 53, "score_technical": 10, "score_impact": 18, "score_quality": 17, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 7, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Buffer leak fix causing quota corruption, affects many ext4 users"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 2, "atomicity": 2, "subtotal": 17, "details": "Excellent commit with detailed explanation and cross-company review"}, "community": {"cross_org": 4, "maintainer": 2, "response": 2, "subtotal": 8, "details": "Huawei author, MIT committer, SUSE reviewer, internal reporter"}}, "score_justification": "Buffer leak in ext4 indirect block removal causing quota corruption with excellent analysis", "code_snippet": "@@ -1390,10 +1390,14 @@ int ext4_ind_remove_space(handle_t *handle, struct inode *inode,\n \t\t\t\t\t   partial->p + 1,\n \t\t\t\t\t   partial2->p,\n \t\t\t\t\t   (chain+n-1) - partial);\n-\t\t\tBUFFER_TRACE(partial->bh, \"call brelse\");\n-\t\t\tbrelse(partial->bh);\n-\t\t\tBUFFER_TRACE(partial2->bh, \"call brelse\");\n-\t\t\tbrelse(partial2->bh);\n+\t\t\twhile (partial > chain) {\n+\t\t\t\tBUFFER_TRACE(partial->bh, \"call brelse\");\n+\t\t\t\tbrelse(partial->bh);\n+\t\t\t}\n+\t\t\twhile (partial2 > chain2) {\n+\t\t\t\tBUFFER_TRACE(partial2->bh, \"call brelse\");\n+\t\t\t\tbrelse(partial2->bh);\n+\t\t\t}\n \t\t\treturn 0;\n \t\t}\n \n", "flags": ["REPRODUCIBLE_XFSTESTS"], "link": "https://lore.kernel.org/linux-kernel/674a2b27234d1b7afcb0a9162e81b2e53aeef217"}
{"commit_hash": "5e86bdda41534e17621d5a071b294943cae4376e", "short_hash": "5e86bdda4153", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-03-23T11:56:01-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-03-23T11:56:01-04:00", "subject": "ext4: cleanup bh release code in ext4_ind_remove_space()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 22, "deletions": 25, "hunks": 22, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 8, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Refactoring to prevent potential resource leaks"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed by maintainer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, MIT maintainer, SUSE reviewer"}}, "score_justification": "Cleanup refactoring consolidating buffer release code in ext4", "code_snippet": "@@ -1324,16 +1323,14 @@ int ext4_ind_remove_space(handle_t *handle, struct inode *inode,\n \t\t\t\t\t   (__le32 *)partial2->bh->b_data,\n \t\t\t\t\t   partial2->p,\n \t\t\t\t\t   (chain2+n2-1) - partial2);\n-\t\t\tBUFFER_TRACE(partial2->bh, \"call brelse\");\n-\t\t\tbrelse(partial2->bh);\n \t\t\tpartial2--;\n \t\t}\n \t\tgoto do_indirects;\n \t}\n \n \t/* Punch happened within the same level (n == n2) */\n-\tpartial = ext4_find_shared(inode, n, offsets, chain, &nr);\n-\tpartial2 = ext4_find_shared(inode, n2, offsets2, chain2, &nr2);\n+\tpartial = p = ext4_find_shared(inode, n, offsets, chain, &nr);\n+\tpartial2 = p2 = ext4_find_shared(inode, n2, offsets2, chain2, &nr2);\n \n \t/* Free top, but only if partial2 isn't its subtree. */\n \tif (nr) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e86bdda41534e17621d5a071b294943cae4376e"}
{"commit_hash": "75eac7b5f68b0a0671e795ac636457ee27cc11d8", "short_hash": "75eac7b5f68b", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-22T11:04:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-23T21:21:24-04:00", "subject": "net: ethernet: ti: fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/ti"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix in driver"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with coccinelle report, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from ZTE, maintainer David Miller applied"}}, "score_justification": "Object reference leak in error paths of TI ethernet driver probe", "code_snippet": "@@ -3657,12 +3657,16 @@ static int gbe_probe(struct netcp_device *netcp_device, struct device *dev,\n \n \tret = netcp_txpipe_init(&gbe_dev->tx_pipe, netcp_device,\n \t\t\t\tgbe_dev->dma_chan_name, gbe_dev->tx_queue_id);\n-\tif (ret)\n+\tif (ret) {\n+\t\tof_node_put(interfaces);\n \t\treturn ret;\n+\t}\n \n \tret = netcp_txpipe_open(&gbe_dev->tx_pipe);\n-\tif (ret)\n+\tif (ret) {\n+\t\tof_node_put(interfaces);\n \t\treturn ret;\n+\t}\n \n \t/* Create network interfaces */\n \tINIT_LIST_HEAD(&gbe_dev->gbe_intf_head);\n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/75eac7b5f68b0a0671e795ac636457ee27cc11d8"}
{"commit_hash": "be693df3cf9dd113ff1d2c0d8150199efdba37f6", "short_hash": "be693df3cf9d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-22T11:04:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-23T21:21:24-04:00", "subject": "net: ibm: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/ibm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with coccinelle reference, reviewed by maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committed by net maintainer"}}, "score_justification": "Reference leak fix in IBM ethernet driver error path, detected by coccinelle", "code_snippet": "@@ -3160,6 +3160,7 @@ static ssize_t ehea_probe_port(struct device *dev,\n \n \tif (ehea_add_adapter_mr(adapter)) {\n \t\tpr_err(\"creating MR failed\\n\");\n+\t\tof_node_put(eth_dn);\n \t\treturn -EIO;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be693df3cf9dd113ff1d2c0d8150199efdba37f6"}
{"commit_hash": "fa3a419d2f674b431d38748cb58fb7da17ee8949", "short_hash": "fa3a419d2f67", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-22T11:04:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-23T21:21:24-04:00", "subject": "net: xilinx: fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/xilinx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line insert in single driver file"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear explanation with tool detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, netdev maintainer commit"}}, "score_justification": "Device tree reference leak fix in Xilinx ethernet driver, Coccinelle-detected cleanup", "code_snippet": "@@ -1575,12 +1575,14 @@ static int axienet_probe(struct platform_device *pdev)\n \tret = of_address_to_resource(np, 0, &dmares);\n \tif (ret) {\n \t\tdev_err(&pdev->dev, \"unable to get DMA resource\\n\");\n+\t\tof_node_put(np);\n \t\tgoto free_netdev;\n \t}\n \tlp->dma_regs = devm_ioremap_resource(&pdev->dev, &dmares);\n \tif (IS_ERR(lp->dma_regs)) {\n \t\tdev_err(&pdev->dev, \"could not map DMA regs\\n\");\n \t\tret = PTR_ERR(lp->dma_regs);\n+\t\tof_node_put(np);\n \t\tgoto free_netdev;\n \t}\n \tlp->rx_irq = irq_of_parse_and_map(np, 1);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa3a419d2f674b431d38748cb58fb7da17ee8949"}
{"commit_hash": "13f063815265c5397ee92d84436804bc9fb6b58b", "short_hash": "13f063815265", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-24T17:57:07+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-24T10:26:16-06:00", "subject": "blk-mq: use blk_mq_put_driver_tag() to put tag", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 2, "insertions": 2, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 12, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical block layer"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification affecting storage users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.dk maintainer"}}, "score_justification": "Code simplification removing redundant wrapper function in block MQ", "code_snippet": "@@ -324,7 +324,7 @@ static void mq_flush_data_end_io(struct request *rq, blk_status_t error)\n \n \tif (q->elevator) {\n \t\tWARN_ON(rq->tag < 0);\n-\t\tblk_mq_put_driver_tag_hctx(hctx, rq);\n+\t\tblk_mq_put_driver_tag(rq);\n \t}\n \n \t/*\ndiff --git a/block/blk-mq.h b/block/blk-mq.h\nindex 0ed8e5a8729f..d704fc7766f4 100644\n--- a/block/blk-mq.h\n+++ b/block/blk-mq.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/13f063815265c5397ee92d84436804bc9fb6b58b"}
{"commit_hash": "85fae294e1a506b4213668716acb586bd6b4ae1e", "short_hash": "85fae294e1a5", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-24T17:57:08+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-03-24T10:26:17-06:00", "subject": "blk-mq: update comment for blk_mq_hctx_has_pending()", "primary_category": "TRIV-COMMENT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single file, 2 hunks, 3 lines changed (comment only)"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, documentation-only change"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic signed-off-by chain, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, Axboe (kernel.org maintainer) committed"}}, "score_justification": "Comment-only change in block layer to update documentation", "code_snippet": "@@ -59,7 +59,8 @@ static int blk_mq_poll_stats_bkt(const struct request *rq)\n }\n \n /*\n- * Check if any of the ctx's have pending work in this hardware queue\n+ * Check if any of the ctx, dispatch list or elevator\n+ * have pending work in this hardware queue.\n  */\n static bool blk_mq_hctx_has_pending(struct blk_mq_hw_ctx *hctx)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/85fae294e1a506b4213668716acb586bd6b4ae1e"}
{"commit_hash": "7f2daa96759b0700ad28579133aa91bc663632a7", "short_hash": "7f2daa96759b", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-10T01:29:44+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-03-24T22:09:27+01:00", "subject": "x86/resctrl: Remove unused variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel/cpu/resctrl"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 10, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical x86 subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message, maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from ZTE to Linutronix"}}, "score_justification": "Dead variable removal in x86 resctrl, cross-org cleanup", "code_snippet": "@@ -501,11 +501,8 @@ void cqm_handle_limbo(struct work_struct *work)\n void cqm_setup_limbo_handler(struct rdt_domain *dom, unsigned long delay_ms)\n {\n \tunsigned long delay = msecs_to_jiffies(delay_ms);\n-\tstruct rdt_resource *r;\n \tint cpu;\n \n-\tr = &rdt_resources_all[RDT_RESOURCE_L3];\n-\n \tcpu = cpumask_any(&dom->cpu_mask);\n \tdom->cqm_work_cpu = cpu;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f2daa96759b0700ad28579133aa91bc663632a7"}
{"commit_hash": "55e3dacaf538745b7d57dce43b9950687ff878ab", "short_hash": "55e3dacaf538", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T23:16:56+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-25T12:13:10Z", "subject": "spi: atmel-quadspi: Make atmel_qspi_get_name static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single function modifier change in driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Accepted by maintainer, clear sparse warning fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Sparse warning fix adding static to unused function in SPI driver", "code_snippet": "@@ -366,7 +366,7 @@ static int atmel_qspi_exec_op(struct spi_mem *mem, const struct spi_mem_op *op)\n \treturn err;\n }\n \n-const char *atmel_qspi_get_name(struct spi_mem *spimem)\n+static const char *atmel_qspi_get_name(struct spi_mem *spimem)\n {\n \treturn dev_name(spimem->spi->dev.parent);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/55e3dacaf538745b7d57dce43b9950687ff878ab"}
{"commit_hash": "07c2339a91c1ec3a8b8ada00361eced7b153ec0c", "short_hash": "07c2339a91c1", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:25+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:55-03:00", "subject": "RDMA/hns: Hide error print information with roce vf device", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important RDMA driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup removing error message for VF devices"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Dual Signed-off-by, clear explanation, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Mellanox"}}, "score_justification": "Removes spurious error print for unsupported RoCE VF devices", "code_snippet": "@@ -6136,15 +6136,8 @@ static int hns_roce_hw_v2_get_cfg(struct hns_roce_dev *hr_dev,\n \t\t\t\t  struct hnae3_handle *handle)\n {\n \tstruct hns_roce_v2_priv *priv = hr_dev->priv;\n-\tconst struct pci_device_id *id;\n \tint i;\n \n-\tid = pci_match_id(hns_roce_hw_v2_pci_tbl, hr_dev->pci_dev);\n-\tif (!id) {\n-\t\tdev_err(hr_dev->dev, \"device is not compatible!\\n\");\n-\t\treturn -ENXIO;\n-\t}\n-\n \thr_dev->hw = &hns_roce_hw_v2;\n \thr_dev->sdb_offset = ROCEE_DB_SQ_L_0_REG;\n \thr_dev->odb_offset = hr_dev->sdb_offset;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/07c2339a91c1ec3a8b8ada00361eced7b153ec0c"}
{"commit_hash": "5b01b243b0b3725b4460e8924e1f105bb4038969", "short_hash": "5b01b243b0b3", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:24+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:55-03:00", "subject": "RDMA/hns: Only assgin some fields if the relatived attr_mask is set", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 81, "deletions": 71, "hunks": 18, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in infiniband driver with 18 hunks and 152 line changes"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for IB protocol compliance affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Self-committed with clear message explaining protocol compliance but no testing tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer from Mellanox committed"}}, "score_justification": "Refactors QP context field assignments to only set fields when corresponding attr_mask bits are set per IB protocol spec.", "code_snippet": "@@ -3708,15 +3689,6 @@ static int modify_qp_init_to_rtr(struct ib_qp *ibqp,\n \t\troce_set_bit(qpc_mask->byte_28_at_fl, V2_QPC_BYTE_28_LBI_S, 0);\n \t}\n \n-\tif ((attr_mask & IB_QP_MAX_DEST_RD_ATOMIC) &&\n-\t     attr->max_dest_rd_atomic) {\n-\t\troce_set_field(context->byte_140_raq, V2_QPC_BYTE_140_RR_MAX_M,\n-\t\t\t       V2_QPC_BYTE_140_RR_MAX_S,\n-\t\t\t       fls(attr->max_dest_rd_atomic - 1));\n-\t\troce_set_field(qpc_mask->byte_140_raq, V2_QPC_BYTE_140_RR_MAX_M,\n-\t\t\t       V2_QPC_BYTE_140_RR_MAX_S, 0);\n-\t}\n-\n \tif (attr_mask & IB_QP_DEST_QPN) {\n \t\troce_set_field(context->byte_56_dqpn_err, V2_QPC_BYTE_56_DQPN_M,\n \t\t\t       V2_QPC_BYTE_56_DQPN_S, attr->dest_qp_num);", "flags": ["SELF_COMMIT"], "link": "https://lore.kernel.org/linux-kernel/5b01b243b0b3725b4460e8924e1f105bb4038969"}
{"commit_hash": "834fa8cf6f7002706b02873fc0d16f9b06ef4819", "short_hash": "834fa8cf6f70", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:23+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:55-03:00", "subject": "RDMA/hns: Update the range of raq_psn field of qp context", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -719,8 +719,8 @@ struct hns_roce_v2_qp_context {\n #define\tV2_QPC_BYTE_148_RAQ_SYNDROME_S 24\n #define V2_QPC_BYTE_148_RAQ_SYNDROME_M GENMASK(31, 24)\n \n-#define\tV2_QPC_BYTE_152_RAQ_PSN_S 8\n-#define V2_QPC_BYTE_152_RAQ_PSN_M GENMASK(31, 8)\n+#define\tV2_QPC_BYTE_152_RAQ_PSN_S 0\n+#define V2_QPC_BYTE_152_RAQ_PSN_M GENMASK(23, 0)\n \n #define\tV2_QPC_BYTE_152_RAQ_TRRL_RTY_HEAD_S 24\n #define V2_QPC_BYTE_152_RAQ_TRRL_RTY_HEAD_M GENMASK(31, 24)\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/834fa8cf6f7002706b02873fc0d16f9b06ef4819"}
{"commit_hash": "601f3e6d067c4399953dc7ede8f4c5448f91b02a", "short_hash": "601f3e6d067c", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:22+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:55-03:00", "subject": "RDMA/hns: Only assign the fields of the rq psn if IB_QP_RQ_PSN is set", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 12, "hunks": 6, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important IB driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix affecting users of Hisilicon RDMA"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two-person review with good message but no tests"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer committed"}}, "score_justification": "Fixes incorrect rq_psn assignment logic - should only set when IB_QP_RQ_PSN flag is present", "code_snippet": "@@ -3670,13 +3670,6 @@ static int modify_qp_init_to_rtr(struct ib_qp *ibqp,\n \t\t       V2_QPC_BYTE_104_RQ_NXT_BLK_ADDR_M,\n \t\t       V2_QPC_BYTE_104_RQ_NXT_BLK_ADDR_S, 0);\n \n-\troce_set_field(context->byte_108_rx_reqepsn,\n-\t\t       V2_QPC_BYTE_108_RX_REQ_EPSN_M,\n-\t\t       V2_QPC_BYTE_108_RX_REQ_EPSN_S, attr->rq_psn);\n-\troce_set_field(qpc_mask->byte_108_rx_reqepsn,\n-\t\t       V2_QPC_BYTE_108_RX_REQ_EPSN_M,\n-\t\t       V2_QPC_BYTE_108_RX_REQ_EPSN_S, 0);\n-\n \troce_set_field(context->byte_132_trrl, V2_QPC_BYTE_132_TRRL_BA_M,\n \t\t       V2_QPC_BYTE_132_TRRL_BA_S, dma_handle_3 >> 4);\n \troce_set_field(qpc_mask->byte_132_trrl, V2_QPC_BYTE_132_TRRL_BA_M,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/601f3e6d067c4399953dc7ede8f4c5448f91b02a"}
{"commit_hash": "f04cc17878b47bfa47af2e50f481d7f6eaaf3ca7", "short_hash": "f04cc17878b4", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:21+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:55-03:00", "subject": "RDMA/hns: Only assign the relatived fields of psn if IB_QP_SQ_PSN is set", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 46, "deletions": 37, "hunks": 8, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium: 83 lines across 8 hunks in single driver file"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic bug fix in HNS RDMA driver affecting specific hardware users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with context, minimal review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer commit, cross-org involvement"}}, "score_justification": "Bug fix preventing unconditionally setting PSN fields in HNS RoCE driver, only assigns when IB_QP_SQ_PSN flag is set", "code_snippet": "@@ -3886,13 +3886,6 @@ static int modify_qp_rtr_to_rts(struct ib_qp *ibqp,\n \t\t       V2_QPC_BYTE_240_RX_ACK_MSN_M,\n \t\t       V2_QPC_BYTE_240_RX_ACK_MSN_S, 0);\n \n-\troce_set_field(context->byte_244_rnr_rxack,\n-\t\t       V2_QPC_BYTE_244_RX_ACK_EPSN_M,\n-\t\t       V2_QPC_BYTE_244_RX_ACK_EPSN_S, attr->sq_psn);\n-\troce_set_field(qpc_mask->byte_244_rnr_rxack,\n-\t\t       V2_QPC_BYTE_244_RX_ACK_EPSN_M,\n-\t\t       V2_QPC_BYTE_244_RX_ACK_EPSN_S, 0);\n-\n \troce_set_field(qpc_mask->byte_248_ack_psn,\n \t\t       V2_QPC_BYTE_248_ACK_LAST_OPTYPE_M,\n \t\t       V2_QPC_BYTE_248_ACK_LAST_OPTYPE_S, 0);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f04cc17878b47bfa47af2e50f481d7f6eaaf3ca7"}
{"commit_hash": "82342e493b7e53f5e0d0698a48190f05e84d6690", "short_hash": "82342e493b7e", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:26+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T20:59:56-03:00", "subject": "RDMA/hns: Bugfix for sending with invalidate", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e93df0108579 (\"RDMA/hns: Support local invalidate for hip08 in kernel space\")", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in tier-3 driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for RDMA driver affecting hardware users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit with Fixes tag but no external review/testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer, cross-org commit"}}, "score_justification": "Protocol compliance bug fix in RDMA driver, cross-org review", "code_snippet": "@@ -2150,7 +2150,7 @@ static int hns_roce_v2_write_mtpt(void *mb_buf, struct hns_roce_mr *mr,\n \t\t       V2_MPT_BYTE_4_PD_S, mr->pd);\n \n \troce_set_bit(mpt_entry->byte_8_mw_cnt_en, V2_MPT_BYTE_8_RA_EN_S, 0);\n-\troce_set_bit(mpt_entry->byte_8_mw_cnt_en, V2_MPT_BYTE_8_R_INV_EN_S, 1);\n+\troce_set_bit(mpt_entry->byte_8_mw_cnt_en, V2_MPT_BYTE_8_R_INV_EN_S, 0);\n \troce_set_bit(mpt_entry->byte_8_mw_cnt_en, V2_MPT_BYTE_8_L_INV_EN_S, 1);\n \troce_set_bit(mpt_entry->byte_8_mw_cnt_en, V2_MPT_BYTE_8_BIND_EN_S,\n \t\t     (mr->access & IB_ACCESS_MW_BIND ? 1 : 0));\n", "flags": ["REGRESSION_FIX"], "link": "https://lore.kernel.org/linux-kernel/82342e493b7e53f5e0d0698a48190f05e84d6690"}
{"commit_hash": "d0a935563bc0f447abed7799388fa3f13099cc0d", "short_hash": "d0a935563bc0", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-02-23T20:01:28+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-03-25T21:11:30-03:00", "subject": "RDMA/hns: Delete unused variable in hns_roce_v2_modify_qp function", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny change in RDMA driver (tier 3)"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup affecting HiSilicon RDMA users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple message with dual sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Dead variable removal in HiSilicon RoCE driver with cross-org review", "code_snippet": "@@ -3970,7 +3970,6 @@ static int hns_roce_v2_modify_qp(struct ib_qp *ibqp,\n \t\tconst struct ib_global_route *grh =\n \t\t\t\t\t    rdma_ah_read_grh(&attr->ah_attr);\n \t\tconst struct ib_gid_attr *gid_attr = NULL;\n-\t\tu8 src_mac[ETH_ALEN];\n \t\tint is_roce_protocol;\n \t\tu16 vlan = 0xffff;\n \t\tu8 ib_port;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0a935563bc0f447abed7799388fa3f13099cc0d"}
{"commit_hash": "3aa222cdfc2c90b97539e8f4e70a4aec0b1258a6", "short_hash": "3aa222cdfc2c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T01:45:17Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-25T22:07:10-04:00", "subject": "scsi: ufs-mediatek: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line deletion in SCSI UFS driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Coccinelle-generated with proper review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mediatek reviewer, Oracle committer"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -355,7 +355,6 @@ static struct platform_driver ufs_mtk_pltform = {\n \t.shutdown   = ufshcd_pltfrm_shutdown,\n \t.driver = {\n \t\t.name   = \"ufshcd-mtk\",\n-\t\t.owner  = THIS_MODULE,\n \t\t.pm     = &ufs_mtk_pm_ops,\n \t\t.of_match_table = ufs_mtk_of_match,\n \t},\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/3aa222cdfc2c90b97539e8f4e70a4aec0b1258a6"}
{"commit_hash": "a4b207dea9783bbf60af03d6f2c8080b0cee0543", "short_hash": "a4b207dea978", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-23T02:15:59Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-25T22:20:52-04:00", "subject": "scsi: pm8001: remove set but not used variables 'param, sas_ha'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jack Wang <jinpu.wang@cloud.ionos.com> (Ionos)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Removes 2 unused variables in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by, clear warning message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer, Ionos reviewer"}}, "score_justification": "Removes unused variables to fix gcc warnings in SCSI driver", "code_snippet": "@@ -2898,7 +2898,6 @@ static void mpi_sata_event(struct pm8001_hba_info *pm8001_ha , void *piomb)\n static void\n mpi_smp_completion(struct pm8001_hba_info *pm8001_ha, void *piomb)\n {\n-\tu32 param;\n \tstruct sas_task *t;\n \tstruct pm8001_ccb_info *ccb;\n \tunsigned long flags;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4b207dea9783bbf60af03d6f2c8080b0cee0543"}
{"commit_hash": "6da88a82df758de32c2346084b08c18b692481b0", "short_hash": "6da88a82df75", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-03-25T06:31:09Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-26T11:39:37-07:00", "subject": "tipc: fix return value check in tipc_mcast_send_sync()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c55c8edafa91 (\"tipc: smooth change between replicast and broadcast\")", "cc_stable": false, "subsystem_prefix": "net/tipc", "subsystems_touched": ["net/tipc"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jon Maloy <jon.maloy@ericsson.com> (Ericsson)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic fix with Fixes tag, affects TIPC users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Cross-org review with good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer commit, external report"}}, "score_justification": "Wrong variable check in TIPC networking code, cross-org fix", "code_snippet": "@@ -329,7 +329,7 @@ static int tipc_mcast_send_sync(struct net *net, struct sk_buff *skb,\n \n \t/* Allocate dummy message */\n \t_skb = tipc_buf_acquire(MCAST_H_SIZE, GFP_KERNEL);\n-\tif (!skb)\n+\tif (!_skb)\n \t\treturn -ENOMEM;\n \n \t/* Preparing for 'synching' header */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6da88a82df758de32c2346084b08c18b692481b0"}
{"commit_hash": "01ca667133d019edc9f0a1f70a272447c84ec41f", "short_hash": "01ca667133d0", "author_name": "Yue Haibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T22:42:23+08:00", "committer_name": "Jeff Kirsher", "committer_email": "jeffrey.t.kirsher@intel.com", "committer_company": "Intel", "commit_date": "2019-03-26T16:19:33-07:00", "subject": "fm10k: Fix a potential NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0a38c17a21a0 (\"fm10k: Remove create_workqueue\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/intel/fm10k"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "Jeff Kirsher <jeffrey.t.kirsher@intel.com> (Intel)"], "reviewed_by": [], "tested_by": ["Andrew Bowers <andrewx.bowers@intel.com> (Intel)"], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 49, "score_technical": 8, "score_impact": 20, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2 lines added in network driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "NULL pointer crash fix with reported symptom"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 15, "details": "Has Fixes/Reported-by/Tested-by tags with detailed stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Intel maintainer, internal robot report"}}, "score_justification": "NULL pointer dereference crash fix in Intel network driver with cross-org review and syzbot report", "code_snippet": "@@ -41,6 +41,8 @@ static int __init fm10k_init_module(void)\n \t/* create driver workqueue */\n \tfm10k_workqueue = alloc_workqueue(\"%s\", WQ_MEM_RECLAIM, 0,\n \t\t\t\t\t  fm10k_driver_name);\n+\tif (!fm10k_workqueue)\n+\t\treturn -ENOMEM;\n \n \tfm10k_dbg_init();\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01ca667133d019edc9f0a1f70a272447c84ec41f"}
{"commit_hash": "03d8bfc13089e657faf2ea73884ec3c726d8a6f9", "short_hash": "03d8bfc13089", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:39+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:12+09:00", "subject": "usb: mtu3: check return value of devm_extcon_register_notifier()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 16, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource handling fix for USB driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with author tags only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Missing error return handling for notifier registration in USB driver", "code_snippet": "@@ -238,14 +238,18 @@ static int ssusb_extcon_register(struct otg_switch_mtk *otg_sx)\n \totg_sx->vbus_nb.notifier_call = ssusb_vbus_notifier;\n \tret = devm_extcon_register_notifier(ssusb->dev, edev, EXTCON_USB,\n \t\t\t\t\t&otg_sx->vbus_nb);\n-\tif (ret < 0)\n+\tif (ret < 0) {\n \t\tdev_err(ssusb->dev, \"failed to register notifier for USB\\n\");\n+\t\treturn ret;\n+\t}\n \n \totg_sx->id_nb.notifier_call = ssusb_id_notifier;\n \tret = devm_extcon_register_notifier(ssusb->dev, edev, EXTCON_USB_HOST,\n \t\t\t\t\t&otg_sx->id_nb);\n-\tif (ret < 0)\n+\tif (ret < 0) {\n \t\tdev_err(ssusb->dev, \"failed to register notifier for USB-HOST\\n\");\n+\t\treturn ret;\n+\t}\n \n \tdev_dbg(ssusb->dev, \"EXTCON_USB: %d, EXTCON_USB_HOST: %d\\n\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03d8bfc13089e657faf2ea73884ec3c726d8a6f9"}
{"commit_hash": "48e0d3735aa557a8adaf94632ca3cf78798e8505", "short_hash": "48e0d3735aa5", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:45+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: supports new QMU format", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 6, "insertions": 66, "deletions": 22, "hunks": 28, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 14, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium changes across 6 files in USB driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "Hardware support enhancement for U3gen2 ISOC transfer"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author committed by kernel.org maintainer"}}, "score_justification": "Hardware support enhancement extending QMU format for U3gen2 ISOC transfer up to 96DPs", "code_snippet": "@@ -148,22 +148,23 @@ struct mtu3_fifo_info {\n  *\tbit0: Hardware Own (HWO)\n  *\tbit1: Buffer Descriptor Present (BDP), always 0, BD is not supported\n  *\tbit2: Bypass (BPS), 1: HW skips this GPD if HWO = 1\n+ *\tbit6: [EL] Zero Length Packet (ZLP), moved from @dw3_info[29]\n  *\tbit7: Interrupt On Completion (IOC)\n- *\tbit[31:16]: allow data buffer length (RX ONLY),\n+ *\tbit[31:16]: ([EL] bit[31:12]) allow data buffer length (RX ONLY),\n  *\t\tthe buffer length of the data to receive\n- *\tbit[23:16]: extension address (TX ONLY),\n+ *\tbit[23:16]: ([EL] bit[31:24]) extension address (TX ONLY),\n  *\t\tlower 4 bits are extension bits of @buffer,\n  *\t\tupper 4 bits are extension bits of @next_gpd\n  * @next_gpd: Physical address of the next GPD\n  * @buffer: Physical address of the data buffer\n  * @dw3_info:\n- *\tbit[15:0]: data buffer length,\n+ *\tbit[15:0]: ([EL] bit[19:0]) data buffer length,\n  *\t\t(TX): the buffer length of the data to transmit\n  *\t\t(RX): The total length of data received", "flags": [], "link": "https://lore.kernel.org/linux-kernel/48e0d3735aa557a8adaf94632ca3cf78798e8505"}
{"commit_hash": "09befc326eea250cf6a3175114e1578d498a21ea", "short_hash": "09befc326eea", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:44+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: rebuild qmu_gpd struct to prepare to support new QMU format", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 42, "deletions": 59, "hunks": 26, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 14, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in USB driver with 26 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Feature prep for USB3 Gen2 ISOC support"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain, clear purpose, no tests"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Single org, maintainer committed, proactive change"}}, "score_justification": "", "code_snippet": "@@ -144,45 +144,32 @@ struct mtu3_fifo_info {\n  *\tThe format of TX GPD is a little different from RX one.\n  *\tAnd the size of GPD is 16 bytes.\n  *\n- * @flag:\n+ * @dw0_info:\n  *\tbit0: Hardware Own (HWO)\n  *\tbit1: Buffer Descriptor Present (BDP), always 0, BD is not supported\n  *\tbit2: Bypass (BPS), 1: HW skips this GPD if HWO = 1\n  *\tbit7: Interrupt On Completion (IOC)\n- * @chksum: This is used to validate the contents of this GPD;\n- *\tIf TXQ_CS_EN / RXQ_CS_EN bit is set, an interrupt is issued\n- *\twhen checksum validation fails;\n- *\tChecksum value is calculated over the 16 bytes of the GPD by default;\n- * @data_buf_len (RX ONLY): This value indicates the length of\n- *\tthe assigned data buffer\n- * @tx_ext_addr (TX ONLY): [3:0] are 4 extension bits of @buffer,\n- *\t[7:4] are 4 extension bits of @next_gpd\n+ *\tbit[31:16]: allow data buffer length (RX ONLY),\n+ *\t\tthe buffer length of the data to receive", "flags": [], "link": "https://lore.kernel.org/linux-kernel/09befc326eea250cf6a3175114e1578d498a21ea"}
{"commit_hash": "4c5964b4c2cbeca2f61e93bb004416bd9c1f1145", "short_hash": "4c5964b4c2cb", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:43+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: fix transfer error of USB3 Gen2 isoc", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/mtu3", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 51, "deletions": 10, "hunks": 22, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 3 files, 22 hunks in USB driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Logic fix for USB3 Gen2 isoc support, affects driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review chain, good message with context, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Mediatek) and committer (Linux Foundation) different"}}, "score_justification": "Hardware compatibility fix for USB3 Gen2 isochronous transfers requiring register layout changes", "code_snippet": "@@ -62,6 +62,15 @@ struct mtu3_request;\n #define MTU3_U3_IP_SLOT_DEFAULT 2\n #define MTU3_U2_IP_SLOT_DEFAULT 1\n \n+/**\n+ * IP TRUNK version\n+ * from 0x1003 version, USB3 Gen2 is supported, two changes affect driver:\n+ * 1. MAXPKT and MULTI bits layout of TXCSR1 and RXCSR1 are adjusted,\n+ *    but not backward compatible\n+ * 2. QMU extend buffer length supported\n+ */\n+#define MTU3_TRUNK_VERS_1003\t0x1003\n+\n /**\n  * Normally the device works on HS or SS, to simplify fifo management,\n  * devide fifo into some 512B parts, use bitmap to manage it; And", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c5964b4c2cbeca2f61e93bb004416bd9c1f1145"}
{"commit_hash": "918f0f2361e919ac7e0923a96bb7fe1b2ddea86c", "short_hash": "918f0f2361e9", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:42+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: rebuild the code of getting vbus regulator", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change removing local variable in USB driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with signed-off tags only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from Linux Foundation"}}, "score_justification": "Minor code simplification removing unnecessary local variable in USB driver", "code_snippet": "@@ -228,7 +228,6 @@ static int get_ssusb_rscs(struct platform_device *pdev, struct ssusb_mtk *ssusb)\n \tstruct device_node *node = pdev->dev.of_node;\n \tstruct otg_switch_mtk *otg_sx = &ssusb->otg_switch;\n \tstruct device *dev = &pdev->dev;\n-\tstruct regulator *vbus;\n \tstruct resource *res;\n \tint i;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/918f0f2361e919ac7e0923a96bb7fe1b2ddea86c"}
{"commit_hash": "13d944ebdc02703a94c1d446078a4bc3f9996883", "short_hash": "13d944ebdc02", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:41+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: remove unnecessary local variable @req", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup in USB driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single sign-off, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Linux Foundation maintainer"}}, "score_justification": "Minor code simplification removing unnecessary variable in USB driver", "code_snippet": "@@ -382,16 +382,13 @@ static void qmu_tx_zlp_error_handler(struct mtu3 *mtu, u8 epnum)\n \tstruct mtu3_gpd_ring *ring = &mep->gpd_ring;\n \tvoid __iomem *mbase = mtu->mac_base;\n \tstruct qmu_gpd *gpd_current = NULL;\n-\tstruct usb_request *req = NULL;\n \tstruct mtu3_request *mreq;\n \tdma_addr_t cur_gpd_dma;\n \tu32 txcsr = 0;\n \tint ret;\n \n \tmreq = next_request(mep);\n-\tif (mreq && mreq->request.length == 0)\n-\t\treq = &mreq->request;\n-\telse\n+\tif (mreq && mreq->request.length != 0)\n \t\treturn;\n \n \tcur_gpd_dma = read_txq_cur_addr(mbase, epnum);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/13d944ebdc02703a94c1d446078a4bc3f9996883"}
{"commit_hash": "c858b4f373825062d9fae84e6918cbfeaa8e9534", "short_hash": "c858b4f37382", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:40+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:13+09:00", "subject": "usb: mtu3: print useful information also for device and host modes", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for MediaTek USB driver"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review with minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from Linux Foundation"}}, "score_justification": "Enhances debug output for MediaTek USB3 driver in device/host modes", "code_snippet": "@@ -286,7 +286,7 @@ static int get_ssusb_rscs(struct platform_device *pdev, struct ssusb_mtk *ssusb)\n \t\tssusb->dr_mode = USB_DR_MODE_OTG;\n \n \tif (ssusb->dr_mode == USB_DR_MODE_PERIPHERAL)\n-\t\treturn 0;\n+\t\tgoto out;\n \n \t/* if host role is supported */\n \tret = ssusb_wakeup_of_property_parse(ssusb, node);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c858b4f373825062d9fae84e6918cbfeaa8e9534"}
{"commit_hash": "f926da42218c9d6a6e34a314cd5c9535bcd81627", "short_hash": "f926da42218c", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:14+09:00", "subject": "usb: mtu3: add a function to switch mailbox state to string", "primary_category": "FEAT-TRACE", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 18, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small addition in USB driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Debug tracing enhancement for developers"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, different maintainer"}}, "score_justification": "Debug helper function for USB driver logging readability", "code_snippet": "@@ -21,6 +21,22 @@ enum mtu3_vbus_id_state {\n \tMTU3_VBUS_VALID,\n };\n \n+static char *mailbox_state_string(enum mtu3_vbus_id_state state)\n+{\n+\tswitch (state) {\n+\tcase MTU3_ID_FLOAT:\n+\t\treturn \"ID_FLOAT\";\n+\tcase MTU3_ID_GROUND:\n+\t\treturn \"ID_GROUND\";\n+\tcase MTU3_VBUS_OFF:\n+\t\treturn \"VBUS_OFF\";\n+\tcase MTU3_VBUS_VALID:\n+\t\treturn \"VBUS_VALID\";\n+\tdefault:\n+\t\treturn \"UNKNOWN\";\n+\t}\n+}\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f926da42218c9d6a6e34a314cd5c9535bcd81627"}
{"commit_hash": "83374e035b6286731c5aa617844c7b724294c2a7", "short_hash": "83374e035b62", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:48+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:14+09:00", "subject": "usb: mtu3: add tracepoints to help debug", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 4, "files_changed": 9, "insertions": 347, "deletions": 1, "hunks": 54, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 14, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 10, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 14, "details": "9 files, 54 hunks, 347 insertions adding new trace infrastructure"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "New tracing feature for specific USB driver helps developers debug"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean message, but minimal review chain, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Mediatek, maintainer Greg KH committed"}}, "score_justification": "Adds comprehensive tracepoint infrastructure to mtu3 USB driver for debugging", "code_snippet": "@@ -2,10 +2,17 @@\n \n ccflags-$(CONFIG_USB_MTU3_DEBUG)\t+= -DDEBUG\n \n+# define_trace.h needs to know how to find our header\n+CFLAGS_mtu3_trace.o\t:= -I$(src)\n+\n obj-$(CONFIG_USB_MTU3)\t+= mtu3.o\n \n mtu3-y\t:= mtu3_plat.o\n \n+ifneq ($(CONFIG_TRACING),)\n+\tmtu3-y\t+= mtu3_trace.o\n+endif\n+\n ifneq ($(filter y,$(CONFIG_USB_MTU3_HOST) $(CONFIG_USB_MTU3_DUAL_ROLE)),)\n \tmtu3-y\t+= mtu3_host.o\n endif\ndiff --git a/drivers/usb/mtu3/mtu3_core.c b/drivers/usb/mtu3/mtu3_core.c\nindex f106fe81ae10..f8bd1d57e795 100644", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83374e035b6286731c5aa617844c7b724294c2a7"}
{"commit_hash": "4aab6ad24a101b9fa3779acc27eefd8a730a6f63", "short_hash": "4aab6ad24a10", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:47+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:14+09:00", "subject": "usb: mtu3: move vbus and mode debugfs interfaces into mtu3_debugfs.c", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 110, "deletions": 110, "hunks": 18, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 12, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor: 4 files, 18 hunks, 220 lines in USB driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code reorganization with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single Signed-off-by, clear rationale, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Linux Foundation committer"}}, "score_justification": "Refactor moving debugfs interfaces between files in mtu3 driver", "code_snippet": "@@ -27,11 +27,13 @@ struct mtu3_file_map {\n \n #if IS_ENABLED(CONFIG_DEBUG_FS)\n void ssusb_dev_debugfs_init(struct ssusb_mtk *ssusb);\n+void ssusb_dr_debugfs_init(struct ssusb_mtk *ssusb);\n void ssusb_debugfs_create_root(struct ssusb_mtk *ssusb);\n void ssusb_debugfs_remove_root(struct ssusb_mtk *ssusb);\n \n #else\n static inline void ssusb_dev_debugfs_init(struct ssusb_mtk *ssusb) {}\n+static inline void ssusb_dr_debugfs_init(struct ssusb_mtk *ssusb) {}\n static inline void ssusb_debugfs_create_root(struct ssusb_mtk *ssusb) {}\n static inline void ssusb_debugfs_remove_root(struct ssusb_mtk *ssusb) {}\n \ndiff --git a/drivers/usb/mtu3/mtu3_debugfs.c b/drivers/usb/mtu3/mtu3_debugfs.c\nindex 7cb1cad5a4b3..62c57ddc554e 100644\n--- a/drivers/usb/mtu3/mtu3_debugfs.c\n+++ b/drivers/usb/mtu3/mtu3_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4aab6ad24a101b9fa3779acc27eefd8a730a6f63"}
{"commit_hash": "ae07809255d3e3419205b673aba6d1dce16a0d65", "short_hash": "ae07809255d3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:53:46+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:40:14+09:00", "subject": "usb: mtu3: add debugfs interface files", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 7, "insertions": 503, "deletions": 13, "hunks": 32, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 14, "score_impact": 11, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "New 438-line debugfs file, 7 files modified, 32 hunks"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 11, "details": "Debug feature for driver developers only, not runtime critical"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two Signed-off-by tags, clear message but no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author to LinuxFoundation maintainer, cross-org"}}, "score_justification": "New debugfs interface for MediaTek USB driver with register dumps and runtime status", "code_snippet": "@@ -900,6 +901,8 @@ int ssusb_gadget_init(struct ssusb_mtk *ssusb)\n \tif (mtu->ssusb->dr_mode == USB_DR_MODE_OTG)\n \t\tmtu3_stop(mtu);\n \n+\tssusb_dev_debugfs_init(ssusb);\n+\n \tdev_dbg(dev, \" %s() done...\\n\", __func__);\n \n \treturn 0;\ndiff --git a/drivers/usb/mtu3/mtu3_debug.h b/drivers/usb/mtu3/mtu3_debug.h\nnew file mode 100644\nindex 000000000000..94d39b00403e\n--- /dev/null\n+++ b/drivers/usb/mtu3/mtu3_debug.h", "flags": ["NEW_FILE"], "link": "https://lore.kernel.org/linux-kernel/ae07809255d3e3419205b673aba6d1dce16a0d65"}
{"commit_hash": "2a738137b4c2dfddae03cd44f5b5f24f745c2864", "short_hash": "2a738137b4c2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:12:02+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:42:53+09:00", "subject": "usb: typec: fusb302: Make fusb302_irq_work static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/typec"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Guenter Roeck <linux@roeck-us.net> (Roeck-us)", "Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)", "Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, 2 lines changed in USB driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "3 Reviewed-by tags, explains sparse warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer, Intel/Codeaurora reviewers"}}, "score_justification": "Sparse warning fix adding static to function in USB driver, well-reviewed.", "code_snippet": "@@ -1451,7 +1451,7 @@ static irqreturn_t fusb302_irq_intn(int irq, void *dev_id)\n \treturn IRQ_HANDLED;\n }\n \n-void fusb302_irq_work(struct work_struct *work)\n+static void fusb302_irq_work(struct work_struct *work)\n {\n \tstruct fusb302_chip *chip = container_of(work, struct fusb302_chip,\n \t\t\t\t\t\t irq_work);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a738137b4c2dfddae03cd44f5b5f24f745c2864"}
{"commit_hash": "4d537f37e0d39f64687be71087dca607ee507f5a", "short_hash": "4d537f37e0d3", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:27:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-26T16:45:03+09:00", "subject": "usb: introduce usb_ep_type_string() function", "primary_category": "MAINT-DUP", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/common", "drivers/usb/core", "drivers/usb/gadget"], "subsystem_tier": 3, "files_changed": 5, "insertions": 28, "deletions": 35, "hunks": 12, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 14, "score_impact": 10, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 14, "details": "5 files, 12 hunks, medium refactor in USB subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 10, "details": "Code deduplication with minor runtime impact"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-documented API addition, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "New USB API function consolidates repeated endpoint type string conversion code across drivers", "code_snippet": "@@ -16,6 +16,22 @@\n #include <linux/usb/otg.h>\n #include <linux/of_platform.h>\n \n+static const char *const ep_type_names[] = {\n+\t[USB_ENDPOINT_XFER_CONTROL] = \"ctrl\",\n+\t[USB_ENDPOINT_XFER_ISOC] = \"isoc\",\n+\t[USB_ENDPOINT_XFER_BULK] = \"bulk\",\n+\t[USB_ENDPOINT_XFER_INT] = \"intr\",\n+};\n+\n+const char *usb_ep_type_string(int ep_type)\n+{\n+\tif (ep_type < 0 || ep_type >= ARRAY_SIZE(ep_type_names))\n+\t\treturn \"unknown\";\n+\n+\treturn ep_type_names[ep_type];\n+}\n+EXPORT_SYMBOL_GPL(usb_ep_type_string);\n+", "flags": ["EXPORT_SYMBOL_GPL", "DEDUPLICATION"], "link": "https://lore.kernel.org/linux-kernel/4d537f37e0d39f64687be71087dca607ee507f5a"}
{"commit_hash": "9e0a17db517d83d568bb7fa983b54759d4e34f1f", "short_hash": "9e0a17db517d", "author_name": "Chen Zhou", "author_email": "chenzhou10@huawei.com", "author_company": "Huawei", "author_date": "2019-03-27T21:51:16+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-03-27T18:12:41Z", "subject": "arm64: replace memblock_alloc_low with memblock_alloc", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chen Zhou <chenzhou10@huawei.com> (Huawei)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 20, "score_quality": 9, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Minimal 1-line fix in critical arch code"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Panic fix for kdump crashkernel above 4G"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed panic trace and context"}, "community": {"cross_org": 3, "maintainer": 3, "response": 1, "subtotal": 7, "details": "Huawei author, Arm maintainer commit"}}, "score_justification": "Kernel panic fix for arm64 kdump when crashkernel above 4G", "code_snippet": "@@ -217,7 +217,7 @@ static void __init request_standard_resources(void)\n \n \tnum_standard_resources = memblock.memory.cnt;\n \tres_size = num_standard_resources * sizeof(*standard_resources);\n-\tstandard_resources = memblock_alloc_low(res_size, SMP_CACHE_BYTES);\n+\tstandard_resources = memblock_alloc(res_size, SMP_CACHE_BYTES);\n \tif (!standard_resources)\n \t\tpanic(\"%s: Failed to allocate %zu bytes\\n\", __func__, res_size);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e0a17db517d83d568bb7fa983b54759d4e34f1f"}
{"commit_hash": "82129697df9d90afd22736acd89d24f98bde2522", "short_hash": "82129697df9d", "author_name": "tangwenji", "author_email": "tang.wenji@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-27T21:59:06+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-27T20:33:07-04:00", "subject": "scsi: target: alua: fix the tg_pt_gps_count", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/target"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["tangwenji <tang.wenji@zte.com.cn> (ZTE)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Mike Christie <mchristi@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical SCSI target subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Logic fix for SCSI ALUA, affects storage users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by present, basic commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company (ZTE->Oracle), maintainer committed"}}, "score_justification": "Wrong counter decremented in SCSI ALUA group cleanup, cross-company review", "code_snippet": "@@ -1760,8 +1760,10 @@ void core_alua_free_tg_pt_gp(\n \t * can be made while we are releasing struct t10_alua_tg_pt_gp.\n \t */\n \tspin_lock(&dev->t10_alua.tg_pt_gps_lock);\n-\tlist_del(&tg_pt_gp->tg_pt_gp_list);\n-\tdev->t10_alua.alua_tg_pt_gps_counter--;\n+\tif (tg_pt_gp->tg_pt_gp_valid_id) {\n+\t\tlist_del(&tg_pt_gp->tg_pt_gp_list);\n+\t\tdev->t10_alua.alua_tg_pt_gps_count--;\n+\t}\n \tspin_unlock(&dev->t10_alua.tg_pt_gps_lock);\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/82129697df9d90afd22736acd89d24f98bde2522"}
{"commit_hash": "70fc085c5015c54a7b8742a45fc9ab05d6da90da", "short_hash": "70fc085c5015", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T10:56:46+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-27T21:21:07-04:00", "subject": "scsi: core: Run queue when state is set to running after being blocked", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Ming Lei <ming.lei@redhat.com> (Redhat)", "Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 18, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 6-line change in SCSI subsystem sysfs code"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "I/O hang fix affecting SCSI device users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Reproduction steps, detailed explanation, 2 reviewers"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Oracle committer, Red Hat/ACM reviewers"}}, "score_justification": "SCSI device I/O hang fix when transitioning from blocked to running state", "code_snippet": "@@ -771,6 +771,12 @@ store_state_field(struct device *dev, struct device_attribute *attr,\n \n \tmutex_lock(&sdev->state_mutex);\n \tret = scsi_device_set_state(sdev, state);\n+\t/*\n+\t * If the device state changes to SDEV_RUNNING, we need to run\n+\t * the queue to avoid I/O hang.\n+\t */\n+\tif (ret == 0 && state == SDEV_RUNNING)\n+\t\tblk_mq_run_hw_queues(sdev->request_queue, true);\n \tmutex_unlock(&sdev->state_mutex);\n \n \treturn ret == 0 ? count : -EINVAL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70fc085c5015c54a7b8742a45fc9ab05d6da90da"}
{"commit_hash": "155f425025fd8c7cd47170fc832c8d40f3da5fe5", "short_hash": "155f425025fd", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-27T14:27:05+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-03-27T21:39:53-04:00", "subject": "scsi: MAINTAINERS: Add maintainer for MediaTek UFS driver", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 6, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -15971,6 +15971,13 @@ L:\tlinux-scsi@vger.kernel.org\n S:\tSupported\n F:\tdrivers/scsi/ufs/*dwc*\n \n+UNIVERSAL FLASH STORAGE HOST CONTROLLER DRIVER MEDIATEK HOOKS\n+M:\tStanley Chu <stanley.chu@mediatek.com>\n+L:\tlinux-scsi@vger.kernel.org\n+L:\tlinux-mediatek@lists.infradead.org (moderated for non-subscribers)\n+S:\tMaintained\n+F:\tdrivers/scsi/ufs/ufs-mediatek*\n+\n UNSORTED BLOCK IMAGES (UBI)\n M:\tArtem Bityutskiy <dedekind1@gmail.com>\n M:\tRichard Weinberger <richard@nod.at>\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/155f425025fd8c7cd47170fc832c8d40f3da5fe5"}
{"commit_hash": "669efc76b317b3aa550ffbf0b79d064cb00a5f96", "short_hash": "669efc76b317", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-03-26T14:53:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-27T22:47:58-07:00", "subject": "net: hns3: fix compile error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 10, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small build fix in network driver"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 10, "details": "Fixes compilation affecting hns3 users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with specific error"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer merged"}}, "score_justification": "Build path fix for Kbuild compilation error in hns3 driver", "code_snippet": "@@ -3,7 +3,7 @@\n # Makefile for the HISILICON network device drivers.\n #\n \n-ccflags-y := -Idrivers/net/ethernet/hisilicon/hns3\n+ccflags-y := -I $(srctree)/drivers/net/ethernet/hisilicon/hns3\n \n obj-$(CONFIG_HNS3_HCLGE) += hclge.o\n hclge-objs = hclge_main.o hclge_cmd.o hclge_mdio.o hclge_tm.o hclge_mbx.o hclge_err.o  hclge_debugfs.o\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/Makefile b/drivers/net/ethernet/hisilicon/hns3/hns3vf/Makefile\nindex fb93bbd35845..6193f8fa7cf3 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/Makefile\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/669efc76b317b3aa550ffbf0b79d064cb00a5f96"}
{"commit_hash": "898a737c8a436b2fcd6dcb0b57775ada2f846a26", "short_hash": "898a737c8a43", "author_name": "Erin Lo", "author_email": "erin.lo@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-11T16:54:31+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-28T00:27:48+09:00", "subject": "dt-bindings: serial: Add compatible for Mediatek MT8183", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 9, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Minimal 1-line addition to DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New hardware support documentation for MT8183 SoC"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by DT maintainers, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "DT binding doc addition for MT8183 UART with proper acks", "code_snippet": "@@ -16,6 +16,7 @@ Required properties:\n   * \"mediatek,mt8127-uart\" for MT8127 compatible UARTS\n   * \"mediatek,mt8135-uart\" for MT8135 compatible UARTS\n   * \"mediatek,mt8173-uart\" for MT8173 compatible UARTS\n+  * \"mediatek,mt8183-uart\", \"mediatek,mt6577-uart\" for MT8183 compatible UARTS\n   * \"mediatek,mt6577-uart\" for MT6577 and all of the above\n \n - reg: The base address of the UART register bank.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/898a737c8a436b2fcd6dcb0b57775ada2f846a26"}
{"commit_hash": "9828def35a366fc1045cb794d99b6b12de89fa70", "short_hash": "9828def35a36", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:16:46+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-28T00:29:03+09:00", "subject": "serial: 8250_fintek: Make fintek_8250_set_termios static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -303,8 +303,9 @@ static void fintek_8250_goto_highspeed(struct uart_8250_port *uart,\n \t}\n }\n \n-void fintek_8250_set_termios(struct uart_port *port, struct ktermios *termios,\n-\t\t\tstruct ktermios *old)\n+static void fintek_8250_set_termios(struct uart_port *port,\n+\t\t\t\t    struct ktermios *termios,\n+\t\t\t\t    struct ktermios *old)\n {\n \tstruct fintek_8250 *pdata = port->private_data;\n \tunsigned int baud = tty_termios_baud_rate(termios);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/9828def35a366fc1045cb794d99b6b12de89fa70"}
{"commit_hash": "21c75ad65f8e5213ec542d99c259ffe3e3671e81", "short_hash": "21c75ad65f8e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T16:26:28+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-28T01:35:11+09:00", "subject": "parport_cs: Fix memory leak in parport_config", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/parport", "subsystems_touched": ["drivers/parport"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in peripheral PCMCIA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for parport users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Cross-org review but minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Memory leak fix on error path in parport PCMCIA driver with cross-company review", "code_snippet": "@@ -158,8 +158,9 @@ static int parport_config(struct pcmcia_device *link)\n     return 0;\n \n failed:\n-    parport_cs_release(link);\n-    return -ENODEV;\n+\tparport_cs_release(link);\n+\tkfree(link->priv);\n+\treturn -ENODEV;\n } /* parport_config */\n \n static void parport_cs_release(struct pcmcia_device *link)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21c75ad65f8e5213ec542d99c259ffe3e3671e81"}
{"commit_hash": "19f8d67fc6c261ec55a199afe8863b4a4f04e80b", "short_hash": "19f8d67fc6c2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T23:20:50+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-03-28T02:10:35+09:00", "subject": "uio: uio_fsl_elbc_gpcm: Make dev_attr_reg_br and dev_attr_reg_or static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org?"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -68,8 +68,8 @@ static ssize_t reg_show(struct device *dev, struct device_attribute *attr,\n static ssize_t reg_store(struct device *dev, struct device_attribute *attr,\n \t\t\t const char *buf, size_t count);\n \n-DEVICE_ATTR(reg_br, S_IRUGO|S_IWUSR|S_IWGRP, reg_show, reg_store);\n-DEVICE_ATTR(reg_or, S_IRUGO|S_IWUSR|S_IWGRP, reg_show, reg_store);\n+static DEVICE_ATTR(reg_br, 0664, reg_show, reg_store);\n+static DEVICE_ATTR(reg_or, 0664, reg_show, reg_store);\n \n static ssize_t reg_show(struct device *dev, struct device_attribute *attr,\n \t\t\tchar *buf)\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/19f8d67fc6c261ec55a199afe8863b4a4f04e80b"}
{"commit_hash": "ab8a6d821179ab9bea1a9179f535ccba6330c1ed", "short_hash": "ab8a6d821179", "author_name": "Chong Qiao", "author_email": "qiaochong@loongson.cn", "author_company": "Loongson", "author_date": "2019-03-28T07:08:01+08:00", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-03-28T11:35:58-07:00", "subject": "MIPS: KGDB: fix kgdb support for SMP platforms.", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mips", "subsystems_touched": ["arch/mips/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Chong Qiao <qiaochong@loongson.cn> (Loongson)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": ["Douglas Anderson <dianders@chromium.org> (Chromium)"], "tested_by": [], "acked_by": ["Daniel Thompson <daniel.thompson@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arch-specific kernel debugger code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes KGDB debugger for SMP platforms affecting MIPS developers"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review chain with Reviewed-by/Acked-by, decent explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Loongson author, MIPS maintainer committer, Chromium/Linaro reviewers"}}, "score_justification": "KGDB SMP platform fix passing correct regs to kgdb_nmicallback", "code_snippet": "@@ -33,6 +33,7 @@\n #include <asm/processor.h>\n #include <asm/sigcontext.h>\n #include <linux/uaccess.h>\n+#include <asm/irq_regs.h>\n \n static struct hard_trap_info {\n \tunsigned char tt;\t/* Trap type code for MIPS R3xxx and R4xxx */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ab8a6d821179ab9bea1a9179f535ccba6330c1ed"}
{"commit_hash": "df16a224d2b59213385cf012ecdb68a72a003fc6", "short_hash": "df16a224d2b5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-25T09:26:31Z", "committer_name": "Gerd Hoffmann", "committer_email": "kraxel@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-28T12:11:47+01:00", "subject": "drm/virtio: remove set but not used variable 'vgdev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: dc5698e80cf7 (\"Add virtio gpu driver.\")", "cc_stable": false, "subsystem_prefix": "drm/virtio", "subsystems_touched": ["drivers/gpu/drm/virtio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Gerd Hoffmann <kraxel@redhat.com> (Redhat)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, Reviewed-by from different org"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @redhat, reviewer @codeaurora"}}, "score_justification": "Removes unused variable to fix gcc warning in virtio GPU driver", "code_snippet": "@@ -116,10 +116,6 @@ static const struct ttm_mem_type_manager_func virtio_gpu_bo_manager_func = {\n static int virtio_gpu_init_mem_type(struct ttm_bo_device *bdev, uint32_t type,\n \t\t\t\t    struct ttm_mem_type_manager *man)\n {\n-\tstruct virtio_gpu_device *vgdev;\n-\n-\tvgdev = virtio_gpu_get_vgdev(bdev);\n-\n \tswitch (type) {\n \tcase TTM_PL_SYSTEM:\n \t\t/* System memory */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/df16a224d2b59213385cf012ecdb68a72a003fc6"}
{"commit_hash": "8324c3d518cfd69f2a17866b52c13bf56d3042d8", "short_hash": "8324c3d518cf", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-03-25T08:02:05Z", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-03-28T13:17:17Z", "subject": "KVM: arm/arm64: Comments cleanup in mmu.c", "primary_category": "TRIV-COMMENT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm/arm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 14, "hunks": 8, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": ["Suzuki K Poulose <suzuki.poulose@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Comment-only change in KVM subsystem"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "No external impact"}}, "score_justification": "Comment-only cleanup in KVM ARM MMU code, no functional changes", "code_snippet": "@@ -899,9 +897,8 @@ int create_hyp_exec_mappings(phys_addr_t phys_addr, size_t size,\n  * kvm_alloc_stage2_pgd - allocate level-1 table for stage-2 translation.\n  * @kvm:\tThe KVM struct pointer for the VM.\n  *\n- * Allocates only the stage-2 HW PGD level table(s) (can support either full\n- * 40-bit input addresses or limited to 32-bit input addresses). Clears the\n- * allocated pages.\n+ * Allocates only the stage-2 HW PGD level table(s) of size defined by\n+ * stage2_pgd_size(kvm).\n  *\n  * Note we don't need locking here as this is only called when the VM is\n  * created, which can only be done once.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8324c3d518cfd69f2a17866b52c13bf56d3042d8"}
{"commit_hash": "52c899ec472e88e33c31c33bea844217c0963a05", "short_hash": "52c899ec472e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:50:35+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:33+08:00", "subject": "crypto: ccp - Make ccp_register_rsa_alg static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/ccp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Gary R Hook <gary.hook@amd.com> (AMD)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in crypto subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author + AMD Acked-by + maintainer SOB"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, AMD maintainer reviewed"}}, "score_justification": "Sparse warning fix adding static to unused export in crypto driver", "code_snippet": "@@ -248,7 +248,8 @@ static struct ccp_rsa_def rsa_algs[] = {\n \t}\n };\n \n-int ccp_register_rsa_alg(struct list_head *head, const struct ccp_rsa_def *def)\n+static int ccp_register_rsa_alg(struct list_head *head,\n+\t\t\t        const struct ccp_rsa_def *def)\n {\n \tstruct ccp_crypto_akcipher_alg *ccp_alg;\n \tstruct akcipher_alg *alg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/52c899ec472e88e33c31c33bea844217c0963a05"}
{"commit_hash": "cd1af982338def24744eb82ab3ec59169ad98dea", "short_hash": "cd1af982338d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:43:48+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:33+08:00", "subject": "crypto: cavium - Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 3-line change in crypto subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer committed"}}, "score_justification": "Sparse warning fix adding static to 3 crypto functions", "code_snippet": "@@ -223,7 +223,7 @@ static inline int setup_sgio_list(struct cpt_vf *cptvf,\n \treturn ret;\n }\n \n-int send_cpt_command(struct cpt_vf *cptvf, union cpt_inst_s *cmd,\n+static int send_cpt_command(struct cpt_vf *cptvf, union cpt_inst_s *cmd,\n \t\t     u32 qno)\n {\n \tstruct pci_dev *pdev = cptvf->pdev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cd1af982338def24744eb82ab3ec59169ad98dea"}
{"commit_hash": "6469a3c96585e274c77e7eba2f4ad3b1bc69cf05", "short_hash": "6469a3c96585", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:37:00+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:33+08:00", "subject": "crypto: cavium - remove unused fucntions", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 17, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Removes 2 unused functions from crypto driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean commit with Fixes tag explaining origin"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit from different org"}}, "score_justification": "Removes unused functions from crypto driver since introduction, simple cleanup", "code_snippet": "@@ -17,23 +17,6 @@ static void cptvf_send_msg_to_pf(struct cpt_vf *cptvf, struct cpt_mbox *mbx)\n \t\t\tmbx->data);\n }\n \n-/* ACKs PF's mailbox message\n- */\n-void cptvf_mbox_send_ack(struct cpt_vf *cptvf, struct cpt_mbox *mbx)\n-{\n-\tmbx->msg = CPT_MBOX_MSG_TYPE_ACK;\n-\tcptvf_send_msg_to_pf(cptvf, mbx);\n-}\n-\n-/* NACKs PF's mailbox message that VF is not able to\n- * complete the action\n- */\n-void cptvf_mbox_send_nack(struct cpt_vf *cptvf, struct cpt_mbox *mbx)\n-{\n-\tmbx->msg = CPT_MBOX_MSG_TYPE_NACK;\n-\tcptvf_send_msg_to_pf(cptvf, mbx);\n-}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6469a3c96585e274c77e7eba2f4ad3b1bc69cf05"}
{"commit_hash": "e44e77ab8bbf03ae164090ca7b8cc0fb8970dae9", "short_hash": "e44e77ab8bbf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T23:11:48+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:34+08:00", "subject": "crypto: vmx - Make p8_init and p8_exit static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -41,7 +41,7 @@ static struct crypto_alg *algs[] = {\n \tNULL,\n };\n \n-int __init p8_init(void)\n+static int __init p8_init(void)\n {\n \tint ret = 0;\n \tstruct crypto_alg **alg_it;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e44e77ab8bbf03ae164090ca7b8cc0fb8970dae9"}
{"commit_hash": "2ff9dff5aadf69e5051a1807780c2983eef4c646", "short_hash": "2ff9dff5aadf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:59:32+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:34+08:00", "subject": "crypto: cavium - Make cptvf_device_init static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (1 file, 2 hunks, 2 lines) in crypto driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean sparse fix with proper explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Sparse warning fix adding static to unused function in crypto driver", "code_snippet": "@@ -641,7 +641,7 @@ static void cptvf_write_vq_saddr(struct cpt_vf *cptvf, u64 val)\n \tcpt_write_csr64(cptvf->reg_base, CPTX_VQX_SADDR(0, 0), vqx_saddr.u);\n }\n \n-void cptvf_device_init(struct cpt_vf *cptvf)\n+static void cptvf_device_init(struct cpt_vf *cptvf)\n {\n \tu64 base_addr = 0;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ff9dff5aadf69e5051a1807780c2983eef4c646"}
{"commit_hash": "78ea86da5a64e6ec7cfcbee2c5f1fc32cf1866ac", "short_hash": "78ea86da5a64", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:57:49+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:34+08:00", "subject": "crypto: bcm - remove unused array tag_to_hash_idx", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/bcm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny cleanup in crypto driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Dead code removal in crypto driver, cross-org contribution", "code_snippet": "@@ -22,9 +22,6 @@\n #include \"spum.h\"\n #include \"cipher.h\"\n \n-/* This array is based on the hash algo type supported in spu.h */\n-char *tag_to_hash_idx[] = { \"none\", \"md5\", \"sha1\", \"sha224\", \"sha256\" };\n-\n char *hash_alg_name[] = { \"None\", \"md5\", \"sha1\", \"sha224\", \"sha256\", \"aes\",\n \t\"sha384\", \"sha512\", \"sha3_224\", \"sha3_256\", \"sha3_384\", \"sha3_512\" };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78ea86da5a64e6ec7cfcbee2c5f1fc32cf1866ac"}
{"commit_hash": "8355003c502e6fa66b52c7a5b2cf8f53dfa484b5", "short_hash": "8355003c502e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T21:55:07+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-03-28T13:55:34+08:00", "subject": "crypto: zip - Make some functions static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -69,7 +69,7 @@ static void zip_static_init_zip_ops(struct zip_operation *zip_ops,\n \tzip_ops->csum\t      = 1; /* Adler checksum desired */\n }\n \n-int zip_ctx_init(struct zip_kernel_ctx *zip_ctx, int lzs_flag)\n+static int zip_ctx_init(struct zip_kernel_ctx *zip_ctx, int lzs_flag)\n {\n \tstruct zip_operation  *comp_ctx   = &zip_ctx->zip_comp;\n \tstruct zip_operation  *decomp_ctx = &zip_ctx->zip_decomp;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8355003c502e6fa66b52c7a5b2cf8f53dfa484b5"}
{"commit_hash": "977c7a6d1e263ff1d755f28595b99e4bc0c48a9f", "short_hash": "977c7a6d1e26", "author_name": "Wei Li", "author_email": "liwei391@huawei.com", "author_company": "Huawei", "author_date": "2019-02-28T17:20:03+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-03-28T14:41:21-03:00", "subject": "perf machine: Update kernel map address and re-order properly", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ee05d21791db (\"perf machine: Set main kernel end address properly\")", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/util"], "subsystem_tier": 3, "files_changed": 1, "insertions": 20, "deletions": 12, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Li <liwei391@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Olsa <jolsa@kernel.org> (Kernel)", "Namhyung Kim <namhyung@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 15, "score_quality": 16, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 6 hunks, 32 lines in perf tooling"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix affecting perf tool users with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Excellent commit message with reproduction case, 2 Acked-by, self-test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer, 2 kernel.org reviewers"}}, "score_justification": "Map ordering bug fix in perf tool with detailed reproduction and before/after testing", "code_snippet": "@@ -1421,6 +1421,20 @@ static void machine__set_kernel_mmap(struct machine *machine,\n \t\tmachine->vmlinux_map->end = ~0ULL;\n }\n \n+static void machine__update_kernel_mmap(struct machine *machine,\n+\t\t\t\t     u64 start, u64 end)\n+{\n+\tstruct map *map = machine__kernel_map(machine);\n+\n+\tmap__get(map);\n+\tmap_groups__remove(&machine->kmaps, map);\n+\n+\tmachine__set_kernel_mmap(machine, start, end);\n+\n+\tmap_groups__insert(&machine->kmaps, map);\n+\tmap__put(map);\n+}\n+\n int machine__create_kernel_maps(struct machine *machine)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/977c7a6d1e263ff1d755f28595b99e4bc0c48a9f"}
{"commit_hash": "cb66ddd156203daefb8d71158036b27b0e2caf63", "short_hash": "cb66ddd15620", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-03-28T17:10:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-28T17:17:18-07:00", "subject": "net: rds: force to destroy connection if t_sock is NULL in rds_tcp_kill_sock().", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH", "BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: 467fa15356ac (\"RDS-TCP: Support multiple RDS-TCP listen endpoints, one per netns.\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/rds"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Santosh Shilimkar <santosh.shilimkar@oracle.com> (Oracle)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 55, "score_technical": 10, "score_impact": 24, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 2-line change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Use-after-free vulnerability affecting network namespace users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Excellent commit message with KASAN report and root cause analysis"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, netdev maintainer, reported by internal robot"}}, "score_justification": "Use-after-free fix in RDS-TCP with detailed KASAN report and proper Fixes tag", "code_snippet": "@@ -608,7 +608,7 @@ static void rds_tcp_kill_sock(struct net *net)\n \tlist_for_each_entry_safe(tc, _tc, &rds_tcp_conn_list, t_tcp_node) {\n \t\tstruct net *c_net = read_pnet(&tc->t_cpath->cp_conn->c_net);\n \n-\t\tif (net != c_net || !tc->t_sock)\n+\t\tif (net != c_net)\n \t\t\tcontinue;\n \t\tif (!list_has_conn(&tmp_list, tc->t_cpath->cp_conn)) {\n \t\t\tlist_move_tail(&tc->t_tcp_node, &tmp_list);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cb66ddd156203daefb8d71158036b27b0e2caf63"}
{"commit_hash": "7265f5b72640f43e558af80347c62e32d568371f", "short_hash": "7265f5b72640", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-23T14:14:31+08:00", "committer_name": "Masahiro Yamada", "committer_email": "yamada.masahiro@socionext.com", "committer_company": "Socionext", "commit_date": "2019-03-28T23:45:59+09:00", "subject": "coccinelle: put_device: reduce false positives", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: da9cfb87a44d (\"coccinelle: semantic code search for missing put_device()\")", "cc_stable": false, "subsystem_prefix": "scripts/", "subsystems_touched": ["scripts/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Masahiro Yamada <yamada.masahiro@socionext.com> (Socionext)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)"], "reported_by": ["Julia Lawall <Julia.Lawall@lip6.fr> (Lip6)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: TIMEOUT", "code_snippet": "@@ -32,6 +32,7 @@ if (id == NULL || ...) { ... return ...; }\n (    id\n |    (T2)dev_get_drvdata(&id->dev)\n |    (T3)platform_get_drvdata(id)\n+|    &id->dev\n );\n | return@p2 ...;\n )\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/7265f5b72640f43e558af80347c62e32d568371f"}
{"commit_hash": "2e7682ebfc750177a4944eeb56e97a3f05734528", "short_hash": "2e7682ebfc75", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-14T22:01:24-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-03-29T07:43:17-04:00", "subject": "media: tw5864: Fix possible NULL pointer dereference in tw5864_handle_frame", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 34d1324edd31 (\"[media] pci: Add tw5864 driver\")", "cc_stable": false, "subsystem_prefix": "drivers/media/pci", "subsystems_touched": ["drivers/media/pci/tw5864"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 19, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change (4 lines) in standard driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "NULL pointer crash fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by Hans Verkuil, clear message explaining bug"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @kernel.org (cross-company)"}}, "score_justification": "NULL ptr dereference fix in tw5864 driver with cross-org review", "code_snippet": "@@ -1395,13 +1395,13 @@ static void tw5864_handle_frame(struct tw5864_h264_frame *frame)\n \tinput->vb = NULL;\n \tspin_unlock_irqrestore(&input->slock, flags);\n \n-\tv4l2_buf = to_vb2_v4l2_buffer(&vb->vb.vb2_buf);\n-\n \tif (!vb) { /* Gone because of disabling */\n \t\tdev_dbg(&dev->pci->dev, \"vb is empty, dropping frame\\n\");\n \t\treturn;\n \t}\n \n+\tv4l2_buf = to_vb2_v4l2_buffer(&vb->vb.vb2_buf);\n+\n \t/*\n \t * Check for space.\n \t * Mind the overhead of startcode emulation prevention.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e7682ebfc750177a4944eeb56e97a3f05734528"}
{"commit_hash": "eebf36480678f948b3ed15d56ca7b8e6194e7c18", "short_hash": "eebf36480678", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-28T20:44:09-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-29T10:01:37-07:00", "subject": "fs/proc/kcore.c: make kcore_modules static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -615,7 +615,7 @@ static void __init proc_kcore_text_init(void)\n /*\n  * MODULES_VADDR has no intersection with VMALLOC_ADDR.\n  */\n-struct kcore_list kcore_modules;\n+static struct kcore_list kcore_modules;\n static void __init add_modules_range(void)\n {\n \tif (MODULES_VADDR != VMALLOC_START && MODULES_END != VMALLOC_END) {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/eebf36480678f948b3ed15d56ca7b8e6194e7c18"}
{"commit_hash": "23da9588037ecdd4901db76a5b79a42b529c4ec3", "short_hash": "23da9588037e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-28T20:44:40-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-03-29T10:01:38-07:00", "subject": "fs/proc/proc_sysctl.c: fix NULL pointer dereference in put_links", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 0e47c99d7fe25 (\"sysctl: Replace root_list with links between sysctl_table_sets\")", "cc_stable": true, "subsystem_prefix": "fs", "subsystems_touched": ["fs/proc"], "subsystem_tier": 1, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Luis Chamberlain <mcgrof@kernel.org> (Kernel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 60, "score_technical": 12, "score_impact": 26, "score_quality": 15, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "2-line fix in core VFS proc subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Crash fix affecting all users with stable backport"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent commit message with full stack trace and analysis"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, kernel.org maintainer, reported by Hulk Robot"}}, "score_justification": "NULL pointer dereference crash fix in proc sysctl with comprehensive analysis", "code_snippet": "@@ -1626,7 +1626,8 @@ static void drop_sysctl_table(struct ctl_table_header *header)\n \tif (--header->nreg)\n \t\treturn;\n \n-\tput_links(header);\n+\tif (parent)\n+\t\tput_links(header);\n \tstart_unregistering(header);\n \tif (!--header->count)\n \t\tkfree_rcu(header, rcu);\n", "flags": ["REPORTED_BY_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/23da9588037ecdd4901db76a5b79a42b529c4ec3"}
{"commit_hash": "90abf96abd9bb00f36c8d3640255e6bfa73f7495", "short_hash": "90abf96abd9b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-25T12:38:49Z", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-03-29T11:22:55+01:00", "subject": "cfg80211: Use kmemdup in cfg80211_gen_new_ie()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/wireless"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 10, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration in widely-used wireless subsystem"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Minimal commit message with basic Signed-off-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Intel committed"}}, "score_justification": "API migration from kmalloc+memcpy to kmemdup in wireless scan code", "code_snippet": "@@ -190,10 +190,9 @@ static size_t cfg80211_gen_new_ie(const u8 *ie, size_t ielen,\n \t/* copy subelement as we need to change its content to\n \t * mark an ie after it is processed.\n \t */\n-\tsub_copy = kmalloc(subie_len, gfp);\n+\tsub_copy = kmemdup(subelement, subie_len, gfp);\n \tif (!sub_copy)\n \t\treturn 0;\n-\tmemcpy(sub_copy, subelement, subie_len);\n \n \tpos = &new_ie[0];\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/90abf96abd9bb00f36c8d3640255e6bfa73f7495"}
{"commit_hash": "3d8830266ffc28c16032b859e38a0252e014b631", "short_hash": "3d8830266ffc", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-03-29T09:18:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-03-29T13:41:55-07:00", "subject": "net: ethtool: not call vzalloc for zero sized memory request", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/", "subsystems_touched": ["net/"], "subsystem_tier": 1, "files_changed": 1, "insertions": 30, "deletions": 16, "hunks": 6, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Wang Li <wangli39@baidu.com> (Baidu)", "Michal Kubecek <mkubecek@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1797,11 +1797,16 @@ static int ethtool_get_strings(struct net_device *dev, void __user *useraddr)\n \tWARN_ON_ONCE(!ret);\n \n \tgstrings.len = ret;\n-\tdata = vzalloc(array_size(gstrings.len, ETH_GSTRING_LEN));\n-\tif (gstrings.len && !data)\n-\t\treturn -ENOMEM;\n \n-\t__ethtool_get_strings(dev, gstrings.string_set, data);\n+\tif (gstrings.len) {\n+\t\tdata = vzalloc(array_size(gstrings.len, ETH_GSTRING_LEN));\n+\t\tif (!data)\n+\t\t\treturn -ENOMEM;\n+\n+\t\t__ethtool_get_strings(dev, gstrings.string_set, data);\n+\t} else {\n+\t\tdata = NULL;\n+\t}\n \n \tret = -EFAULT;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/3d8830266ffc28c16032b859e38a0252e014b631"}
{"commit_hash": "91e0a58e663ffdae2c96a27541794ab5a6fefb22", "short_hash": "91e0a58e663f", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:36+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-03-29T16:57:14Z", "subject": "PCI: dwc: pci-dra7xx: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller/dwc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 1-line fix in PCI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with cocci detection details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, no external report"}}, "score_justification": "Missing of_node_put() causing memory leak in dra7xx PCI driver, detected by coccinelle", "code_snippet": "@@ -247,6 +247,7 @@ static int dra7xx_pcie_init_irq_domain(struct pcie_port *pp)\n \n \tdra7xx->irq_domain = irq_domain_add_linear(pcie_intc_node, PCI_NUM_INTX,\n \t\t\t\t\t\t   &intx_domain_ops, pp);\n+\tof_node_put(pcie_intc_node);\n \tif (!dra7xx->irq_domain) {\n \t\tdev_err(dev, \"Failed to get a INTx IRQ domain\\n\");\n \t\treturn -ENODEV;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/91e0a58e663ffdae2c96a27541794ab5a6fefb22"}
{"commit_hash": "e12bfa013c0972dd94c2f849e05c87f5e1913e96", "short_hash": "e12bfa013c09", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:37+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-03-29T16:57:50Z", "subject": "PCI: uniphier: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller/dwc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in PCI controller driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific platform users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with coccinelle detection evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from ZTE to Arm maintainer"}}, "score_justification": "Missing of_node_put() reference leak fix in PCI controller driver, detected by coccinelle", "code_snippet": "@@ -270,6 +270,7 @@ static int uniphier_pcie_config_legacy_irq(struct pcie_port *pp)\n \tstruct uniphier_pcie_priv *priv = to_uniphier_pcie(pci);\n \tstruct device_node *np = pci->dev->of_node;\n \tstruct device_node *np_intc;\n+\tint ret = 0;\n \n \tnp_intc = of_get_child_by_name(np, \"legacy-interrupt-controller\");\n \tif (!np_intc) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e12bfa013c0972dd94c2f849e05c87f5e1913e96"}
{"commit_hash": "1c310074ad6cf5197d47b83cc64c272c538d7e1d", "short_hash": "1c310074ad6c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-23T11:26:59Z", "committer_name": "Jacek Anaszewski", "committer_email": "jacek.anaszewski@gmail.com", "committer_company": "Gmail", "commit_date": "2019-03-31T20:12:30+02:00", "subject": "leds: lt3593: Remove unneeded assignment in lt3593_led_probe", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "leds", "subsystems_touched": ["drivers/leds"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jacek Anaszewski <jacek.anaszewski@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in LED driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix removing unused code for specific driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation but minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Cleanup removing unused 'flags' variable and 'keep' option", "code_snippet": "@@ -66,7 +66,6 @@ static int lt3593_led_probe(struct platform_device *pdev)\n \tstruct lt3593_led_data *led_data;\n \tstruct fwnode_handle *child;\n \tint ret, state = LEDS_GPIO_DEFSTATE_OFF;\n-\tenum gpiod_flags flags = GPIOD_OUT_LOW;\n \tconst char *tmp;\n \n \tif (!dev->of_node)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c310074ad6cf5197d47b83cc64c272c538d7e1d"}
{"commit_hash": "b35c0e4543945fe9b21e6ed9ab72cdb5efb30718", "short_hash": "b35c0e454394", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:38+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-01T10:39:17+01:00", "subject": "PCI: dwc: layerscape: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller/dwc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in PCI controller driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting PCIe users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple reviewers, detailed message with cocci report"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org between ZTE and Arm"}}, "score_justification": "Reference leak fix in PCIe driver with detailed cocci detection", "code_snippet": "@@ -201,6 +201,7 @@ static int ls_pcie_msi_host_init(struct pcie_port *pp)\n \t\treturn -EINVAL;\n \t}\n \n+\tof_node_put(msi_node);\n \treturn 0;\n }\n \n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/b35c0e4543945fe9b21e6ed9ab72cdb5efb30718"}
{"commit_hash": "69adea738eb2be70b4753dbb60eb1de9abbfb4dc", "short_hash": "69adea738eb2", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:39+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-01T10:42:24+01:00", "subject": "PCI: rockchip: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in PCI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix with stable backport"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed message with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with proper review"}}, "score_justification": "Reference count leak fix in Rockchip PCI controller driver detected by coccinelle", "code_snippet": "@@ -724,6 +724,7 @@ static int rockchip_pcie_init_irq_domain(struct rockchip_pcie *rockchip)\n \n \trockchip->irq_domain = irq_domain_add_linear(intc, PCI_NUM_INTX,\n \t\t\t\t\t\t    &intx_domain_ops, rockchip);\n+\tof_node_put(intc);\n \tif (!rockchip->irq_domain) {\n \t\tdev_err(dev, \"failed to get a INTx IRQ domain\\n\");\n \t\treturn -EINVAL;\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/69adea738eb2be70b4753dbb60eb1de9abbfb4dc"}
{"commit_hash": "ff7a5a0a8562434f114035a5a4cbbeec5cb6320c", "short_hash": "ff7a5a0a8562", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:42+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-01T10:42:58+01:00", "subject": "PCI: mediatek: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)"], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 13, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 1-line fix in PCI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting Mediatek PCIe users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Cross-org review with detailed coccinelle report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Arm maintainer, Mediatek acked"}}, "score_justification": "Device tree reference leak fix found by coccinelle, cross-company review", "code_snippet": "@@ -578,6 +578,7 @@ static int mtk_pcie_init_irq_domain(struct mtk_pcie_port *port,\n \n \tport->irq_domain = irq_domain_add_linear(pcie_intc_node, PCI_NUM_INTX,\n \t\t\t\t\t\t &intx_domain_ops, port);\n+\tof_node_put(pcie_intc_node);\n \tif (!port->irq_domain) {\n \t\tdev_err(dev, \"failed to get INTx IRQ domain\\n\");\n \t\treturn -ENODEV;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff7a5a0a8562434f114035a5a4cbbeec5cb6320c"}
{"commit_hash": "8956388d3670c5050825a6410761843ffd7e4848", "short_hash": "8956388d3670", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:41+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-01T10:42:58+01:00", "subject": "PCI: iproc: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in PCI controller subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Resource leak fix with stable backport"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with coccinelle report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, ARM maintainer committer"}}, "score_justification": "Reference count leak in PCI controller, proactively found by coccinelle tool", "code_snippet": "@@ -1320,14 +1320,18 @@ static int iproc_pcie_msi_enable(struct iproc_pcie *pcie)\n \tif (pcie->need_msi_steer) {\n \t\tret = iproc_pcie_msi_steer(pcie, msi_node);\n \t\tif (ret)\n-\t\t\treturn ret;\n+\t\t\tgoto out_put_node;\n \t}\n \n \t/*\n \t * If another MSI controller is being used, the call below should fail\n \t * but that is okay\n \t */\n-\treturn iproc_msi_init(pcie, msi_node);\n+\tret = iproc_msi_init(pcie, msi_node);\n+\n+out_put_node:\n+\tof_node_put(msi_node);\n+\treturn ret;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8956388d3670c5050825a6410761843ffd7e4848"}
{"commit_hash": "3842f5166bf1ef286fe7a39f262b5c9581308366", "short_hash": "3842f5166bf1", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-27T12:40:40+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-01T10:42:58+01:00", "subject": "PCI: aardvark: Fix a leaked reference by adding missing of_node_put()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/pci", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 4, "files_changed": 1, "insertions": 8, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 6, "score_impact": 13, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in PCI controller driver (tier 4)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for specific platform driver"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: ZTE author, Arm maintainer"}}, "score_justification": "Reference leak fix in PCI controller driver detected by coccinelle", "code_snippet": "@@ -806,8 +807,8 @@ static int advk_pcie_init_irq_domain(struct advk_pcie *pcie)\n \tirq_chip->name = devm_kasprintf(dev, GFP_KERNEL, \"%s-irq\",\n \t\t\t\t\tdev_name(dev));\n \tif (!irq_chip->name) {\n-\t\tof_node_put(pcie_intc_node);\n-\t\treturn -ENOMEM;\n+\t\tret = -ENOMEM;\n+\t\tgoto out_put_node;\n \t}\n \n \tirq_chip->irq_mask = advk_pcie_irq_mask;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3842f5166bf1ef286fe7a39f262b5c9581308366"}
{"commit_hash": "11c0269017b212fd47c593307d2dc3eb9713b2d0", "short_hash": "11c0269017b2", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T16:34:46+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-01T15:04:23+07:00", "subject": "ASoC: Mediatek: MT8183: Add machine driver with TS3A227", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 3, "insertions": 396, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 14, "score_impact": 20, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "New machine driver with 396 lines in sound subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "New driver for MT8183 audio hardware platform"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, single author, no review tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer merged"}}, "score_justification": "New ASoC machine driver for MT8183 with TS3A227 codec support", "code_snippet": "@@ -116,6 +116,19 @@ config SND_SOC_MT8183\n \t  Select Y if you have such device.\n \t  If unsure select \"N\".\n \n+config SND_SOC_MT8183_MT6358_TS3A227E_MAX98357A\n+\ttristate \"ASoC Audio driver for MT8183 with MT6358 TS3A227E MAX98357A codec\"\n+\tdepends on SND_SOC_MT8183\n+\tselect SND_SOC_MT6358\n+\tselect SND_SOC_MAX98357A\n+\tselect SND_SOC_BT_SCO\n+\tselect SND_SOC_TS3A227E\n+\thelp\n+\t  This adds ASoC driver for Mediatek MT8183 boards\n+\t  with the MT6358 TS3A227E MAX98357A audio codec.\n+\t  Select Y if you have such device.\n+\t  If unsure select \"N\".\n+\n config SND_SOC_MTK_BTCVSD\n \ttristate \"ALSA BT SCO CVSD/MSBC Driver\"\n \thelp", "flags": ["NEW_DRIVER"], "link": "https://lore.kernel.org/linux-kernel/11c0269017b212fd47c593307d2dc3eb9713b2d0"}
{"commit_hash": "9067cdea17954f4c5b0d5b114a588b8d85ce3219", "short_hash": "9067cdea1795", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T16:34:47+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-01T15:04:35+07:00", "subject": "ASoC: Mediatek: Add document for mt8183-mt6358-ts3a227-max98357", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["Documentation/devicetree/bindings/sound", "sound/soc/mediatek"], "subsystem_tier": 5, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 9, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding file for audio subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "Hardware support documentation for MediaTek audio"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single file addition with Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, kernel.org maintainer applied"}}, "score_justification": "New DT binding document for MediaTek MT8183 audio board", "code_snippet": "@@ -0,0 +1,15 @@\n+MT8183 with MT6358, TS3A227 and MAX98357 CODECS\n+\n+Required properties:\n+- compatible : \"mediatek,mt8183_mt6358_ts3a227_max98357\"\n+- mediatek,headset-codec: the phandles of ts3a227 codecs\n+- mediatek,platform: the phandle of MT8183 ASoC platform\n+\n+Example:\n+\n+\tsound {\n+\t\tcompatible = \"mediatek,mt8183_mt6358_ts3a227_max98357\";\n+\t\tmediatek,headset-codec = <&ts3a227>;\n+\t\tmediatek,platform = <&afe>;\n+\t};\n+\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9067cdea17954f4c5b0d5b114a588b8d85ce3219"}
{"commit_hash": "ebbddc75bbe8d8eab64d3285b0480f5ae9232b2e", "short_hash": "ebbddc75bbe8", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T16:34:48+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-01T15:04:46+07:00", "subject": "ASoC: Mediatek: MT8183: Add machine driver with DA7219", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 3, "insertions": 486, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 20, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium: 472-line new machine driver in sound subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "New driver for MT8183 board with DA7219 codec"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic commit message, single author + maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, kernel.org maintainer applied"}}, "score_justification": "New ASoC machine driver adding MT8183 board support with DA7219 codec", "code_snippet": "@@ -129,6 +129,19 @@ config SND_SOC_MT8183_MT6358_TS3A227E_MAX98357A\n \t  Select Y if you have such device.\n \t  If unsure select \"N\".\n \n+config SND_SOC_MT8183_DA7219_MAX98357A\n+\ttristate \"ASoC Audio driver for MT8183 with DA7219 MAX98357A codec\"\n+\tdepends on SND_SOC_MT8183\n+\tselect SND_SOC_MT6358\n+\tselect SND_SOC_MAX98357A\n+\tselect SND_SOC_DA7219\n+\tselect SND_SOC_BT_SCO\n+\thelp\n+\t  This adds ASoC driver for Mediatek MT8183 boards\n+\t  with the DA7219 MAX98357A audio codec.\n+\t  Select Y if you have such device.\n+\t  If unsure select \"N\".\n+\n config SND_SOC_MTK_BTCVSD\n \ttristate \"ALSA BT SCO CVSD/MSBC Driver\"\n \thelp", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ebbddc75bbe8d8eab64d3285b0480f5ae9232b2e"}
{"commit_hash": "5a79acf9a9188d85e1f1a697ed7531e0f0f36943", "short_hash": "5a79acf9a918", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T16:34:49+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-01T15:05:54+07:00", "subject": "ASoC: Mediatek: Add document for mt8183-da7219-max98357", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["Documentation/devicetree/bindings/sound", "sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "New DT binding doc for Mediatek ASoC sound card"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "Documentation for new hardware sound card configuration"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message, single logical change, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer merge"}}, "score_justification": "DT binding documentation for Mediatek MT8183 sound card with DA7219/MAX98357 codecs", "code_snippet": "@@ -0,0 +1,15 @@\n+MT8183 with MT6358, DA7219 and MAX98357 CODECS\n+\n+Required properties:\n+- compatible : \"mediatek,mt8183_da7219_max98357\"\n+- mediatek,headset-codec: the phandles of da7219 codecs\n+- mediatek,platform: the phandle of MT8183 ASoC platform\n+\n+Example:\n+\n+\tsound {\n+\t\tcompatible = \"mediatek,mt8183_da7219_max98357\";\n+\t\tmediatek,headset-codec = <&da7219>;\n+\t\tmediatek,platform = <&afe>;\n+\t};\n+\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5a79acf9a9188d85e1f1a697ed7531e0f0f36943"}
{"commit_hash": "35146467bd43704c52d1d5760af9839a10ad5b12", "short_hash": "35146467bd43", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-25T03:17:40Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-01T15:32:28+07:00", "subject": "ASoC: simple-card-utils: remove set but not used variable 'dai_name'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/generic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": ["Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> (Renesas)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing 3 lines in single file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, detailed message with Fixes reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer, CodeAurora reviewer"}}, "score_justification": "Compiler warning fix removing unused variable with good review chain", "code_snippet": "@@ -173,10 +173,8 @@ int asoc_simple_parse_clk(struct device *dev,\n \t * see\n \t *\tsoc-core.c :: snd_soc_init_multicodec()\n \t */\n-\tif (dlc) {\n+\tif (dlc)\n \t\tdai_of_node\t= dlc->of_node;\n-\t\tdai_name\t= dlc->dai_name;\n-\t}\n \n \t/*\n \t * Parse dai->sysclk come from \"clocks = <&xxx>\"\n", "flags": ["FIXES_TAG_PRESENT"], "link": "https://lore.kernel.org/linux-kernel/35146467bd43704c52d1d5760af9839a10ad5b12"}
{"commit_hash": "5efedc9b62b5cf0ccc84ed427a07f0d2485091c4", "short_hash": "5efedc9b62b5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:16:34+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-01T16:16:36-04:00", "subject": "dm integrity: make dm_integrity_init and dm_integrity_exit static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in device-mapper driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear warning message, proper formatting, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer acceptance"}}, "score_justification": "Sparse warning fix adding static to module init/exit functions", "code_snippet": "@@ -3616,7 +3616,7 @@ static struct target_type integrity_target = {\n \t.io_hints\t\t= dm_integrity_io_hints,\n };\n \n-int __init dm_integrity_init(void)\n+static int __init dm_integrity_init(void)\n {\n \tint r;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5efedc9b62b5cf0ccc84ed427a07f0d2485091c4"}
{"commit_hash": "1d3ff0950e2b40dc861b1739029649d03f591820", "short_hash": "1d3ff0950e2b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-01T09:35:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-01T18:15:10-07:00", "subject": "dccp: Fix memleak in __feat_register_sp", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e8ef967a54f4 (\"dccp: Registration routines for changing feature values\")", "cc_stable": false, "subsystem_prefix": "dccp", "subsystems_touched": ["net/dccp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking protocol subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with Fixes tag, affects DCCP users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with proper Fixes tag and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org commit with Reported-by from internal testing"}}, "score_justification": "Memory leak fix in DCCP feature registration error path", "code_snippet": "@@ -738,7 +738,12 @@ static int __feat_register_sp(struct list_head *fn, u8 feat, u8 is_local,\n \tif (dccp_feat_clone_sp_val(&fval, sp_val, sp_len))\n \t\treturn -ENOMEM;\n \n-\treturn dccp_feat_push_change(fn, feat, is_local, mandatory, &fval);\n+\tif (dccp_feat_push_change(fn, feat, is_local, mandatory, &fval)) {\n+\t\tkfree(fval.sp.vec);\n+\t\treturn -ENOMEM;\n+\t}\n+\n+\treturn 0;\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1d3ff0950e2b40dc861b1739029649d03f591820"}
{"commit_hash": "ff3b74b8e1675c802e09157a56c97ca38a659b9d", "short_hash": "ff3b74b8e167", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-03-26T21:19:25+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-02T08:57:05-06:00", "subject": "blk-mq: add trace block plug and unplug for multiple queues", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Christoph Hellwig <hch@lst.de> (Lst)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "2-line change in critical block layer"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Tracing enhancement for debugging block I/O"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by hch, good explanation of asymmetry"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Adds tracing for block plug/unplug events on multi-queue devices to fix asymmetrical trace output", "code_snippet": "@@ -2003,11 +2003,13 @@ static blk_qc_t blk_mq_make_request(struct request_queue *q, struct bio *bio)\n \t\t\tplug->rq_count--;\n \t\t}\n \t\tblk_add_rq_to_plug(plug, rq);\n+\t\ttrace_block_plug(q);\n \n \t\tblk_mq_put_ctx(data.ctx);\n \n \t\tif (same_queue_rq) {\n \t\t\tdata.hctx = same_queue_rq->mq_hctx;\n+\t\t\ttrace_block_unplug(q, 1, true);\n \t\t\tblk_mq_try_issue_directly(data.hctx, same_queue_rq,\n \t\t\t\t\t&cookie, false, true);\n \t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff3b74b8e1675c802e09157a56c97ca38a659b9d"}
{"commit_hash": "64b92de9603f22b5455da925ee57268ef7fb4e80", "short_hash": "64b92de9603f", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-26T16:17:49+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-02T12:57:56+07:00", "subject": "ASoC: wcd9335: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 13, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal change in codec driver with reference leak fix"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific audio codec users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Well-documented with coccinelle detection, multiple Cc tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "ZTE author, maintainer applied, cross-company review"}}, "score_justification": "Reference leak fix in audio codec driver detected by coccinelle", "code_snippet": "@@ -5188,6 +5188,7 @@ static int wcd9335_slim_status(struct slim_device *sdev,\n \n \twcd->slim = sdev;\n \twcd->slim_ifc_dev = of_slim_get_device(sdev->ctrl, ifc_dev_np);\n+\tof_node_put(ifc_dev_np);\n \tif (!wcd->slim_ifc_dev) {\n \t\tdev_err(dev, \"Unable to get SLIM Interface device\\n\");\n \t\treturn -EINVAL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/64b92de9603f22b5455da925ee57268ef7fb4e80"}
{"commit_hash": "c705247136a523488eac806bd357c3e5d79a7acd", "short_hash": "c705247136a5", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-26T16:17:50+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-02T12:58:07+07:00", "subject": "ASoC: fsl_utils: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in audio driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix for Freescale audio users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with coccinelle report"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "ZTE author, kernel.org maintainer"}}, "score_justification": "Reference leak fix in audio driver found by coccinelle", "code_snippet": "@@ -71,6 +71,7 @@ int fsl_asoc_get_dma_channel(struct device_node *ssi_np,\n \tiprop = of_get_property(dma_np, \"cell-index\", NULL);\n \tif (!iprop) {\n \t\tof_node_put(dma_np);\n+\t\tof_node_put(dma_channel_np);\n \t\treturn -EINVAL;\n \t}\n \t*dma_id = be32_to_cpup(iprop);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c705247136a523488eac806bd357c3e5d79a7acd"}
{"commit_hash": "b820d52e7eed7b30b2dfef5f4213a2bc3cbea6f3", "short_hash": "b820d52e7eed", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-02-26T16:17:51+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-02T12:58:26+07:00", "subject": "ASoC: eukrea-tlv320: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/fsl"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 4 lines changed in ASoC driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix for specific audio driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Coccinelle detected, detailed explanation, good tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org maintainer applied"}}, "score_justification": "Resource leak fix adding missing of_node_put on error paths", "code_snippet": "@@ -118,13 +118,13 @@ static int eukrea_tlv320_probe(struct platform_device *pdev)\n \t\tif (ret) {\n \t\t\tdev_err(&pdev->dev,\n \t\t\t\t\"fsl,mux-int-port node missing or invalid.\\n\");\n-\t\t\treturn ret;\n+\t\t\tgoto err;\n \t\t}\n \t\tret = of_property_read_u32(np, \"fsl,mux-ext-port\", &ext_port);\n \t\tif (ret) {\n \t\t\tdev_err(&pdev->dev,\n \t\t\t\t\"fsl,mux-ext-port node missing or invalid.\\n\");\n-\t\t\treturn ret;\n+\t\t\tgoto err;\n \t\t}\n \n \t\t/*\n", "flags": ["DETECTED_BY_COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/b820d52e7eed7b30b2dfef5f4213a2bc3cbea6f3"}
{"commit_hash": "40ed29b373381532ef222e509c5aa69a1d8561ea", "short_hash": "40ed29b37338", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-09-23T12:11:33Z", "committer_name": "Steven Rostedt (VMware)", "committer_email": "rostedt@goodmis.org", "committer_company": "Goodmis", "commit_date": "2019-04-02T18:24:06-04:00", "subject": "ring-buffer: Fix ring buffer size in rb_write_something()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/trace", "subsystems_touched": ["kernel/trace"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical tracing subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 11, "details": "Logic fix in test code, minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review tags, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Test code logic fix: wrong variable used for size calculation", "code_snippet": "@@ -4979,7 +4979,7 @@ static __init int rb_write_something(struct rb_test_data *data, bool nested)\n \tcnt = data->cnt + (nested ? 27 : 0);\n \n \t/* Multiply cnt by ~e, to make some unique increment */\n-\tsize = (data->cnt * 68 / 25) % (sizeof(rb_string) - 1);\n+\tsize = (cnt * 68 / 25) % (sizeof(rb_string) - 1);\n \n \tlen = size + sizeof(struct rb_item);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/40ed29b373381532ef222e509c5aa69a1d8561ea"}
{"commit_hash": "58ccd2d31e502c37e108b285bf3d343eb00c235b", "short_hash": "58ccd2d31e50", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T11:37:07+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-03T10:07:48-06:00", "subject": "paride/pf: Fix potential NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 6ce59025f118 (\"paride/pf: cleanup queues when detection fails\")", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block/paride"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 46, "score_technical": 8, "score_impact": 19, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small targeted fix in block driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with reported-by and fixes tag"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 13, "details": "Excellent commit message with full crash trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org contribution with external report"}}, "score_justification": "NULL pointer crash fix in paride block driver with detailed syzbot report", "code_snippet": "@@ -1029,8 +1031,13 @@ static int __init pf_init(void)\n \tpf_busy = 0;\n \n \tif (register_blkdev(major, name)) {\n-\t\tfor (pf = units, unit = 0; unit < PF_UNITS; pf++, unit++)\n+\t\tfor (pf = units, unit = 0; unit < PF_UNITS; pf++, unit++) {\n+\t\t\tif (!pf->disk)\n+\t\t\t\tcontinue;\n+\t\t\tblk_cleanup_queue(pf->disk->queue);\n+\t\t\tblk_mq_free_tag_set(&pf->tag_set);\n \t\t\tput_disk(pf->disk);\n+\t\t}\n \t\treturn -EBUSY;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58ccd2d31e502c37e108b285bf3d343eb00c235b"}
{"commit_hash": "52a30f3bb1b15c7d27233e9947370c1c14b5cbae", "short_hash": "52a30f3bb1b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T12:15:52+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-03T11:37:03+07:00", "subject": "ASoC: Mediatek: MT8183: Fix build error in mt8183_da7219_max98357_dev_probe", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: 11c0269017b2 (\"ASoC: Mediatek: MT8183: Add machine driver with TS3A227\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in ASoC driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for build error, affects MT8183 audio users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with Fixes tag and compiler error"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer applied"}}, "score_justification": "API migration fix for struct member rename causing build failure in MT8183 audio driver", "code_snippet": "@@ -410,7 +410,7 @@ static int mt8183_da7219_max98357_dev_probe(struct platform_device *pdev)\n \t\t * the \"platform\" will not null when probe is trying\n \t\t * again. It's not expected normally.\n \t\t */\n-\t\tdai_link->platform = NULL;\n+\t\tdai_link->platforms = NULL;\n \n \t\tif (dai_link->platform_name)\n \t\t\tcontinue;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/52a30f3bb1b15c7d27233e9947370c1c14b5cbae"}
{"commit_hash": "1279e41d535e28cc3b56fa4a09e71a709641cae6", "short_hash": "1279e41d535e", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-03T14:54:24+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-03T11:40:02+02:00", "subject": "perf/headers: Fix stale comment for struct perf_addr_filter", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "include/", "subsystems_touched": ["include/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -464,7 +464,7 @@ enum perf_addr_filter_action_t {\n /**\n  * struct perf_addr_filter - address range filter definition\n  * @entry:\tevent's filter list linkage\n- * @inode:\tobject file's inode for file-based filters\n+ * @path:\tobject file's path for file-based filters\n  * @offset:\tfilter range offset\n  * @size:\tfilter range size (size==0 means single address trigger)\n  * @action:\tfilter/start/stop\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/1279e41d535e28cc3b56fa4a09e71a709641cae6"}
{"commit_hash": "71b47eaf6fb29b7f9722dc1646c26eb8a96e0a6d", "short_hash": "71b47eaf6fb2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:38:39+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-03T12:34:31+02:00", "subject": "sched/fair: Make sync_entity_load_avg() and remove_entity_load_avg() static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 1, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -3567,7 +3567,7 @@ static inline u64 cfs_rq_last_update_time(struct cfs_rq *cfs_rq)\n  * Synchronize entity load avg of dequeued entity without locking\n  * the previous rq.\n  */\n-void sync_entity_load_avg(struct sched_entity *se)\n+static void sync_entity_load_avg(struct sched_entity *se)\n {\n \tstruct cfs_rq *cfs_rq = cfs_rq_of(se);\n \tu64 last_update_time;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/71b47eaf6fb29b7f9722dc1646c26eb8a96e0a6d"}
{"commit_hash": "e39dd513d5f2ae2041c593d42fd0d8b24e7e950b", "short_hash": "e39dd513d5f2", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T12:36:21-06:00", "committer_name": "Alex Williamson", "committer_email": "alex.williamson@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-03T12:42:02-06:00", "subject": "vfio/spapr_tce: Make symbol 'tce_iommu_driver_ops' static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5ffd229c0273 (\"powerpc/vfio: Implement IOMMU driver for VFIO\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "Alex Williamson <alex.williamson@redhat.com> (Redhat)"], "reviewed_by": ["Alexey Kardashevskiy <aik@ozlabs.ru> (Ozlabs)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1398,7 +1398,7 @@ static void tce_iommu_detach_group(void *iommu_data,\n \tmutex_unlock(&container->lock);\n }\n \n-const struct vfio_iommu_driver_ops tce_iommu_driver_ops = {\n+static const struct vfio_iommu_driver_ops tce_iommu_driver_ops = {\n \t.name\t\t= \"iommu-vfio-powerpc\",\n \t.owner\t\t= THIS_MODULE,\n \t.open\t\t= tce_iommu_open,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e39dd513d5f2ae2041c593d42fd0d8b24e7e950b"}
{"commit_hash": "19d6242ece1f35aa004a7da9adf52e0ec18a854e", "short_hash": "19d6242ece1f", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T12:21:25+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-04-03T13:07:59+01:00", "subject": "arm64: setup min_low_pfn", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/mm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 12, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arm64 memory management"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 12, "details": "Debug optimization for CONFIG_PAGE_OWNER"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good explanation with before/after data"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with arm maintainer"}}, "score_justification": "Minor optimization for page owner debugging in arm64 init", "code_snippet": "@@ -440,6 +440,7 @@ void __init bootmem_init(void)\n \tearly_memtest(min << PAGE_SHIFT, max << PAGE_SHIFT);\n \n \tmax_pfn = max_low_pfn = max;\n+\tmin_low_pfn = min;\n \n \tarm64_numa_init();\n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19d6242ece1f35aa004a7da9adf52e0ec18a854e"}
{"commit_hash": "92606ec9285fb84cd9b5943df23f07d741384bfc", "short_hash": "92606ec9285f", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:34:05+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-04-03T13:50:35+01:00", "subject": "arm64: cpu_ops: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 14, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arm64 kernel subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Memory leak fix affecting arm64 platforms"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good commit message with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution (ZTE to ARM maintainer)"}}, "score_justification": "Memory leak of device node refcount in arm64 CPU initialization", "code_snippet": "@@ -85,6 +85,7 @@ static const char *__init cpu_read_enable_method(int cpu)\n \t\t\t\tpr_err(\"%pOF: missing enable-method property\\n\",\n \t\t\t\t\tdn);\n \t\t}\n+\t\tof_node_put(dn);\n \t} else {\n \t\tenable_method = acpi_get_enable_method(cpu);\n \t\tif (!enable_method) {\n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/92606ec9285fb84cd9b5943df23f07d741384bfc"}
{"commit_hash": "ef0efcd3bd3fd0589732b67fb586ffd3c8705806", "short_hash": "ef0efcd3bd3f", "author_name": "Junwei Hu", "author_email": "hujunwei4@huawei.com", "author_company": "Huawei", "author_date": "2019-04-02T19:38:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-03T21:42:20-07:00", "subject": "ipv6: Fix dangling pointer when ipv6 fragment", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 405c92f7a541 (\"ipv6: add defensive check for CHECKSUM_PARTIAL skbs in ip_fragment\")", "cc_stable": false, "subsystem_prefix": "net/ipv6", "subsystems_touched": ["net/ipv6"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Junwei Hu <hujunwei4@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)"], "tested_by": [], "acked_by": ["Martin KaFai Lau <kafai@fb.com> (Fb)"], "reported_by": ["Wenhao Zhang <zhangwenhao8@huawei.com> (Huawei)", "syzbot+e8ce541d095e486074fc@syzkaller.appspotmail.com"]}, "score_total": 56, "score_technical": 10, "score_impact": 24, "score_quality": 14, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Dangling pointer fix affecting IPv6 fragmentation"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Good review chain with detailed explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 3, "subtotal": 8, "details": "Cross-org (Huawei/FB) with external syzbot report"}}, "score_justification": "Dangling pointer bug in IPv6 fragmentation caused by skb linearization, reported by syzbot with cross-org review", "code_snippet": "@@ -601,7 +601,7 @@ int ip6_fragment(struct net *net, struct sock *sk, struct sk_buff *skb,\n \t\t\t\tinet6_sk(skb->sk) : NULL;\n \tstruct ipv6hdr *tmp_hdr;\n \tstruct frag_hdr *fh;\n-\tunsigned int mtu, hlen, left, len;\n+\tunsigned int mtu, hlen, left, len, nexthdr_offset;\n \tint hroom, troom;\n \t__be32 frag_id;\n \tint ptr, offset = 0, err = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ef0efcd3bd3fd0589732b67fb586ffd3c8705806"}
{"commit_hash": "27fad74a5a77fe2e1f876db7bf27efcf2ec304b2", "short_hash": "27fad74a5a77", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T10:31:14+08:00", "committer_name": "Al Viro", "committer_email": "viro@zeniv.linux.org.uk", "committer_company": "Org", "commit_date": "2019-04-03T22:37:41-04:00", "subject": "iov_iter: Fix build error without CONFIG_CRYPTO", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d05f443554b3 (\"iov_iter: introduce hash_and_copy_to_iter helper\")", "cc_stable": false, "subsystem_prefix": "lib", "subsystems_touched": ["lib"], "subsystem_tier": 1, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Al Viro <viro@zeniv.linux.org.uk> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 12, "score_impact": 13, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small conditional compilation fix in core lib subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build error fix with regression tag and user impact"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes/Reported-by/Suggested-by tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 1, "subtotal": 6, "details": "Huawei author, different maintainer org, reported by robot"}}, "score_justification": "Build fix for undefined reference when CONFIG_CRYPTO not set, regression from d05f443554b3", "code_snippet": "@@ -1528,6 +1528,7 @@ EXPORT_SYMBOL(csum_and_copy_to_iter);\n size_t hash_and_copy_to_iter(const void *addr, size_t bytes, void *hashp,\n \t\tstruct iov_iter *i)\n {\n+#ifdef CONFIG_CRYPTO\n \tstruct ahash_request *hash = hashp;\n \tstruct scatterlist sg;\n \tsize_t copied;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27fad74a5a77fe2e1f876db7bf27efcf2ec304b2"}
{"commit_hash": "94e424c6b6a002673ac82cb6926ab6bfd9a3ccbb", "short_hash": "94e424c6b6a0", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-28T17:16:27+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:11:35-04:00", "subject": "scsi: ufs: Remove \"<name>-fixed-regulator\" device tree property", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["DT-FIX"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 8, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny deletion in SCSI UFS subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup affecting UFS device tree users"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Excellent multi-org review with detailed rationale"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Mediatek authored, Oracle committed, WDC/Samsung reviewed"}}, "score_justification": "Device tree property cleanup with extensive safety rationale and cross-org review", "code_snippet": "@@ -152,11 +152,6 @@ static int ufshcd_populate_vreg(struct device *dev, const char *name,\n \n \tvreg->name = kstrdup(name, GFP_KERNEL);\n \n-\t/* if fixed regulator no need further initialization */\n-\tsnprintf(prop_name, MAX_PROP_SIZE, \"%s-fixed-regulator\", name);\n-\tif (of_property_read_bool(np, prop_name))\n-\t\tgoto out;\n-\n \tsnprintf(prop_name, MAX_PROP_SIZE, \"%s-max-microamp\", name);\n \tif (of_property_read_u32(np, prop_name, &vreg->max_uA)) {\n \t\tdev_info(dev, \"%s: unable to find %s\\n\", __func__, prop_name);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/94e424c6b6a002673ac82cb6926ab6bfd9a3ccbb"}
{"commit_hash": "12e3ffb932dce136343b7c990e46758ea017b194", "short_hash": "12e3ffb932dc", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-28T17:16:26+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:11:35-04:00", "subject": "scsi: ufs: Change \"<name>-max-microamp\" to non-mandatory property", "primary_category": "BUG-COMPAT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 14, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in UFS SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Platform compatibility fix for UFS storage"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers, good message explaining platform need"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from Oracle, reviewers from WDC/Samsung"}}, "score_justification": "Device tree compatibility fix allowing UFS regulators without current limit property", "code_snippet": "@@ -158,11 +158,9 @@ static int ufshcd_populate_vreg(struct device *dev, const char *name,\n \t\tgoto out;\n \n \tsnprintf(prop_name, MAX_PROP_SIZE, \"%s-max-microamp\", name);\n-\tret = of_property_read_u32(np, prop_name, &vreg->max_uA);\n-\tif (ret) {\n-\t\tdev_err(dev, \"%s: unable to find %s err %d\\n\",\n-\t\t\t\t__func__, prop_name, ret);\n-\t\tgoto out;\n+\tif (of_property_read_u32(np, prop_name, &vreg->max_uA)) {\n+\t\tdev_info(dev, \"%s: unable to find %s\\n\", __func__, prop_name);\n+\t\tvreg->max_uA = 0;\n \t}\n \n \tif (!strcmp(name, \"vcc\")) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/12e3ffb932dce136343b7c990e46758ea017b194"}
{"commit_hash": "3b141e8cfd54ba3e5c610717295b2a02aab26a05", "short_hash": "3b141e8cfd54", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-28T17:16:24+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:11:35-04:00", "subject": "scsi: ufs: Avoid configuring regulator with undefined voltage range", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 14, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important SCSI subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting UFS device users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good review chain, detailed explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Multiple orgs involved, maintainer merged"}}, "score_justification": "Proactive fix for undefined regulator voltage values in UFS driver with good cross-org review", "code_snippet": "@@ -7039,12 +7039,15 @@ static int ufshcd_config_vreg(struct device *dev,\n \tname = vreg->name;\n \n \tif (regulator_count_voltages(reg) > 0) {\n-\t\tmin_uV = on ? vreg->min_uV : 0;\n-\t\tret = regulator_set_voltage(reg, min_uV, vreg->max_uV);\n-\t\tif (ret) {\n-\t\t\tdev_err(dev, \"%s: %s set voltage failed, err=%d\\n\",\n+\t\tif (vreg->min_uV && vreg->max_uV) {\n+\t\t\tmin_uV = on ? vreg->min_uV : 0;\n+\t\t\tret = regulator_set_voltage(reg, min_uV, vreg->max_uV);\n+\t\t\tif (ret) {\n+\t\t\t\tdev_err(dev,\n+\t\t\t\t\t\"%s: %s set voltage failed, err=%d\\n\",\n \t\t\t\t\t__func__, name, ret);\n-\t\t\tgoto out;\n+\t\t\t\tgoto out;\n+\t\t\t}\n \t\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b141e8cfd54ba3e5c610717295b2a02aab26a05"}
{"commit_hash": "0487fff76632ec023d394a05b82e87a971db8c03", "short_hash": "0487fff76632", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-28T17:16:25+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:11:35-04:00", "subject": "scsi: ufs: Fix regulator load and icc-level configuration", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 14, "score_quality": 17, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small targeted change in SCSI/UFS driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes regulator configuration affecting UFS device users"}, "quality": {"review_chain": 8, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 17, "details": "Excellent message, cross-company review (Mediatek, WDC, Samsung, Oracle)"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (Mediatek) committer (Oracle) different, 3+ orgs involved"}}, "score_justification": "Fixes regulator load/icc-level configuration to skip zero max_uA, preventing wrong icc_level calculation", "code_snippet": "@@ -6294,19 +6294,19 @@ static u32 ufshcd_find_max_sup_active_icc_level(struct ufs_hba *hba,\n \t\tgoto out;\n \t}\n \n-\tif (hba->vreg_info.vcc)\n+\tif (hba->vreg_info.vcc && hba->vreg_info.vcc->max_uA)\n \t\ticc_level = ufshcd_get_max_icc_level(\n \t\t\t\thba->vreg_info.vcc->max_uA,\n \t\t\t\tPOWER_DESC_MAX_ACTV_ICC_LVLS - 1,\n \t\t\t\t&desc_buf[PWR_DESC_ACTIVE_LVLS_VCC_0]);\n \n-\tif (hba->vreg_info.vccq)\n+\tif (hba->vreg_info.vccq && hba->vreg_info.vccq->max_uA)\n \t\ticc_level = ufshcd_get_max_icc_level(\n \t\t\t\thba->vreg_info.vccq->max_uA,\n \t\t\t\ticc_level,\n \t\t\t\t&desc_buf[PWR_DESC_ACTIVE_LVLS_VCCQ_0]);\n \n-\tif (hba->vreg_info.vccq2)\n+\tif (hba->vreg_info.vccq2 && hba->vreg_info.vccq2->max_uA)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0487fff76632ec023d394a05b82e87a971db8c03"}
{"commit_hash": "e040362c573fc09834cb00867897e071e6777ee2", "short_hash": "e040362c573f", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-28T17:16:23+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:11:35-04:00", "subject": "scsi: ufs: Remove unused min_uA field in struct ufs_vreg", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 2, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Marc Gonzalez <marc.w.gonzalez@free.fr> (Free)", "Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 35, "score_technical": 7, "score_impact": 6, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal cleanup in UFS SCSI driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 8, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 16, "details": "Excellent cross-company review, clear rationale"}, "community": {"cross_org": 4, "maintainer": 2, "response": 0, "subtotal": 6, "details": "Mediatek author, Oracle maintainer, multiple reviewers"}}, "score_justification": "Dead code removal removing unused min_uA field from UFS regulator struct", "code_snippet": "@@ -516,7 +516,6 @@ struct ufs_vreg {\n \tbool enabled;\n \tint min_uV;\n \tint max_uV;\n-\tint min_uA;\n \tint max_uA;\n };\n \ndiff --git a/drivers/scsi/ufs/ufshcd-pltfrm.c b/drivers/scsi/ufs/ufshcd-pltfrm.c\nindex 93376ea5a61b..81c5d16e4bc0 100644\n--- a/drivers/scsi/ufs/ufshcd-pltfrm.c\n+++ b/drivers/scsi/ufs/ufshcd-pltfrm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e040362c573fc09834cb00867897e071e6777ee2"}
{"commit_hash": "c9d61a5aa39025caee2971dac7f471fbe761cb27", "short_hash": "c9d61a5aa390", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T23:32:48+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:45:59-04:00", "subject": "scsi: dt-bindings: ufs: Add VCC capability on MediaTek UFS driver", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 9, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny DT binding change (1 file, 3 insertions)"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New power-saving feature for MediaTek UFS"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message explaining power-saving feature"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek -> Oracle (different orgs)"}}, "score_justification": "DT binding addition for VCC supply on MediaTek UFS, enables power-saving", "code_snippet": "@@ -21,6 +21,7 @@ Required properties for UFS nodes:\n                        defined or a value in the array is \"0\" then it is assumed\n                        that the frequency is set by the parent clock or a\n                        fixed rate clock source.\n+- vcc-supply         : phandle to VCC supply regulator node.\n \n Example:\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c9d61a5aa39025caee2971dac7f471fbe761cb27"}
{"commit_hash": "55dc9b3c3156f469d1de209ea03afafeaf6fca08", "short_hash": "55dc9b3c3156", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T23:32:47+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:45:59-04:00", "subject": "scsi: dt-bindings: ufs: Remove custom property \"<name>-fixed-regulator\"", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-CHANGELOG", "MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi/ufs", "subsystems_touched": ["Documentation/devicetree/bindings/ufs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 5, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line deletion in DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 5, "details": "Documentation cleanup with minor runtime effect"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear rationale for removal, good format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (Oracle) differ"}}, "score_justification": "DT binding cleanup removing unused custom property from SCSI/UFSDocumentation", "code_snippet": "@@ -31,7 +31,6 @@ Optional properties:\n - vcc-max-microamp      : specifies max. load that can be drawn from vcc supply\n - vccq-max-microamp     : specifies max. load that can be drawn from vccq supply\n - vccq2-max-microamp    : specifies max. load that can be drawn from vccq2 supply\n-- <name>-fixed-regulator : boolean property specifying that <name>-supply is a fixed regulator\n \n - clocks                : List of phandle and clock specifier pairs\n - clock-names           : List of clock input name strings sorted in the same", "flags": [], "link": "https://lore.kernel.org/linux-kernel/55dc9b3c3156f469d1de209ea03afafeaf6fca08"}
{"commit_hash": "60b7b823fb4158d89e5d4ca798c219bd97639a73", "short_hash": "60b7b823fb41", "author_name": "Zeng Guangyue", "author_email": "zengguangyue@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-03-30T17:03:13+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:45:59-04:00", "subject": "scsi: ufs: remove unnecessary pointer evaluation", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Zeng Guangyue <zengguangyue@hisilicon.com> (HiSilicon)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tomas Winkler <tomas.winkler@intel.com> (Intel)"], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in SCSI UFS driver (Tier 3)"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup affecting UFS storage users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed by Intel, clean scope"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "HiSilicon author, Oracle maintainer, Intel reviewer"}}, "score_justification": "Dead code removal eliminating unnecessary null checks on non-null pointer", "code_snippet": "@@ -7143,10 +7140,7 @@ static int ufshcd_setup_hba_vreg(struct ufs_hba *hba, bool on)\n {\n \tstruct ufs_vreg_info *info = &hba->vreg_info;\n \n-\tif (info)\n-\t\treturn ufshcd_toggle_vreg(hba->dev, info->vdd_hba, on);\n-\n-\treturn 0;\n+\treturn ufshcd_toggle_vreg(hba->dev, info->vdd_hba, on);\n }\n \n static int ufshcd_get_vreg(struct device *dev, struct ufs_vreg *vreg)", "flags": ["SINGLE_AUTHOR", "LINUX_HISILICON"], "link": "https://lore.kernel.org/linux-kernel/60b7b823fb4158d89e5d4ca798c219bd97639a73"}
{"commit_hash": "6087550338ad03f369eaddc1b995c0751a0a68ab", "short_hash": "6087550338ad", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T01:47:41Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:45:59-04:00", "subject": "scsi: qedf: Remove set but not used variable 'fr_len'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Manish Rangankar <mrangankar@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line removal in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Cross-org review, clean message, atomic"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer, Marvell ack"}}, "score_justification": "Unused variable warning fix in SCSI driver with proper review chain", "code_snippet": "@@ -19,7 +19,6 @@ void qedf_fcoe_send_vlan_req(struct qedf_ctx *qedf)\n {\n \tstruct sk_buff *skb;\n \tchar *eth_fr;\n-\tint fr_len;\n \tstruct fip_vlan *vlan;\n #define MY_FIP_ALL_FCF_MACS        ((__u8[6]) { 1, 0x10, 0x18, 1, 0, 2 })\n \tstatic u8 my_fcoe_all_fcfs[ETH_ALEN] = MY_FIP_ALL_FCF_MACS;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6087550338ad03f369eaddc1b995c0751a0a68ab"}
{"commit_hash": "25ea6b19db54a76879e388ff4dfd67be48890f0d", "short_hash": "25ea6b19db54", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-23T21:27:53+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-03T23:46:00-04:00", "subject": "scsi: qla2xxx: Remove useless set memory to zero use memset()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 7, "score_impact": 6, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny change in SCSI driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup affecting driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Dual Signed-off-by with proper explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Removes redundant memset after kzalloc in SCSI driver", "code_snippet": "@@ -8871,7 +8871,6 @@ struct qla_qpair *qla2xxx_create_qpair(struct scsi_qla_host *vha, int qos,\n \t\t\t    \"Failed to allocate memory for queue pair.\\n\");\n \t\t\treturn NULL;\n \t\t}\n-\t\tmemset(qpair, 0, sizeof(struct qla_qpair));\n \n \t\tqpair->hw = vha->hw;\n \t\tqpair->vha = vha;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/25ea6b19db54a76879e388ff4dfd67be48890f0d"}
{"commit_hash": "fd86b2d4bbfc66a42af51677a72254d304d79c99", "short_hash": "fd86b2d4bbfc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:25:31+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-04T10:07:10+02:00", "subject": "rtc: opal: Make opal_tpo_alarm_irq_enable static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -224,7 +224,7 @@ static int opal_set_tpo_time(struct device *dev, struct rtc_wkalrm *alarm)\n \treturn rc;\n }\n \n-int opal_tpo_alarm_irq_enable(struct device *dev, unsigned int enabled)\n+static int opal_tpo_alarm_irq_enable(struct device *dev, unsigned int enabled)\n {\n \tstruct rtc_wkalrm alarm = { .enabled = 0 };\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/fd86b2d4bbfc66a42af51677a72254d304d79c99"}
{"commit_hash": "0aa3d88a9197fd7176dbaf5db769837be6afdf46", "short_hash": "0aa3d88a9197", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:38-07:00", "subject": "net: hns3: minor optimization for ring_space", "primary_category": "FEAT-PERF", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 10, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 16, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver (tier 3)"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for hns3 driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single reviewer, basic commit message, no tests"}, "community": {"cross_org": 0, "maintainer": 3, "response": 0, "subtotal": 3, "details": "Huawei author, @kernel.org maintainer committed"}}, "score_justification": "Minor performance optimization inline function refactor in hns3 driver", "code_snippet": "@@ -577,18 +577,13 @@ union l4_hdr_info {\n \tunsigned char *hdr;\n };\n \n-/* the distance between [begin, end) in a ring buffer\n- * note: there is a unuse slot between the begin and the end\n- */\n-static inline int ring_dist(struct hns3_enet_ring *ring, int begin, int end)\n-{\n-\treturn (end - begin + ring->desc_num) % ring->desc_num;\n-}\n-\n static inline int ring_space(struct hns3_enet_ring *ring)\n {\n-\treturn ring->desc_num -\n-\t\tring_dist(ring, ring->next_to_clean, ring->next_to_use) - 1;\n+\tint begin = ring->next_to_clean;\n+\tint end = ring->next_to_use;\n+\n+\treturn ((end >= begin) ? (ring->desc_num - end + begin) :", "flags": ["MOTIVATION-PERF"], "link": "https://lore.kernel.org/linux-kernel/0aa3d88a9197fd7176dbaf5db769837be6afdf46"}
{"commit_hash": "9c3e713020fc8e08e02d6756b401125ab5cb702c", "short_hash": "9c3e713020fc", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:38-07:00", "subject": "net: hns3: modify the VF network port media type acquisition method", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 43, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional fix for VF driver affecting specific hardware users"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with multiple sign-offs, decent message quality"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, external maintainer commit, multiple Huawei reviewers"}}, "score_justification": "VF media type acquisition method change in hns3 driver with proper review chain", "code_snippet": "@@ -43,6 +43,7 @@ enum HCLGE_MBX_OPCODE {\n \tHCLGE_MBX_GET_QID_IN_PF,\t/* (VF -> PF) get queue id in pf */\n \tHCLGE_MBX_LINK_STAT_MODE,\t/* (PF -> VF) link mode has changed */\n \tHCLGE_MBX_GET_LINK_MODE,\t/* (VF -> PF) get the link mode of pf */\n+\tHCLGE_MBX_GET_MEDIA_TYPE,       /* (VF -> PF) get media type */\n \n \tHCLGE_MBX_GET_VF_FLR_STATUS = 200, /* (M7 -> PF) get vf reset status */\n };\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c\nindex 306a23e486de..9aa9c643afcd 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c", "flags": ["HUAWEI"], "link": "https://lore.kernel.org/linux-kernel/9c3e713020fc8e08e02d6756b401125ab5cb702c"}
{"commit_hash": "72110b567479f0282489a9b3747e76d8c67d75f5", "short_hash": "72110b567479", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:38-07:00", "subject": "net: hns3: return 0 and print warning when hit duplicate MAC", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-COMPAT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in specific network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for VF bonding compatibility"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with adequate explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer"}}, "score_justification": "Driver logic fix to handle duplicate MAC addresses for VF bonding", "code_snippet": "@@ -5962,8 +5962,11 @@ int hclge_add_uc_addr_common(struct hclge_vport *vport,\n \t}\n \n \t/* check if we just hit the duplicate */\n-\tif (!ret)\n-\t\tret = -EINVAL;\n+\tif (!ret) {\n+\t\tdev_warn(&hdev->pdev->dev, \"VF %d mac(%pM) exists\\n\",\n+\t\t\t vport->vport_id, addr);\n+\t\treturn 0;\n+\t}\n \n \tdev_err(&hdev->pdev->dev,\n \t\t\"PF failed to add unicast entry(%pM) in the MAC table\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72110b567479f0282489a9b3747e76d8c67d75f5"}
{"commit_hash": "962e31bdfce9dfe50af66ffe3b9014f227ffcf3b", "short_hash": "962e31bdfce9", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:38-07:00", "subject": "net: hns3: reduce resources use in kdump kernel", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 22, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for kdump kernel scenario"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good commit message with context and error logs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "HNS3 driver enhancement to reduce memory usage in kdump kernel from 512M to 16M", "code_snippet": "@@ -12,6 +12,7 @@\n #include <linux/pci.h>\n #include <linux/platform_device.h>\n #include <linux/if_vlan.h>\n+#include <linux/crash_dump.h>\n #include <net/rtnetlink.h>\n #include \"hclge_cmd.h\"\n #include \"hclge_dcb.h\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/962e31bdfce9dfe50af66ffe3b9014f227ffcf3b"}
{"commit_hash": "95dbab9f3606e9f3724fc0e38298830b09a57559", "short_hash": "95dbab9f3606", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:38-07:00", "subject": "net: hns3: check 1000M half for hns3_ethtool_ops.set_link_ksettings", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, good message, no test"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit by maintainer"}}, "score_justification": "Hardware limitation check for Hisilicon network driver preventing unsupported 1000M half duplex mode", "code_snippet": "@@ -648,6 +648,10 @@ static int hns3_get_link_ksettings(struct net_device *netdev,\n static int hns3_set_link_ksettings(struct net_device *netdev,\n \t\t\t\t   const struct ethtool_link_ksettings *cmd)\n {\n+\t/* Chip doesn't support this mode. */\n+\tif (cmd->base.speed == SPEED_1000 && cmd->base.duplex == DUPLEX_HALF)\n+\t\treturn -EINVAL;\n+\n \t/* Only support ksettings_set for netdev with phy attached for now */\n \tif (netdev->phydev)\n \t\treturn phy_ethtool_ksettings_set(netdev->phydev, cmd);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/95dbab9f3606e9f3724fc0e38298830b09a57559"}
{"commit_hash": "d223dfa40a8f3811a56b3682a9377d7ada73f507", "short_hash": "d223dfa40a8f", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: split function hnae3_match_n_instantiate()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 22, "deletions": 18, "hunks": 16, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 10, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-sized refactor in network driver with 16 hunks"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with clear explanation"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Multiple Huaweian authors, netdev maintainer applied"}}, "score_justification": "Code simplification refactoring splitting one function into two for clarity", "code_snippet": "@@ -76,8 +76,8 @@ static int hnae3_get_client_init_flag(struct hnae3_client *client,\n \treturn inited;\n }\n \n-static int hnae3_match_n_instantiate(struct hnae3_client *client,\n-\t\t\t\t     struct hnae3_ae_dev *ae_dev, bool is_reg)\n+static int hnae3_init_client_instance(struct hnae3_client *client,\n+\t\t\t\t      struct hnae3_ae_dev *ae_dev)\n {\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d223dfa40a8f3811a56b3682a9377d7ada73f507"}
{"commit_hash": "1eeb3367897a3f9f852e186695e28bb623b09f92", "short_hash": "1eeb3367897a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:58+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: modify HNS3_NIC_STATE_INITED flag in hns3_reset_notify_uninit_enet", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit message with co-developer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Atomic bit operation fix to prevent state flag inconsistency in driver uninit path", "code_snippet": "@@ -4128,7 +4128,7 @@ static int hns3_reset_notify_uninit_enet(struct hnae3_handle *handle)\n \tstruct hns3_nic_priv *priv = netdev_priv(netdev);\n \tint ret;\n \n-\tif (!test_bit(HNS3_NIC_STATE_INITED, &priv->state)) {\n+\tif (!test_and_clear_bit(HNS3_NIC_STATE_INITED, &priv->state)) {\n \t\tnetdev_warn(netdev, \"already uninitialized\\n\");\n \t\treturn 0;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1eeb3367897a3f9f852e186695e28bb623b09f92"}
{"commit_hash": "6ff7ed8049ebf932643eee8680bb1d75691fa801", "short_hash": "6ff7ed8049eb", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: prevent change MTU when resetting", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix for specific driver affecting MTU changes"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with clear message explaining the fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "MTU change during reset could cause issues, prevented with check", "code_snippet": "@@ -1591,6 +1591,9 @@ static int hns3_nic_change_mtu(struct net_device *netdev, int new_mtu)\n \tstruct hnae3_handle *h = hns3_get_handle(netdev);\n \tint ret;\n \n+\tif (hns3_nic_resetting(netdev))\n+\t\treturn -EBUSY;\n+\n \tif (!h->ae_algo->ops->set_mtu)\n \t\treturn -EOPNOTSUPP;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6ff7ed8049ebf932643eee8680bb1d75691fa801"}
{"commit_hash": "c4e401e5a934bb0798ebbba98e08dab129695eff", "short_hash": "c4e401e5a934", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: check resetting status in hns3_get_stats()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (1 file, 2 hunks, +5 lines)"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix for potential invalid memory access during reset"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with clear context, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different organization (davem)"}}, "score_justification": "Crash fix adding reset status check to prevent invalid memory access in network driver stats function", "code_snippet": "@@ -483,6 +483,11 @@ static void hns3_get_stats(struct net_device *netdev,\n \tstruct hnae3_handle *h = hns3_get_handle(netdev);\n \tu64 *p = data;\n \n+\tif (hns3_nic_resetting(netdev)) {\n+\t\tnetdev_err(netdev, \"dev resetting, could not get stats\\n\");\n+\t\treturn;\n+\t}\n+\n \tif (!h->ae_algo->ops->get_stats || !h->ae_algo->ops->update_stats) {\n \t\tnetdev_err(netdev, \"could not get any statistics\\n\");\n \t\treturn;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c4e401e5a934bb0798ebbba98e08dab129695eff"}
{"commit_hash": "389775a6605e040dddea21a778a88eaaa57c068d", "short_hash": "389775a6605e", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: add protect when handling mac addr list", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f05e21097121 (\"net: hns3: Clear mac vlan table entries when unload driver or function reset\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 18, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in NIC driver protecting shared lists"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race condition fix for network driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, proper Fixes tag, clear context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "Race condition fix adding lock protection to netdev addr lists", "code_snippet": "@@ -3791,12 +3791,13 @@ static int hns3_recover_hw_addr(struct net_device *ndev)\n \tstruct netdev_hw_addr *ha, *tmp;\n \tint ret = 0;\n \n+\tnetif_addr_lock_bh(ndev);\n \t/* go through and sync uc_addr entries to the device */\n \tlist = &ndev->uc;\n \tlist_for_each_entry_safe(ha, tmp, &list->list, list) {\n \t\tret = hns3_nic_uc_sync(ndev, ha->addr);\n \t\tif (ret)\n-\t\t\treturn ret;\n+\t\t\tgoto out;\n \t}\n \n \t/* go through and sync mc_addr entries to the device */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/389775a6605e040dddea21a778a88eaaa57c068d"}
{"commit_hash": "ffd0a922cdea3f37438aeb76a154da1775e82626", "short_hash": "ffd0a922cdea", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: simplify hclgevf_cmd_csq_clean", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 24, "deletions": 11, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "Simplification with error handling improvement"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic explanation with 2 reviewers"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All Huawei, maintainer committed"}}, "score_justification": "Code simplification removing unnecessary memset and adding validation", "code_snippet": "@@ -27,26 +27,39 @@ static int hclgevf_ring_space(struct hclgevf_cmq_ring *ring)\n \treturn ring->desc_num - used - 1;\n }\n \n+static int hclgevf_is_valid_csq_clean_head(struct hclgevf_cmq_ring *ring,\n+\t\t\t\t\t   int head)\n+{\n+\tint ntu = ring->next_to_use;\n+\tint ntc = ring->next_to_clean;\n+\n+\tif (ntu > ntc)\n+\t\treturn head >= ntc && head <= ntu;\n+\n+\treturn head >= ntc || head <= ntu;\n+}\n+\n static int hclgevf_cmd_csq_clean(struct hclgevf_hw *hw)\n {\n+\tstruct hclgevf_dev *hdev = container_of(hw, struct hclgevf_dev, hw);\n \tstruct hclgevf_cmq_ring *csq = &hw->cmq.csq;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ffd0a922cdea3f37438aeb76a154da1775e82626"}
{"commit_hash": "ceca4a5e3223dbb99c062990a64f7a8c32906674", "short_hash": "ceca4a5e3223", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:17:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:20:39-07:00", "subject": "net: hns3: minor optimization for datapath", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small optimization in network driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for specific NIC"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message quality, limited review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, merged by davem"}}, "score_justification": "Datapath micro-optimization for Hisilicon HNS3 NIC driver adding likely() fast path", "code_snippet": "@@ -1012,7 +1012,6 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \tstruct hns3_desc_cb *desc_cb = &ring->desc_cb[ring->next_to_use];\n \tstruct hns3_desc *desc = &ring->desc[ring->next_to_use];\n \tstruct device *dev = ring_to_dev(ring);\n-\tu16 bdtp_fe_sc_vld_ra_ri = 0;\n \tstruct skb_frag_struct *frag;\n \tunsigned int frag_buf_num;\n \tint k, sizeoflast;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ceca4a5e3223dbb99c062990a64f7a8c32906674"}
{"commit_hash": "15400663aba5de11e99a9a2a35bfb2bae65e28e0", "short_hash": "15400663aba5", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: Fix sparse: some warnings in HNS drivers", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 11, "insertions": 33, "deletions": 43, "hunks": 52, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 7, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 3, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 7, "details": "Medium change in networking driver (11 files, 52 hunks)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Self-commit with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer committed"}}, "score_justification": "Sparse warning cleanup fixing address space annotations in HNS driver", "code_snippet": "@@ -1089,11 +1089,11 @@ static inline u32 dsaf_get_reg_field(void __iomem *base, u32 reg, u32 mask,\n \tdsaf_get_reg_field((dev)->io_base, (reg), (1ull << (bit)), (bit))\n \n #define dsaf_write_b(addr, data)\\\n-\twriteb((data), (__iomem unsigned char *)(addr))\n+\twriteb((data), (__iomem u8 *)(addr))\n #define dsaf_read_b(addr)\\\n-\treadb((__iomem unsigned char *)(addr))\n+\treadb((__iomem u8 *)(addr))\n \n #define hns_mac_reg_read64(drv, offset) \\\n-\treadq((__iomem void *)(((u8 *)(drv)->io_base + 0xc00 + (offset))))\n+\treadq((__iomem void *)(((drv)->io_base + 0xc00 + (offset))))\n \n #endif\t/* _DSAF_REG_H */\ndiff --git a/drivers/net/ethernet/hisilicon/hns_mdio.c b/drivers/net/ethernet/hisilicon/hns_mdio.c\nindex baf5cc251f32..8b8a7d00e8e0 100644\n--- a/drivers/net/ethernet/hisilicon/hns_mdio.c\n+++ b/drivers/net/ethernet/hisilicon/hns_mdio.c", "flags": ["MAINT-WARN_CAP"], "link": "https://lore.kernel.org/linux-kernel/15400663aba5de11e99a9a2a35bfb2bae65e28e0"}
{"commit_hash": "8601a99d7c0256b7a7fdd1ab14cf6c1f1dfcadc6", "short_hash": "8601a99d7c02", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: Fix WARNING when remove HNS driver with SMMU enabled", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 18, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix for specific network driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Good commit with stack trace and 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Fixes WARNING/crash during HNS driver removal with SMMU enabled due to incorrect DMA unmap ordering", "code_snippet": "@@ -150,7 +150,6 @@ static int hnae_alloc_buffers(struct hnae_ring *ring)\n /* free desc along with its attached buffer */\n static void hnae_free_desc(struct hnae_ring *ring)\n {\n-\thnae_free_buffers(ring);\n \tdma_unmap_single(ring_to_dev(ring), ring->desc_dma_addr,\n \t\t\t ring->desc_num * sizeof(ring->desc[0]),\n \t\t\t ring_to_dma_dir(ring));", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8601a99d7c0256b7a7fdd1ab14cf6c1f1dfcadc6"}
{"commit_hash": "f058e46855dcbc28edb2ed4736f38a71fd19cadb", "short_hash": "f058e46855dc", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: fix ICMP6 neighbor solicitation messages discard problem", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 27, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 4 hunks, +27/-6 lines in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting network functionality, affects users of Hisilicon driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author's SOB only, good explanation with symptom description, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei.com, committer @davemloft.net (different org), external maintainer commit"}}, "score_justification": "Bug fix for dropped ICMP6 neighbor solicitation in Hisilicon driver. Adds port ID helper and fixes multicast config.", "code_snippet": "@@ -2750,6 +2750,17 @@ int hns_dsaf_get_regs_count(void)\n \treturn DSAF_DUMP_REGS_NUM;\n }\n \n+static int hns_dsaf_get_port_id(u8 port)\n+{\n+\tif (port < DSAF_SERVICE_NW_NUM)\n+\t\treturn port;\n+\n+\tif (port >= DSAF_BASE_INNER_PORT_NUM)\n+\t\treturn port - DSAF_BASE_INNER_PORT_NUM + DSAF_SERVICE_NW_NUM;\n+\n+\treturn -EINVAL;\n+}\n+\n static void set_promisc_tcam_enable(struct dsaf_device *dsaf_dev, u32 port)\n {\n \tstruct dsaf_tbl_tcam_ucast_cfg tbl_tcam_ucast = {0, 1, 0, 0, 0x80};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f058e46855dcbc28edb2ed4736f38a71fd19cadb"}
{"commit_hash": "c0b0984426814f3a9251873b689e67d34d8ccd84", "short_hash": "c0b098442681", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: Fix probabilistic memory overwrite when HNS driver initialized", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in network driver (1-2 lines changed)"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Memory corruption fix affecting Huawei NIC users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed crash trace with root cause analysis"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "Memory overwrite bug in Hisilicon NIC driver causing random crashes during reboot", "code_snippet": "@@ -129,7 +129,7 @@ static void hns_xgmac_lf_rf_control_init(struct mac_driver *mac_drv)\n \tdsaf_set_bit(val, XGMAC_UNIDIR_EN_B, 0);\n \tdsaf_set_bit(val, XGMAC_RF_TX_EN_B, 1);\n \tdsaf_set_field(val, XGMAC_LF_RF_INSERT_M, XGMAC_LF_RF_INSERT_S, 0);\n-\tdsaf_write_reg(mac_drv, XGMAC_MAC_TX_LF_RF_CONTROL_REG, val);\n+\tdsaf_write_dev(mac_drv, XGMAC_MAC_TX_LF_RF_CONTROL_REG, val);\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c0b0984426814f3a9251873b689e67d34d8ccd84"}
{"commit_hash": "acb1ce15a61154aa501891d67ebf79bc9ea26818", "short_hash": "acb1ce15a611", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: Use NAPI_POLL_WEIGHT for hns driver", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 11, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 7-line change in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration fixing error messages for HNS users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message explaining the error and fix"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "API migration from custom weight constants to standard NAPI_POLL_WEIGHT macro", "code_snippet": "@@ -29,9 +29,6 @@\n \n #define SERVICE_TIMER_HZ (1 * HZ)\n \n-#define NIC_TX_CLEAN_MAX_NUM 256\n-#define NIC_RX_CLEAN_MAX_NUM 64\n-\n #define RCB_IRQ_NOT_INITED 0\n #define RCB_IRQ_INITED 1\n #define HNS_BUFFER_SIZE_2048 2048", "flags": [], "link": "https://lore.kernel.org/linux-kernel/acb1ce15a61154aa501891d67ebf79bc9ea26818"}
{"commit_hash": "3a39a12ad364a9acd1038ba8da67cd8430f30de4", "short_hash": "3a39a12ad364", "author_name": "Liubin Shu", "author_email": "shuliubin@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T16:46:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T10:35:42-07:00", "subject": "net: hns: fix KASAN: use-after-free in hns_nic_net_xmit_hw()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Liubin Shu <shuliubin@huawei.com> (Huawei)", "Zhen Lei <thunder.leizhen@huawei.com> (Huawei)", "Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 18, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in specific network driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Use-after-free fix affecting HNS driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple Signed-off-by but single company"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Davem maintainer merge"}}, "score_justification": "Use-after-free race in HNS driver tx path, moves stats update to avoid accessing freed skb", "code_snippet": "@@ -376,8 +376,6 @@ netdev_tx_t hns_nic_net_xmit_hw(struct net_device *ndev,\n \twmb(); /* commit all data before submit */\n \tassert(skb->queue_mapping < priv->ae_handle->q_num);\n \thnae_queue_xmit(priv->ae_handle->qs[skb->queue_mapping], buf_num);\n-\tring->stats.tx_pkts++;\n-\tring->stats.tx_bytes += skb->len;\n \n \treturn NETDEV_TX_OK;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a39a12ad364a9acd1038ba8da67cd8430f30de4"}
{"commit_hash": "ba5e60c9b75dec92d4c695b928f69300b17d7686", "short_hash": "ba5e60c9b75d", "author_name": "Peng Hao", "author_email": "peng.hao2@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-02T22:12:38+08:00", "committer_name": "Ludovic Desroches", "committer_email": "ludovic.desroches@microchip.com", "committer_company": "Microchip", "commit_date": "2019-04-04T12:00:24+02:00", "subject": "arm/mach-at91/pm : fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-at91"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Ludovic Desroches <ludovic.desroches@microchip.com> (Microchip)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 6-line change in ARM platform code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting AT91 platform users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clean fix with proper review tags and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company contribution with maintainer signoff"}}, "score_justification": "Device reference leak fix on error path in AT91 power management", "code_snippet": "@@ -591,13 +591,13 @@ static int __init at91_pm_backup_init(void)\n \n \tnp = of_find_compatible_node(NULL, NULL, \"atmel,sama5d2-securam\");\n \tif (!np)\n-\t\tgoto securam_fail;\n+\t\tgoto securam_fail_no_ref_dev;\n \n \tpdev = of_find_device_by_node(np);\n \tof_node_put(np);\n \tif (!pdev) {\n \t\tpr_warn(\"%s: failed to find securam device!\\n\", __func__);\n-\t\tgoto securam_fail;\n+\t\tgoto securam_fail_no_ref_dev;\n \t}\n \n \tsram_pool = gen_pool_get(&pdev->dev, NULL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba5e60c9b75dec92d4c695b928f69300b17d7686"}
{"commit_hash": "d1ff8d07166b7388901137c551a4118054ca4760", "short_hash": "d1ff8d07166b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:14:25+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-04T12:15:36+07:00", "subject": "pinctrl: fsl: Make pinctrl_ipc_handle static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/freescale"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in pinctrl driver (tier 4)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean fix with cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Linaro) from different companies"}}, "score_justification": "Sparse warning fix adding static keyword to variable declaration", "code_snippet": "@@ -35,7 +35,7 @@ struct imx_sc_msg_resp_pad_get {\n \tu32 val;\n } __packed;\n \n-struct imx_sc_ipc *pinctrl_ipc_handle;\n+static struct imx_sc_ipc *pinctrl_ipc_handle;\n \n int imx_pinctrl_sc_ipc_init(struct platform_device *pdev)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1ff8d07166b7388901137c551a4118054ca4760"}
{"commit_hash": "b6c573e5e8652330525d61b583203e7b71a09c53", "short_hash": "b6c573e5e865", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T07:11:39Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-04T12:50:44+07:00", "subject": "ASoC: Mediatek: MT8183: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion in audio driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic coccinelle-generated cleanup, properly scoped"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer applied"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field in platform driver", "code_snippet": "@@ -364,7 +364,6 @@ static const struct of_device_id mt8183_mt6358_ts3a227_max98357_dt_match[] = {\n static struct platform_driver mt8183_mt6358_ts3a227_max98357_driver = {\n \t.driver = {\n \t\t.name = \"mt8183_mt6358_ts3a227_max98357\",\n-\t\t.owner = THIS_MODULE,\n #ifdef CONFIG_OF\n \t\t.of_match_table = mt8183_mt6358_ts3a227_max98357_dt_match,\n #endif\n", "flags": ["COCCINELLE_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/b6c573e5e8652330525d61b583203e7b71a09c53"}
{"commit_hash": "d82e78b0a578a712629cdb6cb7bfc66fb3215306", "short_hash": "d82e78b0a578", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T07:11:59Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-04T12:50:58+07:00", "subject": "ASoC: Mediatek: MT8183: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line deletion in audio driver (tier3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Coccinelle-generated, author+committer SoB only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -454,7 +454,6 @@ static const struct of_device_id mt8183_da7219_max98357_dt_match[] = {\n static struct platform_driver mt8183_da7219_max98357_driver = {\n \t.driver = {\n \t\t.name = \"mt8183_da7219_max98357\",\n-\t\t.owner = THIS_MODULE,\n #ifdef CONFIG_OF\n \t\t.of_match_table = mt8183_da7219_max98357_dt_match,\n #endif\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/d82e78b0a578a712629cdb6cb7bfc66fb3215306"}
{"commit_hash": "bc29d3a69d4c1bd1a103e8b3c1ed81b807c1870b", "short_hash": "bc29d3a69d4c", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-04T00:04:13+08:00", "committer_name": "Eric Anholt", "committer_email": "eric@anholt.net", "committer_company": "Anholt", "commit_date": "2019-04-04T12:56:45-07:00", "subject": "drm/pl111: fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/pl111"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Eric Anholt <eric@anholt.net> (Anholt)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line change in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Coccinelle-detected, well-documented with cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Anholt maintainer committer, different orgs"}}, "score_justification": "", "code_snippet": "@@ -330,6 +330,7 @@ int pl111_versatile_init(struct device *dev, struct pl111_drm_dev_private *priv)\n \t\tret = vexpress_muxfpga_init();\n \t\tif (ret) {\n \t\t\tdev_err(dev, \"unable to initialize muxfpga driver\\n\");\n+\t\t\tof_node_put(np);\n \t\t\treturn ret;\n \t\t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc29d3a69d4c1bd1a103e8b3c1ed81b807c1870b"}
{"commit_hash": "003b686ace820ce2d635a83f10f2d7f9c147dabc", "short_hash": "003b686ace82", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-12T15:03:58+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-04T13:18:42+03:00", "subject": "mwifiex: Fix mem leak in mwifiex_tm_cmd", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 3935ccc14d2c (\"mwifiex: add cfg80211 testmode support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/marvell/mwifiex"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix (4 insertions) in wireless networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with Fixes tag, affects WiFi users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Fixes tag with clear explanation, basic SOB chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer Kalle Valo committed"}}, "score_justification": "Memory leak fix in mwifiex WiFi driver error paths", "code_snippet": "@@ -4082,16 +4082,20 @@ static int mwifiex_tm_cmd(struct wiphy *wiphy, struct wireless_dev *wdev,\n \n \t\tif (mwifiex_send_cmd(priv, 0, 0, 0, hostcmd, true)) {\n \t\t\tdev_err(priv->adapter->dev, \"Failed to process hostcmd\\n\");\n+\t\t\tkfree(hostcmd);\n \t\t\treturn -EFAULT;\n \t\t}\n \n \t\t/* process hostcmd response*/\n \t\tskb = cfg80211_testmode_alloc_reply_skb(wiphy, hostcmd->len);\n-\t\tif (!skb)\n+\t\tif (!skb) {\n+\t\t\tkfree(hostcmd);\n \t\t\treturn -ENOMEM;\n+\t\t}\n \t\terr = nla_put(skb, MWIFIEX_TM_ATTR_DATA,\n \t\t\t      hostcmd->len, hostcmd->cmd);\n \t\tif (err) {\n+\t\t\tkfree(hostcmd);\n \t\t\tkfree_skb(skb);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/003b686ace820ce2d635a83f10f2d7f9c147dabc"}
{"commit_hash": "1c41860864c8ae0387ef7d44f0000e99cbb2e06d", "short_hash": "1c41860864c8", "author_name": "Wei Li", "author_email": "liwei391@huawei.com", "author_company": "Huawei", "author_date": "2019-04-01T11:55:57+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-04-04T16:02:25+01:00", "subject": "arm64: fix wrong check of on_sdei_stack in nmi context", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Li <liwei391@huawei.com> (Huawei)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["Julien Thierry <julien.thierry@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arch/arm64 subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting ARM64 users with pseudo NMI"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by tag, detailed bug description, atomic fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, ARM maintainer, cross-company review"}}, "score_justification": "NULL pointer dereference fix in ARM64 SDEI stack detection during NMI unwind", "code_snippet": "@@ -94,6 +94,9 @@ static bool on_sdei_normal_stack(unsigned long sp, struct stack_info *info)\n \tunsigned long low = (unsigned long)raw_cpu_read(sdei_stack_normal_ptr);\n \tunsigned long high = low + SDEI_STACK_SIZE;\n \n+\tif (!low)\n+\t\treturn false;\n+\n \tif (sp < low || sp >= high)\n \t\treturn false;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c41860864c8ae0387ef7d44f0000e99cbb2e06d"}
{"commit_hash": "fe1ec0bdfba4e7bfe6db81a1e4ac74beb36691e8", "short_hash": "fe1ec0bdfba4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T15:52:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T17:36:23-07:00", "subject": "ehea: remove set but not used variables 'epa' and 'cq_handle_ref'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 7a291083225a (\"[PATCH] ehea: IBM eHEA Ethernet Device Driver\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/ibm/ehea", "subsystems_touched": ["drivers/net/ethernet/ibm/ehea"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in network driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-org review with detailed message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Codeaurora reviewer, netdev maintainer"}}, "score_justification": "Compiler warning fix removing unused variables in IBM eHEA driver", "code_snippet": "@@ -123,8 +123,7 @@ struct ehea_cq *ehea_create_cq(struct ehea_adapter *adapter,\n \t\t\t       int nr_of_cqe, u64 eq_handle, u32 cq_token)\n {\n \tstruct ehea_cq *cq;\n-\tstruct h_epa epa;\n-\tu64 *cq_handle_ref, hret, rpage;\n+\tu64 hret, rpage;\n \tu32 counter;\n \tint ret;\n \tvoid *vpage;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fe1ec0bdfba4e7bfe6db81a1e4ac74beb36691e8"}
{"commit_hash": "1789b8aabefb3e87456a4c63fe547bb330b16fe0", "short_hash": "1789b8aabefb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T15:50:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T17:36:23-07:00", "subject": "net: pasemi: remove set but not used variable 'cpyhdr'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/pasemi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file change in networking driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by with detailed warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Codeaurora reviewer, davem maintainer"}}, "score_justification": "Compiler warning fix removing unused variable from ethernet driver", "code_snippet": "@@ -1355,7 +1355,7 @@ static void pasemi_mac_queue_csdesc(const struct sk_buff *skb,\n \tconst int nh_off = skb_network_offset(skb);\n \tconst int nh_len = skb_network_header_len(skb);\n \tconst int nfrags = skb_shinfo(skb)->nr_frags;\n-\tint cs_size, i, fill, hdr, cpyhdr, evt;\n+\tint cs_size, i, fill, hdr, evt;\n \tdma_addr_t csdma;\n \n \tfund = XCT_FUN_ST | XCT_FUN_RR_8BRES |", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1789b8aabefb3e87456a4c63fe547bb330b16fe0"}
{"commit_hash": "c8f191282f819ab4e9b47b22a65c6c29734cefce", "short_hash": "c8f191282f81", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T15:47:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T17:36:23-07:00", "subject": "ehea: Fix a copy-paste err in ehea_init_port_res", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ce45b873028f (\"ehea: Fixing statistics\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/ibm/ehea"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 40, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by tag, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei/CodeAurora), reported by internal robot"}}, "score_justification": "Copy-paste error fixing wrong variable assignment in network driver statistics init", "code_snippet": "@@ -1463,7 +1463,7 @@ static int ehea_init_port_res(struct ehea_port *port, struct ehea_port_res *pr,\n \n \tmemset(pr, 0, sizeof(struct ehea_port_res));\n \n-\tpr->tx_bytes = rx_bytes;\n+\tpr->tx_bytes = tx_bytes;\n \tpr->tx_packets = tx_packets;\n \tpr->rx_bytes = rx_bytes;\n \tpr->rx_packets = rx_packets;\n", "flags": ["REPORTED_BY_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/c8f191282f819ab4e9b47b22a65c6c29734cefce"}
{"commit_hash": "53a6b206e36f160dbaa5727e68f8418de0b10bbf", "short_hash": "53a6b206e36f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T15:54:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-04T17:36:24-07:00", "subject": "ibmvnic: remove set but not used variable 'netdev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ed651a10875f (\"ibmvnic: Updated reset handling\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/ibm", "subsystems_touched": ["drivers/net/ethernet/ibm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line deletion in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and reviewer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Compiler warning fix removing unused variable in IBM VNIC driver", "code_snippet": "@@ -1968,13 +1968,11 @@ static void __ibmvnic_reset(struct work_struct *work)\n {\n \tstruct ibmvnic_rwi *rwi;\n \tstruct ibmvnic_adapter *adapter;\n-\tstruct net_device *netdev;\n \tbool we_lock_rtnl = false;\n \tu32 reset_state;\n \tint rc = 0;\n \n \tadapter = container_of(work, struct ibmvnic_adapter, ibmvnic_reset);\n-\tnetdev = adapter->netdev;\n \n \t/* netif_set_real_num_xx_queues needs to take rtnl lock here\n \t * unless wait_for_reset is set, in which case the rtnl lock\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/53a6b206e36f160dbaa5727e68f8418de0b10bbf"}
{"commit_hash": "6af1c849dfb1f1d326fbdd157c9bc882b921f450", "short_hash": "6af1c849dfb1", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T08:44:05Z", "committer_name": "Al Viro", "committer_email": "viro@zeniv.linux.org.uk", "committer_company": "Org", "commit_date": "2019-04-04T20:13:59-04:00", "subject": "aio: use kmem_cache_free() instead of kfree()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: fa0ca2aee3be (\"deal with get_reqs_available() in aio_get_req() itself\")", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/aio"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Al Viro <viro@zeniv.linux.org.uk> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 2-line change in critical fs/aio subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix in AIO path affecting many users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good Fixes tag but minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Resource leak fix using correct kmem_cache_free() for kmem_cache_alloc()", "code_snippet": "@@ -1034,7 +1034,7 @@ static inline struct aio_kiocb *aio_get_req(struct kioctx *ctx)\n \t\treturn NULL;\n \n \tif (unlikely(!get_reqs_available(ctx))) {\n-\t\tkfree(req);\n+\t\tkmem_cache_free(kiocb_cachep, req);\n \t\treturn NULL;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6af1c849dfb1f1d326fbdd157c9bc882b921f450"}
{"commit_hash": "76838a8f2973f632a1759fe169e1e77a39bc5aa3", "short_hash": "76838a8f2973", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-02-18T06:57:35Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-04T20:19:40+01:00", "subject": "iio: adc: ingenic: remove redundant dev_err call in ingenic_adc_probe()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 6, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in IIO ADC driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup removing redundant message"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear explanation but minimal review"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Author/committer same company"}}, "score_justification": "Removes redundant dev_err call already in devm_ioremap_resource", "code_snippet": "@@ -302,10 +302,8 @@ static int ingenic_adc_probe(struct platform_device *pdev)\n \n \tmem_base = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tadc->base = devm_ioremap_resource(dev, mem_base);\n-\tif (IS_ERR(adc->base)) {\n-\t\tdev_err(dev, \"Unable to ioremap mmio resource\\n\");\n+\tif (IS_ERR(adc->base))\n \t\treturn PTR_ERR(adc->base);\n-\t}\n \n \tadc->clk = devm_clk_get(dev, \"adc\");\n \tif (IS_ERR(adc->clk)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/76838a8f2973f632a1759fe169e1e77a39bc5aa3"}
{"commit_hash": "20d9248e704a3a852cfc35a4003732349cb7cf3d", "short_hash": "20d9248e704a", "author_name": "Jonathan Cameron", "author_email": "Jonathan.Cameron@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T18:23:44Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-04T20:19:57+01:00", "subject": "iio:dac:ad5064 mlock cleanup - move to a local lock.", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio/dac", "subsystems_touched": ["drivers/iio/dac"], "subsystem_tier": 4, "files_changed": 1, "insertions": 9, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 10, "score_quality": 8, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in IIO DAC driver with 10 hunks across 1 file"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration affecting DAC driver users, limited scope"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation of rationale, self-committed without review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-committed by author, no external involvement"}}, "score_justification": "Lock scope refactoring migrating from indio_dev->mlock to local device lock", "code_snippet": "@@ -349,12 +351,12 @@ static int ad5064_write_raw(struct iio_dev *indio_dev,\n \t\tif (val >= (1 << chan->scan_type.realbits) || val < 0)\n \t\t\treturn -EINVAL;\n \n-\t\tmutex_lock(&indio_dev->mlock);\n+\t\tmutex_lock(&st->lock);\n \t\tret = ad5064_write(st, AD5064_CMD_WRITE_INPUT_N_UPDATE_N,\n \t\t\t\tchan->address, val, chan->scan_type.shift);\n \t\tif (ret == 0)\n \t\t\tst->dac_cache[chan->channel] = val;\n-\t\tmutex_unlock(&indio_dev->mlock);\n+\t\tmutex_unlock(&st->lock);\n \t\tbreak;\n \tdefault:\n \t\tret = -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/20d9248e704a3a852cfc35a4003732349cb7cf3d"}
{"commit_hash": "1889ae50a906411b38282f11a5ea9a0375bf867f", "short_hash": "1889ae50a906", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T23:09:09+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-04T22:25:10+07:00", "subject": "pinctrl: artpec6: Make two functions static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": ["Jesper Nilsson <jesper.nilsson@axis.com> (Axis)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -688,8 +688,9 @@ static void artpec6_pmx_select_func(struct pinctrl_dev *pctldev,\n \t}\n }\n \n-int artpec6_pmx_enable(struct pinctrl_dev *pctldev, unsigned int function,\n-\t\t       unsigned int group)\n+static int artpec6_pmx_enable(struct pinctrl_dev *pctldev,\n+\t\t\t      unsigned int function,\n+\t\t\t      unsigned int group)\n {\n \tstruct artpec6_pmx *pmx = pinctrl_dev_get_drvdata(pctldev);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/1889ae50a906411b38282f11a5ea9a0375bf867f"}
{"commit_hash": "d9b8a67b3b95a5c5aae6422b8113adc1c2485f2b", "short_hash": "d9b8a67b3b95", "author_name": "Liu Jian", "author_email": "liujian56@huawei.com", "author_company": "Huawei", "author_date": "2019-03-03T15:04:18+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-04-05T00:39:19+02:00", "subject": "mtd: cfi: fix deadloop in cfi_cmdset_0002.c do_write_buffer", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: dfeae1073583 (\"mtd: cfi_cmdset_0002: Change write buffer to check correct value\")", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/chips"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Huaijie <yihuaijie@huawei.com> (Huawei)", "Liu Jian <liujian56@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": ["Tokunori Ikegami <ikegami_to@yahoo.co.jp> (Co)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in MTD driver (tier 4)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Deadlock fix with regression tag, affects MTD users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain, detailed message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Infinite loop fix in MTD CFI driver with proper Fixes tag", "code_snippet": "@@ -1876,7 +1876,11 @@ static int __xipram do_write_buffer(struct map_info *map, struct flchip *chip,\n \t\t\tcontinue;\n \t\t}\n \n-\t\tif (time_after(jiffies, timeo) && !chip_ready(map, adr))\n+\t\t/*\n+\t\t * We check \"time_after\" and \"!chip_good\" before checking \"chip_good\" to avoid\n+\t\t * the failure due to scheduling.\n+\t\t */\n+\t\tif (time_after(jiffies, timeo) && !chip_good(map, adr, datum))\n \t\t\tbreak;\n \n \t\tif (chip_good(map, adr, datum)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9b8a67b3b95a5c5aae6422b8113adc1c2485f2b"}
{"commit_hash": "f0d1762554014ce0ae347b9f0d088f2c157c8c72", "short_hash": "f0d176255401", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-05T10:14:58+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-05T09:24:34-06:00", "subject": "paride/pcd: Fix potential NULL pointer dereference and mem leak", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "Fixes: 81b74ac68c28 (\"paride/pcd: cleanup queues when detection fails\")", "cc_stable": false, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block/paride"], "subsystem_tier": 4, "files_changed": 1, "insertions": 13, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 8, "score_impact": 19, "score_quality": 9, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small targeted fix in block device driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "NULL deref crash fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit with stack trace and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org commit by Axboe, reported by Hulk Robot"}}, "score_justification": "NULL pointer dereference crash and memory leak fix in paride driver with detailed syzbot report", "code_snippet": "@@ -1010,8 +1013,14 @@ static int __init pcd_init(void)\n \tpcd_probe_capabilities();\n \n \tif (register_blkdev(major, name)) {\n-\t\tfor (unit = 0, cd = pcd; unit < PCD_UNITS; unit++, cd++)\n+\t\tfor (unit = 0, cd = pcd; unit < PCD_UNITS; unit++, cd++) {\n+\t\t\tif (!cd->disk)\n+\t\t\t\tcontinue;\n+\n+\t\t\tblk_cleanup_queue(cd->disk->queue);\n+\t\t\tblk_mq_free_tag_set(&cd->tag_set);\n \t\t\tput_disk(cd->disk);\n+\t\t}\n \t\treturn -EBUSY;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f0d1762554014ce0ae347b9f0d088f2c157c8c72"}
{"commit_hash": "e8458e7afa855317b14915d7b86ab3caceea7eb6", "short_hash": "e8458e7afa85", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T15:45:12+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-04-05T14:37:56+02:00", "subject": "genirq: Initialize request_mutex if CONFIG_SPARSE_IRQ=n", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9114014cf4e6 (\"genirq: Add mutex to irq desc to serialize request/free_irq()\")", "cc_stable": true, "subsystem_prefix": "genirq", "subsystems_touched": ["kernel/irq"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 12, "score_impact": 22, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Tiny change in critical kernel IRQ subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Fixes uninitialized mutex affecting all systems"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Well-reviewed with Fixes tag and stable CC"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org commit from Huawei to Linutronix"}}, "score_justification": "Uninitialized mutex fix in core IRQ subsystem with stable backport", "code_snippet": "@@ -558,6 +558,7 @@ int __init early_irq_init(void)\n \t\talloc_masks(&desc[i], node);\n \t\traw_spin_lock_init(&desc[i].lock);\n \t\tlockdep_set_class(&desc[i].lock, &irq_desc_lock_class);\n+\t\tmutex_init(&desc[i].request_mutex);\n \t\tdesc_set_defaults(i, &desc[i], node, NULL, NULL);\n \t}\n \treturn arch_early_irq_init();\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e8458e7afa855317b14915d7b86ab3caceea7eb6"}
{"commit_hash": "73f28f714a8fd0ecb692a225bb7a5979d902ecb5", "short_hash": "73f28f714a8f", "author_name": "Xuefeng Wang", "author_email": "wxf.wang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-02-15T11:13:59+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-06T15:05:31+02:00", "subject": "rtc: lib: check whether tm->tm_year in int32 range", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "rtc", "subsystems_touched": ["drivers/rtc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xuefeng Wang <wxf.wang@hisilicon.com> (HiSilicon)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1-line fix in RTC driver validation function"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Integer overflow crash fix affecting RTC users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Ubsan report with stack trace, dual sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, Bootlin maintainer"}}, "score_justification": "Ubsan-detected integer overflow fix preventing signed integer overflow in rtc_year validation", "code_snippet": "@@ -94,6 +94,7 @@ EXPORT_SYMBOL(rtc_time64_to_tm);\n int rtc_valid_tm(struct rtc_time *tm)\n {\n \tif (tm->tm_year < 70 ||\n+\t    tm->tm_year > (INT_MAX - 1900) ||\n \t    ((unsigned int)tm->tm_mon) >= 12 ||\n \t    tm->tm_mday < 1 ||\n \t    tm->tm_mday > rtc_month_days(tm->tm_mon,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73f28f714a8fd0ecb692a225bb7a5979d902ecb5"}
{"commit_hash": "fb203751099eecf145317685ee480a51e5b246de", "short_hash": "fb203751099e", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-06T18:14:17-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-04-06T18:14:17-04:00", "subject": "jbd2: remove repeated assignments in __jbd2_log_wait_for_space()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 9, "score_impact": 8, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Minimal change in critical filesystem journaling layer"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code cleanup with minor runtime impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review chain with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer signoff"}}, "score_justification": "Removal of redundant assignment in jbd2 journaling checkpoint code", "code_snippet": "@@ -132,7 +132,6 @@ void __jbd2_log_wait_for_space(journal_t *journal)\n \t\t\treturn;\n \t\t}\n \t\tspin_lock(&journal->j_list_lock);\n-\t\tnblocks = jbd2_space_needed(journal);\n \t\tspace_left = jbd2_log_space_left(journal);\n \t\tif (space_left < nblocks) {\n \t\t\tint chkpt = journal->j_checkpoint_transactions != NULL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb203751099eecf145317685ee480a51e5b246de"}
{"commit_hash": "d454a27384f6eb05904a59d1607461b7ad312aa9", "short_hash": "d454a27384f6", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-07T11:54:27-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-04-07T11:54:27-04:00", "subject": "ext4: fix prefetchw of NULL page", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ext4", "subsystems_touched": ["fs/ext4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Logic fix affecting ext4 readahead performance"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation of prefetch timing bug"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, MIT maintainer commitment"}}, "score_justification": "Fixes prefetchw() on NULL pointer in ext4 readahead path", "code_snippet": "@@ -127,9 +127,10 @@ int ext4_mpage_readpages(struct address_space *mapping,\n \t\tint fully_mapped = 1;\n \t\tunsigned first_hole = blocks_per_page;\n \n-\t\tprefetchw(&page->flags);\n \t\tif (pages) {\n \t\t\tpage = lru_to_page(pages);\n+\n+\t\t\tprefetchw(&page->flags);\n \t\t\tlist_del(&page->lru);\n \t\t\tif (add_to_page_cache_lru(page, mapping, page->index,\n \t\t\t\t  readahead_gfp_mask(mapping)))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d454a27384f6eb05904a59d1607461b7ad312aa9"}
{"commit_hash": "9dc6488e84b0f64df17672271664752488cd6a25", "short_hash": "9dc6488e84b0", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-04-04T10:58:01+08:00", "committer_name": "Dan Williams", "committer_email": "dan.j.williams@intel.com", "committer_company": "Intel", "commit_date": "2019-04-07T14:36:04-07:00", "subject": "libnvdimm/pmem: fix a possible OOB access when read and write pmem", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 98cc093cba1e (\"block, THP: make block_device_operations.rw_page support THP\")", "cc_stable": false, "subsystem_prefix": "libnvdimm", "subsystems_touched": ["drivers/nvdimm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Liang ZhiCheng <liangzhicheng@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Dan Williams <dan.j.williams@intel.com> (Intel)"], "reviewed_by": ["Ira Weiny <ira.weiny@intel.com> (Intel)", "Jeff Moyer <jmoyer@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 8, "score_impact": 20, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in storage subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "OOB access fix with data corruption potential"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers, detailed explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Baidu author, Intel committer, Red Hat reviewer"}}, "score_justification": "OOB access fix in pmem driver with cross-org review", "code_snippet": "@@ -113,13 +113,13 @@ static void write_pmem(void *pmem_addr, struct page *page,\n \n \twhile (len) {\n \t\tmem = kmap_atomic(page);\n-\t\tchunk = min_t(unsigned int, len, PAGE_SIZE);\n+\t\tchunk = min_t(unsigned int, len, PAGE_SIZE - off);\n \t\tmemcpy_flushcache(pmem_addr, mem + off, chunk);\n \t\tkunmap_atomic(mem);\n \t\tlen -= chunk;\n \t\toff = 0;\n \t\tpage++;\n-\t\tpmem_addr += PAGE_SIZE;\n+\t\tpmem_addr += chunk;\n \t}\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9dc6488e84b0f64df17672271664752488cd6a25"}
{"commit_hash": "5055376a3b44c4021de8830c9157f086a97731df", "short_hash": "5055376a3b44", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T10:04:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-07T22:44:02-07:00", "subject": "net: vrf: Fix ping failed when vrf mtu is set to 0", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: ad49bc6361ca2 (\"net: vrf: remove MTU limits for vrf device\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["David Ahern <dsahern@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 16, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting VRF networking users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 13, "details": "Good reproduction steps and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "VRF MTU regression fix with repro steps and proper Fixes tag", "code_snippet": "@@ -1275,8 +1275,12 @@ static void vrf_setup(struct net_device *dev)\n \tdev->priv_flags |= IFF_NO_QUEUE;\n \tdev->priv_flags |= IFF_NO_RX_HANDLER;\n \n-\tdev->min_mtu = 0;\n-\tdev->max_mtu = 0;\n+\t/* VRF devices do not care about MTU, but if the MTU is set\n+\t * too low then the ipv4 and ipv6 protocols are disabled\n+\t * which breaks networking.\n+\t */\n+\tdev->min_mtu = IPV6_MIN_MTU;\n+\tdev->max_mtu = ETH_MAX_MTU;\n }\n \n static int vrf_validate(struct nlattr *tb[], struct nlattr *data[],\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5055376a3b44c4021de8830c9157f086a97731df"}
{"commit_hash": "6a8aae68c87349dbbcd46eac380bc43cdb98a13b", "short_hash": "6a8aae68c873", "author_name": "Longpeng", "author_email": "longpeng2@huawei.com", "author_company": "Huawei", "author_date": "2019-03-09T15:17:40+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-08T08:40:58-04:00", "subject": "virtio_pci: fix a NULL pointer reference in vp_del_vqs", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/virtio", "subsystems_touched": ["drivers/virtio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Longpeng <longpeng2@huawei.com> (Huawei)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": ["Gonglei <arei.gonglei@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in virtio driver with NULL pointer guard"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting virtio device users with production failure evidence"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Reviewed-by, includes detailed stack trace, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Red Hat, Reviewed-by from same company"}}, "score_justification": "NULL pointer dereference crash fix in virtio driver with production stack trace evidence", "code_snippet": "@@ -255,9 +255,11 @@ void vp_del_vqs(struct virtio_device *vdev)\n \tfor (i = 0; i < vp_dev->msix_used_vectors; ++i)\n \t\tfree_irq(pci_irq_vector(vp_dev->pci_dev, i), vp_dev);\n \n-\tfor (i = 0; i < vp_dev->msix_vectors; i++)\n-\t\tif (vp_dev->msix_affinity_masks[i])\n-\t\t\tfree_cpumask_var(vp_dev->msix_affinity_masks[i]);\n+\tif (vp_dev->msix_affinity_masks) {\n+\t\tfor (i = 0; i < vp_dev->msix_vectors; i++)\n+\t\t\tif (vp_dev->msix_affinity_masks[i])\n+\t\t\t\tfree_cpumask_var(vp_dev->msix_affinity_masks[i]);\n+\t}\n \n \tif (vp_dev->msix_enabled) {\n \t\t/* Disable the vector used for configuration */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6a8aae68c87349dbbcd46eac380bc43cdb98a13b"}
{"commit_hash": "b0d2569d8276439eb3d6f7d221f47bfc503ae00e", "short_hash": "b0d2569d8276", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-28T01:39:58Z", "committer_name": "Bartosz Golaszewski", "committer_email": "bgolaszewski@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-04-08T08:47:06+02:00", "subject": "gpio: mlxbf: remove unused including <linux/version.h>", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-INCLUDE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["drivers/gpio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartosz Golaszewski <bgolaszewski@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 5, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line deletion in GPIO driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Cleanup with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Signed-off chain, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Baylibre maintainer"}}, "score_justification": "Include cleanup removing unused version.h header", "code_snippet": "@@ -11,7 +11,6 @@\n #include <linux/pm.h>\n #include <linux/resource.h>\n #include <linux/types.h>\n-#include <linux/version.h>\n \n /* Number of pins on BlueField */\n #define MLXBF_GPIO_NR 54\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b0d2569d8276439eb3d6f7d221f47bfc503ae00e"}
{"commit_hash": "b2130cca9c8db5073b71d832da2a6c8311a8f3bb", "short_hash": "b2130cca9c8d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-01T09:47:43-08:00", "committer_name": "Deepak Rawat", "committer_email": "drawat@vmware.com", "committer_company": "VMware", "commit_date": "2019-04-08T10:29:04-07:00", "subject": "drm/vmwgfx: Remove set but not used variable 'restart'", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: dc366364c4ef (\"drm/vmwgfx: Fix multiple command buffer context use\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/vmwgfx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Deepak Rawat <drawat@vmware.com> (VMware)"], "reviewed_by": ["Deepak Rawat <drawat@vmware.com> (VMware)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change removing unused variable array in GPU driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with Fixes tag referencing regression cause"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-reviewed commit with detailed explanation and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, VMware committer/reviewer across organizations"}}, "score_justification": "Removes unused variable left by previous commit in vmwgfx driver", "code_snippet": "@@ -511,17 +511,14 @@ static void vmw_cmdbuf_work_func(struct work_struct *work)\n \t\tcontainer_of(work, struct vmw_cmdbuf_man, work);\n \tstruct vmw_cmdbuf_header *entry, *next;\n \tuint32_t dummy;\n-\tbool restart[SVGA_CB_CONTEXT_MAX];\n \tbool send_fence = false;\n \tstruct list_head restart_head[SVGA_CB_CONTEXT_MAX];\n \tint i;\n \tstruct vmw_cmdbuf_context *ctx;\n \tbool global_block = false;\n \n-\tfor_each_cmdbuf_ctx(man, i, ctx) {\n+\tfor_each_cmdbuf_ctx(man, i, ctx)\n \t\tINIT_LIST_HEAD(&restart_head[i]);\n-\t\trestart[i] = false;\n-\t}\n \n \tmutex_lock(&man->error_mutex);\n \tspin_lock(&man->lock);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2130cca9c8db5073b71d832da2a6c8311a8f3bb"}
{"commit_hash": "c601b12fb634e2d0c2669706b38dba98a3c3a832", "short_hash": "c601b12fb634", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-25T10:32:17-07:00", "committer_name": "Deepak Rawat", "committer_email": "drawat@vmware.com", "committer_company": "VMware", "commit_date": "2019-04-08T10:29:05-07:00", "subject": "drm/vmwgfx: Remove set but not used variable 'fb_offset, fb_depth'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Deepak Rawat <drawat@vmware.com> (VMware)"], "reviewed_by": ["Deepak Rawat <drawat@vmware.com> (VMware)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean removal with Reviewed-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from VMware"}}, "score_justification": "Compiler warning fix removing unused variables in vmwgfx driver", "code_snippet": "@@ -642,12 +642,11 @@ int vmw_fb_init(struct vmw_private *vmw_priv)\n \tstruct vmw_fb_par *par;\n \tstruct fb_info *info;\n \tunsigned fb_width, fb_height;\n-\tunsigned fb_bpp, fb_depth, fb_offset, fb_pitch, fb_size;\n+\tunsigned int fb_bpp, fb_pitch, fb_size;\n \tstruct drm_display_mode *init_mode;\n \tint ret;\n \n \tfb_bpp = 32;\n-\tfb_depth = 24;\n \n \t/* XXX As shouldn't these be as well. */\n \tfb_width = min(vmw_priv->fb_max_width, (unsigned)2048);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c601b12fb634e2d0c2669706b38dba98a3c3a832"}
{"commit_hash": "9f325c9837251519968821fe82cdd81b2c450a71", "short_hash": "9f325c983725", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T11:35:32+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T11:20:28+02:00", "subject": "pinctrl: mt8183: add DT binding document", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 132, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "New DT binding doc, 132 lines, single file in tier 5"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New hardware binding doc for MT8183, affects driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by, proper format, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Mediatek) != committer (Linaro), cross-org review"}}, "score_justification": "New DT binding documentation for MT8183 pinctrl, properly reviewed by DT maintainer", "code_snippet": "@@ -0,0 +1,132 @@\n+* Mediatek MT8183 Pin Controller\n+\n+The Mediatek's Pin controller is used to control SoC pins.\n+\n+Required properties:\n+- compatible: value should be one of the following.\n+\t\"mediatek,mt8183-pinctrl\", compatible with mt8183 pinctrl.\n+- gpio-controller : Marks the device node as a gpio controller.\n+- #gpio-cells: number of cells in GPIO specifier. Since the generic GPIO\n+  binding is used, the amount of cells must be specified as 2. See the below\n+  mentioned gpio binding representation for description of particular cells.\n+- gpio-ranges : gpio valid number range.\n+- reg: physical address base for gpio base registers. There are 10 GPIO\n+  physical address base in mt8183.\n+\n+Optional properties:\n+- reg-names: gpio base register names. There are 10 gpio base register\n+  names in mt8183. They are \"iocfg0\", \"iocfg1\", \"iocfg2\", \"iocfg3\", \"iocfg4\",\n+  \"iocfg5\", \"iocfg6\", \"iocfg7\", \"iocfg8\", \"eint\".", "flags": ["NEW_BINDING", "HARDWARE_SUPPORT"], "link": "https://lore.kernel.org/linux-kernel/9f325c9837251519968821fe82cdd81b2c450a71"}
{"commit_hash": "5e73de3413c5e0c104588a197cbd158baa085aca", "short_hash": "5e73de3413c5", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T11:35:35+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T11:20:28+02:00", "subject": "pinctrl: add drive for I2C related pins on MT8183", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 131, "deletions": 0, "hunks": 22, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium feature adding I2C drive strength support across 4 files in pinctrl"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for MT8183 I2C pins, affects users of this platform"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message explaining I2C drive strength specification, lacks testing tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Mediatek) and committer (Linaro) from different organizations"}}, "score_justification": "Add advanced drive strength control for I2C pins on MT8183 SoC, new vendor-specific property", "code_snippet": "@@ -472,6 +472,51 @@ static const struct mtk_pin_field_calc mt8183_pin_r1_range[] = {\n \tPIN_FIELD_BASE(133, 133, 8, 0x0D0, 0x10, 13, 1),\n };\n \n+static const struct mtk_pin_field_calc mt8183_pin_e1e0en_range[] = {\n+\tPIN_FIELD_BASE(48, 48, 3, 0x0F0, 0x10, 20, 1),\n+\tPIN_FIELD_BASE(49, 49, 3, 0x0F0, 0x10, 15, 1),\n+\tPIN_FIELD_BASE(50, 50, 4, 0x0F0, 0x10, 12, 1),\n+\tPIN_FIELD_BASE(51, 51, 4, 0x0F0, 0x10, 7, 1),\n+\tPIN_FIELD_BASE(81, 81, 5, 0x0F0, 0x10, 12, 1),\n+\tPIN_FIELD_BASE(82, 82, 5, 0x0F0, 0x10, 9, 1),\n+\tPIN_FIELD_BASE(83, 83, 5, 0x0F0, 0x10, 19, 1),\n+\tPIN_FIELD_BASE(84, 84, 5, 0x0F0, 0x10, 22, 1),\n+\tPIN_FIELD_BASE(103, 103, 6, 0x0F0, 0x10, 24, 1),\n+\tPIN_FIELD_BASE(104, 104, 6, 0x0F0, 0x10, 14, 1),\n+\tPIN_FIELD_BASE(105, 105, 6, 0x0F0, 0x10, 27, 1),\n+\tPIN_FIELD_BASE(106, 106, 6, 0x0F0, 0x10, 17, 1),\n+};\n+\n+static const struct mtk_pin_field_calc mt8183_pin_e0_range[] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e73de3413c5e0c104588a197cbd158baa085aca"}
{"commit_hash": "e1c9a0dc2939e7d51926265123ee93b1caa5e93e", "short_hash": "e1c9a0dc2939", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-04-01T19:13:35+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-04-08T13:05:25-03:00", "subject": "RDMA/hns: Dump detailed driver-specific CQ", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 8, "insertions": 181, "deletions": 2, "hunks": 22, "review_chain": {"signed_off_by": ["Tao Tian <tiantao6@huawei.com> (Huawei)", "Yangyang Li <liyangyang20@huawei.com> (Huawei)", "chenglang <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Leon Romanovsky <leonro@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 14, "score_impact": 14, "score_quality": 15, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "8 files, 22 hunks, +181 lines adding DFX infrastructure to RDMA driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "Debugging feature for hns RDMA driver users, affects driver functionality"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Multiple reviewers, good message with example, but no testing evidence"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Huawei author + Mellanox maintainer + reviewer from different orgs"}}, "score_justification": "Adds debugging/diagnostics feature to hns RDMA driver with cross-company review", "code_snippet": "@@ -7,8 +7,8 @@ ccflags-y :=  -I $(srctree)/drivers/net/ethernet/hisilicon/hns3\n obj-$(CONFIG_INFINIBAND_HNS) += hns-roce.o\n hns-roce-objs := hns_roce_main.o hns_roce_cmd.o hns_roce_pd.o \\\n \thns_roce_ah.o hns_roce_hem.o hns_roce_mr.o hns_roce_qp.o \\\n-\thns_roce_cq.o hns_roce_alloc.o hns_roce_db.o hns_roce_srq.o\n+\thns_roce_cq.o hns_roce_alloc.o hns_roce_db.o hns_roce_srq.o hns_roce_restrack.o\n obj-$(CONFIG_INFINIBAND_HNS_HIP06) += hns-roce-hw-v1.o\n hns-roce-hw-v1-objs := hns_roce_hw_v1.o\n obj-$(CONFIG_INFINIBAND_HNS_HIP08) += hns-roce-hw-v2.o\n-hns-roce-hw-v2-objs := hns_roce_hw_v2.o\n+hns-roce-hw-v2-objs := hns_roce_hw_v2.o hns_roce_hw_v2_dfx.o\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_cmd.h b/drivers/infiniband/hw/hns/hns_roce_cmd.h\nindex 059fd1da493e..2b6ac646ca9a 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_cmd.h\n+++ b/drivers/infiniband/hw/hns/hns_roce_cmd.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e1c9a0dc2939e7d51926265123ee93b1caa5e93e"}
{"commit_hash": "2b277dae0679c8177f161278dbad035688838d6e", "short_hash": "2b277dae0679", "author_name": "chenglang", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-07T13:23:37+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-04-08T13:26:44-03:00", "subject": "RDMA/hns: Support to create 1M srq queue", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["chenglang <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1-line change in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Feature enhancement enabling more SRQ queues"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with brief explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer committed"}}, "score_justification": "Single-line config change to enable 1M SRQ queue support in Hisilicon RDMA driver", "code_snippet": "@@ -1560,7 +1560,7 @@ static int hns_roce_v2_profile(struct hns_roce_dev *hr_dev)\n \tcaps->qpc_hop_num\t= HNS_ROCE_CONTEXT_HOP_NUM;\n \tcaps->srqc_ba_pg_sz\t= 0;\n \tcaps->srqc_buf_pg_sz\t= 0;\n-\tcaps->srqc_hop_num\t= HNS_ROCE_HOP_NUM_0;\n+\tcaps->srqc_hop_num\t= HNS_ROCE_CONTEXT_HOP_NUM;\n \tcaps->cqc_ba_pg_sz\t= 0;\n \tcaps->cqc_buf_pg_sz\t= 0;\n \tcaps->cqc_hop_num\t= HNS_ROCE_CONTEXT_HOP_NUM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2b277dae0679c8177f161278dbad035688838d6e"}
{"commit_hash": "4772e03d239484f3461e33c79d721c8ea03f7416", "short_hash": "4772e03d2394", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-04-07T13:23:38+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-04-08T13:27:58-03:00", "subject": "RDMA/hns: Fix bug that caused srq creation to fail", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 0203b14c4f32 (\"RDMA/hns: Unify the calculation for hem index in hip08\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 2, "insertions": 6, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["chenglang <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important RDMA driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with regression, affects specific driver users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with stack trace, Fixes tag, no external testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Mellanox, cross-org review"}}, "score_justification": "Crash fix in SRQ creation with incorrect MTT position calculation causing kernel paging request failure", "code_snippet": "@@ -803,8 +805,8 @@ void *hns_roce_table_find(struct hns_roce_dev *hr_dev,\n \t\t\them_idx = i;\n \n \t\them = table->hem[hem_idx];\n-\t\tdma_offset = offset = (obj & (table->num_obj - 1)) *\n-\t\t\t\t       table->obj_size % mhop.bt_chunk_size;\n+\t\tdma_offset = offset = (obj & (table->num_obj - 1)) * seg_size %\n+\t\t\t\t       mhop.bt_chunk_size;\n \t\tif (mhop.hop_num == 2)\n \t\t\tdma_offset = offset = 0;\n \t}\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_mr.c b/drivers/infiniband/hw/hns/hns_roce_mr.c\nindex b09f1cde2ff5..08be0e4eabcd 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_mr.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_mr.c", "flags": ["REGRESSION"], "link": "https://lore.kernel.org/linux-kernel/4772e03d239484f3461e33c79d721c8ea03f7416"}
{"commit_hash": "00fb67ec6b98114a887d9ef26fc7c3e566e7f665", "short_hash": "00fb67ec6b98", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-04-07T13:23:39+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-04-08T13:42:16-03:00", "subject": "RDMA/hns: Bugfix for SCC hem free", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 6a157f7d1b14 (\"RDMA/hns: Add SCC context allocation support for hip08\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 20, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line deletion in infiniband driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Hardware SMMU error causing corruption/crash"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag, detailed error context, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei.com, committer @mellanox.com (different org)"}}, "score_justification": "Fixes SMMU hardware error caused by premature SCC context free during QP cleanup", "code_snippet": "@@ -274,9 +274,6 @@ void hns_roce_qp_free(struct hns_roce_dev *hr_dev, struct hns_roce_qp *hr_qp)\n \twait_for_completion(&hr_qp->free);\n \n \tif ((hr_qp->ibqp.qp_type) != IB_QPT_GSI) {\n-\t\tif (hr_dev->caps.sccc_entry_sz)\n-\t\t\thns_roce_table_put(hr_dev, &qp_table->sccc_table,\n-\t\t\t\t\t   hr_qp->qpn);\n \t\tif (hr_dev->caps.trrl_entry_sz)\n \t\t\thns_roce_table_put(hr_dev, &qp_table->trrl_table,\n \t\t\t\t\t   hr_qp->qpn);\n", "flags": ["REGRESSION_FIX"], "link": "https://lore.kernel.org/linux-kernel/00fb67ec6b98114a887d9ef26fc7c3e566e7f665"}
{"commit_hash": "9b186e9a65bffaef5ed56878095544b64584c29c", "short_hash": "9b186e9a65bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T23:14:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-08T14:06:14+07:00", "subject": "spi: bcm2835aux: Fix build error without CONFIG_DEBUG_FS", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8048d151eb4d (\"spi: bcm2835aux: add driver stats to debugfs\")", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2-line signature fix in SPI driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build fix affecting driver compilation"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Clear build error report with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, kernel.org maintainer, robot report"}}, "score_justification": "Build error fix for debugfs stub function signature mismatch", "code_snippet": "@@ -142,7 +142,8 @@ static void bcm2835aux_debugfs_remove(struct bcm2835aux_spi *bs)\n \tbs->debugfs_dir = NULL;\n }\n #else\n-static void bcm2835aux_debugfs_create(struct bcm2835aux_spi *bs)\n+static void bcm2835aux_debugfs_create(struct bcm2835aux_spi *bs,\n+\t\t\t\t      const char *dname)\n {\n }\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/9b186e9a65bffaef5ed56878095544b64584c29c"}
{"commit_hash": "dbbaffefd2699c49b8ebdf6e81538a3bb01b0137", "short_hash": "dbbaffefd269", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T13:52:21+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-04-08T14:36:16+08:00", "subject": "crypto: mxs-dcp - return errcode in mxs_dcp_aes_enqueue and dcp_sha_update_fx", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical crypto subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Error handling fix affecting crypto driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Reviewed-by tag, decent message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committer Herbert Xu from different org"}}, "score_justification": "Error handling bug fix - functions returned wrong error code", "code_snippet": "@@ -471,7 +471,7 @@ static int mxs_dcp_aes_enqueue(struct ablkcipher_request *req, int enc, int ecb)\n \n \twake_up_process(sdcp->thread[actx->chan]);\n \n-\treturn -EINPROGRESS;\n+\treturn ret;\n }\n \n static int mxs_dcp_aes_ecb_decrypt(struct ablkcipher_request *req)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dbbaffefd2699c49b8ebdf6e81538a3bb01b0137"}
{"commit_hash": "d31549774d5dfcddd391a5085806026ac569d478", "short_hash": "d31549774d5d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T13:28:58+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-04-08T14:36:16+08:00", "subject": "crypto: marvell - remove set but not used variable 'index'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/marvell"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in crypto driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix only"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Reviewed-by from Codeaurora"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer"}}, "score_justification": "Remove unused variable to fix compiler warning in crypto driver", "code_snippet": "@@ -135,11 +135,10 @@ static int mv_cesa_ahash_pad_len(struct mv_cesa_ahash_req *creq)\n \n static int mv_cesa_ahash_pad_req(struct mv_cesa_ahash_req *creq, u8 *buf)\n {\n-\tunsigned int index, padlen;\n+\tunsigned int padlen;\n \n \tbuf[0] = 0x80;\n \t/* Pad out to 56 mod 64 */\n-\tindex = creq->len & CESA_HASH_BLOCK_SIZE_MSK;\n \tpadlen = mv_cesa_ahash_pad_len(creq);\n \tmemset(buf + 1, 0, padlen - 1);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d31549774d5dfcddd391a5085806026ac569d478"}
{"commit_hash": "8316da02e3e07b0da9b2d812a619b5513c7f59d2", "short_hash": "8316da02e3e0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T01:43:16Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-04-08T14:36:16+08:00", "subject": "crypto: ccp - Use kmemdup in ccp_copy_and_save_keypart()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/ccp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Gary R Hook <gary.hook@amd.com> (AMD)"], "reported_by": []}, "score_total": 31, "score_technical": 7, "score_impact": 10, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny 2-line simplification in crypto driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with minor user impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by AMD maintainer, clear message"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, AMD acked, different committer"}}, "score_justification": "Simple API migration from kzalloc+memcpy to kmemdup in crypto driver", "code_snippet": "@@ -37,10 +37,9 @@ static inline int ccp_copy_and_save_keypart(u8 **kpbuf, unsigned int *kplen,\n \t\tif (buf[nskip])\n \t\t\tbreak;\n \t*kplen = sz - nskip;\n-\t*kpbuf = kzalloc(*kplen, GFP_KERNEL);\n+\t*kpbuf = kmemdup(buf + nskip, *kplen, GFP_KERNEL);\n \tif (!*kpbuf)\n \t\treturn -ENOMEM;\n-\tmemcpy(*kpbuf, buf + nskip, *kplen);\n \n \treturn 0;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8316da02e3e07b0da9b2d812a619b5513c7f59d2"}
{"commit_hash": "f947d7fd12ab1ffddd4f25970ff6c06a879226e6", "short_hash": "f947d7fd12ab", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T13:54:29+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-04-08T14:36:17+08:00", "subject": "crypto: nx842 - remove set but not used variables 'dpadding' and 'max_sync_size'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/nx"], "subsystem_tier": 2, "files_changed": 2, "insertions": 3, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in crypto subsystem removing unused variables"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by tag, clear warning fix in commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org) from different companies"}}, "score_justification": "Compiler warning fix removing unused variables in crypto driver", "code_snippet": "@@ -451,7 +450,6 @@ static int nx842_pseries_decompress(const unsigned char *in, unsigned int inlen,\n \t\trcu_read_unlock();\n \t\treturn -ENODEV;\n \t}\n-\tmax_sync_size = local_devdata->max_sync_size;\n \tdev = local_devdata->dev;\n \n \tworkmem = PTR_ALIGN(wmem, WORKMEM_ALIGN);\ndiff --git a/drivers/crypto/nx/nx-842.c b/drivers/crypto/nx/nx-842.c\nindex d94e25df503b..f06565df2a12 100644\n--- a/drivers/crypto/nx/nx-842.c\n+++ b/drivers/crypto/nx/nx-842.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f947d7fd12ab1ffddd4f25970ff6c06a879226e6"}
{"commit_hash": "e233516e6a92baeec20aa40fa5b63be6b94f1627", "short_hash": "e233516e6a92", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: fix keep_alive_timer not stop problem", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a6d818e31d08 (\"net: hns3: Add vport alive state checking support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with existing tag"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message, moderate review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different orgs involved"}}, "score_justification": "Timer/task cleanup leak in Hisilicon network driver on error/unload path", "code_snippet": "@@ -2031,9 +2031,15 @@ static int hclgevf_set_alive(struct hnae3_handle *handle, bool alive)\n static int hclgevf_client_start(struct hnae3_handle *handle)\n {\n \tstruct hclgevf_dev *hdev = hclgevf_ae_get_hdev(handle);\n+\tint ret;\n+\n+\tret = hclgevf_set_alive(handle, true);\n+\tif (ret)\n+\t\treturn ret;\n \n \tmod_timer(&hdev->keep_alive_timer, jiffies + 2 * HZ);\n-\treturn hclgevf_set_alive(handle, true);\n+\n+\treturn 0;\n }\n \n static void hclgevf_client_stop(struct hnae3_handle *handle)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e233516e6a92baeec20aa40fa5b63be6b94f1627"}
{"commit_hash": "7d60070668e4bf53571f43c6cf30838ca5dccffd", "short_hash": "7d60070668e4", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: remove resetting check in hclgevf_reset_task_schedule", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 35a1e50343bd (\"net: hns3: Add VF Reset Service Task to support event handling\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting reset scheduling for NIC users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good Fixes tag and explanation, minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Reset scheduling logic fix preventing proper reset handling in Huawei NIC driver", "code_snippet": "@@ -1585,8 +1585,7 @@ static void hclgevf_get_misc_vector(struct hclgevf_dev *hdev)\n \n void hclgevf_reset_task_schedule(struct hclgevf_dev *hdev)\n {\n-\tif (!test_bit(HCLGEVF_STATE_RST_SERVICE_SCHED, &hdev->state) &&\n-\t    !test_bit(HCLGEVF_STATE_RST_HANDLING, &hdev->state)) {\n+\tif (!test_bit(HCLGEVF_STATE_RST_SERVICE_SCHED, &hdev->state)) {\n \t\tset_bit(HCLGEVF_STATE_RST_SERVICE_SCHED, &hdev->state);\n \t\tschedule_work(&hdev->rst_service_task);\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d60070668e4bf53571f43c6cf30838ca5dccffd"}
{"commit_hash": "4339ef396ab65a61f7f22f36d7ba94b6e9e0939b", "short_hash": "4339ef396ab6", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: add error handler for initializing command queue", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 16, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource handling fix for ethernet driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review chain, minimal message, no testing evidence"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Error handler addition for command queue init failures in hns3 driver", "code_snippet": "@@ -373,21 +373,26 @@ int hclge_cmd_init(struct hclge_dev *hdev)\n \t * reset may happen when lower level reset is being processed.\n \t */\n \tif ((hclge_is_reset_pending(hdev))) {\n-\t\tset_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state);\n-\t\treturn -EBUSY;\n+\t\tret = -EBUSY;\n+\t\tgoto err_cmd_init;\n \t}\n \n \tret = hclge_cmd_query_firmware_version(&hdev->hw, &version);\n \tif (ret) {\n \t\tdev_err(&hdev->pdev->dev,\n \t\t\t\"firmware version query failed %d\\n\", ret);\n-\t\treturn ret;\n+\t\tgoto err_cmd_init;\n \t}\n \thdev->fw_version = version;\n \n \tdev_info(&hdev->pdev->dev, \"The firmware version is %08x\\n\", version);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4339ef396ab65a61f7f22f36d7ba94b6e9e0939b"}
{"commit_hash": "18e2488881c61957b8fc1a25c0bb8419e25ddb6f", "short_hash": "18e2488881c6", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:33+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: stop mailbox handling when command queue need re-init", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for specific driver"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, basic explanation"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same company, external maintainer commit"}}, "score_justification": "Logic fix to prevent error handling during command queue re-init", "code_snippet": "@@ -2164,7 +2164,8 @@ static int hclge_mac_init(struct hclge_dev *hdev)\n \n static void hclge_mbx_task_schedule(struct hclge_dev *hdev)\n {\n-\tif (!test_and_set_bit(HCLGE_STATE_MBX_SERVICE_SCHED, &hdev->state))\n+\tif (!test_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state) &&\n+\t    !test_and_set_bit(HCLGE_STATE_MBX_SERVICE_SCHED, &hdev->state))\n \t\tschedule_work(&hdev->mbx_service_task);\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/18e2488881c61957b8fc1a25c0bb8419e25ddb6f"}
{"commit_hash": "cf1f212916d9d59977aadd558a54aef6109bc2d1", "short_hash": "cf1f212916d9", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: handle pending reset while reset fail", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6a5f6fa382f3 (\"net: hns3: add error handler for hclgevf_reset()\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with regression tag, moderate user impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two Signed-off-by, good message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer commit"}}, "score_justification": "Reset error handling fix in Huawei network driver with proper Fixes tag", "code_snippet": "@@ -1474,6 +1474,8 @@ static int hclgevf_reset(struct hclgevf_dev *hdev)\n \t */\n \thclgevf_cmd_init(hdev);\n \tdev_err(&hdev->pdev->dev, \"failed to reset VF\\n\");\n+\tif (hclgevf_is_reset_pending(hdev))\n+\t\thclgevf_reset_task_schedule(hdev);\n \n \treturn ret;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf1f212916d9d59977aadd558a54aef6109bc2d1"}
{"commit_hash": "4f765d3e5213da43a5f410ea62445f9591bfa4dc", "short_hash": "4f765d3e5213", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: do not request reset when hardware resetting", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 10, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in specific NIC driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix preventing hardware reset conflicts"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with explanation but minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit from different org"}}, "score_justification": "Driver fix prevents requesting new reset during ongoing hardware reset to avoid hardware problems", "code_snippet": "@@ -32,6 +32,7 @@\n static int hclge_set_mac_mtu(struct hclge_dev *hdev, int new_mps);\n static int hclge_init_vlan_config(struct hclge_dev *hdev);\n static int hclge_reset_ae_dev(struct hnae3_ae_dev *ae_dev);\n+static bool hclge_get_hw_reset_stat(struct hnae3_handle *handle);\n static int hclge_set_umv_space(struct hclge_dev *hdev, u16 space_size,\n \t\t\t       u16 *allocated_size, bool is_alloc);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f765d3e5213da43a5f410ea62445f9591bfa4dc"}
{"commit_hash": "0fdf4d304c24eb2fb99d1f81db5bc46c85f24009", "short_hash": "0fdf4d304c24", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: ignore lower-level new coming reset", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -2795,6 +2795,10 @@ static enum hnae3_reset_type hclge_get_reset_level(struct hclge_dev *hdev,\n \t\tclear_bit(HNAE3_FLR_RESET, addr);\n \t}\n \n+\tif (hdev->reset_type != HNAE3_NONE_RESET &&\n+\t    rst_level < hdev->reset_type)\n+\t\treturn HNAE3_NONE_RESET;\n+\n \treturn rst_level;\n }\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/0fdf4d304c24eb2fb99d1f81db5bc46c85f24009"}
{"commit_hash": "056cbab332940b53d0841b052ed1cf4abf7307a5", "short_hash": "056cbab33294", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: deactive the reset timer when reset successfully", "primary_category": "BUG-RESOURCE", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 1-line addition in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix in NIC driver"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 reviewers from same company, basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Timer leak fix in HNS3 driver - removes stale timer after successful reset", "code_snippet": "@@ -3022,6 +3022,7 @@ static void hclge_reset(struct hclge_dev *hdev)\n \thdev->last_reset_time = jiffies;\n \thdev->reset_fail_cnt = 0;\n \tae_dev->reset_type = HNAE3_NONE_RESET;\n+\tdel_timer(&hdev->reset_timer);\n \n \treturn;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/056cbab332940b53d0841b052ed1cf4abf7307a5"}
{"commit_hash": "eb32c896f10a8685162480279bd79f992b33319e", "short_hash": "eb32c896f10a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: adjust the timing of hns3_client_stop when unloading", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a6d818e31d08 (\"net: hns3: Add vport alive state checking support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race condition fix with regression, affects specific driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good Fixes tag and explanation, basic review chain"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Single company author, different maintainer org"}}, "score_justification": "Race condition fix in driver uninit path moving client_stop after unregister_netdev", "code_snippet": "@@ -3718,13 +3718,13 @@ static void hns3_client_uninit(struct hnae3_handle *handle, bool reset)\n \tstruct hns3_nic_priv *priv = netdev_priv(netdev);\n \tint ret;\n \n-\thns3_client_stop(handle);\n-\n \thns3_remove_hw_addr(netdev);\n \n \tif (netdev->reg_state != NETREG_UNINITIALIZED)\n \t\tunregister_netdev(netdev);\n \n+\thns3_client_stop(handle);\n+\n \tif (!test_and_clear_bit(HNS3_NIC_STATE_INITED, &priv->state)) {\n \t\tnetdev_warn(netdev, \"already uninitialized\\n\");\n \t\tgoto out_netdev_free;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb32c896f10a8685162480279bd79f992b33319e"}
{"commit_hash": "cc645dfa89a747382beaf62d69daafe60fd1cd94", "short_hash": "cc645dfa89a7", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: not reset vport who not alive when PF reset", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: aa5c4f175be6 (\"net: hns3: add reset handling for VF when doing PF reset\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 reviewers, good commit message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org) from different companies"}}, "score_justification": "Regression fix in Hisilicon HNS3 driver to avoid unnecessary VF reset notifications", "code_snippet": "@@ -2677,7 +2677,7 @@ static int hclge_set_all_vf_rst(struct hclge_dev *hdev, bool reset)\n \t\t\treturn ret;\n \t\t}\n \n-\t\tif (!reset)\n+\t\tif (!reset || !test_bit(HCLGE_VPORT_STATE_ALIVE, &vport->state))\n \t\t\tcontinue;\n \n \t\t/* Inform VF to process the reset.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc645dfa89a747382beaf62d69daafe60fd1cd94"}
{"commit_hash": "cd513a69750b4be20b8c077e05c5112f0fd014f2", "short_hash": "cd513a69750b", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: set up the vport alive state while reinitializing", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small driver fix in network subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for specific driver affecting users of Huawei NICs"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal explanation and no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to networking maintainer"}}, "score_justification": "Driver bug fix adding missing vport state setup during reinit", "code_snippet": "@@ -4075,10 +4075,18 @@ static int hns3_reset_notify_init_enet(struct hnae3_handle *handle)\n \tif (ret)\n \t\tgoto err_uninit_vector;\n \n+\tret = hns3_client_start(handle);\n+\tif (ret) {\n+\t\tdev_err(priv->dev, \"hns3_client_start fail! ret=%d\\n\", ret);\n+\t\tgoto err_uninit_ring;\n+\t}\n+\n \tset_bit(HNS3_NIC_STATE_INITED, &priv->state);\n \n \treturn ret;\n \n+err_uninit_ring:\n+\thns3_uninit_all_ring(priv);\n err_uninit_vector:\n \thns3_nic_uninit_vector_data(priv);\n \tpriv->ring_data = NULL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cd513a69750b4be20b8c077e05c5112f0fd014f2"}
{"commit_hash": "0f14c5b1a9c9d082d9b567e3775e299ec075721d", "short_hash": "0f14c5b1a9c9", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:43:25+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-08T15:30:49-07:00", "subject": "net: hns3: set vport alive state to default while resetting", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a6d818e31d08 (\"net: hns3: Add vport alive state checking support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with Fixes tag, affects HNS3 NIC users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Incorrect function call in driver reset path causing wrong vport state", "code_snippet": "@@ -7732,7 +7732,7 @@ static void hclge_reset_vport_state(struct hclge_dev *hdev)\n \tint i;\n \n \tfor (i = 0; i < hdev->num_alloc_vport; i++) {\n-\t\thclge_vport_start(vport);\n+\t\thclge_vport_stop(vport);\n \t\tvport++;\n \t}\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0f14c5b1a9c9d082d9b567e3775e299ec075721d"}
{"commit_hash": "7c468966f05ac9c17bb5948275283d34e6fe0660", "short_hash": "7c468966f05a", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:50+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:35:24+05:30", "subject": "cpufreq: kirkwood: fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver subsystem with proper error path cleanup"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific platform users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with coccinelle detection reference and detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from Linaro, cross-company involvement"}}, "score_justification": "Resource leak fix in cpufreq driver detected by coccinelle, adds proper of_node_put cleanup on error paths", "code_snippet": "@@ -124,13 +124,14 @@ static int kirkwood_cpufreq_probe(struct platform_device *pdev)\n \tpriv.cpu_clk = of_clk_get_by_name(np, \"cpu_clk\");\n \tif (IS_ERR(priv.cpu_clk)) {\n \t\tdev_err(priv.dev, \"Unable to get cpuclk\\n\");\n-\t\treturn PTR_ERR(priv.cpu_clk);\n+\t\terr = PTR_ERR(priv.cpu_clk);\n+\t\tgoto out_node;\n \t}\n \n \terr = clk_prepare_enable(priv.cpu_clk);\n \tif (err) {\n \t\tdev_err(priv.dev, \"Unable to prepare cpuclk\\n\");\n-\t\treturn err;\n+\t\tgoto out_node;\n \t}\n \n \tkirkwood_freq_table[0].frequency = clk_get_rate(priv.cpu_clk) / 1000;", "flags": ["AUTO_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/7c468966f05ac9c17bb5948275283d34e6fe0660"}
{"commit_hash": "ddb64c5db3cc8fb9c1242214d5798b2c2865681c", "short_hash": "ddb64c5db3cc", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:49+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:35:24+05:30", "subject": "cpufreq: imx6q: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line fix in cpufreq driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for specific ARM platform"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Good message with coccinelle detection, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Linaro maintainer, cross-company"}}, "score_justification": "Reference leak fix in cpufreq driver detected by coccinelle", "code_snippet": "@@ -388,11 +388,11 @@ static int imx6q_cpufreq_probe(struct platform_device *pdev)\n \t\tret = imx6ul_opp_check_speed_grading(cpu_dev);\n \t\tif (ret) {\n \t\t\tif (ret == -EPROBE_DEFER)\n-\t\t\t\treturn ret;\n+\t\t\t\tgoto put_node;\n \n \t\t\tdev_err(cpu_dev, \"failed to read ocotp: %d\\n\",\n \t\t\t\tret);\n-\t\t\treturn ret;\n+\t\t\tgoto put_node;\n \t\t}\n \t} else {\n \t\timx6q_opp_check_speed_grading(cpu_dev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ddb64c5db3cc8fb9c1242214d5798b2c2865681c"}
{"commit_hash": "b623fa320f8360f049a6f3c3ccc487cb85af4c5b", "short_hash": "b623fa320f83", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:48+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:35:24+05:30", "subject": "cpufreq: ap806: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in cpufreq driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Resource leak fix affecting platform users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Well-documented with coccinelle reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to Linaro"}}, "score_justification": "Missing of_node_put causing device node reference leak in cpufreq driver", "code_snippet": "@@ -132,6 +132,7 @@ static int __init armada_8k_cpufreq_init(void)\n \t\tof_node_put(node);\n \t\treturn -ENODEV;\n \t}\n+\tof_node_put(node);\n \n \tnb_cpus = num_possible_cpus();\n \tfreq_tables = kcalloc(nb_cpus, sizeof(*freq_tables), GFP_KERNEL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b623fa320f8360f049a6f3c3ccc487cb85af4c5b"}
{"commit_hash": "ddb07fba1c645791ead16d1eee0639a033fb8cf9", "short_hash": "ddb07fba1c64", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:51+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:37:06+05:30", "subject": "cpufreq: maple: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in cpufreq driver (tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Resource leak fix affecting platform users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed message with coccinelle reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from Linaro"}}, "score_justification": "Reference leak fix in cpufreq driver detected by coccinelle", "code_snippet": "@@ -210,7 +210,7 @@ static int __init maple_cpufreq_init(void)\n \t */\n \tvalp = of_get_property(cpunode, \"clock-frequency\", NULL);\n \tif (!valp)\n-\t\treturn -ENODEV;\n+\t\tgoto bail_noprops;\n \tmax_freq = (*valp)/1000;\n \tmaple_cpu_freqs[0].frequency = max_freq;\n \tmaple_cpu_freqs[1].frequency = max_freq/2;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ddb07fba1c645791ead16d1eee0639a033fb8cf9"}
{"commit_hash": "8d10dc28a9ea6e8c02e825dab28699f3c72b02d9", "short_hash": "8d10dc28a9ea", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:53+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:37:30+05:30", "subject": "cpufreq: pmac32: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting PowerMac users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Coccinelle detection reference"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from ZTE, committed by Linaro maintainer"}}, "score_justification": "Device tree reference leak fix detected by Coccinelle, affects PowerMac cpufreq driver", "code_snippet": "@@ -552,6 +552,7 @@ static int pmac_cpufreq_init_7447A(struct device_node *cpunode)\n \tvolt_gpio_np = of_find_node_by_name(NULL, \"cpu-vcore-select\");\n \tif (volt_gpio_np)\n \t\tvoltage_gpio = read_gpio(volt_gpio_np);\n+\tof_node_put(volt_gpio_np);\n \tif (!voltage_gpio){\n \t\tpr_err(\"missing cpu-vcore-select gpio\\n\");\n \t\treturn 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8d10dc28a9ea6e8c02e825dab28699f3c72b02d9"}
{"commit_hash": "a9acc26b75f652f697e02a9febe2ab0da648a571", "short_hash": "a9acc26b75f6", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:52+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:37:30+05:30", "subject": "cpufreq/pasemi: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 12, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 1-line fix in cpufreq driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Memory leak fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to Linaro"}}, "score_justification": "Reference leak fix in cpufreq driver detected by coccinelle, cross-org from ZTE to Linaro maintainer", "code_snippet": "@@ -146,6 +146,7 @@ static int pas_cpufreq_cpu_init(struct cpufreq_policy *policy)\n \n \tcpu = of_get_cpu_node(policy->cpu, NULL);\n \n+\tof_node_put(cpu);\n \tif (!cpu)\n \t\tgoto out;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a9acc26b75f652f697e02a9febe2ab0da648a571"}
{"commit_hash": "233298032803f2802fe99892d0de4ab653bfece4", "short_hash": "233298032803", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-01T09:37:54+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-08T15:37:30+05:30", "subject": "cpufreq: ppc_cbe: fix possible object reference leak", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 13, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 1-line fix in cpufreq driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single Cc and Signed-off-by, detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from Linaro"}}, "score_justification": "Missing of_node_put cleanup on error path in cpufreq driver init", "code_snippet": "@@ -86,6 +86,7 @@ static int cbe_cpufreq_cpu_init(struct cpufreq_policy *policy)\n \tif (!cbe_get_cpu_pmd_regs(policy->cpu) ||\n \t    !cbe_get_cpu_mic_tm_regs(policy->cpu)) {\n \t\tpr_info(\"invalid CBE regs pointers for cpufreq\\n\");\n+\t\tof_node_put(cpu);\n \t\treturn -EINVAL;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/233298032803f2802fe99892d0de4ab653bfece4"}
{"commit_hash": "b9d0a85d6b2e76630cfd4c475ee3af4109bfd87a", "short_hash": "b9d0a85d6b2e", "author_name": "Yue Haibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-20T16:25:38+08:00", "committer_name": "James Morris", "committer_email": "james.morris@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-04-08T15:58:54-07:00", "subject": "tpm: Fix the type of the return value in calc_tpm2_event_size()", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 4d23cc323cdb (\"tpm: add securityfs support for TPM 2.0 firmware event log\")", "cc_stable": true, "subsystem_prefix": "tpm", "subsystems_touched": ["drivers/char/tpm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)", "James Morris <james.morris@microsoft.com> (Microsoft)"], "reviewed_by": ["Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in TPM driver (Tier 4)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Type fix for TPM event log with stable backport"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by, Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer review"}}, "score_justification": "Type mismatch fix in TPM 2.0 event log with stable backport and cross-org review", "code_snippet": "@@ -37,8 +37,8 @@\n  *\n  * Returns size of the event. If it is an invalid event, returns 0.\n  */\n-static int calc_tpm2_event_size(struct tcg_pcr_event2_head *event,\n-\t\t\t\tstruct tcg_pcr_event *event_header)\n+static size_t calc_tpm2_event_size(struct tcg_pcr_event2_head *event,\n+\t\t\t\t   struct tcg_pcr_event *event_header)\n {\n \tstruct tcg_efi_specid_event_head *efispecid;\n \tstruct tcg_event_field *event_field;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9d0a85d6b2e76630cfd4c475ee3af4109bfd87a"}
{"commit_hash": "f8a0590f0e01402873ec28a0da46f979f6bc56f1", "short_hash": "f8a0590f0e01", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T11:24:31+08:00", "committer_name": "Shuah Khan", "committer_email": "shuah@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-08T16:44:21-06:00", "subject": "selftests: efivarfs: remove the test_create_read file if it was exist", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-TEST"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "selftests", "subsystems_touched": ["tools/testing/selftests"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Shuah Khan <shuah@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in testing infrastructure"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 11, "details": "Fixes test reliability issue for developers"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 8, "details": "Clear explanation of test failure root cause"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Test cleanup fix for efivarfs selftest to handle immutable file from prior runs", "code_snippet": "@@ -77,6 +77,10 @@ test_create_empty()\n test_create_read()\n {\n \tlocal file=$efivarfs_mount/$FUNCNAME-$test_guid\n+\tif [ -f $file]; then\n+\t\tchattr -i $file\n+\t\trm -rf $file\n+\tfi\n \t./create-read $file\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f8a0590f0e01402873ec28a0da46f979f6bc56f1"}
{"commit_hash": "3b15d09f7e6db44065aaba5fd16dc7420035c5ad", "short_hash": "3b15d09f7e6d", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-02-28T13:13:26+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-04-08T22:56:14+02:00", "subject": "time: Introduce jiffies64_to_msecs()", "primary_category": "FEAT-API", "secondary_categories": ["MAINT-DUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "time", "subsystems_touched": ["kernel/time", "include/linux", "net/netfilter"], "subsystem_tier": 2, "files_changed": 3, "insertions": 12, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": ["John Stultz <john.stultz@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 12, "details": "Small API addition across kernel/time, include, and netfilter"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "New time conversion API for netfilter and future use"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Acked-by maintainer, clear rationale for code deduplication"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu authors, netfilter.org maintainer committed"}}, "score_justification": "Code deduplication creating new jiffies64_to_msecs() API", "code_snippet": "@@ -297,6 +297,7 @@ static inline u64 jiffies_to_nsecs(const unsigned long j)\n }\n \n extern u64 jiffies64_to_nsecs(u64 j);\n+extern u64 jiffies64_to_msecs(u64 j);\n \n extern unsigned long __msecs_to_jiffies(const unsigned int m);\n #if HZ <= MSEC_PER_SEC && !(MSEC_PER_SEC % HZ)\ndiff --git a/kernel/time/time.c b/kernel/time/time.c\nindex c3f756f8534b..9e3f79d4f5a8 100644\n--- a/kernel/time/time.c\n+++ b/kernel/time/time.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b15d09f7e6db44065aaba5fd16dc7420035c5ad"}
{"commit_hash": "b3dfee340a9b35ccde43f886b1dd59d634945b50", "short_hash": "b3dfee340a9b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T22:40:21+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-04-08T22:57:02+02:00", "subject": "netfilter: nft_redir: Make nft_redir_dump static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/netfilter"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line change in critical networking subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean atomic fix with proper sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to netfilter.org"}}, "score_justification": "Sparse warning fix adding static to netfilter function", "code_snippet": "@@ -82,7 +82,7 @@ static int nft_redir_init(const struct nft_ctx *ctx,\n \treturn nf_ct_netns_get(ctx->net, ctx->family);\n }\n \n-int nft_redir_dump(struct sk_buff *skb, const struct nft_expr *expr)\n+static int nft_redir_dump(struct sk_buff *skb, const struct nft_expr *expr)\n {\n \tconst struct nft_redir *priv = nft_expr_priv(expr);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3dfee340a9b35ccde43f886b1dd59d634945b50"}
{"commit_hash": "01902f8c85bfde343a4c2b7428d18762442f3a25", "short_hash": "01902f8c85bf", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-03-26T20:06:20+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-04-08T22:58:16+02:00", "subject": "netfilter: optimize nf_inet_addr_cmp", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["include/linux/netfilter.h"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yuan Linsi <yuanlinsi01@baidu.com> (Baidu)", "Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization affecting netfilter users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic message with 2 Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author, netfilter.org maintainer"}}, "score_justification": "Performance optimization using 64-bit XOR for address comparison", "code_snippet": "@@ -24,10 +24,17 @@ static inline int NF_DROP_GETERR(int verdict)\n static inline int nf_inet_addr_cmp(const union nf_inet_addr *a1,\n \t\t\t\t   const union nf_inet_addr *a2)\n {\n+#if defined(CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS) && BITS_PER_LONG == 64\n+\tconst unsigned long *ul1 = (const unsigned long *)a1;\n+\tconst unsigned long *ul2 = (const unsigned long *)a2;\n+\n+\treturn ((ul1[0] ^ ul2[0]) | (ul1[1] ^ ul2[1])) == 0UL;\n+#else\n \treturn a1->all[0] == a2->all[0] &&\n \t       a1->all[1] == a2->all[1] &&\n \t       a1->all[2] == a2->all[2] &&\n \t       a1->all[3] == a2->all[3];\n+#endif\n }\n \n static inline void nf_inet_addr_mask(const union nf_inet_addr *a1,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01902f8c85bfde343a4c2b7428d18762442f3a25"}
{"commit_hash": "2ae2c3316fb77dcf64275d011596b60104c45426", "short_hash": "2ae2c3316fb7", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-04T00:04:09+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T13:09:43+08:00", "subject": "drm/mediatek: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single line addition in GPU driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix in specific driver"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Good message with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from ZTE to Mediatek"}}, "score_justification": "Device tree reference leak fix detected by coccinelle", "code_snippet": "@@ -1515,6 +1515,7 @@ static int mtk_hdmi_dt_parse_pdata(struct mtk_hdmi *hdmi,\n \tof_node_put(remote);\n \n \thdmi->ddc_adpt = of_find_i2c_adapter_by_node(i2c_np);\n+\tof_node_put(i2c_np);\n \tif (!hdmi->ddc_adpt) {\n \t\tdev_err(dev, \"Failed to get ddc i2c adapter by node\\n\");\n \t\treturn -EINVAL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ae2c3316fb77dcf64275d011596b60104c45426"}
{"commit_hash": "0c24613cda163dedfa229afc8eff6072e57fac8d", "short_hash": "0c24613cda16", "author_name": "Wangyan Wang", "author_email": "wangyan.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T14:53:04+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T17:15:40+08:00", "subject": "drm/mediatek: fix the rate and divder of hdmi phy for MT2701", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0fc721b2968e (\"drm/mediatek: add hdmi driver for MT2701 and MT7623\")", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wangyan Wang <wangyan.wang@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small typo fix in GPU driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Fixes HDMI PLL rate calculation bug"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Same company, different committer"}}, "score_justification": "Typo fix in HDMI PHY PLL rate threshold affecting display output", "code_snippet": "@@ -116,8 +116,8 @@ static int mtk_hdmi_pll_set_rate(struct clk_hw *hw, unsigned long rate,\n \n \tif (rate <= 64000000)\n \t\tpos_div = 3;\n-\telse if (rate <= 12800000)\n-\t\tpos_div = 1;\n+\telse if (rate <= 128000000)\n+\t\tpos_div = 2;\n \telse\n \t\tpos_div = 1;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c24613cda163dedfa229afc8eff6072e57fac8d"}
{"commit_hash": "321b628e6f5a3af999f75eadd373adbcb8b4cb1f", "short_hash": "321b628e6f5a", "author_name": "Wangyan Wang", "author_email": "wangyan.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T14:53:06+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T17:46:54+08:00", "subject": "drm/mediatek: make implementation of recalc_rate() for MT2701 hdmi phy", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 42, "deletions": 14, "hunks": 18, "review_chain": {"signed_off_by": ["Wangyan Wang <wangyan.wang@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 14, "score_quality": 6, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-sized fix in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting specific platform users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with minimal review evidence"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Same company author and committer"}}, "score_justification": "Clock rate recalculation fix for MT2701 HDMI PHY, moves from cached value to hardware query", "code_snippet": "@@ -29,14 +29,6 @@ long mtk_hdmi_pll_round_rate(struct clk_hw *hw, unsigned long rate,\n \treturn rate;\n }\n \n-unsigned long mtk_hdmi_pll_recalc_rate(struct clk_hw *hw,\n-\t\t\t\t       unsigned long parent_rate)\n-{\n-\tstruct mtk_hdmi_phy *hdmi_phy = to_mtk_hdmi_phy(hw);\n-\n-\treturn hdmi_phy->pll_rate;\n-}\n-\n void mtk_hdmi_phy_clear_bits(struct mtk_hdmi_phy *hdmi_phy, u32 offset,\n \t\t\t     u32 bits)\n {\ndiff --git a/drivers/gpu/drm/mediatek/mtk_hdmi_phy.h b/drivers/gpu/drm/mediatek/mtk_hdmi_phy.h\nindex f39b1fc66612..71430691ffe4 100644\n--- a/drivers/gpu/drm/mediatek/mtk_hdmi_phy.h\n+++ b/drivers/gpu/drm/mediatek/mtk_hdmi_phy.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/321b628e6f5a3af999f75eadd373adbcb8b4cb1f"}
{"commit_hash": "9ee76098a1b8ae21cccac641b735ee4d3a77bccf", "short_hash": "9ee76098a1b8", "author_name": "Wangyan Wang", "author_email": "wangyan.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T14:53:07+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T17:47:01+08:00", "subject": "drm/mediatek: no change parent rate in round_rate() for MT2701 hdmi phy", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 20, "deletions": 16, "hunks": 8, "review_chain": {"signed_off_by": ["Wangyan Wang <wangyan.wang@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 12, "score_impact": 14, "score_quality": 6, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 4 files in GPU DRM subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for MT2701 HDMI stability"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Signed-off-by, basic message quality"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Same company author and committer"}}, "score_justification": "Clock rate handling fix for Mediatek HDMI PHY to stabilize MT2701", "code_snippet": "@@ -15,20 +15,6 @@ static const struct phy_ops mtk_hdmi_phy_dev_ops = {\n \t.owner = THIS_MODULE,\n };\n \n-long mtk_hdmi_pll_round_rate(struct clk_hw *hw, unsigned long rate,\n-\t\t\t     unsigned long *parent_rate)\n-{\n-\tstruct mtk_hdmi_phy *hdmi_phy = to_mtk_hdmi_phy(hw);\n-\n-\thdmi_phy->pll_rate = rate;\n-\tif (rate <= 74250000)\n-\t\t*parent_rate = rate;\n-\telse\n-\t\t*parent_rate = rate / 2;\n-\n-\treturn rate;\n-}\n-\n void mtk_hdmi_phy_clear_bits(struct mtk_hdmi_phy *hdmi_phy, u32 offset,\n \t\t\t     u32 bits)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ee76098a1b8ae21cccac641b735ee4d3a77bccf"}
{"commit_hash": "8eeb3946feeb00486ac0909e2309da87db8988a5", "short_hash": "8eeb3946feeb", "author_name": "Wangyan Wang", "author_email": "wangyan.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T14:53:05+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T17:47:01+08:00", "subject": "drm/mediatek: using new factor for tvdpll for MT2701 hdmi phy", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Wangyan Wang <wangyan.wang@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting Mediatek HDMI users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 1, "atomicity": 2, "subtotal": 7, "details": "Basic review with some testing evidence"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Internal commit within same organization"}}, "score_justification": "Fixes HDMI stability issue by correcting PLL factor calculation logic", "code_snippet": "@@ -662,13 +662,11 @@ static unsigned int mt8173_calculate_factor(int clock)\n static unsigned int mt2701_calculate_factor(int clock)\n {\n \tif (clock <= 64000)\n-\t\treturn 16;\n-\telse if (clock <= 128000)\n-\t\treturn 8;\n-\telse if (clock <= 256000)\n \t\treturn 4;\n-\telse\n+\telse if (clock <= 128000)\n \t\treturn 2;\n+\telse\n+\t\treturn 1;\n }\n \n static const struct mtk_dpi_conf mt8173_conf = {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8eeb3946feeb00486ac0909e2309da87db8988a5"}
{"commit_hash": "827abdd024207146822f66ba3ba74867135866b9", "short_hash": "827abdd02420", "author_name": "Wangyan Wang", "author_email": "wangyan.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T14:53:03+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-04-09T17:47:01+08:00", "subject": "drm/mediatek: remove flag CLK_SET_RATE_PARENT for MT2701 hdmi phy", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 8, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Wangyan Wang <wangyan.wang@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 4 files in GPU subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for HDMI stability on MT2701"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with context, same-company review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Internal Mediatek commit, no external engagement"}}, "score_justification": "Clock configuration refactor to fix HDMI stability on MT2701 SoC", "code_snippet": "@@ -102,13 +102,11 @@ mtk_hdmi_phy_dev_get_ops(const struct mtk_hdmi_phy *hdmi_phy)\n \t\treturn NULL;\n }\n \n-static void mtk_hdmi_phy_clk_get_ops(struct mtk_hdmi_phy *hdmi_phy,\n-\t\t\t\t     const struct clk_ops **ops)\n+static void mtk_hdmi_phy_clk_get_data(struct mtk_hdmi_phy *hdmi_phy,\n+\t\t\t\t      struct clk_init_data *clk_init)\n {\n-\tif (hdmi_phy && hdmi_phy->conf && hdmi_phy->conf->hdmi_phy_clk_ops)\n-\t\t*ops = hdmi_phy->conf->hdmi_phy_clk_ops;\n-\telse\n-\t\tdev_err(hdmi_phy->dev, \"Failed to get clk ops of phy\\n\");\n+\tclk_init->flags = hdmi_phy->conf->flags;\n+\tclk_init->ops = hdmi_phy->conf->hdmi_phy_clk_ops;\n }\n \n static int mtk_hdmi_phy_probe(struct platform_device *pdev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/827abdd024207146822f66ba3ba74867135866b9"}
{"commit_hash": "2f36bde0fc8f1ab79d54bd2caa7c1cf874fd2206", "short_hash": "2f36bde0fc8f", "author_name": "Andrew-sh.Cheng", "author_email": "andrew-sh.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T14:46:10+08:00", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-10T12:13:31+05:30", "subject": "OPP: Introduce dev_pm_opp_find_freq_ceil_by_volt()", "primary_category": "FEAT-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "opp", "subsystems_touched": ["drivers/opp", "include/linux"], "subsystem_tier": 4, "files_changed": 2, "insertions": 62, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Andrew-sh.Cheng <andrew-sh.cheng@mediatek.com> (MediaTek)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 2, "subtotal": 12, "details": "Medium change adding new API function across driver and header files"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 16, "details": "New kernel API for OPP subsystem with niche user impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Well-documented API with proper kerneldoc, maintainer cleanup"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (MediaTek -> Linaro) with maintainer co-sign"}}, "score_justification": "New OPP API helper function adding voltage-based frequency lookup capability", "code_snippet": "@@ -526,6 +526,60 @@ struct dev_pm_opp *dev_pm_opp_find_freq_floor(struct device *dev,\n }\n EXPORT_SYMBOL_GPL(dev_pm_opp_find_freq_floor);\n \n+/**\n+ * dev_pm_opp_find_freq_ceil_by_volt() - Find OPP with highest frequency for\n+ *\t\t\t\t\t target voltage.\n+ * @dev:\tDevice for which we do this operation.\n+ * @u_volt:\tTarget voltage.\n+ *\n+ * Search for OPP with highest (ceil) frequency and has voltage <= u_volt.\n+ *\n+ * Return: matching *opp, else returns ERR_PTR in case of error which should be\n+ * handled using IS_ERR.\n+ *\n+ * Error return values can be:\n+ * EINVAL:\tbad parameters\n+ *\n+ * The callers are required to call dev_pm_opp_put() for the returned OPP after\n+ * use.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f36bde0fc8f1ab79d54bd2caa7c1cf874fd2206"}
{"commit_hash": "ee37e62191a59d253fc916b9fc763deb777211e2", "short_hash": "ee37e62191a5", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-04-02T14:22:14+08:00", "committer_name": "Song Liu", "committer_email": "songliubraving@fb.com", "committer_company": "Fb", "commit_date": "2019-04-10T15:26:08-07:00", "subject": "md: add mddev->pers to avoid potential NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a6da4ef85cef (\"md: re-add a failed disk\")", "cc_stable": true, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)"], "reviewed_by": ["NeilBrown <neilb@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 6, "score_impact": 22, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small NULL pointer fix in MD driver"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 22, "details": "Crash fix with stable backport affecting RAID users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good Fixes tag, Reviewed-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Facebook, reviewer from SUSE"}}, "score_justification": "NULL pointer dereference fix in MD re-add path with stable backport", "code_snippet": "@@ -2850,8 +2850,10 @@ state_store(struct md_rdev *rdev, const char *buf, size_t len)\n \t\t\terr = 0;\n \t\t}\n \t} else if (cmd_match(buf, \"re-add\")) {\n-\t\tif (test_bit(Faulty, &rdev->flags) && (rdev->raid_disk == -1) &&\n-\t\t\trdev->saved_raid_disk >= 0) {\n+\t\tif (!rdev->mddev->pers)\n+\t\t\terr = -EINVAL;\n+\t\telse if (test_bit(Faulty, &rdev->flags) && (rdev->raid_disk == -1) &&\n+\t\t\t\trdev->saved_raid_disk >= 0) {\n \t\t\t/* clear_bit is performed _after_ all the devices\n \t\t\t * have their local Faulty bit cleared. If any writes\n \t\t\t * happen in the meantime in the local node, they\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee37e62191a59d253fc916b9fc763deb777211e2"}
{"commit_hash": "6be22343cc546b46402869668da453d56921c14e", "short_hash": "6be22343cc54", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-10T14:54:16+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-11T09:56:01+01:00", "subject": "PCI: mediatek: Get optional clocks with devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller"], "subsystem_tier": 3, "files_changed": 1, "insertions": 15, "deletions": 35, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)"], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important PCI controller subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review with clear message, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit by maintainer"}}, "score_justification": "API migration from devm_clk_get to devm_clk_get_optional, simplifying error handling", "code_snippet": "@@ -915,49 +915,29 @@ static int mtk_pcie_parse_port(struct mtk_pcie *pcie,\n \n \t/* sys_ck might be divided into the following parts in some chips */\n \tsnprintf(name, sizeof(name), \"ahb_ck%d\", slot);\n-\tport->ahb_ck = devm_clk_get(dev, name);\n-\tif (IS_ERR(port->ahb_ck)) {\n-\t\tif (PTR_ERR(port->ahb_ck) == -EPROBE_DEFER)\n-\t\t\treturn -EPROBE_DEFER;\n-\n-\t\tport->ahb_ck = NULL;\n-\t}\n+\tport->ahb_ck = devm_clk_get_optional(dev, name);\n+\tif (IS_ERR(port->ahb_ck))\n+\t\treturn PTR_ERR(port->ahb_ck);\n \n \tsnprintf(name, sizeof(name), \"axi_ck%d\", slot);\n-\tport->axi_ck = devm_clk_get(dev, name);\n-\tif (IS_ERR(port->axi_ck)) {\n-\t\tif (PTR_ERR(port->axi_ck) == -EPROBE_DEFER)\n-\t\t\treturn -EPROBE_DEFER;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6be22343cc546b46402869668da453d56921c14e"}
{"commit_hash": "f2222a9e8033ceca2ed8b1addea1d541b536ab7b", "short_hash": "f2222a9e8033", "author_name": "Yue Haibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T22:04:50+08:00", "committer_name": "Thierry Reding", "committer_email": "treding@nvidia.com", "committer_company": "NVIDIA", "commit_date": "2019-04-11T10:53:47+02:00", "subject": "memory: tegra: Make terga20_mc_reset_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "memory/tegra", "subsystems_touched": ["drivers/memory/tegra"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yue Haibing <yuehaibing@huawei.com> (Huawei)", "Thierry Reding <treding@nvidia.com> (NVIDIA)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal change in standard driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Properly formatted sparse warning fix with Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei->Nvidia), internal robot report, maintainer signed off"}}, "score_justification": "Sparse warning fix adding static to driver struct pointer", "code_snippet": "@@ -274,7 +274,7 @@ static int terga20_mc_unblock_dma(struct tegra_mc *mc,\n \treturn 0;\n }\n \n-const struct tegra_mc_reset_ops terga20_mc_reset_ops = {\n+static const struct tegra_mc_reset_ops terga20_mc_reset_ops = {\n \t.hotreset_assert = terga20_mc_hotreset_assert,\n \t.hotreset_deassert = terga20_mc_hotreset_deassert,\n \t.block_dma = terga20_mc_block_dma,\n", "flags": ["MAINT-WARN_CAP"], "link": "https://lore.kernel.org/linux-kernel/f2222a9e8033ceca2ed8b1addea1d541b536ab7b"}
{"commit_hash": "b331db554815d0552c537e189b897eb062486166", "short_hash": "b331db554815", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:35:04+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T11:46:02-07:00", "subject": "clk: tegra: Make tegra_clk_super_mux_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/tegra"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Thierry Reding <treding@nvidia.com> (NVIDIA)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with clear message explaining warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer at kernel.org acked"}}, "score_justification": "Sparse warning fix adding static to unused export in Tegra clk driver", "code_snippet": "@@ -121,7 +121,7 @@ static int clk_super_set_parent(struct clk_hw *hw, u8 index)\n \treturn err;\n }\n \n-const struct clk_ops tegra_clk_super_mux_ops = {\n+static const struct clk_ops tegra_clk_super_mux_ops = {\n \t.get_parent = clk_super_get_parent,\n \t.set_parent = clk_super_set_parent,\n };\n", "flags": ["CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/b331db554815d0552c537e189b897eb062486166"}
{"commit_hash": "be17ca6ac76a5cfd07cc3a0397dd05d6929fcbbb", "short_hash": "be17ca6ac76a", "author_name": "Owen Chen", "author_email": "owen.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:38+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:09:17-07:00", "subject": "clk: mediatek: Disable tuner_en before change PLL rate", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e2f744a82d725 (\"clk: mediatek: Add MT2712 clock support\")", "cc_stable": true, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 34, "deletions": 14, "hunks": 10, "review_chain": {"signed_off_by": ["Owen Chen <owen.chen@mediatek.com> (MediaTek)", "Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 18, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in driver subsystem with code refactoring"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable tag affecting specific driver users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers, good message with Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author committed by kernel.org maintainer"}}, "score_justification": "PLL rate change bug fix with code refactoring, stable backport, proper review chain", "code_snippet": "@@ -88,6 +88,32 @@ static unsigned long __mtk_pll_recalc_rate(struct mtk_clk_pll *pll, u32 fin,\n \treturn ((unsigned long)vco + postdiv - 1) / postdiv;\n }\n \n+static void __mtk_pll_tuner_enable(struct mtk_clk_pll *pll)\n+{\n+\tu32 r;\n+\n+\tif (pll->tuner_en_addr) {\n+\t\tr = readl(pll->tuner_en_addr) | BIT(pll->data->tuner_en_bit);\n+\t\twritel(r, pll->tuner_en_addr);\n+\t} else if (pll->tuner_addr) {\n+\t\tr = readl(pll->tuner_addr) | AUDPLL_TUNER_EN;\n+\t\twritel(r, pll->tuner_addr);\n+\t}\n+}\n+\n+static void __mtk_pll_tuner_disable(struct mtk_clk_pll *pll)\n+{\n+\tu32 r;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be17ca6ac76a5cfd07cc3a0397dd05d6929fcbbb"}
{"commit_hash": "a3ae549917f1634f85c62984617521801505eb1e", "short_hash": "a3ae549917f1", "author_name": "Owen Chen", "author_email": "owen.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:39+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:12:40-07:00", "subject": "clk: mediatek: Add new clkmux register API", "primary_category": "FEAT-API", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk/mediatek", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 3, "insertions": 314, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Owen Chen <owen.chen@mediatek.com> (MediaTek)", "Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)", "Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 16, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 12, "details": "New API with 314 lines across 3 files in driver subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 16, "details": "New clk mux API for MediaTek MT8183/MT6765 platforms"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 15, "details": "3 reviewers including cross-org, tested tag, good context"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Mediatek author, kernel.org maintainer, Chrom reviewer"}}, "score_justification": "New MediaTek clock mux API to prevent RMW races on MT8183/MT6765", "code_snippet": "@@ -1,5 +1,6 @@\n # SPDX-License-Identifier: GPL-2.0\n-obj-$(CONFIG_COMMON_CLK_MEDIATEK) += clk-mtk.o clk-pll.o clk-gate.o clk-apmixed.o clk-cpumux.o reset.o\n+obj-$(CONFIG_COMMON_CLK_MEDIATEK) += clk-mtk.o clk-pll.o clk-gate.o clk-apmixed.o clk-cpumux.o reset.o clk-mux.o\n+\n obj-$(CONFIG_COMMON_CLK_MT6797) += clk-mt6797.o\n obj-$(CONFIG_COMMON_CLK_MT6797_IMGSYS) += clk-mt6797-img.o\n obj-$(CONFIG_COMMON_CLK_MT6797_MMSYS) += clk-mt6797-mm.o\ndiff --git a/drivers/clk/mediatek/clk-mux.c b/drivers/clk/mediatek/clk-mux.c\nnew file mode 100644\nindex 000000000000..76f9cd039195\n--- /dev/null\n+++ b/drivers/clk/mediatek/clk-mux.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3ae549917f1634f85c62984617521801505eb1e"}
{"commit_hash": "9d7e1a82b7d195f901c2a18dd5602a1c11e9eefb", "short_hash": "9d7e1a82b7d1", "author_name": "Owen Chen", "author_email": "owen.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:40+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:13:08-07:00", "subject": "clk: mediatek: Add configurable pcwibits and fmin to mtk_pll_data", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 2, "insertions": 13, "deletions": 4, "hunks": 10, "review_chain": {"signed_off_by": ["Owen Chen <owen.chen@mediatek.com> (MediaTek)", "Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)", "Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "acked_by": ["Sean Wang <sean.wang@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 14, "score_quality": 18, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in standard driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for MediaTek PLL clock"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 18, "details": "Multiple reviewers from 2 companies with tested tag"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author from Mediatek, maintainer at kernel.org, reviewers from multiple orgs"}}, "score_justification": "Configurable PLL parameters for MediaTek clock driver with cross-company review", "code_snippet": "@@ -68,12 +70,15 @@ static unsigned long __mtk_pll_recalc_rate(struct mtk_clk_pll *pll, u32 fin,\n \t\tu32 pcw, int postdiv)\n {\n \tint pcwbits = pll->data->pcwbits;\n-\tint pcwfbits;\n+\tint pcwfbits = 0;\n+\tint ibits;\n \tu64 vco;\n \tu8 c = 0;\n \n \t/* The fractional part of the PLL divider. */\n-\tpcwfbits = pcwbits > INTEGER_BITS ? pcwbits - INTEGER_BITS : 0;\n+\tibits = pll->data->pcwibits ? pll->data->pcwibits : INTEGER_BITS;\n+\tif (pcwbits > ibits)\n+\t\tpcwfbits = pcwbits - ibits;\n \n \tvco = (u64)fin * pcw;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d7e1a82b7d195f901c2a18dd5602a1c11e9eefb"}
{"commit_hash": "2f41cd9b13ea891e7cc1bd037b70458132a12e31", "short_hash": "2f41cd9b13ea", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:41+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:15:35-07:00", "subject": "dt-bindings: ARM: Mediatek: Document bindings for MT8183", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 12, "insertions": 75, "deletions": 0, "hunks": 24, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": ["Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "Small changes to 12 DT binding files, 75 lines added"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New SoC documentation for MT8183, affects platform users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by DT maintainer and acked by clock maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author committed by kernel.org maintainer"}}, "score_justification": "DT binding documentation adding MT8183 SoC support with proper review", "code_snippet": "@@ -9,6 +9,7 @@ Required Properties:\n \t- \"mediatek,mt2701-audsys\", \"syscon\"\n \t- \"mediatek,mt7622-audsys\", \"syscon\"\n \t- \"mediatek,mt7623-audsys\", \"mediatek,mt2701-audsys\", \"syscon\"\n+\t- \"mediatek,mt8183-audiosys\", \"syscon\"\n - #clock-cells: Must be 1\n \n The AUDSYS controller uses the common clk binding from\ndiff --git a/Documentation/devicetree/bindings/arm/mediatek/mediatek,camsys.txt b/Documentation/devicetree/bindings/arm/mediatek/mediatek,camsys.txt\nnew file mode 100644\nindex 000000000000..d8930f64aa98\n--- /dev/null\n+++ b/Documentation/devicetree/bindings/arm/mediatek/mediatek,camsys.txt", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f41cd9b13ea891e7cc1bd037b70458132a12e31"}
{"commit_hash": "d90240bc073eccec5fffa80e7038460350c6f073", "short_hash": "d90240bc073e", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:42+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:15:39-07:00", "subject": "clk: mediatek: Add dt-bindings for MT8183 clocks", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["include/dt-bindings/clock"], "subsystem_tier": 5, "files_changed": 1, "insertions": 422, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "New header file with 422 lines of clock definitions"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New DT bindings enable MT8183 platform support"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by DT maintainer, clean commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, kernel.org maintainer committed"}}, "score_justification": "New DT binding header adding MT8183 clock definitions for MediaTek SoC support", "code_snippet": "@@ -0,0 +1,422 @@\n+/* SPDX-License-Identifier: GPL-2.0 */\n+/*\n+ * Copyright (c) 2018 MediaTek Inc.\n+ * Author: Weiyi Lu <weiyi.lu@mediatek.com>\n+ */\n+\n+#ifndef _DT_BINDINGS_CLK_MT8183_H\n+#define _DT_BINDINGS_CLK_MT8183_H\n+\n+/* APMIXED */\n+#define CLK_APMIXED_ARMPLL_LL\t\t0\n+#define CLK_APMIXED_ARMPLL_L\t\t1\n+#define CLK_APMIXED_CCIPLL\t\t2\n+#define CLK_APMIXED_MAINPLL\t\t3\n+#define CLK_APMIXED_UNIV2PLL\t\t4\n+#define CLK_APMIXED_MSDCPLL\t\t5\n+#define CLK_APMIXED_MMPLL\t\t6\n+#define CLK_APMIXED_MFGPLL\t\t7\n+#define CLK_APMIXED_TVDPLL\t\t8", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d90240bc073eccec5fffa80e7038460350c6f073"}
{"commit_hash": "23fe31dedb7b1836cc23666afc1a9c67ed7de775", "short_hash": "23fe31dedb7b", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:44+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:20:16-07:00", "subject": "clk: mediatek: Add configurable pcw_chg_reg to mtk_pll_data", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 2, "insertions": 12, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)", "Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 15, "score_quality": 16, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver subsystem with 12 insertions across 2 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 15, "details": "Functional enhancement for MT8183 hardware support"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Multiple reviewers from different orgs with tested-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org (kernel.org)"}}, "score_justification": "Hardware support enhancement adding configurable PCW change register for MT8183 PLL", "code_snippet": "@@ -147,14 +148,14 @@ static void mtk_pll_set_rate_regs(struct mtk_clk_pll *pll, u32 pcw,\n \tval |= pcw << pll->data->pcw_shift;\n \twritel(val, pll->pcw_addr);\n \n-\tcon1 = readl(pll->base_addr + REG_CON1);\n+\tchg = readl(pll->pcw_chg_addr);\n \n \tif (pll_en)\n-\t\tcon1 |= CON0_PCW_CHG;\n+\t\tchg |= PCW_CHG_MASK;\n \n-\twritel(con1, pll->base_addr + REG_CON1);\n+\twritel(chg, pll->pcw_chg_addr);\n \tif (pll->tuner_addr)\n-\t\twritel(con1 + 1, pll->tuner_addr);\n+\t\twritel(val + 1, pll->tuner_addr);\n \n \t/* restore tuner_en */\n \t__mtk_pll_tuner_enable(pll);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/23fe31dedb7b1836cc23666afc1a9c67ed7de775"}
{"commit_hash": "dac5d67277d654695444fe6cab94c1a596dff33c", "short_hash": "dac5d67277d6", "author_name": "James Liao", "author_email": "jamesjj.liao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:46+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:29:19-07:00", "subject": "clk: mediatek: Allow changing PLL rate when it is off", "primary_category": "BUG-FUNC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk/mediatek", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)", "Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["James Liao <jamesjj.liao@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": ["Michael Turquette <mturuqette@baylibre.com> (BayLibre)"], "reported_by": []}, "score_total": 35, "score_technical": 6, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in peripheral driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Bug fix affecting specific platform users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with multiple reviewers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from Mediatek to kernel.org maintainer"}}, "score_justification": "PLL rate setting restriction removal for MediaTek SoC clocks", "code_snippet": "@@ -147,12 +144,7 @@ static void mtk_pll_set_rate_regs(struct mtk_clk_pll *pll, u32 pcw,\n \t\t\tpll->data->pcw_shift);\n \tval |= pcw << pll->data->pcw_shift;\n \twritel(val, pll->pcw_addr);\n-\n-\tchg = readl(pll->pcw_chg_addr);\n-\n-\tif (pll_en)\n-\t\tchg |= PCW_CHG_MASK;\n-\n+\tchg = readl(pll->pcw_chg_addr) | PCW_CHG_MASK;\n \twritel(chg, pll->pcw_chg_addr);\n \tif (pll->tuner_addr)\n \t\twritel(val + 1, pll->tuner_addr);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dac5d67277d654695444fe6cab94c1a596dff33c"}
{"commit_hash": "acddfc2c261b3653ab1c1b567a427299bac20d31", "short_hash": "acddfc2c261b", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T13:05:45+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-11T13:29:19-07:00", "subject": "clk: mediatek: Add MT8183 clock support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 15, "insertions": 2196, "deletions": 0, "hunks": 30, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "tested_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)"], "acked_by": [], "reported_by": []}, "score_total": 53, "score_technical": 16, "score_impact": 20, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 16, "details": "15 files, 2196 LOC, new MediaTek MT8183 driver"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "New SoC clock driver for MT8183 platform"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 13, "details": "Reviewed-by and Tested-by from Google"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, kernel.org maintainer"}}, "score_justification": "New clock driver for MediaTek MT8183 SoC with 15 files and 2196 LOC, cross-reviewed by Google.", "code_snippet": "@@ -216,4 +216,79 @@ config COMMON_CLK_MT8173\n \tdefault ARCH_MEDIATEK\n \t---help---\n \t  This driver supports MediaTek MT8173 clocks.\n+\n+config COMMON_CLK_MT8183\n+\tbool \"Clock driver for MediaTek MT8183\"\n+\tdepends on (ARCH_MEDIATEK && ARM64) || COMPILE_TEST\n+\tselect COMMON_CLK_MEDIATEK\n+\tdefault ARCH_MEDIATEK && ARM64\n+\thelp\n+\t  This driver supports MediaTek MT8183 basic clocks.\n+\n+config COMMON_CLK_MT8183_AUDIOSYS\n+\tbool \"Clock driver for MediaTek MT8183 audiosys\"\n+\tdepends on COMMON_CLK_MT8183\n+\thelp\n+\t  This driver supports MediaTek MT8183 audiosys clocks.\n+\n+config COMMON_CLK_MT8183_CAMSYS", "flags": [], "link": "https://lore.kernel.org/linux-kernel/acddfc2c261b3653ab1c1b567a427299bac20d31"}
{"commit_hash": "d3706566ae3d92677b932dd156157fd6c72534b1", "short_hash": "d3706566ae3d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-09T19:53:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-11T13:59:49-07:00", "subject": "net: netrom: Fix error cleanup path of nr_proto_init", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/netrom", "include/net"], "subsystem_tier": 2, "files_changed": 5, "insertions": 61, "deletions": 26, "hunks": 14, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 51, "score_technical": 14, "score_impact": 17, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "Medium: 5 files, 14 hunks, 87 lines in critical net subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Crash fix affecting NetROM users, no stable tag"}, "quality": {"review_chain": 2, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Full commit message with stack trace and Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, different maintainer committer with external report"}}, "score_justification": "Error path cleanup fix in NetROM init with KASAN crash report, proper unwind", "code_snippet": "@@ -266,7 +266,7 @@ void nr_stop_idletimer(struct sock *);\n int nr_t1timer_running(struct sock *);\n \n /* sysctl_net_netrom.c */\n-void nr_register_sysctl(void);\n+int nr_register_sysctl(void);\n void nr_unregister_sysctl(void);\n \n #endif\ndiff --git a/net/netrom/af_netrom.c b/net/netrom/af_netrom.c\nindex 1d3144d19903..71ffd1a6dc7c 100644\n--- a/net/netrom/af_netrom.c\n+++ b/net/netrom/af_netrom.c", "flags": ["HAS_STACK_TRACE", "REPORTED_BY_EXTERNAL"], "link": "https://lore.kernel.org/linux-kernel/d3706566ae3d92677b932dd156157fd6c72534b1"}
{"commit_hash": "14bd9a607f9082e7b5690c27e69072f2aeae0de4", "short_hash": "14bd9a607f90", "author_name": "Jinyu Qi", "author_email": "jinyuqi@huawei.com", "author_company": "Huawei", "author_date": "2019-04-03T16:35:21+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-04-11T15:42:54+02:00", "subject": "iommu/iova: Separate atomic variables to improve performance", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["iommu"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["Jinyu Qi <jinyuqi@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small structural reorg in critical IOMMU subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization affecting IOMMU users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation of cache line optimization"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer committer"}}, "score_justification": "Cache line alignment optimization to reduce false sharing in IOMMU TLB flush counters", "code_snippet": "@@ -76,6 +76,14 @@ struct iova_domain {\n \tunsigned long\tstart_pfn;\t/* Lower limit for this domain */\n \tunsigned long\tdma_32bit_pfn;\n \tunsigned long\tmax32_alloc_size; /* Size of last failed allocation */\n+\tstruct iova_fq __percpu *fq;\t/* Flush Queue */\n+\n+\tatomic64_t\tfq_flush_start_cnt;\t/* Number of TLB flushes that\n+\t\t\t\t\t\t   have been started */\n+\n+\tatomic64_t\tfq_flush_finish_cnt;\t/* Number of TLB flushes that\n+\t\t\t\t\t\t   have been finished */\n+\n \tstruct iova\tanchor;\t\t/* rbtree lookup anchor */\n \tstruct iova_rcache rcaches[IOVA_RANGE_CACHE_MAX_SIZE];\t/* IOVA range caches */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/14bd9a607f9082e7b5690c27e69072f2aeae0de4"}
{"commit_hash": "de110fddcb2251c2a3a0dbe32d3d60800e775a88", "short_hash": "de110fddcb22", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T19:25:12+02:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-04-11T19:25:12+02:00", "subject": "video: fbdev: mxsfb: remove set but not used variable 'line_count'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "video", "subsystems_touched": ["drivers/video/fbdev"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 4, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 3, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change removing 2 lines in single driver file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Samsung maintainer, cross-org review"}}, "score_justification": "GCC unused variable warning fix removing dead code since driver introduction", "code_snippet": "@@ -630,7 +630,6 @@ static int mxsfb_restore_mode(struct fb_info *fb_info,\n \t\t\tstruct fb_videomode *vmode)\n {\n \tstruct mxsfb_info *host = fb_info->par;\n-\tunsigned line_count;\n \tunsigned period;\n \tunsigned long pa, fbsize;\n \tint bits_per_pixel, ofs, ret = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de110fddcb2251c2a3a0dbe32d3d60800e775a88"}
{"commit_hash": "261ac4ddfa9f128b41665abaf8e0e10a8f9e6b33", "short_hash": "261ac4ddfa9f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T19:25:12+02:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-04-11T19:25:12+02:00", "subject": "video: fbdev: atmel_lcdfb: remove set but not used variable 'pdata'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Nicolas Ferre <nicolas.ferre@microchip.com> (Microchip)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1252,12 +1252,10 @@ static int __exit atmel_lcdfb_remove(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct fb_info *info = dev_get_drvdata(dev);\n \tstruct atmel_lcdfb_info *sinfo;\n-\tstruct atmel_lcdfb_pdata *pdata;\n \n \tif (!info || !info->par)\n \t\treturn 0;\n \tsinfo = info->par;\n-\tpdata = &sinfo->pdata;\n \n \tcancel_work_sync(&sinfo->task);\n \texit_backlight(sinfo);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/261ac4ddfa9f128b41665abaf8e0e10a8f9e6b33"}
{"commit_hash": "730dd516eda738dfad69910b56f24e97fa3bf234", "short_hash": "730dd516eda7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T19:25:12+02:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-04-11T19:25:12+02:00", "subject": "video: fbdev: pvr2fb: remove set but not used variable 'size'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1071,7 +1071,6 @@ static struct pvr2_board {\n static int __init pvr2fb_init(void)\n {\n \tint i, ret = -ENODEV;\n-\tint size;\n \n #ifndef MODULE\n \tchar *option = NULL;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/730dd516eda738dfad69910b56f24e97fa3bf234"}
{"commit_hash": "a89afe58f1a74aac768a5eb77af95ef4ee15beaa", "short_hash": "a89afe58f1a7", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-04-12T10:09:16+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-11T21:22:21-06:00", "subject": "block: fix the return errno for direct IO", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 542ff7bf18c6 (\"block: new direct I/O implementation\")", "cc_stable": true, "subsystem_prefix": "block", "subsystems_touched": ["fs/block_dev.c"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Ming Lei <ming.lei@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 55, "score_technical": 12, "score_impact": 24, "score_quality": 14, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small 8-line change in critical block I/O subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Data corruption fix with stable backport affecting block device users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Excellent commit message with trace evidence, proper Fixes tag, Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by kernel.org maintainer Axboe"}}, "score_justification": "Data corruption fix in block direct I/O path with trace evidence and stable backport", "code_snippet": "@@ -307,10 +307,10 @@ static void blkdev_bio_end_io(struct bio *bio)\n \tstruct blkdev_dio *dio = bio->bi_private;\n \tbool should_dirty = dio->should_dirty;\n \n-\tif (dio->multi_bio && !atomic_dec_and_test(&dio->ref)) {\n-\t\tif (bio->bi_status && !dio->bio.bi_status)\n-\t\t\tdio->bio.bi_status = bio->bi_status;\n-\t} else {\n+\tif (bio->bi_status && !dio->bio.bi_status)\n+\t\tdio->bio.bi_status = bio->bi_status;\n+\n+\tif (!dio->multi_bio || atomic_dec_and_test(&dio->ref)) {\n \t\tif (!dio->is_sync) {\n \t\t\tstruct kiocb *iocb = dio->iocb;\n \t\t\tssize_t ret;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a89afe58f1a74aac768a5eb77af95ef4ee15beaa"}
{"commit_hash": "153a9177c1c8df514d6bd307b28d76832a8cefe8", "short_hash": "153a9177c1c8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T21:43:36+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-11T23:18:27+02:00", "subject": "rtc: sirfsoc: Make sysrtc_regmap_config static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -279,7 +279,7 @@ static const struct of_device_id sirfsoc_rtc_of_match[] = {\n \t{},\n };\n \n-const struct regmap_config sysrtc_regmap_config = {\n+static const struct regmap_config sysrtc_regmap_config = {\n \t.reg_bits = 32,\n \t.val_bits = 32,\n \t.fast_io = true,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/153a9177c1c8df514d6bd307b28d76832a8cefe8"}
{"commit_hash": "fa3c098c2d52a268f6372fa053932e11f50cecb1", "short_hash": "fa3c098c2d52", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T22:17:48+08:00", "committer_name": "Chanwoo Choi", "committer_email": "cw00.choi@samsung.com", "committer_company": "Samsung", "commit_date": "2019-04-12T08:23:24+09:00", "subject": "extcon: axp288: Add a depends on ACPI to the Kconfig entry", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0cf064db948a (\"extcon: axp288: Convert to use acpi_dev_get_first_match_dev()\")", "cc_stable": false, "subsystem_prefix": "extcon", "subsystems_touched": ["drivers/extcon"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Chanwoo Choi <cw00.choi@samsung.com> (Samsung)"], "reviewed_by": ["Hans de Goede <hdegoede@redhat.com> (Redhat)", "Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 6, "score_impact": 12, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change (1 line) in driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix with no stable tag, affects niche driver users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Has Fixes tag, Reported-by, Suggested-by, 2 Reviewed-by"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Huawei author, Samsung maintainer, Red Hat reviewer, reported by internal robot"}}, "score_justification": "Kconfig build fix adding ACPI dependency, well-reviewed with cross-org collaboration", "code_snippet": "@@ -30,7 +30,7 @@ config EXTCON_ARIZONA\n \n config EXTCON_AXP288\n \ttristate \"X-Power AXP288 EXTCON support\"\n-\tdepends on MFD_AXP20X && USB_SUPPORT && X86\n+\tdepends on MFD_AXP20X && USB_SUPPORT && X86 && ACPI\n \tselect USB_ROLE_SWITCH\n \thelp\n \t  Say Y here to enable support for USB peripheral detection\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa3c098c2d52a268f6372fa053932e11f50cecb1"}
{"commit_hash": "b3cf181c65c4d49f86b67b399fe7203ecac730a9", "short_hash": "b3cf181c65c4", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-12T11:30:27+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-12T09:41:49-07:00", "subject": "clk: mediatek: fix clk-gate flag setting", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 5a1cc4c27ad2 (\"clk: mediatek: Add flags to mtk_gate\")", "cc_stable": true, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in clock subsystem driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable backport, affects MediaTek platforms"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag and Reviewed-by, clear explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (MediaTek) and committer (kernel.org) different orgs"}}, "score_justification": "Flag assignment bug fix causing CLK_SET_RATE_PARENT to be dropped on MediaTek clocks", "code_snippet": "@@ -169,11 +169,10 @@ struct clk *mtk_clk_register_gate(\n \t\treturn ERR_PTR(-ENOMEM);\n \n \tinit.name = name;\n-\tinit.flags = CLK_SET_RATE_PARENT;\n+\tinit.flags = flags | CLK_SET_RATE_PARENT;\n \tinit.parent_names = parent_name ? &parent_name : NULL;\n \tinit.num_parents = parent_name ? 1 : 0;\n \tinit.ops = ops;\n-\tinit.flags = flags;\n \n \tcg->regmap = regmap;\n \tcg->set_ofs = set_ofs;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b3cf181c65c4d49f86b67b399fe7203ecac730a9"}
{"commit_hash": "258f250fc5f7f11dec00fc267a0424dd2a0fa8f4", "short_hash": "258f250fc5f7", "author_name": "Honghui Zhang", "author_email": "honghui.zhang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-18T16:27:55+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-04-12T10:59:00+01:00", "subject": "arm64: dts: mt2712: Remove un-used property for PCIe", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Honghui Zhang <honghui.zhang@mediatek.com> (MediaTek)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 3, "score_impact": 8, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "2 lines deleted in single DT file"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup removing unused property, affects platform users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic Reviewed-by tag, simple atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, ARM maintainer committer"}}, "score_justification": "Device tree cleanup removing unused num-lanes property from PCIe nodes", "code_snippet": "@@ -819,7 +819,6 @@ pcie0: pcie@0,0 {\n \t\t\t#size-cells = <2>;\n \t\t\t#interrupt-cells = <1>;\n \t\t\tranges;\n-\t\t\tnum-lanes = <1>;\n \t\t\tinterrupt-map-mask = <0 0 0 7>;\n \t\t\tinterrupt-map = <0 0 0 1 &pcie_intc0 0>,\n \t\t\t\t\t<0 0 0 2 &pcie_intc0 1>,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/258f250fc5f7f11dec00fc267a0424dd2a0fa8f4"}
{"commit_hash": "fbbad0287cec5e211bbd73c3e866ebd22a59b0d4", "short_hash": "fbbad0287cec", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-14T10:24:52+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-12T19:08:15+02:00", "subject": "arm64: dts: Using standard CCF interface to set vcodec clk", "primary_category": "DT-FIX", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64/dts", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 13, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Qianqian Yan <qianqian.yan@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small DTS change in arch-specific device tree"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 10, "details": "Clock configuration fix for MediaTek platform users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single logical change with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different organizations"}}, "score_justification": "Device tree fix using standard CCF interface for clock config", "code_snippet": "@@ -1307,6 +1307,15 @@ vcodec_dec: vcodec@16000000 {\n \t\t\t\t      \"vencpll\",\n \t\t\t\t      \"venc_lt_sel\",\n \t\t\t\t      \"vdec_bus_clk_src\";\n+\t\t\tassigned-clocks = <&topckgen CLK_TOP_VENC_LT_SEL>,\n+\t\t\t\t\t  <&topckgen CLK_TOP_CCI400_SEL>,\n+\t\t\t\t\t  <&topckgen CLK_TOP_VDEC_SEL>,\n+\t\t\t\t\t  <&apmixedsys CLK_APMIXED_VCODECPLL>,\n+\t\t\t\t\t  <&apmixedsys CLK_APMIXED_VENCPLL>;\n+\t\t\tassigned-clock-parents = <&topckgen CLK_TOP_VCODECPLL_370P5>,\n+\t\t\t\t\t\t <&topckgen CLK_TOP_UNIVPLL_D2>,\n+\t\t\t\t\t\t <&topckgen CLK_TOP_VCODECPLL>;\n+\t\t\tassigned-clock-rates = <0>, <0>, <0>, <1482000000>, <800000000>;\n \t\t};\n \n \t\tlarb1: larb@16010000 {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fbbad0287cec5e211bbd73c3e866ebd22a59b0d4"}
{"commit_hash": "df8c9581e258e9e9d50d0653094cc64fcbc7d8fc", "short_hash": "df8c9581e258", "author_name": "Erin Lo", "author_email": "erin.lo@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-15T14:02:33+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-12T19:08:15+02:00", "subject": "dt-bindings: mtk-sysirq: Add compatible for Mediatek MT8183", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 25, "score_technical": 3, "score_impact": 9, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "Minimal 1-line addition in DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "DT binding for new SoC HW support"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed with proper tags and clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author/committer different orgs, good review"}}, "score_justification": "DT binding adds compatible string for MT8183 SoC interrupt controller", "code_snippet": "@@ -5,6 +5,7 @@ interrupt.\n \n Required properties:\n - compatible: should be\n+\t\"mediatek,mt8183-sysirq\", \"mediatek,mt6577-sysirq\": for MT8183\n \t\"mediatek,mt8173-sysirq\", \"mediatek,mt6577-sysirq\": for MT8173\n \t\"mediatek,mt8135-sysirq\", \"mediatek,mt6577-sysirq\": for MT8135\n \t\"mediatek,mt8127-sysirq\", \"mediatek,mt6577-sysirq\": for MT8127\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/df8c9581e258e9e9d50d0653094cc64fcbc7d8fc"}
{"commit_hash": "8bf043635a1adf443fdc56849f8ef0bc23c65949", "short_hash": "8bf043635a1a", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T11:35:33+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-12T19:51:19+02:00", "subject": "arm64: dts: mt8183: add pinctrl file", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1120, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 8, "details": "New DT file with 1120 lines in single file"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MediaTek mt8183 SoC pinctrl"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed by pinctrl maintainers, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, different maintainer, external reviewers"}}, "score_justification": "", "code_snippet": "@@ -0,0 +1,1120 @@\n+/* SPDX-License-Identifier: GPL-2.0 */\n+/*\n+ * Copyright (C) 2018 MediaTek Inc.\n+ * Author: Zhiyong Tao <zhiyong.tao@mediatek.com>\n+ *\n+ */\n+\n+#ifndef __MT8183_PINFUNC_H\n+#define __MT8183_PINFUNC_H\n+\n+#include <dt-bindings/pinctrl/mt65xx.h>\n+\n+#define PINMUX_GPIO0__FUNC_GPIO0 (MTK_PIN_NO(0) | 0)\n+#define PINMUX_GPIO0__FUNC_MRG_SYNC (MTK_PIN_NO(0) | 1)\n+#define PINMUX_GPIO0__FUNC_PCM0_SYNC (MTK_PIN_NO(0) | 2)\n+#define PINMUX_GPIO0__FUNC_TP_GPIO0_AO (MTK_PIN_NO(0) | 3)\n+#define PINMUX_GPIO0__FUNC_SRCLKENAI0 (MTK_PIN_NO(0) | 4)\n+#define PINMUX_GPIO0__FUNC_SCP_SPI2_CS (MTK_PIN_NO(0) | 5)\n+#define PINMUX_GPIO0__FUNC_I2S3_MCK (MTK_PIN_NO(0) | 6)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8bf043635a1adf443fdc56849f8ef0bc23c65949"}
{"commit_hash": "a97fa586800ea1779cfd83f7c06f11e2e6bb44f5", "short_hash": "a97fa586800e", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-11T20:46:36+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:11-04:00", "subject": "scsi: hisi_sas: add host reset interface for test", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TEST"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 4, "insertions": 16, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change adding host reset interface to SCSI driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Testing feature for hisi_sas driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers from same company, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Hisilicon, committer from Oracle"}}, "score_justification": "Adds host reset interface for testing in hisi_sas driver, affects SCSI subsystem users", "code_snippet": "@@ -2234,6 +2234,19 @@ void hisi_sas_kill_tasklets(struct hisi_hba *hisi_hba)\n }\n EXPORT_SYMBOL_GPL(hisi_sas_kill_tasklets);\n \n+int hisi_sas_host_reset(struct Scsi_Host *shost, int reset_type)\n+{\n+\tstruct hisi_hba *hisi_hba = shost_priv(shost);\n+\n+\tif (reset_type != SCSI_ADAPTER_RESET)\n+\t\treturn -EOPNOTSUPP;\n+\n+\tqueue_work(hisi_hba->wq, &hisi_hba->rst_work);\n+\n+\treturn 0;\n+}\n+EXPORT_SYMBOL_GPL(hisi_sas_host_reset);\n+\n struct scsi_transport_template *hisi_sas_stt;\n EXPORT_SYMBOL_GPL(hisi_sas_stt);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a97fa586800ea1779cfd83f7c06f11e2e6bb44f5"}
{"commit_hash": "246ea3c0ad02386ddfc1ea3031510da8cc86c892", "short_hash": "246ea3c0ad02", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T20:46:43+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Don't fail IT nexus reset for Open Reject timeout", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 11, "hunks": 8, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in SCSI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for specific driver behavior"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 7, "details": "Moderate review quality with some cleanup"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer signoff"}}, "score_justification": "Logic fix preventing unnecessary IT nexus reset failures for Open Reject timeout in hisi_sas driver", "code_snippet": "@@ -1287,8 +1287,7 @@ static int hisi_sas_exec_internal_tmf_task(struct domain_device *device,\n \t\t\t/* no error, but return the number of bytes of\n \t\t\t * underrun\n \t\t\t */\n-\t\t\tdev_warn(dev, \"abort tmf: task to dev %016llx \"\n-\t\t\t\t \"resp: 0x%x sts 0x%x underrun\\n\",\n+\t\t\tdev_warn(dev, \"abort tmf: task to dev %016llx resp: 0x%x sts 0x%x underrun\\n\",\n \t\t\t\t SAS_ADDR(device->sas_addr),\n \t\t\t\t task->task_status.resp,\n \t\t\t\t task->task_status.stat);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/246ea3c0ad02386ddfc1ea3031510da8cc86c892"}
{"commit_hash": "01d4e3a2fc07b269eedeefa1f7c5c7090c442900", "short_hash": "01d4e3a2fc07", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-11T20:46:44+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Some misc tidy-up", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 4, "insertions": 38, "deletions": 53, "hunks": 52, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 12, "score_impact": 6, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium cleanup across 4 files in SCSI subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cosmetic cleanup with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Minimal review evidence, basic commit message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Single company contribution, maintainer committed"}}, "score_justification": "Code cleanup consolidating dev_err/dev_info/dev_warn calls and fixing comment spacing", "code_snippet": "@@ -683,7 +683,7 @@ static void hisi_sas_bytes_dmaed(struct hisi_hba *hisi_hba, int phy_no)\n \t\tid->initiator_bits = SAS_PROTOCOL_ALL;\n \t\tid->target_bits = phy->identify.target_port_protocols;\n \t} else if (phy->phy_type & PORT_TYPE_SATA) {\n-\t\t/*Nothing*/\n+\t\t/* Nothing */\n \t}\n \n \tsas_phy->frame_rcvd_size = phy->frame_rcvd_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/01d4e3a2fc07b269eedeefa1f7c5c7090c442900"}
{"commit_hash": "a31157002778b18b886536a4329286516f21c1c1", "short_hash": "a31157002778", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T20:46:42+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Don't hard reset disk during controller reset", "primary_category": "BUG-PERF-REG", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Luo Jiaxing <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line change in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Performance regression fix affecting controller reset delay"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with 2 reviewers, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Performance fix to skip unnecessary hardreset during controller reset, reducing delay", "code_snippet": "@@ -754,7 +754,8 @@ static int hisi_sas_init_device(struct domain_device *device)\n \t\t * STP target port\n \t\t */\n \t\tlocal_phy = sas_get_local_phy(device);\n-\t\tif (!scsi_is_sas_phy_local(local_phy)) {\n+\t\tif (!scsi_is_sas_phy_local(local_phy) &&\n+\t\t    !test_bit(HISI_SAS_RESET_BIT, &hisi_hba->flags)) {\n \t\t\tunsigned long deadline = ata_deadline(jiffies, 20000);\n \t\t\tstruct sata_device *sata_dev = &device->sata_dev;\n \t\t\tstruct ata_host *ata_host = sata_dev->ata_host;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a31157002778b18b886536a4329286516f21c1c1"}
{"commit_hash": "3168d4f800b874b2f574ae9c20cbb1a0bc551028", "short_hash": "3168d4f800b8", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T20:46:41+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Support all RAS events with MSI interrupts", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 259, "deletions": 178, "hunks": 38, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 14, "score_impact": 15, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large driver change (38 hunks, +259-178 lines) in SCSI subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement improving error handling for Hisilicon SAS users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good message with context, 2 sign-offs, no explicit testing tags"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Oracle maintainer, cross-company collaboration"}}, "score_justification": "Hardware-specific error handling enhancement in Hisilicon SAS driver switching from PCI AER to MSI interrupts", "code_snippet": "@@ -52,7 +52,36 @@\n #define CFG_ABT_SET_IPTT_DONE\t0xd8\n #define CFG_ABT_SET_IPTT_DONE_OFF\t0\n #define HGC_IOMB_PROC1_STATUS\t0x104\n+#define HGC_LM_DFX_STATUS2\t\t0x128\n+#define HGC_LM_DFX_STATUS2_IOSTLIST_OFF\t\t0\n+#define HGC_LM_DFX_STATUS2_IOSTLIST_MSK\t(0xfff << \\\n+\t\t\t\t\t HGC_LM_DFX_STATUS2_IOSTLIST_OFF)\n+#define HGC_LM_DFX_STATUS2_ITCTLIST_OFF\t\t12\n+#define HGC_LM_DFX_STATUS2_ITCTLIST_MSK\t(0x7ff << \\\n+\t\t\t\t\t HGC_LM_DFX_STATUS2_ITCTLIST_OFF)\n+#define HGC_CQE_ECC_ADDR\t\t0x13c\n+#define HGC_CQE_ECC_1B_ADDR_OFF\t0\n+#define HGC_CQE_ECC_1B_ADDR_MSK\t(0x3f << HGC_CQE_ECC_1B_ADDR_OFF)\n+#define HGC_CQE_ECC_MB_ADDR_OFF\t8\n+#define HGC_CQE_ECC_MB_ADDR_MSK (0x3f << HGC_CQE_ECC_MB_ADDR_OFF)\n+#define HGC_IOST_ECC_ADDR\t\t0x140\n+#define HGC_IOST_ECC_1B_ADDR_OFF\t0\n+#define HGC_IOST_ECC_1B_ADDR_MSK\t(0x3ff << HGC_IOST_ECC_1B_ADDR_OFF)\n+#define HGC_IOST_ECC_MB_ADDR_OFF\t16", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3168d4f800b874b2f574ae9c20cbb1a0bc551028"}
{"commit_hash": "adb5b38c19bb8221df4dfb7bccd1b9572c8072c1", "short_hash": "adb5b38c19bb", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-11T20:46:40+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: allocate different SAS address for directly attached situation", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-small change in SCSI driver for specific hardware"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Feature enhancement for SATA disk addressing on HiSilicon v3 hardware"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with context, no external testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Hisilicon to Oracle) through maintainer"}}, "score_justification": "Hardware-specific feature extension adding unique SAS addressing for v3 hw, similar to prior v2 work", "code_snippet": "@@ -1380,6 +1380,7 @@ static irqreturn_t phy_up_v3_hw(int phy_no, struct hisi_hba *hisi_hba)\n \t\tstruct hisi_sas_initial_fis *initial_fis;\n \t\tstruct dev_to_host_fis *fis;\n \t\tu8 attached_sas_addr[SAS_ADDR_SIZE] = {0};\n+\t\tstruct Scsi_Host *shost = hisi_hba->shost;\n \n \t\tdev_info(dev, \"phyup: phy%d link_rate=%d(sata)\\n\", phy_no, link_rate);\n \t\tinitial_fis = &hisi_hba->initial_fis[phy_no];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/adb5b38c19bb8221df4dfb7bccd1b9572c8072c1"}
{"commit_hash": "447f78c0e183892bcdd5664472cfcb8846b9081e", "short_hash": "447f78c0e183", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-11T20:46:37+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Remedy inconsistent PHY down state in software", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes PHY state inconsistency for SAS users"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation, no testing tag"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author and committer from different orgs"}}, "score_justification": "Fixes PHY state inconsistency in hisi_sas driver during reset scenarios", "code_snippet": "@@ -1427,9 +1427,9 @@ static void hisi_sas_rescan_topology(struct hisi_hba *hisi_hba, u32 old_state,\n \t\t\t\t\tsas_ha->notify_port_event(sas_phy,\n \t\t\t\t\t\t\tPORTE_BROADCAST_RCVD);\n \t\t\t}\n-\t\t} else if (old_state & (1 << phy_no))\n-\t\t\t/* PHY down but was up before */\n+\t\t} else {\n \t\t\thisi_sas_phy_down(hisi_hba, phy_no, 0);\n+\t\t}\n \n \t}\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/447f78c0e183892bcdd5664472cfcb8846b9081e"}
{"commit_hash": "18a54b329c1a57613b95b42ce55affb9079af822", "short_hash": "18a54b329c1a", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-11T20:46:39+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-12T21:30:12-04:00", "subject": "scsi: hisi_sas: Adjust the printk format of functions hisi_sas_init_device()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes error message display for SAS disk users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with before/after context"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Hisilicon author, Huawei reviewer, Oracle maintainer"}}, "score_justification": "Format string fix for error code display in SCSI driver", "code_snippet": "@@ -769,8 +769,7 @@ static int hisi_sas_init_device(struct domain_device *device)\n \t\t}\n \t\tsas_put_local_phy(local_phy);\n \t\tif (rc) {\n-\t\t\tdev_warn(dev, \"SATA disk hardreset fail: 0x%x\\n\",\n-\t\t\t\t rc);\n+\t\t\tdev_warn(dev, \"SATA disk hardreset fail: %d\\n\", rc);\n \t\t\treturn rc;\n \t\t}\n \n", "flags": ["FIXES_LOG_ONLY"], "link": "https://lore.kernel.org/linux-kernel/18a54b329c1a57613b95b42ce55affb9079af822"}
{"commit_hash": "bdfc4027de15ef0a396b7fc49a9f9c094378e9f4", "short_hash": "bdfc4027de15", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:19:27+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-13T14:17:52+03:00", "subject": "rtlwifi: rtl8723ae: Make rtl8723e_dm_refresh_rate_adaptive_mask static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ping-Ke Shih <pkshih@realtek.com> (Realtek)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -663,7 +663,7 @@ void rtl8723e_dm_init_rate_adaptive_mask(struct ieee80211_hw *hw)\n \n }\n \n-void rtl8723e_dm_refresh_rate_adaptive_mask(struct ieee80211_hw *hw)\n+static void rtl8723e_dm_refresh_rate_adaptive_mask(struct ieee80211_hw *hw)\n {\n \tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n \tstruct rtl_hal *rtlhal = rtl_hal(rtl_priv(hw));\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/bdfc4027de15ef0a396b7fc49a9f9c094378e9f4"}
{"commit_hash": "631bd2f7ec02ad9e3d1fa31765971387e7792483", "short_hash": "631bd2f7ec02", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-09T02:12:17Z", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-14T13:39:30+01:00", "subject": "iio: imu: st_lsm6dsx: remove set but not used variables 'acc_sensor' and 'gyro_sensor'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iio", "subsystems_touched": ["drivers/iio/imu"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Lorenzo Bianconi <lorenzo@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 19, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Acked-by from subsystem maintainer"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Same company author and committer"}}, "score_justification": "Compiler warning fix removing unused variables in IIO driver", "code_snippet": "@@ -517,7 +517,6 @@ int st_lsm6dsx_read_tagged_fifo(struct st_lsm6dsx_hw *hw)\n {\n \tu16 pattern_len = hw->sip * ST_LSM6DSX_TAGGED_SAMPLE_SIZE;\n \tu16 fifo_len, fifo_diff_mask;\n-\tstruct st_lsm6dsx_sensor *acc_sensor, *gyro_sensor;\n \tu8 iio_buff[ST_LSM6DSX_IIO_BUFF_SIZE], tag;\n \tbool reset_ts = false;\n \tint i, err, read_len;", "flags": ["WARN_FIX", "CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/631bd2f7ec02ad9e3d1fa31765971387e7792483"}
{"commit_hash": "44e626f720c3176558df7840f2b52ba44cc0d414", "short_hash": "44e626f720c3", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:34-07:00", "subject": "net: hns3: fix VLAN offload handle for VLAN inserted by port", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 52, "deletions": 4, "hunks": 12, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes VLAN offload causing RAS error"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message, internal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer"}}, "score_justification": "Fix for VLAN offload causing RAS error in Hisilicon driver when port-based VLAN is enabled", "code_snippet": "@@ -984,8 +994,16 @@ static int hns3_fill_desc_vtags(struct sk_buff *skb,\n \t\t * and use inner_vtag in one tag case.\n \t\t */\n \t\tif (skb->protocol == htons(ETH_P_8021Q)) {\n-\t\t\thns3_set_field(*out_vlan_flag, HNS3_TXD_OVLAN_B, 1);\n-\t\t\t*out_vtag = vlan_tag;\n+\t\t\tif (handle->port_base_vlan_state ==\n+\t\t\t    HNAE3_PORT_BASE_VLAN_DISABLE){\n+\t\t\t\thns3_set_field(*out_vlan_flag,\n+\t\t\t\t\t       HNS3_TXD_OVLAN_B, 1);\n+\t\t\t\t*out_vtag = vlan_tag;\n+\t\t\t} else {\n+\t\t\t\thns3_set_field(*inner_vlan_flag,\n+\t\t\t\t\t       HNS3_TXD_VLAN_B, 1);\n+\t\t\t\t*inner_vtag = vlan_tag;\n+\t\t\t}\n \t\t} else {\n \t\t\thns3_set_field(*inner_vlan_flag, HNS3_TXD_VLAN_B, 1);\n \t\t\t*inner_vtag = vlan_tag;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44e626f720c3176558df7840f2b52ba44cc0d414"}
{"commit_hash": "21e043cd812492e0a02fbbd956fbe49e19daeb45", "short_hash": "21e043cd8124", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:34-07:00", "subject": "net: hns3: fix set port based VLAN for PF", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 46a3df9f9718 (\"net: hns3: Add HNS3 Acceleration Engine & Compatibility Layer Support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 203, "deletions": 34, "hunks": 12, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 16, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in networking driver (3 files, 12 hunks, 237 LOC)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "VLAN logic fix for specific NIC, has Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "3 signoffs, detailed explanation of wrong behavior"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Fixes incorrect VF VLAN implementation in hns3 driver, 3 files changed with proper Fixes tag", "code_snippet": "@@ -6585,30 +6585,6 @@ static int hclge_set_vlan_filter_hw(struct hclge_dev *hdev, __be16 proto,\n \treturn ret;\n }\n \n-int hclge_set_vlan_filter(struct hnae3_handle *handle, __be16 proto,\n-\t\t\t  u16 vlan_id, bool is_kill)\n-{\n-\tstruct hclge_vport *vport = hclge_get_vport(handle);\n-\tstruct hclge_dev *hdev = vport->back;\n-\n-\treturn hclge_set_vlan_filter_hw(hdev, proto, vport->vport_id, vlan_id,\n-\t\t\t\t\t0, is_kill);\n-}\n-\n-static int hclge_set_vf_vlan_filter(struct hnae3_handle *handle, int vfid,\n-\t\t\t\t    u16 vlan, u8 qos, __be16 proto)\n-{\n-\tstruct hclge_vport *vport = hclge_get_vport(handle);\n-\tstruct hclge_dev *hdev = vport->back;\n-", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21e043cd812492e0a02fbbd956fbe49e19daeb45"}
{"commit_hash": "741fca1667ea90f6c9a1393d3c1a3e4f9eae3fc7", "short_hash": "741fca1667ea", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:34-07:00", "subject": "net: hns3: modify VLAN initialization to be compatible with port based VLAN", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 78, "deletions": 30, "hunks": 14, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in networking driver: 3 files, 14 hunks, 108 lines changed"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for VLAN hardware offload compatibility"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Well-documented commit with good context, internal company review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer (David S. Miller) committed"}}, "score_justification": "VLAN hardware offload enhancement for Hisilicon driver enabling port-based VLAN compatibility", "code_snippet": "@@ -147,6 +147,13 @@ enum hnae3_flr_state {\n \tHNAE3_FLR_DONE,\n };\n \n+enum hnae3_port_base_vlan_state {\n+\tHNAE3_PORT_BASE_VLAN_DISABLE,\n+\tHNAE3_PORT_BASE_VLAN_ENABLE,\n+\tHNAE3_PORT_BASE_VLAN_MODIFY,\n+\tHNAE3_PORT_BASE_VLAN_NOCHANGE,\n+};\n+\n struct hnae3_vector_info {\n \tu8 __iomem *io_addr;\n \tint vector;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 11d9739caea5..630f7f88672e 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/741fca1667ea90f6c9a1393d3c1a3e4f9eae3fc7"}
{"commit_hash": "6814b5900b83de632d6709e21f906391496f5fc5", "short_hash": "6814b5900b83", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: code optimization for command queue' spin lock", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important networking driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification for hns3 driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review chain, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Removes redundant BH disable in spinlock operations for hns3 command queue init/cleanup", "code_snippet": "@@ -364,7 +364,7 @@ int hclge_cmd_init(struct hclge_dev *hdev)\n \n \thclge_cmd_init_regs(&hdev->hw);\n \n-\tspin_unlock_bh(&hdev->hw.cmq.crq.lock);\n+\tspin_unlock(&hdev->hw.cmq.crq.lock);\n \tspin_unlock_bh(&hdev->hw.cmq.csq.lock);\n \n \tclear_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\nindex 054556eb0d70..1b428d4a1132 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6814b5900b83de632d6709e21f906391496f5fc5"}
{"commit_hash": "cc5ff6e90f808f9a4c8229bf2f1de0dfe5d7931c", "short_hash": "cc5ff6e90f80", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: free the pending skb when clean RX ring", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver cleanup path"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation, no Fixes tag, single change"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, maintainer committed"}}, "score_justification": "Resource leak fix in NIC driver cleanup path preventing data corruption on port reopen", "code_snippet": "@@ -3960,6 +3960,13 @@ static int hns3_clear_rx_ring(struct hns3_enet_ring *ring)\n \t\tring_ptr_move_fw(ring, next_to_use);\n \t}\n \n+\t/* Free the pending skb in rx ring */\n+\tif (ring->skb) {\n+\t\tdev_kfree_skb_any(ring->skb);\n+\t\tring->skb = NULL;\n+\t\tring->pending_buf = 0;\n+\t}\n+\n \treturn 0;\n }\n \n", "flags": ["NO_FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/cc5ff6e90f808f9a4c8229bf2f1de0dfe5d7931c"}
{"commit_hash": "2d0075b4a7b795bb6e6c4e392d36c023b0d0e858", "short_hash": "2d0075b4a7b7", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: do not initialize MDIO bus when PHY is inexistent", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes driver initialization failure for specific hardware config"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain, adequate message explaining why"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same company (Huawei), maintainer applied"}}, "score_justification": "Driver init fix for Hisilicon NIC when PHY not connected, small scope", "code_snippet": "@@ -121,12 +121,18 @@ static int hclge_mdio_read(struct mii_bus *bus, int phyid, int regnum)\n \n int hclge_mac_mdio_config(struct hclge_dev *hdev)\n {\n+#define PHY_INEXISTENT\t255\n+\n \tstruct hclge_mac *mac = &hdev->hw.mac;\n \tstruct phy_device *phydev;\n \tstruct mii_bus *mdio_bus;\n \tint ret;\n \n-\tif (hdev->hw.mac.phy_addr >= PHY_MAX_ADDR) {\n+\tif (hdev->hw.mac.phy_addr == PHY_INEXISTENT) {\n+\t\tdev_info(&hdev->pdev->dev,\n+\t\t\t \"no phy device is connected to mdio bus\\n\");\n+\t\treturn 0;\n+\t} else if (hdev->hw.mac.phy_addr >= PHY_MAX_ADDR) {\n \t\tdev_err(&hdev->pdev->dev, \"phy_addr(%d) is too large.\\n\",\n \t\t\thdev->hw.mac.phy_addr);\n \t\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2d0075b4a7b795bb6e6c4e392d36c023b0d0e858"}
{"commit_hash": "c41e672d1e6a51b2b21a23ade4048b414ec76624", "short_hash": "c41e672d1e6a", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-14T09:47:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: set dividual reset level for all RAS and MSI-X errors", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 618, "deletions": 339, "hunks": 26, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 14, "score_impact": 14, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large change in NIC driver with 618 insertions across 26 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting Hisilicon NIC users, no stable tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple sign-offs, good commit message explaining hw specs"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Hisilicon author, net maintainer merged, internal review"}}, "score_justification": "Driver bug fix adding reset_level field to RAS/MSI-X error handling per hardware specs", "code_snippet": "@@ -4,287 +4,468 @@\n #include \"hclge_err.h\"\n \n static const struct hclge_hw_error hclge_imp_tcm_ecc_int[] = {\n-\t{ .int_msk = BIT(1), .msg = \"imp_itcm0_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(3), .msg = \"imp_itcm1_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(5), .msg = \"imp_itcm2_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(7), .msg = \"imp_itcm3_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(9), .msg = \"imp_dtcm0_mem0_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(11), .msg = \"imp_dtcm0_mem1_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(13), .msg = \"imp_dtcm1_mem0_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(15), .msg = \"imp_dtcm1_mem1_ecc_mbit_err\" },\n-\t{ .int_msk = BIT(17), .msg = \"imp_itcm4_ecc_mbit_err\" },\n+\t{ .int_msk = BIT(1), .msg = \"imp_itcm0_ecc_mbit_err\",\n+\t  .reset_level = HNAE3_NONE_RESET },\n+\t{ .int_msk = BIT(3), .msg = \"imp_itcm1_ecc_mbit_err\",\n+\t  .reset_level = HNAE3_NONE_RESET },\n+\t{ .int_msk = BIT(5), .msg = \"imp_itcm2_ecc_mbit_err\",\n+\t  .reset_level = HNAE3_NONE_RESET },\n+\t{ .int_msk = BIT(7), .msg = \"imp_itcm3_ecc_mbit_err\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c41e672d1e6a51b2b21a23ade4048b414ec76624"}
{"commit_hash": "1a49f3c6146f33c42523c8e4f5a72b6f322d5357", "short_hash": "1a49f3c6146f", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: divide shared buffer between TC", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 20, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Medium change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Logic fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with explanation, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit through maintainer"}}, "score_justification": "Buffer management enhancement for Hisilicon NIC driver with TC-aware allocation", "code_snippet": "@@ -1495,8 +1495,8 @@ static bool  hclge_is_rx_buf_ok(struct hclge_dev *hdev,\n \t\t\t\tstruct hclge_pkt_buf_alloc *buf_alloc,\n \t\t\t\tu32 rx_all)\n {\n-\tu32 shared_buf_min, shared_buf_tc, shared_std;\n-\tint tc_num = hclge_get_tc_num(hdev);\n+\tu32 shared_buf_min, shared_buf_tc, shared_std, hi_thrd, lo_thrd;\n+\tu32 tc_num = hclge_get_tc_num(hdev);\n \tu32 shared_buf, aligned_mps;\n \tu32 rx_priv;\n \tint i;", "flags": ["SAME_ORG_AUTHOR_COMMITTER"], "link": "https://lore.kernel.org/linux-kernel/1a49f3c6146f33c42523c8e4f5a72b6f322d5357"}
{"commit_hash": "db5936db8f9e024cdbb988dab1606f2c205bb385", "short_hash": "db5936db8f9e", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: always assume no drop TC for performance reason", "primary_category": "BUG-PERF-REG", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 25, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change: 1 file, 8 hunks, net deletion of code in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Performance regression fix affecting Hisilicon network card users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation with only author signatures, no external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer (different orgs)"}}, "score_justification": "Performance fix removing PFC-based buffer discrimination causing hardware throughput issues", "code_snippet": "@@ -1432,17 +1432,6 @@ static int hclge_get_tc_num(struct hclge_dev *hdev)\n \treturn cnt;\n }\n \n-static int hclge_get_pfc_enalbe_num(struct hclge_dev *hdev)\n-{\n-\tint i, cnt = 0;\n-\n-\tfor (i = 0; i < HCLGE_MAX_TC_NUM; i++)\n-\t\tif (hdev->hw_tc_map & BIT(i) &&\n-\t\t    hdev->tm_info.hw_pfc_map & BIT(i))\n-\t\t\tcnt++;\n-\treturn cnt;\n-}\n-\n /* Get the number of pfc enabled TCs, which have private buffer */\n static int hclge_get_pfc_priv_num(struct hclge_dev *hdev,\n \t\t\t\t  struct hclge_pkt_buf_alloc *buf_alloc)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db5936db8f9e024cdbb988dab1606f2c205bb385"}
{"commit_hash": "d474d88f882610850abbf0ec6cf81ff90014c8ed", "short_hash": "d474d88f8826", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: add hns3_gro_complete for HW GRO process", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 123, "deletions": 75, "hunks": 18, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized change in NIC driver (123 insertions, 75 deletions across 18 hunks)"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "HW GRO feature enhancement for specific NIC driver affecting performance"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Signed-off by multiple but minimal commit message context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer David Miller as committer"}}, "score_justification": "Adds hardware GRO completion support for hns3 NIC driver with TCP ECN handling", "code_snippet": "@@ -2331,6 +2331,44 @@ static void hns3_nic_reuse_page(struct sk_buff *skb, int i,\n \t}\n }\n \n+static int hns3_gro_complete(struct sk_buff *skb)\n+{\n+\t__be16 type = skb->protocol;\n+\tstruct tcphdr *th;\n+\tint depth = 0;\n+\n+\twhile (type == htons(ETH_P_8021Q)) {\n+\t\tstruct vlan_hdr *vh;\n+\n+\t\tif ((depth + VLAN_HLEN) > skb_headlen(skb))\n+\t\t\treturn -EFAULT;\n+\n+\t\tvh = (struct vlan_hdr *)(skb->data + depth);\n+\t\ttype = vh->h_vlan_encapsulated_proto;\n+\t\tdepth += VLAN_HLEN;\n+\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d474d88f882610850abbf0ec6cf81ff90014c8ed"}
{"commit_hash": "a4d2cdcbb878d4d5828cd4124104c330d2817211", "short_hash": "a4d2cdcbb878", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: minor refactor for hns3_rx_checksum", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 12, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny refactor in NIC driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code simplification affecting hns3 driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Properly formatted commit, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer"}}, "score_justification": "Minor parameter refactor in hns3 NIC driver to reduce duplicate code", "code_snippet": "@@ -2332,16 +2332,11 @@ static void hns3_nic_reuse_page(struct sk_buff *skb, int i,\n }\n \n static void hns3_rx_checksum(struct hns3_enet_ring *ring, struct sk_buff *skb,\n-\t\t\t     struct hns3_desc *desc)\n+\t\t\t     u32 l234info, u32 bd_base_info)\n {\n \tstruct net_device *netdev = ring->tqp->handle->kinfo.netdev;\n \tint l3_type, l4_type;\n-\tu32 bd_base_info;\n \tint ol4_type;\n-\tu32 l234info;\n-\n-\tbd_base_info = le32_to_cpu(desc->rx.bd_base_info);\n-\tl234info = le32_to_cpu(desc->rx.l234_info);\n \n \tskb->ip_summed = CHECKSUM_NONE;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4d2cdcbb878d4d5828cd4124104c330d2817211"}
{"commit_hash": "92f11ea177cd77ebc790916eb9d3331e1d676b62", "short_hash": "92f11ea177cd", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-14T09:47:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-14T13:47:35-07:00", "subject": "net: hns3: fix set port based VLAN issue for VF", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 46a3df9f9718 (\"net: hns3: Add HNS3 Acceleration Engine & Compatibility Layer Support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 7, "insertions": 111, "deletions": 9, "hunks": 28, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 16, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 16, "details": "7 files, 28 hunks, +111-9 lines in networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting specific driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "VLAN configuration logic fix in hns3 driver with PF/VF communication", "code_snippet": "@@ -63,6 +64,8 @@ enum hclge_mbx_vlan_cfg_subcode {\n \tHCLGE_MBX_VLAN_FILTER = 0,\t/* set vlan filter */\n \tHCLGE_MBX_VLAN_TX_OFF_CFG,\t/* set tx side vlan offload */\n \tHCLGE_MBX_VLAN_RX_OFF_CFG,\t/* set rx side vlan offload */\n+\tHCLGE_MBX_PORT_BASE_VLAN_CFG,\t/* set port based vlan configuration */\n+\tHCLGE_MBX_GET_PORT_BASE_VLAN_STATE,\t/* get port based vlan state */\n };\n \n #define HCLGE_MBX_MAX_MSG_SIZE\t16\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 0a99a97b19bf..0d1cd3f5eafd 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/92f11ea177cd77ebc790916eb9d3331e1d676b62"}
{"commit_hash": "1c2fb40546489ce4ad3cf0cb46d70b5bdea05205", "short_hash": "1c2fb4054648", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T16:45:58+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-14T13:52:11+01:00", "subject": "iio: adc: ti-ads7950: Fix build error without CONFIG_GPIOLIB", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c97dce792dc8 (\"iio: adc: ti-ads7950: add GPIO support\")", "cc_stable": false, "subsystem_prefix": "iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Justin Chen <justinpopo6@gmail.com> (Gmail)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 8, "score_impact": 12, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 2 lines changed in IIO ADC driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix for specific driver, has Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "2 Reviewed-by tags, clear message with compiler error"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Reported by internal robot, different maintainer"}}, "score_justification": "Kconfig build dependency fix to add GPIOLIB, resolving compilation error", "code_snippet": "@@ -968,7 +968,7 @@ config TI_ADS1015\n \n config TI_ADS7950\n \ttristate \"Texas Instruments ADS7950 ADC driver\"\n-\tdepends on SPI\n+\tdepends on SPI && GPIOLIB\n \tselect IIO_BUFFER\n \tselect IIO_TRIGGERED_BUFFER\n \thelp\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c2fb40546489ce4ad3cf0cb46d70b5bdea05205"}
{"commit_hash": "9ee8578d953023cc57e7e736ae48502c707c0210", "short_hash": "9ee8578d9530", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-01-29T16:03:24+08:00", "committer_name": "Robert Jarzmik", "committer_email": "robert.jarzmik@free.fr", "committer_company": "Free", "commit_date": "2019-04-14T21:54:50+02:00", "subject": "ARM: pxa: ssp: Fix \"WARNING: invalid free of devm_ allocated data\"", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION", "MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 1c459de1e645 (\"ARM: pxa: ssp: use devm_ functions\")", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/plat-pxa"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Robert Jarzmik <robert.jarzmik@free.fr> (Free)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny deletion in ARM platform code"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix with Fixes tag, affects PXA platform users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear commit message with Fixes tag, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, free.fr maintainer, different orgs"}}, "score_justification": "Regression fix removing redundant cleanup after devm_ conversion, PXA platform-specific", "code_snippet": "@@ -183,18 +183,12 @@ static int pxa_ssp_probe(struct platform_device *pdev)\n \n static int pxa_ssp_remove(struct platform_device *pdev)\n {\n-\tstruct resource *res;\n \tstruct ssp_device *ssp;\n \n \tssp = platform_get_drvdata(pdev);\n \tif (ssp == NULL)\n \t\treturn -ENODEV;\n \n-\tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n-\trelease_mem_region(res->start, resource_size(res));\n-\n-\tclk_put(ssp->clk);\n-\n \tmutex_lock(&ssp_lock);\n \tlist_del(&ssp->node);\n \tmutex_unlock(&ssp_lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ee8578d953023cc57e7e736ae48502c707c0210"}
{"commit_hash": "e252e0e0028167ea3d1eafa99c2ff9f62c444b0a", "short_hash": "e252e0e00281", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T21:44:59+08:00", "committer_name": "Jiri Kosina", "committer_email": "jkosina@suse.cz", "committer_company": "Suse", "commit_date": "2019-04-15T11:04:14+02:00", "subject": "HID: u2fzero: fix compiling error in u2fzero_probe()", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 42337b9d4d958 (\"HID: add driver for U2F Zero built-in LED and RNG\")", "cc_stable": false, "subsystem_prefix": "hid", "subsystems_touched": ["drivers/hid"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Jiri Kosina <jkosina@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 6, "score_impact": 12, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny Kconfig fix in HID driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix regression for specific driver"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag and error details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, SUSE maintainer, internal robot report"}}, "score_justification": "Kconfig dependency fix for build error in U2F HID driver", "code_snippet": "@@ -1007,6 +1007,7 @@ config HID_U2FZERO\n \ttristate \"U2F Zero LED and RNG support\"\n \tdepends on USB_HID\n \tdepends on LEDS_CLASS\n+\tdepends on HW_RANDOM\n \thelp\n \t  Support for the LED of the U2F Zero device.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e252e0e0028167ea3d1eafa99c2ff9f62c444b0a"}
{"commit_hash": "ade024f130f742725da9219624b01666f04bc4a6", "short_hash": "ade024f130f7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-11T02:59:04Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-15T11:55:54+02:00", "subject": "memstick: jmb38x_ms: remove set but not used variable 'data'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "memstick", "subsystems_touched": ["drivers/memstick"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single file warning fix in driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning cleanup, no runtime effect"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in driver", "code_snippet": "@@ -368,7 +368,6 @@ static int jmb38x_ms_transfer_data(struct jmb38x_ms_host *host)\n static int jmb38x_ms_issue_cmd(struct memstick_host *msh)\n {\n \tstruct jmb38x_ms_host *host = memstick_priv(msh);\n-\tunsigned char *data;\n \tunsigned int data_len, cmd, t_val;\n \n \tif (!(STATUS_HAS_MEDIA & readl(host->addr + STATUS))) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ade024f130f742725da9219624b01666f04bc4a6"}
{"commit_hash": "2198eeff2344f712eca677db298bd754348aa733", "short_hash": "2198eeff2344", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-22T22:11:38+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-15T11:55:54+02:00", "subject": "mmc: sdhci-omap: Make sdhci_omap_reset static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": ["Faiz Abbas <faiz_abbas@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": ["Adrian Hunter <adrian.hunter@intel.com> (Intel)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, +1/-1 lines in MMC driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed-by and Acked-by from different companies"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei), committer (Linaro), reviewers (TI, Intel)"}}, "score_justification": "Sparse warning fix adding static keyword to function in MMC driver", "code_snippet": "@@ -785,7 +785,7 @@ static void sdhci_omap_set_uhs_signaling(struct sdhci_host *host,\n \tsdhci_omap_start_clock(omap_host);\n }\n \n-void sdhci_omap_reset(struct sdhci_host *host, u8 mask)\n+static void sdhci_omap_reset(struct sdhci_host *host, u8 mask)\n {\n \tstruct sdhci_pltfm_host *pltfm_host = sdhci_priv(host);\n \tstruct sdhci_omap_host *omap_host = sdhci_pltfm_priv(pltfm_host);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2198eeff2344f712eca677db298bd754348aa733"}
{"commit_hash": "8ed633b9baf9ec7d593ebb8e256312ff1c70ab37", "short_hash": "8ed633b9baf9", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-04-12T16:36:33-04:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-15T13:10:27-07:00", "subject": "Revert \"net-sysfs: Fix memory leak in netdev_register_kobject\"", "primary_category": "BACK-REVERT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 9, "hunks": 2, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 9, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 6, "novelty": 0, "subtotal": 9, "details": "Revert affects networking sysfs users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good message with syzbot link and ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org (Huawei->Intel) with maintainer"}}, "score_justification": "Revert of previous bugfix causing new issue, reported by syzbot", "code_snippet": "@@ -1747,20 +1747,16 @@ int netdev_register_kobject(struct net_device *ndev)\n \n \terror = device_add(dev);\n \tif (error)\n-\t\tgoto error_put_device;\n+\t\treturn error;\n \n \terror = register_queue_kobjects(ndev);\n-\tif (error)\n-\t\tgoto error_device_del;\n+\tif (error) {\n+\t\tdevice_del(dev);\n+\t\treturn error;\n+\t}\n \n \tpm_runtime_set_memalloc_noio(dev, true);\n \n-\treturn 0;\n-\n-error_device_del:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ed633b9baf9ec7d593ebb8e256312ff1c70ab37"}
{"commit_hash": "2566f10676ba996b745e138f54f3e2f974311692", "short_hash": "2566f10676ba", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-15T21:48:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-15T13:39:19-07:00", "subject": "net: hns3: fix for vport->bw_limit overflow problem", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "Fixes: 848440544b41 (\"net: hns3: Add support of TX Scheduler & Shaper to HNS3 driver\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"]}, "score_total": 39, "score_technical": 6, "score_impact": 15, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny type change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Fixes overflow in Hisilicon NIC bandwidth limit"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Has Fixes/Reported-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "External report by Oracle, net maintainer"}}, "score_justification": "Integer overflow fix in vport bandwidth limit (u16u32) for Hisilicon driver, externally reported", "code_snippet": "@@ -854,7 +854,7 @@ struct hclge_vport {\n \tu16 alloc_rss_size;\n \n \tu16 qs_offset;\n-\tu16 bw_limit;\t\t/* VSI BW Limit (0 = disabled) */\n+\tu32 bw_limit;\t\t/* VSI BW Limit (0 = disabled) */\n \tu8  dwrr;\n \n \tstruct hclge_port_base_vlan_config port_base_vlan_cfg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2566f10676ba996b745e138f54f3e2f974311692"}
{"commit_hash": "8a9a654b5b5233e7459abcc5f65c53df14b33f67", "short_hash": "8a9a654b5b52", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-15T21:48:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-15T13:39:19-07:00", "subject": "net: hns3: fix sparse: warning when calling hclge_set_vlan_filter_hw()", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 21e043cd8124 (\"net: hns3: fix set port based VLAN for PF\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small sparse warning fix in driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with regression tag"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-documented with Fixes tag and Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei->Intel) with maintainer sign-off"}}, "score_justification": "Sparse warning fix for VLAN protocol type conversion in Hisilicon driver", "code_snippet": "@@ -6964,7 +6964,8 @@ int hclge_update_port_base_vlan_cfg(struct hclge_vport *vport, u16 state,\n \n \tif (state == HNAE3_PORT_BASE_VLAN_MODIFY) {\n \t\t/* add new VLAN tag */\n-\t\tret = hclge_set_vlan_filter_hw(hdev, vlan_info->vlan_proto,\n+\t\tret = hclge_set_vlan_filter_hw(hdev,\n+\t\t\t\t\t       htons(vlan_info->vlan_proto),\n \t\t\t\t\t       vport->vport_id,\n \t\t\t\t\t       vlan_info->vlan_tag,\n \t\t\t\t\t       vlan_info->qos, false);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a9a654b5b5233e7459abcc5f65c53df14b33f67"}
{"commit_hash": "bc6eaf17097b502919b42098a088fac700e48452", "short_hash": "bc6eaf17097b", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T20:35:55+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-04-15T13:39:52+02:00", "subject": "i2c: mediatek: Add offsets array for new i2c registers", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 104, "deletions": 59, "hunks": 26, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor: 1 file, 26 hunks, 163 lines changed"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 15, "details": "Feature enhancement extending driver for new hardware versions"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by tag, basic commit message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, independent maintainer committer"}}, "score_justification": "Register offset abstraction for MediaTek I2C driver to support new hardware versions", "code_snippet": "@@ -106,34 +106,62 @@ enum mtk_trans_op {\n };\n \n enum I2C_REGS_OFFSET {\n-\tOFFSET_DATA_PORT = 0x0,\n-\tOFFSET_SLAVE_ADDR = 0x04,\n-\tOFFSET_INTR_MASK = 0x08,\n-\tOFFSET_INTR_STAT = 0x0c,\n-\tOFFSET_CONTROL = 0x10,\n-\tOFFSET_TRANSFER_LEN = 0x14,\n-\tOFFSET_TRANSAC_LEN = 0x18,\n-\tOFFSET_DELAY_LEN = 0x1c,\n-\tOFFSET_TIMING = 0x20,\n-\tOFFSET_START = 0x24,\n-\tOFFSET_EXT_CONF = 0x28,\n-\tOFFSET_FIFO_STAT = 0x30,\n-\tOFFSET_FIFO_THRESH = 0x34,\n-\tOFFSET_FIFO_ADDR_CLR = 0x38,\n-\tOFFSET_IO_CONFIG = 0x40,\n-\tOFFSET_RSV_DEBUG = 0x44,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc6eaf17097b502919b42098a088fac700e48452"}
{"commit_hash": "a3438152c66728e5dc15a3aa167b836ce7329e68", "short_hash": "a3438152c667", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T20:35:56+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-04-15T13:40:37+02:00", "subject": "dt-bindings: i2c: Add Mediatek MT8183 i2c binding", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW", "DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/i2c"], "subsystem_tier": 5, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 4, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small change in DT binding documentation"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "Hardware enablement for MT8183 platform"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Two reviewers, clear message explaining differences"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "DT binding documentation adding MT8183 i2c support with proper reviews", "code_snippet": "@@ -12,13 +12,15 @@ Required properties:\n       \"mediatek,mt7623-i2c\", \"mediatek,mt6577-i2c\": for MediaTek MT7623\n       \"mediatek,mt7629-i2c\", \"mediatek,mt2712-i2c\": for MediaTek MT7629\n       \"mediatek,mt8173-i2c\": for MediaTek MT8173\n+      \"mediatek,mt8183-i2c\": for MediaTek MT8183\n   - reg: physical base address of the controller and dma base, length of memory\n     mapped region.\n   - interrupts: interrupt number to the cpu.\n   - clock-div: the fixed value for frequency divider of clock source in i2c\n     module. Each IC may be different.\n   - clocks: clock name from clock manager\n-  - clock-names: Must include \"main\" and \"dma\", if enable have-pmic need include\n+  - clock-names: Must include \"main\" and \"dma\", \"arb\" is for multi-master that\n+    one bus has more than two i2c controllers, if enable have-pmic need include\n     \"pmic\" extra.\n \n Optional properties:\n", "flags": ["HARDWARE-ENABLEMENT"], "link": "https://lore.kernel.org/linux-kernel/a3438152c66728e5dc15a3aa167b836ce7329e68"}
{"commit_hash": "a15c91bac6957065090360c4b733859a52274fb6", "short_hash": "a15c91bac695", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T20:35:58+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-04-15T13:40:42+02:00", "subject": "i2c: mediatek: Add i2c and apdma sync in i2c driver", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 0, "hunks": 16, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "11 lines added across 16 hunks in single driver file"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting specific MediaTek I2C driver users"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "2 Reviewed-by tags, minimal commit message, no testing evidence"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (MediaTek) and committer (different org) with 2 external reviewers"}}, "score_justification": "", "code_snippet": "@@ -77,6 +77,8 @@\n #define I2C_CONTROL_DIR_CHANGE          (0x1 << 4)\n #define I2C_CONTROL_ACKERR_DET_EN       (0x1 << 5)\n #define I2C_CONTROL_TRANSFER_LEN_CHANGE (0x1 << 6)\n+#define I2C_CONTROL_DMAACK_EN           (0x1 << 8)\n+#define I2C_CONTROL_ASYNC_MODE          (0x1 << 9)\n #define I2C_CONTROL_WRAPPER             (0x1 << 0)\n \n #define I2C_DRV_NAME\t\t\"i2c-mt65xx\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a15c91bac6957065090360c4b733859a52274fb6"}
{"commit_hash": "cad6dc5d2887e3d646848849e5e56863480491f4", "short_hash": "cad6dc5d2887", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T20:35:57+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-04-15T13:40:42+02:00", "subject": "i2c: mediatek: Add arb clock in i2c driver", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 22, "deletions": 3, "hunks": 14, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in I2C bus driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Hardware enablement for Mediatek I2C arbitration"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good review chain with clear explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org: Mediatek author, Chromium/Google reviewer"}}, "score_justification": "Adds arbitration clock support for Mediatek I2C to prevent waveform interference when controllers share GPIO pins", "code_snippet": "@@ -299,8 +301,18 @@ static int mtk_i2c_clock_enable(struct mtk_i2c *i2c)\n \t\tif (ret)\n \t\t\tgoto err_pmic;\n \t}\n+\n+\tif (i2c->clk_arb) {\n+\t\tret = clk_prepare_enable(i2c->clk_arb);\n+\t\tif (ret)\n+\t\t\tgoto err_arb;\n+\t}\n+\n \treturn 0;\n \n+err_arb:\n+\tif (i2c->have_pmic)\n+\t\tclk_disable_unprepare(i2c->clk_pmic);\n err_pmic:\n \tclk_disable_unprepare(i2c->clk_main);\n err_main:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cad6dc5d2887e3d646848849e5e56863480491f4"}
{"commit_hash": "25708278f8100b9e5e79b2f24637c8f222256729", "short_hash": "25708278f810", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T20:35:59+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-04-15T13:40:43+02:00", "subject": "i2c: mediatek: Add i2c support for MediaTek MT8183", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 60, "deletions": 2, "hunks": 30, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Nicolas Boichat <drinkcat@chromium.org> (Chromium)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change: 60 insertions, 30 hunks in 1 driver file"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 16, "details": "New hardware support for MT8183 SoC I2C controller"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 Reviewed-by tags, good explanation of hw differences"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, Wolfram Sang (i2c maintainer) committed"}}, "score_justification": "Hardware support for MediaTek MT8183 I2C with new register layout and ltiming feature", "code_snippet": "@@ -133,6 +133,7 @@ enum I2C_REGS_OFFSET {\n \tOFFSET_DEBUGCTRL,\n \tOFFSET_TRANSFER_LEN_AUX,\n \tOFFSET_CLOCK_DIV,\n+\tOFFSET_LTIMING,\n };\n \n static const u16 mt_i2c_regs_v1[] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/25708278f8100b9e5e79b2f24637c8f222256729"}
{"commit_hash": "2c88e3c7ec32d7a40cc7c9b4a487cf90e4671bdd", "short_hash": "2c88e3c7ec32", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-04-02T20:06:34+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-15T15:36:20-06:00", "subject": "block: fix use-after-free on gendisk", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE", "BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 2da78092dda1 (\"block: Fix dev_t minor allocation lifetime\")", "cc_stable": true, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 3, "insertions": 27, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Bart Van Assche <bvanassche@acm.org> (Acm)", "Keith Busch <keith.busch@intel.com> (Intel)", "Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 66, "score_technical": 12, "score_impact": 26, "score_quality": 19, "score_community": 9, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small-medium change in critical block subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Use-after-free vulnerability affecting all block device users"}, "quality": {"review_chain": 10, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 19, "details": "Excellent: 4 reviewers from 3 orgs, detailed race diagram with Fixes tag"}, "community": {"cross_org": 4, "maintainer": 3, "response": 2, "subtotal": 9, "details": "Huawei author, kernel.org committer, fixes regression from previous commit"}}, "score_justification": "Use-after-free race in block layer with detailed race diagram, multi-org review, fixes regression", "code_snippet": "@@ -531,6 +531,18 @@ void blk_free_devt(dev_t devt)\n \t}\n }\n \n+/**\n+ *\tWe invalidate devt by assigning NULL pointer for devt in idr.\n+ */\n+void blk_invalidate_devt(dev_t devt)\n+{\n+\tif (MAJOR(devt) == BLOCK_EXT_MAJOR) {\n+\t\tspin_lock_bh(&ext_devt_lock);\n+\t\tidr_replace(&ext_devt_idr, NULL, blk_mangle_minor(MINOR(devt)));\n+\t\tspin_unlock_bh(&ext_devt_lock);\n+\t}\n+}\n+\n static char *bdevt_str(dev_t devt, char *buf)\n {\n \tif (MAJOR(devt) <= 0xff && MINOR(devt) <= 0xff) {", "flags": ["REGRESSION_FIX"], "link": "https://lore.kernel.org/linux-kernel/2c88e3c7ec32d7a40cc7c9b4a487cf90e4671bdd"}
{"commit_hash": "c4fcbf1186e777c315d934202e9f0faf1987fe3a", "short_hash": "c4fcbf1186e7", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-17T21:50:30+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-15T19:29:28+02:00", "subject": "dt-bindings: mediatek: update bindings for MT7629 SoC", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW", "DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 3, "insertions": 7, "deletions": 4, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 4, "score_impact": 9, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small change in peripheral DT docs"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New SoC documentation for specific platform"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with proper documentation format"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org commit with maintainer involvement"}}, "score_justification": "DT binding documentation update for new MediaTek MT7629 SoC support", "code_snippet": "@@ -11,6 +11,7 @@ Required properties:\n \t\"mediatek,mt8127-sysirq\", \"mediatek,mt6577-sysirq\": for MT8127\n \t\"mediatek,mt7622-sysirq\", \"mediatek,mt6577-sysirq\": for MT7622\n \t\"mediatek,mt7623-sysirq\", \"mediatek,mt6577-sysirq\": for MT7623\n+\t\"mediatek,mt7629-sysirq\", \"mediatek,mt6577-sysirq\": for MT7629\n \t\"mediatek,mt6795-sysirq\", \"mediatek,mt6577-sysirq\": for MT6795\n \t\"mediatek,mt6797-sysirq\", \"mediatek,mt6577-sysirq\": for MT6797\n \t\"mediatek,mt6765-sysirq\", \"mediatek,mt6577-sysirq\": for MT6765\ndiff --git a/Documentation/devicetree/bindings/serial/mtk-uart.txt b/Documentation/devicetree/bindings/serial/mtk-uart.txt\nindex 742cb470595b..4910f6316c3e 100644\n--- a/Documentation/devicetree/bindings/serial/mtk-uart.txt\n+++ b/Documentation/devicetree/bindings/serial/mtk-uart.txt", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c4fcbf1186e777c315d934202e9f0faf1987fe3a"}
{"commit_hash": "9ccd75c55ac50f0ac23cc5bbb724613d2d7f1c89", "short_hash": "9ccd75c55ac5", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-17T21:50:31+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-15T19:29:29+02:00", "subject": "dt-bindings: soc: fix a typo for MT7623A", "primary_category": "TRIV-TYPO", "secondary_categories": ["DT-BINDING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single character typo fix in DT binding doc"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, documentation-only typo"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic commit with Reviewed-by tag"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Same organization (MediaTek)"}}, "score_justification": "Single-character typo fix in DT binding doc (MT7622AMT7623A)", "code_snippet": "@@ -35,7 +35,7 @@ Required properties:\n \tRequired clocks for MT2712: \"mm\", \"mfg\", \"venc\", \"jpgdec\", \"audio\", \"vdec\"\n \tRequired clocks for MT6797: \"mm\", \"mfg\", \"vdec\"\n \tRequired clocks for MT7622 or MT7629: \"hif_sel\"\n-\tRequired clocks for MT7622A: \"ethif\"\n+\tRequired clocks for MT7623A: \"ethif\"\n \tRequired clocks for MT8173: \"mm\", \"mfg\", \"venc\", \"venc_lt\"\n \n Optional properties:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ccd75c55ac50f0ac23cc5bbb724613d2d7f1c89"}
{"commit_hash": "e0347d894ae879a3cb8977ebca43eb04a5fae1c1", "short_hash": "e0347d894ae8", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-15T20:23:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-15T22:17:19-04:00", "subject": "scsi: ufs: Print real incorrect request response code", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Tomas Winkler <tomas.winkler@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4704,10 +4704,10 @@ ufshcd_transfer_rsp_status(struct ufs_hba *hba, struct ufshcd_lrb *lrbp)\n \t\t\t\t\"Reject UPIU not fully implemented\\n\");\n \t\t\tbreak;\n \t\tdefault:\n-\t\t\tresult = DID_ERROR << 16;\n \t\t\tdev_err(hba->dev,\n \t\t\t\t\"Unexpected request response code = %x\\n\",\n \t\t\t\tresult);\n+\t\t\tresult = DID_ERROR << 16;\n \t\t\tbreak;\n \t\t}\n \t\tbreak;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e0347d894ae879a3cb8977ebca43eb04a5fae1c1"}
{"commit_hash": "7c3f8ca8e4c8ac180021b1c2a5a1f82a490db7db", "short_hash": "7c3f8ca8e4c8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T22:21:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-15T22:20:16-04:00", "subject": "scsi: megaraid_sas: Make megasas_host_device_list_query() static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4648,7 +4648,7 @@ megasas_ld_list_query(struct megasas_instance *instance, u8 query_type)\n  * Return:\t\t\t0 if DCMD succeeded\n  *\t\t\t\t non-zero if failed\n  */\n-int\n+static int\n megasas_host_device_list_query(struct megasas_instance *instance,\n \t\t\t       bool is_probe)\n {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/7c3f8ca8e4c8ac180021b1c2a5a1f82a490db7db"}
{"commit_hash": "6a3eb3360667170988f8a6477f6686242061488a", "short_hash": "6a3eb3360667", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:47:38+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-04-16T09:38:18-05:00", "subject": "cifs: Fix use-after-free in SMB2_write", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH", "BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: eccb4422cf97 (\"smb3: Add ftrace tracepoints for improved SMB3 debugging\")", "cc_stable": true, "subsystem_prefix": "cifs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": ["Pavel Shilovsky <pshilov@microsoft.com> (Microsoft)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 24, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 4 hunks, 2 lines in critical filesystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "UAF fix with stable backport affects CIFS users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes/Reported-by/1 reviewer, KASAN report in body"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Microsoft committer+reviewer"}}, "score_justification": "Use-after-free in CIFS write path with tracepoint access after free, stable backport included", "code_snippet": "@@ -3769,7 +3769,6 @@ SMB2_write(const unsigned int xid, struct cifs_io_parms *io_parms,\n \n \trc = cifs_send_recv(xid, io_parms->tcon->ses, &rqst,\n \t\t\t    &resp_buftype, flags, &rsp_iov);\n-\tcifs_small_buf_release(req);\n \trsp = (struct smb2_write_rsp *)rsp_iov.iov_base;\n \n \tif (rc) {", "flags": ["CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/6a3eb3360667170988f8a6477f6686242061488a"}
{"commit_hash": "088aaf17aa79300cab14dbee2569c58cfafd7d6e", "short_hash": "088aaf17aa79", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:47:39+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-04-16T09:38:21-05:00", "subject": "cifs: Fix use-after-free in SMB2_read", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: eccb4422cf97 (\"smb3: Add ftrace tracepoints for improved SMB3 debugging\")", "cc_stable": true, "subsystem_prefix": "cifs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": ["Pavel Shilovsky <pshilov@microsoft.com> (Microsoft)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 20, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line change in critical filesystem code"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "UAF fix affecting CIFS users with stable backport"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes tag and KASAN report, Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Microsoft maintainer"}}, "score_justification": "Use-after-free in CIFS read path caused by premature req release before ftrace", "code_snippet": "@@ -3448,8 +3448,6 @@ SMB2_read(const unsigned int xid, struct cifs_io_parms *io_parms,\n \trqst.rq_nvec = 1;\n \n \trc = cifs_send_recv(xid, ses, &rqst, &resp_buftype, flags, &rsp_iov);\n-\tcifs_small_buf_release(req);\n-\n \trsp = (struct smb2_read_rsp *)rsp_iov.iov_base;\n \n \tif (rc) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/088aaf17aa79300cab14dbee2569c58cfafd7d6e"}
{"commit_hash": "b57a55e2200ede754e4dc9cce4ba9402544b9365", "short_hash": "b57a55e2200e", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T15:30:38+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-04-16T09:38:23-05:00", "subject": "cifs: Fix lease buffer length error", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 9764c02fcbad (\"SMB3: Add support for multidialect negotiate (SMB2.1 and later)\")", "cc_stable": true, "subsystem_prefix": "cifs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": ["Pavel Shilovsky <pshilov@microsoft.com> (Microsoft)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 8, "score_impact": 22, "score_quality": 14, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 5-line change in CIFS filesystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 22, "details": "KASAN slab-out-of-bounds crash fix with stable backport"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Excellent commit with stack trace, reproduction steps, Reviewed-by, 2 Fixes tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Microsoft maintainer, Microsoft reviewer"}}, "score_justification": "Slab-out-of-bounds in CIFS lease buffer due to ops/vals inconsistency", "code_snippet": "@@ -832,8 +832,11 @@ SMB2_negotiate(const unsigned int xid, struct cifs_ses *ses)\n \t\t} else if (rsp->DialectRevision == cpu_to_le16(SMB21_PROT_ID)) {\n \t\t\t/* ops set to 3.0 by default for default so update */\n \t\t\tses->server->ops = &smb21_operations;\n-\t\t} else if (rsp->DialectRevision == cpu_to_le16(SMB311_PROT_ID))\n+\t\t\tses->server->vals = &smb21_values;\n+\t\t} else if (rsp->DialectRevision == cpu_to_le16(SMB311_PROT_ID)) {\n \t\t\tses->server->ops = &smb311_operations;\n+\t\t\tses->server->vals = &smb311_values;\n+\t\t}\n \t} else if (le16_to_cpu(rsp->DialectRevision) !=\n \t\t\t\tses->server->vals->protocol_id) {\n \t\t/* if requested single dialect ensure returned dialect matched */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b57a55e2200ede754e4dc9cce4ba9402544b9365"}
{"commit_hash": "5c6e116dce57453ecbeb715e7f47208bca0c157c", "short_hash": "5c6e116dce57", "author_name": "Seiya Wang", "author_email": "seiya.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-02-25T14:51:11+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-16T10:52:27+02:00", "subject": "arm64: dts: mt8173: correct cpu type of cpu2 and cpu3 to cortex-a72", "primary_category": "DT-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dts", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Seiya Wang <seiya.wang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT fix in peripheral subsystem"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 10, "details": "DT fix affecting MT8173 platform users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message, minimal review, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Mediatek to maintainer"}}, "score_justification": "DT bug fix correcting CPU type from A57 to A72 for MT8173", "code_snippet": "@@ -178,12 +178,12 @@ cpu1: cpu@1 {\n \n \t\tcpu2: cpu@100 {\n \t\t\tdevice_type = \"cpu\";\n-\t\t\tcompatible = \"arm,cortex-a57\";\n+\t\t\tcompatible = \"arm,cortex-a72\";\n \t\t\treg = <0x100>;\n \t\t\tenable-method = \"psci\";\n \t\t\tcpu-idle-states = <&CPU_SLEEP_0>;\n \t\t\t#cooling-cells = <2>;\n-\t\t\tclocks = <&infracfg CLK_INFRA_CA57SEL>,\n+\t\t\tclocks = <&infracfg CLK_INFRA_CA72SEL>,\n \t\t\t\t <&apmixedsys CLK_APMIXED_MAINPLL>;\n \t\t\tclock-names = \"cpu\", \"intermediate\";\n \t\t\toperating-points-v2 = <&cluster1_opp>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5c6e116dce57453ecbeb715e7f47208bca0c157c"}
{"commit_hash": "a4599f6ec8e844f53dac15f719084d3b5ffe68c3", "short_hash": "a4599f6ec8e8", "author_name": "Seiya Wang", "author_email": "seiya.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-01-09T16:21:43+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-16T10:55:30+02:00", "subject": "arm64: dts: mt8173: add pmu nodes for mt8173", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64/dts", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 14, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Seiya Wang <seiya.wang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 4, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT change adding PMU nodes"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "HW support for specific platform"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic Signed-off-by only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "DT addition enabling PMU for mt8173 SoC", "code_snippet": "@@ -216,6 +216,20 @@ CPU_SLEEP_0: cpu-sleep-0 {\n \t\t};\n \t};\n \n+\tpmu_a53 {\n+\t\tcompatible = \"arm,cortex-a53-pmu\";\n+\t\tinterrupts = <GIC_SPI 8 IRQ_TYPE_LEVEL_LOW>,\n+\t\t\t     <GIC_SPI 9 IRQ_TYPE_LEVEL_LOW>;\n+\t\tinterrupt-affinity = <&cpu0>, <&cpu1>;\n+\t};\n+\n+\tpmu_a72 {\n+\t\tcompatible = \"arm,cortex-a72-pmu\";\n+\t\tinterrupts = <GIC_SPI 12 IRQ_TYPE_LEVEL_LOW>,\n+\t\t\t     <GIC_SPI 13 IRQ_TYPE_LEVEL_LOW>;\n+\t\tinterrupt-affinity = <&cpu2>, <&cpu3>;\n+\t};\n+\n \tpsci {\n \t\tcompatible = \"arm,psci-1.0\", \"arm,psci-0.2\", \"arm,psci\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4599f6ec8e844f53dac15f719084d3b5ffe68c3"}
{"commit_hash": "3935a6fb4bd7aa6562ad0e789ada025e1481289c", "short_hash": "3935a6fb4bd7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T03:07:49Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-16T12:57:53+02:00", "subject": "staging: comedi: dyna_pci10xx: remove set but not used variables 'chan' and range'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Ian Abbott <abbotti@mev.co.uk> (Co)", "Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -106,10 +106,6 @@ static int dyna_pci10xx_insn_write_ao(struct comedi_device *dev,\n {\n \tstruct dyna_pci10xx_private *devpriv = dev->private;\n \tint n;\n-\tunsigned int chan, range;\n-\n-\tchan = CR_CHAN(insn->chanspec);\n-\trange = range_codes_pci1050_ai[CR_RANGE((insn->chanspec))];\n \n \tmutex_lock(&devpriv->mutex);\n \tfor (n = 0; n < insn->n; n++) {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/3935a6fb4bd7aa6562ad0e789ada025e1481289c"}
{"commit_hash": "94be357fe618999c7998da642c37fc0b4a0f6ad3", "short_hash": "94be357fe618", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T03:11:18Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-16T13:31:58+02:00", "subject": "staging: rtlwifi: rtl8822be: Remove set but not used variable 'curtxbw_40mhz'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtlwifi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single-file staging driver fix removing unused variable"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Reviewed-by tag, clear message citing warning"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "Compiler warning fix removing unused variable in staging driver", "code_snippet": "@@ -2141,8 +2141,6 @@ static void rtl8822be_update_hal_rate_mask(struct ieee80211_hw *hw,\n \tu32 ratr_bitmap, ratr_bitmap_msb = 0;\n \tu8 ratr_index;\n \tenum wireless_mode wirelessmode = 0;\n-\tu8 curtxbw_40mhz =\n-\t\t(sta->ht_cap.cap & IEEE80211_HT_CAP_SUP_WIDTH_20_40) ? 1 : 0;\n \tbool b_shortgi = false;\n \tu8 rate_mask[7];\n \tu8 macid = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/94be357fe618999c7998da642c37fc0b4a0f6ad3"}
{"commit_hash": "52927d97d80e9a57bf112a2d59aba5e3dc32fa2f", "short_hash": "52927d97d80e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T03:11:34Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-16T13:31:59+02:00", "subject": "staging: rtl8192e: Remove set but not used variable 'VenderID'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/rtl8192e"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line removal in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with warning details and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Codeaurora reviewer, Linux Foundation committer"}}, "score_justification": "Compiler warning fix removing unused variable in staging driver", "code_snippet": "@@ -33,12 +33,10 @@ static void _rtl92e_parse_pci_configuration(struct pci_dev *pdev,\n bool rtl92e_check_adapter(struct pci_dev *pdev, struct net_device *dev)\n {\n \tstruct r8192_priv *priv = (struct r8192_priv *)rtllib_priv(dev);\n-\tu16 VenderID;\n \tu16 DeviceID;\n \tu8  RevisionID;\n \tu16 IrqLine;\n \n-\tVenderID = pdev->vendor;\n \tDeviceID = pdev->device;\n \tRevisionID = pdev->revision;\n \tpci_read_config_word(pdev, 0x3C, &IrqLine);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/52927d97d80e9a57bf112a2d59aba5e3dc32fa2f"}
{"commit_hash": "e7cc9eba71ef82cc5fbc3d47064b551559f61d42", "short_hash": "e7cc9eba71ef", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-06T03:12:25Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-16T13:44:30+02:00", "subject": "staging: rtlwifi: base: Remove set but not used variables", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/rtlwifi", "subsystems_touched": ["drivers/staging/rtlwifi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 14, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Reviewed-by, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "Compiler warning fix removing unused variables in staging driver", "code_snippet": "@@ -2467,11 +2465,8 @@ bool rtl_check_beacon_key(struct ieee80211_hw *hw, void *data, unsigned int len)\n \tstruct rtl_beacon_keys bcn_key = {};\n \tstruct rtl_beacon_keys *cur_bcn_key;\n \tu8 *ht_cap;\n-\tu8 ht_cap_len;\n \tu8 *ht_oper;\n-\tu8 ht_oper_len;\n \tu8 *ds_param;\n-\tu8 ds_param_len;\n \n \tif (mac->opmode != NL80211_IFTYPE_STATION)\n \t\treturn false;", "flags": ["COMPILE_WARNING_FIX"], "link": "https://lore.kernel.org/linux-kernel/e7cc9eba71ef82cc5fbc3d47064b551559f61d42"}
{"commit_hash": "7a7457ba40f1474aa1bae2010b6f8582ba5ed57f", "short_hash": "7a7457ba40f1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-30T01:47:24Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-16T15:21:33+02:00", "subject": "serial: sprd: Fix a copy-paste err in sprd_request_dma()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)", "Baolin Wang <baolin.wang@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in serial driver (Tier 4)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix affecting error logging"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 Reviewed-by tags, clear message"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Codeaurora/Linaro reviews"}}, "score_justification": "Copy-paste error fix: wrong DMA channel ptr in error log", "code_snippet": "@@ -506,7 +506,7 @@ static void sprd_request_dma(struct uart_port *port)\n \tsp->rx_dma.chn = dma_request_chan(port->dev, \"rx\");\n \tif (IS_ERR(sp->rx_dma.chn)) {\n \t\tdev_err(port->dev, \"request RX DMA channel failed, ret = %ld\\n\",\n-\t\t\tPTR_ERR(sp->tx_dma.chn));\n+\t\t\tPTR_ERR(sp->rx_dma.chn));\n \t\tsp->rx_dma.enable = false;\n \t}\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7a7457ba40f1474aa1bae2010b6f8582ba5ed57f"}
{"commit_hash": "eea1bb2248691ed65c33daff94a253af44feb103", "short_hash": "eea1bb224869", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-16T01:36:36+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-04-16T16:27:59+01:00", "subject": "arm64: mm: check virtual addr in virt_to_page() if CONFIG_DEBUG_VIRTUAL=y", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-TEST"], "cve_ids": [], "fixes_tag": "Fixes: 9f2875912dac (\"arm64: mm: restrict virt_to_page() to the linear mapping\")", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/mm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 18, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arm64 memory management"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Fixes debug capability for driver validation"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent message with detailed context and Fixes tag"}, "community": {"cross_org": 3, "maintainer": 2, "response": 1, "subtotal": 6, "details": "Cross-org: Mediatek author, ARM maintainer"}}, "score_justification": "Fixes debug check regression in arm64 virt_to_page() that prevented catching driver bugs", "code_snippet": "@@ -302,7 +302,7 @@ static inline void *phys_to_virt(phys_addr_t x)\n  */\n #define ARCH_PFN_OFFSET\t\t((unsigned long)PHYS_PFN_OFFSET)\n \n-#ifndef CONFIG_SPARSEMEM_VMEMMAP\n+#if !defined(CONFIG_SPARSEMEM_VMEMMAP) || defined(CONFIG_DEBUG_VIRTUAL)\n #define virt_to_page(kaddr)\tpfn_to_page(__pa(kaddr) >> PAGE_SHIFT)\n #define _virt_addr_valid(kaddr)\tpfn_valid(__pa(kaddr) >> PAGE_SHIFT)\n #else\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eea1bb2248691ed65c33daff94a253af44feb103"}
{"commit_hash": "36a2ba07757df790b4a874efb1a105b9330a9ae7", "short_hash": "36a2ba07757d", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T23:21:12+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-04-16T18:16:24+01:00", "subject": "ACPI/IORT: Reject platform device creation on NUMA node mapping failure", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "acpi", "subsystems_touched": ["drivers/acpi/arm64"], "subsystem_tier": 2, "files_changed": 1, "insertions": 14, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 22, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical ARM64 ACPI subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Crash fix affecting ARM64 systems with IORT"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with stack trace, Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit between Huawei and ARM"}}, "score_justification": "Kernel crash fix for ARM64 IORT NUMA node mapping failure", "code_snippet": "@@ -1232,18 +1232,24 @@ static bool __init arm_smmu_v3_is_coherent(struct acpi_iort_node *node)\n /*\n  * set numa proximity domain for smmuv3 device\n  */\n-static void  __init arm_smmu_v3_set_proximity(struct device *dev,\n+static int  __init arm_smmu_v3_set_proximity(struct device *dev,\n \t\t\t\t\t      struct acpi_iort_node *node)\n {\n \tstruct acpi_iort_smmu_v3 *smmu;\n \n \tsmmu = (struct acpi_iort_smmu_v3 *)node->node_data;\n \tif (smmu->flags & ACPI_IORT_SMMU_V3_PXM_VALID) {\n-\t\tset_dev_node(dev, acpi_map_pxm_to_node(smmu->pxm));\n+\t\tint node = acpi_map_pxm_to_node(smmu->pxm);\n+\n+\t\tif (node != NUMA_NO_NODE && !node_online(node))\n+\t\t\treturn -EINVAL;\n+\n+\t\tset_dev_node(dev, node);\n \t\tpr_info(\"SMMU-v3[%llx] Mapped to Proximity domain %d\\n\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/36a2ba07757df790b4a874efb1a105b9330a9ae7"}
{"commit_hash": "4bcd4ec1017205644a2697bccbc3b5143f522f5f", "short_hash": "4bcd4ec10172", "author_name": "Jie Liu", "author_email": "liujie165@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T13:10:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-16T21:32:02-07:00", "subject": "tipc: set sysctl_tipc_rmem and named_timeout right range", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-ACCESS"], "cve_ids": [], "fixes_tag": "Fixes: cc79dd1ba9c10 (\"tipc: change socket buffer overflow control to respect sk_rcvbuf\")", "cc_stable": false, "subsystem_prefix": "net/tipc", "subsystems_touched": ["net/tipc"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jie Liu <liujie165@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)", "Miaohe Lin <linmiaohe@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": ["Qiang Ning <ningqiang1@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Sysctl validation fix for TIPC users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag and internal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Huawei internal with maintainer signoff"}}, "score_justification": "Sysctl min/max validation fix to prevent invalid values", "code_snippet": "@@ -38,6 +38,8 @@\n \n #include <linux/sysctl.h>\n \n+static int zero;\n+static int one = 1;\n static struct ctl_table_header *tipc_ctl_hdr;\n \n static struct ctl_table tipc_table[] = {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bcd4ec1017205644a2697bccbc3b5143f522f5f"}
{"commit_hash": "e0c546fa72a9b66deb80a2623ffc8b5237840e1b", "short_hash": "e0c546fa72a9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:27:38+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T10:29:49+05:30", "subject": "phy: qcom-ufs: Make ufs_qcom_phy_disable_iface_clk static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy/qualcomm"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single-line change in driver directory"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime effect"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, TI maintainer cross-org"}}, "score_justification": "Sparse warning fix adding static to unused function in phy driver", "code_snippet": "@@ -459,7 +459,7 @@ static int ufs_qcom_phy_enable_iface_clk(struct ufs_qcom_phy *phy)\n }\n \n /* Turn OFF M-PHY RMMI interface clocks */\n-void ufs_qcom_phy_disable_iface_clk(struct ufs_qcom_phy *phy)\n+static void ufs_qcom_phy_disable_iface_clk(struct ufs_qcom_phy *phy)\n {\n \tif (phy->is_iface_clk_enabled) {\n \t\tclk_disable_unprepare(phy->tx_iface_clk);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0c546fa72a9b66deb80a2623ffc8b5237840e1b"}
{"commit_hash": "f7f6ed925d9fc050911a417804524d2bbfa4b4ac", "short_hash": "f7f6ed925d9f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-19T23:30:28+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T10:29:49+05:30", "subject": "phy: rockchip-typec: Make usb3_pll_cfg and dp_pll_cfg static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy/rockchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Heiko Stuebner <heiko@sntech.de> (Sntech)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change adding static keyword"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Reviewed-by tag, clear sparse warning fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from TI applied"}}, "score_justification": "Sparse warning fix adding static to two array declarations", "code_snippet": "@@ -400,7 +400,7 @@ struct phy_reg {\n \tu32 addr;\n };\n \n-struct phy_reg usb3_pll_cfg[] = {\n+static struct phy_reg usb3_pll_cfg[] = {\n \t{ 0xf0,\t\tCMN_PLL0_VCOCAL_INIT },\n \t{ 0x18,\t\tCMN_PLL0_VCOCAL_ITER },\n \t{ 0xd0,\t\tCMN_PLL0_INTDIV },", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f7f6ed925d9fc050911a417804524d2bbfa4b4ac"}
{"commit_hash": "9dc211c6139b6680db8904547f7c5e23faec7eb5", "short_hash": "9dc211c6139b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-02-14T01:51:17Z", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T12:06:02+05:30", "subject": "phy: fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single deletion in phy driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Coccinelle-generated, maintainer acked"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, TI maintainer"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -266,7 +266,6 @@ static struct platform_driver mvebu_a3700_utmi_driver = {\n \t.probe\t= mvebu_a3700_utmi_phy_probe,\n \t.driver\t= {\n \t\t.name\t\t= \"mvebu-a3700-utmi-phy\",\n-\t\t.owner\t\t= THIS_MODULE,\n \t\t.of_match_table\t= mvebu_a3700_utmi_of_match,\n \t },\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9dc211c6139b6680db8904547f7c5e23faec7eb5"}
{"commit_hash": "794a3b6b9f8af8a23bf127d8ec1cd1234ef3fb17", "short_hash": "794a3b6b9f8a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:35:05+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-04-17T13:14:25-05:00", "subject": "ipmi: Make ipmi_interfaces_srcu variable static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/ipmi", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean sparse warning fix with proper signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution from Huawei to maintainer"}}, "score_justification": "Sparse warning fix adding static keyword to driver variable", "code_snippet": "@@ -635,7 +635,7 @@ static DEFINE_MUTEX(ipmidriver_mutex);\n \n static LIST_HEAD(ipmi_interfaces);\n static DEFINE_MUTEX(ipmi_interfaces_mutex);\n-struct srcu_struct ipmi_interfaces_srcu;\n+static struct srcu_struct ipmi_interfaces_srcu;\n \n /*\n  * List of watchers that want to know when smi's are added and deleted.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/794a3b6b9f8af8a23bf127d8ec1cd1234ef3fb17"}
{"commit_hash": "19fad20d15a6494f47f85d869f00b11343ee5c78", "short_hash": "19fad20d15a6", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T09:47:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-17T13:57:11-07:00", "subject": "ipv4: set the tcp_min_rtt_wlen range from 0 to one day", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "Fixes: f672258391b42 (\"tcp: track min RTT using windowed min-filter\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4", "Documentation/networking"], "subsystem_tier": 2, "files_changed": 2, "insertions": 5, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 22, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Crash fix affecting all TCP users with sysctl access"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Good message with UBSAN report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Integer overflow crash fix for tcp_min_rtt_wlen sysctl with clear UBSAN report", "code_snippet": "@@ -422,6 +422,7 @@ tcp_min_rtt_wlen - INTEGER\n \tminimum RTT when it is moved to a longer path (e.g., due to traffic\n \tengineering). A longer window makes the filter more resistant to RTT\n \tinflations such as transient congestion. The unit is seconds.\n+\tPossible values: 0 - 86400 (1 day)\n \tDefault: 300\n \n tcp_moderate_rcvbuf - BOOLEAN\ndiff --git a/net/ipv4/sysctl_net_ipv4.c b/net/ipv4/sysctl_net_ipv4.c\nindex ba0fc4b18465..eeb4041fa5f9 100644\n--- a/net/ipv4/sysctl_net_ipv4.c\n+++ b/net/ipv4/sysctl_net_ipv4.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/19fad20d15a6494f47f85d869f00b11343ee5c78"}
{"commit_hash": "fd7bd3b6bebdf889802db67b8c48b67aa20f4a2b", "short_hash": "fd7bd3b6bebd", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:44+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:00+05:30", "subject": "dt-bindings: phy: Add document for phy-mtk-ufs", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 38, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 4, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small new DT binding document in peripheral tier"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New DT binding for MediaTek UFS PHY support"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed by DT maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from MediaTek to TI maintainer"}}, "score_justification": "New DT binding doc for MediaTek UFS PHY with proper review", "code_snippet": "@@ -0,0 +1,38 @@\n+MediaTek Universal Flash Storage (UFS) M-PHY binding\n+--------------------------------------------------------\n+\n+UFS M-PHY nodes are defined to describe on-chip UFS M-PHY hardware macro.\n+Each UFS M-PHY node should have its own node.\n+\n+To bind UFS M-PHY with UFS host controller, the controller node should\n+contain a phandle reference to UFS M-PHY node.\n+\n+Required properties for UFS M-PHY nodes:\n+- compatible         : Compatible list, contains the following controller:\n+                       \"mediatek,mt8183-ufsphy\" for ufs phy\n+                       persent on MT81xx chipsets.\n+- reg                : Address and length of the UFS M-PHY register set.\n+- #phy-cells         : This property shall be set to 0.\n+- clocks             : List of phandle and clock specifier pairs.\n+- clock-names        : List of clock input name strings sorted in the same\n+                       order as the clocks property. Following clocks are\n+                       mandatory.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fd7bd3b6bebdf889802db67b8c48b67aa20f4a2b"}
{"commit_hash": "54be9c1a03a3337e39f877f1536bbf25c9e8bff3", "short_hash": "54be9c1a03a3", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-16T13:04:46+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:01+05:30", "subject": "phy: mediatek: Add UFS M-PHY driver", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/mediatek"], "subsystem_tier": 4, "files_changed": 3, "insertions": 256, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 19, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "New 245-line PHY driver for MediaTek UFS"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 19, "details": "New driver adding UFS M-PHY support"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Brief commit with minimal review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, TI maintainer commit"}}, "score_justification": "New UFS M-PHY driver for MediaTek platforms with 256 lines added", "code_snippet": "@@ -13,6 +13,16 @@ config PHY_MTK_TPHY\n \t  multi-ports is first version, otherwise is second veriosn,\n \t  so you can easily distinguish them by banks layout.\n \n+config PHY_MTK_UFS\n+\ttristate \"MediaTek UFS M-PHY driver\"\n+\tdepends on ARCH_MEDIATEK && OF\n+\tselect GENERIC_PHY\n+\thelp\n+\t  Support for UFS M-PHY on MediaTek chipsets.\n+\t  Enable this to provide vendor-specific probing,\n+\t  initialization, power on and power off flow of\n+\t  specified M-PHYs.\n+\n config PHY_MTK_XSPHY\n     tristate \"MediaTek XS-PHY Driver\"\n     depends on ARCH_MEDIATEK && OF\ndiff --git a/drivers/phy/mediatek/Makefile b/drivers/phy/mediatek/Makefile\nindex ee49edc97ee9..08a8e6a97b1e 100644\n--- a/drivers/phy/mediatek/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54be9c1a03a3337e39f877f1536bbf25c9e8bff3"}
{"commit_hash": "b603c500d7a5c98089f3d68e4c79297e6aabc4ba", "short_hash": "b603c500d7a5", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-10T14:13:03+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:14+05:30", "subject": "phy: phy-mtk-tphy: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in PHY driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration simplifying code in niche driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with adequate explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "API migration from devm_clk_get to devm_clk_get_optional, simplifying error handling in MediaTek PHY driver.", "code_snippet": "@@ -1103,13 +1103,9 @@ static int mtk_tphy_probe(struct platform_device *pdev)\n \t}\n \n \t/* it's deprecated, make it optional for backward compatibility */\n-\ttphy->u3phya_ref = devm_clk_get(dev, \"u3phya_ref\");\n-\tif (IS_ERR(tphy->u3phya_ref)) {\n-\t\tif (PTR_ERR(tphy->u3phya_ref) == -EPROBE_DEFER)\n-\t\t\treturn -EPROBE_DEFER;\n-\n-\t\ttphy->u3phya_ref = NULL;\n-\t}\n+\ttphy->u3phya_ref = devm_clk_get_optional(dev, \"u3phya_ref\");\n+\tif (IS_ERR(tphy->u3phya_ref))\n+\t\treturn PTR_ERR(tphy->u3phya_ref);\n \n \ttphy->src_ref_clk = U3P_REF_CLK;\n \ttphy->src_coef = U3P_SLEW_RATE_COEF;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b603c500d7a5c98089f3d68e4c79297e6aabc4ba"}
{"commit_hash": "1039596c90e7443c577bf524feb744879b9f195a", "short_hash": "1039596c90e7", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-10T14:13:04+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:14+05:30", "subject": "phy: qcom-qusb2: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in PHY driver using new API"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving driver robustness"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from TI"}}, "score_justification": "API migration to devm_clk_get_optional() simplifies error handling", "code_snippet": "@@ -822,14 +822,9 @@ static int qusb2_phy_probe(struct platform_device *pdev)\n \t\treturn ret;\n \t}\n \n-\tqphy->iface_clk = devm_clk_get(dev, \"iface\");\n-\tif (IS_ERR(qphy->iface_clk)) {\n-\t\tret = PTR_ERR(qphy->iface_clk);\n-\t\tif (ret == -EPROBE_DEFER)\n-\t\t\treturn ret;\n-\t\tqphy->iface_clk = NULL;\n-\t\tdev_dbg(dev, \"failed to get iface clk, %d\\n\", ret);\n-\t}\n+\tqphy->iface_clk = devm_clk_get_optional(dev, \"iface\");\n+\tif (IS_ERR(qphy->iface_clk))\n+\t\treturn PTR_ERR(qphy->iface_clk);\n \n \tqphy->phy_reset = devm_reset_control_get_by_index(&pdev->dev, 0);\n \tif (IS_ERR(qphy->phy_reset)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1039596c90e7443c577bf524feb744879b9f195a"}
{"commit_hash": "752d31a3e19251e15ed241c00872ffe4f65bae0b", "short_hash": "752d31a3e192", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-10T14:13:05+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:15+05:30", "subject": "phy: socionext: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy/socionext"], "subsystem_tier": 4, "files_changed": 2, "insertions": 6, "deletions": 14, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Kunihiko Hayashi <hayashi.kunihiko@socionext.com> (Socionext)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-file change in PHY driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration improving code clarity"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, maintainer applied"}}, "score_justification": "API migration to devm_clk_get_optional() simplifies optional clock handling", "code_snippet": "@@ -335,13 +335,9 @@ static int uniphier_u3hsphy_probe(struct platform_device *pdev)\n \tif (IS_ERR(priv->clk_parent))\n \t\treturn PTR_ERR(priv->clk_parent);\n \n-\tpriv->clk_ext = devm_clk_get(dev, \"phy-ext\");\n-\tif (IS_ERR(priv->clk_ext)) {\n-\t\tif (PTR_ERR(priv->clk_ext) == -ENOENT)\n-\t\t\tpriv->clk_ext = NULL;\n-\t\telse\n-\t\t\treturn PTR_ERR(priv->clk_ext);\n-\t}\n+\tpriv->clk_ext = devm_clk_get_optional(dev, \"phy-ext\");\n+\tif (IS_ERR(priv->clk_ext))\n+\t\treturn PTR_ERR(priv->clk_ext);\n \n \tpriv->rst = devm_reset_control_get_shared(dev, \"phy\");\n \tif (IS_ERR(priv->rst))\ndiff --git a/drivers/phy/socionext/phy-uniphier-usb3ss.c b/drivers/phy/socionext/phy-uniphier-usb3ss.c\nindex 4be95679c7d8..ec231e40ef2a 100644\n--- a/drivers/phy/socionext/phy-uniphier-usb3ss.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/752d31a3e19251e15ed241c00872ffe4f65bae0b"}
{"commit_hash": "42c7cb71b5c2b014caab7861f2434f3907900d7c", "short_hash": "42c7cb71b5c2", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-10T14:13:06+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-17T14:13:16+05:30", "subject": "phy: phy-meson-gxl-usb2: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/amlogic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Martin Blumenstingl <martin.blumenstingl@googlemail.com> (Googlemail)"], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in standard driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration simplifying optional clock handling"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Reviewed-by and Acked-by, basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, TI maintainer, cross-org review"}}, "score_justification": "API migration to devm_clk_get_optional() simplifies optional clock handling in USB PHY driver", "code_snippet": "@@ -261,14 +261,9 @@ static int phy_meson_gxl_usb2_probe(struct platform_device *pdev)\n \tif (IS_ERR(priv->regmap))\n \t\treturn PTR_ERR(priv->regmap);\n \n-\tpriv->clk = devm_clk_get(dev, \"phy\");\n-\tif (IS_ERR(priv->clk)) {\n-\t\tret = PTR_ERR(priv->clk);\n-\t\tif (ret == -ENOENT)\n-\t\t\tpriv->clk = NULL;\n-\t\telse\n-\t\t\treturn ret;\n-\t}\n+\tpriv->clk = devm_clk_get_optional(dev, \"phy\");\n+\tif (IS_ERR(priv->clk))\n+\t\treturn PTR_ERR(priv->clk);\n \n \tpriv->reset = devm_reset_control_get_optional_shared(dev, \"phy\");\n \tif (IS_ERR(priv->reset))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42c7cb71b5c2b014caab7861f2434f3907900d7c"}
{"commit_hash": "dc62f951a6a8490bcccc7b6de36cd85bd57be740", "short_hash": "dc62f951a6a8", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T02:30:59Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-17T17:33:45+01:00", "subject": "regulator: stm32-pwr: Fix return value check in stm32_pwr_regulator_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6cdae8173f67 (\"regulator: Add support for stm32 power regulators\")", "cc_stable": false, "subsystem_prefix": "regulator", "subsystems_touched": ["drivers/regulator"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 4-line driver fix using wrong error check macro"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with proper Fixes tag, affects specific platform"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with Fixes tag and explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer Mark Brown applied"}}, "score_justification": "Incorrect error handling for of_iomap() which returns NULL not ERR_PTR", "code_snippet": "@@ -140,9 +140,9 @@ static int stm32_pwr_regulator_probe(struct platform_device *pdev)\n \tint i, ret = 0;\n \n \tbase = of_iomap(np, 0);\n-\tif (IS_ERR(base)) {\n+\tif (!base) {\n \t\tdev_err(&pdev->dev, \"Unable to map IO memory\\n\");\n-\t\treturn PTR_ERR(base);\n+\t\treturn -ENOMEM;\n \t}\n \n \tconfig.dev = &pdev->dev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dc62f951a6a8490bcccc7b6de36cd85bd57be740"}
{"commit_hash": "1f2f0599579cac371cf9db05a1b00e066db401fb", "short_hash": "1f2f0599579c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T22:58:55+08:00", "committer_name": "Maxime Ripard", "committer_email": "maxime.ripard@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-17T18:55:08+02:00", "subject": "drm/sun4i: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Maxime Ripard <maxime.ripard@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 17, "score_technical": 4, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 3, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change in GPU DRM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Good message with sparse warning details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Bootlin maintainer"}}, "score_justification": "Sparse warning fix making symbols static in DRM driver", "code_snippet": "@@ -236,8 +236,8 @@ static struct sun4i_tcon *sun4i_get_tcon0(struct drm_device *drm)\n \treturn NULL;\n }\n \n-void sun4i_tcon_set_mux(struct sun4i_tcon *tcon, int channel,\n-\t\t\tconst struct drm_encoder *encoder)\n+static void sun4i_tcon_set_mux(struct sun4i_tcon *tcon, int channel,\n+\t\t\t       const struct drm_encoder *encoder)\n {\n \tint ret = -ENOTSUPP;\n \ndiff --git a/drivers/gpu/drm/sun4i/sun8i_tcon_top.c b/drivers/gpu/drm/sun4i/sun8i_tcon_top.c\nindex fc36e0c10a37..241904357d9e 100644\n--- a/drivers/gpu/drm/sun4i/sun8i_tcon_top.c\n+++ b/drivers/gpu/drm/sun4i/sun8i_tcon_top.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f2f0599579cac371cf9db05a1b00e066db401fb"}
{"commit_hash": "2ccb8433ebe8dc99ed7cd0e3b8ff6976dcc05e3d", "short_hash": "2ccb8433ebe8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T22:14:55+08:00", "committer_name": "Neil Armstrong", "committer_email": "narmstrong@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-04-17T20:19:13+02:00", "subject": "drm/meson: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm/meson"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 3, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny change in GPU DRM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean sparse warning fix with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Baylibre maintainer"}}, "score_justification": "Sparse warning fix adding static to 3 unused-exported functions in meson DRM driver", "code_snippet": "@@ -90,8 +90,8 @@ static int eotf_bypass_coeff[EOTF_COEFF_SIZE] = {\n \tEOTF_COEFF_RIGHTSHIFT /* right shift */\n };\n \n-void meson_viu_set_g12a_osd1_matrix(struct meson_drm *priv, int *m,\n-\t\t\t\t   bool csc_on)\n+static void meson_viu_set_g12a_osd1_matrix(struct meson_drm *priv,\n+\t\t\t\t\t   int *m, bool csc_on)\n {\n \t/* VPP WRAP OSD1 matrix */\n \twritel(((m[0] & 0xfff) << 16) | (m[1] & 0xfff),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ccb8433ebe8dc99ed7cd0e3b8ff6976dcc05e3d"}
{"commit_hash": "d48ae1f0532cef3f57793ea4df551f695e63f788", "short_hash": "d48ae1f0532c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T22:43:53+08:00", "committer_name": "Qiang Yu", "committer_email": "yuq825@gmail.com", "committer_company": "Gmail", "commit_date": "2019-04-17T20:56:40+08:00", "subject": "drm/lima: Make lima_sched_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a1d2a6339961 (\"drm/lima: driver for ARM Mali4xx GPUs\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Qiang Yu <yuq825@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Properly formatted with Fixes tag and Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with robot report"}}, "score_justification": "Sparse warning fix adding static to lima_sched_ops in GPU driver", "code_snippet": "@@ -311,7 +311,7 @@ static void lima_sched_free_job(struct drm_sched_job *job)\n \tkmem_cache_free(pipe->task_slab, task);\n }\n \n-const struct drm_sched_backend_ops lima_sched_ops = {\n+static const struct drm_sched_backend_ops lima_sched_ops = {\n \t.dependency = lima_sched_dependency,\n \t.run_job = lima_sched_run_job,\n \t.timedout_job = lima_sched_timedout_job,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d48ae1f0532cef3f57793ea4df551f695e63f788"}
{"commit_hash": "442e321ed223d9c01a444c6f874e32fb283c17d2", "short_hash": "442e321ed223", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T22:57:22+08:00", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-04-17T21:17:54+02:00", "subject": "ALSA: ps3: Remove set but not used variables 'start_vaddr' and 'pcm_index'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/ppc", "subsystems_touched": ["sound/ppc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Geoff Levand <geoff@infradead.org> (Infradead)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 6 hunks, 4 deletions removing unused variables"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Has Acked-by and proper Signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer, Hulk Robot report"}}, "score_justification": "GCC unused variable warning cleanup with cross-org review", "code_snippet": "@@ -233,7 +233,6 @@ static int snd_ps3_program_dma(struct snd_ps3_card_info *card,\n \tint fill_stages, dma_ch, stage;\n \tenum snd_ps3_ch ch;\n \tuint32_t ch0_kick_event = 0; /* initialize to mute gcc */\n-\tvoid *start_vaddr;\n \tunsigned long irqsave;\n \tint silent = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/442e321ed223d9c01a444c6f874e32fb283c17d2"}
{"commit_hash": "0b646fd1b1963bf44fe81853e89f3469aeb94a6c", "short_hash": "0b646fd1b196", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-17T10:43:02+08:00", "committer_name": "Sebastian Reichel", "committer_email": "sre@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-17T22:14:24+02:00", "subject": "power: supply: ab8500: fix leaked of_node refs in ab8500_bm_of_probe", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "power", "subsystems_touched": ["drivers/power/supply"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Sebastian Reichel <sebastian.reichel@collabora.com> (Collabora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 5, "score_impact": 13, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small fix in power supply subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Coccinelle-detected, well-documented commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from ZTE, maintainer from different org committed"}}, "score_justification": "Device tree reference leak fix detected by coccinelle in power supply driver", "code_snippet": "@@ -508,6 +508,7 @@ int ab8500_bm_of_probe(struct device *dev,\n \tbtech = of_get_property(battery_node, \"stericsson,battery-type\", NULL);\n \tif (!btech) {\n \t\tdev_warn(dev, \"missing property battery-name/type\\n\");\n+\t\tof_node_put(battery_node);\n \t\treturn -EINVAL;\n \t}\n \n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/0b646fd1b1963bf44fe81853e89f3469aeb94a6c"}
{"commit_hash": "2143bf6d7cfe74feb5694fba7e9000ddcd5fb25e", "short_hash": "2143bf6d7cfe", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-17T10:43:03+08:00", "committer_name": "Sebastian Reichel", "committer_email": "sre@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-17T22:19:12+02:00", "subject": "power: supply: core: fix leaked of_node refs in power_supply_get_battery_info", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "power", "subsystems_touched": ["drivers/power/supply"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 8, "hunks": 10, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Sebastian Reichel <sebastian.reichel@collabora.com> (Collabora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important power subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting battery-powered devices"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single author, good commit message with coccinelle output"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (ZTE) and committer (kernel.org) from different orgs"}}, "score_justification": "Device tree refcount leak in battery info parsing, fixed with proper error path cleanup", "code_snippet": "@@ -598,10 +598,12 @@ int power_supply_get_battery_info(struct power_supply *psy,\n \n \terr = of_property_read_string(battery_np, \"compatible\", &value);\n \tif (err)\n-\t\treturn err;\n+\t\tgoto out_put_node;\n \n-\tif (strcmp(\"simple-battery\", value))\n-\t\treturn -ENODEV;\n+\tif (strcmp(\"simple-battery\", value)) {\n+\t\terr = -ENODEV;\n+\t\tgoto out_put_node;\n+\t}\n \n \t/* The property and field names below must correspond to elements\n \t * in enum power_supply_property. For reasoning, see", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2143bf6d7cfe74feb5694fba7e9000ddcd5fb25e"}
{"commit_hash": "f87db4dbd52f2f8a170a2b51cb0926221ca7c9e2", "short_hash": "f87db4dbd52f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T09:49:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-17T23:20:25-07:00", "subject": "net: stmmac: Use bfsize1 in ndesc_init_rx_desc", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: 583e63614149 (\"net: stmmac: use correct DMA buffer size in the RX descriptor\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Aaro Koskinen <aaro.koskinen@nokia.com> (Nokia)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for stmmac driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by from Nokia, clear Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Nokia reviewer, netdev maintainer"}}, "score_justification": "Regression fix using wrong variable in DMA buffer size calculation", "code_snippet": "@@ -140,7 +140,7 @@ static void ndesc_init_rx_desc(struct dma_desc *p, int disable_rx_ic, int mode,\n \tp->des0 |= cpu_to_le32(RDES0_OWN);\n \n \tbfsize1 = min(bfsize, BUF_SIZE_2KiB - 1);\n-\tp->des1 |= cpu_to_le32(bfsize & RDES1_BUFFER1_SIZE_MASK);\n+\tp->des1 |= cpu_to_le32(bfsize1 & RDES1_BUFFER1_SIZE_MASK);\n \n \tif (mode == STMMAC_CHAIN_MODE)\n \t\tndesc_rx_set_on_chain(p, end);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f87db4dbd52f2f8a170a2b51cb0926221ca7c9e2"}
{"commit_hash": "cf3bbe67be154d9658a7b8644a23a05e6246ea79", "short_hash": "cf3bbe67be15", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T22:00:35+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-18T08:54:04+02:00", "subject": "mtd: rawnand: ingenic: Make jz4725b_ooblayout_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw/ingenic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, 2 lines changed in MTD driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Maintainer signed off, includes Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Bootlin committer, cross-company"}}, "score_justification": "Sparse warning fix in JZ4725B NAND driver adding static keyword", "code_snippet": "@@ -137,7 +137,7 @@ static int jz4725b_ooblayout_free(struct mtd_info *mtd, int section,\n \treturn 0;\n }\n \n-const struct mtd_ooblayout_ops jz4725b_ooblayout_ops = {\n+static const struct mtd_ooblayout_ops jz4725b_ooblayout_ops = {\n \t.ecc = jz4725b_ooblayout_ecc,\n \t.free = jz4725b_ooblayout_free,\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf3bbe67be154d9658a7b8644a23a05e6246ea79"}
{"commit_hash": "09e030d975490a23f759e44e54520307b8c7e8e2", "short_hash": "09e030d97549", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-04T18:47:11+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-18T08:54:04+02:00", "subject": "mtd: rawnand: ingenic: Add missing MODULE_* information", "primary_category": "BUILD-FIX", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 9df5741a577e (\"mtd: rawnand: ingenic: Separate top-level and SoC specific code\")", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw/ingenic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 26, "score_technical": 5, "score_impact": 7, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change: 3 lines added in single driver file"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 7, "details": "Build warning fix for MTD driver, minor user impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with Fixes tag and reporter credit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org commit: Huawei author, Bootlin committer, internal robot report"}}, "score_justification": "Build warning fix adding MODULE metadata to MTD driver, cross-org contribution", "code_snippet": "@@ -160,4 +160,7 @@ int ingenic_ecc_probe(struct platform_device *pdev)\n }\n EXPORT_SYMBOL(ingenic_ecc_probe);\n \n+MODULE_AUTHOR(\"Alex Smith <alex@alex-smith.me.uk>\");\n+MODULE_AUTHOR(\"Harvey Hunt <harveyhuntnexus@gmail.com>\");\n+MODULE_DESCRIPTION(\"Ingenic ECC common driver\");\n MODULE_LICENSE(\"GPL v2\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/09e030d975490a23f759e44e54520307b8c7e8e2"}
{"commit_hash": "f1bb4b6aeed414c65ee75dfd65d1859f1898be78", "short_hash": "f1bb4b6aeed4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T23:00:51+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-18T09:25:45-05:00", "subject": "drm/panfrost: Make panfrost_gem_free_object() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": ["Steven Price <steven.price@arm.com> (ARM)", "Tomeu Vizoso <tomeu.vizoso@collabora.com> (Collabora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line change in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two Reviewed-by tags with clear sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer, cross-org reviews from ARM and Collabora"}}, "score_justification": "Sparse warning fix adding static keyword to unexported function in GPU driver", "code_snippet": "@@ -14,7 +14,7 @@\n /* Called DRM core on the last userspace/kernel unreference of the\n  * BO.\n  */\n-void panfrost_gem_free_object(struct drm_gem_object *obj)\n+static void panfrost_gem_free_object(struct drm_gem_object *obj)\n {\n \tstruct panfrost_gem_object *bo = to_panfrost_bo(obj);\n \tstruct panfrost_device *pfdev = obj->dev->dev_private;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1bb4b6aeed414c65ee75dfd65d1859f1898be78"}
{"commit_hash": "6cd5235c3135ea84b32469ea51b2aae384eda8af", "short_hash": "6cd5235c3135", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-04T00:04:11+08:00", "committer_name": "Rob Clark", "committer_email": "robdclark@chromium.org", "committer_company": "Chromium", "commit_date": "2019-04-18T10:04:10-07:00", "subject": "drm/msm: a5xx: fix possible object reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/msm", "subsystems_touched": ["drivers/gpu/drm/msm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Rob Clark <robdclark@gmail.com> (Gmail)", "Rob Clark <robdclark@chromium.org> (Chromium)"], "reviewed_by": ["Jordan Crouse <jcrouse@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 11, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in GPU driver (Tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Resource leak fix affecting GPU users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Reviewed-by, good Coccinelle report"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author @zte, maintainer @chromium.org applied"}}, "score_justification": "Device node reference leak fix in Qualcomm GPU driver detected by Coccinelle", "code_snippet": "@@ -34,7 +34,7 @@ static int zap_shader_load_mdt(struct msm_gpu *gpu, const char *fwname)\n {\n \tstruct device *dev = &gpu->pdev->dev;\n \tconst struct firmware *fw;\n-\tstruct device_node *np;\n+\tstruct device_node *np, *mem_np;\n \tstruct resource r;\n \tphys_addr_t mem_phys;\n \tssize_t mem_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6cd5235c3135ea84b32469ea51b2aae384eda8af"}
{"commit_hash": "3f2552f7e9c5abef2775c53f7af66532f8bf65bc", "short_hash": "3f2552f7e9c5", "author_name": "Chang-An Chen", "author_email": "chang-an.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T10:59:09+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-04-18T14:34:53+02:00", "subject": "timers/sched_clock: Prevent generic sched_clock wrap caused by tick_freeze()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 124cf9117c5f (PM / sleep: Make it possible to quiesce timers during suspend-to-idle)", "cc_stable": true, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 2, "files_changed": 3, "insertions": 11, "deletions": 2, "hunks": 10, "review_chain": {"signed_off_by": ["Chang-An Chen <chang-an.chen@mediatek.com> (MediaTek)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -283,7 +283,7 @@ static int sched_clock_suspend(void)\n \treturn 0;\n }\n \n-static void sched_clock_resume(void)\n+void sched_clock_resume(void)\n {\n \tstruct clock_read_data *rd = &cd.read_data[0];\n \ndiff --git a/kernel/time/tick-common.c b/kernel/time/tick-common.c\nindex 529143b4c8d2..df401463a191 100644\n--- a/kernel/time/tick-common.c\n+++ b/kernel/time/tick-common.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/3f2552f7e9c5abef2775c53f7af66532f8bf65bc"}
{"commit_hash": "84420b1e5d7254e58f551e32244d13c8e124bdcc", "short_hash": "84420b1e5d72", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-04-12T11:28:14-04:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-18T16:18:31-04:00", "subject": "dm writecache: add unlikely for returned value of rb_next/prev", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2-line micro-optimization in md driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Branch prediction optimization in block cache"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Dual Signed-off-by, explains unlikely rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Lenovo author, Red Hat maintainer"}}, "score_justification": "Micro-optimization adding unlikely() for branch prediction in dm-writecache", "code_snippet": "@@ -571,7 +571,7 @@ static struct wc_entry *writecache_find_entry(struct dm_writecache *wc,\n \t\t\tnode = rb_prev(&e->rb_node);\n \t\telse\n \t\t\tnode = rb_next(&e->rb_node);\n-\t\tif (!node)\n+\t\tif (unlikely(!node))\n \t\t\treturn e;\n \t\te2 = container_of(node, struct wc_entry, rb_node);\n \t\tif (read_original_sector(wc, e2) != block)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/84420b1e5d7254e58f551e32244d13c8e124bdcc"}
{"commit_hash": "09f2d6563055b8ff0948cefb8911a4de0d559963", "short_hash": "09f2d6563055", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-04-12T11:27:18-04:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-18T16:18:31-04:00", "subject": "dm writecache: remove needless dereferences in __writecache_writeback_pmem()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small simplification in md subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification, affects DM users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review, simple change, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Lenovo->Red Hat, maintainer signed-off"}}, "score_justification": "Simplification removing needless pointer dereferences via direct bio use", "code_snippet": "@@ -1478,9 +1478,9 @@ static void __writecache_writeback_pmem(struct dm_writecache *wc, struct writeba\n \t\tbio = bio_alloc_bioset(GFP_NOIO, max_pages, &wc->bio_set);\n \t\twb = container_of(bio, struct writeback_struct, bio);\n \t\twb->wc = wc;\n-\t\twb->bio.bi_end_io = writecache_writeback_endio;\n-\t\tbio_set_dev(&wb->bio, wc->dev->bdev);\n-\t\twb->bio.bi_iter.bi_sector = read_original_sector(wc, e);\n+\t\tbio->bi_end_io = writecache_writeback_endio;\n+\t\tbio_set_dev(bio, wc->dev->bdev);\n+\t\tbio->bi_iter.bi_sector = read_original_sector(wc, e);\n \t\twb->page_offset = PAGE_SIZE;\n \t\tif (max_pages <= WB_LIST_INLINE ||\n \t\t    unlikely(!(wb->wc_list = kmalloc_array(max_pages, sizeof(struct wc_entry *),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/09f2d6563055b8ff0948cefb8911a4de0d559963"}
{"commit_hash": "b1546edcf2aab710a5afc98d65c948a4bfac0353", "short_hash": "b1546edcf2aa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-18T22:47:13+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-18T20:28:02+02:00", "subject": "sched/core: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sched", "subsystems_touched": ["kernel/sched"], "subsystem_tier": 1, "files_changed": 2, "insertions": 6, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in critical scheduler subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with sparse warnings cited"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Sparse warning fix making functions static in scheduler core", "code_snippet": "@@ -6638,7 +6638,7 @@ int tg_set_cfs_period(struct task_group *tg, long cfs_period_us)\n \treturn tg_set_cfs_bandwidth(tg, period, quota);\n }\n \n-long tg_get_cfs_period(struct task_group *tg)\n+static long tg_get_cfs_period(struct task_group *tg)\n {\n \tu64 cfs_period_us;\n \ndiff --git a/kernel/sched/fair.c b/kernel/sched/fair.c\nindex e5b100b6ba4e..13bafe350abf 100644\n--- a/kernel/sched/fair.c\n+++ b/kernel/sched/fair.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b1546edcf2aab710a5afc98d65c948a4bfac0353"}
{"commit_hash": "c70929752511cb73dfb940d4c3f00e75ab55ef67", "short_hash": "c70929752511", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T23:05:54+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-18T20:35:58-04:00", "subject": "scsi: lpfc: Make lpfc_sli4_oas_verify static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed-by from maintainer, clear warning fix message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle committer, Broadcom reviewer"}}, "score_justification": "Sparse warning fix adding static to unused function in lpfc driver", "code_snippet": "@@ -13087,7 +13087,7 @@ lpfc_io_resume(struct pci_dev *pdev)\n  * is destroyed.\n  *\n  **/\n-void\n+static void\n lpfc_sli4_oas_verify(struct lpfc_hba *phba)\n {\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c70929752511cb73dfb940d4c3f00e75ab55ef67"}
{"commit_hash": "94e487a41f57ea9f8bdba7e69791076188d8e111", "short_hash": "94e487a41f57", "author_name": "Yu Chen", "author_email": "chenyu56@huawei.com", "author_company": "Huawei", "author_date": "2019-03-29T12:14:03+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-18T22:08:25+05:30", "subject": "phy: Add usb phy support for hi3660 Soc of Hisilicon", "primary_category": "FEAT-DRIVER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/phy", "subsystems_touched": ["drivers/phy/hisilicon", "MAINTAINERS"], "subsystem_tier": 4, "files_changed": 4, "insertions": 252, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Yu Chen <chenyu56@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Andy Shevchenko <andy.shevchenko@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 12, "score_impact": 19, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 12, "details": "New USB PHY driver: 252 lines added across 4 files, 8 hunks"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 19, "details": "Complete new driver for Hisilicon Hi3660 USB3 PHY support"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by from Andy Shevchenko, good commit message, no tests included"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer from TI, cross-company review"}}, "score_justification": "New USB PHY driver for Hisilicon Hi3660 SoC adding hardware support with 252 lines across 4 files", "code_snippet": "@@ -16079,6 +16079,14 @@ L:\tlinux-usb@vger.kernel.org\n S:\tMaintained\n F:\tdrivers/usb/roles/intel-xhci-usb-role-switch.c\n \n+USB IP DRIVER FOR HISILICON KIRIN\n+M:\tYu Chen <chenyu56@huawei.com>\n+M:\tBinghui Wang <wangbinghui@hisilicon.com>\n+L:\tlinux-usb@vger.kernel.org\n+S:\tMaintained\n+F:\tDocumentation/devicetree/bindings/phy/phy-hi3660-usb3.txt\n+F:\tdrivers/phy/hisilicon/phy-hi3660-usb3.c\n+\n USB ISP116X DRIVER\n M:\tOlav Kongas <ok@artecdesign.ee>\n L:\tlinux-usb@vger.kernel.org\ndiff --git a/drivers/phy/hisilicon/Kconfig b/drivers/phy/hisilicon/Kconfig\nindex b40ee54a1a50..3c142f08987c 100644\n--- a/drivers/phy/hisilicon/Kconfig\n+++ b/drivers/phy/hisilicon/Kconfig", "flags": ["NEW_DRIVER"], "link": "https://lore.kernel.org/linux-kernel/94e487a41f57ea9f8bdba7e69791076188d8e111"}
{"commit_hash": "e4d0cf63f24306d1e16262482fb05a3fc69653e2", "short_hash": "e4d0cf63f243", "author_name": "Yu Chen", "author_email": "chenyu56@huawei.com", "author_company": "Huawei", "author_date": "2019-03-29T12:13:57+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-04-18T22:08:25+05:30", "subject": "dt-bindings: phy: Add support for HiSilicon's hi3660 USB PHY", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 26, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yu Chen <chenyu56@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 4, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "New DT binding file, 26 lines, single file in peripheral subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 10, "details": "New hardware documentation for HiSilicon platform"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Reviewed-by, clear message with context, single logical change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from TI committed it"}}, "score_justification": "New DT binding documentation for HiSilicon hi3660 USB PHY with proper review", "code_snippet": "@@ -0,0 +1,26 @@\n+Hisilicon hi3660 USB PHY\n+-----------------------\n+\n+Required properties:\n+- compatible: should be \"hisilicon,hi3660-usb-phy\"\n+- #phy-cells: must be 0\n+- hisilicon,pericrg-syscon: phandle of syscon used to control phy.\n+- hisilicon,pctrl-syscon: phandle of syscon used to control phy.\n+- hisilicon,eye-diagram-param: parameter set for phy\n+Refer to phy/phy-bindings.txt for the generic PHY binding properties\n+\n+This is a subnode of usb3_otg_bc register node.\n+\n+Example:\n+\tusb3_otg_bc: usb3_otg_bc@ff200000 {\n+\t\tcompatible = \"syscon\", \"simple-mfd\";\n+\t\treg = <0x0 0xff200000 0x0 0x1000>;\n+\n+\t\tusb-phy {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4d0cf63f24306d1e16262482fb05a3fc69653e2"}
{"commit_hash": "11fe71f146ee652a30ffc3c204105c2d81a00d1c", "short_hash": "11fe71f146ee", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T02:47:42Z", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-04-18T22:14:58+08:00", "subject": "crypto: mxs-dcp - remove set but not used variable 'fini'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 9, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 4 hunks, net deletion removing unused variable"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single Signed-off-by beyond author, clear message with gcc warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Herbert Xu (maintainer) committer"}}, "score_justification": "Compiler warning fix removing unused variable in crypto driver", "code_snippet": "@@ -700,11 +700,7 @@ static int dcp_chan_thread_sha(void *data)\n \n \tstruct crypto_async_request *backlog;\n \tstruct crypto_async_request *arq;\n-\n-\tstruct dcp_sha_req_ctx *rctx;\n-\n-\tstruct ahash_request *req;\n-\tint ret, fini;\n+\tint ret;\n \n \twhile (!kthread_should_stop()) {\n \t\tset_current_state(TASK_INTERRUPTIBLE);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11fe71f146ee652a30ffc3c204105c2d81a00d1c"}
{"commit_hash": "37803841c92d7b327147e0b1be3436423189e1cf", "short_hash": "37803841c92d", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-18T17:50:16-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-04-19T09:46:04-07:00", "subject": "mm/memory_hotplug: do not unlock after failing to take the device_hotplug_lock", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8df1d0e4a265 (\"mm/memory_hotplug: make add_memory() take the device_hotplug_lock\")", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/base"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["David Hildenbrand <david@redhat.com> (Redhat)", "Oscar Salvador <osalvador@suse.de> (Suse)"], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": ["Yang yingliang <yangyingliang@huawei.com> (Huawei)"]}, "score_total": 44, "score_technical": 6, "score_impact": 17, "score_quality": 13, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in non-critical driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable tag, moderate user impact"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple cross-company reviewers, detailed explanation"}, "community": {"cross_org": 4, "maintainer": 2, "response": 2, "subtotal": 8, "details": "Reported and reviewed by multiple organizations"}}, "score_justification": "Locking bug fix preventing unlock of never-taken lock in memory hotplug", "code_snippet": "@@ -506,7 +506,7 @@ static ssize_t probe_store(struct device *dev, struct device_attribute *attr,\n \n \tret = lock_device_hotplug_sysfs();\n \tif (ret)\n-\t\tgoto out;\n+\t\treturn ret;\n \n \tnid = memory_add_physaddr_to_nid(phys_addr);\n \tret = __add_memory(nid, phys_addr,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/37803841c92d7b327147e0b1be3436423189e1cf"}
{"commit_hash": "b40fabc05ea047f6af5933d26a5483873340b0d4", "short_hash": "b40fabc05ea0", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T10:31:27+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-19T11:31:42-06:00", "subject": "block: kill all_q_node in request_queue", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "include/", "subsystems_touched": ["include/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com> (Wdc)", "Ming Lei <ming.lei@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -548,7 +548,6 @@ struct request_queue {\n \tstruct rcu_head\t\trcu_head;\n \twait_queue_head_t\tmq_freeze_wq;\n \tstruct percpu_ref\tq_usage_counter;\n-\tstruct list_head\tall_q_node;\n \n \tstruct blk_mq_tag_set\t*tag_set;\n \tstruct list_head\ttag_set_list;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/b40fabc05ea047f6af5933d26a5483873340b0d4"}
{"commit_hash": "9d918dcea0689eb9dd7154dcea976232c7d8d6e6", "short_hash": "9d918dcea068", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:16+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:23:34+02:00", "subject": "usb: xhci-mtk: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 16, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change: removes helper function, updates 3 call sites"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration with minor bug fix implication, affects MTK USB users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation of why replacement improves error handling"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, Linux Foundation maintainer commit"}}, "score_justification": "API migration from custom optional_clk_get() to devm_clk_get_optional(), removes 13 LOC", "code_snippet": "@@ -206,19 +206,6 @@ static int xhci_mtk_ssusb_config(struct xhci_hcd_mtk *mtk)\n \treturn xhci_mtk_host_enable(mtk);\n }\n \n-/* ignore the error if the clock does not exist */\n-static struct clk *optional_clk_get(struct device *dev, const char *id)\n-{\n-\tstruct clk *opt_clk;\n-\n-\topt_clk = devm_clk_get(dev, id);\n-\t/* ignore error number except EPROBE_DEFER */\n-\tif (IS_ERR(opt_clk) && (PTR_ERR(opt_clk) != -EPROBE_DEFER))\n-\t\topt_clk = NULL;\n-\n-\treturn opt_clk;\n-}\n-\n static int xhci_mtk_clks_get(struct xhci_hcd_mtk *mtk)\n {\n \tstruct device *dev = mtk->dev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d918dcea0689eb9dd7154dcea976232c7d8d6e6"}
{"commit_hash": "9bcb762ce02db5cc99e6705f0fcfab6b097a9bc8", "short_hash": "9bcb762ce02d", "author_name": "Yan Zhu", "author_email": "zhuyan34@huawei.com", "author_company": "Huawei", "author_date": "2019-04-18T23:25:21+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:23:34+02:00", "subject": "usb: host: use usb_endpoint_maxp instead of usb_maxpacket", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Yan Zhu <zhuyan34@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB host driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 13, "details": "Logic fix using correct API for maxpacket"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic S-o-b tags, minimal message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "API migration fix in USB host driver using correct endpoint descriptor access", "code_snippet": "@@ -727,8 +727,7 @@ void fhci_queue_urb(struct fhci_hcd *fhci, struct urb *urb)\n \t\t}\n \t\ted->speed = (urb->dev->speed == USB_SPEED_LOW) ?\n \t\t\tFHCI_LOW_SPEED : FHCI_FULL_SPEED;\n-\t\ted->max_pkt_size = usb_maxpacket(urb->dev,\n-\t\t\turb->pipe, usb_pipeout(urb->pipe));\n+\t\ted->max_pkt_size = usb_endpoint_maxp(&urb->ep->desc);\n \t\turb->ep->hcpriv = ed;\n \t\tfhci_dbg(fhci, \"new ep speed=%d max_pkt_size=%d\\n\",\n \t\t\t ed->speed, ed->max_pkt_size);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9bcb762ce02db5cc99e6705f0fcfab6b097a9bc8"}
{"commit_hash": "bbe2028f43c88e58a879eaa8627a871704b01252", "short_hash": "bbe2028f43c8", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:18+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:24:25+02:00", "subject": "usb: misc: usb3503: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb/misc", "subsystems_touched": ["drivers/usb/misc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 18, "deletions": 30, "hunks": 10, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB misc driver using new API"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improving error handling in specific driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two Reviewed/Signed-off tags, clear message explaining rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from Linux Foundation"}}, "score_justification": "API migration to devm_clk_get_optional() with improved error handling", "code_snippet": "@@ -172,7 +172,6 @@ static int usb3503_probe(struct usb3503 *hub)\n \t\thub->gpio_reset\t\t= pdata->gpio_reset;\n \t\thub->mode\t\t= pdata->initial_mode;\n \t} else if (np) {\n-\t\tstruct clk *clk;\n \t\tu32 rate = 0;\n \t\thub->port_off_mask = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bbe2028f43c88e58a879eaa8627a871704b01252"}
{"commit_hash": "08048c04cc6f7502d60d21d7596b53bbf1157d95", "short_hash": "08048c04cc6f", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:17+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:24:25+02:00", "subject": "usb: host: xhci-plat: get optional clock by devm_clk_get_optional()", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 18, "deletions": 21, "hunks": 8, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in USB host driver (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting USB xHCI platform users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message explaining error handling logic"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "API migration to devm_clk_get_optional() fixes error handling for optional clocks", "code_snippet": "@@ -165,8 +165,6 @@ static int xhci_plat_probe(struct platform_device *pdev)\n \tstruct xhci_hcd\t\t*xhci;\n \tstruct resource         *res;\n \tstruct usb_hcd\t\t*hcd;\n-\tstruct clk              *clk;\n-\tstruct clk              *reg_clk;\n \tint\t\t\tret;\n \tint\t\t\tirq;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/08048c04cc6f7502d60d21d7596b53bbf1157d95"}
{"commit_hash": "1567d661b90ff670b61bf0b8461afd2dac4a4b7c", "short_hash": "1567d661b90f", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:21+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:24:26+02:00", "subject": "usb: mtu3: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 16, "hunks": 4, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 11, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change replacing custom function with kernel API"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by tag, good explanation of change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Mediatek, committer is kernel.org maintainer"}}, "score_justification": "API migration replacing custom optional_clk_get() with devm_clk_get_optional()", "code_snippet": "@@ -211,19 +211,6 @@ static void ssusb_ip_sw_reset(struct ssusb_mtk *ssusb)\n \tmtu3_setbits(ssusb->ippc_base, U3D_SSUSB_IP_PW_CTRL2, SSUSB_IP_DEV_PDN);\n }\n \n-/* ignore the error if the clock does not exist */\n-static struct clk *get_optional_clk(struct device *dev, const char *id)\n-{\n-\tstruct clk *opt_clk;\n-\n-\topt_clk = devm_clk_get(dev, id);\n-\t/* ignore error number except EPROBE_DEFER */\n-\tif (IS_ERR(opt_clk) && (PTR_ERR(opt_clk) != -EPROBE_DEFER))\n-\t\topt_clk = NULL;\n-\n-\treturn opt_clk;\n-}\n-\n static int get_ssusb_rscs(struct platform_device *pdev, struct ssusb_mtk *ssusb)\n {\n \tstruct device_node *node = pdev->dev.of_node;", "flags": ["SIMPLIFICATION"], "link": "https://lore.kernel.org/linux-kernel/1567d661b90ff670b61bf0b8461afd2dac4a4b7c"}
{"commit_hash": "fcafadf71a252009f1d0663b8fcf4bd57f4f2c66", "short_hash": "fcafadf71a25", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:20+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:24:26+02:00", "subject": "usb: chipidea: msm: get optional clock by devm_clk_get_optional()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/chipidea"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Peter Chen <Peter.Chen@nxp.com> (NXP)"], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 11, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB driver (1 file, 2 hunks, 9 lines)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration improves error handling for MSM USB users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by from subsystem maintainer, clear rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Mediatek) and committer (Linux Foundation) differ"}}, "score_justification": "API migration to devm_clk_get_optional() simplifies error handling for optional clocks", "code_snippet": "@@ -205,12 +205,9 @@ static int ci_hdrc_msm_probe(struct platform_device *pdev)\n \tif (IS_ERR(clk))\n \t\treturn PTR_ERR(clk);\n \n-\tci->fs_clk = clk = devm_clk_get(&pdev->dev, \"fs\");\n-\tif (IS_ERR(clk)) {\n-\t\tif (PTR_ERR(clk) == -EPROBE_DEFER)\n-\t\t\treturn -EPROBE_DEFER;\n-\t\tci->fs_clk = NULL;\n-\t}\n+\tci->fs_clk = clk = devm_clk_get_optional(&pdev->dev, \"fs\");\n+\tif (IS_ERR(clk))\n+\t\treturn PTR_ERR(clk);\n \n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n \tci->base = devm_ioremap_resource(&pdev->dev, res);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fcafadf71a252009f1d0663b8fcf4bd57f4f2c66"}
{"commit_hash": "e894cdc2cb468c49242f8ab39236de475604f0c1", "short_hash": "e894cdc2cb46", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:19+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:24:26+02:00", "subject": "usb: dwc2: get optional clock by devm_clk_get_optional()", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/dwc2"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Minas Harutyunyan <hminas@synopsys.com> (Synopsys)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB driver using new API"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes probe defer handling for USB devices"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with Acked-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Linux Foundation maintainer"}}, "score_justification": "API migration fixing probe defer handling bug in DWC2 USB driver", "code_snippet": "@@ -284,10 +284,10 @@ static int dwc2_lowlevel_hw_init(struct dwc2_hsotg *hsotg)\n \t}\n \n \t/* Clock */\n-\thsotg->clk = devm_clk_get(hsotg->dev, \"otg\");\n+\thsotg->clk = devm_clk_get_optional(hsotg->dev, \"otg\");\n \tif (IS_ERR(hsotg->clk)) {\n-\t\thsotg->clk = NULL;\n-\t\tdev_dbg(hsotg->dev, \"cannot get otg clock\\n\");\n+\t\tdev_err(hsotg->dev, \"cannot get otg clock\\n\");\n+\t\treturn PTR_ERR(hsotg->clk);\n \t}\n \n \t/* Regulators */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e894cdc2cb468c49242f8ab39236de475604f0c1"}
{"commit_hash": "a5c795056c443fd5c5a60c840787a8990f6b24a4", "short_hash": "a5c795056c44", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T22:58:58+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-19T14:59:36+02:00", "subject": "staging: most: configfs: Make mdev_link_list static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/most"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix in non-critical path"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Sparse warning fix adding static to staging driver variable", "code_snippet": "@@ -31,7 +31,7 @@ struct mdev_link {\n \tchar comp_params[PAGE_SIZE];\n };\n \n-struct list_head mdev_link_list;\n+static struct list_head mdev_link_list;\n \n static int set_cfg_buffer_size(struct mdev_link *link)\n {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5c795056c443fd5c5a60c840787a8990f6b24a4"}
{"commit_hash": "479879701758206a2cc75176119fcc9dacc40846", "short_hash": "479879701758", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-18T10:48:48+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-19T17:00:59+01:00", "subject": "ASoC: Intel: Haswell: Remove set but not used variable 'stage_type'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ba57f68235cf (\"ASoC: Intel: create haswell folder and move haswell platform files in\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/intel"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup removing unused variable and helper function in sound subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact, no stable backport"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with Fixes tag, Reviewed-by/Acked-by from Intel"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer different (kernel.org), Intel acked"}}, "score_justification": "Compiler warning fix removing unused variable and helper function in Intel sound driver", "code_snippet": "@@ -345,11 +345,6 @@ static inline u32 msg_get_stream_type(u32 msg)\n \treturn (msg & IPC_STR_TYPE_MASK) >>  IPC_STR_TYPE_SHIFT;\n }\n \n-static inline u32 msg_get_stage_type(u32 msg)\n-{\n-\treturn (msg & IPC_STG_TYPE_MASK) >>  IPC_STG_TYPE_SHIFT;\n-}\n-\n static inline u32 msg_get_stream_id(u32 msg)\n {\n \treturn (msg & IPC_STR_ID_MASK) >>  IPC_STR_ID_SHIFT;", "flags": ["UNUSED_VARIABLE"], "link": "https://lore.kernel.org/linux-kernel/479879701758206a2cc75176119fcc9dacc40846"}
{"commit_hash": "beab694aa32afb7c785c55f075628d9a21ed8011", "short_hash": "beab694aa32a", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:15-07:00", "subject": "net: hns3: refine tx timeout count handle", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic bug fix affecting debug output accuracy"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple internal reviewers, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "Fixes tx_timeout_cnt increment order to show correct count in debug logs", "code_snippet": "@@ -1655,6 +1655,8 @@ static bool hns3_get_tx_timeo_queue_info(struct net_device *ndev)\n \t\treturn false;\n \t}\n \n+\tpriv->tx_timeout_count++;\n+\n \ttx_ring = priv->ring_data[timeout_queue].ring;\n \n \thw_head = readl_relaxed(tx_ring->tqp->io_base +", "flags": [], "link": "https://lore.kernel.org/linux-kernel/beab694aa32afb7c785c55f075628d9a21ed8011"}
{"commit_hash": "fbf3cd3fc11ce80270a80e65a75e4e32a56a5a7d", "short_hash": "fbf3cd3fc11c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:15-07:00", "subject": "net: hns3: add some debug info for hclgevf_get_mbx_resp()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -49,8 +49,8 @@ static int hclgevf_get_mbx_resp(struct hclgevf_dev *hdev, u16 code0, u16 code1,\n \n \tif (i >= HCLGEVF_MAX_TRY_TIMES) {\n \t\tdev_err(&hdev->pdev->dev,\n-\t\t\t\"VF could not get mbx resp(=%d) from PF in %d tries\\n\",\n-\t\t\thdev->mbx_resp.received_resp, i);\n+\t\t\t\"VF could not get mbx(%d,%d) resp(=%d) from PF in %d tries\\n\",\n+\t\t\tcode0, code1, hdev->mbx_resp.received_resp, i);\n \t\treturn -EIO;\n \t}\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/fbf3cd3fc11ce80270a80e65a75e4e32a56a5a7d"}
{"commit_hash": "147175c92a5cd83337157bf784389466bb380eef", "short_hash": "147175c92a5c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:15-07:00", "subject": "net: hns3: add some debug information for hclge_check_event_cause", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in tier-3 network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug tracing for driver troubleshooting"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Basic commit with 2 reviewers from same org"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer commit"}}, "score_justification": "Adds debug logging to Hisilicon network driver for interrupt troubleshooting", "code_snippet": "@@ -2383,8 +2383,11 @@ static u32 hclge_check_event_cause(struct hclge_dev *hdev, u32 *clearval)\n \t}\n \n \t/* check for vector0 msix event source */\n-\tif (msix_src_reg & HCLGE_VECTOR0_REG_MSIX_MASK)\n+\tif (msix_src_reg & HCLGE_VECTOR0_REG_MSIX_MASK) {\n+\t\tdev_dbg(&hdev->pdev->dev, \"received event 0x%x\\n\",\n+\t\t\tmsix_src_reg);\n \t\treturn HCLGE_VECTOR0_EVENT_ERR;\n+\t}\n \n \t/* check for vector0 mailbox(=CMDQ RX) event source */\n \tif (BIT(HCLGE_VECTOR0_RX_CMDQ_INT_B) & cmdq_src_reg) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/147175c92a5cd83337157bf784389466bb380eef"}
{"commit_hash": "c88a6e7d8801fc5ffcd704b0b1f3e67b6266182b", "short_hash": "c88a6e7d8801", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:15-07:00", "subject": "net: hns3: add reset statistics for VF", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 4, "files_changed": 2, "insertions": 18, "deletions": 3, "hunks": 16, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 15, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change adding reset statistics structure and tracking points"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement improving debug visibility for VF resets"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei author, netdev maintainer)"}}, "score_justification": "Adds reset statistics tracking for VF driver to improve observability", "code_snippet": "@@ -210,6 +210,15 @@ struct hclgevf_misc_vector {\n \tint vector_irq;\n };\n \n+struct hclgevf_rst_stats {\n+\tu32 rst_cnt;\t\t\t/* the number of reset */\n+\tu32 vf_func_rst_cnt;\t\t/* the number of VF function reset */\n+\tu32 flr_rst_cnt;\t\t/* the number of FLR */\n+\tu32 vf_rst_cnt;\t\t\t/* the number of VF reset */\n+\tu32 rst_done_cnt;\t\t/* the number of reset completed */\n+\tu32 hw_rst_done_cnt;\t\t/* the number of HW reset completed */\n+};\n+\n struct hclgevf_dev {\n \tstruct pci_dev *pdev;\n \tstruct hnae3_ae_dev *ae_dev;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c88a6e7d8801fc5ffcd704b0b1f3e67b6266182b"}
{"commit_hash": "f02eb82dfe12a0922b539f8cd3c4151826cae94e", "short_hash": "f02eb82dfe12", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:15-07:00", "subject": "net: hns3: add reset statistics info for PF", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 45, "deletions": 3, "hunks": 28, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 4 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement adding debug statistics"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with multiple sign-offs, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Adds reset statistics tracking and debugfs dumping for Hisilicon HNS3 PF", "code_snippet": "@@ -247,6 +247,7 @@ static void hns3_dbg_help(struct hnae3_handle *h)\n \tdev_info(&h->pdev->dev, \"dump qos pri map\\n\");\n \tdev_info(&h->pdev->dev, \"dump qos buf cfg\\n\");\n \tdev_info(&h->pdev->dev, \"dump mng tbl\\n\");\n+\tdev_info(&h->pdev->dev, \"dump reset info\\n\");\n \n \tmemset(printf_buf, 0, HNS3_DBG_BUF_LEN);\n \tstrncat(printf_buf, \"dump reg [[bios common] [ssu <prt_id>]\",\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex 1192cf6f2321..d9782c7fb447 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f02eb82dfe12a0922b539f8cd3c4151826cae94e"}
{"commit_hash": "97afd47b36dbe976c72191cf862a92d2e8756fa9", "short_hash": "97afd47b36db", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: add function type check for debugfs help information", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 8, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in HNS3 network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix affecting HNS3 VF users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net subsystem maintainer merged"}}, "score_justification": "Small debugfs help filter fix for HNS3 VF devices", "code_snippet": "@@ -344,6 +348,8 @@ static ssize_t hns3_dbg_cmd_write(struct file *filp, const char __user *buffer,\n \t\tret = hns3_dbg_bd_info(handle, cmd_buf);\n \telse if (handle->ae_algo->ops->dbg_run_cmd)\n \t\tret = handle->ae_algo->ops->dbg_run_cmd(handle, cmd_buf);\n+\telse\n+\t\tret = -EOPNOTSUPP;\n \n \tif (ret)\n \t\thns3_dbg_help(handle);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 142fe6eed761..176d4b965709 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97afd47b36dbe976c72191cf862a92d2e8756fa9"}
{"commit_hash": "db01afeb6614b75299b0ecba06b246143d4b894d", "short_hash": "db01afeb6614", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: add queue's statistics update to service task", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 11, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message with single organization"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, maintainer commit"}}, "score_justification": "Functional enhancement adding periodic stats update to service task in Hisilicon network driver", "code_snippet": "@@ -1649,6 +1649,7 @@ static void hclgevf_service_timer(struct timer_list *t)\n \n \tmod_timer(&hdev->service_timer, jiffies + 5 * HZ);\n \n+\thdev->stats_timer++;\n \thclgevf_task_schedule(hdev);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db01afeb6614b75299b0ecba06b246143d4b894d"}
{"commit_hash": "a63457878b12b1be3d0a09fdc0c93b348f6161c9", "short_hash": "a63457878b12", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-19T11:05:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: Add handling of MAC tunnel interruption", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 7, "insertions": 96, "deletions": 0, "hunks": 34, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "96 new lines across 7 files, 34 hunks - medium feature implementation"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for debugging, affects hns3 driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with context, only author and co-author signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from hisilicon, committer davem from different org"}}, "score_justification": "MAC tunnel interrupt handling feature with debugfs query support", "code_snippet": "@@ -109,6 +109,9 @@ enum hclge_opcode_type {\n \tHCLGE_OPC_QUERY_LINK_STATUS\t= 0x0307,\n \tHCLGE_OPC_CONFIG_MAX_FRM_SIZE\t= 0x0308,\n \tHCLGE_OPC_CONFIG_SPEED_DUP\t= 0x0309,\n+\tHCLGE_OPC_QUERY_MAC_TNL_INT\t= 0x0310,\n+\tHCLGE_OPC_MAC_TNL_INT_EN\t= 0x0311,\n+\tHCLGE_OPC_CLEAR_MAC_TNL_INT\t= 0x0312,\n \tHCLGE_OPC_SERDES_LOOPBACK       = 0x0315,\n \n \t/* PFC/Pause commands */\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex 6a774cc03aea..a9ffb57c4607 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a63457878b12b1be3d0a09fdc0c93b348f6161c9"}
{"commit_hash": "ffd140e2ea980ea0ded8631f8bc1f43bca8a509e", "short_hash": "ffd140e2ea98", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-19T11:05:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: add support for dump ncl config by debugfs", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 70, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in NIC driver debugfs"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug feature for hardware engineers"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple signoffs, clear documentation"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All from Huawei/Hisilicon org"}}, "score_justification": "Adds debugfs command to dump NCL config for Hisilicon NIC", "code_snippet": "@@ -237,6 +237,9 @@ enum hclge_opcode_type {\n \t/* Led command */\n \tHCLGE_OPC_LED_STATUS_CFG\t= 0xB000,\n \n+\t/* NCL config command */\n+\tHCLGE_OPC_QUERY_NCL_CONFIG\t= 0x7011,\n+\n \t/* SFP command */\n \tHCLGE_OPC_SFP_GET_SPEED\t\t= 0x7104,\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex d9782c7fb447..6a774cc03aea 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": ["HISILICON"], "link": "https://lore.kernel.org/linux-kernel/ffd140e2ea980ea0ded8631f8bc1f43bca8a509e"}
{"commit_hash": "bb87be87b1658f7ee95c0b7625553a6e7f8fea1c", "short_hash": "bb87be87b165", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: Add support for netif message level settings", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 5, "insertions": 101, "deletions": 2, "hunks": 26, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 12, "details": "26 hunks across 5 files in network driver, medium code volume"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Functional enhancement for driver debuggability, affects driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs from Huawei team, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, David Miller maintainer, cross-org review"}}, "score_justification": "Message level control feature for hns3 driver via module param and ethtool", "code_snippet": "@@ -590,6 +590,9 @@ struct hnae3_handle {\n \n \tu8 netdev_flags;\n \tstruct dentry *hnae3_dbgfs;\n+\n+\t/* Network interface message level enabled bits */\n+\tu32 msg_enable;\n };\n \n #define hnae3_set_field(origin, mask, shift, val) \\\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 4c96f94d4502..142fe6eed761 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bb87be87b1658f7ee95c0b7625553a6e7f8fea1c"}
{"commit_hash": "e511c97d0a26454dc2b4b478a7fd90802fca0b6a", "short_hash": "e511c97d0a26", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: dump more information when tx timeout happens", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 72, "deletions": 9, "hunks": 12, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change: 4 files, 12 hunks, +72/-9 lines in network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Debug enhancement for existing driver, helps users of specific NIC"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple internal reviewers, good explanation of why, no testing tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net maintainer David S. Miller committed"}}, "score_justification": "Debug enhancement adding detailed tx timeout diagnostics for Hisilicon NIC", "code_snippet": "@@ -1628,9 +1628,15 @@ static int hns3_nic_change_mtu(struct net_device *netdev, int new_mtu)\n static bool hns3_get_tx_timeo_queue_info(struct net_device *ndev)\n {\n \tstruct hns3_nic_priv *priv = netdev_priv(ndev);\n+\tstruct hnae3_handle *h = hns3_get_handle(ndev);\n \tstruct hns3_enet_ring *tx_ring = NULL;\n+\tstruct napi_struct *napi;\n \tint timeout_queue = 0;\n \tint hw_head, hw_tail;\n+\tint fbd_num, fbd_oft;\n+\tint ebd_num, ebd_oft;\n+\tint bd_num, bd_err;\n+\tint ring_en, tc;\n \tint i;\n \n \t/* Find the stopped queue the same way the stack does */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e511c97d0a26454dc2b4b478a7fd90802fca0b6a"}
{"commit_hash": "fa6c4084b98b82c98cada0f0d5c9f8577579f962", "short_hash": "fa6c4084b98b", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-19T11:05:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-19T18:43:16-07:00", "subject": "net: hns3: fix loop condition of hns3_get_tx_timeo_queue_info()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 424eb834a9be (\"net: hns3: Unified HNS3 {VF|PF} Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with Fixes tag, affects hns3 driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with Fixes tag, internal review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer"}}, "score_justification": "Loop condition bug fix in hns3 network driver using wrong queue count", "code_snippet": "@@ -1634,7 +1634,7 @@ static bool hns3_get_tx_timeo_queue_info(struct net_device *ndev)\n \tint i;\n \n \t/* Find the stopped queue the same way the stack does */\n-\tfor (i = 0; i < ndev->real_num_tx_queues; i++) {\n+\tfor (i = 0; i < ndev->num_tx_queues; i++) {\n \t\tstruct netdev_queue *q;\n \t\tunsigned long trans_start;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa6c4084b98b82c98cada0f0d5c9f8577579f962"}
{"commit_hash": "28156d7678431312b463361b23a218a1b5645ba5", "short_hash": "28156d767843", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-12-28T07:24:13Z", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-19T19:25:08+02:00", "subject": "x86/mce: Fix debugfs_simple_attr.cocci warnings", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel/cpu/mce"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 9, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical x86 MCE subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Coccinelle-generated with proper Cc tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Coccinelle-generated debugfs API migration from DEFINE_SIMPLE_ATTRIBUTE to DEFINE_DEBUGFS_ATTRIBUTE", "code_snippet": "@@ -2429,8 +2429,8 @@ static int fake_panic_set(void *data, u64 val)\n \treturn 0;\n }\n \n-DEFINE_SIMPLE_ATTRIBUTE(fake_panic_fops, fake_panic_get,\n-\t\t\tfake_panic_set, \"%llu\\n\");\n+DEFINE_DEBUGFS_ATTRIBUTE(fake_panic_fops, fake_panic_get, fake_panic_set,\n+\t\t\t \"%llu\\n\");\n \n static int __init mcheck_debugfs_init(void)\n {", "flags": ["COCCINELLE_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/28156d7678431312b463361b23a218a1b5645ba5"}
{"commit_hash": "cc76404feaed597bb4f5234d34d3f49e2d1139bf", "short_hash": "cc76404feaed", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-26T18:29:51+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-04-20T22:02:35+10:00", "subject": "powerpc/8xx: Fix possible device node reference leak", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: a8db8cf0d894 (\"irq_domain: Replace irq_alloc_host() with revmap-specific initializers\")", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc/platforms/8xx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Peng Hao <peng.hao2@zte.com.cn> (ZTE)", "Christophe Leroy <christophe.leroy@c-s.fr> (C-s)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in arch platform code"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with Fixes tag"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Good message with Fixes, coccinelle, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: ZTE author, C-S.fr reviewer, mpe committer"}}, "score_justification": "Device node refcount leak in powerpc/8xx error path", "code_snippet": "@@ -153,10 +153,9 @@ int mpc8xx_pic_init(void)\n \tif (mpc8xx_pic_host == NULL) {\n \t\tprintk(KERN_ERR \"MPC8xx PIC: failed to allocate irq host!\\n\");\n \t\tret = -ENOMEM;\n-\t\tgoto out;\n \t}\n-\treturn 0;\n \n+\tret = 0;\n out:\n \tof_node_put(np);\n \treturn ret;\n", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/cc76404feaed597bb4f5234d34d3f49e2d1139bf"}
{"commit_hash": "f6b50160a06d4a0d6a3999ab0c5aec4f52dba248", "short_hash": "f6b50160a06d", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-22T21:23:21+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-22T09:48:12-06:00", "subject": "brd: re-enable __GFP_HIGHMEM in brd_insert_page()", "primary_category": "BUG-REGRESSION", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 7a862fbbdec6 (\"brd: remove dax support\")", "cc_stable": true, "subsystem_prefix": "drivers/block", "subsystems_touched": ["drivers/block"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 18, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in block driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable backport"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and stable CC"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with kernel.org maintainer"}}, "score_justification": "Restores __GFP_HIGHMEM flag after DAX removal caused regression", "code_snippet": "@@ -96,13 +96,8 @@ static struct page *brd_insert_page(struct brd_device *brd, sector_t sector)\n \t/*\n \t * Must use NOIO because we don't want to recurse back into the\n \t * block or filesystem layers from page reclaim.\n-\t *\n-\t * Cannot support DAX and highmem, because our ->direct_access\n-\t * routine for DAX must return memory that is always addressable.\n-\t * If DAX was reworked to use pfns and kmap throughout, this\n-\t * restriction might be able to be lifted.\n \t */\n-\tgfp_flags = GFP_NOIO | __GFP_ZERO;\n+\tgfp_flags = GFP_NOIO | __GFP_ZERO | __GFP_HIGHMEM;\n \tpage = alloc_page(gfp_flags);\n \tif (!page)\n \t\treturn NULL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f6b50160a06d4a0d6a3999ab0c5aec4f52dba248"}
{"commit_hash": "6fcc44d1d77fea3c7230e4d109b37f6977aa675a", "short_hash": "6fcc44d1d77f", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-04-02T20:06:34+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-04-22T09:48:12-06:00", "subject": "block: fix use-after-free on gendisk", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: 2da78092dda1 (\"block: Fix dev_t minor allocation lifetime\")", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 3, "insertions": 27, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Bart Van Assche <bvanassche@acm.org> (Acm)", "Keith Busch <keith.busch@intel.com> (Intel)", "Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 55, "score_technical": 12, "score_impact": 24, "score_quality": 15, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical block subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Use-after-free vulnerability affecting block devices"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent commit message with race diagram"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from kernel.org"}}, "score_justification": "Use-after-free race in block layer with detailed analysis and solution", "code_snippet": "@@ -531,6 +531,18 @@ void blk_free_devt(dev_t devt)\n \t}\n }\n \n+/**\n+ *\tWe invalidate devt by assigning NULL pointer for devt in idr.\n+ */\n+void blk_invalidate_devt(dev_t devt)\n+{\n+\tif (MAJOR(devt) == BLOCK_EXT_MAJOR) {\n+\t\tspin_lock_bh(&ext_devt_lock);\n+\t\tidr_replace(&ext_devt_idr, NULL, blk_mangle_minor(MINOR(devt)));\n+\t\tspin_unlock_bh(&ext_devt_lock);\n+\t}\n+}\n+\n static char *bdevt_str(dev_t devt, char *buf)\n {\n \tif (MAJOR(devt) <= 0xff && MINOR(devt) <= 0xff) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6fcc44d1d77fea3c7230e4d109b37f6977aa675a"}
{"commit_hash": "b105581a1939b08ce70d8aa437ff68a032960b16", "short_hash": "b105581a1939", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-29T04:37:14-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-22T11:02:39-04:00", "subject": "media: mtk-vcodec: enlarge struct vdec_pic_info fields", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/platform", "subsystems_touched": ["drivers/media/platform/mtk-vcodec"], "subsystem_tier": 4, "files_changed": 5, "insertions": 57, "deletions": 40, "hunks": 24, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 15, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change across 5 files in media driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for MediaTek codec users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 6, "details": "Two sign-offs from maintainers, basic commit message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Mediatek, committer from different org"}}, "score_justification": "Functional enhancement refactoring struct fields to support more planes and format changes", "code_snippet": "@@ -129,9 +129,9 @@ static struct vb2_buffer *get_display_buffer(struct mtk_vcodec_ctx *ctx)\n \tmutex_lock(&ctx->lock);\n \tif (dstbuf->used) {\n \t\tvb2_set_plane_payload(&dstbuf->vb.vb2_buf, 0,\n-\t\t\t\t\tctx->picinfo.y_bs_sz);\n+\t\t\t\t\tctx->picinfo.fb_sz[0]);\n \t\tvb2_set_plane_payload(&dstbuf->vb.vb2_buf, 1,\n-\t\t\t\t\tctx->picinfo.c_bs_sz);\n+\t\t\t\t\tctx->picinfo.fb_sz[1]);\n \n \t\tmtk_v4l2_debug(2,\n \t\t\t\t\"[%d]status=%x queue id=%d to done_list %d\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b105581a1939b08ce70d8aa437ff68a032960b16"}
{"commit_hash": "411a414b26aa107ddbbd6995e464f6cc18a1aa8c", "short_hash": "411a414b26aa", "author_name": "Maoguang Meng", "author_email": "maoguang.meng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T04:18:38-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-22T11:42:19-04:00", "subject": "media: mtk-vcodec: fix vp9 content playback error with show exist frame", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/platform/mtk-vcodec", "subsystems_touched": ["drivers/media/platform"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["Maoguang Meng <maoguang.meng@mediatek.com> (MediaTek)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver subsystem (1 file, 6 hunks, +7-9 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting VP9 video playback on MediaTek hardware"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 7, "details": "3 Signed-off-by tags, clear message but lacks Fixes: tag and testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, committer from Samsung, different orgs"}}, "score_justification": "VP9 decoder fix for MediaTek vcodec driver: buffer size check and frame reference handling", "code_snippet": "@@ -481,15 +481,15 @@ static void vp9_swap_frm_bufs(struct vdec_vp9_inst *inst)\n \t\t */\n \t\tif ((frm_to_show->fb != NULL) &&\n \t\t\t(inst->cur_fb->base_y.size >=\n-\t\t\tfrm_to_show->fb->base_y.size)) {\n+\t\t\tfrm_to_show->fb->base_y.size) &&\n+\t\t\t(inst->cur_fb->base_c.size >=\n+\t\t\tfrm_to_show->fb->base_c.size)) {\n \t\t\tmemcpy((void *)inst->cur_fb->base_y.va,\n \t\t\t\t(void *)frm_to_show->fb->base_y.va,\n-\t\t\t\tvsi->buf_w *\n-\t\t\t\tvsi->buf_h);\n+\t\t\t\tfrm_to_show->fb->base_y.size);\n \t\t\tmemcpy((void *)inst->cur_fb->base_c.va,\n \t\t\t\t(void *)frm_to_show->fb->base_c.va,\n-\t\t\t\tvsi->buf_w *\n-\t\t\t\tvsi->buf_h / 2);\n+\t\t\t\tfrm_to_show->fb->base_c.size);\n \t\t} else {\n \t\t\t/* After resolution change case, current CAPTURE buffer", "flags": ["MISSING_FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/411a414b26aa107ddbbd6995e464f6cc18a1aa8c"}
{"commit_hash": "2c4645439e8f2f6e7c37f158feae6f6a82baa910", "short_hash": "2c4645439e8f", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-22T10:49:43+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-22T11:42:59+02:00", "subject": "x86/irq: Fix outdated comments", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/include/asm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 5, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical x86 subsystem header"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Comment-only cleanup with no runtime impact"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Well-explained with references, maintainer review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Tencent author, kernel.org maintainer"}}, "score_justification": "Comment cleanup in x86 interrupt vector header removing obsolete references", "code_snippet": "@@ -18,8 +18,8 @@\n  *  Vectors   0 ...  31 : system traps and exceptions - hardcoded events\n  *  Vectors  32 ... 127 : device interrupts\n  *  Vector  128         : legacy int80 syscall interface\n- *  Vectors 129 ... INVALIDATE_TLB_VECTOR_START-1 except 204 : device interrupts\n- *  Vectors INVALIDATE_TLB_VECTOR_START ... 255 : special interrupts\n+ *  Vectors 129 ... LOCAL_TIMER_VECTOR-1\n+ *  Vectors LOCAL_TIMER_VECTOR ... 255 : special interrupts\n  *\n  * 64-bit x86 has per CPU IDT tables, 32-bit has one shared IDT table.\n  *\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c4645439e8f2f6e7c37f158feae6f6a82baa910"}
{"commit_hash": "1e98a8400ae8712f2b2d52ed6c1c6231607ed854", "short_hash": "1e98a8400ae8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:45:32-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-22T13:03:22-04:00", "subject": "media: si2165: fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media", "subsystems_touched": ["drivers/media/dvb-frontends"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 5, "score_impact": 6, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single deletion in media driver via Coccinelle"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Auto-generated with proper Signed-off-by chain"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Samsung maintainer, multiple reviewers"}}, "score_justification": "Coccinelle-generated cleanup removing redundant .owner field", "code_snippet": "@@ -1301,7 +1301,6 @@ MODULE_DEVICE_TABLE(i2c, si2165_id_table);\n \n static struct i2c_driver si2165_driver = {\n \t.driver = {\n-\t\t.owner\t= THIS_MODULE,\n \t\t.name\t= \"si2165\",\n \t},\n \t.probe\t\t= si2165_probe,\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/1e98a8400ae8712f2b2d52ed6c1c6231607ed854"}
{"commit_hash": "a60170000338c59b4de43e7c6e38413b8a748f0d", "short_hash": "a60170000338", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:02+08:00", "committer_name": "Guenter Roeck", "committer_email": "linux@roeck-us.net", "committer_company": "Roeck-us", "commit_date": "2019-04-23T06:43:32-07:00", "subject": "hwmon: (s3c) Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "hwmon", "subsystems_touched": ["drivers/hwmon"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 6, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in tier-4 driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Minimal message, maintainer ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, roeck-us.net maintainer"}}, "score_justification": "Platform driver API migration from platform_get_drvdata to dev_get_drvdata", "code_snippet": "@@ -98,7 +98,7 @@ static int s3c_hwmon_read_ch(struct device *dev,\n static ssize_t s3c_hwmon_show_raw(struct device *dev,\n \t\t\t\t  struct device_attribute *attr, char *buf)\n {\n-\tstruct s3c_hwmon *adc = platform_get_drvdata(to_platform_device(dev));\n+\tstruct s3c_hwmon *adc = dev_get_drvdata(dev);\n \tstruct sensor_device_attribute *sa = to_sensor_dev_attr(attr);\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a60170000338c59b4de43e7c6e38413b8a748f0d"}
{"commit_hash": "a93f7fe134543649cf2e2d8fc2c50a8f4d742915", "short_hash": "a93f7fe13454", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-04-22T21:52:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-23T10:40:32-07:00", "subject": "net: phy: marvell: add new default led configure for m88e151x", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/phy", "subsystems_touched": ["drivers/net/ethernet/hisilicon", "drivers/net/phy", "include/linux"], "subsystem_tier": 3, "files_changed": 3, "insertions": 9, "deletions": 1, "hunks": 10, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 12, "details": "Small change across driver and phy subsystems"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support for specific board LED configuration"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Adds LED configuration option for Marvell PHY on specific boards", "code_snippet": "@@ -633,7 +634,10 @@ static void marvell_config_led(struct phy_device *phydev)\n \t * LED[2] .. Blink, Activity\n \t */\n \tcase MARVELL_PHY_FAMILY_ID(MARVELL_PHY_ID_88E1510):\n-\t\tdef_config = MII_88E1510_PHY_LED_DEF;\n+\t\tif (phydev->dev_flags & MARVELL_PHY_LED0_LINK_LED1_ACTIVE)\n+\t\t\tdef_config = MII_88E1510_PHY_LED0_LINK_LED1_ACTIVE;\n+\t\telse\n+\t\t\tdef_config = MII_88E1510_PHY_LED_DEF;\n \t\tbreak;\n \tdefault:\n \t\treturn;\ndiff --git a/include/linux/marvell_phy.h b/include/linux/marvell_phy.h\nindex 73d04743a2bb..af6b11d4d673 100644\n--- a/include/linux/marvell_phy.h\n+++ b/include/linux/marvell_phy.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a93f7fe134543649cf2e2d8fc2c50a8f4d742915"}
{"commit_hash": "b0f65b917987dee71d0b1d3c65c0b52db00a55e0", "short_hash": "b0f65b917987", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:49:56+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-04-23T10:57:12+02:00", "subject": "ACPI / DPTF: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "acpi", "subsystems_touched": ["drivers/acpi/dptf"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 9, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical ACPI subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with simple message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, different maintainer"}}, "score_justification": "API migration from platform_get_drvdata to dev_get_drvdata in ACPI driver", "code_snippet": "@@ -31,8 +31,7 @@ static ssize_t name##_show(struct device *dev,\\\n \t\t\t   struct device_attribute *attr,\\\n \t\t\t   char *buf)\\\n {\\\n-\tstruct platform_device *pdev = to_platform_device(dev);\\\n-\tstruct acpi_device *acpi_dev = platform_get_drvdata(pdev);\\\n+\tstruct acpi_device *acpi_dev = dev_get_drvdata(dev);\\\n \tunsigned long long val;\\\n \tacpi_status status;\\\n \\\n", "flags": ["MAYBE_AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/b0f65b917987dee71d0b1d3c65c0b52db00a55e0"}
{"commit_hash": "44b9f86cd41db6c522effa5aec251d664a52fbc0", "short_hash": "44b9f86cd41d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-12T14:02:22+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-23T10:59:47+02:00", "subject": "pinctrl: samsung: fix leaked of_node references", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/samsung"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Krzysztof Kozlowski <krzk@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 1-line fix in pinctrl driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix affecting Samsung pinctrl users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by tag, detailed Coccinelle detection explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Linaro maintainer, cross-company review"}}, "score_justification": "Device tree reference leak fix detected by Coccinelle, cross-org review", "code_snippet": "@@ -71,6 +71,7 @@ s5pv210_retention_init(struct samsung_pinctrl_drv_data *drvdata,\n \t}\n \n \tclk_base = of_iomap(np, 0);\n+\tof_node_put(np);\n \tif (!clk_base) {\n \t\tpr_err(\"%s: failed to map clock registers\\n\", __func__);\n \t\treturn ERR_PTR(-EINVAL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44b9f86cd41db6c522effa5aec251d664a52fbc0"}
{"commit_hash": "483d70d73beaecab55882fcd2a357af72674e24c", "short_hash": "483d70d73bea", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-12T14:02:21+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-23T11:01:17+02:00", "subject": "pinctrl: st: fix leaked of_node references", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 10, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Patrice Chotard <patrice.chotard@st.com> (STMicroelectronics)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in pinctrl driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with error path cleanup"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed with detailed coccinelle report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company author/committer with review"}}, "score_justification": "Resource leak fix adding proper error path cleanup for device node references", "code_snippet": "@@ -1195,8 +1196,10 @@ static int st_pctl_dt_parse_groups(struct device_node *np,\n \tgrp->pin_conf = devm_kcalloc(info->dev,\n \t\t\t\t\tnpins, sizeof(*conf), GFP_KERNEL);\n \n-\tif (!grp->pins || !grp->pin_conf)\n-\t\treturn -ENOMEM;\n+\tif (!grp->pins || !grp->pin_conf) {\n+\t\tret = -ENOMEM;\n+\t\tgoto out_put_node;\n+\t}\n \n \t/* <bank offset mux direction rt_type rt_delay rt_clk> */\n \tfor_each_property_of_node(pins, pp) {", "flags": ["AUTO_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/483d70d73beaecab55882fcd2a357af72674e24c"}
{"commit_hash": "fe066621c7966fe47fa17c6be6fd81adb3c0509f", "short_hash": "fe066621c796", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-12T23:19:11+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-04-23T11:30:59+02:00", "subject": "gpio: merrifield: Fix build err without CONFIG_ACPI", "primary_category": "BUILD-FIX", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "Fixes: d00d2109c367 (\"gpio: merrifield: Convert to use acpi_dev_get_first_match_dev()\")", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["drivers/gpio", "include/acpi", "include/linux"], "subsystem_tier": 4, "files_changed": 3, "insertions": 7, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": ["Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 11, "score_impact": 12, "score_quality": 14, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 3, "subtotal": 11, "details": "Small cross-subsystem fix touching GPIO and ACPI headers"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix affecting Merrifield platform users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Well-reviewed with good message and proper tags"}, "community": {"cross_org": 3, "maintainer": 3, "response": 2, "subtotal": 8, "details": "Huawei author, Intel committer, cross-company review"}}, "score_justification": "Build error fix introducing acpi_dev_put wrapper API for CONFIG_ACPI=n", "code_snippet": "@@ -687,6 +687,10 @@ static inline bool acpi_device_can_poweroff(struct acpi_device *adev)\n \t\tadev->power.states[ACPI_STATE_D3_HOT].flags.explicit_set);\n }\n \n+static inline void acpi_dev_put(struct acpi_device *adev)\n+{\n+\tput_device(&adev->dev);\n+}\n #else\t/* CONFIG_ACPI */\n \n static inline int register_acpi_bus_type(void *bus) { return 0; }\ndiff --git a/include/linux/acpi.h b/include/linux/acpi.h\nindex 392413075cc0..ca55ae00f8c9 100644\n--- a/include/linux/acpi.h\n+++ b/include/linux/acpi.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fe066621c7966fe47fa17c6be6fd81adb3c0509f"}
{"commit_hash": "44a4455ac2c6b0981eace683a2b6eccf47689022", "short_hash": "44a4455ac2c6", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-12T14:02:19+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-23T12:34:11+02:00", "subject": "pinctrl: pistachio: fix leaked of_node references", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line fix in pinctrl driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting specific platform users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with coccinelle detection reference, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from ZTE to Linaro maintainer"}}, "score_justification": "Device tree reference leak fix detected by coccinelle, small scoped change", "code_snippet": "@@ -1367,6 +1367,7 @@ static int pistachio_gpio_register(struct pistachio_pinctrl *pctl)\n \t\tif (!of_find_property(child, \"gpio-controller\", NULL)) {\n \t\t\tdev_err(pctl->dev,\n \t\t\t\t\"No gpio-controller property for bank %u\\n\", i);\n+\t\t\tof_node_put(child);\n \t\t\tret = -ENODEV;\n \t\t\tgoto err;\n \t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44a4455ac2c6b0981eace683a2b6eccf47689022"}
{"commit_hash": "1e9aa2a8164fa5b443b10962045eef01d7eeb9f7", "short_hash": "1e9aa2a8164f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T22:56:12+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-04-23T13:02:15+02:00", "subject": "gpio: pxa: Make two symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["drivers/gpio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 4, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 3, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny 2-line change in GPIO driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean message with Reported-by and dual Signed-off-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer, internal robot report"}}, "score_justification": "Sparse warning fix adding static to two symbols in GPIO driver", "code_snippet": "@@ -577,7 +577,7 @@ static int pxa_irq_domain_map(struct irq_domain *d, unsigned int irq,\n \treturn 0;\n }\n \n-const struct irq_domain_ops pxa_irq_domain_ops = {\n+static const struct irq_domain_ops pxa_irq_domain_ops = {\n \t.map\t= pxa_irq_domain_map,\n \t.xlate\t= irq_domain_xlate_twocell,\n };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e9aa2a8164fa5b443b10962045eef01d7eeb9f7"}
{"commit_hash": "afa8d3160add52e79c1d022ce22d20528d462910", "short_hash": "afa8d3160add", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-14T05:02:00+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:07+02:00", "subject": "Bluetooth: btsdio: Use module_sdio_driver helper", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 14, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change simplifying Bluetooth driver initialization code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification using existing driver helper macro, no behavior change"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed and acked by maintainer, clear explanation of simplification benefit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, maintainer from different org, proper maintainer sign-off"}}, "score_justification": "Code simplification replacing boilerplate init/exit functions with module_sdio_driver helper macro", "code_snippet": "@@ -376,20 +376,7 @@ static struct sdio_driver btsdio_driver = {\n \t.id_table\t= btsdio_table,\n };\n \n-static int __init btsdio_init(void)\n-{\n-\tBT_INFO(\"Generic Bluetooth SDIO driver ver %s\", VERSION);\n-\n-\treturn sdio_register_driver(&btsdio_driver);\n-}\n-\n-static void __exit btsdio_exit(void)\n-{\n-\tsdio_unregister_driver(&btsdio_driver);\n-}\n-\n-module_init(btsdio_init);\n-module_exit(btsdio_exit);\n+module_sdio_driver(btsdio_driver);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/afa8d3160add52e79c1d022ce22d20528d462910"}
{"commit_hash": "a6094a468ffca372cb0107cc6bafc7c992477e7b", "short_hash": "a6094a468ffc", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-14T05:01:59+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:07+02:00", "subject": "Bluetooth: mediatek: Use module_sdio_driver helper", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 14, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in Bluetooth driver using standard helper macro"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with no functional change, affects MediaTek BT users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by from maintainer, clear explanation of macro usage"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs, Suggested-by indicates collaboration"}}, "score_justification": "Code simplification converting boilerplate module init/exit to module_sdio_driver macro", "code_snippet": "@@ -956,20 +956,7 @@ static struct sdio_driver btmtksdio_driver = {\n \t.id_table\t= btmtksdio_table,\n };\n \n-static int __init btmtksdio_init(void)\n-{\n-\tBT_INFO(\"MediaTek Bluetooth SDIO driver ver %s\", VERSION);\n-\n-\treturn sdio_register_driver(&btmtksdio_driver);\n-}\n-\n-static void __exit btmtksdio_exit(void)\n-{\n-\tsdio_unregister_driver(&btmtksdio_driver);\n-}\n-\n-module_init(btmtksdio_init);\n-module_exit(btmtksdio_exit);\n+module_sdio_driver(btmtksdio_driver);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a6094a468ffca372cb0107cc6bafc7c992477e7b"}
{"commit_hash": "db0a390835209c1c5dce7669de3d23a8cba10f34", "short_hash": "db0a39083520", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-14T05:01:58+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:07+02:00", "subject": "mmc: sdio: Add helper macro for sdio_driver boilerplate", "primary_category": "FEAT-API", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["mmc/sdio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small API addition in MMC subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "New helper macro for SDIO driver registration"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed by maintainer, clear documentation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org review from Linaro maintainer"}}, "score_justification": "New helper macro for SDIO drivers to reduce boilerplate code", "code_snippet": "@@ -111,6 +111,18 @@ struct sdio_driver {\n extern int sdio_register_driver(struct sdio_driver *);\n extern void sdio_unregister_driver(struct sdio_driver *);\n \n+/**\n+ * module_sdio_driver() - Helper macro for registering a SDIO driver\n+ * @__sdio_driver: sdio_driver struct\n+ *\n+ * Helper macro for SDIO drivers which do not do anything special in module\n+ * init/exit. This eliminates a lot of boilerplate. Each module may only\n+ * use this macro once, and calling it replaces module_init() and module_exit()\n+ */\n+#define module_sdio_driver(__sdio_driver) \\\n+\tmodule_driver(__sdio_driver, sdio_register_driver, \\\n+\t\t      sdio_unregister_driver)\n+\n /*\n  * SDIO I/O operations\n  */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/db0a390835209c1c5dce7669de3d23a8cba10f34"}
{"commit_hash": "9aebfd4a2200ab8075e44379c758bccefdc589bb", "short_hash": "9aebfd4a2200", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-08T09:15:44+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:07+02:00", "subject": "Bluetooth: mediatek: add support for MediaTek MT7663S and MT7668S SDIO devices", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 3, "insertions": 991, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 53, "score_technical": 18, "score_impact": 20, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 18, "details": "New driver with 991 lines in bluetooth subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "Complete new driver for MediaTek SDIO Bluetooth devices"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-documented with detailed commit message explaining differences"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, different maintainer committer"}}, "score_justification": "New MediaTek SDIO Bluetooth driver adding MT7663S and MT7668S support with custom register layout and packet format", "code_snippet": "@@ -379,6 +379,17 @@ config BT_WILINK\n \t  Say Y here to compile support for Texas Instrument's WiLink7 driver\n \t  into the kernel or say M to compile it as module (btwilink).\n \n+config BT_MTKSDIO\n+\ttristate \"MediaTek HCI SDIO driver\"\n+\tdepends on MMC\n+\thelp\n+\t  MediaTek Bluetooth HCI SDIO driver.\n+\t  This driver is required if you want to use MediaTek Bluetooth\n+\t  with SDIO interface.\n+\n+\t  Say Y here to compile support for MediaTek Bluetooth SDIO devices\n+\t  into the kernel or say M to compile it as module (btmtksdio).\n+\n config BT_MTKUART\n \ttristate \"MediaTek HCI UART driver\"\n \tdepends on SERIAL_DEV_BUS\ndiff --git a/drivers/bluetooth/Makefile b/drivers/bluetooth/Makefile\nindex b7e393cfc1e3..34887b9b3a85 100644", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9aebfd4a2200ab8075e44379c758bccefdc589bb"}
{"commit_hash": "756e161993824961fad4ba62c40045d9ab65bdb8", "short_hash": "756e16199382", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-08T09:15:43+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:07+02:00", "subject": "mmc: add SDIO identifiers for MediaTek Bluetooth devices", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["mmc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change adding 2 defines in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Functional change for MediaTek Bluetooth users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic signed-off chain, simple message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Holtmann maintainer"}}, "score_justification": "Adds MediaTek SDIO vendor ID to central MMC header", "code_snippet": "@@ -59,6 +59,8 @@\n #define SDIO_DEVICE_ID_MARVELL_8797_F0\t\t0x9128\n #define SDIO_DEVICE_ID_MARVELL_8887WLAN\t0x9134\n \n+#define SDIO_VENDOR_ID_MEDIATEK\t\t\t0x037a\n+\n #define SDIO_VENDOR_ID_SIANO\t\t\t0x039a\n #define SDIO_DEVICE_ID_SIANO_NOVA_B0\t\t0x0201\n #define SDIO_DEVICE_ID_SIANO_NICE\t\t0x0202\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/756e161993824961fad4ba62c40045d9ab65bdb8"}
{"commit_hash": "cac63f9b163700fb70a609ad220697c61b797d6b", "short_hash": "cac63f9b1637", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-05T08:14:25+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:08+02:00", "subject": "Bluetooth: mediatek: Fixed incorrect type in assignment", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 22eaf6c9946a (\"Bluetooth: mediatek: add support for MediaTek MT7663U and MT7668U UART devices\")", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kernel test robot <lkp@intel.com> (Intel)"]}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in Bluetooth driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Detailed message with Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company with external report"}}, "score_justification": "Sparse warning fix for incorrect type assignment, cross-org review with external report", "code_snippet": "@@ -661,7 +661,7 @@ static int btmtkuart_change_baudrate(struct hci_dev *hdev)\n {\n \tstruct btmtkuart_dev *bdev = hci_get_drvdata(hdev);\n \tstruct btmtk_hci_wmt_params wmt_params;\n-\tu32 baudrate;\n+\t__le32 baudrate;\n \tu8 param;\n \tint err;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cac63f9b163700fb70a609ad220697c61b797d6b"}
{"commit_hash": "637c8e9013912f3161260bcaf74a184440aae363", "short_hash": "637c8e901391", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-19T04:58:33+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:09:08+02:00", "subject": "Bluetooth: btmtksdio: fix uninitialized symbol errors in btmtksdio_rx_packet", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d74eef2834b5 (\"Bluetooth: mediatek: add support for MediaTek MT7663S and MT7668S SDIO devices\")", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 10-line deletion in driver code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Detailed message with Reported-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "External reporters + different committer"}}, "score_justification": "Compiler warning fix removing potentially uninitialized variables", "code_snippet": "@@ -392,12 +390,6 @@ static int btmtksdio_rx_packet(struct btmtksdio_dev *bdev, u16 rx_size)\n \tif (err < 0)\n \t\tgoto err_kfree_skb;\n \n-\t/* Keep old data for dump the content in case of some error is\n-\t * caught in the following packet parsing.\n-\t */\n-\told_data = skb->data;\n-\told_len = skb->len;\n-\n \tbdev->hdev->stat.byte_rx += rx_size;\n \n \tsdio_hdr = (void *)skb->data;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/637c8e9013912f3161260bcaf74a184440aae363"}
{"commit_hash": "7f3c563c575e73c689fe2762c5ec61159caa1568", "short_hash": "7f3c563c575e", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-18T17:08:02+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:36:20+02:00", "subject": "Bluetooth: btmtksdio: Add runtime PM support to SDIO based Bluetooth", "primary_category": "FEAT-POWER", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 144, "deletions": 0, "hunks": 28, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized change (144 lines, 28 hunks) in bluetooth driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Power management feature affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Maintainer signed off, message explains benefit, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, different org maintainer signed off"}}, "score_justification": "Runtime PM feature addition for MediaTek Bluetooth SDIO driver with proper power state management", "code_snippet": "@@ -471,6 +482,18 @@ static void btmtksdio_interrupt(struct sdio_func *func)\n \tu32 int_status;\n \tu16 rx_size;\n \n+\t/* It is required that the host gets ownership from the device before\n+\t * accessing any register, however, if SDIO host is not being released,\n+\t * a potential deadlock probably happens in a circular wait between SDIO\n+\t * IRQ work and PM runtime work. So, we have to explicitly release SDIO\n+\t * host here and claim again after the PM runtime work is all done.\n+\t */\n+\tsdio_release_host(bdev->func);\n+\n+\tpm_runtime_get_sync(bdev->dev);\n+\n+\tsdio_claim_host(bdev->func);\n+\n \t/* Disable interrupt */\n \tsdio_writel(func, C_INT_EN_CLR, MTK_REG_CHLPCR, 0);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f3c563c575e73c689fe2762c5ec61159caa1568"}
{"commit_hash": "bcaa7d72dffddfa4196a37108d67fc12fb4edfca", "short_hash": "bcaa7d72dffd", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-18T17:08:01+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:36:20+02:00", "subject": "Bluetooth: btmtksdio: Fix hdev->stat.byte_rx accumulation", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in Bluetooth driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Statistics fix affecting Bluetooth driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic message with 2 Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, maintainer committer"}}, "score_justification": "Statistics accounting fix moving byte_rx increment to after validation", "code_snippet": "@@ -391,8 +391,6 @@ static int btmtksdio_rx_packet(struct btmtksdio_dev *bdev, u16 rx_size)\n \tif (err < 0)\n \t\tgoto err_kfree_skb;\n \n-\tbdev->hdev->stat.byte_rx += rx_size;\n-\n \tsdio_hdr = (void *)skb->data;\n \n \t/* We assume the default error as -EILSEQ simply to make the error path", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bcaa7d72dffddfa4196a37108d67fc12fb4edfca"}
{"commit_hash": "2e47cc2b3a7dcef7deab3301796f21f80e161b13", "short_hash": "2e47cc2b3a7d", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-18T17:08:00+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:36:20+02:00", "subject": "Bluetooth: btmtksdio: Add a bit definition for CHLPCR", "primary_category": "MAINT-NAMING", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in Bluetooth driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Naming clarity fix for Bluetooth device users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation, two reviewers, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (BlueZ) different orgs"}}, "score_justification": "Register bit definition clarification to prevent read/write confusion", "code_snippet": "@@ -56,7 +56,8 @@ static const struct sdio_device_id btmtksdio_table[] = {\n #define MTK_REG_CHLPCR\t\t0x4\t/* W1S */\n #define C_INT_EN_SET\t\tBIT(0)\n #define C_INT_EN_CLR\t\tBIT(1)\n-#define C_FW_OWN_REQ_SET\tBIT(8)\n+#define C_FW_OWN_REQ_SET\tBIT(8)  /* For write */\n+#define C_COM_DRV_OWN\t\tBIT(8)  /* For read */\n #define C_FW_OWN_REQ_CLR\tBIT(9)\n \n #define MTK_REG_CSDIOCSR\t0x8", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e47cc2b3a7dcef7deab3301796f21f80e161b13"}
{"commit_hash": "e1052fb282a4e44d990e857c18edbd943d9ecdaf", "short_hash": "e1052fb282a4", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-18T17:07:59+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-04-23T18:36:20+02:00", "subject": "Bluetooth: btmtksdio: Drop newline with bt_dev logging macros", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in Bluetooth driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, clear message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company review by maintainer"}}, "score_justification": "Minor logging cleanup removing redundant newlines in Bluetooth driver", "code_snippet": "@@ -487,15 +487,15 @@ static void btmtksdio_interrupt(struct sdio_func *func)\n \tsdio_writel(func, int_status, MTK_REG_CHISR, NULL);\n \n \tif (unlikely(!int_status))\n-\t\tbt_dev_err(bdev->hdev, \"CHISR is 0\\n\");\n+\t\tbt_dev_err(bdev->hdev, \"CHISR is 0\");\n \n \tif (int_status & FW_OWN_BACK_INT)\n-\t\tbt_dev_dbg(bdev->hdev, \"Get fw own back\\n\");\n+\t\tbt_dev_dbg(bdev->hdev, \"Get fw own back\");\n \n \tif (int_status & TX_EMPTY)\n \t\tschedule_work(&bdev->tx_work);\n \telse if (unlikely(int_status & TX_FIFO_OVERFLOW))\n-\t\tbt_dev_warn(bdev->hdev, \"Tx fifo overflow\\n\");\n+\t\tbt_dev_warn(bdev->hdev, \"Tx fifo overflow\");\n \n \tif (int_status & RX_DONE_INT) {\n \t\trx_size = (int_status & RX_PKT_LEN) >> 16;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e1052fb282a4e44d990e857c18edbd943d9ecdaf"}
{"commit_hash": "fbd7af041586a15f5dc15b9ec051d25aa5ebe00a", "short_hash": "fbd7af041586", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:32:56+08:00", "committer_name": "Heiko Stuebner", "committer_email": "heiko@sntech.de", "committer_company": "Sntech", "commit_date": "2019-04-23T19:52:37+02:00", "subject": "ARM: rockchip: add missing of_node_put in rockchip_smp_prepare_pmu", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-rockchip"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Heiko Stuebner <heiko@sntech.de> (Sntech)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical ARM architecture code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting Rockchip SoC users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-documented with coccinelle detection, proper explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (ZTE author, different maintainer committer)"}}, "score_justification": "Missing of_nodeput causing refcount leak in Rockchip SMP PMU init", "code_snippet": "@@ -245,6 +245,7 @@ static int __init rockchip_smp_prepare_pmu(void)\n \t}\n \n \tpmu_base = of_iomap(node, 0);\n+\tof_node_put(node);\n \tif (!pmu_base) {\n \t\tpr_err(\"%s: could not map pmu registers\\n\", __func__);\n \t\treturn -ENOMEM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fbd7af041586a15f5dc15b9ec051d25aa5ebe00a"}
{"commit_hash": "6819e3f6d83a24777813b0d031ebe0861694db5a", "short_hash": "6819e3f6d83a", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-04-20T12:09:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-24T11:45:04-07:00", "subject": "net: vrf: Fix operation not supported when set vrf mac", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUG-COMPAT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hui Wang <wanghui104@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Compatibility fix for network device configuration"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean commit with Reported-by tag"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Internal Huawei commit with maintainer sign-off"}}, "score_justification": "Adds MAC address change support to VRF devices, fixing operation not supported error", "code_snippet": "@@ -875,6 +875,7 @@ static const struct net_device_ops vrf_netdev_ops = {\n \t.ndo_init\t\t= vrf_dev_init,\n \t.ndo_uninit\t\t= vrf_dev_uninit,\n \t.ndo_start_xmit\t\t= vrf_xmit,\n+\t.ndo_set_mac_address\t= eth_mac_addr,\n \t.ndo_get_stats64\t= vrf_get_stats64,\n \t.ndo_add_slave\t\t= vrf_add_slave,\n \t.ndo_del_slave\t\t= vrf_del_slave,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6819e3f6d83a24777813b0d031ebe0861694db5a"}
{"commit_hash": "51cf07a7b6cd99d9b910932e2af4e7282782e3fe", "short_hash": "51cf07a7b6cd", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T12:06:51+08:00", "committer_name": "Boris Ostrovsky", "committer_email": "boris.ostrovsky@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-25T10:33:59-04:00", "subject": "xenbus: drop useless LIST_HEAD in xenbus_write_watch() and xenbus_file_write()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1107ba885e469 (\"xen: add xenfs to allow usermode <-> Xen interaction\")", "cc_stable": false, "subsystem_prefix": "drivers/xen", "subsystems_touched": ["drivers/xen/xenbus"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Boris Ostrovsky <boris.ostrovsky@oracle.com> (Oracle)"], "reviewed_by": ["Juergen Gross <jgross@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 8, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny cleanup in Xen subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Low-impact cleanup with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review chain, clear message"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org (Huawei->Oracle->SUSE)"}}, "score_justification": "Minor cleanup removing unused declarations, cross-org review", "code_snippet": "@@ -465,7 +465,6 @@ static int xenbus_write_watch(unsigned msg_type, struct xenbus_file_priv *u)\n \tstruct watch_adapter *watch;\n \tchar *path, *token;\n \tint err, rc;\n-\tLIST_HEAD(staging_q);\n \n \tpath = u->u.buffer + sizeof(u->u.msg);\n \ttoken = memchr(path, 0, u->u.msg.len);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/51cf07a7b6cd99d9b910932e2af4e7282782e3fe"}
{"commit_hash": "2557fabd6e29f349bfa0ac13f38ac98aa5eafc74", "short_hash": "2557fabd6e29", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T17:30:26+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-04-25T10:40:04-03:00", "subject": "RDMA/hns: Bugfix for mapping user db", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 0425e3e6e0c7 (\"RDMA/hns: Support flush cqe for hip08 in kernel space\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line change in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix causing QP creation failure"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and error context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Regression fix for missing max_send_wr check causing doorbell map failures", "code_snippet": "@@ -533,7 +533,7 @@ static int hns_roce_set_kernel_sq_size(struct hns_roce_dev *hr_dev,\n \n static int hns_roce_qp_has_sq(struct ib_qp_init_attr *attr)\n {\n-\tif (attr->qp_type == IB_QPT_XRC_TGT)\n+\tif (attr->qp_type == IB_QPT_XRC_TGT || !attr->cap.max_send_wr)\n \t\treturn 0;\n \n \treturn 1;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2557fabd6e29f349bfa0ac13f38ac98aa5eafc74"}
{"commit_hash": "bdbd0a7f8f0342dd545cc3f1e47aa30265807846", "short_hash": "bdbd0a7f8f03", "author_name": "Long Cheng", "author_email": "long.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-25T16:41:31+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T11:37:42+02:00", "subject": "serial: 8250-mtk: modify baudrate setting", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial/8250"], "subsystem_tier": 3, "files_changed": 1, "insertions": 102, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Long Cheng <long.cheng@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in serial driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Flow control enhancement for MediaTek UART users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit message, self-committed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, Linux Foundation maintainer"}}, "score_justification": "Adds hardware/software flow control support to MediaTek 8250 UART driver", "code_snippet": "@@ -25,13 +25,28 @@\n #define MTK_UART_SAMPLE_COUNT\t0x0a\t/* Sample count register */\n #define MTK_UART_SAMPLE_POINT\t0x0b\t/* Sample point register */\n #define MTK_UART_RATE_FIX\t0x0d\t/* UART Rate Fix Register */\n+#define MTK_UART_ESCAPE_DAT\t0x10\t/* Escape Character register */\n+#define MTK_UART_ESCAPE_EN\t0x11\t/* Escape Enable register */\n #define MTK_UART_DMA_EN\t\t0x13\t/* DMA Enable register */\n #define MTK_UART_RXTRI_AD\t0x14\t/* RX Trigger address */\n #define MTK_UART_FRACDIV_L\t0x15\t/* Fractional divider LSB address */\n #define MTK_UART_FRACDIV_M\t0x16\t/* Fractional divider MSB address */\n+#define MTK_UART_IER_XOFFI\t0x20\t/* Enable XOFF character interrupt */\n+#define MTK_UART_IER_RTSI\t0x40\t/* Enable RTS Modem status interrupt */\n+#define MTK_UART_IER_CTSI\t0x80\t/* Enable CTS Modem status interrupt */\n+\n+#define MTK_UART_EFR_EN\t\t0x10\t/* Enable enhancement feature */\n+#define MTK_UART_EFR_RTS\t0x40\t/* Enable hardware rx flow control */\n+#define MTK_UART_EFR_CTS\t0x80\t/* Enable hardware tx flow control */\n+#define MTK_UART_EFR_NO_SW_FC\t0x0\t/* no sw flow control */\n+#define MTK_UART_EFR_XON1_XOFF1\t0xa\t/* XON1/XOFF1 as sw flow control */\n+#define MTK_UART_EFR_XON2_XOFF2\t0x5\t/* XON2/XOFF2 as sw flow control */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bdbd0a7f8f0342dd545cc3f1e47aa30265807846"}
{"commit_hash": "8ceeb4709845e38560a68b6c1b30cd607282abc0", "short_hash": "8ceeb4709845", "author_name": "Long Cheng", "author_email": "long.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-25T16:41:30+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T11:37:42+02:00", "subject": "serial: 8250-mtk: add follow control", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-NAMING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 3, "files_changed": 1, "insertions": 37, "deletions": 23, "hunks": 12, "review_chain": {"signed_off_by": ["Long Cheng <long.cheng@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in serial driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for specific driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 5, "details": "Basic message with only author SOB"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit by maintainer"}}, "score_justification": "Clock control feature addition to MediaTek UART driver with register renaming", "code_snippet": "@@ -21,12 +21,14 @@\n \n #include \"8250.h\"\n \n-#define UART_MTK_HIGHS\t\t0x09\t/* Highspeed register */\n-#define UART_MTK_SAMPLE_COUNT\t0x0a\t/* Sample count register */\n-#define UART_MTK_SAMPLE_POINT\t0x0b\t/* Sample point register */\n+#define MTK_UART_HIGHS\t\t0x09\t/* Highspeed register */\n+#define MTK_UART_SAMPLE_COUNT\t0x0a\t/* Sample count register */\n+#define MTK_UART_SAMPLE_POINT\t0x0b\t/* Sample point register */\n #define MTK_UART_RATE_FIX\t0x0d\t/* UART Rate Fix Register */\n-\n #define MTK_UART_DMA_EN\t\t0x13\t/* DMA Enable register */\n+#define MTK_UART_RXTRI_AD\t0x14\t/* RX Trigger address */\n+#define MTK_UART_FRACDIV_L\t0x15\t/* Fractional divider LSB address */\n+#define MTK_UART_FRACDIV_M\t0x16\t/* Fractional divider MSB address */\n #define MTK_UART_DMA_EN_TX\t0x2\n #define MTK_UART_DMA_EN_RX\t0x5\n ", "flags": ["MIXED_CHANGE"], "link": "https://lore.kernel.org/linux-kernel/8ceeb4709845e38560a68b6c1b30cd607282abc0"}
{"commit_hash": "8abd537256f58c1e502c01fc4112afcf7c4eda96", "short_hash": "8abd537256f5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T02:51:41Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T12:01:31+02:00", "subject": "staging: kpc2000: fix platform_no_drv_owner.cocci warnings", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -496,7 +496,6 @@ kp_spi_remove(struct platform_device *pldev)\n static struct platform_driver kp_spi_driver = {\n     .driver = {\n         .name =     KP_DRIVER_NAME_SPI,\n-        .owner =    THIS_MODULE,\n     },\n     .probe =    kp_spi_probe,\n     .remove =   kp_spi_remove,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8abd537256f58c1e502c01fc4112afcf7c4eda96"}
{"commit_hash": "8e77ebce6e3f21c7a2fa400f1cf6dae7d97ad466", "short_hash": "8e77ebce6e3f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T02:50:00Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T12:01:31+02:00", "subject": "staging: kpc2000: remove duplicated include from kp2000_module.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in staging driver (tier 4)"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single Reviewed-by, simple message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer merged"}}, "score_justification": "Remove duplicate #include in staging driver, well-reviewed cleanup", "code_snippet": "@@ -5,7 +5,6 @@\n #include <linux/types.h>\n #include <linux/export.h>\n #include <linux/slab.h>\n-#include <linux/pci.h>\n #include <asm/io.h>\n #include <linux/io.h>\n #include <linux/mfd/core.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e77ebce6e3f21c7a2fa400f1cf6dae7d97ad466"}
{"commit_hash": "5de719e3d01b4abe0de0d7b857148a880ff2a90b", "short_hash": "5de719e3d01b", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T23:19:05+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-25T15:38:52-04:00", "subject": "dm mpath: fix missing call of path selector type->end_io", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 396eaf21ee17 (\"blk-mq: improve DM's blk-mq IO merging via blk_insert_cloned_request feedback\")", "cc_stable": true, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md", "include/linux"], "subsystem_tier": 2, "files_changed": 4, "insertions": 24, "deletions": 7, "hunks": 14, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 14, "score_impact": 20, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Medium-size change in critical device-mapper subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Regression fix for multipath selector affecting storage"}, "quality": {"review_chain": 3, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 13, "details": "Excellent commit message with Fixes and stable tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Red Hat maintainer, cross-company commit"}}, "score_justification": "Regression fix for missed end_io() calls in dm-mpath causing path selector errors", "code_snippet": "@@ -544,8 +544,23 @@ static int multipath_clone_and_map(struct dm_target *ti, struct request *rq,\n \treturn DM_MAPIO_REMAPPED;\n }\n \n-static void multipath_release_clone(struct request *clone)\n+static void multipath_release_clone(struct request *clone,\n+\t\t\t\t    union map_info *map_context)\n {\n+\tif (unlikely(map_context)) {\n+\t\t/*\n+\t\t * non-NULL map_context means caller is still map\n+\t\t * method; must undo multipath_clone_and_map()\n+\t\t */\n+\t\tstruct dm_mpath_io *mpio = get_mpio(map_context);\n+\t\tstruct pgpath *pgpath = mpio->pgpath;\n+\n+\t\tif (pgpath && pgpath->pg->ps.type->end_io)\n+\t\t\tpgpath->pg->ps.type->end_io(&pgpath->pg->ps,\n+\t\t\t\t\t\t    &pgpath->path,\n+\t\t\t\t\t\t    mpio->nr_bytes);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5de719e3d01b4abe0de0d7b857148a880ff2a90b"}
{"commit_hash": "78bc3334a69ff289dbc973a9db7c52a2d7757e5b", "short_hash": "78bc3334a69f", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-24T08:58:57+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-04-25T17:04:43+02:00", "subject": "fs/quota: erase unused but set variable warning", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1050,7 +1050,9 @@ static void remove_dquot_ref(struct super_block *sb, int type,\n \t\tstruct list_head *tofree_head)\n {\n \tstruct inode *inode;\n+#ifdef CONFIG_QUOTA_DEBUG\n \tint reserved = 0;\n+#endif\n \n \tspin_lock(&sb->s_inode_list_lock);\n \tlist_for_each_entry(inode, &sb->s_inodes, i_sb_list) {", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/78bc3334a69ff289dbc973a9db7c52a2d7757e5b"}
{"commit_hash": "ecfc3fcabbb5291d1e61600a3dac6cdbfdb04cb1", "short_hash": "ecfc3fcabbb5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T21:49:23+08:00", "committer_name": "Alexei Starovoitov", "committer_email": "ast@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-25T17:20:06-07:00", "subject": "MIPS: eBPF: Make ebpf_to_mips_reg() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mips", "subsystems_touched": ["arch/mips/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)", "Alexei Starovoitov <ast@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Yonghong Song <yhs@fb.com> (Fb)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-file change in arch subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, Reported-by tag, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer, external report"}}, "score_justification": "Sparse warning fix adding static to unused function in MIPS eBPF JIT", "code_snippet": "@@ -186,8 +186,9 @@ enum which_ebpf_reg {\n  * separate frame pointer, so BPF_REG_10 relative accesses are\n  * adjusted to be $sp relative.\n  */\n-int ebpf_to_mips_reg(struct jit_ctx *ctx, const struct bpf_insn *insn,\n-\t\t     enum which_ebpf_reg w)\n+static int ebpf_to_mips_reg(struct jit_ctx *ctx,\n+\t\t\t    const struct bpf_insn *insn,\n+\t\t\t    enum which_ebpf_reg w)\n {\n \tint ebpf_reg = (w == src_reg || w == src_reg_no_fp) ?\n \t\tinsn->src_reg : insn->dst_reg;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ecfc3fcabbb5291d1e61600a3dac6cdbfdb04cb1"}
{"commit_hash": "444efbde32816a950c1749582f2e9241e3d5ee80", "short_hash": "444efbde3281", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T19:46:14+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-25T19:38:26+03:00", "subject": "ray_cs: Check return value of pcmcia_register_driver", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 17, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "NULL pointer crash fix affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with detailed explanation, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, CodeAurora maintainer accepted"}}, "score_justification": "NULL pointer dereference fix in driver init path", "code_snippet": "@@ -2795,6 +2795,8 @@ static int __init init_ray_cs(void)\n \trc = pcmcia_register_driver(&ray_driver);\n \tpr_debug(\"raylink init_module register_pcmcia_driver returns 0x%x\\n\",\n \t      rc);\n+\tif (rc)\n+\t\treturn rc;\n \n #ifdef CONFIG_PROC_FS\n \tproc_mkdir(\"driver/ray_cs\", NULL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/444efbde32816a950c1749582f2e9241e3d5ee80"}
{"commit_hash": "3b6edcb3fffeb9af00a7e0d21636ba2d95ef9987", "short_hash": "3b6edcb3fffe", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T19:48:12+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-25T19:38:52+03:00", "subject": "ray_cs: use remove_proc_subtree to simplify procfs code", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 10, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, +1 -5 lines in wireless driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with no runtime behavior change"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic message, author+committer tags only, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei.com, committer @codeaurora.org"}}, "score_justification": "Code simplification using remove_proc_subtree API in wireless driver", "code_snippet": "@@ -2820,11 +2820,7 @@ static void __exit exit_ray_cs(void)\n \tpr_debug(\"ray_cs: cleanup_module\\n\");\n \n #ifdef CONFIG_PROC_FS\n-\tremove_proc_entry(\"driver/ray_cs/ray_cs\", NULL);\n-\tremove_proc_entry(\"driver/ray_cs/essid\", NULL);\n-\tremove_proc_entry(\"driver/ray_cs/net_type\", NULL);\n-\tremove_proc_entry(\"driver/ray_cs/translate\", NULL);\n-\tremove_proc_entry(\"driver/ray_cs\", NULL);\n+\tremove_proc_subtree(\"driver/ray_cs\", NULL);\n #endif\n \n \tpcmcia_unregister_driver(&ray_driver);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b6edcb3fffeb9af00a7e0d21636ba2d95ef9987"}
{"commit_hash": "b2c01aab9646ed8ffb7c549afe55d5349c482425", "short_hash": "b2c01aab9646", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-06T19:56:58+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-25T19:39:34+03:00", "subject": "ssb: Fix possible NULL pointer dereference in ssb_host_pcmcia_exit", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 399500da18f7 (\"ssb: pick PCMCIA host code support from b43 driver\")", "cc_stable": false, "subsystem_prefix": "drivers/ssb", "subsystems_touched": ["drivers/ssb"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 6, "score_impact": 20, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in standard driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix affecting SSB driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed crash report with stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, CodeAurora maintainer, internal report"}}, "score_justification": "", "code_snippet": "@@ -113,16 +113,21 @@ static struct pcmcia_driver ssb_host_pcmcia_driver = {\n \t.resume\t\t= ssb_host_pcmcia_resume,\n };\n \n+static int pcmcia_init_failed;\n+\n /*\n  * These are not module init/exit functions!\n  * The module_pcmcia_driver() helper cannot be used here.\n  */\n int ssb_host_pcmcia_init(void)\n {\n-\treturn pcmcia_register_driver(&ssb_host_pcmcia_driver);\n+\tpcmcia_init_failed = pcmcia_register_driver(&ssb_host_pcmcia_driver);\n+\n+\treturn pcmcia_init_failed;\n }\n \n void ssb_host_pcmcia_exit(void)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b2c01aab9646ed8ffb7c549afe55d5349c482425"}
{"commit_hash": "d2ab99403ee00d8014e651728a4702ea1ae5e52c", "short_hash": "d2ab99403ee0", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T12:07:17+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T19:40:20+02:00", "subject": "mm/memory_hotplug: Do not unlock when fails to take the device_hotplug_lock", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 8df1d0e4a265 (\"mm/memory_hotplug: make add_memory() take the device_hotplug_lock\")", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/base"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Oscar Salvador <osalvador@suse.de> (Suse)", "David Hildenbrand <david@redhat.com> (Redhat)"], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": ["Yang yingliang <yangyingliang@huawei.com> (Huawei)"]}, "score_total": 46, "score_technical": 6, "score_impact": 18, "score_quality": 15, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line change in device driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Resource leak fix with stable backport affecting memory hotplug users"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent cross-company review (SUSE, Red Hat) with clear Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, Linux Foundation committer, external reporter from Huawei"}}, "score_justification": "Lock handling bug on error path - unlocks lock that was never acquired, fixed by returning early instead of goto out", "code_snippet": "@@ -506,7 +506,7 @@ static ssize_t probe_store(struct device *dev, struct device_attribute *attr,\n \n \tret = lock_device_hotplug_sysfs();\n \tif (ret)\n-\t\tgoto out;\n+\t\treturn ret;\n \n \tnid = memory_add_physaddr_to_nid(phys_addr);\n \tret = __add_memory(nid, phys_addr,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d2ab99403ee00d8014e651728a4702ea1ae5e52c"}
{"commit_hash": "09ac2694b0475f96be895848687ebcbba97eeecf", "short_hash": "09ac2694b047", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T11:45:29+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-25T19:52:14+03:00", "subject": "at76c50x-usb: Don't register led_trigger if usb_register_driver failed", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 1264b951463a (\"at76c50x-usb: add driver\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 8, "score_impact": 20, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in wireless driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with syzbot report"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Syzbot report with Fixes tag"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Internal report with maintainer sign-off"}}, "score_justification": "Syzbot-reported crash fix adding missing error path check in wireless driver init", "code_snippet": "@@ -2585,8 +2585,8 @@ static int __init at76_mod_init(void)\n \tif (result < 0)\n \t\tprintk(KERN_ERR DRIVER_NAME\n \t\t       \": usb_register failed (status %d)\\n\", result);\n-\n-\tled_trigger_register_simple(\"at76_usb-tx\", &ledtrig_tx);\n+\telse\n+\t\tled_trigger_register_simple(\"at76_usb-tx\", &ledtrig_tx);\n \treturn result;\n }\n \n", "flags": ["REPORTED_BY_SYZBOT"], "link": "https://lore.kernel.org/linux-kernel/09ac2694b0475f96be895848687ebcbba97eeecf"}
{"commit_hash": "a860fa7b96e1a1c974556327aa1aee852d434c21", "short_hash": "a860fa7b96e1", "author_name": "Xie XiuQi", "author_email": "xiexiuqi@huawei.com", "author_company": "Huawei", "author_date": "2019-04-20T16:34:16+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-25T19:58:54+02:00", "subject": "sched/numa: Fix a possible divide-by-zero", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "sched", "subsystems_touched": ["kernel/sched"], "subsystem_tier": 1, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xie XiuQi <xiexiuqi@huawei.com> (Huawei)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 58, "score_technical": 12, "score_impact": 26, "score_quality": 15, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small fix in critical scheduler subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Divide-by-zero crash fix affecting all users"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent commit message with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit with kernel.org maintainer"}}, "score_justification": "Divide-by-zero crash in scheduler NUMA placement due to clock skew", "code_snippet": "@@ -2007,6 +2007,10 @@ static u64 numa_get_avg_runtime(struct task_struct *p, u64 *period)\n \tif (p->last_task_numa_placement) {\n \t\tdelta = runtime - p->last_sum_exec_runtime;\n \t\t*period = now - p->last_task_numa_placement;\n+\n+\t\t/* Avoid time going backwards, prevent potential divide error: */\n+\t\tif (unlikely((s64)*period < 0))\n+\t\t\t*period = 0;\n \t} else {\n \t\tdelta = p->se.avg.load_sum;\n \t\t*period = LOAD_AVG_MAX;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a860fa7b96e1a1c974556327aa1aee852d434c21"}
{"commit_hash": "61810404b43fb0f7195cd947aef903ac90ea6989", "short_hash": "61810404b43f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T13:52:40-06:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-25T22:00:15+02:00", "subject": "coresight: catu: Make catu_helper_ops and catu_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "coresight", "subsystems_touched": ["drivers/hwtracing/coresight"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)", "Suzuki K Poulose <suzuki.poulose@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 reviewers, clear warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Sparse warning fix adding static to two const structs in coresight driver", "code_snippet": "@@ -485,12 +485,12 @@ static int catu_disable(struct coresight_device *csdev, void *__unused)\n \treturn rc;\n }\n \n-const struct coresight_ops_helper catu_helper_ops = {\n+static const struct coresight_ops_helper catu_helper_ops = {\n \t.enable = catu_enable,\n \t.disable = catu_disable,\n };\n \n-const struct coresight_ops catu_ops = {\n+static const struct coresight_ops catu_ops = {\n \t.helper_ops = &catu_helper_ops,\n };\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61810404b43fb0f7195cd947aef903ac90ea6989"}
{"commit_hash": "89189557b47b35683a27c80ee78aef18248eefb4", "short_hash": "89189557b47b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T22:24:05-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-04-26T09:18:05-07:00", "subject": "fs/proc/proc_sysctl.c: Fix a NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 23da9588037e (\"fs/proc/proc_sysctl.c: fix NULL pointer dereference in put_links\")", "cc_stable": false, "subsystem_prefix": "fs/proc", "subsystems_touched": ["fs/proc"], "subsystem_tier": 1, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Kees Cook <keescook@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 56, "score_technical": 12, "score_impact": 24, "score_quality": 13, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "6 line change in critical VFS proc subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "NULL pointer crash affecting all users, has Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 13, "details": "Reviewed-by, detailed syzkaller report, clear Fixes chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, Linus merged, akpm reviewed, reported by Hulk Robot"}}, "score_justification": "NULL pointer dereference crash in proc sysctl with Fixes tag and Reviewed-by", "code_snippet": "@@ -1626,9 +1626,11 @@ static void drop_sysctl_table(struct ctl_table_header *header)\n \tif (--header->nreg)\n \t\treturn;\n \n-\tif (parent)\n+\tif (parent) {\n \t\tput_links(header);\n-\tstart_unregistering(header);\n+\t\tstart_unregistering(header);\n+\t}\n+\n \tif (!--header->count)\n \t\tkfree_rcu(header, rcu);\n \n", "flags": ["FIXES_CHAIN"], "link": "https://lore.kernel.org/linux-kernel/89189557b47b35683a27c80ee78aef18248eefb4"}
{"commit_hash": "ae3d6a323347940f0548bbb4b17f0bb2e9164169", "short_hash": "ae3d6a323347", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T22:23:44-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-04-26T09:18:05-07:00", "subject": "lib/Kconfig.debug: fix build error without CONFIG_BLOCK", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d9c6a72d6fa2 (\"kmod: add test driver to stress test the module loader\")", "cc_stable": true, "subsystem_prefix": "lib", "subsystems_touched": ["lib"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Kees Cook <keescook@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 40, "score_technical": 6, "score_impact": 12, "score_quality": 15, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 1-line fix in Kconfig infrastructure"}, "impact": {"category_base": 6, "stable_lts": 4, "user_impact": 1, "novelty": 1, "subtotal": 12, "details": "Build fix with stable backport, affects developers"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent review chain, good commit quality"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org review, maintainer accepted, robot report"}}, "score_justification": "Build regression fix in Kconfig with cross-org review and stable backport", "code_snippet": "@@ -1929,6 +1929,7 @@ config TEST_KMOD\n \tdepends on m\n \tdepends on BLOCK && (64BIT || LBDAF)\t  # for XFS, BTRFS\n \tdepends on NETDEVICES && NET_CORE && INET # for TUN\n+\tdepends on BLOCK\n \tselect TEST_LKM\n \tselect XFS_FS\n \tselect TUN\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae3d6a323347940f0548bbb4b17f0bb2e9164169"}
{"commit_hash": "780f202f2bf48aaa09282efc4dd6c39a146cc1f3", "short_hash": "780f202f2bf4", "author_name": "KaiChieh Chuang", "author_email": "kaichieh.chuang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-26T10:09:43+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-26T10:48:37+01:00", "subject": "ASoC: mediatek: btcvsd fix irq mask", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["KaiChieh Chuang <kaichieh.chuang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in audio driver with inverted enable/disable logic"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug affecting Bluetooth audio on Mediatek platforms"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, basic review chain only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer applied"}}, "score_justification": "Inverted IRQ enable/disable logic in Mediatek BT audio driver causing unintended wakeups", "code_snippet": "@@ -193,13 +193,13 @@ static const u8 table_msbc_silence[SCO_PACKET_180] = {\n static void mtk_btcvsd_snd_irq_enable(struct mtk_btcvsd_snd *bt)\n {\n \tregmap_update_bits(bt->infra, bt->infra_misc_offset,\n-\t\t\t   bt->conn_bt_cvsd_mask, bt->conn_bt_cvsd_mask);\n+\t\t\t   bt->conn_bt_cvsd_mask, 0);\n }\n \n static void mtk_btcvsd_snd_irq_disable(struct mtk_btcvsd_snd *bt)\n {\n \tregmap_update_bits(bt->infra, bt->infra_misc_offset,\n-\t\t\t   bt->conn_bt_cvsd_mask, 0);\n+\t\t\t   bt->conn_bt_cvsd_mask, bt->conn_bt_cvsd_mask);\n }\n \n static void mtk_btcvsd_snd_set_state(struct mtk_btcvsd_snd *bt,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/780f202f2bf48aaa09282efc4dd6c39a146cc1f3"}
{"commit_hash": "08a8e804620bbb41d06d144441d19c589bb17aa4", "short_hash": "08a8e804620b", "author_name": "Huaisheng Ye", "author_email": "yehs1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-04-25T21:31:19+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-26T11:32:50-04:00", "subject": "dm writecache: remove unused member page_offset in writeback_struct", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md-dm", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huaisheng Ye <yehs1@lenovo.com> (Lenovo)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mikulas Patocka <mpatocka@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 25, "score_technical": 6, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny cleanup removing unused struct member in device mapper driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by maintainer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Lenovo author, Red Hat maintainer"}}, "score_justification": "Simple cleanup removing unused struct member in dm-writecache with proper review", "code_snippet": "@@ -190,7 +190,6 @@ struct writeback_struct {\n \tstruct dm_writecache *wc;\n \tstruct wc_entry **wc_list;\n \tunsigned wc_list_n;\n-\tunsigned page_offset;\n \tstruct page *page;\n \tstruct wc_entry *wc_list_inline[WB_LIST_INLINE];\n \tstruct bio bio;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/08a8e804620bbb41d06d144441d19c589bb17aa4"}
{"commit_hash": "16848c8a728e74c1b6a0c994f34f0f5453f257a0", "short_hash": "16848c8a728e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T02:07:20Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:07:18-04:00", "subject": "NFC: st95hf: remove set but not used variables 'dev, nfcddev'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/nfc", "subsystems_touched": ["drivers/nfc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in NFC driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with warning details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer committed"}}, "score_justification": "Removes unused variables to fix gcc warnings in NFC driver", "code_snippet": "@@ -781,9 +781,7 @@ static irqreturn_t st95hf_irq_thread_handler(int irq, void  *st95hfcontext)\n \tint result = 0;\n \tint res_len;\n \tstatic bool wtx;\n-\tstruct device *dev;\n \tstruct device *spidevice;\n-\tstruct nfc_digital_dev *nfcddev;\n \tstruct sk_buff *skb_resp;\n \tstruct st95hf_context *stcontext  =\n \t\t(struct st95hf_context *)st95hfcontext;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16848c8a728e74c1b6a0c994f34f0f5453f257a0"}
{"commit_hash": "7b8f622e537aa87b52def78c37a8645d979fb7cc", "short_hash": "7b8f622e537a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: prevent double free in hns3_put_ring_config()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 10 hunks, 5+5 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, minimal review, focused fix"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, @kernel.org committer"}}, "score_justification": "Double-free prevention in hns3 driver by centralizing NULL assignment", "code_snippet": "@@ -3495,12 +3496,16 @@ static void hns3_put_ring_config(struct hns3_nic_priv *priv)\n \tstruct hnae3_handle *h = priv->ae_handle;\n \tint i;\n \n+\tif (!priv->ring_data)\n+\t\treturn;\n+\n \tfor (i = 0; i < h->kinfo.num_tqps; i++) {\n \t\tdevm_kfree(priv->dev, priv->ring_data[i].ring);\n \t\tdevm_kfree(priv->dev,\n \t\t\t   priv->ring_data[i + h->kinfo.num_tqps].ring);\n \t}\n \tdevm_kfree(priv->dev, priv->ring_data);\n+\tpriv->ring_data = NULL;\n }\n \n static int hns3_alloc_ring_memory(struct hns3_enet_ring *ring)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b8f622e537aa87b52def78c37a8645d979fb7cc"}
{"commit_hash": "fd85717d2800a352ce48799adcf7037b74df2854", "short_hash": "fd85717d2800", "author_name": "liuzhongzhu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: extend the loopback state acquisition time", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["liuzhongzhu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change (4 lines) in NIC driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Fixes loopback test failures for hns3 users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation but missing Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Fixes timing issue in loopback test by extending wait time from 200ms to 1000ms", "code_snippet": "@@ -5337,8 +5337,8 @@ static int hclge_set_serdes_loopback(struct hclge_dev *hdev, bool en,\n #define HCLGE_SERDES_RETRY_MS\t10\n #define HCLGE_SERDES_RETRY_NUM\t100\n \n-#define HCLGE_MAC_LINK_STATUS_MS   20\n-#define HCLGE_MAC_LINK_STATUS_NUM  10\n+#define HCLGE_MAC_LINK_STATUS_MS   10\n+#define HCLGE_MAC_LINK_STATUS_NUM  100\n #define HCLGE_MAC_LINK_STATUS_DOWN 0\n #define HCLGE_MAC_LINK_STATUS_UP   1\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fd85717d2800a352ce48799adcf7037b74df2854"}
{"commit_hash": "fba2efdae8b4f998f66a2ff4c9f0575e1c4bbc40", "short_hash": "fba2efdae8b4", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: fix pause configure fail problem", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 44e59e375bf7 (\"net: hns3: do not return GE PFC setting err when initializing\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with Fixes tag, moderate impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, basic review chain"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, external maintainer"}}, "score_justification": "Pause configuration logic fix in Hisilicon network driver with proper Fixes tag", "code_snippet": "@@ -1331,8 +1331,11 @@ int hclge_pause_setup_hw(struct hclge_dev *hdev, bool init)\n \tret = hclge_pfc_setup_hw(hdev);\n \tif (init && ret == -EOPNOTSUPP)\n \t\tdev_warn(&hdev->pdev->dev, \"GE MAC does not support pfc\\n\");\n-\telse\n+\telse if (ret) {\n+\t\tdev_err(&hdev->pdev->dev, \"config pfc failed! ret = %d\\n\",\n+\t\t\tret);\n \t\treturn ret;\n+\t}\n \n \treturn hclge_tm_bp_setup(hdev);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fba2efdae8b4f998f66a2ff4c9f0575e1c4bbc40"}
{"commit_hash": "146e92c13fdedf43a1ae211e85acde4631bb3c71", "short_hash": "146e92c13fde", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: not reset TQP in the DOWN while VF resetting", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for VF reset behavior"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit"}}, "score_justification": "Driver logic fix to skip unnecessary TQP reset during VF reset", "code_snippet": "@@ -2050,8 +2050,10 @@ static void hclgevf_ae_stop(struct hnae3_handle *handle)\n \n \tset_bit(HCLGEVF_STATE_DOWN, &hdev->state);\n \n-\tfor (i = 0; i < handle->kinfo.num_tqps; i++)\n-\t\thclgevf_reset_tqp(handle, i);\n+\tif (hdev->reset_type != HNAE3_VF_RESET)\n+\t\tfor (i = 0; i < handle->kinfo.num_tqps; i++)\n+\t\t\tif (hclgevf_reset_tqp(handle, i))\n+\t\t\t\tbreak;\n \n \t/* reset tqp stats */\n \thclgevf_reset_tqp_stats(handle);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/146e92c13fdedf43a1ae211e85acde4631bb3c71"}
{"commit_hash": "b7048d324b5ebcb99022e2e7296f03918e5f38c4", "short_hash": "b7048d324b5e", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: use a reserved byte to identify need_resp flag", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 3, "insertions": 9, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver with 10 hunks across 3 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for mailbox communication, affects specific NIC users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean commit with proper explanation, no external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer David Miller committed"}}, "score_justification": "Mailbox protocol refactor replacing boolean parameter with flag bit in struct", "code_snippet": "@@ -84,12 +84,15 @@ struct hclgevf_mbx_resp_status {\n struct hclge_mbx_vf_to_pf_cmd {\n \tu8 rsv;\n \tu8 mbx_src_vfid; /* Auto filled by IMP */\n-\tu8 rsv1[2];\n+\tu8 mbx_need_resp;\n+\tu8 rsv1[1];\n \tu8 msg_len;\n \tu8 rsv2[3];\n \tu8 msg[HCLGE_MBX_MAX_MSG_SIZE];\n };\n \n+#define HCLGE_MBX_NEED_RESP_BIT\t\tBIT(0)\n+\n struct hclge_mbx_pf_to_vf_cmd {\n \tu8 dest_vfid;\n \tu8 rsv[3];\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c\nindex 24386bd894f7..fe48c5634a87 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mbx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7048d324b5ebcb99022e2e7296f03918e5f38c4"}
{"commit_hash": "30780a8b1677e7409b32ae52a9a84f7d41ae6b43", "short_hash": "30780a8b1677", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: use atomic_t replace u32 for arq's count", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 07a0556a3a73 (\"net: hns3: Changes to support ARQ(Asynchronous Receive Queue)\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 6, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small race fix in network driver: 3 files, 10 hunks, 11 lines"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race condition fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with Fixes tag, 2 company signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer, different orgs"}}, "score_justification": "Race condition fix replacing u32 with atomic_t for concurrent access", "code_snippet": "@@ -111,7 +111,7 @@ struct hclgevf_mbx_arq_ring {\n \tstruct hclgevf_dev *hdev;\n \tu32 head;\n \tu32 tail;\n-\tu32 count;\n+\tatomic_t count;\n \tu16 msg_q[HCLGE_MBX_MAX_ARQ_MSG_NUM][HCLGE_MBX_MAX_ARQ_MSG_SIZE];\n };\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\nindex 1b428d4a1132..71f356fc2446 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/30780a8b1677e7409b32ae52a9a84f7d41ae6b43"}
{"commit_hash": "1416d333a4ec9ab05c37b94628cb476b32326858", "short_hash": "1416d333a4ec", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: stop sending keep alive msg when VF command queue needs reinit", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c59a85c07e77 (\"net: hns3: stop sending keep alive msg to PF when VF is resetting\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic fix with reference to prior commit"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear fix with proper tags and rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Driver state flag fix for keep-alive suppression during VF reinit", "code_snippet": "@@ -1758,7 +1758,7 @@ static void hclgevf_keep_alive_task(struct work_struct *work)\n \n \thdev = container_of(work, struct hclgevf_dev, keep_alive_task);\n \n-\tif (test_bit(HCLGEVF_STATE_RST_HANDLING, &hdev->state))\n+\tif (test_bit(HCLGEVF_STATE_CMD_DISABLE, &hdev->state))\n \t\treturn;\n \n \tret = hclgevf_send_mbx_msg(hdev, HCLGE_MBX_KEEP_ALIVE, 0, NULL,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1416d333a4ec9ab05c37b94628cb476b32326858"}
{"commit_hash": "ea4858670717fd948dab0113a5ee65486494a607", "short_hash": "ea4858670717", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: handle the BD info on the last BD of the packet", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e55970950556 (\"net: hns3: Add handling of GRO Pkts not fully RX'ed in NAPI poll\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 20, "deletions": 18, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 6 hunks, +20-18 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with Fixes tag, affects driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 reviewers, clear explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author(Huawei) to committer(Davem), same company review"}}, "score_justification": "Fixes BD info handling bug in HiSilicon driver; only last BD has valid info", "code_snippet": "@@ -2697,36 +2697,37 @@ static int hns3_set_gro_and_checksum(struct hns3_enet_ring *ring,\n }\n \n static void hns3_set_rx_skb_rss_type(struct hns3_enet_ring *ring,\n-\t\t\t\t     struct sk_buff *skb)\n+\t\t\t\t     struct sk_buff *skb, u32 rss_hash)\n {\n \tstruct hnae3_handle *handle = ring->tqp->handle;\n \tenum pkt_hash_types rss_type;\n-\tstruct hns3_desc *desc;\n-\tint last_bd;\n-\n-\t/* When driver handle the rss type, ring->next_to_clean indicates the\n-\t * first descriptor of next packet, need -1 here.\n-\t */\n-\tlast_bd = (ring->next_to_clean - 1 + ring->desc_num) % ring->desc_num;\n-\tdesc = &ring->desc[last_bd];\n \n-\tif (le32_to_cpu(desc->rx.rss_hash))\n+\tif (rss_hash)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ea4858670717fd948dab0113a5ee65486494a607"}
{"commit_hash": "63380a1ae4ced8aef67659ff9547c69ef8b9613a", "short_hash": "63380a1ae4ce", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: fix for TX clean num when cleaning TX BD", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e55970950556 (\"net: hns3: Add handling of GRO Pkts not fully RX'ed in NAPI poll\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line change in NIC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic regression fix with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer commit"}}, "score_justification": "Regression fix for TX clean calculation in hns3 driver", "code_snippet": "@@ -2874,7 +2874,7 @@ int hns3_clean_rx_ring(\n {\n #define RCB_NOF_ALLOC_RX_BUFF_ONCE 16\n \tint recv_pkts, recv_bds, clean_count, err;\n-\tint unused_count = hns3_desc_unused(ring) - ring->pending_buf;\n+\tint unused_count = hns3_desc_unused(ring);\n \tstruct sk_buff *skb = ring->skb;\n \tint num;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/63380a1ae4ced8aef67659ff9547c69ef8b9613a"}
{"commit_hash": "26cda2f1613878d9bde11325559f4fca92fff395", "short_hash": "26cda2f16138", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T20:42:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:28-04:00", "subject": "net: hns3: fix data race between ring->next_to_clean", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 76ad4f0ee747 (\"net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 2, "insertions": 16, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver adding memory barriers"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race fix with Fixes tag affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with pairing comments"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Data race fix in HNS3 driver using memory barriers for proper synchronization", "code_snippet": "@@ -2214,14 +2214,22 @@ static void hns3_reuse_buffer(struct hns3_enet_ring *ring, int i)\n static void hns3_nic_reclaim_one_desc(struct hns3_enet_ring *ring, int *bytes,\n \t\t\t\t      int *pkts)\n {\n-\tstruct hns3_desc_cb *desc_cb = &ring->desc_cb[ring->next_to_clean];\n+\tint ntc = ring->next_to_clean;\n+\tstruct hns3_desc_cb *desc_cb;\n \n+\tdesc_cb = &ring->desc_cb[ntc];\n \t(*pkts) += (desc_cb->type == DESC_TYPE_SKB);\n \t(*bytes) += desc_cb->length;\n \t/* desc_cb will be cleaned, after hnae3_free_buffer_detach*/\n-\thns3_free_buffer_detach(ring, ring->next_to_clean);\n+\thns3_free_buffer_detach(ring, ntc);\n \n-\tring_ptr_move_fw(ring, next_to_clean);\n+\tif (++ntc == ring->desc_num)\n+\t\tntc = 0;\n+\n+\t/* This smp_store_release() pairs with smp_load_acquire() in", "flags": [], "link": "https://lore.kernel.org/linux-kernel/26cda2f1613878d9bde11325559f4fca92fff395"}
{"commit_hash": "96490a1c09ce8af322f646b20d1dd6255e2e9ae2", "short_hash": "96490a1c09ce", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-25T20:42:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-26T12:13:29-04:00", "subject": "net: hns3: remove reset after command send failed", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 10, "hunks": 10, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium cleanup in NIC driver across 10 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix removing unnecessary reset code"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain, clear message, no test evidence"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Hisilicon author, kernel.org maintainer committed"}}, "score_justification": "Removes unnecessary global reset calls after command send failures in Hisilicon NIC driver", "code_snippet": "@@ -1653,8 +1653,6 @@ int hclge_handle_hw_msix_error(struct hclge_dev *hdev,\n \tif (ret) {\n \t\tdev_err(dev, \"fail(%d) to query msix int status bd num\\n\",\n \t\t\tret);\n-\t\t/* reset everything for now */\n-\t\tset_bit(HNAE3_GLOBAL_RESET, reset_requests);\n \t\treturn ret;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/96490a1c09ce8af322f646b20d1dd6255e2e9ae2"}
{"commit_hash": "a0656c6ec2fda34da08e7f8a917baf6e0698ee42", "short_hash": "a0656c6ec2fd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T22:32:14+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-26T14:58:53+03:00", "subject": "rtlwifi: rtl8192cu: remove set but not used variable 'turbo_scanoff'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e9b0784bb9de (\"rtlwifi: rtl8192cu: Fix some code in RF handling\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in wireless driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with Fixes tag but no stable"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and warning details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei -> CodeAurora)"}}, "score_justification": "Compiler warning fix removing dead variable in wireless driver", "code_snippet": "@@ -42,12 +42,9 @@ void rtl92cu_phy_rf6052_set_cck_txpower(struct ieee80211_hw *hw,\n \tstruct rtl_mac *mac = rtl_mac(rtl_priv(hw));\n \tstruct rtl_efuse *rtlefuse = rtl_efuse(rtl_priv(hw));\n \tu32 tx_agc[2] = { 0, 0 }, tmpval = 0;\n-\tbool turbo_scanoff = false;\n \tu8 idx1, idx2;\n \tu8 *ptr;\n \n-\tif ((rtlefuse->eeprom_regulatory != 0) || (rtlefuse->external_pa))\n-\t\tturbo_scanoff = true;\n \tif (mac->act_scanning) {\n \t\ttx_agc[RF90_PATH_A] = 0x3f3f3f3f;\n \t\ttx_agc[RF90_PATH_B] = 0x3f3f3f3f;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0656c6ec2fda34da08e7f8a917baf6e0698ee42"}
{"commit_hash": "1eb8e4e2b35b4d83cc40cbf379493490741eb5b8", "short_hash": "1eb8e4e2b35b", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-17T10:41:19+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-04-26T15:24:19+02:00", "subject": "iommu/mediatek: Fix leaked of_node references", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": ["Matthias Brugger <mbrugger@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in IOMMU subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Memory leak fix affecting MediaTek IOMMU users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-documented with Reviewed-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company contribution from ZTE to SUSE maintainer"}}, "score_justification": "Fixes device node reference leaks in MediaTek IOMMU driver on error paths", "code_snippet": "@@ -632,16 +632,20 @@ static int mtk_iommu_probe(struct platform_device *pdev)\n \t\tif (!larbnode)\n \t\t\treturn -EINVAL;\n \n-\t\tif (!of_device_is_available(larbnode))\n+\t\tif (!of_device_is_available(larbnode)) {\n+\t\t\tof_node_put(larbnode);\n \t\t\tcontinue;\n+\t\t}\n \n \t\tret = of_property_read_u32(larbnode, \"mediatek,larb-id\", &id);\n \t\tif (ret)/* The id is consecutive if there is no this property */\n \t\t\tid = i;\n \n \t\tplarbdev = of_find_device_by_node(larbnode);\n-\t\tif (!plarbdev)\n+\t\tif (!plarbdev) {\n+\t\t\tof_node_put(larbnode);\n \t\t\treturn -EPROBE_DEFER;\n+\t\t}", "flags": ["DETECTED_BY_COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/1eb8e4e2b35b4d83cc40cbf379493490741eb5b8"}
{"commit_hash": "6e8b566806b7a8788dfde59b88ed79faa422fbaf", "short_hash": "6e8b566806b7", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:08+08:00", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-04-26T16:48:57+02:00", "subject": "iommu/omap: Use dev_get_drvdata()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 10, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change simplifying macro call from platform_get_drvdata to dev_get_drvdata"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification improving IOMMU driver maintainability"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Minimal commit message, single logical change, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer committer, cross-company acceptance"}}, "score_justification": "API migration simplifying macro from platform_get_drvdata to generic dev_get_drvdata in OMAP IOMMU driver", "code_snippet": "@@ -38,8 +38,7 @@\n \n static const struct iommu_ops omap_iommu_ops;\n \n-#define to_iommu(dev)\t\t\t\t\t\t\t\\\n-\t((struct omap_iommu *)platform_get_drvdata(to_platform_device(dev)))\n+#define to_iommu(dev)\t((struct omap_iommu *)dev_get_drvdata(dev))\n \n /* bitmap of the page sizes currently supported */\n #define OMAP_IOMMU_PGSIZES\t(SZ_4K | SZ_64K | SZ_1M | SZ_16M)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e8b566806b7a8788dfde59b88ed79faa422fbaf"}
{"commit_hash": "5bb5c3a3ac102158b799bf5eda871223aa5e9c25", "short_hash": "5bb5c3a3ac10", "author_name": "Shun-Chih Yu", "author_email": "shun-chih.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-25T11:53:50+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-26T17:26:38+05:30", "subject": "dmaengine: mediatek-cqdma: fix wrong register usage in mtk_cqdma_start", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: b1f01e48df5a (\"dmaengine: mediatek: Add MediaTek Command-Queue DMA controller for MT6765 SoC\")", "cc_stable": true, "subsystem_prefix": "dmaengine", "subsystems_touched": ["drivers/dma/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Shun-Chih Yu <shun-chih.yu@mediatek.com> (MediaTek)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 17, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line fix in DMA driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport, affects specific platform"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag and stable CC"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, maintainer from different org"}}, "score_justification": "Register usage bug fix in MediaTek DMA driver with stable backport", "code_snippet": "@@ -253,7 +253,7 @@ static void mtk_cqdma_start(struct mtk_cqdma_pchan *pc,\n #ifdef CONFIG_ARCH_DMA_ADDR_T_64BIT\n \tmtk_dma_set(pc, MTK_CQDMA_DST2, cvd->dest >> MTK_CQDMA_ADDR2_SHFIT);\n #else\n-\tmtk_dma_set(pc, MTK_CQDMA_SRC2, 0);\n+\tmtk_dma_set(pc, MTK_CQDMA_DST2, 0);\n #endif\n \n \t/* setup the length */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5bb5c3a3ac102158b799bf5eda871223aa5e9c25"}
{"commit_hash": "e3faedf71d881780c2b8f6548aaacfad7f0a8372", "short_hash": "e3faedf71d88", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:03+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-27T13:07:12+01:00", "subject": "iio: adc: at91: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 3, "files_changed": 2, "insertions": 6, "deletions": 10, "hunks": 12, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 11, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important IIO subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration affecting ADC driver users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal message, basic review tags"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Same company author/committer"}}, "score_justification": "API migration from platform_get_drvdata to dev_get_drvdata in AT91 ADC drivers", "code_snippet": "@@ -1870,8 +1867,7 @@ static __maybe_unused int at91_adc_suspend(struct device *dev)\n \n static __maybe_unused int at91_adc_resume(struct device *dev)\n {\n-\tstruct iio_dev *indio_dev =\n-\t\t\tplatform_get_drvdata(to_platform_device(dev));\n+\tstruct iio_dev *indio_dev = dev_get_drvdata(dev);\n \tstruct at91_adc_state *st = iio_priv(indio_dev);\n \tint ret;\n \ndiff --git a/drivers/iio/adc/at91_adc.c b/drivers/iio/adc/at91_adc.c\nindex 596841a3c4db..1aa8af3491fd 100644\n--- a/drivers/iio/adc/at91_adc.c\n+++ b/drivers/iio/adc/at91_adc.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e3faedf71d881780c2b8f6548aaacfad7f0a8372"}
{"commit_hash": "e99c25f4320d1a8329c12c66680a974725ff16a0", "short_hash": "e99c25f4320d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-27T00:40:06+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-04-27T14:15:39+01:00", "subject": "iio: dac: ad5758: remove set but not used variable 'dc_dc_mode'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -584,7 +584,7 @@ static ssize_t ad5758_write_powerdown(struct iio_dev *indio_dev,\n {\n \tstruct ad5758_state *st = iio_priv(indio_dev);\n \tbool pwr_down;\n-\tunsigned int dc_dc_mode, dac_config_mode, val;\n+\tunsigned int dac_config_mode, val;\n \tunsigned long int dac_config_msk;\n \tint ret;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e99c25f4320d1a8329c12c66680a974725ff16a0"}
{"commit_hash": "cc23c66179ca2e873809febe03368944b9016942", "short_hash": "cc23c66179ca", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T22:41:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-04-29T08:34:10-04:00", "subject": "scsi: qedf: remove set but not used variables", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Saurav Kashyap <skashyap@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in SCSI driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean warning fix with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Compiler warning fix removing unused variables in SCSI driver", "code_snippet": "@@ -158,10 +155,6 @@ void qedf_process_els_compl(struct qedf_ctx *qedf, struct fcoe_cqe *cqe,\n \t/* Kill the ELS timer */\n \tcancel_delayed_work(&els_req->timeout_work);\n \n-\txid = els_req->xid;\n-\ttask_ctx = qedf_get_task_mem(&qedf->tasks, xid);\n-\tsc_cmd = els_req->sc_cmd;\n-\n \t/* Get ELS response length from CQE */\n \tmp_info = &cqe->cqe_info.midpath_info;\n \tels_req->mp_req.resp_len = mp_info->data_placement_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc23c66179ca2e873809febe03368944b9016942"}
{"commit_hash": "66c30aa679172df624cd68b0e1cfe757f6d1bc72", "short_hash": "66c30aa67917", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-28T12:00:25+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-29T10:47:15+05:30", "subject": "dmaengine: nbpfaxi: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dmaengine", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line API migration in DMA driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code simplification with modest user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal review, basic commit message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Intel) differ"}}, "score_justification": "API migration from platform_get_drvdata(to_platform_device()) to dev_get_drvdata() in DMA driver", "code_snippet": "@@ -1491,14 +1491,14 @@ MODULE_DEVICE_TABLE(platform, nbpf_ids);\n #ifdef CONFIG_PM\n static int nbpf_runtime_suspend(struct device *dev)\n {\n-\tstruct nbpf_device *nbpf = platform_get_drvdata(to_platform_device(dev));\n+\tstruct nbpf_device *nbpf = dev_get_drvdata(dev);\n \tclk_disable_unprepare(nbpf->clk);\n \treturn 0;\n }\n \n static int nbpf_runtime_resume(struct device *dev)\n {\n-\tstruct nbpf_device *nbpf = platform_get_drvdata(to_platform_device(dev));\n+\tstruct nbpf_device *nbpf = dev_get_drvdata(dev);\n \treturn clk_prepare_enable(nbpf->clk);\n }\n #endif\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/66c30aa679172df624cd68b0e1cfe757f6d1bc72"}
{"commit_hash": "95d47fb71d185ccd6b0f97397cfb1569f4761ba1", "short_hash": "95d47fb71d18", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-28T12:00:24+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-29T10:47:15+05:30", "subject": "dmaengine: bcm-sba-raid: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API simplification for specific driver"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal message, maintainer acked"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "API migration from platform_get_drvdata to dev_get_drvdata in DMA driver", "code_snippet": "@@ -1459,8 +1459,7 @@ static void sba_receive_message(struct mbox_client *cl, void *msg)\n \n static int sba_debugfs_stats_show(struct seq_file *file, void *offset)\n {\n-\tstruct platform_device *pdev = to_platform_device(file->private);\n-\tstruct sba_device *sba = platform_get_drvdata(pdev);\n+\tstruct sba_device *sba = dev_get_drvdata(file->private);\n \n \t/* Write stats in file */\n \tsba_write_stats_in_seqfile(sba, file);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/95d47fb71d185ccd6b0f97397cfb1569f4761ba1"}
{"commit_hash": "ce9d3eceb7ffb74445a8d892ca0685395a93a7e2", "short_hash": "ce9d3eceb7ff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-27T00:46:30+08:00", "committer_name": "Petr Mladek", "committer_email": "pmladek@suse.com", "committer_company": "SUSE", "commit_date": "2019-04-29T12:39:58+02:00", "subject": "lib/vsprintf: Make function pointer_string static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "lib", "subsystems_touched": ["lib"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Petr Mladek <pmladek@suse.com> (SUSE)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in lib/ vsprintf"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with sparse warning reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer committer"}}, "score_justification": "Sparse warning fix adding static to internal lib/ function", "code_snippet": "@@ -670,8 +670,9 @@ char *string(char *buf, char *end, const char *s,\n \treturn string_nocheck(buf, end, s, spec);\n }\n \n-char *pointer_string(char *buf, char *end, const void *ptr,\n-\t\t     struct printf_spec spec)\n+static char *pointer_string(char *buf, char *end,\n+\t\t\t    const void *ptr,\n+\t\t\t    struct printf_spec spec)\n {\n \tspec.base = 16;\n \tspec.flags |= SMALL;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ce9d3eceb7ffb74445a8d892ca0685395a93a7e2"}
{"commit_hash": "b827bcbba36d0b9447239136e2237710cca70383", "short_hash": "b827bcbba36d", "author_name": "xiaojiangfeng", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T16:29:41+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-29T12:50:20-05:00", "subject": "of: del redundant type conversion", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/of", "subsystems_touched": ["drivers/of"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["xiaojiangfeng <xiaojiangfeng@huawei.com> (Huawei)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": ["Frank Rowand <frank.rowand@sony.com> (Sony)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical device tree subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by maintainer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Huawei author, kernel.org committer)"}}, "score_justification": "Trivial type cast removal in device tree code, well-reviewed cleanup", "code_snippet": "@@ -1091,7 +1091,7 @@ int __init early_init_dt_scan_chosen(unsigned long node, const char *uname,\n \t/* Retrieve command line */\n \tp = of_get_flat_dt_prop(node, \"bootargs\", &l);\n \tif (p != NULL && l > 0)\n-\t\tstrlcpy(data, p, min((int)l, COMMAND_LINE_SIZE));\n+\t\tstrlcpy(data, p, min(l, COMMAND_LINE_SIZE));\n \n \t/*\n \t * CONFIG_CMDLINE is meant to be a default in case nothing else\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b827bcbba36d0b9447239136e2237710cca70383"}
{"commit_hash": "c2d1812600f5a8c9341b2db7c863cd2725444de5", "short_hash": "c2d1812600f5", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T12:26:30Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-29T14:25:12+02:00", "subject": "usb: typec: ucsi: ccg: fix missing unlock on error in ccg_cmd_write_flash_row()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5c9ae5a87573 (\"usb: typec: ucsi: ccg: add firmware flashing support\")", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/typec"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Heikki Krogerus <heikki.krogerus@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal fix in USB TypeC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with specific impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by, good Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Huawei-Intel-Linux Foundation)"}}, "score_justification": "Missing mutex unlock on error path in USB TypeC driver, fixed by Huawei contributor with cross-org review", "code_snippet": "@@ -631,6 +631,7 @@ ccg_cmd_write_flash_row(struct ucsi_ccg *uc, u16 row,\n \tret = i2c_master_send(client, buf, CCG4_ROW_SIZE + 2);\n \tif (ret != CCG4_ROW_SIZE + 2) {\n \t\tdev_err(uc->dev, \"REG_FLASH_RW_MEM write fail %d\\n\", ret);\n+\t\tmutex_unlock(&uc->lock);\n \t\treturn ret < 0 ? ret : -EIO;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2d1812600f5a8c9341b2db7c863cd2725444de5"}
{"commit_hash": "0f29456d08042134aff6e562d07a6365c841c4ad", "short_hash": "0f29456d0804", "author_name": "Hongbo Yao", "author_email": "yaohongbo@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T22:01:03+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-04-29T15:44:45+01:00", "subject": "irqchip/gic-v3-its: fix some definitions of inner cacheability attributes", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8c828a535e29f (\"irqchip/gicv3-its: Restore all cacheability attributes\")", "cc_stable": false, "subsystem_prefix": "include/", "subsystems_touched": ["include/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 6, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["Hongbo Yao <yaohongbo@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -165,7 +165,7 @@\n #define GICR_PROPBASER_nCnB\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, nCnB)\n #define GICR_PROPBASER_nC \tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, nC)\n #define GICR_PROPBASER_RaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWt)\n-#define GICR_PROPBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWt)\n+#define GICR_PROPBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWb)\n #define GICR_PROPBASER_WaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, WaWt)\n #define GICR_PROPBASER_WaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, WaWb)\n #define GICR_PROPBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWaWt)", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/0f29456d08042134aff6e562d07a6365c841c4ad"}
{"commit_hash": "527bd754d1ffc4bbd89a33c643e74c53d713eb4e", "short_hash": "527bd754d1ff", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:16+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-29T15:53:43+02:00", "subject": "rtc: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/rtc", "subsystems_touched": ["drivers/rtc"], "subsystem_tier": 4, "files_changed": 6, "insertions": 21, "deletions": 38, "hunks": 36, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change across 6 RTC driver files, net code reduction"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration with code simplification, affects RTC users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message quality, Cc tags, single maintainer review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to Bootlin maintainer"}}, "score_justification": "API migration from platform_get_drvdata to dev_get_drvdata across 6 RTC drivers", "code_snippet": "@@ -368,15 +367,13 @@ static int wm831x_rtc_suspend(struct device *dev)\n  */\n static int wm831x_rtc_resume(struct device *dev)\n {\n-\tstruct platform_device *pdev = to_platform_device(dev);\n-\tstruct wm831x_rtc *wm831x_rtc = dev_get_drvdata(&pdev->dev);\n+\tstruct wm831x_rtc *wm831x_rtc = dev_get_drvdata(dev);\n \tint ret;\n \n \tif (wm831x_rtc->alarm_enabled) {\n \t\tret = wm831x_rtc_start_alarm(wm831x_rtc);\n \t\tif (ret != 0)\n-\t\t\tdev_err(&pdev->dev,\n-\t\t\t\t\"Failed to restart RTC alarm: %d\\n\", ret);\n+\t\t\tdev_err(dev, \"Failed to restart RTC alarm: %d\\n\", ret);\n \t}\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/527bd754d1ffc4bbd89a33c643e74c53d713eb4e"}
{"commit_hash": "d671002be6bdd7f77a771e23bf3e95d1f16775e6", "short_hash": "d671002be6bd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T20:26:31+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-04-29T16:11:01+02:00", "subject": "locking/lockdep: Remove unnecessary unlikely()", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "locking", "subsystems_touched": ["kernel/locking"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical locking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with proper tags, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by kernel.org maintainer"}}, "score_justification": "Removes redundant unlikely() macro in lockdep, cleanup change", "code_snippet": "@@ -3256,7 +3256,7 @@ void lockdep_hardirqs_on(unsigned long ip)\n \t/*\n \t * See the fine text that goes along with this variable definition.\n \t */\n-\tif (DEBUG_LOCKS_WARN_ON(unlikely(early_boot_irqs_disabled)))\n+\tif (DEBUG_LOCKS_WARN_ON(early_boot_irqs_disabled))\n \t\treturn;\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d671002be6bdd7f77a771e23bf3e95d1f16775e6"}
{"commit_hash": "74cdf8cec7dd4c9c06533555a49b4afb429cb5be", "short_hash": "74cdf8cec7dd", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T15:10:44Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-29T16:20:24+02:00", "subject": "serial: milbeaut_usio: Fix error handling in probe and remove", "primary_category": "BUG-RESOURCE", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "Fixes: ba44dc043004 (\"serial: Add Milbeaut serial control\")", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": ["Sugaya Taichi <sugaya.taichi@socionext.com> (Socionext)"], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 15, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup in serial driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource handling fix with regression tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 13, "details": "Good message with Fixes tag and Tested-by"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Linux Foundation maintainer, Socionext tester"}}, "score_justification": "Resource leak fix removing unnecessary clk_put() with devm_clk_get(), plus cleanup of duplicate membase assignment", "code_snippet": "@@ -548,16 +546,12 @@ static int mlb_usio_probe(struct platform_device *pdev)\n \tret = uart_add_one_port(&mlb_usio_uart_driver, port);\n \tif (ret) {\n \t\tdev_err(&pdev->dev, \"Adding port failed: %d\\n\", ret);\n-\t\tgoto failed1;\n+\t\tgoto failed;\n \t}\n \treturn 0;\n \n-failed1:\n-\tiounmap(port->membase);\n-\n failed:\n \tclk_disable_unprepare(clk);\n-\tclk_put(clk);\n \n \treturn ret;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/74cdf8cec7dd4c9c06533555a49b4afb429cb5be"}
{"commit_hash": "2f1d4e24d91b1f475f939685e19bb1e537031661", "short_hash": "2f1d4e24d91b", "author_name": "Xiongfeng Wang", "author_email": "wangxiongfeng2@huawei.com", "author_company": "Huawei", "author_date": "2019-04-26T10:16:36+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-04-29T16:50:48+01:00", "subject": "firmware: arm_sdei: Prohibit probing in '_sdei_handler'", "primary_category": "SEC-HARDEN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "firmware", "subsystems_touched": ["drivers/firmware"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Xiongfeng Wang <wangxiongfeng2@huawei.com> (Huawei)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": ["James Morse <james.morse@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 16, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change adding NOKPROBE_SYMBOL markers in firmware subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Security hardening for NMI context, affects ARM SDEI users"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Reviewed-by from ARM, good explanation of NMI constraint"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, ARM maintainer committer, cross-org review"}}, "score_justification": "NMI context kprobe hardening for ARM SDEI firmware driver", "code_snippet": "@@ -165,6 +165,7 @@ static int invoke_sdei_fn(unsigned long function_id, unsigned long arg0,\n \n \treturn err;\n }\n+NOKPROBE_SYMBOL(invoke_sdei_fn);\n \n static struct sdei_event *sdei_event_find(u32 event_num)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2f1d4e24d91b1f475f939685e19bb1e537031661"}
{"commit_hash": "05039f01e63053add589255e4a9aa1d4c3e1f0c0", "short_hash": "05039f01e630", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T10:57:45+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-04-29T17:54:52+03:00", "subject": "ath9k: Remove some set but not used variables", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -2270,12 +2265,10 @@ static int ath_tx_prepare(struct ieee80211_hw *hw, struct sk_buff *skb,\n int ath_tx_start(struct ieee80211_hw *hw, struct sk_buff *skb,\n \t\t struct ath_tx_control *txctl)\n {\n-\tstruct ieee80211_hdr *hdr;\n \tstruct ieee80211_tx_info *info = IEEE80211_SKB_CB(skb);\n \tstruct ieee80211_sta *sta = txctl->sta;\n \tstruct ieee80211_vif *vif = info->control.vif;\n \tstruct ath_frame_info *fi = get_frame_info(skb);\n-\tstruct ath_vif *avp = NULL;\n \tstruct ath_softc *sc = hw->priv;\n \tstruct ath_txq *txq = txctl->txq;\n \tstruct ath_atx_tid *tid = NULL;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/05039f01e63053add589255e4a9aa1d4c3e1f0c0"}
{"commit_hash": "14cf9bc6085dfd5bff61db917d6d20f558979f27", "short_hash": "14cf9bc6085d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T11:24:09+08:00", "committer_name": "Luca Coelho", "committer_email": "luciano.coelho@intel.com", "committer_company": "Intel", "commit_date": "2019-04-29T18:42:44+03:00", "subject": "iwlwifi: Use correct channel_profile iniwl_get_nvm", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 2785ce008e3b (\"iwlwifi: support new NVM response API\")", "cc_stable": false, "subsystem_prefix": "iwlwifi", "subsystems_touched": ["drivers/net/wireless"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Luca Coelho <luciano.coelho@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting WiFi functionality"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Variable reference error in NVM parsing causing incorrect channel profile usage", "code_snippet": "@@ -1496,7 +1496,7 @@ struct iwl_nvm_data *iwl_get_nvm(struct iwl_trans *trans,\n \t\t\t  (void *)rsp_v3->regulatory.channel_profile;\n \n \tiwl_init_sbands(trans->dev, trans->cfg, nvm,\n-\t\t\trsp->regulatory.channel_profile,\n+\t\t\tchannel_profile,\n \t\t\tnvm->valid_tx_ant & fw->valid_tx_ant,\n \t\t\tnvm->valid_rx_ant & fw->valid_rx_ant,\n \t\t\tsbands_flags, v4);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/14cf9bc6085dfd5bff61db917d6d20f558979f27"}
{"commit_hash": "8f11b5ab441d3a80de7f079598a548350d3eed0b", "short_hash": "8f11b5ab441d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:32:55+08:00", "committer_name": "Gregory CLEMENT", "committer_email": "gregory.clement@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-04-30T09:05:39+02:00", "subject": "ARM: mvebu: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-mvebu"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Gregory CLEMENT <gregory.clement@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical arch ARM subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for specific ARM platform"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with coccinelle detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: ZTE author, Bootlin maintainer"}}, "score_justification": "Reference leak fix in ARM mvebu power management, detected by coccinelle", "code_snippet": "@@ -79,7 +79,7 @@ static void mvebu_armada_pm_enter(void __iomem *sdram_reg, u32 srcmd)\n static int __init mvebu_armada_pm_init(void)\n {\n \tstruct device_node *np;\n-\tstruct device_node *gpio_ctrl_np;\n+\tstruct device_node *gpio_ctrl_np = NULL;\n \tint ret = 0, i;\n \n \tif (!of_machine_is_compatible(\"marvell,axp-gp\"))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f11b5ab441d3a80de7f079598a548350d3eed0b"}
{"commit_hash": "c93ad1337ad06a718890a89cdd85188ff9a5a5cc", "short_hash": "c93ad1337ad0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-30T19:34:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-04-30T11:09:28-04:00", "subject": "appletalk: Set error code if register_snap_client failed", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9804501fa122 (\"appletalk: Fix potential NULL pointer dereference in unregister_snap_client\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/appletalk"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 19, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with regression tag but no stable CC"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to davem"}}, "score_justification": "NULL pointer dereference fix in appletalk init error path", "code_snippet": "@@ -1920,6 +1920,7 @@ static int __init atalk_init(void)\n \tddp_dl = register_snap_client(ddp_snap_id, atalk_rcv);\n \tif (!ddp_dl) {\n \t\tpr_crit(\"Unable to register DDP with SNAP.\\n\");\n+\t\trc = -ENOMEM;\n \t\tgoto out_sock;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c93ad1337ad06a718890a89cdd85188ff9a5a5cc"}
{"commit_hash": "e823d948b7e53dc982c867ac4ce7877fc0418897", "short_hash": "e823d948b7e5", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-30T09:59:41-05:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-04-30T17:55:08+02:00", "subject": "usb: musb: dsps: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/musb"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Bin Liu <b-liu@ti.com> (Texas Instruments)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 8, "score_impact": 10, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration affecting USB MUSB users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Minimal message, basic review chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer applied"}}, "score_justification": "Simple API migration from platform_get_drvdata to dev_get_drvdata in USB driver", "code_snippet": "@@ -168,8 +168,7 @@ static void dsps_mod_timer_optional(struct dsps_glue *glue)\n static void dsps_musb_enable(struct musb *musb)\n {\n \tstruct device *dev = musb->controller;\n-\tstruct platform_device *pdev = to_platform_device(dev->parent);\n-\tstruct dsps_glue *glue = platform_get_drvdata(pdev);\n+\tstruct dsps_glue *glue = dev_get_drvdata(dev->parent);\n \tconst struct dsps_musb_wrapper *wrp = glue->wrp;\n \tvoid __iomem *reg_base = musb->ctrl_base;\n \tu32 epmask, coremask;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e823d948b7e53dc982c867ac4ce7877fc0418897"}
{"commit_hash": "b8b002209c061273fd1ef7bb3c3c32301623a282", "short_hash": "b8b002209c06", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-23T19:40:30+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-04-30T21:32:19+02:00", "subject": "kvm_main: fix some comments", "primary_category": "DOC-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Cornelia Huck <cohuck@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 5, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny comment change in critical KVM subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 5, "details": "API doc update, minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review chain, clear message, no tests needed"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org (Tencent/Red Hat) with maintainer review"}}, "score_justification": "API doc update fixing outdated parameter names in KVM, cross-org reviewed", "code_snippet": "@@ -1134,11 +1134,11 @@ EXPORT_SYMBOL_GPL(kvm_get_dirty_log);\n \n #ifdef CONFIG_KVM_GENERIC_DIRTYLOG_READ_PROTECT\n /**\n- * kvm_get_dirty_log_protect - get a snapshot of dirty pages, and if any pages\n+ * kvm_get_dirty_log_protect - get a snapshot of dirty pages\n  *\tand reenable dirty page tracking for the corresponding pages.\n  * @kvm:\tpointer to kvm instance\n  * @log:\tslot id and address to which we copy the log\n- * @is_dirty:\tflag set if any page is dirty\n+ * @flush:\ttrue if TLB flush is needed by caller\n  *\n  * We need to keep it in mind that VCPU threads can write to the bitmap\n  * concurrently. So, to avoid losing track of dirty pages we keep the", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8b002209c061273fd1ef7bb3c3c32301623a282"}
{"commit_hash": "32eeb5614d3bf166e84fe69bb5f3a51a48cac7a1", "short_hash": "32eeb5614d3b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-29T23:44:56+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-05-01T12:09:27+10:00", "subject": "ocxl: remove set but not used variables 'tid' and 'lpid'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": ["Andrew Donnellan <andrew.donnellan@au1.ibm.com> (IBM)", "Frederic Barrat <fbarrat@linux.ibm.com> (IBM)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -184,7 +184,7 @@ static irqreturn_t xsl_fault_handler(int irq, void *data)\n \tu64 dsisr, dar, pe_handle;\n \tstruct pe_data *pe_data;\n \tstruct ocxl_process_element *pe;\n-\tint lpid, pid, tid;\n+\tint pid;\n \tbool schedule = false;\n \n \tread_irq(spa, &dsisr, &dar, &pe_handle);", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/32eeb5614d3bf166e84fe69bb5f3a51a48cac7a1"}
{"commit_hash": "04b8e65922f631e297bde9536306f879e6fd952b", "short_hash": "04b8e65922f6", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T15:16:41+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:03:58+02:00", "subject": "mt76: add mac80211 driver for MT7615 PCIe-based chipsets", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 17, "insertions": 4863, "deletions": 0, "hunks": 34, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Roy Luo <royluo@google.com> (Google)", "Lorenzo Bianconi <lorenzo@kernel.org> (Kernel)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 56, "score_technical": 18, "score_impact": 20, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 12, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 18, "details": "Massive new driver: 4863 lines, 17 files, 34 hunks"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "Complete new driver for popular WiFi chipset"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "4 sign-offs from 3 companies, decent message"}, "community": {"cross_org": 4, "maintainer": 2, "response": 0, "subtotal": 6, "details": "Author (MediaTek) + committer (nbd) + Google reviewer"}}, "score_justification": "New mt7615 WiFi driver (4863 LOC) with cross-org review (MediaTek, Google, nbd)", "code_snippet": "@@ -69,6 +69,7 @@ enum mt76_txq_id {\n \tMT_TXQ_MCU,\n \tMT_TXQ_BEACON,\n \tMT_TXQ_CAB,\n+\tMT_TXQ_FWDL,\n \t__MT_TXQ_MAX\n };\n \ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig b/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig\nnew file mode 100644\nindex 000000000000..3b8aba09bd5e\n--- /dev/null\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/Kconfig", "flags": ["LARGE_DRIVER"], "link": "https://lore.kernel.org/linux-kernel/04b8e65922f631e297bde9536306f879e6fd952b"}
{"commit_hash": "c92b52691e542eb0008b64ce76de51129a0ade53", "short_hash": "c92b52691e54", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T15:16:44+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:03:59+02:00", "subject": "MAINTAINERS: update entry for mt76 wireless driver", "primary_category": "DOC-MAINTAINERS", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "networking", "subsystems_touched": ["networking"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 10, "score_technical": 2, "score_impact": 3, "score_quality": 5, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "2 lines in MAINTAINERS file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 3, "details": "MAINTAINERS update adds reviewers"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Clear message, proper SOB chain"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Mediatek author, nbd committer"}}, "score_justification": "MAINTAINERS file update adding two reviewers (R) to mt76 wireless driver entry", "code_snippet": "@@ -9781,6 +9781,8 @@ F:\tDocumentation/devicetree/bindings/media/mediatek-vpu.txt\n MEDIATEK MT76 WIRELESS LAN DRIVER\n M:\tFelix Fietkau <nbd@nbd.name>\n M:\tLorenzo Bianconi <lorenzo.bianconi83@gmail.com>\n+R:\tRyder Lee <ryder.lee@mediatek.com>\n+R:\tRoy Luo <royluo@google.com>\n L:\tlinux-wireless@vger.kernel.org\n S:\tMaintained\n F:\tdrivers/net/wireless/mediatek/mt76/\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c92b52691e542eb0008b64ce76de51129a0ade53"}
{"commit_hash": "b183878a74510879e513a8686ada81746e62a846", "short_hash": "b183878a7451", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T15:16:43+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:03:59+02:00", "subject": "mt76: use macro for sn and seq_ctrl conversion", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 4, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Roy Luo <royluo@google.com> (Google)", "Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 8, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup across 4 files in wireless driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Readability improvement with no functional change"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup with minimal commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Code readability cleanup replacing bit shifts with standard macros", "code_snippet": "@@ -135,7 +135,7 @@ mt76_rx_aggr_check_ctl(struct sk_buff *skb, struct sk_buff_head *frames)\n \t\treturn;\n \n \tstatus->tid = le16_to_cpu(bar->control) >> 12;\n-\tseqno = le16_to_cpu(bar->start_seq_num) >> 4;\n+\tseqno = IEEE80211_SEQ_TO_SN(le16_to_cpu(bar->start_seq_num));\n \ttid = rcu_dereference(wcid->aggr[status->tid]);\n \tif (!tid)\n \t\treturn;\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7603/mac.c b/drivers/net/wireless/mediatek/mt76/mt7603/mac.c\nindex c10adebde383..2fd63597d305 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7603/mac.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7603/mac.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b183878a74510879e513a8686ada81746e62a846"}
{"commit_hash": "6edf07478da50ffbe64110391dada12bc1711f29", "short_hash": "6edf07478da5", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-01T15:16:42+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:03:59+02:00", "subject": "mt76: add unlikely() for dma_mapping_error() check", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver fastpath"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization in hot path"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, clear rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, independent maintainer"}}, "score_justification": "Micro-optimization adding unlikely() to DMA error checks in wireless driver fastpath", "code_snippet": "@@ -272,7 +272,7 @@ mt76_dma_tx_queue_skb_raw(struct mt76_dev *dev, enum mt76_txq_id qid,\n \n \taddr = dma_map_single(dev->dev, skb->data, skb->len,\n \t\t\t      DMA_TO_DEVICE);\n-\tif (dma_mapping_error(dev->dev, addr))\n+\tif (unlikely(dma_mapping_error(dev->dev, addr)))\n \t\treturn -ENOMEM;\n \n \tbuf.addr = addr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6edf07478da50ffbe64110391dada12bc1711f29"}
{"commit_hash": "f1103fa6b34921672cc52e89e76d8e7ba919126f", "short_hash": "f1103fa6b349", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-30T21:55:38+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:04:00+02:00", "subject": "mt76: add TX/RX antenna pattern capabilities", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change adding 2 lines in driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Feature enhancement for specific driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review chain, minimal message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Cross-company commit by author/committer"}}, "score_justification": "Functional enhancement adding TX/RX antenna pattern capabilities to mt76 wireless driver", "code_snippet": "@@ -214,6 +214,8 @@ mt76_init_sband(struct mt76_dev *dev, struct mt76_sband *msband,\n \tvht_cap->cap |= IEEE80211_VHT_CAP_RXLDPC |\n \t\t\tIEEE80211_VHT_CAP_RXSTBC_1 |\n \t\t\tIEEE80211_VHT_CAP_SHORT_GI_80 |\n+\t\t\tIEEE80211_VHT_CAP_RX_ANTENNA_PATTERN |\n+\t\t\tIEEE80211_VHT_CAP_TX_ANTENNA_PATTERN |\n \t\t\t(3 << IEEE80211_VHT_CAP_MAX_A_MPDU_LENGTH_EXPONENT_SHIFT);\n \n \treturn 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1103fa6b34921672cc52e89e76d8e7ba919126f"}
{"commit_hash": "e802794657911aca86cde9afcadc823d945cb5af", "short_hash": "e80279465791", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-26T16:09:22+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-05-01T13:04:00+02:00", "subject": "mt76: fix endianness sparse warnings", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 7, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": ["Stanislaw Gruszka <sgruszka@redhat.com"], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -590,7 +590,7 @@ mt7603_mac_fill_rx(struct mt7603_dev *dev, struct sk_buff *skb)\n \tstatus->aggr = unicast &&\n \t\t       !ieee80211_is_qos_nullfunc(hdr->frame_control);\n \tstatus->tid = *ieee80211_get_qos_ctl(hdr) & IEEE80211_QOS_CTL_TID_MASK;\n-\tstatus->seqno = IEEE80211_SEQ_TO_SN(hdr->seq_ctrl);\n+\tstatus->seqno = IEEE80211_SEQ_TO_SN(le16_to_cpu(hdr->seq_ctrl));\n \n \treturn 0;\n }\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/mac.c b/drivers/net/wireless/mediatek/mt76/mt7615/mac.c\nindex 1bf3e7b5f6a7..b8f48d10f27a 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/mac.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/mac.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e802794657911aca86cde9afcadc823d945cb5af"}
{"commit_hash": "ac97a359b72d340e1c04083451b1c6d2f41eb317", "short_hash": "ac97a359b72d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-30T01:55:24Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-01T14:29:35-04:00", "subject": "net: ethernet: ti: cpsw: Fix inconsistent IS_ERR and PTR_ERR in cpsw_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 83a8471ba255 (\"net: ethernet: ti: cpsw: refactor probe to group common hw initialization\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/ti"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Andrew Lunn <andrew@lunn.ch> (Lunn)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2-line fix in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic error fix with backport potential"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Single reviewer, clear Fixes tag, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer, cross-org review"}}, "score_justification": "Wrong variable passed to PTR_ERR in network driver error path", "code_snippet": "@@ -2381,7 +2381,7 @@ static int cpsw_probe(struct platform_device *pdev)\n \n \tclk = devm_clk_get(dev, \"fck\");\n \tif (IS_ERR(clk)) {\n-\t\tret = PTR_ERR(mode);\n+\t\tret = PTR_ERR(clk);\n \t\tdev_err(dev, \"fck is not found %d\\n\", ret);\n \t\treturn ret;\n \t}\n", "flags": ["COCCINELLE_DETECTED"], "link": "https://lore.kernel.org/linux-kernel/ac97a359b72d340e1c04083451b1c6d2f41eb317"}
{"commit_hash": "72e6841608b9ce7e04515ed43693b2878936c93a", "short_hash": "72e6841608b9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-08T22:39:49+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:37:45+09:00", "subject": "spi: spi-mem: Fix build error without CONFIG_SPI_MEM", "primary_category": "BUILD-FIX", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "Fixes: 67dca5e580f1 (\"spi: spi-mem: Add support for Zynq QSPI controller\")", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small build fix in SPI driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build error fix with regression tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Fixes tag, clear message, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author@Huawei, committer@kernel.org"}}, "score_justification": "Build error fix adding static inline stub for CONFIG_SPI_MEM config", "code_snippet": "@@ -310,6 +314,13 @@ spi_controller_dma_unmap_mem_op_data(struct spi_controller *ctlr,\n \t\t\t\t     struct sg_table *sg)\n {\n }\n+\n+bool spi_mem_default_supports_op(struct spi_mem *mem,\n+\t\t\t\t const struct spi_mem_op *op)\n+{\n+\treturn false;\n+}\n+\n #endif /* CONFIG_SPI_MEM */\n \n int spi_mem_adjust_op_size(struct spi_mem *mem, struct spi_mem_op *op);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72e6841608b9ce7e04515ed43693b2878936c93a"}
{"commit_hash": "b5881b153bc81d63a5a7e82a35e8a4bdbe1f8c73", "short_hash": "b5881b153bc8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-10T21:18:28+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:37:46+09:00", "subject": "spi: spi-mem: Make spi_mem_default_supports_op() static inline", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "include/", "subsystems_touched": ["include/"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -315,6 +315,7 @@ spi_controller_dma_unmap_mem_op_data(struct spi_controller *ctlr,\n {\n }\n \n+static inline\n bool spi_mem_default_supports_op(struct spi_mem *mem,\n \t\t\t\t const struct spi_mem_op *op)\n {\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/b5881b153bc81d63a5a7e82a35e8a4bdbe1f8c73"}
{"commit_hash": "bf6e839657598b77e40eb18225f8660c4778cb19", "short_hash": "bf6e83965759", "author_name": "Leilk Liu", "author_email": "leilk.liu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:47:16+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:37:54+09:00", "subject": "dt-bindings: spi: spi-mt65xx: add support for MT8516", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Leilk Liu <leilk.liu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 3, "score_impact": 11, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "Single line addition to DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New SoC support in binding documentation"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Reviewed-by, clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "DT binding documentation adding MT8516 SoC support, cross-company review", "code_snippet": "@@ -10,6 +10,7 @@ Required properties:\n     - mediatek,mt8135-spi: for mt8135 platforms\n     - mediatek,mt8173-spi: for mt8173 platforms\n     - mediatek,mt8183-spi: for mt8183 platforms\n+    - \"mediatek,mt8516-spi\", \"mediatek,mt2712-spi\": for mt8516 platforms\n \n - #address-cells: should be 1.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf6e839657598b77e40eb18225f8660c4778cb19"}
{"commit_hash": "f2a1fdb50d3187266a91bcf99b504e99695772a6", "short_hash": "f2a1fdb50d31", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T23:29:32+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:45:59+09:00", "subject": "ASoC: Mediatek: MT8183: Fix build err while CONFIG_I2C set to module", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ebbddc75bbe8 (\"ASoC: Mediatek: MT8183: Add machine driver with DA7219\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 8, "score_impact": 12, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1-line Kconfig fix in audio subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build error fix affecting audio driver users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with build error details and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei->Kernel.org), reported by robot"}}, "score_justification": "Kconfig dependency fix preventing build errors when I2C is modular", "code_snippet": "@@ -118,6 +118,7 @@ config SND_SOC_MT8183\n \n config SND_SOC_MT8183_MT6358_TS3A227E_MAX98357A\n \ttristate \"ASoC Audio driver for MT8183 with MT6358 TS3A227E MAX98357A codec\"\n+\tdepends on I2C\n \tdepends on SND_SOC_MT8183\n \tselect SND_SOC_MT6358\n \tselect SND_SOC_MAX98357A\n", "flags": ["FIXES_TAG", "REPORTED_BY"], "link": "https://lore.kernel.org/linux-kernel/f2a1fdb50d3187266a91bcf99b504e99695772a6"}
{"commit_hash": "a0c34c7629bee46ffd8121987d27df25a6433cc7", "short_hash": "a0c34c7629be", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T23:09:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:46:02+09:00", "subject": "ASoC: fsl_micfil: Remove set but not used variable 'osr'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -151,12 +151,9 @@ static inline int get_clk_div(struct fsl_micfil *micfil,\n {\n \tu32 ctrl2_reg;\n \tlong mclk_rate;\n-\tint osr;\n \tint clk_div;\n \n \tregmap_read(micfil->regmap, REG_MICFIL_CTRL2, &ctrl2_reg);\n-\tosr = 16 - ((ctrl2_reg & MICFIL_CTRL2_CICOSR_MASK)\n-\t\t    >> MICFIL_CTRL2_CICOSR_SHIFT);\n \n \tmclk_rate = clk_get_rate(micfil->mclk);\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a0c34c7629bee46ffd8121987d27df25a6433cc7"}
{"commit_hash": "a1a86e1bd4a87fd09171fd8555fe7490917e4e94", "short_hash": "a1a86e1bd4a8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T22:52:51+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:46:03+09:00", "subject": "ASoC: amd: acp3x: Make acp3x_dai_i2s_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/amd"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean sparse warning fix with clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Sparse warning fix adding static keyword to unused global structure in AMD ASoC driver.", "code_snippet": "@@ -558,7 +558,7 @@ static int acp3x_dai_i2s_trigger(struct snd_pcm_substream *substream,\n \treturn ret;\n }\n \n-struct snd_soc_dai_ops acp3x_dai_i2s_ops = {\n+static struct snd_soc_dai_ops acp3x_dai_i2s_ops = {\n \t.hw_params = acp3x_dai_i2s_hwparams,\n \t.trigger   = acp3x_dai_i2s_trigger,\n \t.set_fmt = acp3x_dai_i2s_set_fmt,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1a86e1bd4a87fd09171fd8555fe7490917e4e94"}
{"commit_hash": "83b4f50ca2b2e93346195b51f58e8089f9f35c0b", "short_hash": "83b4f50ca2b2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-17T23:01:57+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:46:03+09:00", "subject": "ASoC: tlv320aic32x4: Remove set but not used variable 'mclk_rate'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 96c3bb00239d (\"ASoC: tlv320aic32x4: Dynamically Determine Clocking\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small cleanup in audio codec driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear warning context with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Huawei to kernel.org maintainer"}}, "score_justification": "Removes unused variable to fix compiler warning in ASoC codec driver", "code_snippet": "@@ -684,9 +684,8 @@ static int aic32x4_setup_clocks(struct snd_soc_component *component,\n \tu8 madc, nadc, mdac, ndac, max_nadc, min_mdac, max_ndac;\n \tu8 dosr_increment;\n \tu16 max_dosr, min_dosr;\n-\tunsigned long mclk_rate, adc_clock_rate, dac_clock_rate;\n+\tunsigned long adc_clock_rate, dac_clock_rate;\n \tint ret;\n-\tstruct clk *mclk;\n \n \tstruct clk_bulk_data clocks[] = {\n \t\t{ .id = \"pll\" },", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83b4f50ca2b2e93346195b51f58e8089f9f35c0b"}
{"commit_hash": "6f547c96b45de0d42de91ef56c7d291aa6d3c88f", "short_hash": "6f547c96b45d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-16T22:47:18+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:46:05+09:00", "subject": "ASoC: atmel: tse850: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/atmel"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in ASoC driver fixing sparse warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good commit message with sparse warning details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Sparse warning fix adding static keyword to 4 unused global functions in ASoC driver.", "code_snippet": "@@ -117,8 +117,8 @@ static int tse850_put_mux2(struct snd_kcontrol *kctrl,\n \treturn snd_soc_dapm_put_enum_double(kctrl, ucontrol);\n }\n \n-int tse850_get_mix(struct snd_kcontrol *kctrl,\n-\t\t   struct snd_ctl_elem_value *ucontrol)\n+static int tse850_get_mix(struct snd_kcontrol *kctrl,\n+\t\t\t  struct snd_ctl_elem_value *ucontrol)\n {\n \tstruct snd_soc_dapm_context *dapm = snd_soc_dapm_kcontrol_dapm(kctrl);\n \tstruct snd_soc_card *card = dapm->card;", "flags": ["HULK_ROBOT_REPORT"], "link": "https://lore.kernel.org/linux-kernel/6f547c96b45de0d42de91ef56c7d291aa6d3c88f"}
{"commit_hash": "d232591c9482ddb121b60782d2e7dac1c4880bdb", "short_hash": "d232591c9482", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-09T17:13:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T10:46:18+09:00", "subject": "ASoC: Mediatek: MT8183: add I2S2 control path from UL2 and UL3", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 38, "deletions": 0, "hunks": 28, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change adding I2S2 audio routing in sound driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "New hardware support for MT8183 audio paths"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic commit message, single maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Mediatek, maintainer Mark Brown applied"}}, "score_justification": "Hardware support addition for MT8183 I2S2 audio control paths", "code_snippet": "@@ -291,11 +291,15 @@ static struct snd_soc_dai_driver mt8183_memif_dai_driver[] = {\n static const struct snd_kcontrol_new memif_ul1_ch1_mix[] = {\n \tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH1\", AFE_CONN21,\n \t\t\t\t    I_ADDA_UL_CH1, 1, 0),\n+\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH1\", AFE_CONN21,\n+\t\t\t\t    I_I2S0_CH1, 1, 0),\n };\n \n static const struct snd_kcontrol_new memif_ul1_ch2_mix[] = {\n \tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH2\", AFE_CONN22,\n \t\t\t\t    I_ADDA_UL_CH2, 1, 0),\n+\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH2\", AFE_CONN21,\n+\t\t\t\t    I_I2S0_CH2, 1, 0),\n };\n \n static const struct snd_kcontrol_new memif_ul2_ch1_mix[] = {", "flags": ["SOC_FIX"], "link": "https://lore.kernel.org/linux-kernel/d232591c9482ddb121b60782d2e7dac1c4880bdb"}
{"commit_hash": "7c88b92816dfe5eab224b96577b50ac00b4be68a", "short_hash": "7c88b92816df", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T12:25:12Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T11:01:17+09:00", "subject": "ASoC: sprd: Fix return value check in sprd_mcdt_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d7bff893e04f (\"ASoC: sprd: Add Spreadtrum multi-channel data transfer support\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sprd"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Baolin Wang <baolin.wang@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 4 lines changed in audio driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with Fixes tag, affects audio subsystem users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by, good message quality with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro reviewer, kernel.org maintainer"}}, "score_justification": "Error handling fix in audio driver probe function, proper ERR_PTR check", "code_snippet": "@@ -951,8 +951,8 @@ static int sprd_mcdt_probe(struct platform_device *pdev)\n \n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tmcdt->base = devm_ioremap_resource(&pdev->dev, res);\n-\tif (!mcdt->base)\n-\t\treturn -ENOMEM;\n+\tif (IS_ERR(mcdt->base))\n+\t\treturn PTR_ERR(mcdt->base);\n \n \tmcdt->dev = &pdev->dev;\n \tspin_lock_init(&mcdt->lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c88b92816dfe5eab224b96577b50ac00b4be68a"}
{"commit_hash": "81a812c98b6eda7e3101305d57354433e3edc541", "short_hash": "81a812c98b6e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T12:37:13Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-02T11:01:53+09:00", "subject": "ASoC: sprd: Fix to use list_for_each_entry_safe() when delete items", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: d7bff893e04f (\"ASoC: sprd: Add Spreadtrum multi-channel data transfer support\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/sprd"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Baolin Wang <baolin.wang@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 8, "score_impact": 20, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in sound subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "List corruption crash fix with Fixes tag"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Good reviews and clear explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Linaro reviewer, kernel.org maintainer"}}, "score_justification": "List iteration bug fix preventing potential crash during module removal", "code_snippet": "@@ -978,12 +978,12 @@ static int sprd_mcdt_probe(struct platform_device *pdev)\n \n static int sprd_mcdt_remove(struct platform_device *pdev)\n {\n-\tstruct sprd_mcdt_chan *temp;\n+\tstruct sprd_mcdt_chan *chan, *temp;\n \n \tmutex_lock(&sprd_mcdt_list_mutex);\n \n-\tlist_for_each_entry(temp, &sprd_mcdt_chan_list, list)\n-\t\tlist_del(&temp->list);\n+\tlist_for_each_entry_safe(chan, temp, &sprd_mcdt_chan_list, list)\n+\t\tlist_del(&chan->list);\n \n \tmutex_unlock(&sprd_mcdt_list_mutex);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/81a812c98b6eda7e3101305d57354433e3edc541"}
{"commit_hash": "02d15f0d80720545f1f4922a1550ea4aaad4e152", "short_hash": "02d15f0d8072", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-12T14:02:23+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-03T07:53:13+01:00", "subject": "pinctrl: zte: fix leaked of_node references", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/zte"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Shawn Guo <shawnguo@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in driver subsystem with 2 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix for specific driver platform"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with coccinelle detection, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from Linaro, cross-company review"}}, "score_justification": "Device tree reference leak fix detected by coccinelle, properly scoped with clear explanation", "code_snippet": "@@ -411,6 +411,7 @@ int zx_pinctrl_init(struct platform_device *pdev,\n \t}\n \n \tzpctl->aux_base = of_iomap(np, 0);\n+\tof_node_put(np);\n \tif (!zpctl->aux_base)\n \t\treturn -ENOMEM;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/02d15f0d80720545f1f4922a1550ea4aaad4e152"}
{"commit_hash": "60722c4eefbc9acddaf5e641f6dfb24bce930f9a", "short_hash": "60722c4eefbc", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-17T16:28:19+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-05-03T09:13:47+03:00", "subject": "usb: dwc2: get optional clock by devm_clk_get_optional()", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/dwc2"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Minas Harutyunyan <hminas@synopsys.com> (Synopsys)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in USB driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes probe deferral handling for USB users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Acked-by tag, good explanation of issue"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Probe deferral bug fix in DWC2 USB driver via API migration to devm_clk_get_optional()", "code_snippet": "@@ -284,10 +284,10 @@ static int dwc2_lowlevel_hw_init(struct dwc2_hsotg *hsotg)\n \t}\n \n \t/* Clock */\n-\thsotg->clk = devm_clk_get(hsotg->dev, \"otg\");\n+\thsotg->clk = devm_clk_get_optional(hsotg->dev, \"otg\");\n \tif (IS_ERR(hsotg->clk)) {\n-\t\thsotg->clk = NULL;\n-\t\tdev_dbg(hsotg->dev, \"cannot get otg clock\\n\");\n+\t\tdev_err(hsotg->dev, \"cannot get otg clock\\n\");\n+\t\treturn PTR_ERR(hsotg->clk);\n \t}\n \n \t/* Regulators */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60722c4eefbc9acddaf5e641f6dfb24bce930f9a"}
{"commit_hash": "4035c5b5f2e13b96b6dd5a6d746adad269f832cf", "short_hash": "4035c5b5f2e1", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-21T10:27:56+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-05-03T09:13:48+03:00", "subject": "usb: introduce usb_ep_type_string() function", "primary_category": "MAINT-DUP", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/usb", "subsystems_touched": ["drivers/usb/common", "drivers/usb/core", "drivers/usb/gadget", "include/linux/usb"], "subsystem_tier": 3, "files_changed": 5, "insertions": 28, "deletions": 35, "hunks": 12, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 10, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 12, "details": "5 files, 12 hunks, 63 lines changed in USB subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 10, "details": "Deduplication utility with new API function, low runtime impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with context, dual Signed-off-by, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from Intel, cross-company collaboration"}}, "score_justification": "Deduplication commit adding usb_ep_type_string() helper to eliminate repeated switch statements across multiple USB drivers", "code_snippet": "@@ -16,6 +16,22 @@\n #include <linux/usb/otg.h>\n #include <linux/of_platform.h>\n \n+static const char *const ep_type_names[] = {\n+\t[USB_ENDPOINT_XFER_CONTROL] = \"ctrl\",\n+\t[USB_ENDPOINT_XFER_ISOC] = \"isoc\",\n+\t[USB_ENDPOINT_XFER_BULK] = \"bulk\",\n+\t[USB_ENDPOINT_XFER_INT] = \"intr\",\n+};\n+\n+const char *usb_ep_type_string(int ep_type)\n+{\n+\tif (ep_type < 0 || ep_type >= ARRAY_SIZE(ep_type_names))\n+\t\treturn \"unknown\";\n+\n+\treturn ep_type_names[ep_type];\n+}\n+EXPORT_SYMBOL_GPL(usb_ep_type_string);\n+", "flags": ["CODE_DEDUP", "NEW_API"], "link": "https://lore.kernel.org/linux-kernel/4035c5b5f2e13b96b6dd5a6d746adad269f832cf"}
{"commit_hash": "6bbc3936a4559590567ba902f817907576fe34d0", "short_hash": "6bbc3936a455", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T15:53:52+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-05-03T14:03:29+08:00", "subject": "crypto: atmel - remove set but not used variable 'alg_name'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 52ea3cd2917b (\"crypto: atmel - Forbid 2-key 3DES in FIPS mode\")", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": ["Nicolas Ferre <nicolas.ferre@microchip.com> (Microchip)", "Tudor Ambarus <tudor.ambarus@microchip.com> (Microchip)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 3-line deletion in crypto driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-reviewed with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei/Microchip, maintainer commit"}}, "score_justification": "Warning fix removing unused variable in crypto driver", "code_snippet": "@@ -800,12 +800,9 @@ static int atmel_tdes_setkey(struct crypto_ablkcipher *tfm, const u8 *key,\n \t\t\t   unsigned int keylen)\n {\n \tstruct atmel_tdes_ctx *ctx = crypto_ablkcipher_ctx(tfm);\n-\tconst char *alg_name;\n \tu32 flags;\n \tint err;\n \n-\talg_name = crypto_tfm_alg_name(crypto_ablkcipher_tfm(tfm));\n-\n \tflags = crypto_ablkcipher_get_flags(tfm);\n \terr = __des3_verify_key(&flags, key);\n \tif (unlikely(err)) {\n", "flags": ["CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/6bbc3936a4559590567ba902f817907576fe34d0"}
{"commit_hash": "0e4c61011417b68dd1d81f1820d11cd127dee9ac", "short_hash": "0e4c61011417", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:49:57+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-05-03T14:03:29+08:00", "subject": "crypto: picoxcell - Use dev_get_drvdata()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 5, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line simplification in crypto driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "API migration with limited user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Simple change with basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer sign-off"}}, "score_justification": "API migration to dev_get_drvdata() in picoxcell driver", "code_snippet": "@@ -1215,7 +1215,7 @@ static const struct dev_pm_ops spacc_pm_ops = {\n \n static inline struct spacc_engine *spacc_dev_to_engine(struct device *dev)\n {\n-\treturn dev ? platform_get_drvdata(to_platform_device(dev)) : NULL;\n+\treturn dev ? dev_get_drvdata(dev) : NULL;\n }\n \n static ssize_t spacc_stat_irq_thresh_show(struct device *dev,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e4c61011417b68dd1d81f1820d11cd127dee9ac"}
{"commit_hash": "50af32727509a36fc9bbb370c6f6cb14a961dc97", "short_hash": "50af32727509", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-28T16:28:27+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-05-03T14:03:30+08:00", "subject": "crypto: ccree - remove set but not used variable 'du_size'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto/ccree"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in crypto driver (8 lines removed)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer merged"}}, "score_justification": "Compiler warning fix removing unused variable in crypto driver", "code_snippet": "@@ -642,16 +642,8 @@ static void cc_setup_key_desc(struct crypto_tfm *tfm,\n \tint direction = req_ctx->gen_ctx.op_type;\n \tdma_addr_t key_dma_addr = ctx_p->user.key_dma_addr;\n \tunsigned int key_len = ctx_p->keylen;\n-\tunsigned int du_size = nbytes;\n \tunsigned int din_size;\n \n-\tstruct cc_crypto_alg *cc_alg =\n-\t\tcontainer_of(tfm->__crt_alg, struct cc_crypto_alg,\n-\t\t\t     skcipher_alg.base);\n-\n-\tif (cc_alg->data_unit)\n-\t\tdu_size = cc_alg->data_unit;\n-\n \tswitch (cipher_mode) {\n \tcase DRV_CIPHER_CBC:\n \tcase DRV_CIPHER_CBC_CTS:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/50af32727509a36fc9bbb370c6f6cb14a961dc97"}
{"commit_hash": "181a9096717b8d2128eb1162d07a4f4ee0f9f4b8", "short_hash": "181a9096717b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-27T00:43:13+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-05-03T14:03:30+08:00", "subject": "crypto: ccree - Make cc_sec_disable static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/ccree"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line change in crypto subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple fix with clear explanation, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer Herbert Xu committed"}}, "score_justification": "Sparse warning fix adding static keyword to crypto driver variable", "code_snippet": "@@ -34,7 +34,7 @@ bool cc_dump_bytes;\n module_param_named(dump_bytes, cc_dump_bytes, bool, 0600);\n MODULE_PARM_DESC(cc_dump_bytes, \"Dump buffers to kernel log as debugging aid\");\n \n-bool cc_sec_disable;\n+static bool cc_sec_disable;\n module_param_named(sec_disable, cc_sec_disable, bool, 0600);\n MODULE_PARM_DESC(cc_sec_disable, \"Disable security functions\");\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/181a9096717b8d2128eb1162d07a4f4ee0f9f4b8"}
{"commit_hash": "88d10bd6f73014e8392968cc1db246ad4bf98792", "short_hash": "88d10bd6f730", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-03T17:50:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-04T00:02:40-04:00", "subject": "net: hns3: add support for multiple media type", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 8, "insertions": 246, "deletions": 63, "hunks": 46, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 14, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large driver change across 8 files, 46 hunks in tier-3 networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement adding media type support for hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with context and example, internal review from Huawei"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer David Miller committed, cross-org submission"}}, "score_justification": "Hardware support enhancement adding multiple media type detection (SR/LR/CR/KR) for Hisilicon hns3 NIC driver", "code_snippet": "@@ -120,6 +120,18 @@ enum hnae3_media_type {\n \tHNAE3_MEDIA_TYPE_NONE,\n };\n \n+/* must be consistent with definition in firmware */\n+enum hnae3_module_type {\n+\tHNAE3_MODULE_TYPE_UNKNOWN\t= 0x00,\n+\tHNAE3_MODULE_TYPE_FIBRE_LR\t= 0x01,\n+\tHNAE3_MODULE_TYPE_FIBRE_SR\t= 0x02,\n+\tHNAE3_MODULE_TYPE_AOC\t\t= 0x03,\n+\tHNAE3_MODULE_TYPE_CR\t\t= 0x04,\n+\tHNAE3_MODULE_TYPE_KR\t\t= 0x05,\n+\tHNAE3_MODULE_TYPE_TP\t\t= 0x06,\n+\n+};\n+\n enum hnae3_reset_notify_type {\n \tHNAE3_UP_CLIENT,\n \tHNAE3_DOWN_CLIENT,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/88d10bd6f73014e8392968cc1db246ad4bf98792"}
{"commit_hash": "7e6ec9148a1d83f187397034c0d9f1de84ee0c60", "short_hash": "7e6ec9148a1d", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-03T17:50:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-04T00:02:41-04:00", "subject": "net: hns3: add support for FEC encoding control", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 5, "insertions": 213, "deletions": 1, "hunks": 26, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 14, "score_impact": 15, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "5 files, 26 hunks, +213/-1 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "New FEC control feature for hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 sign-offs, good message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, different maintainer committer"}}, "score_justification": "New FEC encoding control feature for Hisilicon hns3 network driver", "code_snippet": "@@ -132,6 +132,13 @@ enum hnae3_module_type {\n \n };\n \n+enum hnae3_fec_mode {\n+\tHNAE3_FEC_AUTO = 0,\n+\tHNAE3_FEC_BASER,\n+\tHNAE3_FEC_RS,\n+\tHNAE3_FEC_USER_DEF,\n+};\n+\n enum hnae3_reset_notify_type {\n \tHNAE3_UP_CLIENT,\n \tHNAE3_DOWN_CLIENT,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7e6ec9148a1d83f187397034c0d9f1de84ee0c60"}
{"commit_hash": "22f48e24a23de68360ce9fcdce42d1612240d263", "short_hash": "22f48e24a23d", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-03T17:50:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-04T00:02:41-04:00", "subject": "net: hns3: add autoneg and change speed support for fibre port", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 163, "deletions": 11, "hunks": 26, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver - 3 files, 26 hunks, +163/-11 lines"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for fibre port autoneg/speed in HNS3 driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with context, only SOB tags from same company"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committer is davem (kernel.org maintainer)"}}, "score_justification": "", "code_snippet": "@@ -370,6 +375,7 @@ struct hnae3_ae_ops {\n \n \tint (*set_autoneg)(struct hnae3_handle *handle, bool enable);\n \tint (*get_autoneg)(struct hnae3_handle *handle);\n+\tint (*restart_autoneg)(struct hnae3_handle *handle);\n \n \tvoid (*get_coalesce_usecs)(struct hnae3_handle *handle,\n \t\t\t\t   u32 *tx_usecs, u32 *rx_usecs);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\nindex bf7fdb875f74..23ded8a14abf 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/22f48e24a23de68360ce9fcdce42d1612240d263"}
{"commit_hash": "de166bbe861738c8bc3e5dad5b03f45d7d6ef914", "short_hash": "de166bbe8617", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-28T23:48:10+08:00", "committer_name": "Stefan Schmidt", "committer_email": "stefan@datenfreihafen.org", "committer_company": "Datenfreihafen", "commit_date": "2019-05-04T20:44:39+02:00", "subject": "ieee802154: hwsim: unregister hw while hwsim_subscribe_all_others fails", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: f25da51fdc38 (\"ieee802154: hwsim: add replacement for fakelb\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ieee802154", "subsystems_touched": ["drivers/net/ieee802154"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stefan Schmidt <stefan@datenfreihafen.org> (Datenfreihafen)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Alexander Aring <aring@mojatatu.com> (Mojatatu)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 46, "score_technical": 8, "score_impact": 19, "score_quality": 14, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in driver subsystem (4 hunks, +3/-1 lines)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with error path cleanup, affects driver users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 14, "details": "Detailed KASAN report, Fixes tag, Reviewed-by, Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, Datenfreihafen maintainer, internal robot report"}}, "score_justification": "Error path resource leak causing kernel BUG crash in ieee802154 driver probe", "code_snippet": "@@ -813,7 +813,7 @@ static int hwsim_add_one(struct genl_info *info, struct device *dev,\n \t\terr = hwsim_subscribe_all_others(phy);\n \t\tif (err < 0) {\n \t\t\tmutex_unlock(&hwsim_phys_lock);\n-\t\t\tgoto err_reg;\n+\t\t\tgoto err_subscribe;\n \t\t}\n \t}\n \tlist_add_tail(&phy->list, &hwsim_phys);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de166bbe861738c8bc3e5dad5b03f45d7d6ef914"}
{"commit_hash": "1cbbbf39efab05fae67f59e6ed01bb85061c69e2", "short_hash": "1cbbbf39efab", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-28T22:14:51+08:00", "committer_name": "Stefan Schmidt", "committer_email": "stefan@datenfreihafen.org", "committer_company": "Datenfreihafen", "commit_date": "2019-05-04T20:44:39+02:00", "subject": "ieee802154: hwsim: Fix error handle path in hwsim_init_module", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: f25da51fdc38 (\"ieee802154: hwsim: add replacement for fakelb\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ieee802154", "subsystems_touched": ["drivers/net/ieee802154"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stefan Schmidt <stefan@datenfreihafen.org> (Datenfreihafen)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Alexander Aring <aring@mojatatu.com> (Mojatatu)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 6, "score_impact": 15, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in network driver (1 file, 2 hunks, 4 lines)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression crash fix with explicit Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 2, "atomicity": 2, "subtotal": 15, "details": "Excellent: full KASAN report, Fixes tag, Reported-by, Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Datenfreihafen committer, internal robot report"}}, "score_justification": "Error path cleanup ordering bug causing KASAN-detected crash with proper Fixes tag and cross-org review", "code_snippet": "@@ -912,9 +912,9 @@ static __init int hwsim_init_module(void)\n \treturn 0;\n \n platform_drv:\n-\tgenl_unregister_family(&hwsim_genl_family);\n-platform_dev:\n \tplatform_device_unregister(mac802154hwsim_dev);\n+platform_dev:\n+\tgenl_unregister_family(&hwsim_genl_family);\n \treturn rc;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1cbbbf39efab05fae67f59e6ed01bb85061c69e2"}
{"commit_hash": "71f150f4c2af5f1bc22c50f4d3d299fd7c177fd7", "short_hash": "71f150f4c2af", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T13:56:11Z", "committer_name": "Alexei Starovoitov", "committer_email": "ast@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-04T23:20:58-07:00", "subject": "bpf: Use PTR_ERR_OR_ZERO in bpf_fd_sk_storage_update_elem()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexei Starovoitov <ast@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Martin KaFai Lau <kafai@fb.com> (Fb)"], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical BPF subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed by maintainer, clean atomic change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Simple code simplification using PTR_ERR_OR_ZERO macro", "code_snippet": "@@ -708,7 +708,7 @@ static int bpf_fd_sk_storage_update_elem(struct bpf_map *map, void *key,\n \tif (sock) {\n \t\tsdata = sk_storage_update(sock->sk, map, value, map_flags);\n \t\tsockfd_put(sock);\n-\t\treturn IS_ERR(sdata) ? PTR_ERR(sdata) : 0;\n+\t\treturn PTR_ERR_OR_ZERO(sdata);\n \t}\n \n \treturn err;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/71f150f4c2af5f1bc22c50f4d3d299fd7c177fd7"}
{"commit_hash": "cc0d47b8eeb061cdb7715be1c4b90caf8d112142", "short_hash": "cc0d47b8eeb0", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-03T11:18:59Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-05T10:17:28-07:00", "subject": "drivers: net: davinci_mdio: fix return value check in davinci_mdio_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 03f66f067560 (\"net: ethernet: ti: davinci_mdio: use devm_ioremap()\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/ti"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with fixes tag for network driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single logical change with good message quality"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org from Huawei to davem maintainer"}}, "score_justification": "Wrong return value check for devm_ioremap() causing incorrect error handling", "code_snippet": "@@ -398,8 +398,8 @@ static int davinci_mdio_probe(struct platform_device *pdev)\n \n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tdata->regs = devm_ioremap(dev, res->start, resource_size(res));\n-\tif (IS_ERR(data->regs))\n-\t\treturn PTR_ERR(data->regs);\n+\tif (!data->regs)\n+\t\treturn -ENOMEM;\n \n \tdavinci_mdio_init_clk(data);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cc0d47b8eeb061cdb7715be1c4b90caf8d112142"}
{"commit_hash": "c424d224404e9d565202979de119b04a68d34dee", "short_hash": "c424d224404e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T04:04:05Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-05T10:47:15-07:00", "subject": "net: mvpp2: cls: Remove set but not used variable 'act'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1156,11 +1156,8 @@ static int mvpp2_port_flt_rfs_rule_insert(struct mvpp2_port *port,\n static int mvpp2_cls_c2_build_match(struct mvpp2_rfs_rule *rule)\n {\n \tstruct flow_rule *flow = rule->flow;\n-\tstruct flow_action_entry *act;\n \tint offs = 64;\n \n-\tact = &flow->action.entries[0];\n-\n \tif (flow_rule_match_key(flow, FLOW_DISSECTOR_KEY_PORTS)) {\n \t\tstruct flow_match_ports match;\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/c424d224404e9d565202979de119b04a68d34dee"}
{"commit_hash": "6e05b833de447b6718735d0315fb18fb411ef8ca", "short_hash": "6e05b833de44", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:10:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-05T10:48:45-07:00", "subject": "net: ll_temac: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/xilinx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in network driver fixing sparse warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with sparse warnings, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer from different org"}}, "score_justification": "Sparse warning fix adding static keyword to 6 functions in Xilinx network driver", "code_snippet": "@@ -63,22 +63,22 @@\n  * Low level register access functions\n  */\n \n-u32 _temac_ior_be(struct temac_local *lp, int offset)\n+static u32 _temac_ior_be(struct temac_local *lp, int offset)\n {\n \treturn ioread32be(lp->regs + offset);\n }\n \n-void _temac_iow_be(struct temac_local *lp, int offset, u32 value)\n+static void _temac_iow_be(struct temac_local *lp, int offset, u32 value)\n {\n \treturn iowrite32be(value, lp->regs + offset);\n }\n \n-u32 _temac_ior_le(struct temac_local *lp, int offset)\n+static u32 _temac_ior_le(struct temac_local *lp, int offset)\n {\n \treturn ioread32(lp->regs + offset);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e05b833de447b6718735d0315fb18fb411ef8ca"}
{"commit_hash": "69bbbdc5e1aa0f8e9e5cbc510479cae6dd030621", "short_hash": "69bbbdc5e1aa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T16:12:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-05T10:48:45-07:00", "subject": "netdevsim: Make nsim_num_vf static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/net/netdevsim"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in driver code fixing scope issue"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, clear message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei/Netronome), maintainer commit, robot report"}}, "score_justification": "Sparse warning fix for missing static keyword in netdevsim driver", "code_snippet": "@@ -250,7 +250,7 @@ static int nsim_bus_remove(struct device *dev)\n \treturn 0;\n }\n \n-int nsim_num_vf(struct device *dev)\n+static int nsim_num_vf(struct device *dev)\n {\n \tstruct nsim_bus_dev *nsim_bus_dev = to_nsim_bus_dev(dev);\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/69bbbdc5e1aa0f8e9e5cbc510479cae6dd030621"}
{"commit_hash": "44bec4b3bd71a169f967cae8d5ad503e60f0a165", "short_hash": "44bec4b3bd71", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T17:57:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-05T10:48:45-07:00", "subject": "net: aquantia: Make aq_ndev_driver_name static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/aquantia", "subsystems_touched": ["drivers/net/ethernet/aquantia"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean sparse warning fix with Reported-by"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, net maintainer, robot reporter"}}, "score_justification": "Sparse warning fix adding static to driver name variable", "code_snippet": "@@ -23,7 +23,7 @@ MODULE_VERSION(AQ_CFG_DRV_VERSION);\n MODULE_AUTHOR(AQ_CFG_DRV_AUTHOR);\n MODULE_DESCRIPTION(AQ_CFG_DRV_DESC);\n \n-const char aq_ndev_driver_name[] = AQ_CFG_DRV_NAME;\n+static const char aq_ndev_driver_name[] = AQ_CFG_DRV_NAME;\n \n static const struct net_device_ops aq_ndev_ops;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/44bec4b3bd71a169f967cae8d5ad503e60f0a165"}
{"commit_hash": "7fc1148cfde1c0d53930c7a5ac62b5bffe7b0e0b", "short_hash": "7fc1148cfde1", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-24T09:11:11+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-05-05T12:36:38+01:00", "subject": "dt-bindings: adc: mt8183: add binding document", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL", "FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 3, "score_impact": 9, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "Single line addition in DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New SoC support for existing ADC driver"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by DT maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, Huawei committer, external review"}}, "score_justification": "DT binding addition for MT8183 SoC support", "code_snippet": "@@ -15,6 +15,7 @@ Required properties:\n     - \"mediatek,mt2712-auxadc\": For MT2712 family of SoCs\n     - \"mediatek,mt7622-auxadc\": For MT7622 family of SoCs\n     - \"mediatek,mt8173-auxadc\": For MT8173 family of SoCs\n+    - \"mediatek,mt8183-auxadc\", \"mediatek,mt8173-auxadc\": For MT8183 family of SoCs\n   - reg: Address range of the AUXADC unit.\n   - clocks: Should contain a clock specifier for each entry in clock-names\n   - clock-names: Should contain \"main\".\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fc1148cfde1c0d53930c7a5ac62b5bffe7b0e0b"}
{"commit_hash": "e2a4aeda87d39b616c4064ae8c67972f283067ee", "short_hash": "e2a4aeda87d3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T21:42:50+08:00", "committer_name": "Wim Van Sebroeck", "committer_email": "wim@linux-watchdog.org", "committer_company": "Linux-watchdog", "commit_date": "2019-05-05T21:02:12+02:00", "subject": "watchdog: sb_wdog: Make sbwdog_set and sbwdog_pet static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "watchdog", "subsystems_touched": ["drivers/watchdog"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Guenter Roeck <linux@roeck-us.net> (Roeck-us)", "Wim Van Sebroeck <wim@linux-watchdog.org> (Linux-watchdog)"], "reviewed_by": ["Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "tested_by": [], "acked_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "reported_by": []}, "score_total": 20, "score_technical": 4, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 3, "cross_subsystem": 0, "subtotal": 4, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain, clear message with warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org) with reviewer"}}, "score_justification": "Sparse warning fix making functions static in watchdog driver", "code_snippet": "@@ -67,7 +67,7 @@ static DEFINE_SPINLOCK(sbwd_lock);\n  *\n  * wdog is the iomem address of the cfg register\n  */\n-void sbwdog_set(char __iomem *wdog, unsigned long t)\n+static void sbwdog_set(char __iomem *wdog, unsigned long t)\n {\n \tspin_lock(&sbwd_lock);\n \t__raw_writeb(0, wdog);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e2a4aeda87d39b616c4064ae8c67972f283067ee"}
{"commit_hash": "522e4077e8dcdfc5b8e96469d3bc2324bc5d6466", "short_hash": "522e4077e8dc", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-04-28T15:12:19+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-05-06T01:18:58+02:00", "subject": "netfilter: slightly optimize nf_inet_addr_mask", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["include/linux/netfilter.h"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 18, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small optimization in critical networking subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization affecting netfilter users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer sign-off"}}, "score_justification": "Performance optimization using 64-bit operations in netfilter hot path", "code_snippet": "@@ -41,10 +41,19 @@ static inline void nf_inet_addr_mask(const union nf_inet_addr *a1,\n \t\t\t\t     union nf_inet_addr *result,\n \t\t\t\t     const union nf_inet_addr *mask)\n {\n+#if defined(CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS) && BITS_PER_LONG == 64\n+\tconst unsigned long *ua = (const unsigned long *)a1;\n+\tunsigned long *ur = (unsigned long *)result;\n+\tconst unsigned long *um = (const unsigned long *)mask;\n+\n+\tur[0] = ua[0] & um[0];\n+\tur[1] = ua[1] & um[1];\n+#else\n \tresult->all[0] = a1->all[0] & mask->all[0];\n \tresult->all[1] = a1->all[1] & mask->all[1];\n \tresult->all[2] = a1->all[2] & mask->all[2];\n \tresult->all[3] = a1->all[3] & mask->all[3];\n+#endif\n }\n \n int netfilter_init(void);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/522e4077e8dcdfc5b8e96469d3bc2324bc5d6466"}
{"commit_hash": "533307dc20a9e84a0687d4ca24aeb669516c0243", "short_hash": "533307dc20a9", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-30T17:57:29+08:00", "committer_name": "Tejun Heo", "committer_email": "tj@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-06T08:33:45-07:00", "subject": "cgroup: Remove unused cgrp variable", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 76f969e8948d8 (\"cgroup: cgroup v2 freezer\")", "cc_stable": false, "subsystem_prefix": "cgroup", "subsystems_touched": ["kernel/cgroup"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Tejun Heo <tj@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Roman Gushchin <guro@fb.com> (Fb)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing 3 lines in cgroup subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Acked-by reviewer, good message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Hisilicon, committer from kernel.org"}}, "score_justification": "Compiler warning fix removing unused variable in cgroup freezer code", "code_snippet": "@@ -5864,11 +5864,8 @@ void cgroup_post_fork(struct task_struct *child)\n \t\t * the task into the frozen state.\n \t\t */\n \t\tif (unlikely(cgroup_task_freeze(child))) {\n-\t\t\tstruct cgroup *cgrp;\n-\n \t\t\tspin_lock(&child->sighand->siglock);\n \t\t\tWARN_ON_ONCE(child->frozen);\n-\t\t\tcgrp = cset->dfl_cgrp;\n \t\t\tchild->jobctl |= JOBCTL_TRAP_FREEZE;\n \t\t\tspin_unlock(&child->sighand->siglock);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/533307dc20a9e84a0687d4ca24aeb669516c0243"}
{"commit_hash": "7fc13b879fdd4fec75ffe6cd8770d512c3d6420f", "short_hash": "7fc13b879fdd", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:12+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-06T11:55:39+02:00", "subject": "mmc: omap_hsmmc: Use dev_get_drvdata()", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 11, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "4 hunks, 4 lines changed in MMC driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration with no user-visible impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple message, only S-o-b tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer"}}, "score_justification": "Simple API migration from platform_get_drvdata() to dev_get_drvdata() in MMC driver", "code_snippet": "@@ -2077,7 +2077,7 @@ static int omap_hsmmc_runtime_suspend(struct device *dev)\n \tunsigned long flags;\n \tint ret = 0;\n \n-\thost = platform_get_drvdata(to_platform_device(dev));\n+\thost = dev_get_drvdata(dev);\n \tomap_hsmmc_context_save(host);\n \tdev_dbg(dev, \"disabled\\n\");\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7fc13b879fdd4fec75ffe6cd8770d512c3d6420f"}
{"commit_hash": "e69ec21eff32693fd6815277e96479753ee39ad2", "short_hash": "e69ec21eff32", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-25T02:03:32Z", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-06T11:55:39+02:00", "subject": "memstick: tifm: remove set but not used variable 'data'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -254,7 +254,6 @@ static unsigned int tifm_ms_transfer_data(struct tifm_ms *host)\n static int tifm_ms_issue_cmd(struct tifm_ms *host)\n {\n \tstruct tifm_dev *sock = host->dev;\n-\tunsigned char *data;\n \tunsigned int data_len, cmd, sys_param;\n \n \thost->cmd_flags = 0;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e69ec21eff32693fd6815277e96479753ee39ad2"}
{"commit_hash": "d4a5611743a6f5d126f8cbfdbf29e12fd8d1b73f", "short_hash": "d4a5611743a6", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T15:57:47+02:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-05-06T15:57:47+02:00", "subject": "video: fbdev: Use dev_get_drvdata()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "video", "subsystems_touched": ["drivers/video/fbdev"], "subsystem_tier": 4, "files_changed": 3, "insertions": 10, "deletions": 10, "hunks": 20, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Medium change (3 files, 20 hunks) in tier 4 driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting fbdev users with no stable backport"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with minimal message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Samsung) from different companies"}}, "score_justification": "API migration simplifying platform_get_drvdata(to_platform_device()) to dev_get_drvdata() across 3 fbdev drivers", "code_snippet": "@@ -455,7 +455,7 @@ static int nuc900fb_cpufreq_transition(struct notifier_block *nb,\n \tstruct fb_info *fbinfo;\n \tlong delta_f;\n \tinfo = container_of(nb, struct nuc900fb_info, freq_transition);\n-\tfbinfo = platform_get_drvdata(to_platform_device(info->dev));\n+\tfbinfo = dev_get_drvdata(info->dev);\n \n \tdelta_f = info->clk_rate - clk_get_rate(info->clk);\n \ndiff --git a/drivers/video/fbdev/s3c2410fb.c b/drivers/video/fbdev/s3c2410fb.c\nindex a67e4567e656..a702da89910b 100644\n--- a/drivers/video/fbdev/s3c2410fb.c\n+++ b/drivers/video/fbdev/s3c2410fb.c", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/d4a5611743a6f5d126f8cbfdbf29e12fd8d1b73f"}
{"commit_hash": "6be6a8de1b55e719e3f95894910743719065d6a1", "short_hash": "6be6a8de1b55", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T07:04:30Z", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-05-06T20:21:56+10:00", "subject": "ocxl: Fix return value check in afu_ioctl()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 060146614643 (\"ocxl: move event_fd handling to frontend\")", "cc_stable": false, "subsystem_prefix": "drivers/misc/ocxl", "subsystems_touched": ["drivers/misc/ocxl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Alastair D'Silva <alastair@d-silva.org> (D-silva)", "Andrew Donnellan <ajd@linux.ibm.com> (IBM)"], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in misc driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix with backport potential"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Two Acked-by tags, good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, IBM maintainer and reviewers"}}, "score_justification": "Error handling bug fix in ocxl driver with proper error return propagation", "code_snippet": "@@ -257,8 +257,8 @@ static long afu_ioctl(struct file *file, unsigned int cmd,\n \t\t\treturn -EINVAL;\n \t\tirq_id = ocxl_irq_offset_to_id(ctx, irq_fd.irq_offset);\n \t\tev_ctx = eventfd_ctx_fdget(irq_fd.eventfd);\n-\t\tif (!ev_ctx)\n-\t\t\treturn -EFAULT;\n+\t\tif (IS_ERR(ev_ctx))\n+\t\t\treturn PTR_ERR(ev_ctx);\n \t\trc = ocxl_irq_set_handler(ctx, irq_id, irq_handler, irq_free, ev_ctx);\n \t\tbreak;\n \n", "flags": ["DETECTED_BY_COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/6be6a8de1b55e719e3f95894910743719065d6a1"}
{"commit_hash": "aa9d22dd456eb255db2a4a5b214ec2e243dda4c8", "short_hash": "aa9d22dd456e", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: fix error handling for desc filling", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 76ad4f0ee747 (\"net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 7, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in NIC driver affecting DMA unmap logic"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix for specific NIC driver with regression tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "DMA unmap error handling fix in hns3 NIC driver with improper descriptor cleanup", "code_snippet": "@@ -1237,9 +1240,7 @@ static void hns3_clear_desc(struct hns3_enet_ring *ring, int next_to_use_orig)\n \t\t\t\t       DMA_TO_DEVICE);\n \n \t\tring->desc_cb[ring->next_to_use].length = 0;\n-\n-\t\t/* rollback one */\n-\t\tring_ptr_move_bw(ring, next_to_use);\n+\t\tring->desc_cb[ring->next_to_use].dma = 0;\n \t}\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa9d22dd456eb255db2a4a5b214ec2e243dda4c8"}
{"commit_hash": "757cd1e4a4d81181fcd7130c4315d169ad9f5b81", "short_hash": "757cd1e4a4d8", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: combine len and checksum handling for inner and outer header.", "primary_category": "MAINT-DUP", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 81, "deletions": 111, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 12, "score_impact": 12, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor: 81 insertions, 111 deletions across 1 file, 12 hunks"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code deduplication in network driver affects many users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message format, single logical change, minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit, cross-company involvement"}}, "score_justification": "Code deduplication refactor in hns3 driver combining len/checksum handling", "code_snippet": "@@ -737,79 +737,6 @@ static int hns3_get_l4_protocol(struct sk_buff *skb, u8 *ol4_proto,\n \treturn 0;\n }\n \n-static void hns3_set_l2l3l4_len(struct sk_buff *skb, u8 ol4_proto,\n-\t\t\t\tu8 il4_proto, u32 *type_cs_vlan_tso,\n-\t\t\t\tu32 *ol_type_vlan_len_msec)\n-{\n-\tunsigned char *l2_hdr = skb->data;\n-\tu8 l4_proto = ol4_proto;\n-\tunion l3_hdr_info l3;\n-\tunion l4_hdr_info l4;\n-\tu32 l2_len;\n-\tu32 l3_len;\n-\tu32 l4_len;\n-\n-\tl3.hdr = skb_network_header(skb);\n-\tl4.hdr = skb_transport_header(skb);\n-\n-\t/* tunnel packet */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/757cd1e4a4d81181fcd7130c4315d169ad9f5b81"}
{"commit_hash": "07918fcde144628f12048d5f95f28c40b073fba8", "short_hash": "07918fcde144", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: refactor BD filling for l2l3l4 info", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 23, "deletions": 39, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in networking driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Preparation refactor for hns3 users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "2 Signed-off-by tags, preparatory context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer merge"}}, "score_justification": "Preparatory refactoring of BD filling logic in hns3 driver, separating inner/outer header handling", "code_snippet": "@@ -741,65 +741,49 @@ static void hns3_set_l2l3l4_len(struct sk_buff *skb, u8 ol4_proto,\n \t\t\t\tu8 il4_proto, u32 *type_cs_vlan_tso,\n \t\t\t\tu32 *ol_type_vlan_len_msec)\n {\n+\tunsigned char *l2_hdr = skb->data;\n+\tu8 l4_proto = ol4_proto;\n \tunion l3_hdr_info l3;\n \tunion l4_hdr_info l4;\n-\tunsigned char *l2_hdr;\n-\tu8 l4_proto = ol4_proto;\n-\tu32 ol2_len;\n-\tu32 ol3_len;\n-\tu32 ol4_len;\n \tu32 l2_len;\n \tu32 l3_len;\n+\tu32 l4_len;\n \n \tl3.hdr = skb_network_header(skb);\n \tl4.hdr = skb_transport_header(skb);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/07918fcde144628f12048d5f95f28c40b073fba8"}
{"commit_hash": "39c38824c2a0b16bdc6450727847fd5c3da7e8b0", "short_hash": "39c38824c2a0", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: fix for tunnel type handling in hns3_rx_checksum", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 76ad4f0ee747 (\"net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 6, "hunks": 14, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change with 14 hunks in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with Fixes tag for specific hardware driver"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes tag and hw manual reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Huawei author, netdev maintainer"}}, "score_justification": "Hardware spec compliance fix for RX checksum in hns3 driver", "code_snippet": "@@ -2463,7 +2463,7 @@ static int hns3_gro_complete(struct sk_buff *skb)\n }\n \n static void hns3_rx_checksum(struct hns3_enet_ring *ring, struct sk_buff *skb,\n-\t\t\t     u32 l234info, u32 bd_base_info)\n+\t\t\t     u32 l234info, u32 bd_base_info, u32 ol_info)\n {\n \tstruct net_device *netdev = ring->tqp->handle->kinfo.netdev;\n \tint l3_type, l4_type;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/39c38824c2a0b16bdc6450727847fd5c3da7e8b0"}
{"commit_hash": "db4970aa92a148389826057290cd45bb30f5650e", "short_hash": "db4970aa92a1", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: add linearizing checking for TSO case", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 45, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1181,6 +1181,47 @@ static int hns3_nic_bd_num(struct sk_buff *skb)\n \treturn bd_num;\n }\n \n+static unsigned int hns3_gso_hdr_len(struct sk_buff *skb)\n+{\n+\tif (!skb->encapsulation)\n+\t\treturn skb_transport_offset(skb) + tcp_hdrlen(skb);\n+\n+\treturn skb_inner_transport_offset(skb) + inner_tcp_hdrlen(skb);\n+}\n+\n+/* HW need every continuous 8 buffer data to be larger than MSS,\n+ * we simplify it by ensuring skb_headlen + the first continuous\n+ * 7 frags to to be larger than gso header len + mss, and the remaining\n+ * continuous 7 frags to be larger than MSS except the last 7 frags.\n+ */\n+static bool hns3_skb_need_linearized(struct sk_buff *skb)\n+{\n+\tint bd_limit = HNS3_MAX_BD_PER_FRAG - 1;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/db4970aa92a148389826057290cd45bb30f5650e"}
{"commit_hash": "d21ff4f90d975f5027678eb84e0d53fb8ca19c9b", "short_hash": "d21ff4f90d97", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: add counter for times RX pages gets allocated", "primary_category": "FEAT-TRACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 6, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change adding counter increment in driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug counter for driver performance analysis"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message explaining debug utility, no testing"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Adds debug counter for RX page allocation tracking in hns3 driver", "code_snippet": "@@ -2315,6 +2315,10 @@ hns3_nic_alloc_rx_buffers(struct hns3_enet_ring *ring, int cleand_count)\n \t\t\t\tbreak;\n \t\t\t}\n \t\t\thns3_replace_buffer(ring, ring->next_to_use, &res_cbs);\n+\n+\t\t\tu64_stats_update_begin(&ring->syncp);\n+\t\t\tring->stats.non_reuse_pg++;\n+\t\t\tu64_stats_update_end(&ring->syncp);\n \t\t}\n \n \t\tring_ptr_move_fw(ring, next_to_use);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex f669412764f2..9680a688bce2 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d21ff4f90d975f5027678eb84e0d53fb8ca19c9b"}
{"commit_hash": "fb00331bb8db4a631b00d6582f94806eba7a4c7f", "short_hash": "fb00331bb8db", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: use napi_schedule_irqoff in hard interrupts handlers", "primary_category": "FEAT-PERF", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 7, "score_impact": 16, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal change in network driver subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for hns3 NIC users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with rationale link, basic review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer merged"}}, "score_justification": "API migration to optimize interrupt handling in network driver", "code_snippet": "@@ -74,7 +74,7 @@ static irqreturn_t hns3_irq_handle(int irq, void *vector)\n {\n \tstruct hns3_enet_tqp_vector *tqp_vector = vector;\n \n-\tnapi_schedule(&tqp_vector->napi);\n+\tnapi_schedule_irqoff(&tqp_vector->napi);\n \n \treturn IRQ_HANDLED;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb00331bb8db4a631b00d6582f94806eba7a4c7f"}
{"commit_hash": "3d5f3741895291d3317e33718d96eb78294c8941", "short_hash": "3d5f37418952", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:13-07:00", "subject": "net: hns3: unify maybe_stop_tx for TSO and non-TSO case", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["FEAT-PERF", "FEAT-TRACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 50, "deletions": 86, "hunks": 20, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor with 20 hunks across 3 driver files, net code reduction"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "Code simplification improving maintainability with diagnostic addition"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Good message explaining reasoning, only author S-o-b tags present"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, networking maintainer DaveM committed"}}, "score_justification": "Code deduplication unifying TSO/non-TSO paths, removing ops struct, adding debug stat", "code_snippet": "@@ -1154,64 +1154,48 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \treturn 0;\n }\n \n-static int hns3_nic_maybe_stop_tso(struct sk_buff **out_skb, int *bnum,\n-\t\t\t\t   struct hns3_enet_ring *ring)\n+static int hns3_nic_bd_num(struct sk_buff *skb)\n {\n-\tstruct sk_buff *skb = *out_skb;\n-\tstruct sk_buff *new_skb = NULL;\n-\tstruct skb_frag_struct *frag;\n-\tint bdnum_for_frag;\n-\tint frag_num;\n-\tint buf_num;\n-\tint size;\n-\tint i;\n+\tint size = skb_headlen(skb);\n+\tint i, bd_num;\n \n-\tsize = skb_headlen(skb);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d5f3741895291d3317e33718d96eb78294c8941"}
{"commit_hash": "77296bf6a7b806b00a62b53436b1e8429becd244", "short_hash": "77296bf6a7b8", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:14-07:00", "subject": "net: hns3: use devm_kcalloc when allocating desc_cb", "primary_category": "MAINT-API-MIG", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 11, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (1 file, 4 lines)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "API migration improving resource management for driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Well-explained with proper subsystem prefix, good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (davemloft.net) from different orgs"}}, "score_justification": "API migration from kcalloc to devm_kcalloc for better resource management", "code_snippet": "@@ -3478,8 +3478,8 @@ static int hns3_alloc_ring_memory(struct hns3_enet_ring *ring)\n \tif (ring->desc_num <= 0 || ring->buf_size <= 0)\n \t\treturn -EINVAL;\n \n-\tring->desc_cb = kcalloc(ring->desc_num, sizeof(ring->desc_cb[0]),\n-\t\t\t\tGFP_KERNEL);\n+\tring->desc_cb = devm_kcalloc(ring_to_dev(ring), ring->desc_num,\n+\t\t\t\t     sizeof(ring->desc_cb[0]), GFP_KERNEL);\n \tif (!ring->desc_cb) {\n \t\tret = -ENOMEM;\n \t\tgoto out;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77296bf6a7b806b00a62b53436b1e8429becd244"}
{"commit_hash": "389ca14615e5ea4f9a56d765ac1e0da22d8105c3", "short_hash": "389ca14615e5", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:14-07:00", "subject": "net: hns3: unify the page reusing for page size 4K and 64K", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 13, "deletions": 32, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in ethernet driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Performance improvement for hns3 users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Page reuse logic unification for 64K pages in hns3 driver", "code_snippet": "@@ -2328,50 +2328,31 @@ static void hns3_nic_reuse_page(struct sk_buff *skb, int i,\n \t\t\t\tstruct hns3_enet_ring *ring, int pull_len,\n \t\t\t\tstruct hns3_desc_cb *desc_cb)\n {\n-\tstruct hns3_desc *desc;\n-\tu32 truesize;\n-\tint size;\n-\tint last_offset;\n-\tbool twobufs;\n-\n-\ttwobufs = ((PAGE_SIZE < 8192) &&\n-\t\thnae3_buf_size(ring) == HNS3_BUFFER_SIZE_2048);\n-\n-\tdesc = &ring->desc[ring->next_to_clean];\n-\tsize = le16_to_cpu(desc->rx.size);\n-\n-\ttruesize = hnae3_buf_size(ring);\n-\n-\tif (!twobufs)\n-\t\tlast_offset = hnae3_page_size(ring) - hnae3_buf_size(ring);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/389ca14615e5ea4f9a56d765ac1e0da22d8105c3"}
{"commit_hash": "845e0d1d5290c3b242aa76f37b4a5cae287b6f75", "short_hash": "845e0d1d5290", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:14-07:00", "subject": "net: hns3: some cleanup for struct hns3_enet_ring", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 9, "hunks": 10, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 8, "score_impact": 6, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2 files, 10 hunks, net -7 lines removing unused struct fields"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup affecting one driver, no runtime behavior change"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal message, two SOBs, self-consistent cleanup"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committer from different org (davem)"}}, "score_justification": "", "code_snippet": "@@ -1051,7 +1051,7 @@ static int hns3_fill_desc(struct hns3_enet_ring *ring, void *priv,\n \t\tdma = skb_frag_dma_map(dev, frag, 0, size, DMA_TO_DEVICE);\n \t}\n \n-\tif (unlikely(dma_mapping_error(ring->dev, dma))) {\n+\tif (unlikely(dma_mapping_error(dev, dma))) {\n \t\tring->stats.sw_err_cnt++;\n \t\treturn -ENOMEM;\n \t}\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex 9680a688bce2..c14480f9b625 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/845e0d1d5290c3b242aa76f37b4a5cae287b6f75"}
{"commit_hash": "ce74370c2ce9a90c16167131f837e14b5e3c57ed", "short_hash": "ce74370c2ce9", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T10:48:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T10:37:14-07:00", "subject": "net: hns3: optimize the barrier using when cleaning TX BD", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 15, "deletions": 14, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in networking driver with moderate complexity"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 15, "details": "Performance optimization affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with clear explanation, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by net maintainer"}}, "score_justification": "Performance optimization reducing barrier calls in TX path cleanup loop", "code_snippet": "@@ -2186,20 +2186,25 @@ static void hns3_reuse_buffer(struct hns3_enet_ring *ring, int i)\n \tring->desc[i].rx.bd_base_info = 0;\n }\n \n-static void hns3_nic_reclaim_one_desc(struct hns3_enet_ring *ring, int *bytes,\n-\t\t\t\t      int *pkts)\n+static void hns3_nic_reclaim_desc(struct hns3_enet_ring *ring, int head,\n+\t\t\t\t  int *bytes, int *pkts)\n {\n \tint ntc = ring->next_to_clean;\n \tstruct hns3_desc_cb *desc_cb;\n \n-\tdesc_cb = &ring->desc_cb[ntc];\n-\t(*pkts) += (desc_cb->type == DESC_TYPE_SKB);\n-\t(*bytes) += desc_cb->length;\n-\t/* desc_cb will be cleaned, after hnae3_free_buffer_detach*/\n-\thns3_free_buffer_detach(ring, ntc);\n+\twhile (head != ntc) {\n+\t\tdesc_cb = &ring->desc_cb[ntc];\n+\t\t(*pkts) += (desc_cb->type == DESC_TYPE_SKB);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ce74370c2ce9a90c16167131f837e14b5e3c57ed"}
{"commit_hash": "638a3a1e349ddf5b82f222ff5cb3b4f266e7c278", "short_hash": "638a3a1e349d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T22:44:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T12:16:47-07:00", "subject": "l2tp: Fix possible NULL pointer dereference", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 67e04c29ec0d (\"l2tp: unregister l2tp_net_ops on failure path\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/l2tp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Guillaume Nault <gnault@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 22, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "NULL pointer crash fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent commit message with full crash dump"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org: Huawei to Red Hat to maintainer"}}, "score_justification": "NULL pointer dereference crash in L2TP module cleanup path", "code_snippet": "@@ -1735,7 +1735,8 @@ static __net_exit void l2tp_exit_net(struct net *net)\n \t}\n \trcu_read_unlock_bh();\n \n-\tflush_workqueue(l2tp_wq);\n+\tif (l2tp_wq)\n+\t\tflush_workqueue(l2tp_wq);\n \trcu_barrier();\n \n \tfor (hash = 0; hash < L2TP_HASH_SIZE_2; hash++)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/638a3a1e349ddf5b82f222ff5cb3b4f266e7c278"}
{"commit_hash": "68be930249d051fd54d3d99156b3dcadcb2a1f9b", "short_hash": "68be930249d0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T23:25:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T12:17:23-07:00", "subject": "net: dsa: Fix error cleanup path in dsa_init_module", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "Fixes: c9eb3e0f8701 (\"net: dsa: Add support for learning FDB through notification\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vivien Didelot <vivien.didelot@gmail.com> (Gmail)", "Andrew Lunn <andrew@lunn.ch> (Lunn)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 20, "score_quality": 15, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with memory leak, DSA users affected"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent message with crash dump, 2 reviewers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Kernel paging request crash in module init with proper error path cleanup", "code_snippet": "@@ -344,15 +344,22 @@ static int __init dsa_init_module(void)\n \n \trc = dsa_slave_register_notifier();\n \tif (rc)\n-\t\treturn rc;\n+\t\tgoto register_notifier_fail;\n \n \trc = dsa_legacy_register();\n \tif (rc)\n-\t\treturn rc;\n+\t\tgoto legacy_register_fail;\n \n \tdev_add_pack(&dsa_pack_type);\n \n \treturn 0;\n+\n+legacy_register_fail:\n+\tdsa_slave_unregister_notifier();\n+register_notifier_fail:\n+\tdestroy_workqueue(dsa_owq);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68be930249d051fd54d3d99156b3dcadcb2a1f9b"}
{"commit_hash": "a3147770bea76c8dbad73eca3a24c2118da5e719", "short_hash": "a3147770bea7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T23:57:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-07T12:41:48-07:00", "subject": "cxgb4: Fix error path in cxgb4_init_module", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: b5a02f503caa (\"cxgb4 : Update ipv6 address handling api\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/chelsio/cxgb4"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 20, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 15 lines in driver code"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with proper error handling, affects cxgb4 users"}, "quality": {"review_chain": 1, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Full crash trace, Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, netdev maintainer commit, bug report trace"}}, "score_justification": "Kernel panic fix in cxgb4 driver init with proper error path cleanup", "code_snippet": "@@ -6161,15 +6161,24 @@ static int __init cxgb4_init_module(void)\n \n \tret = pci_register_driver(&cxgb4_driver);\n \tif (ret < 0)\n-\t\tdebugfs_remove(cxgb4_debugfs_root);\n+\t\tgoto err_pci;\n \n #if IS_ENABLED(CONFIG_IPV6)\n \tif (!inet6addr_registered) {\n-\t\tregister_inet6addr_notifier(&cxgb4_inet6addr_notifier);\n-\t\tinet6addr_registered = true;\n+\t\tret = register_inet6addr_notifier(&cxgb4_inet6addr_notifier);\n+\t\tif (ret)\n+\t\t\tpci_unregister_driver(&cxgb4_driver);\n+\t\telse\n+\t\t\tinet6addr_registered = true;\n \t}\n #endif\n \n+\tif (ret == 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3147770bea76c8dbad73eca3a24c2118da5e719"}
{"commit_hash": "9ccce5a0fb703bbae425d2f38513e30f62eee282", "short_hash": "9ccce5a0fb70", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:30:36+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-07T16:05:07-04:00", "subject": "dm dust: Make dm_dust_init and dm_dust_exit static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in critical device-mapper subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no stable backport"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Reported-by tag, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei->Red Hat), auto-reported by robot"}}, "score_justification": "Sparse warning fix adding static keyword to two functions in dm-dust", "code_snippet": "@@ -492,7 +492,7 @@ static struct target_type dust_target = {\n \t.prepare_ioctl = dust_prepare_ioctl,\n };\n \n-int __init dm_dust_init(void)\n+static int __init dm_dust_init(void)\n {\n \tint result = dm_register_target(&dust_target);\n ", "flags": ["AUTO_GENERATED", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/9ccce5a0fb703bbae425d2f38513e30f62eee282"}
{"commit_hash": "0fcef555abdc155dbd2cba24ac1a0dd508e8dc70", "short_hash": "0fcef555abdc", "author_name": "Yang Wei", "author_email": "yang.wei9@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-04T22:33:28+08:00", "committer_name": "Greentime Hu", "committer_email": "greentime@andestech.com", "committer_company": "Andestech", "commit_date": "2019-05-07T17:52:10+08:00", "subject": "nds32: fix semicolon code style issue", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "nds32", "subsystems_touched": ["arch/nds32/kernel", "arch/nds32/mm"], "subsystem_tier": 3, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yang Wei <yang.wei9@zte.com.cn> (ZTE)", "Greentime Hu <greentime@andestech.com> (Andestech)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Greentime Hu <greentime@andestech.com> (Andestech)"], "reported_by": []}, "score_total": 19, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change (2 files, 4 hunks) in arch-specific code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Style fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, simple message, no tests"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from ZTE, maintainer from Andes applied"}}, "score_justification": "Trivial semicolon removal fix in nds32 arch code", "code_snippet": "@@ -13,7 +13,7 @@ static void ci_leaf_init(struct cacheinfo *this_leaf,\n \tthis_leaf->level = level;\n \tthis_leaf->type = type;\n \tthis_leaf->coherency_line_size = CACHE_LINE_SIZE(cache_type);\n-\tthis_leaf->number_of_sets = CACHE_SET(cache_type);;\n+\tthis_leaf->number_of_sets = CACHE_SET(cache_type);\n \tthis_leaf->ways_of_associativity = CACHE_WAY(cache_type);\n \tthis_leaf->size = this_leaf->number_of_sets *\n \t    this_leaf->coherency_line_size * this_leaf->ways_of_associativity;\ndiff --git a/arch/nds32/mm/init.c b/arch/nds32/mm/init.c\nindex 1d03633f89a9..f32e40e36fe1 100644\n--- a/arch/nds32/mm/init.c\n+++ b/arch/nds32/mm/init.c", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/0fcef555abdc155dbd2cba24ac1a0dd508e8dc70"}
{"commit_hash": "1b52931ca9b5b87e237c591f99201b6254c00809", "short_hash": "1b52931ca9b5", "author_name": "Zhi Zhang", "author_email": "willzzhang@tencent.com", "author_company": "Tencent", "author_date": "2019-03-22T14:16:33+08:00", "committer_name": "Ilya Dryomov", "committer_email": "idryomov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-07T19:22:36+02:00", "subject": "ceph: remove duplicated filelock ref increase", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ceph", "subsystems_touched": ["fs/ceph"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 4, "review_chain": {"signed_off_by": ["Zhi Zhang <zhang.david2011@gmail.com> (Gmail)", "Ilya Dryomov <idryomov@gmail.com> (Gmail)"], "reviewed_by": ["\"Yan, Zheng\" <zyan@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change (1 file, 4 hunks, 13 deletions) in filesystem tier 3"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting CEPH filesystem users with reference leak"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation of root cause, cross-org review from Red Hat"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Tencent, reviewer from Red Hat, maintainer from different org"}}, "score_justification": "Reference leak in CEPH filelock causing permanent EIO after transient error", "code_snippet": "@@ -237,15 +237,6 @@ int ceph_lock(struct file *file, int cmd, struct file_lock *fl)\n \tspin_lock(&ci->i_ceph_lock);\n \tif (ci->i_ceph_flags & CEPH_I_ERROR_FILELOCK) {\n \t\terr = -EIO;\n-\t} else if (op == CEPH_MDS_OP_SETFILELOCK) {\n-\t\t/*\n-\t\t * increasing i_filelock_ref closes race window between\n-\t\t * handling request reply and adding file_lock struct to\n-\t\t * inode. Otherwise, i_auth_cap may get trimmed in the\n-\t\t * window. Caller function will decrease the counter.\n-\t\t */\n-\t\tfl->fl_ops = &ceph_fl_lock_ops;\n-\t\tatomic_inc(&ci->i_filelock_ref);\n \t}\n \tspin_unlock(&ci->i_ceph_lock);\n \tif (err < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1b52931ca9b5b87e237c591f99201b6254c00809"}
{"commit_hash": "fb9a5a3edb4c34ac0d7e6996278604e53a43245f", "short_hash": "fb9a5a3edb4c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:09:55+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-05-07T21:36:39+02:00", "subject": "ubifs: remove unused function __ubifs_shash_final", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 18, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "reported_by": []}, "score_total": 26, "score_technical": 9, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Single file deletion in filesystem subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Acked-by from Codeaurora, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, committer from different org"}}, "score_justification": "Dead code removal in UBIFS auth.c, single function deleted, cross-org review", "code_snippet": "@@ -146,24 +146,6 @@ struct shash_desc *__ubifs_hash_get_desc(const struct ubifs_info *c)\n \treturn ubifs_get_desc(c, c->hash_tfm);\n }\n \n-/**\n- * __ubifs_shash_final - finalize shash\n- * @c: UBIFS file-system description object\n- * @desc: the descriptor\n- * @out: the output hash\n- *\n- * Simple wrapper around crypto_shash_final(), safe to be called with\n- * disabled authentication.\n- */\n-int __ubifs_shash_final(const struct ubifs_info *c, struct shash_desc *desc,\n-\t\t\tu8 *out)\n-{\n-\tif (ubifs_authenticated(c))\n-\t\treturn crypto_shash_final(desc, out);\n-\n-\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb9a5a3edb4c34ac0d7e6996278604e53a43245f"}
{"commit_hash": "35399f87e271f7cf3048eab00a421a6519ac8441", "short_hash": "35399f87e271", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-05T11:03:12+08:00", "committer_name": "Christoph Hellwig", "committer_email": "hch@lst.de", "committer_company": "Lst", "commit_date": "2019-05-08T08:55:19+02:00", "subject": "configfs: fix possible use-after-free in configfs_register_group", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH", "BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: 5cf6a51e6062 (\"configfs: allow dynamic group creation\")", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/configfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 12, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Christoph Hellwig <hch@lst.de> (Lst)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 51, "score_technical": 12, "score_impact": 22, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small but critical VFS-subsystem fix with complex error handling"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Use-after-free vulnerability in configfs affecting IIO subsystem users"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Excellent commit message with KASAN report, proper Fixes tag, internal testing only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, LST maintainer, internal robot report"}}, "score_justification": "Use-after-free fix in configfs with KASAN report, proper cleanup on error path, cross-org review", "code_snippet": "@@ -1755,12 +1755,19 @@ int configfs_register_group(struct config_group *parent_group,\n \n \tinode_lock_nested(d_inode(parent), I_MUTEX_PARENT);\n \tret = create_default_group(parent_group, group);\n-\tif (!ret) {\n-\t\tspin_lock(&configfs_dirent_lock);\n-\t\tconfigfs_dir_set_ready(group->cg_item.ci_dentry->d_fsdata);\n-\t\tspin_unlock(&configfs_dirent_lock);\n-\t}\n+\tif (ret)\n+\t\tgoto err_out;\n+\n+\tspin_lock(&configfs_dirent_lock);\n+\tconfigfs_dir_set_ready(group->cg_item.ci_dentry->d_fsdata);\n+\tspin_unlock(&configfs_dirent_lock);\n+\tinode_unlock(d_inode(parent));\n+\treturn 0;\n+err_out:\n \tinode_unlock(d_inode(parent));\n+\tmutex_lock(&subsys->su_mutex);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/35399f87e271f7cf3048eab00a421a6519ac8441"}
{"commit_hash": "86dc59e39031fb0d366d5b1f92db015b24bef70b", "short_hash": "86dc59e39031", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-05-08T21:43:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-08T09:46:44-07:00", "subject": "net: dsa: sja1105: Make 'sja1105et_regs' and 'sja1105pqrs_regs' static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8aa9ebccae87 (\"net: dsa: Introduce driver for NXP SJA1105 5-port L2 switch\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/dsa/sja1105"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "2 lines changed in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Two Signed-off-by, includes Reported-by, compiler warning in body"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same company (Huawei), different maintainer (David S. Miller), Hulk Robot reported"}}, "score_justification": "Compiler warning fix adding static to two global structs in network driver", "code_snippet": "@@ -483,7 +483,7 @@ int sja1105_static_config_upload(struct sja1105_private *priv)\n \treturn rc;\n }\n \n-struct sja1105_regs sja1105et_regs = {\n+static struct sja1105_regs sja1105et_regs = {\n \t.device_id = 0x0,\n \t.prod_id = 0x100BC3,\n \t.status = 0x1,", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/86dc59e39031fb0d366d5b1f92db015b24bef70b"}
{"commit_hash": "4abf1ee16e25ba97bc9e04ddc64e0cd2a1bc41a8", "short_hash": "4abf1ee16e25", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-05-08T10:04:18+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-08T13:35:32+02:00", "subject": "perf/x86/amd/iommu: Make the 'amd_iommu_attr_groups' symbol static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 51686546304f (x86/events/amd/iommu: Fix sysfs perf attribute groups)", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -393,7 +393,7 @@ static __init int _init_events_attrs(void)\n \treturn 0;\n }\n \n-const struct attribute_group *amd_iommu_attr_groups[] = {\n+static const struct attribute_group *amd_iommu_attr_groups[] = {\n \t&amd_iommu_format_group,\n \t&amd_iommu_cpumask_group,\n \t&amd_iommu_events_group,\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/4abf1ee16e25ba97bc9e04ddc64e0cd2a1bc41a8"}
{"commit_hash": "70610c922bae2f3f974eef955ef254defb7755ce", "short_hash": "70610c922bae", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-09T23:32:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-09T09:48:44-07:00", "subject": "net: aquantia: fix undefined devm_hwmon_device_register_with_info reference", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/aquantia", "subsystems_touched": ["drivers/net/ethernet/aquantia/atlantic"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 6, "score_impact": 11, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in network driver"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 11, "details": "Link error fix affecting driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear error message with solution"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Internal robot report, different maintainer"}}, "score_justification": "Link error fix for missing hwmon symbol, properly scoped with IS_REACHABLE", "code_snippet": "@@ -13,6 +13,7 @@\n \n #include \"aq_drvinfo.h\"\n \n+#if IS_REACHABLE(CONFIG_HWMON)\n static int aq_hwmon_read(struct device *dev, enum hwmon_sensor_types type,\n \t\t\t u32 attr, int channel, long *value)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/70610c922bae2f3f974eef955ef254defb7755ce"}
{"commit_hash": "36096f2f4fa05f7678bc87397665491700bae757", "short_hash": "36096f2f4fa0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-09T22:52:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-09T13:45:46-07:00", "subject": "packet: Fix error path in packet_init", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/packet"], "subsystem_tier": 2, "files_changed": 1, "insertions": 20, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 51, "score_technical": 12, "score_impact": 20, "score_quality": 12, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Crash fix affecting networking users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 2, "atomicity": 2, "subtotal": 12, "details": "Has Reported-by and detailed stack trace"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, David S. Miller maintainer, external report"}}, "score_justification": "Kernel BUG fix in af_packet init error path with proper cleanup, reported by Hulk Robot", "code_snippet": "@@ -4598,14 +4598,29 @@ static void __exit packet_exit(void)\n \n static int __init packet_init(void)\n {\n-\tint rc = proto_register(&packet_proto, 0);\n+\tint rc;\n \n-\tif (rc != 0)\n+\trc = proto_register(&packet_proto, 0);\n+\tif (rc)\n \t\tgoto out;\n+\trc = sock_register(&packet_family_ops);\n+\tif (rc)\n+\t\tgoto out_proto;\n+\trc = register_pernet_subsys(&packet_net_ops);\n+\tif (rc)\n+\t\tgoto out_sock;\n+\trc = register_netdevice_notifier(&packet_netdev_notifier);\n+\tif (rc)\n+\t\tgoto out_pernet;", "flags": ["HAS_REPORTED_BY"], "link": "https://lore.kernel.org/linux-kernel/36096f2f4fa05f7678bc87397665491700bae757"}
{"commit_hash": "f02f3755dbd14fb935d24b14650fff9ba92243b8", "short_hash": "f02f3755dbd1", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T11:57:03+08:00", "committer_name": "Anna Schumaker", "committer_email": "Anna.Schumaker@Netapp.com", "committer_company": "Netapp", "commit_date": "2019-05-09T16:26:05-04:00", "subject": "NFS4: Fix v4.0 client state corruption when mount", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-DEADLOCK"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "nfs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Anna Schumaker <Anna.Schumaker@Netapp.com> (Netapp)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 24, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical NFS filesystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Data corruption fix affecting NFS users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with stable tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei/Netapp), maintainer commit"}}, "score_justification": "State corruption during trunking causes hangs, needs state manager recovery", "code_snippet": "@@ -159,6 +159,10 @@ int nfs40_discover_server_trunking(struct nfs_client *clp,\n \t\t/* Sustain the lease, even if it's empty.  If the clientid4\n \t\t * goes stale it's of no use for trunking discovery. */\n \t\tnfs4_schedule_state_renewal(*result);\n+\n+\t\t/* If the client state need to recover, do it. */\n+\t\tif (clp->cl_state)\n+\t\t\tnfs4_schedule_state_manager(clp);\n \t}\n out:\n \treturn status;\n", "flags": ["MAY_FIX_DEADLOCK"], "link": "https://lore.kernel.org/linux-kernel/f02f3755dbd14fb935d24b14650fff9ba92243b8"}
{"commit_hash": "9c5948c248696ca60c56ec5a608e225c4ab8a854", "short_hash": "9c5948c24869", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T17:32:31+08:00", "committer_name": "Anna Schumaker", "committer_email": "Anna.Schumaker@Netapp.com", "committer_company": "Netapp", "commit_date": "2019-05-09T16:26:56-04:00", "subject": "SUNRPC: task should be exit if encode return EKEYEXPIRED more times", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/sunrpc", "subsystems_touched": ["net/sunrpc"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Anna Schumaker <Anna.Schumaker@Netapp.com> (Netapp)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small fix in critical networking subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Hang fix affecting NFS/RPC users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation but minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit by Huawei to Netapp maintainer"}}, "score_justification": "Fixes infinite loop in RPC cred refresh retry logic causing hangs", "code_snippet": "@@ -1814,7 +1814,14 @@ call_encode(struct rpc_task *task)\n \t\t\trpc_delay(task, HZ >> 4);\n \t\t\tbreak;\n \t\tcase -EKEYEXPIRED:\n-\t\t\ttask->tk_action = call_refresh;\n+\t\t\tif (!task->tk_cred_retry) {\n+\t\t\t\trpc_exit(task, task->tk_status);\n+\t\t\t} else {\n+\t\t\t\ttask->tk_action = call_refresh;\n+\t\t\t\ttask->tk_cred_retry--;\n+\t\t\t\tdprintk(\"RPC: %5u %s: retry refresh creds\\n\",\n+\t\t\t\t\ttask->tk_pid, __func__);\n+\t\t\t}\n \t\t\tbreak;\n \t\tdefault:\n \t\t\trpc_call_rpcerror(task, task->tk_status);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9c5948c248696ca60c56ec5a608e225c4ab8a854"}
{"commit_hash": "b96a54154be10f8d4f79d5d1cbfee7176947ad64", "short_hash": "b96a54154be1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-10T11:00:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-10T15:06:45-07:00", "subject": "dsa: tag_brcm: Fix build error without CONFIG_NET_DSA_TAG_BRCM_PREPEND", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: b74b70c44986 (\"net: dsa: Support prepended Broadcom tag\")", "cc_stable": false, "subsystem_prefix": "net: dsa", "subsystems_touched": ["net/dsa"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Andrew Lunn <andrew@lunn.ch> (Lunn)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 10, "score_impact": 12, "score_quality": 13, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 2-line move in critical networking subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix for specific DSA config, moderate user impact"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 13, "details": "Good message with build error, Reported-by, Reviewed-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, netdev maintainer, internal robot report"}}, "score_justification": "Build config fix moving #endif to wrap DSA_TAG_DRIVER macro call", "code_snippet": "@@ -206,10 +206,10 @@ static const struct dsa_device_ops brcm_prepend_netdev_ops = {\n \t.rcv\t= brcm_tag_rcv_prepend,\n \t.overhead = BRCM_TAG_LEN,\n };\n-#endif\n \n DSA_TAG_DRIVER(brcm_prepend_netdev_ops);\n MODULE_ALIAS_DSA_TAG_DRIVER(DSA_TAG_PROTO_BRCM_PREPEND);\n+#endif\n \n static struct dsa_tag_driver *dsa_tag_driver_array[] =\t{\n #if IS_ENABLED(CONFIG_NET_DSA_TAG_BRCM)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b96a54154be10f8d4f79d5d1cbfee7176947ad64"}
{"commit_hash": "c8f3c9fe83cafc94679007b9c0083ee25d5735e0", "short_hash": "c8f3c9fe83ca", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-10T15:18:23+08:00", "committer_name": "Sebastian Reichel", "committer_email": "sre@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-10T18:20:50+02:00", "subject": "power: supply: ucs1002: Fix build error without CONFIG_REGULATOR", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9a2688e42638 (\"power: supply: Add driver for Microchip UCS1002\")", "cc_stable": false, "subsystem_prefix": "power/supply", "subsystems_touched": ["power/supply"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sebastian Reichel <sebastian.reichel@collabora.com> (Collabora)"], "reviewed_by": ["Guenter Roeck <linux@roeck-us.net> (Roeck-us)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 8, "score_impact": 12, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single-line Kconfig dependency addition"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build error fix affecting driver compilation"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear error message, Fixes tag, Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Collabora maintainer, robot reporter"}}, "score_justification": "Kconfig dependency fix preventing undefined reference build errors", "code_snippet": "@@ -675,6 +675,7 @@ config CHARGER_UCS1002\n \ttristate \"Microchip UCS1002 USB Port Power Controller\"\n \tdepends on I2C\n \tdepends on OF\n+\tdepends on REGULATOR\n \tselect REGMAP_I2C\n \thelp\n \t  Say Y to enable support for Microchip UCS1002 Programmable\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8f3c9fe83cafc94679007b9c0083ee25d5735e0"}
{"commit_hash": "df0bfe7501e9319546ea380d39674a4179e059c3", "short_hash": "df0bfe7501e9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-12T15:06:53+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-12T13:11:35-04:00", "subject": "virtio_ring: Fix potential mem leak in virtqueue_add_indirect_packed", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 1ce9e6055fa0 (\"virtio_ring: introduce packed ring support\")", "cc_stable": true, "subsystem_prefix": "drivers/virtio", "subsystems_touched": ["drivers/virtio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jason Wang <jasowang@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important virtio subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Memory leak fix with stable backport"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review chain with proper fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit between Huawei and Red Hat"}}, "score_justification": "Memory leak fix in virtio packed ring error path with stable backport", "code_snippet": "@@ -1004,6 +1004,7 @@ static int virtqueue_add_indirect_packed(struct vring_virtqueue *vq,\n \n \tif (unlikely(vq->vq.num_free < 1)) {\n \t\tpr_debug(\"Can't add buf len 1 - avail = 0\\n\");\n+\t\tkfree(desc);\n \t\tEND_USE(vq);\n \t\treturn -ENOSPC;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/df0bfe7501e9319546ea380d39674a4179e059c3"}
{"commit_hash": "a5581206c565a7f1113a84232f734e7135b90a61", "short_hash": "a5581206c565", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-23T18:25:12+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-12T13:11:35-04:00", "subject": "virtio/virtio_ring: do some comment fixes", "primary_category": "TRIV-COMMENT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/virtio", "subsystems_touched": ["drivers/virtio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 14, "deletions": 13, "hunks": 22, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Small comment-only change in driver subsystem"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Comment fixes have no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic commit quality, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org commit (Tencent to Red Hat maintainer)"}}, "score_justification": "Comment-only fixes in virtio driver, cross-org review", "code_snippet": "@@ -1719,10 +1719,10 @@ static inline int virtqueue_add(struct virtqueue *_vq,\n \n /**\n  * virtqueue_add_sgs - expose buffers to other end\n- * @vq: the struct virtqueue we're talking about.\n+ * @_vq: the struct virtqueue we're talking about.\n  * @sgs: array of terminated scatterlists.\n- * @out_num: the number of scatterlists readable by other side\n- * @in_num: the number of scatterlists which are writable (after readable ones)\n+ * @out_sgs: the number of scatterlists readable by other side\n+ * @in_sgs: the number of scatterlists which are writable (after readable ones)\n  * @data: the token identifying the buffer.\n  * @gfp: how to do memory allocations (if necessary).\n  *", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a5581206c565a7f1113a84232f734e7135b90a61"}
{"commit_hash": "d0adee5d12752256ff0c87ad7f002f21fe49d618", "short_hash": "d0adee5d1275", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T16:02:56+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-13T20:32:49-04:00", "subject": "scsi: qedi: remove set but not used variables 'cdev' and 'udev'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Manish Rangankar <mrangankar@marvell.com> (Marvell)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -809,8 +809,6 @@ qedi_ep_connect(struct Scsi_Host *shost, struct sockaddr *dst_addr,\n \tstruct qedi_endpoint *qedi_ep;\n \tstruct sockaddr_in *addr;\n \tstruct sockaddr_in6 *addr6;\n-\tstruct qed_dev *cdev  =  NULL;\n-\tstruct qedi_uio_dev *udev = NULL;\n \tstruct iscsi_path path_req;\n \tu32 msg_type = ISCSI_KEVENT_IF_DOWN;\n \tu32 iscsi_cid = QEDI_CID_RESERVED;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d0adee5d12752256ff0c87ad7f002f21fe49d618"}
{"commit_hash": "c09581a52765a85f19fc35340127396d5e3379cc", "short_hash": "c09581a52765", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-20T12:05:54+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-13T20:32:49-04:00", "subject": "scsi: qedi: remove memset/memcpy to nfunc and use func instead", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ace7f46ba5fd (\"scsi: qedi: Add QLogic FastLinQ offload iSCSI driver framework.\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/qedi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 24, "hunks": 16, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Dan Carpenter <dan.carpenter@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 53, "score_technical": 10, "score_impact": 20, "score_quality": 16, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in SCSI driver with 16 hunks across 1 file"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "KASAN-reported crash fix in qedi driver"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Excellent message with stack trace, reporter tag, fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, Oracle maintainer and reviewer"}}, "score_justification": "KASAN-reported global-out-of-bounds crash in qedi debug functions due to unsafe memcpy of __func__", "code_snippet": "@@ -85,10 +73,10 @@ qedi_dbg_notice(struct qedi_dbg_ctx *qedi, const char *func, u32 line,\n \n \tif (likely(qedi) && likely(qedi->pdev))\n \t\tpr_notice(\"[%s]:[%s:%d]:%d: %pV\",\n-\t\t\t  dev_name(&qedi->pdev->dev), nfunc, line,\n+\t\t\t  dev_name(&qedi->pdev->dev), func, line,\n \t\t\t  qedi->host_no, &vaf);\n \telse\n-\t\tpr_notice(\"[0000:00:00.0]:[%s:%d]: %pV\", nfunc, line, &vaf);\n+\t\tpr_notice(\"[0000:00:00.0]:[%s:%d]: %pV\", func, line, &vaf);\n \n ret:\n \tva_end(va);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c09581a52765a85f19fc35340127396d5e3379cc"}
{"commit_hash": "ed835136ee679dc528333c454ca4d1543c5aab76", "short_hash": "ed835136ee67", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-09T22:23:39+08:00", "committer_name": "Lee Jones", "committer_email": "lee.jones@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-14T08:13:28+01:00", "subject": "mfd: Use dev_get_drvdata() directly", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mfd", "subsystems_touched": ["drivers/mfd"], "subsystem_tier": 4, "files_changed": 4, "insertions": 18, "deletions": 35, "hunks": 30, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Lee Jones <lee.jones@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 10, "score_impact": 8, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in standard driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification affecting only developers"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Minimal message with no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer"}}, "score_justification": "API migration simplifying wrapper macro usage across MFD drivers", "code_snippet": "@@ -257,7 +255,7 @@ EXPORT_SYMBOL_GPL(ssbi_read);\n \n int ssbi_write(struct device *dev, u16 addr, const u8 *buf, int len)\n {\n-\tstruct ssbi *ssbi = to_ssbi(dev);\n+\tstruct ssbi *ssbi = dev_get_drvdata(dev);\n \tunsigned long flags;\n \tint ret;\n \ndiff --git a/drivers/mfd/t7l66xb.c b/drivers/mfd/t7l66xb.c\nindex 43d8683266de..e9cfb147345e 100644\n--- a/drivers/mfd/t7l66xb.c\n+++ b/drivers/mfd/t7l66xb.c", "flags": ["API_MIGRATION"], "link": "https://lore.kernel.org/linux-kernel/ed835136ee679dc528333c454ca4d1543c5aab76"}
{"commit_hash": "2bf753e64b4a702e27ce26ff520c59563c62f96b", "short_hash": "2bf753e64b4a", "author_name": "Kai Shen", "author_email": "shenkai8@huawei.com", "author_company": "Huawei", "author_date": "2019-05-13T17:15:37-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T09:47:44-07:00", "subject": "mm/hugetlb.c: don't put_page in lock of hugetlb_lock", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9980d744a0 (\"mm, hugetlb: get rid of surplus page accounting tricks\")", "cc_stable": true, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kai Shen <shenkai8@huawei.com> (Huawei)", "Feilong Lin <linfeilong@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Oscar Salvador <osalvador@suse.de> (Suse)", "Mike Kravetz <mike.kravetz@oracle.com> (Oracle)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)"], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": ["Wang Wang <wangwang2@huawei.com> (Huawei)"]}, "score_total": 66, "score_technical": 12, "score_impact": 22, "score_quality": 22, "score_community": 10, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small fix in critical memory management subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Deadlock fix affecting all hugetlb users with stable backport"}, "quality": {"review_chain": 10, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 22, "details": "Excellent review chain with complete message and testing evidence"}, "community": {"cross_org": 4, "maintainer": 3, "response": 3, "subtotal": 10, "details": "Multi-org collaboration with maintainer and external reporter"}}, "score_justification": "Spinlock recursion deadlock fix in critical hugetlb code path with excellent review process", "code_snippet": "@@ -1574,8 +1574,9 @@ static struct page *alloc_surplus_huge_page(struct hstate *h, gfp_t gfp_mask,\n \t */\n \tif (h->surplus_huge_pages >= h->nr_overcommit_huge_pages) {\n \t\tSetPageHugeTemporary(page);\n+\t\tspin_unlock(&hugetlb_lock);\n \t\tput_page(page);\n-\t\tpage = NULL;\n+\t\treturn NULL;\n \t} else {\n \t\th->surplus_huge_pages++;\n \t\th->surplus_huge_pages_node[page_to_nid(page)]++;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2bf753e64b4a702e27ce26ff520c59563c62f96b"}
{"commit_hash": "632b2ef0c72d9ea0f76619ad04ca53aae121f8b9", "short_hash": "632b2ef0c72d", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-13T17:16:28-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T09:47:45-07:00", "subject": "mm/slub.c: update the comment about slab frozen", "primary_category": "TRIV-COMMENT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 5, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Tiny comment-only change in core MM"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Properly reviewed doc update"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "ZTE author, Linus committer"}}, "score_justification": "Comment-only change updating frozen slab documentation", "code_snippet": "@@ -58,10 +58,11 @@\n  *\tD. page->frozen\t\t-> frozen state\n  *\n  *   If a slab is frozen then it is exempt from list management. It is not\n- *   on any list. The processor that froze the slab is the one who can\n- *   perform list operations on the page. Other processors may put objects\n- *   onto the freelist but the processor that froze the slab is the only\n- *   one that can retrieve the objects from the page's freelist.\n+ *   on any list except per cpu partial list. The processor that froze the\n+ *   slab is the one who can perform list operations on the page. Other\n+ *   processors may put objects onto the freelist but the processor that\n+ *   froze the slab is the only one that can retrieve the objects from the\n+ *   page's freelist.\n  *\n  *   The list_lock protects the partial and full list on each node and\n  *   the partial slab counter. If taken then no new slabs may be added or\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/632b2ef0c72d9ea0f76619ad04ca53aae121f8b9"}
{"commit_hash": "517f9f1ee5ed0a05d0f6f884f6d9b5c46ac5a810", "short_hash": "517f9f1ee5ed", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-05-13T17:16:25-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T09:47:45-07:00", "subject": "mm/slab.c: remove unneed check in cpuup_canceled", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)"], "tested_by": [], "acked_by": ["Christoph Lameter <cl@linux.com> (Linux)"], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 6, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small 6-line change in critical memory management subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Two distinct reviewers, good explanation but minimal testing evidence"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-company review with maintainer acceptance"}}, "score_justification": "Dead code removal in slab allocator with cross-org review", "code_snippet": "@@ -990,10 +990,8 @@ static void cpuup_canceled(long cpu)\n \n \t\t/* cpu is dead; no one can alloc from it. */\n \t\tnc = per_cpu_ptr(cachep->cpu_cache, cpu);\n-\t\tif (nc) {\n-\t\t\tfree_block(cachep, nc->entry, nc->avail, node, &list);\n-\t\t\tnc->avail = 0;\n-\t\t}\n+\t\tfree_block(cachep, nc->entry, nc->avail, node, &list);\n+\t\tnc->avail = 0;\n \n \t\tif (!cpumask_empty(mask)) {\n \t\t\tspin_unlock_irq(&n->list_lock);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/517f9f1ee5ed0a05d0f6f884f6d9b5c46ac5a810"}
{"commit_hash": "a4d3f8916c65b63e6b9457cdec74ceaaff7e6b12", "short_hash": "a4d3f8916c65", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-13T17:16:22-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T09:47:45-07:00", "subject": "slub: remove useless kmem_cache_debug() before remove_full()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["David Rientjes <rientjes@google.com> (Google)"], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 9, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Tiny change in critical memory management subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "Code simplification with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed and acked by maintainer with good explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org review with maintainer sign-off"}}, "score_justification": "Code simplification removing redundant debug check in SLUB allocator", "code_snippet": "@@ -2903,8 +2903,7 @@ static void __slab_free(struct kmem_cache *s, struct page *page,\n \t * then add it.\n \t */\n \tif (!kmem_cache_has_cpu_partial(s) && unlikely(!prior)) {\n-\t\tif (kmem_cache_debug(s))\n-\t\t\tremove_full(s, n, page);\n+\t\tremove_full(s, n, page);\n \t\tadd_partial(n, page, DEACTIVATE_TO_TAIL);\n \t\tstat(s, FREE_ADD_PARTIAL);\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4d3f8916c65b63e6b9457cdec74ceaaff7e6b12"}
{"commit_hash": "299c83dce9ea3a79bb4b5511d2cb996b6b8e5111", "short_hash": "299c83dce9ea", "author_name": "Linxu Fang", "author_email": "fanglinxu@huawei.com", "author_company": "Huawei", "author_date": "2019-05-13T17:19:17-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T09:47:48-07:00", "subject": "mem-hotplug: fix node spanned pages when we have a node with only ZONE_MOVABLE", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e506b99696a2 (\"mem-hotplug: fix node spanned pages when we have a movable node\")", "cc_stable": false, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Linxu Fang <fanglinxu@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 56, "score_technical": 12, "score_impact": 22, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small surgical fix in critical memory management subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Data corruption fix affecting memory hotplug systems"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Excellent message with detailed before/after analysis"}, "community": {"cross_org": 3, "maintainer": 2, "response": 1, "subtotal": 6, "details": "Cross-org review by SUSE, Microsoft, Fujitsu"}}, "score_justification": "Memory corruption fix for double-counting bug in node spanned pages calculation during hotplug", "code_snippet": "@@ -6255,13 +6255,15 @@ static unsigned long __init zone_spanned_pages_in_node(int nid,\n \t\t\t\t\tunsigned long *zone_end_pfn,\n \t\t\t\t\tunsigned long *ignored)\n {\n+\tunsigned long zone_low = arch_zone_lowest_possible_pfn[zone_type];\n+\tunsigned long zone_high = arch_zone_highest_possible_pfn[zone_type];\n \t/* When hotadd a new node from cpu_up(), the node should be empty */\n \tif (!node_start_pfn && !node_end_pfn)\n \t\treturn 0;\n \n \t/* Get the start and end of the zone */\n-\t*zone_start_pfn = arch_zone_lowest_possible_pfn[zone_type];\n-\t*zone_end_pfn = arch_zone_highest_possible_pfn[zone_type];\n+\t*zone_start_pfn = clamp(node_start_pfn, zone_low, zone_high);\n+\t*zone_end_pfn = clamp(node_end_pfn, zone_low, zone_high);\n \tadjust_zone_range_for_zone_movable(nid, zone_type,\n \t\t\t\tnode_start_pfn, node_end_pfn,\n \t\t\t\tzone_start_pfn, zone_end_pfn);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/299c83dce9ea3a79bb4b5511d2cb996b6b8e5111"}
{"commit_hash": "00f9fec48157f3734e52130a119846e67a12314b", "short_hash": "00f9fec48157", "author_name": "Yunjian Wang", "author_email": "wangyunjian@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T19:03:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-14T15:38:59-07:00", "subject": "net/mlx4_core: Change the error print to info print", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 592e49dda812 ('net/mlx4: Implement promiscuous mode with device managed flow-steering')", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunjian Wang <wangyunjian@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Tariq Toukan <tariqt@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1492,7 +1492,7 @@ int mlx4_flow_steer_promisc_add(struct mlx4_dev *dev, u8 port,\n \trule.port = port;\n \trule.qpn = qpn;\n \tINIT_LIST_HEAD(&rule.list);\n-\tmlx4_err(dev, \"going promisc on %x\\n\", port);\n+\tmlx4_info(dev, \"going promisc on %x\\n\", port);\n \n \treturn  mlx4_flow_attach(dev, &rule, regid_p);\n }\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/00f9fec48157f3734e52130a119846e67a12314b"}
{"commit_hash": "3ebe1bca58c85325c97a22d4fc3f5b5420752e6f", "short_hash": "3ebe1bca58c8", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T22:55:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-14T15:41:55-07:00", "subject": "ppp: deflate: Fix possible crash in deflate_init", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION", "BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ppp", "subsystems_touched": ["drivers/net/ppp"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Guillaume Nault <gnault@redhat.com> (Redhat)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 50, "score_technical": 10, "score_impact": 18, "score_quality": 14, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting PPP users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 14, "details": "Good commit message with crash details and reviewer tags"}, "community": {"cross_org": 3, "maintainer": 3, "response": 2, "subtotal": 8, "details": "Reported by external robot, cross-company review"}}, "score_justification": "Module init crash fix with proper cleanup on error path", "code_snippet": "@@ -610,12 +610,20 @@ static struct compressor ppp_deflate_draft = {\n \n static int __init deflate_init(void)\n {\n-        int answer = ppp_register_compressor(&ppp_deflate);\n-        if (answer == 0)\n-                printk(KERN_INFO\n-\t\t       \"PPP Deflate Compression module registered\\n\");\n-\tppp_register_compressor(&ppp_deflate_draft);\n-        return answer;\n+\tint rc;\n+\n+\trc = ppp_register_compressor(&ppp_deflate);\n+\tif (rc)\n+\t\treturn rc;\n+\n+\trc = ppp_register_compressor(&ppp_deflate_draft);\n+\tif (rc) {\n+\t\tppp_unregister_compressor(&ppp_deflate);\n+\t\treturn rc;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3ebe1bca58c85325c97a22d4fc3f5b5420752e6f"}
{"commit_hash": "bd8309de0d60838eef6fb575b0c4c7e95841cf73", "short_hash": "bd8309de0d60", "author_name": "Hou Tao", "author_email": "houtao1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T15:44:32-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T19:52:50-07:00", "subject": "fs/fat/file.c: issue flush after the writeback of FAT", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/fat", "subsystems_touched": ["fs/fat"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Hou Tao <houtao1@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["OGAWA Hirofumi <hirofumi@mail.parknet.co.jp> (Co)"], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 20, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical filesystem code (1 file, 2 hunks, 11 lines)"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Data corruption fix affecting FAT filesystem users"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Multiple reviewers, detailed explanation with link, no testing tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) committer (Linux Foundation) different companies"}}, "score_justification": "Fixes fsync data corruption by reordering flush in FAT filesystem", "code_snippet": "@@ -193,12 +193,17 @@ static int fat_file_release(struct inode *inode, struct file *filp)\n int fat_file_fsync(struct file *filp, loff_t start, loff_t end, int datasync)\n {\n \tstruct inode *inode = filp->f_mapping->host;\n-\tint res, err;\n+\tint err;\n+\n+\terr = __generic_file_fsync(filp, start, end, datasync);\n+\tif (err)\n+\t\treturn err;\n \n-\tres = generic_file_fsync(filp, start, end, datasync);\n \terr = sync_mapping_buffers(MSDOS_SB(inode->i_sb)->fat_inode->i_mapping);\n+\tif (err)\n+\t\treturn err;\n \n-\treturn res ? res : err;\n+\treturn blkdev_issue_flush(inode->i_sb->s_bdev, GFP_KERNEL, NULL);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd8309de0d60838eef6fb575b0c4c7e95841cf73"}
{"commit_hash": "ce528c4c20f94b48781a9bb9e32435d2b9782995", "short_hash": "ce528c4c20f9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T15:45:22-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T19:52:51-07:00", "subject": "fs/eventfd.c: make eventfd_ida static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in filesystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix only"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean fix with maintainer signoffs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different org maintainer"}}, "score_justification": "Sparse warning fix adding static to eventfd_ida", "code_snippet": "@@ -23,7 +23,7 @@\n #include <linux/seq_file.h>\n #include <linux/idr.h>\n \n-DEFINE_IDA(eventfd_ida);\n+static DEFINE_IDA(eventfd_ida);\n \n struct eventfd_ctx {\n \tstruct kref kref;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ce528c4c20f94b48781a9bb9e32435d2b9782995"}
{"commit_hash": "d6a2946a88f524a47cc9b79279667137899db807", "short_hash": "d6a2946a88f5", "author_name": "Li Rongqing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-05-14T15:46:20-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-05-14T19:52:52-07:00", "subject": "ipc: prevent lockup on alloc_msg and free_msg", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ipc", "subsystems_touched": ["ipc"], "subsystem_tier": 2, "files_changed": 2, "insertions": 14, "deletions": 2, "hunks": 10, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Davidlohr Bueso <dbueso@suse.de> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 16, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "2 files, 10 hunks, small change in critical IPC subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "RCU stall fix affecting IPC users on large SMP systems"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Reviewed-by Suse maintainer, detailed stack traces, Link tag"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Baidu author, Suse reviewer, Linux Foundation maintainer chain"}}, "score_justification": "RCU stall deadlock fix in IPC msg with cond_resched, deferred free_msg", "code_snippet": "@@ -430,7 +430,8 @@ static void mqueue_evict_inode(struct inode *inode)\n \tstruct user_struct *user;\n \tunsigned long mq_bytes, mq_treesize;\n \tstruct ipc_namespace *ipc_ns;\n-\tstruct msg_msg *msg;\n+\tstruct msg_msg *msg, *nmsg;\n+\tLIST_HEAD(tmp_msg);\n \n \tclear_inode(inode);\n ", "flags": ["LTS_FIX"], "link": "https://lore.kernel.org/linux-kernel/d6a2946a88f524a47cc9b79279667137899db807"}
{"commit_hash": "d4548543fc4ece56c6f04b8586f435fb4fd84c20", "short_hash": "d4548543fc4e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-30T19:59:42+08:00", "committer_name": "Dominique Martinet", "committer_email": "dominique.martinet@cea.fr", "committer_company": "Cea", "commit_date": "2019-05-15T12:58:18Z", "subject": "9p/virtio: Add cleanup path in p9_virtio_init", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b530cc794024 (\"9p: add virtio transport\")", "cc_stable": true, "subsystem_prefix": "net/9p", "subsystems_touched": ["net/9p"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dominique Martinet <dominique.martinet@cea.fr> (Cea)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Resource leak fix with stable backport"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear message with KASAN report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, CEA committer, Hulk Robot report"}}, "score_justification": "Error path cleanup in 9p virtio init prevents resource leak when driver registration fails", "code_snippet": "@@ -782,10 +782,16 @@ static struct p9_trans_module p9_virtio_trans = {\n /* The standard init function */\n static int __init p9_virtio_init(void)\n {\n+\tint rc;\n+\n \tINIT_LIST_HEAD(&virtio_chan_list);\n \n \tv9fs_register_trans(&p9_virtio_trans);\n-\treturn register_virtio_driver(&p9_virtio_drv);\n+\trc = register_virtio_driver(&p9_virtio_drv);\n+\tif (rc)\n+\t\tv9fs_unregister_trans(&p9_virtio_trans);\n+\n+\treturn rc;\n }\n \n static void __exit p9_virtio_cleanup(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4548543fc4ece56c6f04b8586f435fb4fd84c20"}
{"commit_hash": "80a316ff16276b36d0392a8f8b2f63259857ae98", "short_hash": "80a316ff1627", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-30T22:39:33+08:00", "committer_name": "Dominique Martinet", "committer_email": "dominique.martinet@cea.fr", "committer_company": "Cea", "commit_date": "2019-05-15T13:00:07Z", "subject": "9p/xen: Add cleanup path in p9_trans_xen_init", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 868eb122739a (\"xen/9pfs: introduce Xen 9pfs transport driver\")", "cc_stable": true, "subsystem_prefix": "net/9p", "subsystems_touched": ["net/9p"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dominique Martinet <dominique.martinet@cea.fr> (Cea)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 17, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical networking transport layer"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Resource leak fix with stable backport, affects Xen 9pfs users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag and stable CC, basic review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to CEA France maintainer"}}, "score_justification": "Resource leak fix in Xen 9pfs transport init path with proper cleanup on error", "code_snippet": "@@ -530,13 +530,19 @@ static struct xenbus_driver xen_9pfs_front_driver = {\n \n static int p9_trans_xen_init(void)\n {\n+\tint rc;\n+\n \tif (!xen_domain())\n \t\treturn -ENODEV;\n \n \tpr_info(\"Initialising Xen transport for 9pfs\\n\");\n \n \tv9fs_register_trans(&p9_xen_trans);\n-\treturn xenbus_register_frontend(&xen_9pfs_front_driver);\n+\trc = xenbus_register_frontend(&xen_9pfs_front_driver);\n+\tif (rc)\n+\t\tv9fs_unregister_trans(&p9_xen_trans);\n+\n+\treturn rc;\n }\n module_init(p9_trans_xen_init);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/80a316ff16276b36d0392a8f8b2f63259857ae98"}
{"commit_hash": "8e8f515d567f9ec1d960e9fdb117d39753b7504d", "short_hash": "8e8f515d567f", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-05-15T11:19:29Z", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-15T16:36:49-03:00", "subject": "perf jevents: Remove unused variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tools/", "subsystems_touched": ["tools/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -415,7 +415,6 @@ static int save_arch_std_events(void *data, char *name, char *event,\n \t\t\t\tchar *metric_name, char *metric_group)\n {\n \tstruct event_struct *es;\n-\tstruct stat *sb = data;\n \n \tes = malloc(sizeof(*es));\n \tif (!es)\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8e8f515d567f9ec1d960e9fdb117d39753b7504d"}
{"commit_hash": "481a9b8073a448f0bd151b7171dbab18b35de55c", "short_hash": "481a9b8073a4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-10T11:21:44+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-05-15T21:56:48+02:00", "subject": "ubifs: Fix build error without CONFIG_UBIFS_FS_XATTR", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9ca2d7326444 (\"ubifs: Limit number of xattrs per inode\")", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 10, "score_impact": 12, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 0, "subtotal": 12, "details": "Build fix preventing UBIFS compilation failure"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear error message, Fixes tag, Reported-by"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Internal fix with maintainer sign-off"}}, "score_justification": "Build configuration regression fix for UBIFS filesystem", "code_snippet": "@@ -2015,13 +2015,17 @@ int ubifs_xattr_set(struct inode *host, const char *name, const void *value,\n \t\t    size_t size, int flags, bool check_lock);\n ssize_t ubifs_xattr_get(struct inode *host, const char *name, void *buf,\n \t\t\tsize_t size);\n-int ubifs_purge_xattrs(struct inode *host);\n \n #ifdef CONFIG_UBIFS_FS_XATTR\n void ubifs_evict_xattr_inode(struct ubifs_info *c, ino_t xattr_inum);\n+int ubifs_purge_xattrs(struct inode *host);\n #else\n static inline void ubifs_evict_xattr_inode(struct ubifs_info *c,\n \t\t\t\t\t   ino_t xattr_inum) { }\n+static inline int ubifs_purge_xattrs(struct inode *host)\n+{\n+\treturn 0;\n+}\n #endif\n \n #ifdef CONFIG_UBIFS_FS_SECURITY\n", "flags": ["CONFIG_OPTIONAL"], "link": "https://lore.kernel.org/linux-kernel/481a9b8073a448f0bd151b7171dbab18b35de55c"}
{"commit_hash": "dc6ce4bc2b355a47f225a0205046b3ebf29a7f72", "short_hash": "dc6ce4bc2b35", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-05-16T11:46:30+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-05-16T08:10:25-06:00", "subject": "io_uring: adjust smp_rmb inside io_cqring_events", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 16, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small refactoring in critical io_uring subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race condition fix affecting io_uring users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different author and committer organizations"}}, "score_justification": "Memory barrier refactoring in io_uring to prevent race conditions", "code_snippet": "@@ -2167,6 +2167,8 @@ static int io_ring_submit(struct io_ring_ctx *ctx, unsigned int to_submit)\n \n static unsigned io_cqring_events(struct io_cq_ring *ring)\n {\n+\t/* See comment at the top of this file */\n+\tsmp_rmb();\n \treturn READ_ONCE(ring->r.tail) - READ_ONCE(ring->r.head);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dc6ce4bc2b355a47f225a0205046b3ebf29a7f72"}
{"commit_hash": "fdb288a679cdf6a71f3c1ae6f348ba4dae742681", "short_hash": "fdb288a679cd", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-05-16T11:46:31+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-05-16T08:10:27-06:00", "subject": "io_uring: use wait_event_interruptible for cq_wait conditional wait", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 15, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 12, "score_impact": 10, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium simplification in critical io_uring subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code cleanup reducing complexity in async I/O"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean simplification with good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "KylinOS author, Axboe maintainer sign-off"}}, "score_justification": "Code simplification replacing manual wait loop with wait_event_interruptible macro", "code_snippet": "@@ -2181,7 +2181,6 @@ static int io_cqring_wait(struct io_ring_ctx *ctx, int min_events,\n {\n \tstruct io_cq_ring *ring = ctx->cq_ring;\n \tsigset_t ksigmask, sigsaved;\n-\tDEFINE_WAIT(wait);\n \tint ret;\n \n \tif (io_cqring_events(ring) >= min_events)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fdb288a679cdf6a71f3c1ae6f348ba4dae742681"}
{"commit_hash": "7a102d9044e720ac887c0cd82b6d5cad236f6d71", "short_hash": "7a102d9044e7", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-05-15T16:52:19+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-05-16T08:48:48-06:00", "subject": "block/bio-integrity: use struct_size() in kmalloc()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical block subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by tag, basic commit message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (KylinOS  kernel.org), different maintainer"}}, "score_justification": "API migration to struct_size() helper in block integrity allocation", "code_snippet": "@@ -43,8 +43,7 @@ struct bio_integrity_payload *bio_integrity_alloc(struct bio *bio,\n \tunsigned inline_vecs;\n \n \tif (!bs || !mempool_initialized(&bs->bio_integrity_pool)) {\n-\t\tbip = kmalloc(sizeof(struct bio_integrity_payload) +\n-\t\t\t      sizeof(struct bio_vec) * nr_vecs, gfp_mask);\n+\t\tbip = kmalloc(struct_size(bip, bip_inline_vecs, nr_vecs), gfp_mask);\n \t\tinline_vecs = nr_vecs;\n \t} else {\n \t\tbip = mempool_alloc(&bs->bio_integrity_pool, gfp_mask);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7a102d9044e720ac887c0cd82b6d5cad236f6d71"}
{"commit_hash": "8e7b65a6eb7a8876b389afb34176a41eb3d70238", "short_hash": "8e7b65a6eb7a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-06T08:31:09+02:00", "committer_name": "Olof Johansson", "committer_email": "olof@lixom.net", "committer_company": "Lixom", "commit_date": "2019-05-16T10:53:15-07:00", "subject": "ARM: ixp4xx: Remove duplicated include from common.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)", "Olof Johansson <olof@lixom.net> (Lixom)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal single-line change in include"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Trivial include cleanup with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic cleanup with minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-company review from Huawei to maintainer"}}, "score_justification": "Removes duplicate #include, trivial cleanup with cross-org review", "code_snippet": "@@ -27,7 +27,6 @@\n #include <linux/cpu.h>\n #include <linux/pci.h>\n #include <linux/sched_clock.h>\n-#include <linux/bitops.h>\n #include <linux/irqchip/irq-ixp4xx.h>\n #include <linux/platform_data/timer-ixp4xx.h>\n #include <mach/udc.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e7b65a6eb7a8876b389afb34176a41eb3d70238"}
{"commit_hash": "1628fc3f47717fc3c8d9cd5fd6c7bc7d3796927d", "short_hash": "1628fc3f4771", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-16T17:54:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-16T11:13:14+01:00", "subject": "ASoC: Mediatek: add memory interface data align", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 9, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in sound subsystem (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for audio driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with Signed-off-by, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "Audio format alignment feature addition for Mediatek AFE", "code_snippet": "@@ -262,6 +265,10 @@ int mtk_afe_fe_prepare(struct snd_pcm_substream *substream,\n \tmtk_regmap_update_bits(afe->regmap, memif->data->hd_reg,\n \t\t\t       1, hd_audio, memif->data->hd_shift);\n \n+\tmtk_regmap_update_bits(afe->regmap, memif->data->hd_align_reg,\n+\t\t\t       memif->data->hd_align_mshift,\n+\t\t\t       hd_align ? memif->data->hd_align_mshift : 0);\n+\n \treturn 0;\n }\n EXPORT_SYMBOL_GPL(mtk_afe_fe_prepare);\ndiff --git a/sound/soc/mediatek/common/mtk-base-afe.h b/sound/soc/mediatek/common/mtk-base-afe.h\nindex bd8d5e0c6843..60cb609a9790 100644\n--- a/sound/soc/mediatek/common/mtk-base-afe.h\n+++ b/sound/soc/mediatek/common/mtk-base-afe.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1628fc3f47717fc3c8d9cd5fd6c7bc7d3796927d"}
{"commit_hash": "cf61f5b01531a2b64b875894fa97aa891d39e871", "short_hash": "cf61f5b01531", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-16T17:54:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-16T11:13:21+01:00", "subject": "ASoC: Mediatek: MT8183: set data align", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 18, "deletions": 0, "hunks": 18, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in audio driver (1 file, 18 insertions)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Feature enhancement for specific audio hardware"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, maintainer commit"}}, "score_justification": "Feature enhancement adding data align register config for Mediatek MT8183 audio driver", "code_snippet": "@@ -437,7 +437,9 @@ static const struct mtk_base_memif_data memif_data[MT8183_MEMIF_NUM] = {\n \t\t.enable_reg = AFE_DAC_CON0,\n \t\t.enable_shift = DL1_ON_SFT,\n \t\t.hd_reg = AFE_MEMIF_HD_MODE,\n+\t\t.hd_align_reg = AFE_MEMIF_HDALIGN,\n \t\t.hd_shift = DL1_HD_SFT,\n+\t\t.hd_align_mshift = DL1_HD_ALIGN_MASK_SFT,\n \t\t.agent_disable_reg = -1,\n \t\t.agent_disable_shift = -1,\n \t\t.msb_reg = -1,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf61f5b01531a2b64b875894fa97aa891d39e871"}
{"commit_hash": "5caaf29af5ca82d5da8bc1d0ad07d9e664ccf1d8", "short_hash": "5caaf29af5ca", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-16T15:56:56+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-16T11:16:43+01:00", "subject": "spi: bitbang: Fix NULL pointer dereference in spi_unregister_master", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 702a4879ec33 (\"spi: bitbang: Let spi_bitbang_start() take a reference to master\")", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)", "Axel Lin <axel.lin@ingics.com> (Ingics)", "Mukesh Ojha <mojha@codeaurora.org> (CodeAurora)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 48, "score_technical": 6, "score_impact": 20, "score_quality": 14, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 1-line fix in driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with KASAN report, affects SPI users"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Excellent: 3 Reviewed-by tags, detailed KASAN stack trace, Fixes tag"}, "community": {"cross_org": 3, "maintainer": 2, "response": 3, "subtotal": 8, "details": "Author@Huawei, committer@kernel.org, 3 reviewer orgs, Reported-by external robot"}}, "score_justification": "Null-ptr-deref crash fix in SPI bitbang error path with excellent documentation", "code_snippet": "@@ -415,7 +415,7 @@ int spi_bitbang_start(struct spi_bitbang *bitbang)\n \tif (ret)\n \t\tspi_master_put(master);\n \n-\treturn 0;\n+\treturn ret;\n }\n EXPORT_SYMBOL_GPL(spi_bitbang_start);\n \n", "flags": ["KASAN_REPORT"], "link": "https://lore.kernel.org/linux-kernel/5caaf29af5ca82d5da8bc1d0ad07d9e664ccf1d8"}
{"commit_hash": "7e27e8d6130c5e88fac9ddec4249f7f2337fe7f8", "short_hash": "7e27e8d6130c", "author_name": "Junwei Hu", "author_email": "hujunwei4@huawei.com", "author_company": "Huawei", "author_date": "2019-05-16T10:51:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-16T12:25:02-07:00", "subject": "tipc: switch order of device registration to fix a crash", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: a62fbccecd62 (\"tipc: make subscriber server support net namespace\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/tipc"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["Junwei Hu <hujunwei4@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Xiaogang Wang <wangxiaogang3@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": ["Wang Wang <wangwang2@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race condition crash fix affecting TIPC users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes tag, internal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Maintainer committed, internal reporter"}}, "score_justification": "Race between socket creation and pernet registration causes kernel panic", "code_snippet": "@@ -150,12 +150,12 @@ static int __init tipc_init(void)\n \tpr_info(\"Started in single node mode\\n\");\n \treturn 0;\n out_bearer:\n+\ttipc_socket_stop();\n+out_socket:\n \tunregister_pernet_subsys(&tipc_net_ops);\n out_pernet:\n \ttipc_unregister_sysctl();\n out_sysctl:\n-\ttipc_socket_stop();\n-out_socket:\n \ttipc_netlink_compat_stop();\n out_netlink_compat:\n \ttipc_netlink_stop();", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7e27e8d6130c5e88fac9ddec4249f7f2337fe7f8"}
{"commit_hash": "510a405d945bc985abc513fafe45890cac34fafa", "short_hash": "510a405d945b", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-05-16T19:30:07-07:00", "committer_name": "Keith Busch", "committer_email": "keith.busch@intel.com", "committer_company": "Intel", "commit_date": "2019-05-17T11:08:09-06:00", "subject": "nvme: fix memory leak for power latency tolerance", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: c5552fde102fc (\"nvme: Enable autonomous power state transitions\")", "cc_stable": false, "subsystem_prefix": "drivers/nvme", "subsystems_touched": ["drivers/nvme/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Keith Busch <keith.busch@intel.com> (Intel)"], "reviewed_by": [], "tested_by": ["David Milburn <dmilburn@redhat.com> (Redhat)"], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 16, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important storage subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with regression tag, affects NVMe users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Cross-org review, good message quality, tested"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer, Red Hat tester"}}, "score_justification": "Memory leak fix in NVMe uninit path with cross-org review and testing", "code_snippet": "@@ -3700,6 +3700,7 @@ EXPORT_SYMBOL_GPL(nvme_start_ctrl);\n \n void nvme_uninit_ctrl(struct nvme_ctrl *ctrl)\n {\n+\tdev_pm_qos_hide_latency_tolerance(ctrl->device);\n \tcdev_device_del(&ctrl->cdev, ctrl->device);\n }\n EXPORT_SYMBOL_GPL(nvme_uninit_ctrl);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/510a405d945bc985abc513fafe45890cac34fafa"}
{"commit_hash": "532b0f7ece4cb2ffd24dc723ddf55242d1188e5e", "short_hash": "532b0f7ece4c", "author_name": "Junwei Hu", "author_email": "hujunwei4@huawei.com", "author_company": "Huawei", "author_date": "2019-05-17T19:27:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-17T11:33:51-07:00", "subject": "tipc: fix modprobe tipc failed after switch order of device registration", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 7e27e8d6130c (\"tipc: switch order of device registration to fix a crash\")", "cc_stable": false, "subsystem_prefix": "tipc", "subsystems_touched": ["net/tipc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 7, "hunks": 12, "review_chain": {"signed_off_by": ["Junwei Hu <hujunwei4@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Kang Zhou <zhoukang7@huawei.com> (Huawei)", "Suanming Mou <mousuanming@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": ["Wang Wang <wangwang2@huawei.com> (Huawei)"]}, "score_total": 44, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in networking protocol (TIER_3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with Fixes tag, affects TIPC users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Detailed message with error context, Reviewed-by tags"}, "community": {"cross_org": 0, "maintainer": 3, "response": 3, "subtotal": 6, "details": "Reported-by and Reviewed-by from same company, maintainer applied"}}, "score_justification": "Regression fix for TIPC module loading failure caused by initialization order", "code_snippet": "@@ -68,6 +68,10 @@ static int __net_init tipc_init_net(struct net *net)\n \tINIT_LIST_HEAD(&tn->node_list);\n \tspin_lock_init(&tn->node_list_lock);\n \n+\terr = tipc_socket_init();\n+\tif (err)\n+\t\tgoto out_socket;\n+\n \terr = tipc_sk_rht_init(net);\n \tif (err)\n \t\tgoto out_sk_rht;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/532b0f7ece4cb2ffd24dc723ddf55242d1188e5e"}
{"commit_hash": "6d97024dce236619b0bb85bdb5028019ed7fda56", "short_hash": "6d97024dce23", "author_name": "Chun-Hung Wu", "author_email": "chun-hung.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-16T16:10:45+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-05-19T09:18:30+01:00", "subject": "iio: adc: mediatek: mt6577-auxadc, add mt6765 support", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/iio", "subsystems_touched": ["drivers/iio/adc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 41, "deletions": 13, "hunks": 12, "review_chain": {"signed_off_by": ["Chun-Hung Wu <chun-hung.wu@mediatek.com> (MediaTek)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change adding platform support for ADC driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "New hardware support for MediaTek MT6765 platform"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, only Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, maintainer from Huawei applied it"}}, "score_justification": "Hardware support addition for MediaTek MT6765 ADC with platform-specific features", "code_snippet": "@@ -42,10 +42,26 @@\n #define MT6577_AUXADC_POWER_READY_MS          1\n #define MT6577_AUXADC_SAMPLE_READY_US         25\n \n+struct mtk_auxadc_compatible {\n+\tbool sample_data_cali;\n+\tbool check_global_idle;\n+};\n+\n struct mt6577_auxadc_device {\n \tvoid __iomem *reg_base;\n \tstruct clk *adc_clk;\n \tstruct mutex lock;\n+\tconst struct mtk_auxadc_compatible *dev_comp;\n+};\n+\n+static const struct mtk_auxadc_compatible mt8173_compat = {\n+\t.sample_data_cali = false,\n+\t.check_global_idle = true,\n+};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d97024dce236619b0bb85bdb5028019ed7fda56"}
{"commit_hash": "73e1ccdab3c34b8f9be6e55600d40a1478049121", "short_hash": "73e1ccdab3c3", "author_name": "Chun-Hung Wu", "author_email": "chun-hung.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-16T16:10:44+08:00", "committer_name": "Jonathan Cameron", "committer_email": "Jonathan.Cameron@huawei.com", "committer_company": "Huawei", "commit_date": "2019-05-19T09:18:30+01:00", "subject": "dt-bindings: iio: adc: mediatek: Add document for mt6765", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/iio/adc"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Chun-Hung Wu <chun-hung.wu@mediatek.com> (MediaTek)", "Jonathan Cameron <Jonathan.Cameron@huawei.com> (Huawei)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 4, "score_impact": 7, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Single binding doc addition for new SoC"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 7, "details": "New SoC support documentation, minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with subsystem prefix, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, maintainer from Huawei"}}, "score_justification": "DT binding doc addition for MediaTek mt6765 SoC support", "code_snippet": "@@ -13,6 +13,7 @@ Required properties:\n   - compatible: Should be one of:\n     - \"mediatek,mt2701-auxadc\": For MT2701 family of SoCs\n     - \"mediatek,mt2712-auxadc\": For MT2712 family of SoCs\n+    - \"mediatek,mt6765-auxadc\": For MT6765 family of SoCs\n     - \"mediatek,mt7622-auxadc\": For MT7622 family of SoCs\n     - \"mediatek,mt8173-auxadc\": For MT8173 family of SoCs\n     - \"mediatek,mt8183-auxadc\", \"mediatek,mt8173-auxadc\": For MT8183 family of SoCs\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/73e1ccdab3c34b8f9be6e55600d40a1478049121"}
{"commit_hash": "c2af88f1a0cdf4cbe94b51fd93e52a3f55606a13", "short_hash": "c2af88f1a0cd", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-26T15:08:08+08:00", "committer_name": "Heiko Stuebner", "committer_email": "heiko@sntech.de", "committer_company": "Sntech", "commit_date": "2019-05-20T01:00:41+02:00", "subject": "ARM: rockchip: fix missing of_node_put calls in smp code", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-rockchip"], "subsystem_tier": 2, "files_changed": 2, "insertions": 12, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Heiko Stuebner <heiko@sntech.de> (Sntech)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical ARM architecture code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting Rockchip ARM platforms"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-documented with coccinelle output, Reviewed-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, different maintainer committer"}}, "score_justification": "Device tree refcount leak fix in Rockchip SMP/power management code", "code_snippet": "@@ -278,19 +278,25 @@ static void __init rockchip_smp_prepare_cpus(unsigned int max_cpus)\n \tsram_base_addr = of_iomap(node, 0);\n \tif (!sram_base_addr) {\n \t\tpr_err(\"%s: could not map sram registers\\n\", __func__);\n+\t\tof_node_put(node);\n \t\treturn;\n \t}\n \n-\tif (has_pmu && rockchip_smp_prepare_pmu())\n+\tif (has_pmu && rockchip_smp_prepare_pmu()) {\n+\t\tof_node_put(node);\n \t\treturn;\n+\t}\n \n \tif (read_cpuid_part() == ARM_CPU_PART_CORTEX_A9) {\n-\t\tif (rockchip_smp_prepare_sram(node))\n+\t\tif (rockchip_smp_prepare_sram(node)) {\n+\t\t\tof_node_put(node);\n \t\t\treturn;\n+\t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c2af88f1a0cdf4cbe94b51fd93e52a3f55606a13"}
{"commit_hash": "dd7450cab71174637329e5ef57d8474fc7ff2ea0", "short_hash": "dd7450cab711", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-17T18:12:45+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-05-20T06:51:10-05:00", "subject": "ipmi_si: use bool type for initialized variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -71,7 +71,7 @@ enum si_intf_state {\n \n static const char * const si_to_str[] = { \"invalid\", \"kcs\", \"smic\", \"bt\" };\n \n-static int initialized;\n+static bool initialized;\n \n /*\n  * Indexes into stats[] in smi_info below.", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/dd7450cab71174637329e5ef57d8474fc7ff2ea0"}
{"commit_hash": "2f66353963043e1d8dfacfbdf509acc5d3be7698", "short_hash": "2f6635396304", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-17T18:12:44+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-05-20T06:51:10-05:00", "subject": "ipmi_si: fix unexpected driver unregister warning", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/char/ipmi", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 6, "score_impact": 17, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Crash fix affecting IPMI users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with reporter credit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org with maintainer sign-off"}}, "score_justification": "Fixes crash warning in error path for IPMI platform driver registration", "code_snippet": "@@ -19,6 +19,7 @@\n #include \"ipmi_si.h\"\n #include \"ipmi_dmi.h\"\n \n+static bool platform_registered;\n static bool si_tryplatform = true;\n #ifdef CONFIG_ACPI\n static bool          si_tryacpi = true;", "flags": ["IN Reporting"], "link": "https://lore.kernel.org/linux-kernel/2f66353963043e1d8dfacfbdf509acc5d3be7698"}
{"commit_hash": "690510aad15f2f8b205186eac9c705566478dff6", "short_hash": "690510aad15f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-12T14:46:15+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-20T07:40:39+02:00", "subject": "staging: kpc2000: remove unused function kp2000_cdev_write", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/kpc2000"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 24, "score_technical": 6, "score_impact": 6, "score_quality": 6, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in staging driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple cleanup with clear justification"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Robot-reported cleanup from Huawei via Linux Foundation"}}, "score_justification": "Dead code removal in staging driver reported by Hulk Robot", "code_snippet": "@@ -74,11 +74,6 @@ ssize_t  kp2000_cdev_read(struct file *filp, char __user *buf, size_t count, lof\n \treturn count;\n }\n \n-ssize_t  kp2000_cdev_write(struct file *filp, const char __user *buf, size_t count, loff_t *f_pos)\n-{\n-\treturn -EINVAL;\n-}\n-\n long  kp2000_cdev_ioctl(struct file *filp, unsigned int ioctl_num, unsigned long ioctl_param)\n {\n \tstruct kp2000_device *pcard = filp->private_data;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/690510aad15f2f8b205186eac9c705566478dff6"}
{"commit_hash": "fafaa0a27675e7f4d1b58ef44cdc142883f311fe", "short_hash": "fafaa0a27675", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-24T17:15:17+08:00", "committer_name": "Shawn Guo", "committer_email": "shawnguo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-20T09:12:20+08:00", "subject": "arm64: imx: Fix build error without CONFIG_SOC_BUS", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a7e26f356ca1 (\"soc: imx: Add generic i.MX8 SoC driver\")", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Shawn Guo <shawnguo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 12, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Minimal Kconfig change in critical arch/arm64 subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix affecting i.MX8 platform users with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Clear build error context with Fixes tag and Reported-by"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author with kernel.org maintainer, robot report"}}, "score_justification": "Kconfig build dependency fix for i.MX8 SoC with proper regression tag", "code_snippet": "@@ -167,6 +167,7 @@ config ARCH_MXC\n \tselect IMX_GPCV2_PM_DOMAINS\n \tselect PM\n \tselect PM_GENERIC_DOMAINS\n+\tselect SOC_BUS\n \thelp\n \t  This enables support for the ARMv8 based SoCs in the\n \t  NXP i.MX family.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fafaa0a27675e7f4d1b58ef44cdc142883f311fe"}
{"commit_hash": "d4c596ebf62760b89ec3d0a2cbc94e2632395eec", "short_hash": "d4c596ebf627", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-10T21:47:24+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-20T09:18:45+02:00", "subject": "staging: kpc2000: Fix build error without CONFIG_UIO", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 7dc7967fc39a (\"staging: kpc2000: add initial set of Daktronics drivers\")", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/kpc2000"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)", "kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 31, "score_technical": 6, "score_impact": 10, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal 1-line Kconfig dependency fix in staging driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build regression fix with limited user impact"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Clear commit message with Fixes tag and reporter credits"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Auto-reported by robots, maintainer committed"}}, "score_justification": "Kconfig build dependency fix for staging driver, auto-reported", "code_snippet": "@@ -3,6 +3,7 @@\n config KPC2000\n \tbool \"Daktronics KPC Device support\"\n \tdepends on PCI\n+\tdepends on UIO\n \thelp\n \t  Select this if you wish to use the Daktronics KPC PCI devices\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4c596ebf62760b89ec3d0a2cbc94e2632395eec"}
{"commit_hash": "8abc5a7ce6e6a5b77f0ec82c91107a978b32f6e3", "short_hash": "8abc5a7ce6e6", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-05T19:33:53+08:00", "committer_name": "Florian Fainelli", "committer_email": "f.fainelli@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-20T09:34:26-07:00", "subject": "ARM: bcm: fix a leaked reference by adding missing of_node_put", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-bcm"], "subsystem_tier": 2, "files_changed": 3, "insertions": 7, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "reviewed_by": ["Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Ray Jui <ray.jui@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 12, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical ARM architecture code"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Resource leak fix affecting ARM BCM platforms"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed by maintainer with detailed coccinelle report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committed by Broadcom maintainer"}}, "score_justification": "Reference leak fix in ARM BCM platform code, detected by coccinelle", "code_snippet": "@@ -142,6 +142,7 @@ static int bcm63138_smp_boot_secondary(unsigned int cpu,\n \t * return\n \t */\n \tret = bcm63xx_pmb_power_on_cpu(dn);\n+\tof_node_put(dn);\n \tif (ret)\n \t\tgoto out;\n out:\ndiff --git a/arch/arm/mach-bcm/board_bcm281xx.c b/arch/arm/mach-bcm/board_bcm281xx.c\nindex b81bb386951d..1238ac801530 100644\n--- a/arch/arm/mach-bcm/board_bcm281xx.c\n+++ b/arch/arm/mach-bcm/board_bcm281xx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8abc5a7ce6e6a5b77f0ec82c91107a978b32f6e3"}
{"commit_hash": "b41fb528dd8784a87414e3af5579674badefa76b", "short_hash": "b41fb528dd87", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T06:51:45Z", "committer_name": "Christian Borntraeger", "committer_email": "borntraeger@de.ibm.com", "committer_company": "IBM", "commit_date": "2019-05-20T09:40:38+02:00", "subject": "KVM: s390: fix typo in parameter description", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 8b905d28ee17 (\"KVM: s390: provide kvm_arch_no_poll function\")", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/s390/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Christian Borntraeger <borntraeger@de.ibm.com> (IBM)"], "reviewed_by": ["Cornelia Huck <cohuck@redhat.com> (Redhat)", "David Hildenbrand <david@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "1-line typo fix in comment"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic tags, no testing"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "No external impact"}}, "score_justification": "Typo fix in MODULE_PARM_DESC macro parameter name", "code_snippet": "@@ -181,7 +181,7 @@ MODULE_PARM_DESC(hpage, \"1m huge page backing support\");\n /* maximum percentage of steal time for polling.  >100 is treated like 100 */\n static u8 halt_poll_max_steal = 10;\n module_param(halt_poll_max_steal, byte, 0644);\n-MODULE_PARM_DESC(hpage, \"Maximum percentage of steal time to allow polling\");\n+MODULE_PARM_DESC(halt_poll_max_steal, \"Maximum percentage of steal time to allow polling\");\n \n /*\n  * For now we handle at most 16 double words as this is what the s390 base\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b41fb528dd8784a87414e3af5579674badefa76b"}
{"commit_hash": "526f5b851a96566803ee4bee60d0a34df56c77f8", "short_hash": "526f5b851a96", "author_name": "Junwei Hu", "author_email": "hujunwei4@huawei.com", "author_company": "Huawei", "author_date": "2019-05-20T14:43:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-20T10:45:43-07:00", "subject": "tipc: fix modprobe tipc failed after switch order of device registration", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 7e27e8d6130c (\"tipc: switch order of device registration to fix a crash\")", "cc_stable": false, "subsystem_prefix": "net/", "subsystems_touched": ["net/"], "subsystem_tier": 2, "files_changed": 3, "insertions": 27, "deletions": 10, "hunks": 22, "review_chain": {"signed_off_by": ["Junwei Hu <hujunwei4@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Kang Zhou <zhoukang7@huawei.com> (Huawei)", "Suanming Mou <mousuanming@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": ["Wang Wang <wangwang2@huawei.com> (Huawei)", "syzbot+1e8114b61079bfe9cbc5@syzkaller.appspotmail.com"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -77,8 +77,9 @@ void tipc_sub_report_overlap(struct tipc_subscription *sub,\n \t\t\t     u32 found_lower, u32 found_upper,\n \t\t\t     u32 event, u32 port, u32 node,\n \t\t\t     u32 scope, int must);\n-int tipc_topsrv_start(struct net *net);\n-void tipc_topsrv_stop(struct net *net);\n+\n+int __net_init tipc_topsrv_init_net(struct net *net);\n+void __net_exit tipc_topsrv_exit_net(struct net *net);\n \n void tipc_sub_put(struct tipc_subscription *subscription);\n void tipc_sub_get(struct tipc_subscription *subscription);\ndiff --git a/net/tipc/topsrv.c b/net/tipc/topsrv.c\nindex b45932d78004..f345662890a6 100644\n--- a/net/tipc/topsrv.c\n+++ b/net/tipc/topsrv.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/526f5b851a96566803ee4bee60d0a34df56c77f8"}
{"commit_hash": "41552199b5518fe26bee0829a28dd1880441b430", "short_hash": "41552199b551", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-09T23:22:47+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-20T10:56:43-04:00", "subject": "scsi: myrs: Fix uninitialized variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 77266186397c (\"scsi: myrs: Add Mylex RAID controller (SCSI interface)\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Hannes Reinecke <hare@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -818,7 +818,7 @@ static void myrs_log_event(struct myrs_hba *cs, struct myrs_event *ev)\n \tunsigned char ev_type, *ev_msg;\n \tstruct Scsi_Host *shost = cs->host;\n \tstruct scsi_device *sdev;\n-\tstruct scsi_sense_hdr sshdr;\n+\tstruct scsi_sense_hdr sshdr = {0};\n \tunsigned char sense_info[4];\n \tunsigned char cmd_specific[4];\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/41552199b5518fe26bee0829a28dd1880441b430"}
{"commit_hash": "326b18176353d26df54dbc8b4b75ed4332898f61", "short_hash": "326b18176353", "author_name": "Shunli Wang", "author_email": "shunli.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-20T16:24:20+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-20T15:21:09+01:00", "subject": "ASoC: Mediatek: MT8183: enable IIR filter", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Shunli Wang <shunli.wang@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in audio driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for specific audio hardware"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit through subsystem maintainer"}}, "score_justification": "Enables IIR filter feature for Mediatek MT8183 audio to remove DC offset", "code_snippet": "@@ -176,9 +176,6 @@ static int mtk_adda_ul_event(struct snd_soc_dapm_widget *w,\n \tcase SND_SOC_DAPM_POST_PMD:\n \t\t/* should delayed 1/fs(smallest is 8k) = 125us before afe off */\n \t\tusleep_range(125, 135);\n-\n-\t\t/* reset dmic */\n-\t\tafe_priv->mtkaif_dmic = 0;\n \t\tbreak;\n \tdefault:\n \t\tbreak;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/326b18176353d26df54dbc8b4b75ed4332898f61"}
{"commit_hash": "72187c626eeddbe9dd02bc7b8ea684a8f028c128", "short_hash": "72187c626eed", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-03-01T16:56:52+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-20T16:49:14+02:00", "subject": "ARM: versatile: fix a leaked reference by addingmissing of_node_put", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-versatile"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical ARM architecture code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting ARM Versatile platform users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with coccinelle detection details, basic review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (ZTE author, Linaro maintainer)"}}, "score_justification": "Device tree node reference leak fix detected by coccinelle in ARM Versatile platform code", "code_snippet": "@@ -312,12 +312,12 @@ static void __init versatile_dt_pci_init(void)\n \t\t * driver had it so we will keep it.\n \t\t */\n \t\twritel(1, versatile_sys_base + VERSATILE_SYS_PCICTL_OFFSET);\n-\t\treturn;\n+\t\tgoto out_put_node;\n \t}\n \n \tnewprop = kzalloc(sizeof(*newprop), GFP_KERNEL);\n \tif (!newprop)\n-\t\treturn;\n+\t\tgoto out_put_node;\n \n \tnewprop->name = kstrdup(\"status\", GFP_KERNEL);\n \tnewprop->value = kstrdup(\"disabled\", GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72187c626eeddbe9dd02bc7b8ea684a8f028c128"}
{"commit_hash": "9610450ea31eb061b9914de2bf6ced424956182d", "short_hash": "9610450ea31e", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-05T14:02:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-21T10:08:56+02:00", "subject": "usb: mtu3: fix up undefined reference to usb_debug_root", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Randy Dunlap <rdunlap@infradead.org> # build-tested (Infradead)"], "reported_by": ["Randy Dunlap <rdunlap@infradead.org> (Infradead)"]}, "score_total": 39, "score_technical": 8, "score_impact": 10, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB gadget driver"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 10, "details": "Build fix affecting niche driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Good report credit, tested by reporter"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "External report, maintainer applied"}}, "score_justification": "Build configuration fix for undefined reference in MediaTek USB driver with proper reporter credit", "code_snippet": "@@ -528,8 +528,7 @@ void ssusb_dr_debugfs_init(struct ssusb_mtk *ssusb)\n \n void ssusb_debugfs_create_root(struct ssusb_mtk *ssusb)\n {\n-\tssusb->dbgfs_root =\n-\t\tdebugfs_create_dir(dev_name(ssusb->dev), usb_debug_root);\n+\tssusb->dbgfs_root = debugfs_create_dir(dev_name(ssusb->dev), NULL);\n }\n \n void ssusb_debugfs_remove_root(struct ssusb_mtk *ssusb)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9610450ea31eb061b9914de2bf6ced424956182d"}
{"commit_hash": "719c7d563c17b150877cee03a4b812a424989dfa", "short_hash": "719c7d563c17", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-17T22:31:49+08:00", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-05-21T18:31:09+02:00", "subject": "ipvs: Fix use-after-free in ip_vs_in", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: efe41606184e (\"ipvs: convert to use pernet nf_hook api\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/netfilter/ipvs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Simon Horman <horms@verge.net.au> (Net)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julian Anastasov <ja@ssi.bg> (Ssi)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 51, "score_technical": 10, "score_impact": 20, "score_quality": 15, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Use-after-free race in IP virtual server affecting network users"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Excellent commit with detailed KASAN report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, netfilter.org maintainer, external bug report"}}, "score_justification": "Use-after-free race in IPVS netfilter module during module unload, moved hook unregister to proper cleanup location", "code_snippet": "@@ -2312,7 +2312,6 @@ static void __net_exit __ip_vs_cleanup(struct net *net)\n {\n \tstruct netns_ipvs *ipvs = net_ipvs(net);\n \n-\tnf_unregister_net_hooks(net, ip_vs_ops, ARRAY_SIZE(ip_vs_ops));\n \tip_vs_service_net_cleanup(ipvs);\t/* ip_vs_flush() with locks */\n \tip_vs_conn_net_cleanup(ipvs);\n \tip_vs_app_net_cleanup(ipvs);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/719c7d563c17b150877cee03a4b812a424989dfa"}
{"commit_hash": "e355d3de196fe08e4de99bc0521c25a36c903b1b", "short_hash": "e355d3de196f", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T17:29:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-21T19:58:20+01:00", "subject": "ASoC: Mediatek: MT8183: fix compile error", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: 1628fc3f4771 (\"ASoC: Mediatek: MT8183: add memory interface data align\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in audio subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for MediaTek audio users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and Signed-off-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Mediatek author, kernel.org maintainer"}}, "score_justification": "Compile error regression fix adapting to API change in mtk_regmap_update_bits()", "code_snippet": "@@ -266,8 +266,7 @@ int mtk_afe_fe_prepare(struct snd_pcm_substream *substream,\n \t\t\t       1, hd_audio, memif->data->hd_shift);\n \n \tmtk_regmap_update_bits(afe->regmap, memif->data->hd_align_reg,\n-\t\t\t       memif->data->hd_align_mshift,\n-\t\t\t       hd_align ? memif->data->hd_align_mshift : 0);\n+\t\t\t       1, hd_align, memif->data->hd_align_mshift);\n \n \treturn 0;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e355d3de196fe08e4de99bc0521c25a36c903b1b"}
{"commit_hash": "383d30e72e682021fdaf0371ade1c58ad2c434a4", "short_hash": "383d30e72e68", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T17:29:38+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-21T19:58:27+01:00", "subject": "ASoC: Mediatek: MT8183: fix compile error", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: cf61f5b01531 (\"ASoC: Mediatek: MT8183: set data align\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 9, "hunks": 18, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change with 18 similar edits in driver code"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for audio driver with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "Build regression fix for Mediatek audio driver changing wrong mask constants", "code_snippet": "@@ -439,7 +439,7 @@ static const struct mtk_base_memif_data memif_data[MT8183_MEMIF_NUM] = {\n \t\t.hd_reg = AFE_MEMIF_HD_MODE,\n \t\t.hd_align_reg = AFE_MEMIF_HDALIGN,\n \t\t.hd_shift = DL1_HD_SFT,\n-\t\t.hd_align_mshift = DL1_HD_ALIGN_MASK_SFT,\n+\t\t.hd_align_mshift = DL1_HD_ALIGN_SFT,\n \t\t.agent_disable_reg = -1,\n \t\t.agent_disable_shift = -1,\n \t\t.msb_reg = -1,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/383d30e72e682021fdaf0371ade1c58ad2c434a4"}
{"commit_hash": "3c89c70634bb0b6f48512de873e7a45c7e1fbaa5", "short_hash": "3c89c70634bb", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-04-15T14:24:02+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-05-23T09:24:46+02:00", "subject": "pinctrl: rockchip: fix leaked of_node references", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Single line fix in pinctrl driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting Rockchip users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with coccinelle report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with ZTE author, Linaro maintainer"}}, "score_justification": "Missing of_node_put after of_parse_phandle in Rockchip pinctrl driver", "code_snippet": "@@ -3212,6 +3212,7 @@ static int rockchip_get_bank_data(struct rockchip_pin_bank *bank,\n \t\t\t\t\t\t    base,\n \t\t\t\t\t\t    &rockchip_regmap_config);\n \t\t}\n+\t\tof_node_put(node);\n \t}\n \n \tbank->irq = irq_of_parse_and_map(bank->of_node, 0);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3c89c70634bb0b6f48512de873e7a45c7e1fbaa5"}
{"commit_hash": "f49308878d7202e07d8761238e01bd0e5fce2750", "short_hash": "f49308878d72", "author_name": "Jungo Lin", "author_email": "jungo.lin@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-02T21:44:27-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-23T13:33:50-04:00", "subject": "media: media_device_enum_links32: clean a reserved field", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-COMPAT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Jungo Lin <jungo.lin@mediatek.com> (MediaTek)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in media subsystem compatibility layer"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "32-bit compatibility fix for media device users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with v4l2-compliance context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, maintainer from different org"}}, "score_justification": "32-bit compat fix for missing reserved field memset in media_device_enum_links32", "code_snippet": "@@ -502,6 +502,7 @@ static long media_device_enum_links32(struct media_device *mdev,\n {\n \tstruct media_links_enum links;\n \tcompat_uptr_t pads_ptr, links_ptr;\n+\tint ret;\n \n \tmemset(&links, 0, sizeof(links));\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f49308878d7202e07d8761238e01bd0e5fce2750"}
{"commit_hash": "efc77e8107c5c0b301686d52bd11e0ec2b10cb61", "short_hash": "efc77e8107c5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-12T17:05:40+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-05-23T14:01:07+08:00", "subject": "crypto: arm/sha512 - Make sha512_arm_final static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -37,7 +37,7 @@ int sha512_arm_update(struct shash_desc *desc, const u8 *data,\n \t\t(sha512_block_fn *)sha512_block_data_order);\n }\n \n-int sha512_arm_final(struct shash_desc *desc, u8 *out)\n+static int sha512_arm_final(struct shash_desc *desc, u8 *out)\n {\n \tsha512_base_do_finalize(desc,\n \t\t(sha512_block_fn *)sha512_block_data_order);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/efc77e8107c5c0b301686d52bd11e0ec2b10cb61"}
{"commit_hash": "5463eb5c2f758069d1db21ed2cf23339431c9481", "short_hash": "5463eb5c2f75", "author_name": "Jiaxin Yu", "author_email": "jiaxin.yu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-22T22:52:04+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-23T14:34:29+01:00", "subject": "ASoC: Mediatek: MT8183: enable dev runtime suspend and resume", "primary_category": "FEAT-POWER", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Jiaxin Yu <jiaxin.yu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in audio subsystem (1 file, 4 hunks, -4 +1 lines)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Power management feature for MediaTek audio, affects specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation of why regcache sync needed, author+committer SOB only"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, kernel.org maintainer (Mark Brown) committed"}}, "score_justification": "Enables runtime PM for MediaTek MT8183 audio driver to allow proper power management during system suspend/resume cycles", "code_snippet": "@@ -1142,8 +1142,6 @@ static int mt8183_afe_pcm_dev_probe(struct platform_device *pdev)\n \tregcache_cache_only(afe->regmap, true);\n \tregcache_mark_dirty(afe->regmap);\n \n-\tpm_runtime_get_sync(&pdev->dev);\n-\n \t/* init memif */\n \tafe->memif_size = MT8183_MEMIF_NUM;\n \tafe->memif = devm_kcalloc(dev, afe->memif_size, sizeof(*afe->memif),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5463eb5c2f758069d1db21ed2cf23339431c9481"}
{"commit_hash": "2380a792dec059338c8d989e64c5d933c553949c", "short_hash": "2380a792dec0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-13T21:55:59+08:00", "committer_name": "Eduardo Valentin", "committer_email": "edubezval@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-23T21:52:47-07:00", "subject": "thermal: tegra: Make tegra210_tsensor_thermtrips static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "thermal", "subsystems_touched": ["drivers/thermal/tegra"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Eduardo Valentin <edubezval@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single file, 2 hunks, 1 line change in thermal driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear warning fix with Reported-by tag, proper subject line"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer committer, robot report"}}, "score_justification": "Sparse warning fix adding static keyword to array in Tegra thermal driver", "code_snippet": "@@ -208,7 +208,7 @@ static const struct tegra_soctherm_fuse tegra210_soctherm_fuse = {\n \t.fuse_spare_realignment = 0,\n };\n \n-struct tsensor_group_thermtrips tegra210_tsensor_thermtrips[] = {\n+static struct tsensor_group_thermtrips tegra210_tsensor_thermtrips[] = {\n \t{.id = TEGRA124_SOCTHERM_SENSOR_NUM},\n \t{.id = TEGRA124_SOCTHERM_SENSOR_NUM},\n \t{.id = TEGRA124_SOCTHERM_SENSOR_NUM},\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2380a792dec059338c8d989e64c5d933c553949c"}
{"commit_hash": "2c41cc0be07b5ee2f1167f41cd8a86fc5b53d82c", "short_hash": "2c41cc0be07b", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-06T03:05:15-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-24T09:03:06-04:00", "subject": "media: venus: firmware: fix leaked of_node references", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform/qcom/venus"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Stanimir Varbanov <stanimir.varbanov@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in media driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with tool report and ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org from ZTE to Linaro/Samsung"}}, "score_justification": "Resource leak fix for of_node references in Venus firmware driver", "code_snippet": "@@ -87,11 +87,11 @@ static int venus_load_fw(struct venus_core *core, const char *fwname,\n \n \tret = of_address_to_resource(node, 0, &r);\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_put_node;\n \n \tret = request_firmware(&mdt, fwname, dev);\n \tif (ret < 0)\n-\t\treturn ret;\n+\t\tgoto err_put_node;\n \n \tfw_size = qcom_mdt_get_size(mdt);\n \tif (fw_size < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2c41cc0be07b5ee2f1167f41cd8a86fc5b53d82c"}
{"commit_hash": "2cd0e54489e65b8e22124a8b053aff40815487f7", "short_hash": "2cd0e54489e6", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T22:37:24+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-05-24T10:04:27-05:00", "subject": "ipmi_ssif: fix unexpected driver unregister warning", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ipmi", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in peripheral driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix for warning during initialization failure"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good commit message with context and Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-company (Huawei/MVista) with maintainer sign-off"}}, "score_justification": "Driver init error path fix warning on unregister, cross-company review", "code_snippet": "@@ -2088,6 +2089,8 @@ static int init_ipmi_ssif(void)\n \t\trv = platform_driver_register(&ipmi_driver);\n \t\tif (rv)\n \t\t\tpr_err(\"Unable to register driver: %d\\n\", rv);\n+\t\telse\n+\t\t\tplatform_registered = true;\n \t}\n \n \tssif_i2c_driver.address_list = ssif_address_list();", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2cd0e54489e65b8e22124a8b053aff40815487f7"}
{"commit_hash": "818e9dfa2c145c7b0d241c5c419f4b897a1af564", "short_hash": "818e9dfa2c14", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-29T14:07:54Z", "committer_name": "Johannes Berg", "committer_email": "johannes.berg@intel.com", "committer_company": "Intel", "commit_date": "2019-05-24T11:26:44+02:00", "subject": "mac80211: remove set but not used variable 'old'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/", "subsystems_touched": ["net/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Johannes Berg <johannes.berg@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -268,11 +268,9 @@ int ieee80211_set_tx_key(struct ieee80211_key *key)\n {\n \tstruct sta_info *sta = key->sta;\n \tstruct ieee80211_local *local = key->local;\n-\tstruct ieee80211_key *old;\n \n \tassert_key_lock(local);\n \n-\told = key_mtx_dereference(local, sta->ptk[sta->ptk_idx]);\n \tsta->ptk_idx = key->conf.keyidx;\n \tieee80211_check_fast_xmit(sta);\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/818e9dfa2c145c7b0d241c5c419f4b897a1af564"}
{"commit_hash": "c5fb351470e81913163aa0e8692434ad09cb00a7", "short_hash": "c5fb351470e8", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-05-08T20:55:16+08:00", "committer_name": "Alex Deucher", "committer_email": "alexander.deucher@amd.com", "committer_company": "AMD", "commit_date": "2019-05-24T12:20:51-05:00", "subject": "drm/amd/display: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b8fdfcc6a92c (\"drm/amd/display: Add DCE12 core support\")", "cc_stable": false, "subsystem_prefix": "drm/amd", "subsystems_touched": ["drivers/gpu/drm/amd/display"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "Alex Deucher <alexander.deucher@amd.com> (AMD)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in GPU driver (4 hunks, 6 lines)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two company review, sparse warnings cited, Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, AMD maintainer, internal robot report"}}, "score_justification": "Sparse warning fix in AMD GPU driver with cross-org review", "code_snippet": "@@ -480,7 +480,7 @@ static const struct dc_debug_options debug_defaults = {\n \t\t.disable_clock_gate = true,\n };\n \n-struct clock_source *dce120_clock_source_create(\n+static struct clock_source *dce120_clock_source_create(\n \tstruct dc_context *ctx,\n \tstruct dc_bios *bios,\n \tenum clock_source_id id,", "flags": ["CROSS_ORG", "HAS_FIXES"], "link": "https://lore.kernel.org/linux-kernel/c5fb351470e81913163aa0e8692434ad09cb00a7"}
{"commit_hash": "9831ae33750db5341bcfcb3a54758e016dfc0c81", "short_hash": "9831ae33750d", "author_name": "Andrew Peng", "author_email": "pengms1@lenovo.com", "author_company": "Lenovo", "author_date": "2019-05-05T14:08:38+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-05-24T13:57:34+09:30", "subject": "ARM: dts: aspeed: Adding Lenovo Hr630 BMC", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm/dts", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 5, "files_changed": 2, "insertions": 567, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Andrew Peng <pengms1@lenovo.com> (Lenovo)", "Yonghui Liu <liuyh21@lenovo.com> (Lenovo)", "Lisa Liu <liuyj19@lenovo.com> (Lenovo)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)", "Patrick Venture <venture@google.com> (Google)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 8, "details": "New DTS file with 567 lines added for specific board"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for Lenovo server BMC platform"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Lenovo author, different maintainer committer"}}, "score_justification": "New device tree file adding support for Lenovo Hr630 BMC platform with Aspeed AST2500 SoC", "code_snippet": "@@ -1270,6 +1270,7 @@ dtb-$(CONFIG_ARCH_ASPEED) += \\\n \taspeed-bmc-facebook-tiogapass.dtb \\\n \taspeed-bmc-facebook-yamp.dtb \\\n \taspeed-bmc-intel-s2600wf.dtb \\\n+\taspeed-bmc-lenovo-hr630.dtb \\\n \taspeed-bmc-opp-lanyang.dtb \\\n \taspeed-bmc-opp-palmetto.dtb \\\n \taspeed-bmc-opp-romulus.dtb \\\ndiff --git a/arch/arm/boot/dts/aspeed-bmc-lenovo-hr630.dts b/arch/arm/boot/dts/aspeed-bmc-lenovo-hr630.dts\nnew file mode 100644\nindex 000000000000..d3695a32e8e0\n--- /dev/null\n+++ b/arch/arm/boot/dts/aspeed-bmc-lenovo-hr630.dts", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9831ae33750db5341bcfcb3a54758e016dfc0c81"}
{"commit_hash": "f5dd87326fefe42a4b1a4b1a1a695060c33a88d6", "short_hash": "f5dd87326fef", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-09T16:08:26-05:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-24T20:32:12+02:00", "subject": "fpga: stratix10-soc: fix use-after-free on s10_init()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: e7eef1d7633a (\"fpga: add intel stratix10 soc fpga manager driver\")", "cc_stable": false, "subsystem_prefix": "fpga", "subsystems_touched": ["drivers/fpga"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Moritz Fischer <mdf@kernel.org> (Kernel)", "Nicolas Saenz Julienne <nsaenzjulienne@suse.de> (Suse)"], "tested_by": [], "acked_by": ["Alan Tull <atull@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 17, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in FPGA driver"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Use-after-free fix for specific driver"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "2 reviewers, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org maintainer"}}, "score_justification": "Use-after-free fix in FPGA driver with proper refcounting", "code_snippet": "@@ -507,12 +507,16 @@ static int __init s10_init(void)\n \tif (!fw_np)\n \t\treturn -ENODEV;\n \n+\tof_node_get(fw_np);\n \tnp = of_find_matching_node(fw_np, s10_of_match);\n-\tif (!np)\n+\tif (!np) {\n+\t\tof_node_put(fw_np);\n \t\treturn -ENODEV;\n+\t}\n \n \tof_node_put(np);\n \tret = of_platform_populate(fw_np, s10_of_match, NULL, NULL);\n+\tof_node_put(fw_np);\n \tif (ret)\n \t\treturn ret;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f5dd87326fefe42a4b1a4b1a1a695060c33a88d6"}
{"commit_hash": "1c7ebeabc9e5ee12e42075a597de40fdb9059530", "short_hash": "1c7ebeabc9e5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T23:24:37+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-24T20:39:23+02:00", "subject": "parport: Fix mem leak in parport_register_dev_model", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 4e5a74f1db8d (\"parport: Revert \\\"parport: fix memory leak\\\"\")", "cc_stable": false, "subsystem_prefix": "drivers/parport", "subsystems_touched": ["drivers/parport"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line fix in parport driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with regression tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good message with kasan report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Greg K-H maintainer, Hulk Robot report"}}, "score_justification": "Memory leak regression fix in parport driver with kasan report", "code_snippet": "@@ -895,6 +895,7 @@ parport_register_dev_model(struct parport *port, const char *name,\n \tpar_dev->devmodel = true;\n \tret = device_register(&par_dev->dev);\n \tif (ret) {\n+\t\tkfree(par_dev->state);\n \t\tput_device(&par_dev->dev);\n \t\tgoto err_put_port;\n \t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c7ebeabc9e5ee12e42075a597de40fdb9059530"}
{"commit_hash": "17aa207e6e08b0bcf92cf7b473fae9a70e325dbe", "short_hash": "17aa207e6e08", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-27T00:48:16+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-24T20:45:41+02:00", "subject": "counter: 104-quad-8: Make quad8_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/counter", "subsystems_touched": ["drivers/counter"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["William Breathitt Gray <vilhelm.gray@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in peripheral driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain with proper message format"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei to Linux Foundation) with ack"}}, "score_justification": "Sparse warning fix adding static to driver struct", "code_snippet": "@@ -833,7 +833,7 @@ static int quad8_action_get(struct counter_device *counter,\n \treturn 0;\n }\n \n-const struct counter_ops quad8_ops = {\n+static const struct counter_ops quad8_ops = {\n \t.signal_read = quad8_signal_read,\n \t.count_read = quad8_count_read,\n \t.count_write = quad8_count_write,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/17aa207e6e08b0bcf92cf7b473fae9a70e325dbe"}
{"commit_hash": "2eb06c306a579853346d22eda73332ed4f3e81e3", "short_hash": "2eb06c306a57", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-17T16:49:49+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-24T21:27:03+02:00", "subject": "KVM: Fix spinlock taken warning during host resume", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6706dae9 (\"virt/kvm: Replace spin_is_locked() with lockdep\")", "cc_stable": false, "subsystem_prefix": "virt/kvm", "subsystems_touched": ["virt/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical KVM virtualization subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for host resume warning affecting KVM users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Good commit message with stack trace and Fixes tag, maintainer edits"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from Tencent to Red Hat maintainer"}}, "score_justification": "Regression fix for lockdep assertion causing false warning during host resume in KVM", "code_snippet": "@@ -52,6 +52,7 @@\n #include <linux/sort.h>\n #include <linux/bsearch.h>\n #include <linux/io.h>\n+#include <linux/lockdep.h>\n \n #include <asm/processor.h>\n #include <asm/ioctl.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2eb06c306a579853346d22eda73332ed4f3e81e3"}
{"commit_hash": "4d259965655c92053f3255aca14d81aab1e21219", "short_hash": "4d259965655c", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-20T12:27:47+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-24T21:27:08+02:00", "subject": "kvm: vmx: Fix -Wmissing-prototypes warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line addition to header file in KVM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company submission from ZTE to Red Hat maintainer"}}, "score_justification": "Compiler warning fix adding function prototype in KVM header", "code_snippet": "@@ -319,6 +319,7 @@ void vmx_set_nmi_mask(struct kvm_vcpu *vcpu, bool masked);\n void vmx_set_virtual_apic_mode(struct kvm_vcpu *vcpu);\n struct shared_msr_entry *find_msr_entry(struct vcpu_vmx *vmx, u32 msr);\n void pt_update_intercept_for_msr(struct vcpu_vmx *vmx);\n+void vmx_update_host_rsp(struct vcpu_vmx *vmx, unsigned long host_rsp);\n \n #define POSTED_INTR_ON  0\n #define POSTED_INTR_SN  1\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d259965655c92053f3255aca14d81aab1e21219"}
{"commit_hash": "541e886f7972cc647804dbb4909189e67987a945", "short_hash": "541e886f7972", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-17T16:49:50+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-24T21:27:08+02:00", "subject": "KVM: nVMX: Fix using __this_cpu_read() in preemptible context", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 52017608da33 (\"KVM: nVMX: add option to perform early consistency checks via H/W\")", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Sean Christopherson <sean.j.christopherson@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 10, "score_impact": 24, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical KVM subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Crash fix with stable backport, affects VM users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent commit message with stack trace and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Tencent author, RedHat maintainer"}}, "score_justification": "Preemption bug causing kernel BUG crash in nested VMX, fixed by extending preempt_disable region", "code_snippet": "@@ -2784,14 +2784,13 @@ static int nested_vmx_check_vmentry_hw(struct kvm_vcpu *vcpu)\n \t      : \"cc\", \"memory\"\n \t);\n \n-\tpreempt_enable();\n-\n \tif (vmx->msr_autoload.host.nr)\n \t\tvmcs_write32(VM_EXIT_MSR_LOAD_COUNT, vmx->msr_autoload.host.nr);\n \tif (vmx->msr_autoload.guest.nr)\n \t\tvmcs_write32(VM_ENTRY_MSR_LOAD_COUNT, vmx->msr_autoload.guest.nr);\n \n \tif (vm_fail) {\n+\t\tpreempt_enable();\n \t\tWARN_ON_ONCE(vmcs_read32(VM_INSTRUCTION_ERROR) !=\n \t\t\t     VMXERR_ENTRY_INVALID_CONTROL_FIELD);\n \t\treturn 1;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/541e886f7972cc647804dbb4909189e67987a945"}
{"commit_hash": "16ba3ab4e15ca031270deb3cbfd38416c719e291", "short_hash": "16ba3ab4e15c", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-20T16:18:07+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-24T21:27:09+02:00", "subject": "KVM: LAPIC: Expose per-vCPU timer_advance_ns to userspace", "primary_category": "FEAT-API", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 18, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 15, "details": "New debugfs API for timer visibility"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, decent message, no test"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit, maintainer signed-off"}}, "score_justification": "New debugfs API exposing per-vCPU timer advance values in KVM", "code_snippet": "@@ -9,12 +9,22 @@\n  */\n #include <linux/kvm_host.h>\n #include <linux/debugfs.h>\n+#include \"lapic.h\"\n \n bool kvm_arch_has_vcpu_debugfs(void)\n {\n \treturn true;\n }\n \n+static int vcpu_get_timer_advance_ns(void *data, u64 *val)\n+{\n+\tstruct kvm_vcpu *vcpu = (struct kvm_vcpu *) data;\n+\t*val = vcpu->arch.apic->lapic_timer.timer_advance_ns;\n+\treturn 0;\n+}\n+\n+DEFINE_SIMPLE_ATTRIBUTE(vcpu_timer_advance_ns_fops, vcpu_get_timer_advance_ns, NULL, \"%llu\\n\");\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/16ba3ab4e15ca031270deb3cbfd38416c719e291"}
{"commit_hash": "0e6edceb8f18a4e31526d83e6099fef1f29c3af5", "short_hash": "0e6edceb8f18", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-20T16:18:06+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-05-24T21:27:09+02:00", "subject": "KVM: LAPIC: Fix lapic_timer_advance_ns parameter overflow", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c3941d9e0 (\"KVM: lapic: Allow user to disable adaptive tuning of timer advancement\")", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Sean Christopherson <sean.j.christopherson@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting KVM users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with clear explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org: Tencent author, Red Hat maintainer and reviewer"}}, "score_justification": "Module parameter type overflow fix in KVM timer handling", "code_snippet": "@@ -143,7 +143,7 @@ module_param(tsc_tolerance_ppm, uint, S_IRUGO | S_IWUSR);\n  * tuning, i.e. allows priveleged userspace to set an exact advancement time.\n  */\n static int __read_mostly lapic_timer_advance_ns = -1;\n-module_param(lapic_timer_advance_ns, uint, S_IRUGO | S_IWUSR);\n+module_param(lapic_timer_advance_ns, int, S_IRUGO | S_IWUSR);\n \n static bool __read_mostly vector_hashing = true;\n module_param(vector_hashing, bool, S_IRUGO);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0e6edceb8f18a4e31526d83e6099fef1f29c3af5"}
{"commit_hash": "f4ca7a9260dfe700f2a16f0881825de625067515", "short_hash": "f4ca7a9260df", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-24T14:26:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-25T11:02:31-07:00", "subject": "net: stmmac: dwmac-mediatek: modify csr_clk value to fix mdio read/write fail", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9992f37e346b (\"stmmac: dwmac-mediatek: add support for mt2712\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change removing incorrect clock initialization in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting MDIO read/write for specific NIC users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag with good context, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, maintainer davem applied"}}, "score_justification": "Fixes MDIO read/write failure in MediaTek NIC driver by removing incorrect csr_clk initialization", "code_snippet": "@@ -346,8 +346,6 @@ static int mediatek_dwmac_probe(struct platform_device *pdev)\n \t\treturn PTR_ERR(plat_dat);\n \n \tplat_dat->interface = priv_plat->phy_mode;\n-\t/* clk_csr_i = 250-300MHz & MDC = clk_csr_i/124 */\n-\tplat_dat->clk_csr = 5;\n \tplat_dat->has_gmac4 = 1;\n \tplat_dat->has_gmac = 0;\n \tplat_dat->pmt = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4ca7a9260dfe700f2a16f0881825de625067515"}
{"commit_hash": "5e7f7fc538d894b2d9aa41876b8dcf35f5fe11e6", "short_hash": "5e7f7fc538d8", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-24T14:26:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-25T11:02:31-07:00", "subject": "net: stmmac: fix csr_clk can't be zero issue", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cd7201f477b9 (\"stmmac: MDC clock dynamically based on the csr clock input\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 2, "insertions": 7, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Alexandre TORGUE <alexandre.torgue@st.com> (STMicroelectronics)"], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small targeted fix in network driver (11 lines, 4 hunks)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for MDC clock configuration affecting stmmac users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good Fixes tag, clear explanation, cross-company review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, net maintainer David Miller committed"}}, "score_justification": "Fixes clk_csr=0 handling bug in stmmac driver; changed condition from !clk_csr to >=0", "code_snippet": "@@ -4380,10 +4380,10 @@ int stmmac_dvr_probe(struct device *device,\n \t * set the MDC clock dynamically according to the csr actual\n \t * clock input.\n \t */\n-\tif (!priv->plat->clk_csr)\n-\t\tstmmac_clk_csr_set(priv);\n-\telse\n+\tif (priv->plat->clk_csr >= 0)\n \t\tpriv->clk_csr = priv->plat->clk_csr;\n+\telse\n+\t\tstmmac_clk_csr_set(priv);\n \n \tstmmac_check_pcs_mode(priv);\n \ndiff --git a/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c b/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c\nindex 3031f2bf15d6..f45bfbef97d0 100644\n--- a/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c\n+++ b/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5e7f7fc538d894b2d9aa41876b8dcf35f5fe11e6"}
{"commit_hash": "4523a5611526709ec9b4e2574f1bb7818212651e", "short_hash": "4523a5611526", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-24T14:26:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-25T11:02:31-07:00", "subject": "net: stmmac: update rx tail pointer register to fix rx dma hang issue.", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 54139cf3bb33 (\"net: stmmac: adding multiple buffers for rx\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single-line fix in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting stmmac users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit from Mediatek"}}, "score_justification": "Single-line fix for RX DMA hang regression in stmmac driver", "code_snippet": "@@ -3338,6 +3338,7 @@ static inline void stmmac_rx_refill(struct stmmac_priv *priv, u32 queue)\n \t\tentry = STMMAC_GET_ENTRY(entry, DMA_RX_SIZE);\n \t}\n \trx_q->dirty_rx = entry;\n+\tstmmac_set_rx_tail_ptr(priv, priv->ioaddr, rx_q->rx_tail_addr, queue);\n }\n \n /**\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4523a5611526709ec9b4e2574f1bb7818212651e"}
{"commit_hash": "a124692b698b00026a58d89831ceda2331b2e1d0", "short_hash": "a124692b698b", "author_name": "Cheng Jian", "author_email": "cj.chengjian@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T19:39:39+08:00", "committer_name": "Steven Rostedt (VMware)", "committer_email": "rostedt@goodmis.org", "committer_company": "Goodmis", "commit_date": "2019-05-25T23:04:43-04:00", "subject": "ftrace: Enable trampoline when rec count returns back to one", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/trace", "subsystems_touched": ["kernel/trace"], "subsystem_tier": 2, "files_changed": 1, "insertions": 15, "deletions": 13, "hunks": 6, "review_chain": {"signed_off_by": ["Cheng Jian <cj.chengjian@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 12, "score_impact": 14, "score_quality": 17, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical tracing subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for ftrace/livepatch performance"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 6, "atomicity": 2, "subtotal": 17, "details": "Well-documented with test case included"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer"}}, "score_justification": "Fixes trampoline restoration for ftrace performance, improves livepatch", "code_snippet": "@@ -1622,6 +1622,11 @@ static bool test_rec_ops_needs_regs(struct dyn_ftrace *rec)\n \treturn  keep_regs;\n }\n \n+static struct ftrace_ops *\n+ftrace_find_tramp_ops_any(struct dyn_ftrace *rec);\n+static struct ftrace_ops *\n+ftrace_find_tramp_ops_next(struct dyn_ftrace *rec, struct ftrace_ops *ops);\n+\n static bool __ftrace_hash_rec_update(struct ftrace_ops *ops,\n \t\t\t\t     int filter_hash,\n \t\t\t\t     bool inc)", "flags": ["HAS_TEST_CASE"], "link": "https://lore.kernel.org/linux-kernel/a124692b698b00026a58d89831ceda2331b2e1d0"}
{"commit_hash": "f438bfe9d4fe2e491505abfbf04d7c506e00d146", "short_hash": "f438bfe9d4fe", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T19:19:48+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-26T13:24:56-07:00", "subject": "net: hns3: fix for FEC configuration", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 7e6ec9148a1d (\"net: hns3: add support for FEC encoding control\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in network driver with 4 hunks"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with FEC config affecting network users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple sign-offs, clear Fixes tag, good context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Fix for FEC configuration not updating on speed changes in hisilicon driver", "code_snippet": "@@ -2512,6 +2512,9 @@ static void hclge_update_link_status(struct hclge_dev *hdev)\n \n static void hclge_update_port_capability(struct hclge_mac *mac)\n {\n+\t/* update fec ability by speed */\n+\thclge_convert_setting_fec(mac);\n+\n \t/* firmware can not identify back plane type, the media type\n \t * read from configuration can help deal it\n \t */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f438bfe9d4fe2e491505abfbf04d7c506e00d146"}
{"commit_hash": "d93ed94fbeaf3bf5ed16b57574dbb48ab7f7e41a", "short_hash": "d93ed94fbeaf", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T19:19:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-26T13:24:56-07:00", "subject": "net: hns3: add aRFS support for PF", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 238, "deletions": 0, "hunks": 30, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 12, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance feature for specific NIC users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with multiple sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "aRFS feature addition for hns3 NIC driver, 238 lines across 4 files with proper implementation", "code_snippet": "@@ -492,6 +494,8 @@ struct hnae3_ae_ops {\n \t\t\t\tstruct ethtool_rxnfc *cmd, u32 *rule_locs);\n \tint (*restore_fd_rules)(struct hnae3_handle *handle);\n \tvoid (*enable_fd)(struct hnae3_handle *handle, bool enable);\n+\tint (*add_arfs_entry)(struct hnae3_handle *handle, u16 queue_id,\n+\t\t\t      u16 flow_id, struct flow_keys *fkeys);\n \tint (*dbg_run_cmd)(struct hnae3_handle *handle, char *cmd_buf);\n \tpci_ers_result_t (*handle_hw_ras_error)(struct hnae3_ae_dev *ae_dev);\n \tbool (*get_hw_reset_stat)(struct hnae3_handle *handle);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex b2be42410a2b..5e12705bae34 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d93ed94fbeaf3bf5ed16b57574dbb48ab7f7e41a"}
{"commit_hash": "4412288757064b664499af9becd028c949cd53e3", "short_hash": "441228875706", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T19:19:46+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-26T13:24:56-07:00", "subject": "net: hns3: refine the flow director handle", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 2, "insertions": 112, "deletions": 32, "hunks": 40, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -4906,14 +4908,18 @@ static bool hclge_fd_rule_exist(struct hclge_dev *hdev, u16 location)\n \tstruct hclge_fd_rule *rule = NULL;\n \tstruct hlist_node *node2;\n \n+\tspin_lock_bh(&hdev->fd_rule_lock);\n \thlist_for_each_entry_safe(rule, node2, &hdev->fd_rule_list, rule_node) {\n \t\tif (rule->location >= location)\n \t\t\tbreak;\n \t}\n \n+\tspin_unlock_bh(&hdev->fd_rule_lock);\n+\n \treturn  rule && rule->location == location;\n }\n \n+/* make sure being called after lock up with fd_rule_lock */\n static int hclge_fd_update_rule_list(struct hclge_dev *hdev,\n \t\t\t\t     struct hclge_fd_rule *new_rule,\n \t\t\t\t     u16 location,", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/4412288757064b664499af9becd028c949cd53e3"}
{"commit_hash": "ffab9691bcb2fe2594f4c38bfceb4d9685b93b87", "short_hash": "ffab9691bcb2", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T19:19:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-26T13:24:56-07:00", "subject": "net: hns3: initialize CPU reverse mapping", "primary_category": "BUG-RACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 48, "deletions": 29, "hunks": 18, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 12, "score_impact": 17, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver with 18 hunks"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 17, "details": "Race condition fix for specific NIC users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with clear use-after-free context"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, maintainer David S. Miller merged"}}, "score_justification": "Fixes use-after-free in hns3 driver by removing irq_set_affinity_notifier() and adding CPU rmap for aRFS", "code_snippet": "@@ -4,6 +4,9 @@\n #include <linux/dma-mapping.h>\n #include <linux/etherdevice.h>\n #include <linux/interrupt.h>\n+#ifdef CONFIG_RFS_ACCEL\n+#include <linux/cpu_rmap.h>\n+#endif\n #include <linux/if_vlan.h>\n #include <linux/ip.h>\n #include <linux/ipv6.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ffab9691bcb2fe2594f4c38bfceb4d9685b93b87"}
{"commit_hash": "1916ebfdfbacd3fa9a6fce72032cf612375c1183", "short_hash": "1916ebfdfbac", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:19:41+08:00", "committer_name": "Jacek Anaszewski", "committer_email": "jacek.anaszewski@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-26T19:00:14+02:00", "subject": "leds: max77650: Remove set but not used variable 'parent'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "leds", "subsystems_touched": ["drivers/leds"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jacek Anaszewski <jacek.anaszewski@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single variable removal in LED driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer"}}, "score_justification": "GCC unused variable warning fix in LED driver", "code_snippet": "@@ -64,7 +64,6 @@ static int max77650_led_probe(struct platform_device *pdev)\n {\n \tstruct device_node *of_node, *child;\n \tstruct max77650_led *leds, *led;\n-\tstruct device *parent;\n \tstruct device *dev;\n \tstruct regmap *map;\n \tconst char *label;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1916ebfdfbacd3fa9a6fce72032cf612375c1183"}
{"commit_hash": "f4aa80129ff71909380ee0bde8be36c5cc031d4c", "short_hash": "f4aa80129ff7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:45:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-26T22:16:26-07:00", "subject": "cxgb4: Make t4_get_tp_e2c_map static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/chelsio/cxgb4"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in network driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Proper warning fix format with maintainer sign-off"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei.com, committer @davemloft.net (different orgs)"}}, "score_justification": "Sparse warning fix in network driver, adding static to function", "code_snippet": "@@ -6213,7 +6213,7 @@ unsigned int t4_get_mps_bg_map(struct adapter *adapter, int pidx)\n  *      @adapter: the adapter\n  *      @pidx: the port index\n  */\n-unsigned int t4_get_tp_e2c_map(struct adapter *adapter, int pidx)\n+static unsigned int t4_get_tp_e2c_map(struct adapter *adapter, int pidx)\n {\n \tunsigned int nports;\n \tu32 param, val = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4aa80129ff71909380ee0bde8be36c5cc031d4c"}
{"commit_hash": "0502849d0bb133b492eed24fd270441e652c84cc", "short_hash": "0502849d0bb1", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T15:31:21+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T17:27:59-03:00", "subject": "RDMA/hns: Update CQE specifications", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 13, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Single-line change in driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware spec update enabling more CQEs"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit message, maintainer signoff"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Cross-org: Huawei author, Mellanox committer"}}, "score_justification": "Updating CQE limit per hardware UM to support 4M entries", "code_snippet": "@@ -54,7 +54,7 @@\n #define HNS_ROCE_V2_MAX_CQ_NUM\t\t\t0x100000\n #define HNS_ROCE_V2_MAX_CQC_TIMER_NUM\t\t0x100\n #define HNS_ROCE_V2_MAX_SRQ_NUM\t\t\t0x100000\n-#define HNS_ROCE_V2_MAX_CQE_NUM\t\t\t0x10000\n+#define HNS_ROCE_V2_MAX_CQE_NUM\t\t\t0x400000\n #define HNS_ROCE_V2_MAX_SRQWQE_NUM\t\t0x8000\n #define HNS_ROCE_V2_MAX_RQ_SGE_NUM\t\t0x100\n #define HNS_ROCE_V2_MAX_SQ_SGE_NUM\t\t0xff\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0502849d0bb133b492eed24fd270441e652c84cc"}
{"commit_hash": "780f33962ef27d7f27c6b47a55593c6ffd357922", "short_hash": "780f33962ef2", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T15:31:22+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T17:27:59-03:00", "subject": "RDMA/hns: Move spin_lock_irqsave to the correct place", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 2, "insertions": 5, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 13, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in driver-specific code across 2 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Fixes lock correctness issue affecting Hisilicon RDMA users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation but no testing evidence or external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer committed it"}}, "score_justification": "Lock placement fix for Hisilicon RDMA driver preventing WARN_ON in specific kernel versions", "code_snippet": "@@ -78,18 +78,13 @@ static int hns_roce_add_gid(const struct ib_gid_attr *attr, void **context)\n {\n \tstruct hns_roce_dev *hr_dev = to_hr_dev(attr->device);\n \tu8 port = attr->port_num - 1;\n-\tunsigned long flags;\n \tint ret;\n \n \tif (port >= hr_dev->caps.num_ports)\n \t\treturn -EINVAL;\n \n-\tspin_lock_irqsave(&hr_dev->iboe.lock, flags);\n-\n \tret = hr_dev->hw->set_gid(hr_dev, port, attr->index, &attr->gid, attr);\n \n-\tspin_unlock_irqrestore(&hr_dev->iboe.lock, flags);\n-\n \treturn ret;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/780f33962ef27d7f27c6b47a55593c6ffd357922"}
{"commit_hash": "8ffb813255c422f4d05be227ab4443cb6054a078", "short_hash": "8ffb813255c4", "author_name": "Yixian Liu", "author_email": "liuyixian@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T15:31:20+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T17:27:59-03:00", "subject": "RDMA/hns: Remove unnecessary print message in aeq", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yixian Liu <liuyixian@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 7, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Single line deletion in RDMA driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Minor cleanup removing verbose logging"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Removes unnecessary dev_info log message in async event handler", "code_snippet": "@@ -4682,7 +4682,6 @@ static void hns_roce_irq_work_handle(struct work_struct *work)\n \t\tdev_warn(dev, \"Path migration failed.\\n\");\n \t\tbreak;\n \tcase HNS_ROCE_EVENT_TYPE_COMM_EST:\n-\t\tdev_info(dev, \"Communication established.\\n\");\n \t\tbreak;\n \tcase HNS_ROCE_EVENT_TYPE_SQ_DRAINED:\n \t\tdev_warn(dev, \"Send queue drained.\\n\");\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ffb813255c422f4d05be227ab4443cb6054a078"}
{"commit_hash": "669cefb654cb69b280e31380f5fc7e3b5755b0cd", "short_hash": "669cefb654cb", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T15:31:23+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T17:28:39-03:00", "subject": "RDMA/hns: Remove jiffies operation in disable interrupt context", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 2, "insertions": 21, "deletions": 19, "hunks": 14, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in infiniband driver with 14 hunks across 2 files"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Deadlock fix in RDMA driver affecting Hisilicon hardware users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation of spin_lock_irqsave context issue, proper subsystem prefix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox committer, cross-company contribution"}}, "score_justification": "Fixes potential deadlock in interrupt context by replacing jiffies/msleep with mdelay/udelay", "code_snippet": "@@ -376,18 +376,19 @@ static int hns_roce_set_hem(struct hns_roce_dev *hr_dev,\n \n \t\tbt_cmd = hr_dev->reg_base + ROCEE_BT_CMD_H_REG;\n \n-\t\tend = msecs_to_jiffies(HW_SYNC_TIMEOUT_MSECS) + jiffies;\n-\t\twhile (1) {\n-\t\t\tif (readl(bt_cmd) >> BT_CMD_SYNC_SHIFT) {\n-\t\t\t\tif (!(time_before(jiffies, end))) {\n-\t\t\t\t\tdev_err(dev, \"Write bt_cmd err,hw_sync is not zero.\\n\");\n-\t\t\t\t\tspin_unlock_irqrestore(lock, flags);\n-\t\t\t\t\treturn -EBUSY;\n-\t\t\t\t}\n-\t\t\t} else {\n+\t\tend = HW_SYNC_TIMEOUT_MSECS;\n+\t\twhile (end) {\n+\t\t\tif (!readl(bt_cmd) >> BT_CMD_SYNC_SHIFT)\n \t\t\t\tbreak;\n-\t\t\t}\n+\n \t\t\tmdelay(HW_SYNC_SLEEP_TIME_INTERVAL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/669cefb654cb69b280e31380f5fc7e3b5755b0cd"}
{"commit_hash": "2a3d923f87303b2d49c6cfb7bf6a25144a1ce265", "short_hash": "2a3d923f8730", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-05-24T23:29:36+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T17:31:00-03:00", "subject": "RDMA/hns: Replace magic numbers with #defines", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 8, "insertions": 115, "deletions": 69, "hunks": 106, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 10, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in driver subsystem with 8 files and 106 hunks"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup affecting specific driver users only"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple cleanup, minimal review evidence provided"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Mellanox applied it"}}, "score_justification": "Code readability improvement replacing magic numbers with defines across hns driver files", "code_snippet": "@@ -940,6 +957,16 @@ struct hns_roce_hw {\n \tconst struct ib_device_ops *hns_roce_dev_srq_ops;\n };\n \n+enum hns_phy_state {\n+\tHNS_ROCE_PHY_SLEEP\t\t= 1,\n+\tHNS_ROCE_PHY_POLLING\t\t= 2,\n+\tHNS_ROCE_PHY_DISABLED\t\t= 3,\n+\tHNS_ROCE_PHY_TRAINING\t\t= 4,\n+\tHNS_ROCE_PHY_LINKUP\t\t= 5,\n+\tHNS_ROCE_PHY_LINKERR\t\t= 6,\n+\tHNS_ROCE_PHY_TEST\t\t= 7\n+};\n+\n struct hns_roce_dev {\n \tstruct ib_device\tib_dev;\n \tstruct platform_device  *pdev;", "flags": ["CLEANUP_MAGIC_NUMBERS"], "link": "https://lore.kernel.org/linux-kernel/2a3d923f87303b2d49c6cfb7bf6a25144a1ce265"}
{"commit_hash": "b89a9f2f709a6ebeafb31069d87a1248022fc396", "short_hash": "b89a9f2f709a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-26T09:17:45-07:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-27T19:01:40-07:00", "subject": "Input: synaptics-rmi4 - remove set but not used variable 'sensor_flags'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b43d2c1e9353 (\"Input: synaptics-rmi4 - add support for F12\")", "cc_stable": false, "subsystem_prefix": "input", "subsystems_touched": ["drivers/input/rmi4"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in input driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different) cross-org"}}, "score_justification": "Removes unused variable to fix compiler warning in input driver", "code_snippet": "@@ -73,7 +73,6 @@ static int rmi_f12_read_sensor_tuning(struct f12_data *f12)\n \tint pitch_y = 0;\n \tint rx_receivers = 0;\n \tint tx_receivers = 0;\n-\tint sensor_flags = 0;\n \n \titem = rmi_get_register_desc_item(&f12->control_reg_desc, 8);\n \tif (!item) {", "flags": ["MAINT-WARN", "CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/b89a9f2f709a6ebeafb31069d87a1248022fc396"}
{"commit_hash": "b02f6b6b711b13f609e73ebb01b516cf080d9a0f", "short_hash": "b02f6b6b711b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-26T09:19:02-07:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-05-27T19:01:42-07:00", "subject": "Input: tca8418 - remove set but not used variable 'max_keys'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "input", "subsystems_touched": ["drivers/input/keyboard"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (3 lines) in input driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Proper Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to maintainer"}}, "score_justification": "GCC unused variable warning fix removing dead code from 2018 cleanup", "code_snippet": "@@ -266,7 +266,7 @@ static int tca8418_keypad_probe(struct i2c_client *client,\n \tstruct tca8418_keypad *keypad_data;\n \tstruct input_dev *input;\n \tu32 rows = 0, cols = 0;\n-\tint error, row_shift, max_keys;\n+\tint error, row_shift;\n \tu8 reg;\n \n \t/* Check i2c driver capabilities */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b02f6b6b711b13f609e73ebb01b516cf080d9a0f"}
{"commit_hash": "cfcc048ca76e4927f163f178f59d557588ba32f7", "short_hash": "cfcc048ca76e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:57:37+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-27T20:09:16-03:00", "subject": "IB/hfi1: Remove set but not used variables 'offset' and 'fspsn'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "IB/hfi1", "subsystems_touched": ["drivers/infiniband/hw/hfi1"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem removing unused variables"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with historical context, basic review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer acceptance"}}, "score_justification": "Removes two unused variables to fix gcc warnings in hfi1 driver", "code_snippet": "@@ -4552,7 +4550,7 @@ void hfi1_rc_rcv_tid_rdma_ack(struct hfi1_packet *packet)\n \tstruct rvt_swqe *wqe;\n \tstruct tid_rdma_request *req;\n \tstruct tid_rdma_flow *flow;\n-\tu32 aeth, psn, req_psn, ack_psn, fspsn, resync_psn, ack_kpsn;\n+\tu32 aeth, psn, req_psn, ack_psn, resync_psn, ack_kpsn;\n \tunsigned long flags;\n \tu16 fidx;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cfcc048ca76e4927f163f178f59d557588ba32f7"}
{"commit_hash": "a0692f0eef91354b62c2b4c94954536536be5425", "short_hash": "a0692f0eef91", "author_name": "Yingjoe Chen", "author_email": "yingjoe.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-07T22:20:32+08:00", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-05-27T21:24:43+02:00", "subject": "i2c: dev: fix potential memory leak in i2cdev_ioctl_rdwr", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 838bfa6049fb (\"i2c-dev: Add support for I2C_M_RECV_LEN\")", "cc_stable": false, "subsystem_prefix": "drivers/i2c", "subsystems_touched": ["drivers/i2c"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yingjoe Chen <yingjoe.chen@mediatek.com> (MediaTek)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important I2C driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix affecting I2C device users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean fix with good explanation and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from MediaTek, maintainer committed"}}, "score_justification": "Memory leak fix in error path of I2C device ioctl", "code_snippet": "@@ -283,6 +283,7 @@ static noinline int i2cdev_ioctl_rdwr(struct i2c_client *client,\n \t\t\t    msgs[i].len < 1 || msgs[i].buf[0] < 1 ||\n \t\t\t    msgs[i].len < msgs[i].buf[0] +\n \t\t\t\t\t     I2C_SMBUS_BLOCK_MAX) {\n+\t\t\t\ti++;\n \t\t\t\tres = -EINVAL;\n \t\t\t\tbreak;\n \t\t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a0692f0eef91354b62c2b4c94954536536be5425"}
{"commit_hash": "f0b635627395223d3c60a3105372b4349e04772f", "short_hash": "f0b635627395", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-23T09:21:55+08:00", "committer_name": "Paul E. McKenney", "committer_email": "paulmck@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-05-28T08:48:19-07:00", "subject": "rcu: Remove unused rdp local from synchronize_rcu_expedited()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Paul E. McKenney <paulmck@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -793,7 +793,6 @@ static int rcu_print_task_exp_stall(struct rcu_node *rnp)\n  */\n void synchronize_rcu_expedited(void)\n {\n-\tstruct rcu_data *rdp;\n \tstruct rcu_exp_work rew;\n \tstruct rcu_node *rnp;\n \tunsigned long s;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/f0b635627395223d3c60a3105372b4349e04772f"}
{"commit_hash": "11b000457f4638cf2a9e6794d31636d2d3174842", "short_hash": "11b000457f46", "author_name": "Jiang Biao", "author_email": "benbjiang@tencent.com", "author_company": "Tencent", "author_date": "2019-04-23T09:22:56+08:00", "committer_name": "Paul E. McKenney", "committer_email": "paulmck@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-05-28T09:03:35-07:00", "subject": "rcu: Make __call_srcu static", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "rcu", "subsystems_touched": ["kernel/rcu"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jiang Biao <benbjiang@tencent.com> (Tencent)", "Paul E. McKenney <paulmck@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 9, "score_impact": 6, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Tiny change in critical RCU subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple change with clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org submission accepted by maintainer"}}, "score_justification": "Simple cleanup making internal function static in RCU subsystem", "code_snippet": "@@ -831,8 +831,8 @@ static void srcu_leak_callback(struct rcu_head *rhp)\n  * srcu_read_lock(), and srcu_read_unlock() that are all passed the same\n  * srcu_struct structure.\n  */\n-void __call_srcu(struct srcu_struct *ssp, struct rcu_head *rhp,\n-\t\t rcu_callback_t func, bool do_norm)\n+static void __call_srcu(struct srcu_struct *ssp, struct rcu_head *rhp,\n+\t\t\trcu_callback_t func, bool do_norm)\n {\n \tunsigned long flags;\n \tint idx;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/11b000457f4638cf2a9e6794d31636d2d3174842"}
{"commit_hash": "d667edc01bedcd23988ef69f851e7cc26cc3c67f", "short_hash": "d667edc01bed", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:24:27+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-05-28T12:08:10+10:00", "subject": "powerpc/mm: Make some symbols static that can be", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 3, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -45,7 +45,7 @@\n #define HPTE_LOCK_BIT (56+3)\n #endif\n \n-DEFINE_RAW_SPINLOCK(native_tlbie_lock);\n+static DEFINE_RAW_SPINLOCK(native_tlbie_lock);\n \n static inline void tlbiel_hash_set_isa206(unsigned int set, unsigned int is)\n {\ndiff --git a/arch/powerpc/mm/book3s64/hash_utils.c b/arch/powerpc/mm/book3s64/hash_utils.c\nindex 919a861a8ec0..1ff451892d7f 100644\n--- a/arch/powerpc/mm/book3s64/hash_utils.c\n+++ b/arch/powerpc/mm/book3s64/hash_utils.c", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d667edc01bedcd23988ef69f851e7cc26cc3c67f"}
{"commit_hash": "00b0cdbbc87fb4b531a0d75f4004ed3d89999b80", "short_hash": "00b0cdbbc87f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:27:20+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-05-28T12:08:11+10:00", "subject": "ocxl: Make ocxl_remove() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ocxl", "subsystems_touched": ["drivers/misc/ocxl"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Andrew Donnellan <ajd@linux.ibm.com> (IBM)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in misc driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean message with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, IBM maintainer, internal report"}}, "score_justification": "Sparse warning fix adding static keyword, cross-org review", "code_snippet": "@@ -41,7 +41,7 @@ static int ocxl_probe(struct pci_dev *dev, const struct pci_device_id *id)\n \treturn 0;\n }\n \n-void ocxl_remove(struct pci_dev *dev)\n+static void ocxl_remove(struct pci_dev *dev)\n {\n \tstruct ocxl_fn *fn;\n \tstruct ocxl_afu *afu;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/00b0cdbbc87fb4b531a0d75f4004ed3d89999b80"}
{"commit_hash": "20059cbbf981ca954be56f7963ae494d18e2dda1", "short_hash": "20059cbbf981", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-13T03:18:29-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-28T12:49:42-04:00", "subject": "media: vim2m: fix two double-free issues", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: ea6c7e34f3b2 (\"media: vim2m: replace devm_kzalloc by kzalloc\")", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 47, "score_technical": 8, "score_impact": 19, "score_quality": 13, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in media platform driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Double-free memory corruption fix"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers, detailed explanation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Internal Huawei report, multi-org review"}}, "score_justification": "Double-free memory corruption fix in media driver with clear fixes tag", "code_snippet": "@@ -1359,7 +1359,7 @@ static int vim2m_probe(struct platform_device *pdev)\n \t\t\t\t\t\t MEDIA_ENT_F_PROC_VIDEO_SCALER);\n \tif (ret) {\n \t\tv4l2_err(&dev->v4l2_dev, \"Failed to init mem2mem media controller\\n\");\n-\t\tgoto error_m2m;\n+\t\tgoto error_dev;\n \t}\n \n \tret = media_device_register(&dev->mdev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/20059cbbf981ca954be56f7963ae494d18e2dda1"}
{"commit_hash": "6aca09771db4277a78853d6ac680d8d5f0d915e3", "short_hash": "6aca09771db4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:32:24+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-05-28T14:41:47+03:00", "subject": "rtw88: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtw88"], "subsystem_tier": 3, "files_changed": 2, "insertions": 11, "deletions": 8, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in networking driver fixing sparse warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix affecting only developers, no stable backport"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Two Signed-off-by tags, clear explanation of sparse warnings"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author reported by internal Hulk Robot, maintainer commit from different org"}}, "score_justification": "Sparse warning fix adding static to 8 unused-export symbols in Realtek WiFi driver", "code_snippet": "@@ -47,7 +48,8 @@ void rtw_fw_c2h_cmd_handle(struct rtw_dev *rtwdev, struct sk_buff *skb)\n \t}\n }\n \n-void rtw_fw_send_h2c_command(struct rtw_dev *rtwdev, u8 *h2c)\n+static void rtw_fw_send_h2c_command(struct rtw_dev *rtwdev,\n+\t\t\t\t    u8 *h2c)\n {\n \tu8 box;\n \tu8 box_state;\ndiff --git a/drivers/net/wireless/realtek/rtw88/phy.c b/drivers/net/wireless/realtek/rtw88/phy.c\nindex 77b8c02b5ac6..404d89432c96 100644\n--- a/drivers/net/wireless/realtek/rtw88/phy.c\n+++ b/drivers/net/wireless/realtek/rtw88/phy.c", "flags": ["INTERNAL_REPORT"], "link": "https://lore.kernel.org/linux-kernel/6aca09771db4277a78853d6ac680d8d5f0d915e3"}
{"commit_hash": "c1ddcf1cc9add03d775ba787b942729a4b87e7a6", "short_hash": "c1ddcf1cc9ad", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2018-11-08T11:57:33Z", "committer_name": "Joerg Roedel", "committer_email": "jroedel@suse.de", "committer_company": "Suse", "commit_date": "2019-05-28T15:35:03+02:00", "subject": "iommu/amd: Add missed 'tag' to error msg in iommu_print_event", "primary_category": "MAINT-WARN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: e7f63ffc1bf1 (\"iommu/amd: Update logging information for new event type\")", "cc_stable": false, "subsystem_prefix": "iommu", "subsystems_touched": ["drivers/iommu"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Joerg Roedel <jroedel@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in tier 4 driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei/SUSE) with maintainer signoff"}}, "score_justification": "Compiler warning fix adding missing variable to error message", "code_snippet": "@@ -631,9 +631,9 @@ static void iommu_print_event(struct amd_iommu *iommu, void *__evt)\n \t\tpasid = ((event[0] >> 16) & 0xFFFF)\n \t\t\t| ((event[1] << 6) & 0xF0000);\n \t\ttag = event[1] & 0x03FF;\n-\t\tdev_err(dev, \"Event logged [INVALID_PPR_REQUEST device=%02x:%02x.%x pasid=0x%05x address=0x%llx flags=0x%04x]\\n\",\n+\t\tdev_err(dev, \"Event logged [INVALID_PPR_REQUEST device=%02x:%02x.%x pasid=0x%05x address=0x%llx flags=0x%04x tag=0x%03x]\\n\",\n \t\t\tPCI_BUS_NUM(devid), PCI_SLOT(devid), PCI_FUNC(devid),\n-\t\t\tpasid, address, flags);\n+\t\t\tpasid, address, flags, tag);\n \t\tbreak;\n \tdefault:\n \t\tdev_err(dev, \"Event logged [UNKNOWN event[0]=0x%08x event[1]=0x%08x event[2]=0x%08x event[3]=0x%08x\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c1ddcf1cc9add03d775ba787b942729a4b87e7a6"}
{"commit_hash": "3e42a66dfd15532792cfda8e6b5791e8d28d52b0", "short_hash": "3e42a66dfd15", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:43:32+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-05-28T15:37:10+03:00", "subject": "rtlwifi: rtl8821ae: Remove set but not used variables 'cur_txokcnt' and 'b_last_is_cur_rdl_state'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in wireless driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Dual signoff, good warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, CodeAurora maintainer"}}, "score_justification": "Compiler warning fix removing unused variables in rtlwifi driver", "code_snippet": "@@ -655,10 +655,9 @@ static void rtl8821ae_dm_check_rssi_monitor(struct ieee80211_hw *hw)\n \tu8 h2c_parameter[4] = { 0 };\n \tlong tmp_entry_max_pwdb = 0, tmp_entry_min_pwdb = 0xff;\n \tu8 stbc_tx = 0;\n-\tu64 cur_txokcnt = 0, cur_rxokcnt = 0;\n+\tu64 cur_rxokcnt = 0;\n \tstatic u64 last_txokcnt = 0, last_rxokcnt;\n \n-\tcur_txokcnt = rtlpriv->stats.txbytesunicast - last_txokcnt;\n \tcur_rxokcnt = rtlpriv->stats.rxbytesunicast - last_rxokcnt;\n \tlast_txokcnt = rtlpriv->stats.txbytesunicast;\n \tlast_rxokcnt = rtlpriv->stats.rxbytesunicast;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e42a66dfd15532792cfda8e6b5791e8d28d52b0"}
{"commit_hash": "d477a4856aecdfebcfe047b445f2ba702a42497a", "short_hash": "d477a4856aec", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:46:34+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-05-28T15:37:35+03:00", "subject": "rtlwifi: btcoex: Remove set but not used variable 'len' and 'asso_type_v2'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6aad6075ccd5 (\"rtlwifi: Add BT_MP_INFO to c2h handler.\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in wireless driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean commit with Fixes tag and detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different organizations"}}, "score_justification": "Warning fix removing unused variables in wireless driver", "code_snippet": "@@ -1578,7 +1578,7 @@ void exhalbtc_scan_notify_wifi_only(struct wifi_only_cfg *wifionly_cfg,\n \n void exhalbtc_connect_notify(struct btc_coexist *btcoexist, u8 action)\n {\n-\tu8 asso_type, asso_type_v2;\n+\tu8 asso_type;\n \tbool wifi_under_5g;\n \n \tif (!halbtc_is_bt_coexist_available(btcoexist))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d477a4856aecdfebcfe047b445f2ba702a42497a"}
{"commit_hash": "dfbe36197dbc44fd26ff131598d64248a1398dba", "short_hash": "dfbe36197dbc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:48:44+08:00", "committer_name": "Kalle Valo", "committer_email": "kvalo@codeaurora.org", "committer_company": "CodeAurora", "commit_date": "2019-05-28T15:38:02+03:00", "subject": "rtlwifi: btcoex: remove unused function exhalbtc_stack_operation_notify", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/realtek/rtlwifi"], "subsystem_tier": 4, "files_changed": 2, "insertions": 0, "deletions": 25, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kalle Valo <kvalo@codeaurora.org> (CodeAurora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small cleanup in wireless driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Dead code removal in wireless driver with cross-org review", "code_snippet": "@@ -1741,30 +1741,6 @@ void exhalbtc_rf_status_notify(struct btc_coexist *btcoexist, u8 type)\n \t}\n }\n \n-void exhalbtc_stack_operation_notify(struct btc_coexist *btcoexist, u8 type)\n-{\n-\tu8 stack_op_type;\n-\n-\tif (!halbtc_is_bt_coexist_available(btcoexist))\n-\t\treturn;\n-\tbtcoexist->statistics.cnt_stack_operation_notify++;\n-\tif (btcoexist->manual_control)\n-\t\treturn;\n-\n-\tif ((type == HCI_BT_OP_INQUIRY_START) ||\n-\t    (type == HCI_BT_OP_PAGING_START) ||\n-\t    (type == HCI_BT_OP_PAIRING_START)) {\n-\t\tstack_op_type = BTC_STACK_OP_INQ_PAGE_PAIR_START;\n-\t} else if ((type == HCI_BT_OP_INQUIRY_FINISH) ||\n-\t\t   (type == HCI_BT_OP_PAGING_SUCCESS) ||", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dfbe36197dbc44fd26ff131598d64248a1398dba"}
{"commit_hash": "66350023d57560b2ead168af098fc507e58d8e6a", "short_hash": "66350023d575", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T22:10:05Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:24:42-07:00", "subject": "hinic: fix a bug in set rx mode", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for Huawei NIC driver users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with author and maintainer sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different organization"}}, "score_justification": "Remove redundant multicast address loop already handled by __dev_mc_sync", "code_snippet": "@@ -724,7 +724,6 @@ static void set_rx_mode(struct work_struct *work)\n {\n \tstruct hinic_rx_mode_work *rx_mode_work = work_to_rx_mode_work(work);\n \tstruct hinic_dev *nic_dev = rx_mode_work_to_nic_dev(rx_mode_work);\n-\tstruct netdev_hw_addr *ha;\n \n \tnetif_info(nic_dev, drv, nic_dev->netdev, \"set rx mode work\\n\");\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/66350023d57560b2ead168af098fc507e58d8e6a"}
{"commit_hash": "41349672e3cbc2e8349831f21253509c3415aa2b", "short_hash": "41349672e3cb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:21:51+08:00", "committer_name": "Boris Ostrovsky", "committer_email": "boris.ostrovsky@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-28T17:32:10-04:00", "subject": "xen/pvcalls: Remove set but not used variable", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Boris Ostrovsky <boris.ostrovsky@oracle.com> (Oracle)"], "reviewed_by": ["Juergen Gross <jgross@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -540,7 +540,6 @@ static int __write_ring(struct pvcalls_data_intf *intf,\n int pvcalls_front_sendmsg(struct socket *sock, struct msghdr *msg,\n \t\t\t  size_t len)\n {\n-\tstruct pvcalls_bedata *bedata;\n \tstruct sock_mapping *map;\n \tint sent, tot_sent = 0;\n \tint count = 0, flags;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/41349672e3cbc2e8349831f21253509c3415aa2b"}
{"commit_hash": "eff858c178fcc513e620bb803b4e3bfb9727856c", "short_hash": "eff858c178fc", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:52+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:00-07:00", "subject": "net: hns3: fix for HNS3_RXD_GRO_SIZE_M macro", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a6d53b97a2e7 (\"net: hns3: Adds GRO params to SKB for the stack\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in NIC driver - 2 lines, 2 hunks"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Hardware GRO bug affecting Hisilicon NIC users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes: tag, 2 reviewers from same org"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Hardware register mask fix for GRO feature in Hisilicon NIC driver", "code_snippet": "@@ -145,7 +145,7 @@ enum hns3_nic_state {\n #define HNS3_RXD_TSIND_M\t\t\t(0x7 << HNS3_RXD_TSIND_S)\n #define HNS3_RXD_LKBK_B\t\t\t\t15\n #define HNS3_RXD_GRO_SIZE_S\t\t\t16\n-#define HNS3_RXD_GRO_SIZE_M\t\t\t(0x3ff << HNS3_RXD_GRO_SIZE_S)\n+#define HNS3_RXD_GRO_SIZE_M\t\t\t(0x3fff << HNS3_RXD_GRO_SIZE_S)\n \n #define HNS3_TXD_L3T_S\t\t\t\t0\n #define HNS3_TXD_L3T_M\t\t\t\t(0x3 << HNS3_TXD_L3T_S)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eff858c178fcc513e620bb803b4e3bfb9727856c"}
{"commit_hash": "4c1522765ca84e45d147557bf7f19e85e40c81e0", "short_hash": "4c1522765ca8", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:51+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:00-07:00", "subject": "net: hns3: fix compile warning without CONFIG_RFS_ACCEL", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d93ed94fbeaf (\"net: hns3: add aRFS support for PF\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (2 lines removed) in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with regression tag"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes/Reported-by tags, basic testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei->kernel.org), external report from kbuild robot"}}, "score_justification": "Compiler warning fix removing unnecessary ifdef in hns3 driver, reported by kbuild test robot", "code_snippet": "@@ -5682,7 +5682,6 @@ static void hclge_fd_build_arfs_rule(const struct hclge_fd_rule_tuples *tuples,\n static int hclge_add_fd_entry_by_arfs(struct hnae3_handle *handle, u16 queue_id,\n \t\t\t\t      u16 flow_id, struct flow_keys *fkeys)\n {\n-#ifdef CONFIG_RFS_ACCEL\n \tstruct hclge_vport *vport = hclge_get_vport(handle);\n \tstruct hclge_fd_rule_tuples new_tuples;\n \tstruct hclge_dev *hdev = vport->back;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c1522765ca84e45d147557bf7f19e85e40c81e0"}
{"commit_hash": "49f971bd308571fe466687227130a7082b662d0e", "short_hash": "49f971bd3085", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:03:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: fix a memory leak issue for hclge_map_unmap_ring_to_vf_vector", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 84e095d64ed9 (\"net: hns3: Change PF to add ring-vect binding & resetQ to mailbox\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 16, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in single driver file"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with regression tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear explanation with Fixes tag"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, external maintainer"}}, "score_justification": "Memory leak fix in error path for Hisilicon network driver", "code_snippet": "@@ -192,12 +192,10 @@ static int hclge_map_unmap_ring_to_vf_vector(struct hclge_vport *vport, bool en,\n \t\treturn ret;\n \n \tret = hclge_bind_ring_with_vector(vport, vector_id, en, &ring_chain);\n-\tif (ret)\n-\t\treturn ret;\n \n \thclge_free_vector_ring_chain(&ring_chain);\n \n-\treturn 0;\n+\treturn ret;\n }\n \n static int hclge_set_vf_promisc_mode(struct hclge_vport *vport,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49f971bd308571fe466687227130a7082b662d0e"}
{"commit_hash": "0d2f68c7bcf4c7bbdd6f810f7b6e658f43d4461e", "short_hash": "0d2f68c7bcf4", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:03:01+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: adjust hns3_uninit_phy()'s location in the hns3_client_uninit()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: c8a8045b2d0a (\"net: hns3: Fix NULL deref when unloading driver\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in NIC driver affecting resource cleanup order"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak regression fix for Hisilicon NIC users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, 2 reviewers from same company"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer, different orgs"}}, "score_justification": "Resource leak fix adjusting hns3_uninit_phy() call order to prevent missing cleanup on error path", "code_snippet": "@@ -3901,6 +3901,8 @@ static void hns3_client_uninit(struct hnae3_handle *handle, bool reset)\n \n \thns3_client_stop(handle);\n \n+\thns3_uninit_phy(netdev);\n+\n \tif (!test_and_clear_bit(HNS3_NIC_STATE_INITED, &priv->state)) {\n \t\tnetdev_warn(netdev, \"already uninitialized\\n\");\n \t\tgoto out_netdev_free;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0d2f68c7bcf4c7bbdd6f810f7b6e658f43d4461e"}
{"commit_hash": "acfc3d55b7326ff280f1aa64b6d93755619071b3", "short_hash": "acfc3d55b732", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:03:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: stop schedule reset service while unloading driver", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 7, "deletions": 2, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change across 3 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix preventing use-after-free during driver unload"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation but no testing evidence or external review"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Single company, maintainer committed"}}, "score_justification": "", "code_snippet": "@@ -8385,6 +8386,7 @@ static void hclge_state_init(struct hclge_dev *hdev)\n static void hclge_state_uninit(struct hclge_dev *hdev)\n {\n \tset_bit(HCLGE_STATE_DOWN, &hdev->state);\n+\tset_bit(HCLGE_STATE_REMOVING, &hdev->state);\n \n \tif (hdev->service_timer.function)\n \t\tdel_timer_sync(&hdev->service_timer);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\nindex ee1eecad3b8d..87a619db2780 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/acfc3d55b7326ff280f1aa64b6d93755619071b3"}
{"commit_hash": "ada13ee3db7b8959d7df81265a2633f987a0a13c", "short_hash": "ada13ee3db7b", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: add handshake with hardware while doing reset", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 4, "insertions": 16, "deletions": 9, "hunks": 20, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 12, "details": "Small change across 4 files in driver subsystem with sync logic"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fix for hardware reset timing affecting network driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation but no external review or testing tags"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Hardware handshake fix for Hisilicon network driver reset timing to prevent errors", "code_snippet": "@@ -3239,6 +3241,10 @@ static int hclge_reset_prepare_wait(struct hclge_dev *hdev)\n \t\tbreak;\n \t}\n \n+\t/* inform hardware that preparatory work is done */\n+\tmsleep(HCLGE_RESET_SYNC_TIME);\n+\thclge_write_dev(&hdev->hw, HCLGE_NIC_CSQ_DEPTH_REG,\n+\t\t\tHCLGE_NIC_CMQ_ENABLE);\n \tdev_info(&hdev->pdev->dev, \"prepare wait ok\\n\");\n \n \treturn ret;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\nindex 71f356fc2446..e1588c0e8bb9 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ada13ee3db7b8959d7df81265a2633f987a0a13c"}
{"commit_hash": "1db58f86975a1f978b71b727ed9951ec53698fc0", "short_hash": "1db58f86975a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:58+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: modify hclgevf_init_client_instance()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 50, "deletions": 29, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor: 6 hunks, 79 lines in single driver file"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification for hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Internal review, basic message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Refactor extracting NIC/RoCE init functions from bloated function", "code_snippet": "@@ -2253,6 +2253,48 @@ static void hclgevf_info_show(struct hclgevf_dev *hdev)\n \tdev_info(dev, \"VF info end.\\n\");\n }\n \n+static int hclgevf_init_nic_client_instance(struct hnae3_ae_dev *ae_dev,\n+\t\t\t\t\t    struct hnae3_client *client)\n+{\n+\tstruct hclgevf_dev *hdev = ae_dev->priv;\n+\tint ret;\n+\n+\tret = client->ops->init_instance(&hdev->nic);\n+\tif (ret)\n+\t\treturn ret;\n+\n+\tset_bit(HCLGEVF_STATE_NIC_REGISTERED, &hdev->state);\n+\thnae3_set_client_init_flag(client, ae_dev, 1);\n+\n+\tif (netif_msg_drv(&hdev->nic))\n+\t\thclgevf_info_show(hdev);\n+", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1db58f86975a1f978b71b727ed9951ec53698fc0"}
{"commit_hash": "994e04f16e5a50ef14f4353f4bd68ad48a0bcb79", "short_hash": "994e04f16e5a", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: modify hclge_init_client_instance()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 53, "deletions": 37, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 10, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactoring in network driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification for driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple Huawei sign-offs, clear message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Refactoring to extract duplicated client init code into helper functions", "code_snippet": "@@ -8169,6 +8169,52 @@ static void hclge_info_show(struct hclge_dev *hdev)\n \tdev_info(dev, \"PF info end.\\n\");\n }\n \n+static int hclge_init_nic_client_instance(struct hnae3_ae_dev *ae_dev,\n+\t\t\t\t\t  struct hclge_vport *vport)\n+{\n+\tstruct hnae3_client *client = vport->nic.client;\n+\tstruct hclge_dev *hdev = ae_dev->priv;\n+\tint ret;\n+\n+\tret = client->ops->init_instance(&vport->nic);\n+\tif (ret)\n+\t\treturn ret;\n+\n+\tset_bit(HCLGE_STATE_NIC_REGISTERED, &hdev->state);\n+\thnae3_set_client_init_flag(client, ae_dev, 1);\n+\n+\tif (netif_msg_drv(&hdev->vport->nic))\n+\t\thclge_info_show(hdev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/994e04f16e5a50ef14f4353f4bd68ad48a0bcb79"}
{"commit_hash": "25d1817c4e5020b850b8bc383401ceff3cbc6e31", "short_hash": "25d1817c4e50", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: use HCLGEVF_STATE_NIC_REGISTERED to indicate VF NIC client has registered", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 4, "files_changed": 2, "insertions": 8, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 14, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver code with 8 insertions across 2 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Bug fix for specific NIC driver affecting users of this hardware"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Internal review with adequate message explaining state usage"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, different maintainer committer"}}, "score_justification": "State management improvement for Hisilicon NIC driver to prevent operations on unregistered client", "code_snippet": "@@ -2342,6 +2347,8 @@ static void hclgevf_uninit_client_instance(struct hnae3_client *client,\n \t/* un-init nic/unic, if this was not called by roce client */\n \tif (client->ops->uninit_instance && hdev->nic_client &&\n \t    client->type != HNAE3_CLIENT_ROCE) {\n+\t\tclear_bit(HCLGEVF_STATE_NIC_REGISTERED, &hdev->state);\n+\n \t\tclient->ops->uninit_instance(&hdev->nic, 0);\n \t\thdev->nic_client = NULL;\n \t\thdev->nic.client = NULL;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h\nindex cc52f54f8c08..eab1095bf221 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/25d1817c4e5020b850b8bc383401ceff3cbc6e31"}
{"commit_hash": "2a0bfc36183cb4eb5f1212faafbc93876a9a2088", "short_hash": "2a0bfc36183c", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:55+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: use HCLGE_STATE_ROCE_REGISTERED to indicate PF ROCE client has registered", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 8, "deletions": 1, "hunks": 10, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver change with 10 hunks across 2 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for ROCE client registration in driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with proper signed-off chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committed"}}, "score_justification": "Driver logic fix for ROCE client registration state tracking", "code_snippet": "@@ -8267,6 +8272,7 @@ static void hclge_uninit_client_instance(struct hnae3_client *client,\n \tfor (i = 0; i < hdev->num_vmdq_vport + 1; i++) {\n \t\tvport = &hdev->vport[i];\n \t\tif (hdev->roce_client) {\n+\t\t\tclear_bit(HCLGE_STATE_ROCE_REGISTERED, &hdev->state);\n \t\t\thdev->roce_client->ops->uninit_instance(&vport->roce,\n \t\t\t\t\t\t\t\t0);\n \t\t\thdev->roce_client = NULL;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex 43901ffeaf4e..2b3bc95ccbdf 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2a0bfc36183cb4eb5f1212faafbc93876a9a2088"}
{"commit_hash": "bd9109c9b1f3c34529fe43a4ede46e72d237361b", "short_hash": "bd9109c9b1f3", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:54+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: use HCLGE_STATE_NIC_REGISTERED to indicate PF NIC client has registered", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 2, "insertions": 7, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in vendor network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Functional enhancement for specific driver"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic explanation with minimal tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "State tracking enhancement for Hisilicon NIC client registration", "code_snippet": "@@ -8270,6 +8275,7 @@ static void hclge_uninit_client_instance(struct hnae3_client *client,\n \t\tif (client->type == HNAE3_CLIENT_ROCE)\n \t\t\treturn;\n \t\tif (hdev->nic_client && client->ops->uninit_instance) {\n+\t\t\tclear_bit(HCLGE_STATE_NIC_REGISTERED, &hdev->state);\n \t\t\tclient->ops->uninit_instance(&vport->nic, 0);\n \t\t\thdev->nic_client = NULL;\n \t\t\tvport->nic.client = NULL;\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\nindex c770390c6e57..43901ffeaf4e 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd9109c9b1f3c34529fe43a4ede46e72d237361b"}
{"commit_hash": "33a90e2f20e6c455889a0f41857692221172a5ae", "short_hash": "33a90e2f20e6", "author_name": "Zhongzhu Liu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:02:53+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-28T17:39:01-07:00", "subject": "net: hns3: add support for dump firmware statistics by debugfs", "primary_category": "FEAT-TRACE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 66, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "3 files, 10 hunks, +66 lines in network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug trace feature for specific driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple SOB but no external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer, cross-org"}}, "score_justification": "Debugfs tracing feature for hns3 firmware stats, well-scoped enhancement", "code_snippet": "@@ -970,6 +973,11 @@ struct hclge_fd_ad_config_cmd {\n \tu8 rsv2[8];\n };\n \n+struct hclge_get_m7_bd_cmd {\n+\t__le32 bd_num;\n+\tu8 rsv[20];\n+};\n+\n int hclge_cmd_init(struct hclge_dev *hdev);\n static inline void hclge_write_reg(void __iomem *base, u32 reg, u32 value)\n {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex a9ffb57c4607..ed1f533d4082 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/33a90e2f20e6c455889a0f41857692221172a5ae"}
{"commit_hash": "7e186d9de9290d57c90751ea252135f425f49e6e", "short_hash": "7e186d9de929", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T20:05:35+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-05-28T19:38:47+02:00", "subject": "drivers: base: power: clock_ops: Use of_clk_get_parent_count()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/base/power"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 8, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change replacing helper function in driver code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by tag, clean atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Intel"}}, "score_justification": "Simple API migration replacing open-coded clock count with helper function", "code_snippet": "@@ -12,6 +12,7 @@\n #include <linux/pm_clock.h>\n #include <linux/clk.h>\n #include <linux/clkdev.h>\n+#include <linux/of_clk.h>\n #include <linux/slab.h>\n #include <linux/err.h>\n #include <linux/pm_domain.h>", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7e186d9de9290d57c90751ea252135f425f49e6e"}
{"commit_hash": "c8d0ccfd73dab35f60cb4f27d9fb7eb07c104e77", "short_hash": "c8d0ccfd73da", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-06T03:05:16-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-29T10:25:45-04:00", "subject": "media: mtk-vpu: fix leaked of_node references", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line change in media driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix for platform-specific driver"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with coccinelle detection, 3 sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, maintainer committer from different org"}}, "score_justification": "Missing of_node_put causing device node reference leak in media driver", "code_snippet": "@@ -468,9 +468,9 @@ struct platform_device *vpu_get_plat_device(struct platform_device *pdev)\n \t}\n \n \tvpu_pdev = of_find_device_by_node(vpu_node);\n+\tof_node_put(vpu_node);\n \tif (WARN_ON(!vpu_pdev)) {\n \t\tdev_err(dev, \"vpu pdev failed\\n\");\n-\t\tof_node_put(vpu_node);\n \t\treturn NULL;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8d0ccfd73dab35f60cb4f27d9fb7eb07c104e77"}
{"commit_hash": "15b5c5b1dce9bc19a0f00697ce64ecd819cfd109", "short_hash": "15b5c5b1dce9", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-06T03:05:17-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-29T10:26:09-04:00", "subject": "media: mtk-vcodec: fix leaked of_node references", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform/mtk-vcodec"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 14, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in media driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Multiple reviewers, detailed message with cocci detection"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Resource leak fix moving of_node_put before error path in media driver", "code_snippet": "@@ -42,8 +42,8 @@ int mtk_vcodec_init_dec_pm(struct mtk_vcodec_dev *mtkdev)\n \t}\n \n \tpdev = of_find_device_by_node(node);\n+\tof_node_put(node);\n \tif (WARN_ON(!pdev)) {\n-\t\tof_node_put(node);\n \t\treturn -1;\n \t}\n \tpm->larbvdec = &pdev->dev;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/15b5c5b1dce9bc19a0f00697ce64ecd819cfd109"}
{"commit_hash": "50710eeefbc1ed25375942aad0c4d1eb4af0f330", "short_hash": "50710eeefbc1", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T08:14:55-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-05-29T10:37:41-04:00", "subject": "media: saa7164: fix remove_proc_entry warning", "primary_category": "BUG-RESOURCE", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/media/pci", "subsystems_touched": ["drivers/media/pci/saa7164"], "subsystem_tier": 4, "files_changed": 1, "insertions": 22, "deletions": 11, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in media driver (tier 4)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource handling fix for driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with stack trace evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer committed"}}, "score_justification": "Fixes remove_proc_entry warning on error path in saa7164 driver", "code_snippet": "@@ -1122,16 +1122,25 @@ static int saa7164_proc_show(struct seq_file *m, void *v)\n \treturn 0;\n }\n \n+static struct proc_dir_entry *saa7164_pe;\n+\n static int saa7164_proc_create(void)\n {\n-\tstruct proc_dir_entry *pe;\n-\n-\tpe = proc_create_single(\"saa7164\", S_IRUGO, NULL, saa7164_proc_show);\n-\tif (!pe)\n+\tsaa7164_pe = proc_create_single(\"saa7164\", 0444, NULL, saa7164_proc_show);\n+\tif (!saa7164_pe)\n \t\treturn -ENOMEM;\n \n \treturn 0;\n }\n+\n+static void saa7164_proc_destroy(void)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/50710eeefbc1ed25375942aad0c4d1eb4af0f330"}
{"commit_hash": "f532beeeff0c0a3586cc15538bc52d249eb19e7c", "short_hash": "f532beeeff0c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:20:24+08:00", "committer_name": "Paul Burton", "committer_email": "paul.burton@mips.com", "committer_company": "Mips", "commit_date": "2019-05-29T13:20:30-07:00", "subject": "MIPS: uprobes: remove set but not used variable 'epc'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Paul Burton <paul.burton@mips.com> (Mips)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -112,9 +112,6 @@ int arch_uprobe_pre_xol(struct arch_uprobe *aup, struct pt_regs *regs)\n \t */\n \taup->resume_epc = regs->cp0_epc + 4;\n \tif (insn_has_delay_slot((union mips_instruction) aup->insn[0])) {\n-\t\tunsigned long epc;\n-\n-\t\tepc = regs->cp0_epc;\n \t\t__compute_return_epc_for_insn(regs,\n \t\t\t(union mips_instruction) aup->insn[0]);\n \t\taup->resume_epc = regs->cp0_epc;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/f532beeeff0c0a3586cc15538bc52d249eb19e7c"}
{"commit_hash": "a3e2f6ad8961f78bf89e9caf3ff82cf5bc306511", "short_hash": "a3e2f6ad8961", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:10:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-29T14:18:24-07:00", "subject": "net: stmmac: Fix build error without CONFIG_INET", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 091810dbded9 (\"net: stmmac: Introduce selftests support\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -15,6 +15,7 @@ if STMMAC_ETH\n \n config STMMAC_SELFTESTS\n \tbool \"Support for STMMAC Selftests\"\n+\tdepends on INET\n \tdepends on STMMAC_ETH\n \tdefault n\n \t---help---\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a3e2f6ad8961f78bf89e9caf3ff82cf5bc306511"}
{"commit_hash": "937f861def1a1d49abb92e041efaa5c259281fbf", "short_hash": "937f861def1a", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-27T14:19:18+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-05-29T14:54:38+08:00", "subject": "drm/mediatek: adjust ddp clock control flow", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 24, "hunks": 12, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "Hsin-Yi Wang <hsinyi@chromium.org> (Chromium)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in GPU driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Clock management fix for GPU users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multi-reviewer, good explanation"}, "community": {"cross_org": 1, "maintainer": 0, "response": 0, "subtotal": 1, "details": "Same company, internal review"}}, "score_justification": "Clock management refactor fixing unprepare/disable imbalance", "code_snippet": "@@ -585,15 +581,7 @@ int mtk_drm_crtc_create(struct drm_device *drm_dev,\n \t\tif (!comp) {\n \t\t\tdev_err(dev, \"Component %pOF not initialized\\n\", node);\n \t\t\tret = -ENODEV;\n-\t\t\tgoto unprepare;\n-\t\t}\n-\n-\t\tret = clk_prepare(comp->clk);\n-\t\tif (ret) {\n-\t\t\tdev_err(dev,\n-\t\t\t\t\"Failed to prepare clock for component %pOF: %d\\n\",\n-\t\t\t\tnode, ret);\n-\t\t\tgoto unprepare;\n+\t\t\treturn ret;\n \t\t}\n \n \t\tmtk_crtc->ddp_comp[i] = comp;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/937f861def1a1d49abb92e041efaa5c259281fbf"}
{"commit_hash": "46a3b9fce29386704a56fbfb22e0dcdbd813b4b5", "short_hash": "46a3b9fce293", "author_name": "Yongqiang Niu", "author_email": "yongqiang.niu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-03-27T14:19:20+08:00", "committer_name": "CK Hu", "committer_email": "ck.hu@mediatek.com", "committer_company": "MediaTek", "commit_date": "2019-05-29T14:55:26+08:00", "subject": "drm/mediatek: respect page offset for PRIME mmap calls", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/mediatek", "subsystems_touched": ["drivers/gpu/drm/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yongqiang Niu <yongqiang.niu@mediatek.com> (MediaTek)", "CK Hu <ck.hu@mediatek.com> (MediaTek)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 1, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in GPU driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix affecting Mediatek GPU users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal review, basic message format"}, "community": {"cross_org": 0, "maintainer": 1, "response": 0, "subtotal": 1, "details": "Internal company commit only"}}, "score_justification": "Fix for PRIME mmap offset handling in Mediatek DRM driver", "code_snippet": "@@ -144,7 +144,6 @@ static int mtk_drm_gem_object_mmap(struct drm_gem_object *obj,\n \t * VM_PFNMAP flag that was set by drm_gem_mmap_obj()/drm_gem_mmap().\n \t */\n \tvma->vm_flags &= ~VM_PFNMAP;\n-\tvma->vm_pgoff = 0;\n \n \tret = dma_mmap_attrs(priv->dma_dev, vma, mtk_gem->cookie,\n \t\t\t     mtk_gem->dma_addr, obj->size, mtk_gem->dma_attrs);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46a3b9fce29386704a56fbfb22e0dcdbd813b4b5"}
{"commit_hash": "12e750bc62044de096ab9a95201213fd912b9994", "short_hash": "12e750bc6204", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T22:22:09+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-29T22:04:09-04:00", "subject": "scsi: scsi_dh_alua: Fix possible null-ptr-deref", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 03197b61c5ec (\"scsi_dh_alua: Use workqueue for RTPG\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/device_handler"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Bart Van Assche <bvanassche@acm.org> (Acm)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 48, "score_technical": 8, "score_impact": 20, "score_quality": 12, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal change in SCSI device handler subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Null-ptr-deref crash fix affecting SCSI users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Has Fixes: tag, stack trace, Reported-by, and Reviewed-by"}, "community": {"cross_org": 3, "maintainer": 3, "response": 2, "subtotal": 8, "details": "Huawei author, Oracle maintainer, cross-org review from ACM"}}, "score_justification": "Null-ptr-deref crash in SCSI ALUA device handler init with cross-org review", "code_snippet": "@@ -1174,10 +1174,8 @@ static int __init alua_init(void)\n \tint r;\n \n \tkaluad_wq = alloc_workqueue(\"kaluad\", WQ_MEM_RECLAIM, 0);\n-\tif (!kaluad_wq) {\n-\t\t/* Temporary failure, bypass */\n-\t\treturn SCSI_DH_DEV_TEMP_BUSY;\n-\t}\n+\tif (!kaluad_wq)\n+\t\treturn -ENOMEM;\n \n \tr = scsi_register_device_handler(&alua_dh);\n \tif (r != 0) {\n", "flags": ["REPORTED_BY_EXTERNAL"], "link": "https://lore.kernel.org/linux-kernel/12e750bc62044de096ab9a95201213fd912b9994"}
{"commit_hash": "04cf8b32bc6d3fbc640d5f62b3a14df207d3e1db", "short_hash": "04cf8b32bc6d", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T10:42:38+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-29T22:08:19-04:00", "subject": "scsi: libsas: only clear phy->in_shutdown after shutdown event done", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: f12486e06ae8 (\"scsi: libsas: shut down the PHY if events reached the threshold\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/libsas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 16, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line change in SCSI subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting SCSI storage users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Well-reviewed with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committer from Oracle"}}, "score_justification": "Event queue management bug fix preventing shutdown event spam in SCSI libsas", "code_snippet": "@@ -35,7 +35,6 @@ static void sas_phye_loss_of_signal(struct work_struct *work)\n \tstruct asd_sas_event *ev = to_asd_sas_event(work);\n \tstruct asd_sas_phy *phy = ev->phy;\n \n-\tphy->in_shutdown = 0;\n \tphy->error = 0;\n \tsas_deform_port(phy, 1);\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04cf8b32bc6d3fbc640d5f62b3a14df207d3e1db"}
{"commit_hash": "3b0541791453fbe7f42867e310e0c9eb6295364d", "short_hash": "3b0541791453", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-05-14T10:42:39+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-05-29T22:09:10-04:00", "subject": "scsi: libsas: delete sas port if expander discover failed", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 2908d778ab3e (\"[SCSI] aic94xx: new driver\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/libsas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Jian Luo <luojian5@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line fix in SCSI subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak causing kernel BUG crash"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed with stack trace and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Reported internally, cross-org commit"}}, "score_justification": "Resource leak fix in SCSI libsas causing kernel BUG with detailed crash dump", "code_snippet": "@@ -1019,6 +1019,8 @@ static struct domain_device *sas_ex_discover_expander(\n \t\tlist_del(&child->dev_list_node);\n \t\tspin_unlock_irq(&parent->port->dev_list_lock);\n \t\tsas_put_device(child);\n+\t\tsas_port_delete(phy->port);\n+\t\tphy->port = NULL;\n \t\treturn NULL;\n \t}\n \tlist_add_tail(&child->siblings, &parent->ex_dev.children);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3b0541791453fbe7f42867e310e0c9eb6295364d"}
{"commit_hash": "8cdc23a3d9ec0944000ad43bad588e36afdc38cd", "short_hash": "8cdc23a3d9ec", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T15:30:35+02:00", "committer_name": "Mimi Zohar", "committer_email": "zohar@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-05-29T23:18:25-04:00", "subject": "ima: show rules with IMA_INMASK correctly", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 80eae209d63ac (\"IMA: allow reading back the current IMA policy\")", "cc_stable": true, "subsystem_prefix": "security/integrity/ima", "subsystems_touched": ["security/integrity/ima"], "subsystem_tier": 2, "files_changed": 1, "insertions": 12, "deletions": 9, "hunks": 6, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 17, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "6 hunks across 1 file in security subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport affecting IMA users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and stable Cc but minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, IBM maintainer committer"}}, "score_justification": "Fixes IMA policy display for IMA_INMASK flag, stable backport, cross-org review", "code_snippet": "@@ -1147,10 +1147,10 @@ enum {\n };\n \n static const char *const mask_tokens[] = {\n-\t\"MAY_EXEC\",\n-\t\"MAY_WRITE\",\n-\t\"MAY_READ\",\n-\t\"MAY_APPEND\"\n+\t\"^MAY_EXEC\",\n+\t\"^MAY_WRITE\",\n+\t\"^MAY_READ\",\n+\t\"^MAY_APPEND\"\n };\n \n #define __ima_hook_stringify(str)\t(#str),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8cdc23a3d9ec0944000ad43bad588e36afdc38cd"}
{"commit_hash": "221be106d75c1b511973301542f47d6000d0b63e", "short_hash": "221be106d75c", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T15:30:33+02:00", "committer_name": "Mimi Zohar", "committer_email": "zohar@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-05-29T23:18:25-04:00", "subject": "evm: check hash algorithm passed to init_desc()", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-ACCESS"], "cve_ids": [], "fixes_tag": "Fixes: 5feeb61183dde (\"evm: Allow non-SHA1 digital signatures\")", "cc_stable": true, "subsystem_prefix": "security", "subsystems_touched": ["security/integrity/evm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 10, "score_impact": 24, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical security subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Memory access fix in EVM integrity subsystem"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes and stable tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, IBM maintainer committer"}}, "score_justification": "Bounds check preventing array OOB access in EVM crypto init", "code_snippet": "@@ -89,6 +89,9 @@ static struct shash_desc *init_desc(char type, uint8_t hash_algo)\n \t\ttfm = &hmac_tfm;\n \t\talgo = evm_hmac;\n \t} else {\n+\t\tif (hash_algo >= HASH_ALGO__LAST)\n+\t\t\treturn ERR_PTR(-EINVAL);\n+\n \t\ttfm = &evm_tfm[hash_algo];\n \t\talgo = hash_algo_name[hash_algo];\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/221be106d75c1b511973301542f47d6000d0b63e"}
{"commit_hash": "5080e28d94a27e182e323854a9ba2a0718e9e3bf", "short_hash": "5080e28d94a2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T10:59:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-30T11:46:59-07:00", "subject": "net: mvpp2: cls: Remove unnessesary check in mvpp2_ethtool_cls_rule_ins", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/marvell/mvpp2"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file driver change removing 2 lines"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Smatch warning fix for specific driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Author SOB only, clear warning explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer merge"}}, "score_justification": "Smatch warning fix removing impossible u32 < 0 check in Marvell driver", "code_snippet": "@@ -1300,8 +1300,7 @@ int mvpp2_ethtool_cls_rule_ins(struct mvpp2_port *port,\n \tstruct mvpp2_ethtool_fs *efs, *old_efs;\n \tint ret = 0;\n \n-\tif (info->fs.location >= MVPP2_N_RFS_ENTRIES_PER_FLOW ||\n-\t    info->fs.location < 0)\n+\tif (info->fs.location >= MVPP2_N_RFS_ENTRIES_PER_FLOW)\n \t\treturn -EINVAL;\n \n \tefs = kzalloc(sizeof(*efs), GFP_KERNEL);\n", "flags": ["STATIC_ANALYSIS_FIX"], "link": "https://lore.kernel.org/linux-kernel/5080e28d94a27e182e323854a9ba2a0718e9e3bf"}
{"commit_hash": "c304b8d2f9aa7971863bfce4885581a6b5f0f311", "short_hash": "c304b8d2f9aa", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T19:55:42+08:00", "committer_name": "Sylwester Nawrocki", "committer_email": "s.nawrocki@samsung.com", "committer_company": "Samsung", "commit_date": "2019-05-30T12:54:44+02:00", "subject": "clk: samsung: exynos5433: Use of_clk_get_parent_count()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/samsung"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Sylwester Nawrocki <s.nawrocki@samsung.com> (Samsung)"], "reviewed_by": ["Andrzej Hajda <a.hajda@samsung.com> (Samsung)"], "tested_by": [], "acked_by": ["Chanwoo Choi <cw00.choi@samsung.com> (Samsung)"], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 12, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in standard driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 12, "details": "API migration in platform-specific driver"}, "quality": {"review_chain": 6, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review chain with Reviewed-by and Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Samsung"}}, "score_justification": "API migration from open-coded of_count_phandle_with_args to of_clk_get_parent_count helper function", "code_snippet": "@@ -5590,8 +5590,8 @@ static int __init exynos5433_cmu_probe(struct platform_device *pdev)\n \tdata->nr_clk_save = info->nr_clk_regs;\n \tdata->clk_suspend = info->suspend_regs;\n \tdata->nr_clk_suspend = info->nr_suspend_regs;\n-\tdata->nr_pclks = of_count_phandle_with_args(dev->of_node, \"clocks\",\n-\t\t\t\t\t\t    \"#clock-cells\");\n+\tdata->nr_pclks = of_clk_get_parent_count(dev->of_node);\n+\n \tif (data->nr_pclks > 0) {\n \t\tdata->pclks = devm_kcalloc(dev, sizeof(struct clk *),\n \t\t\t\t\t   data->nr_pclks, GFP_KERNEL);\n", "flags": ["CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/c304b8d2f9aa7971863bfce4885581a6b5f0f311"}
{"commit_hash": "46144c1391574f0164def0ca3aa20a6361e4effb", "short_hash": "46144c139157", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T16:02:14+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-30T14:02:53-07:00", "subject": "staging: kpc2000: replace white spaces with tabs for kpc2000_spi.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 361, "deletions": 361, "hunks": 6, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 12, "score_impact": 5, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 12, "details": "Large change volume (722 lines) but purely mechanical whitespace conversion in staging driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 5, "details": "Code cleanup with no runtime impact or functional change"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean commit with subsystem prefix, single Signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by Linux Foundation maintainer"}}, "score_justification": "Whitespace-only cleanup (spaces to tabs) in staging driver, reviewed by maintainer", "code_snippet": "@@ -113,59 +113,59 @@ struct kp_spi {\n \n \n struct kp_spi_controller_state {\n-    void __iomem   *base;\n-    unsigned long   phys;\n-    unsigned char   chip_select;\n-    int             word_len;\n-    s64             conf_cache;\n+\tvoid __iomem   *base;\n+\tunsigned long   phys;\n+\tunsigned char   chip_select;\n+\tint             word_len;\n+\ts64             conf_cache;\n };\n \n \n union kp_spi_config {\n-    /* use this to access individual elements */\n-    struct __attribute__((packed)) spi_config_bitfield {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46144c1391574f0164def0ca3aa20a6361e4effb"}
{"commit_hash": "9164f336311863d3e9f80840f4a1cce2aee293bd", "short_hash": "9164f3363118", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T16:02:13+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-30T14:02:53-07:00", "subject": "staging: kpc2000: report error status to spi core", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/kpc2000"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in staging driver (tier 4)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Error path fix affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message with proper Signed-off-by chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Error path fix in staging SPI driver to properly report status to core", "code_snippet": "@@ -374,7 +374,7 @@ kp_spi_transfer_one_message(struct spi_master *master, struct spi_message *m)\n     list_for_each_entry(transfer, &m->transfers, transfer_list) {\n         if (transfer->tx_buf == NULL && transfer->rx_buf == NULL && transfer->len) {\n             status = -EINVAL;\n-            break;\n+            goto error;\n         }\n         \n         /* transfer */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9164f336311863d3e9f80840f4a1cce2aee293bd"}
{"commit_hash": "ca6ea423d2bbdd1d42fe71cbefb4c9635caecd12", "short_hash": "ca6ea423d2bb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:36:40+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-05-30T14:13:45-07:00", "subject": "staging: rtl8723bs: hal: Remove set but not used variable 'no_res' and 'phal'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/rtl8723bs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple cleanup with good message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "Removes unused variables to fix gcc compiler warnings in staging driver", "code_snippet": "@@ -202,7 +202,7 @@ static s32 xmit_xmitframes(struct adapter *padapter, struct xmit_priv *pxmitpriv\n \ts32 err, ret;\n \tu32 k = 0;\n \tstruct hw_xmit *hwxmits, *phwxmit;\n-\tu8 no_res, idx, hwentry;\n+\tu8 idx, hwentry;\n \tstruct tx_servq *ptxservq;\n \tstruct list_head *sta_plist, *sta_phead, *frame_plist, *frame_phead;\n \tstruct xmit_frame *pxmitframe;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ca6ea423d2bbdd1d42fe71cbefb4c9635caecd12"}
{"commit_hash": "5ee907f70e8eaf03cef1876a43d5a2bf6405a9f2", "short_hash": "5ee907f70e8e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T22:34:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-05-30T14:33:23-07:00", "subject": "net: dsa: sja1105: Make static_config_check_memory_size static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/dsa", "subsystems_touched": ["drivers/net/dsa"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in network driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed and acked, good message with robot reporter credit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer, robot reporter"}}, "score_justification": "Sparse warning fix adding static keyword to function in network driver", "code_snippet": "@@ -442,7 +442,7 @@ const char *sja1105_static_config_error_msg[] = {\n \t\t\"vl-forwarding-parameters-table.partspc.\",\n };\n \n-sja1105_config_valid_t\n+static sja1105_config_valid_t\n static_config_check_memory_size(const struct sja1105_table *tables)\n {\n \tconst struct sja1105_l2_forwarding_params_entry *l2_fwd_params;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ee907f70e8eaf03cef1876a43d5a2bf6405a9f2"}
{"commit_hash": "a49773064bc2284bf7fe57c3492897135f65a37c", "short_hash": "a49773064bc2", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2019-05-30T15:15:57-04:00", "committer_name": "Theodore Ts'o", "committer_email": "tytso@mit.edu", "committer_company": "Mit", "commit_date": "2019-05-30T15:15:57-04:00", "subject": "jbd2: fix typo in comment of journal_submit_inode_data_buffers", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "jbd2", "subsystems_touched": ["fs/jbd2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Theodore Ts'o <tytso@mit.edu> (Mit)"], "reviewed_by": ["Jan Kara <jack@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single-character typo fix in comment"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, comment-only change"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic review for trivial fix, no tests needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Self-initiated trivial fix"}}, "score_justification": "Typo fix in comment (dealyeddelayed), no runtime impact", "code_snippet": "@@ -184,7 +184,7 @@ static int journal_wait_on_commit_record(journal_t *journal,\n /*\n  * write the filemap data using writepage() address_space_operations.\n  * We don't do block allocation here even for delalloc. We don't\n- * use writepages() because with dealyed allocation we may be doing\n+ * use writepages() because with delayed allocation we may be doing\n  * block allocation in writepages().\n  */\n static int journal_submit_inode_data_buffers(struct address_space *mapping)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a49773064bc2284bf7fe57c3492897135f65a37c"}
{"commit_hash": "a8806581241b69b3ae3199f47412c04de854c53a", "short_hash": "a8806581241b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T22:59:54+08:00", "committer_name": "Bartosz Golaszewski", "committer_email": "bgolaszewski@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-05-31T09:02:27+02:00", "subject": "eeprom: at24: Remove set but not used variable 'addr'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc/eeprom", "subsystems_touched": ["drivers/misc/eeprom"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bartosz Golaszewski <bgolaszewski@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 6, "score_impact": 4, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change removing unused variable in EEPROM driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic review with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Baylibre maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in EEPROM driver", "code_snippet": "@@ -511,13 +511,11 @@ static int at24_make_dummy_client(struct at24_data *at24, unsigned int index,\n \t\t\t\t  struct regmap_config *regmap_config)\n {\n \tstruct i2c_client *base_client, *dummy_client;\n-\tunsigned short int addr;\n \tstruct regmap *regmap;\n \tstruct device *dev;\n \n \tbase_client = at24->client[0].client;\n \tdev = &base_client->dev;\n-\taddr = base_client->addr + index;\n \n \tdummy_client = devm_i2c_new_dummy_device(dev, base_client->adapter,\n \t\t\t\t\t\t base_client->addr + index);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a8806581241b69b3ae3199f47412c04de854c53a"}
{"commit_hash": "97545b10221ad14b046dba135a37f4e98a560697", "short_hash": "97545b10221a", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-05-30T23:55:53+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-05-31T16:11:02-03:00", "subject": "RDMA/hns: Bugfix for posting multiple srq work request", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 3, "insertions": 22, "deletions": 29, "hunks": 12, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium changes across 3 files in infiniband driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting SRQ work requests in specific driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with context, basic sign-off chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer, cross-company"}}, "score_justification": "Fixes bitmap handling bug for >32 SRQ work requests using proper kernel APIs", "code_snippet": "@@ -2340,15 +2340,10 @@ static void *get_srq_wqe(struct hns_roce_srq *srq, int n)\n \n static void hns_roce_free_srq_wqe(struct hns_roce_srq *srq, int wqe_index)\n {\n-\tu32 bitmap_num;\n-\tint bit_num;\n-\n \t/* always called with interrupts disabled. */\n \tspin_lock(&srq->lock);\n \n-\tbitmap_num = wqe_index / (sizeof(u64) * 8);\n-\tbit_num = wqe_index % (sizeof(u64) * 8);\n-\tsrq->idx_que.bitmap[bitmap_num] |= (1ULL << bit_num);\n+\tbitmap_clear(srq->idx_que.bitmap, wqe_index, 1);\n \tsrq->tail++;\n \n \tspin_unlock(&srq->lock);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97545b10221ad14b046dba135a37f4e98a560697"}
{"commit_hash": "8856ae4df3e9b5295ea2da7ad3b00796386454ec", "short_hash": "8856ae4df3e9", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T22:30:12-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-06-01T15:51:31-07:00", "subject": "kernel/fork.c: make max_threads symbol static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kernel/", "subsystems_touched": ["kernel/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -123,7 +123,7 @@\n unsigned long total_forks;\t/* Handle normal Linux uptimes. */\n int nr_threads;\t\t\t/* The idle threads do not count.. */\n \n-int max_threads;\t\t/* tunable limit on nr_threads */\n+static int max_threads;\t\t/* tunable limit on nr_threads */\n \n DEFINE_PER_CPU(unsigned long, process_counts) = 0;\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/8856ae4df3e9b5295ea2da7ad3b00796386454ec"}
{"commit_hash": "98af37d624ed8c83f1953b1b6b2f6866011fc064", "short_hash": "98af37d624ed", "author_name": "Zhenliang Wei", "author_email": "weizhenliang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T22:30:52-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-06-01T15:51:32-07:00", "subject": "kernel/signal.c: trace_signal_deliver when signal_group_exit", "primary_category": "BUG-REGRESSION", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cf43a757fd4944 (\"signal: Restore the stop PTRACE_EVENT_EXIT\")", "cc_stable": true, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/signal"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhenliang Wei <weizhenliang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Christian Brauner <christian@brauner.io> (Brauner)", "Oleg Nesterov <oleg@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 10, "score_impact": 20, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical kernel signal handling"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Regression fix with stable backport affecting debugging"}, "quality": {"review_chain": 8, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 16, "details": "Excellent review chain with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 1, "subtotal": 6, "details": "Cross-org patch accepted by Linus Torvalds"}}, "score_justification": "Regression fix adding missing tracepoint call in signal delivery path", "code_snippet": "@@ -2485,6 +2485,8 @@ bool get_signal(struct ksignal *ksig)\n \tif (signal_group_exit(signal)) {\n \t\tksig->info.si_signo = signr = SIGKILL;\n \t\tsigdelset(&current->pending.signal, SIGKILL);\n+\t\ttrace_signal_deliver(SIGKILL, SEND_SIG_NOINFO,\n+\t\t\t\t&sighand->action[SIGKILL - 1]);\n \t\trecalc_sigpending();\n \t\tgoto fatal;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/98af37d624ed8c83f1953b1b6b2f6866011fc064"}
{"commit_hash": "138f79db15eaa02cff713cbef25de416b1e16375", "short_hash": "138f79db15ea", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:13:04+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-02T00:02:42+02:00", "subject": "pinctrl: bcm2835: Fix build error without CONFIG_OF", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 0de704955ee4 (\"pinctrl: bcm2835: Add support for generic pinctrl binding\")", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/bcm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 10, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line Kconfig change in pinctrl subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build regression fix affecting compile configurations"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Has Fixes tag and build error evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, Linaro maintainer, robot report"}}, "score_justification": "Build fix for missing OF dependency in Kconfig, regression from earlier commit", "code_snippet": "@@ -18,7 +18,7 @@ config PINCTRL_BCM281XX\n \n config PINCTRL_BCM2835\n \tbool \"Broadcom BCM2835 GPIO (with PINCONF) driver\"\n-\tdepends on ARCH_BCM2835 || ARCH_BRCMSTB || COMPILE_TEST\n+\tdepends on OF && (ARCH_BCM2835 || ARCH_BRCMSTB || COMPILE_TEST)\n \tselect PINMUX\n \tselect PINCONF\n \tselect GENERIC_PINCONF\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/138f79db15eaa02cff713cbef25de416b1e16375"}
{"commit_hash": "2e1f164861e500f4e068a9d909bbd3fcc7841483", "short_hash": "2e1f164861e5", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T16:59:50+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-02T13:55:54-07:00", "subject": "net: hns: Fix loopback test failed at copper ports", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change (4 lines) in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes loopback test failure for Hisilicon NIC users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Reviewed-by tag, good explanation, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer David S. Miller committed"}}, "score_justification": "Race condition fix for loopback test in Hisilicon driver - adds msleep after PHY link adjustment", "code_snippet": "@@ -339,6 +339,7 @@ static int __lb_setup(struct net_device *ndev,\n static int __lb_up(struct net_device *ndev,\n \t\t   enum hnae_loop loop_mode)\n {\n+#define NIC_LB_TEST_WAIT_PHY_LINK_TIME 300\n \tstruct hns_nic_priv *priv = netdev_priv(ndev);\n \tstruct hnae_handle *h = priv->ae_handle;\n \tint speed, duplex;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e1f164861e500f4e068a9d909bbd3fcc7841483"}
{"commit_hash": "69fbb3f47327d959830c94bf31893972b8c8f700", "short_hash": "69fbb3f47327", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-30T03:25:49-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-03T07:20:49-04:00", "subject": "media: wl128x: Fix some error handling in fm_v4l2_init_video_device()", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/radio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 8, "score_impact": 17, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in media driver subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Use-after-free crash fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed KASAN report, good context, Reviewed-by present"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Cross-company with internal robot report"}}, "score_justification": "UAF crash fix with KASAN report, cross-company review", "code_snippet": "@@ -550,6 +550,7 @@ int fm_v4l2_init_video_device(struct fmdev *fmdev, int radio_nr)\n \n \t/* Register with V4L2 subsystem as RADIO device */\n \tif (video_register_device(&gradio_dev, VFL_TYPE_RADIO, radio_nr)) {\n+\t\tv4l2_device_unregister(&fmdev->v4l2_dev);\n \t\tfmerr(\"Could not register video device\\n\");\n \t\treturn -ENOMEM;\n \t}", "flags": ["HAS_ROBOT_REPORT"], "link": "https://lore.kernel.org/linux-kernel/69fbb3f47327d959830c94bf31893972b8c8f700"}
{"commit_hash": "036eb5c6d532a0fa1cea854814628be625809c4e", "short_hash": "036eb5c6d532", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T07:43:38Z", "committer_name": "Viresh Kumar", "committer_email": "viresh.kumar@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-03T11:26:38+05:30", "subject": "cpufreq: armada-37xx: Remove set but not used variable 'freq'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 1c3528232f4b (\"cpufreq: armada-37xx: Add AVS support\")", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small 2-line change in cpufreq driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Proper Fixes tag and warning explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer, cross-org"}}, "score_justification": "Compiler warning fix removing unused variable in cpufreq driver", "code_snippet": "@@ -257,7 +257,7 @@ static void __init armada37xx_cpufreq_avs_configure(struct regmap *base,\n static void __init armada37xx_cpufreq_avs_setup(struct regmap *base,\n \t\t\t\t\t\tstruct armada_37xx_dvfs *dvfs)\n {\n-\tunsigned int avs_val = 0, freq;\n+\tunsigned int avs_val = 0;\n \tint load_level = 0;\n \n \tif (base == NULL)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/036eb5c6d532a0fa1cea854814628be625809c4e"}
{"commit_hash": "d438e29891cbdc153aa64cdedcb6e8ae8b6a606c", "short_hash": "d438e29891cb", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "net: ethernet: mediatek: Add MT7629 ethernet support", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/mediatek"], "subsystem_tier": 3, "files_changed": 2, "insertions": 31, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 15, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium code change in important networking driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for specific SoC platform"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committed by networking maintainer"}}, "score_justification": "New ethernet support for MT7629 SoC in existing mediatek driver", "code_snippet": "@@ -54,8 +54,10 @@ static const struct mtk_ethtool_stats {\n };\n \n static const char * const mtk_clks_source_name[] = {\n-\t\"ethif\", \"esw\", \"gp0\", \"gp1\", \"gp2\", \"trgpll\", \"sgmii_tx250m\",\n-\t\"sgmii_rx250m\", \"sgmii_cdr_ref\", \"sgmii_cdr_fb\", \"sgmii_ck\", \"eth2pll\"\n+\t\"ethif\", \"sgmiitop\", \"esw\", \"gp0\", \"gp1\", \"gp2\", \"fe\", \"trgpll\",\n+\t\"sgmii_tx250m\", \"sgmii_rx250m\", \"sgmii_cdr_ref\", \"sgmii_cdr_fb\",\n+\t\"sgmii2_tx250m\", \"sgmii2_rx250m\", \"sgmii2_cdr_ref\", \"sgmii2_cdr_fb\",\n+\t\"sgmii_ck\", \"eth2pll\",\n };\n \n void mtk_w32(struct mtk_eth *eth, u32 val, unsigned reg)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d438e29891cbdc153aa64cdedcb6e8ae8b6a606c"}
{"commit_hash": "afdede615094924aadbf2ba1a9ce21a2f9d78722", "short_hash": "afdede615094", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "arm64: dts: mt7622: Enlarge the SGMII register range", "primary_category": "DT-FIX", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arch/arm64 DT"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 10, "details": "DT fix for specific platform NIC"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (MediaTek -> netdev)"}}, "score_justification": "Device tree fix enlarging SGMII register range for MediaTek mt7622", "code_snippet": "@@ -929,7 +929,8 @@ eth: ethernet@1b100000 {\n \tsgmiisys: sgmiisys@1b128000 {\n \t\tcompatible = \"mediatek,mt7622-sgmiisys\",\n \t\t\t     \"syscon\";\n-\t\treg = <0 0x1b128000 0 0x1000>;\n+\t\treg = <0 0x1b128000 0 0x3000>;\n \t\t#clock-cells = <1>;\n+\t\tmediatek,physpeed = \"2500\";\n \t};\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/afdede615094924aadbf2ba1a9ce21a2f9d78722"}
{"commit_hash": "7093f9d80c7cb82f47628d6477fd4dc252d21a10", "short_hash": "7093f9d80c7c", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "net: ethernet: mediatek: Integrate hardware path from GMAC to PHY variants", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/mediatek", "subsystems_touched": ["drivers/net/ethernet/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 450, "deletions": 69, "hunks": 28, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 14, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large change: 4 files, 28 hunks, +450-69 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement affecting MediaTek ethernet users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message structure, maintainer sign-off only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (MediaTek) and committer (different org) collaboration"}}, "score_justification": "Refactoring hardware path management for MediaTek ethernet driver", "code_snippet": "@@ -3,4 +3,5 @@\n # Makefile for the Mediatek SoCs built-in ethernet macs\n #\n \n-obj-$(CONFIG_NET_MEDIATEK_SOC)\t\t\t+= mtk_eth_soc.o mtk_sgmii.o\n+obj-$(CONFIG_NET_MEDIATEK_SOC)                 += mtk_eth_soc.o mtk_sgmii.o \\\n+\t\t\t\t\t\t  mtk_eth_path.o\ndiff --git a/drivers/net/ethernet/mediatek/mtk_eth_path.c b/drivers/net/ethernet/mediatek/mtk_eth_path.c\nnew file mode 100644\nindex 000000000000..61f705d945e5\n--- /dev/null\n+++ b/drivers/net/ethernet/mediatek/mtk_eth_path.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7093f9d80c7cb82f47628d6477fd4dc252d21a10"}
{"commit_hash": "3277fc683ae57f15b646b500c216e380821231c8", "short_hash": "3277fc683ae5", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "dt-bindings: net: mediatek: Add support for MediaTek MT7629 SoC", "primary_category": "DT-BINDING", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/net"], "subsystem_tier": 5, "files_changed": 1, "insertions": 12, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small change adding MT7629 binding documentation"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 11, "details": "New hardware support documentation for networking SoC"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, clear message, no tests for docs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, networking maintainer applied"}}, "score_justification": "DT binding documentation for new MediaTek MT7629 ethernet SoC support", "code_snippet": "@@ -11,6 +11,7 @@ Required properties:\n \t\t\"mediatek,mt2701-eth\": for MT2701 SoC\n \t\t\"mediatek,mt7623-eth\", \"mediatek,mt2701-eth\": for MT7623 SoC\n \t\t\"mediatek,mt7622-eth\": for MT7622 SoC\n+\t\t\"mediatek,mt7629-eth\": for MT7629 SoC\n - reg: Address and length of the register set for the device\n - interrupts: Should contain the three frame engines interrupts in numeric\n \torder. These are fe_int0, fe_int1 and fe_int2.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3277fc683ae57f15b646b500c216e380821231c8"}
{"commit_hash": "fa0e5158c26ea63e1ac45befeda4d03e02f00d44", "short_hash": "fa0e5158c26e", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "dt-bindings: clock: mediatek: Add an extra required property to sgmiisys", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Minimal 2-line addition to DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 8, "details": "Binding doc change affects hardware enablement"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with proper context, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "DT binding documentation change adding required property for MediaTek SGMII PHY speed configuration", "code_snippet": "@@ -9,6 +9,8 @@ Required Properties:\n \t- \"mediatek,mt7622-sgmiisys\", \"syscon\"\n \t- \"mediatek,mt7629-sgmiisys\", \"syscon\"\n - #clock-cells: Must be 1\n+- mediatek,physpeed: Should be one of \"auto\", \"1000\" or \"2500\" to match up\n+\t\t     the capability of the target PHY.\n \n The SGMIISYS controller uses the common clk binding from\n Documentation/devicetree/bindings/clock/clock-bindings.txt\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fa0e5158c26ea63e1ac45befeda4d03e02f00d44"}
{"commit_hash": "9ffee4a8276c734956b8eab19d1c9b0ecb6b79c5", "short_hash": "9ffee4a8276c", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:03:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:00:00-07:00", "subject": "net: ethernet: mediatek: Extend SGMII related functions", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/mediatek"], "subsystem_tier": 3, "files_changed": 4, "insertions": 184, "deletions": 37, "hunks": 34, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 14, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "4 files, 34 hunks, 184 insertions, 37 deletions in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Functional enhancement adding SGMII configuration options for specific driver"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clean commit with proper subsystem prefix, Signed-off-by tags, no external testing"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Mediatek, committed by networking maintainer David S. Miller"}}, "score_justification": "SGMII feature extension adding new file with PHY mode configuration options for Mediatek ethernet driver", "code_snippet": "@@ -3,4 +3,4 @@\n # Makefile for the Mediatek SoCs built-in ethernet macs\n #\n \n-obj-$(CONFIG_NET_MEDIATEK_SOC)\t\t\t+= mtk_eth_soc.o\n+obj-$(CONFIG_NET_MEDIATEK_SOC)\t\t\t+= mtk_eth_soc.o mtk_sgmii.o\ndiff --git a/drivers/net/ethernet/mediatek/mtk_eth_soc.c b/drivers/net/ethernet/mediatek/mtk_eth_soc.c\nindex f9fbb3ffa3a6..7ffb32ee9fae 100644\n--- a/drivers/net/ethernet/mediatek/mtk_eth_soc.c\n+++ b/drivers/net/ethernet/mediatek/mtk_eth_soc.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ffee4a8276c734956b8eab19d1c9b0ecb6b79c5"}
{"commit_hash": "880c2d4b2fdfd580ebcd6bb7240a8027a1d34751", "short_hash": "880c2d4b2fdf", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:16:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:04:07-07:00", "subject": "net: ethernet: mediatek: Use NET_IP_ALIGN to judge if HW RX_2BYTE_OFFSET is enabled", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Mark Lee <mark-mc.lee@mediatek.com> (MediaTek)", "Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 3-line change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for specific hardware driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic commit with Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "Logic fix for Mediatek ethernet driver RX alignment configuration", "code_snippet": "@@ -1778,6 +1778,7 @@ static void mtk_poll_controller(struct net_device *dev)\n \n static int mtk_start_dma(struct mtk_eth *eth)\n {\n+\tu32 rx_2b_offset = (NET_IP_ALIGN == 2) ? MTK_RX_2B_OFFSET : 0;\n \tint err;\n \n \terr = mtk_dma_init(eth);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/880c2d4b2fdfd580ebcd6bb7240a8027a1d34751"}
{"commit_hash": "9e4f56f1a7f3287718d0083b5cb85298dc05a5fd", "short_hash": "9e4f56f1a7f3", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-01T08:16:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:04:07-07:00", "subject": "net: ethernet: mediatek: Use hw_feature to judge if HWLRO is supported", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Mark Lee <mark-mc.lee@mediatek.com> (MediaTek)", "Sean Wang <sean.wang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (6 insertions, 6 deletions across 6 hunks)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic fix for LRO support check in MediaTek ethernet driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic explanation, single logical change, no external testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies (MediaTek vs net maintainer)"}}, "score_justification": "Logic fix using hw_features instead of features for HWLRO capability check", "code_snippet": "@@ -2298,13 +2298,13 @@ static int mtk_get_rxnfc(struct net_device *dev, struct ethtool_rxnfc *cmd,\n \n \tswitch (cmd->cmd) {\n \tcase ETHTOOL_GRXRINGS:\n-\t\tif (dev->features & NETIF_F_LRO) {\n+\t\tif (dev->hw_features & NETIF_F_LRO) {\n \t\t\tcmd->data = MTK_MAX_RX_RING_NUM;\n \t\t\tret = 0;\n \t\t}\n \t\tbreak;\n \tcase ETHTOOL_GRXCLSRLCNT:\n-\t\tif (dev->features & NETIF_F_LRO) {\n+\t\tif (dev->hw_features & NETIF_F_LRO) {\n \t\t\tstruct mtk_mac *mac = netdev_priv(dev);\n \n \t\t\tcmd->rule_cnt = mac->hwlro_ip_cnt;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e4f56f1a7f3287718d0083b5cb85298dc05a5fd"}
{"commit_hash": "bd8d7d9088289ba099721e7c696d988842b6cc24", "short_hash": "bd8d7d908828", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T16:06:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:11:05-07:00", "subject": "qed: Fix build error without CONFIG_DEVLINK", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 24e04879abdd (\"qed: Add qed devlink parameters table\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/qlogic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michal Kalderon<michal.kalderon@marvell.com> (Marvell)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 8, "score_impact": 11, "score_quality": 11, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single line Kconfig fix in network driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "Build regression fix for QED driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good review chain, clear message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Kconfig build dependency fix for QED driver with proper cross-org review", "code_snippet": "@@ -87,6 +87,7 @@ config QED\n \tdepends on PCI\n \tselect ZLIB_INFLATE\n \tselect CRC8\n+\tselect NET_DEVLINK\n \t---help---\n \t  This enables the support for ...\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bd8d7d9088289ba099721e7c696d988842b6cc24"}
{"commit_hash": "2e5a359e4a816c3a93db18e3789b5ec739f5ee18", "short_hash": "2e5a359e4a81", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T21:38:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-03T15:21:56+02:00", "subject": "usb: host: ohci-st: Remove set but not used variable 'ohci'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Patrice Chotard <patrice.chotard@st.com> (STMicroelectronics)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in USB host driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Acked-by maintainer, clear warning message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "Compiler warning fix removing unused variable in USB OHCI driver", "code_snippet": "@@ -132,7 +132,6 @@ static int st_ohci_platform_probe(struct platform_device *dev)\n \tstruct resource *res_mem;\n \tstruct usb_ohci_pdata *pdata = &ohci_platform_defaults;\n \tstruct st_ohci_platform_priv *priv;\n-\tstruct ohci_hcd *ohci;\n \tint err, irq, clk = 0;\n \n \tif (usb_disabled())", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e5a359e4a816c3a93db18e3789b5ec739f5ee18"}
{"commit_hash": "05387733ed57b6a971fc88f77cc6522eaafd46f2", "short_hash": "05387733ed57", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T21:45:29+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-03T15:21:56+02:00", "subject": "usb: host: ehci-st: Remove set but not used variable 'ehci'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Patrice Chotard <patrice.chotard@st.com> (STMicroelectronics)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line removal in USB host driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Acked-by, clear warning message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author@Huawei, committer@LinuxFoundation, reviewer@st.com"}}, "score_justification": "Remove unused variable to fix compiler warning in USB host driver", "code_snippet": "@@ -152,7 +152,6 @@ static int st_ehci_platform_probe(struct platform_device *dev)\n \tstruct resource *res_mem;\n \tstruct usb_ehci_pdata *pdata = &ehci_platform_defaults;\n \tstruct st_ehci_platform_priv *priv;\n-\tstruct ehci_hcd *ehci;\n \tint err, irq, clk = 0;\n \n \tif (usb_disabled())", "flags": ["FIXES_WARNING"], "link": "https://lore.kernel.org/linux-kernel/05387733ed57b6a971fc88f77cc6522eaafd46f2"}
{"commit_hash": "32adeab3e3b5bc01ebb7746600e7c734482230d7", "short_hash": "32adeab3e3b5", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T23:09:39+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-03T15:21:57+02:00", "subject": "usb: phy: mv-usb: Remove set but not used variable 'phy'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/phy"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line deletion in USB phy driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with Fixes tag and root cause"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in USB phy driver", "code_snippet": "@@ -401,7 +401,6 @@ static void mv_otg_update_state(struct mv_otg *mvotg)\n static void mv_otg_work(struct work_struct *work)\n {\n \tstruct mv_otg *mvotg;\n-\tstruct usb_phy *phy;\n \tstruct usb_otg *otg;\n \tint old_state;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32adeab3e3b5bc01ebb7746600e7c734482230d7"}
{"commit_hash": "53cdff30fc333718b6470c9604636b7b6f47542a", "short_hash": "53cdff30fc33", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:38:08+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-03T15:21:57+02:00", "subject": "USB: ohci-spear: Remove set but not used variable 'ohci'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -35,7 +35,6 @@ static struct hc_driver __read_mostly ohci_spear_hc_driver;\n static int spear_ohci_hcd_drv_probe(struct platform_device *pdev)\n {\n \tconst struct hc_driver *driver = &ohci_spear_hc_driver;\n-\tstruct ohci_hcd *ohci;\n \tstruct usb_hcd *hcd = NULL;\n \tstruct clk *usbh_clk;\n \tstruct spear_ohci *sohci_p;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/53cdff30fc333718b6470c9604636b7b6f47542a"}
{"commit_hash": "5a1d99b11b1b1fe249581e24d95208d3671f8f14", "short_hash": "5a1d99b11b1b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T21:43:05+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-03T15:21:57+02:00", "subject": "usb: ohci-s3c2410: Remove set but not used variable 'hcd'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Krzysztof Kozlowski <krzk@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in USB driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain and message quality"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation committer"}}, "score_justification": "Compiler warning fix removing unused variable in USB host driver", "code_snippet": "@@ -293,7 +293,6 @@ static int ohci_s3c2410_hub_control(\n static void s3c2410_hcd_oc(struct s3c2410_hcd_info *info, int port_oc)\n {\n \tstruct s3c2410_hcd_port *port;\n-\tstruct usb_hcd *hcd;\n \tunsigned long flags;\n \tint portno;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5a1d99b11b1b1fe249581e24d95208d3671f8f14"}
{"commit_hash": "00ea6e5fda9d2be1c6af50aa4ebdeecc3149a758", "short_hash": "00ea6e5fda9d", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: delay and separate enabling of NIC and ROCE HW errors", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 36, "deletions": 21, "hunks": 18, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 14, "score_quality": 9, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Driver-specific bug fix"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation, multiple sign-offs"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Same company, different maintainer"}}, "score_justification": "NIC driver bug fixing initialization order for HW error interrupts", "code_snippet": "@@ -8202,10 +8202,16 @@ static int hclge_init_nic_client_instance(struct hnae3_ae_dev *ae_dev,\n \tset_bit(HCLGE_STATE_NIC_REGISTERED, &hdev->state);\n \thnae3_set_client_init_flag(client, ae_dev, 1);\n \n+\t/* Enable nic hw error interrupts */\n+\tret = hclge_config_nic_hw_error(hdev, true);\n+\tif (ret)\n+\t\tdev_err(&ae_dev->pdev->dev,\n+\t\t\t\"fail(%d) to enable hw error interrupts\\n\", ret);\n+\n \tif (netif_msg_drv(&hdev->vport->nic))\n \t\thclge_info_show(hdev);\n \n-\treturn 0;\n+\treturn ret;\n }\n \n static int hclge_init_roce_client_instance(struct hnae3_ae_dev *ae_dev,", "flags": ["SAME_ORG_COMMIT"], "link": "https://lore.kernel.org/linux-kernel/00ea6e5fda9d2be1c6af50aa4ebdeecc3149a758"}
{"commit_hash": "7832f0bd9fa4bd2224be2f8be854315119523df1", "short_hash": "7832f0bd9fa4", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:21+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: add opcode about query and clear RAS & MSI-X to special opcode", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 5, "deletions": 17, "hunks": 18, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in NIC driver with 18 hunks across 2 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for RAS/MSI-X interrupt handling affecting hns3 users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with clear explanation, internal review only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, net maintainer David S. Miller merged"}}, "score_justification": "Fixes incorrect NEXT_FLAG handling for RAS/MSI-X commands in hns3 driver", "code_snippet": "@@ -173,7 +173,11 @@ static bool hclge_is_special_opcode(u16 opcode)\n \t\t\t     HCLGE_OPC_STATS_MAC,\n \t\t\t     HCLGE_OPC_STATS_MAC_ALL,\n \t\t\t     HCLGE_OPC_QUERY_32_BIT_REG,\n-\t\t\t     HCLGE_OPC_QUERY_64_BIT_REG};\n+\t\t\t     HCLGE_OPC_QUERY_64_BIT_REG,\n+\t\t\t     HCLGE_QUERY_CLEAR_MPF_RAS_INT,\n+\t\t\t     HCLGE_QUERY_CLEAR_PF_RAS_INT,\n+\t\t\t     HCLGE_QUERY_CLEAR_ALL_MPF_MSIX_INT,\n+\t\t\t     HCLGE_QUERY_CLEAR_ALL_PF_MSIX_INT};\n \tint i;\n \n \tfor (i = 0; i < ARRAY_SIZE(spec_opcode); i++) {\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\nindex 83b07cef4d50..b4a7e6a40605 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7832f0bd9fa4bd2224be2f8be854315119523df1"}
{"commit_hash": "36701aee36f99a9a8036a4aa3dc909ba81192f52", "short_hash": "36701aee36f9", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: remove setting bit of reset_requests when handling mac tunnel interrupts", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single line deletion in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes incorrect reset request handling in driver"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, minimal message explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Removes incorrect bit set during MSI-X error handling that could cause reset issues", "code_snippet": "@@ -1783,7 +1783,6 @@ int hclge_handle_hw_msix_error(struct hclge_dev *hdev,\n \t\tret = hclge_clear_mac_tnl_int(hdev);\n \t\tif (ret)\n \t\t\tdev_err(dev, \"clear mac tnl int failed (%d)\\n\", ret);\n-\t\tset_bit(HNAE3_NONE_RESET, reset_requests);\n \t}\n \n msi_error:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/36701aee36f99a9a8036a4aa3dc909ba81192f52"}
{"commit_hash": "6aa5d07d83f44e72bf6e01e539bb81316bbf0fac", "short_hash": "6aa5d07d83f4", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: add handling of two bits in MAC tunnel interrupts", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with context, same-company review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Maintainer committed, single org"}}, "score_justification": "Interrupt storm fix for Hisilicon HNS3 driver, expands MAC tunnel interrupt mask", "code_snippet": "@@ -1053,7 +1053,7 @@ static void hclge_dbg_dump_mac_tnl_status(struct hclge_dev *hdev)\n \n \twhile (kfifo_get(&hdev->mac_tnl_log, &stats)) {\n \t\trem_nsec = do_div(stats.time, HCLGE_BILLION_NANO_SECONDS);\n-\t\tdev_info(&hdev->pdev->dev, \"[%07lu.%03lu]status = 0x%x\\n\",\n+\t\tdev_info(&hdev->pdev->dev, \"[%07lu.%03lu] status = 0x%x\\n\",\n \t\t\t (unsigned long)stats.time, rem_nsec / 1000,\n \t\t\t stats.status);\n \t}\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\nindex 9645590c9294..c56b11e7451d 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6aa5d07d83f44e72bf6e01e539bb81316bbf0fac"}
{"commit_hash": "594a81b39525f0a17e92c2e0b167ae1400650380", "short_hash": "594a81b39525", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: set ops to null when unregister ad_dev", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 38caee9d3ee8 (\"net: hns3: Add support of the HNAE3 framework\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line change in driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Use-after-free race with Fixes tag but no stable"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag + good explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, net maintainer David Miller merged"}}, "score_justification": "Use-after-free race in hns3 driver when modules unload independently", "code_snippet": "@@ -251,6 +251,7 @@ void hnae3_unregister_ae_algo(struct hnae3_ae_algo *ae_algo)\n \n \t\tae_algo->ops->uninit_ae_dev(ae_dev);\n \t\thnae3_set_bit(ae_dev->flag, HNAE3_DEV_INITED_B, 0);\n+\t\tae_dev->ops = NULL;\n \t}\n \n \tlist_del(&ae_algo->node);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/594a81b39525f0a17e92c2e0b167ae1400650380"}
{"commit_hash": "661262bc3e0ecc9a1aed39c6b2a99766da2c22e2", "short_hash": "661262bc3e0e", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-03T10:09:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: add a check to pointer in error_detected and slot_reset", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in specific driver with low subsystem criticality"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix affecting Hisilicon network driver users with NULL pointer dereference"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple signed-offs, good explanation of root cause and fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Hisilicon, committer from different org (kernel maintainer)"}}, "score_justification": "NULL pointer dereference fix in PCIe AER error handling for Hisilicon HNS3 driver", "code_snippet": "@@ -1920,9 +1920,9 @@ static pci_ers_result_t hns3_error_detected(struct pci_dev *pdev,\n \tif (state == pci_channel_io_perm_failure)\n \t\treturn PCI_ERS_RESULT_DISCONNECT;\n \n-\tif (!ae_dev) {\n+\tif (!ae_dev || !ae_dev->ops) {\n \t\tdev_err(&pdev->dev,\n-\t\t\t\"Can't recover - error happened during device init\\n\");\n+\t\t\t\"Can't recover - error happened before device initialized\\n\");\n \t\treturn PCI_ERS_RESULT_NONE;\n \t}\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/661262bc3e0ecc9a1aed39c6b2a99766da2c22e2"}
{"commit_hash": "d9ea156297b7c2db49bf3cda11043a5ce410142f", "short_hash": "d9ea156297b7", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-03T10:09:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: set the port shaper according to MAC speed", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review from same org"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer"}}, "score_justification": "Driver logic fix to use actual MAC speed instead of max rate constant for port shaper configuration", "code_snippet": "@@ -397,7 +397,7 @@ static int hclge_tm_port_shaper_cfg(struct hclge_dev *hdev)\n \tu8 ir_u, ir_b, ir_s;\n \tint ret;\n \n-\tret = hclge_shaper_para_calc(HCLGE_ETHER_MAX_RATE,\n+\tret = hclge_shaper_para_calc(hdev->hw.mac.speed,\n \t\t\t\t     HCLGE_SHAPER_LVL_PORT,\n \t\t\t\t     &ir_b, &ir_u, &ir_s);\n \tif (ret)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9ea156297b7c2db49bf3cda11043a5ce410142f"}
{"commit_hash": "81a9255e476e556f9d3ed1b53d85904882c29555", "short_hash": "81a9255e476e", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-03T10:09:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: don't configure new VLAN ID into VF VLAN table when it's full", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "Fixes: 6c251711b37f (\"net: hns3: Disable vf vlan filter when vf vlan table is full\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 9, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 15, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small targeted change in network driver with 8 hunks across 2 files"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Fixes VF reset timeout affecting Hisilicon NIC users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good explanation with Fixes tag, 4 S-o-b including maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged, no external report"}}, "score_justification": "Driver fix preventing VF reset timeout when VLAN table full", "code_snippet": "@@ -7025,6 +7025,12 @@ static int hclge_set_vf_vlan_common(struct hclge_dev *hdev, int vfid,\n \tu8 vf_byte_off;\n \tint ret;\n \n+\t/* if vf vlan table is full, firmware will close vf vlan filter, it\n+\t * is unable and unnecessary to add new vlan id to vf vlan filter\n+\t */\n+\tif (test_bit(vfid, hdev->vf_vlan_full) && !is_kill)\n+\t\treturn 0;\n+\n \thclge_cmd_setup_basic_desc(&desc[0],\n \t\t\t\t   HCLGE_OPC_VLAN_FILTER_VF_CFG, false);\n \thclge_cmd_setup_basic_desc(&desc[1],", "flags": [], "link": "https://lore.kernel.org/linux-kernel/81a9255e476e556f9d3ed1b53d85904882c29555"}
{"commit_hash": "b524b38ff6320f58f5d0e95640eec82fae850887", "short_hash": "b524b38ff632", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-03T10:09:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: fix VLAN filter restore issue after reset", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 681ec3999b3d (\"net: hns3: fix for vlan table lost problem when resetting\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 43, "deletions": 37, "hunks": 18, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 16, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "4 files, 18 hunks, 80 lines in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for VLAN filter in Hisilicon NIC"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear Fixes tag, good context, no external testing"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, David Miller maintainer commit"}}, "score_justification": "VLAN filter regression fix for Hisilicon hns3 driver affecting VF after reset", "code_snippet": "@@ -1548,15 +1548,11 @@ static int hns3_vlan_rx_add_vid(struct net_device *netdev,\n \t\t\t\t__be16 proto, u16 vid)\n {\n \tstruct hnae3_handle *h = hns3_get_handle(netdev);\n-\tstruct hns3_nic_priv *priv = netdev_priv(netdev);\n \tint ret = -EIO;\n \n \tif (h->ae_algo->ops->set_vlan_filter)\n \t\tret = h->ae_algo->ops->set_vlan_filter(h, proto, vid, false);\n \n-\tif (!ret)\n-\t\tset_bit(vid, priv->active_vlans);\n-\n \treturn ret;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b524b38ff6320f58f5d0e95640eec82fae850887"}
{"commit_hash": "56b5866168f0b92173aadab4ac0f6d38696f7047", "short_hash": "56b5866168f0", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-03T10:09:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-03T15:32:50-07:00", "subject": "net: hns3: remove redundant core reset", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 12, "deletions": 41, "hunks": 16, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 10, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change across 3 files in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification for hns3 driver users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple sign-offs, brief explanation, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Removes redundant core reset type, replaces with global reset in hns3 driver", "code_snippet": "@@ -154,7 +154,6 @@ enum hnae3_reset_type {\n \tHNAE3_VF_FULL_RESET,\n \tHNAE3_FLR_RESET,\n \tHNAE3_FUNC_RESET,\n-\tHNAE3_CORE_RESET,\n \tHNAE3_GLOBAL_RESET,\n \tHNAE3_IMP_RESET,\n \tHNAE3_UNKNOWN_RESET,\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\nindex 4ac80634c984..55c4a1b5e2b1 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/56b5866168f0b92173aadab4ac0f6d38696f7047"}
{"commit_hash": "a6b112b04355b87a2baee448165bd00889ac523f", "short_hash": "a6b112b04355", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-10T11:52:55+08:00", "committer_name": "Tero Kristo", "committer_email": "t-kristo@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-06-04T12:43:21+03:00", "subject": "arm64: arch_k3: Fix kconfig dependency warning", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 009669e74813 (\"arm64: arch_k3: Enable interrupt controller drivers\")", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tero Kristo <t-kristo@ti.com> (Texas Instruments)"], "reviewed_by": ["Lokesh Vutla <lokeshvutla@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 12, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical arch/arm64 subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build warning fix with Fixes tag, affects K3 platform"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Cross-org review, good message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from TI"}}, "score_justification": "Kconfig dependency fix for ARCH_K3 build warning", "code_snippet": "@@ -88,6 +88,7 @@ config ARCH_K3\n \tbool \"Texas Instruments Inc. K3 multicore SoC architecture\"\n \tselect PM_GENERIC_DOMAINS if PM\n \tselect MAILBOX\n+\tselect SOC_TI\n \tselect TI_MESSAGE_MANAGER\n \tselect TI_SCI_PROTOCOL\n \tselect TI_SCI_INTR_IRQCHIP\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a6b112b04355b87a2baee448165bd00889ac523f"}
{"commit_hash": "9a83c84c3a491cbe7fc9dea3c43e26a8e67204d2", "short_hash": "9a83c84c3a49", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-28T10:16:53+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-06-04T13:42:54+01:00", "subject": "drivers: base: cacheinfo: Add variable to record max cache line size", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/base"], "subsystem_tier": 4, "files_changed": 2, "insertions": 7, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["Sudeep Holla <sudeep.holla@arm.com> (ARM)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 14, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small addition in drivers/base subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for cache info handling"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Two Reviewed-by tags, clear message body"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Adds coherency_max_size variable to track max cache line size across levels", "code_snippet": "@@ -251,6 +253,9 @@ static int cache_shared_cpu_map_setup(unsigned int cpu)\n \t\t\t\tcpumask_set_cpu(i, &this_leaf->shared_cpu_map);\n \t\t\t}\n \t\t}\n+\t\t/* record the maximum cache line size */\n+\t\tif (this_leaf->coherency_line_size > coherency_max_size)\n+\t\t\tcoherency_max_size = this_leaf->coherency_line_size;\n \t}\n \n \treturn 0;\ndiff --git a/include/linux/cacheinfo.h b/include/linux/cacheinfo.h\nindex 70e19bc6cc9f..46b92cd61d0c 100644\n--- a/include/linux/cacheinfo.h\n+++ b/include/linux/cacheinfo.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a83c84c3a491cbe7fc9dea3c43e26a8e67204d2"}
{"commit_hash": "7b8c87b297a7c1b3badabc1d054b6e0b758952df", "short_hash": "7b8c87b297a7", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-28T10:16:54+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-06-04T13:47:35+01:00", "subject": "arm64: cacheinfo: Update cache_line_size detected from DT or PPTT", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64"], "subsystem_tier": 2, "files_changed": 2, "insertions": 12, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["Sudeep Holla <sudeep.holla@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": ["Zhenfa Qiu <qiuzhenfa@hisilicon.com> (HiSilicon)"]}, "score_total": 45, "score_technical": 10, "score_impact": 16, "score_quality": 12, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical arm64 architecture code"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Performance-correctness fix affecting I/O performance"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good review chain with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org collaboration with maintainer sign-off"}}, "score_justification": "Fixes incorrect cache line size reporting on HiSilicon Kunpeng920, impacting I/O performance", "code_snippet": "@@ -91,11 +91,7 @@ static inline u32 cache_type_cwg(void)\n \n #define __read_mostly __attribute__((__section__(\".data..read_mostly\")))\n \n-static inline int cache_line_size(void)\n-{\n-\tu32 cwg = cache_type_cwg();\n-\treturn cwg ? 4 << cwg : ARCH_DMA_MINALIGN;\n-}\n+int cache_line_size(void);\n \n /*\n  * Read the effective value of CTR_EL0.\ndiff --git a/arch/arm64/kernel/cacheinfo.c b/arch/arm64/kernel/cacheinfo.c\nindex 0bf0a835122f..0c0cd4d26b87 100644\n--- a/arch/arm64/kernel/cacheinfo.c\n+++ b/arch/arm64/kernel/cacheinfo.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7b8c87b297a7c1b3badabc1d054b6e0b758952df"}
{"commit_hash": "0c1f14ed12262f45a3af1d588e4d7bd12438b8f5", "short_hash": "0c1f14ed1226", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-29T00:08:20+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-06-04T13:58:28+01:00", "subject": "arm64: mm: make CONFIG_ZONE_DMA32 configurable", "primary_category": "FEAT-FUNC", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64"], "subsystem_tier": 2, "files_changed": 2, "insertions": 5, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical arch/arm64 memory subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Config option enhancement affecting ARM64 SoCs"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with v2 changes noted, maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "MediaTek author, ARM maintainer committer"}}, "score_justification": "ARM64 DMA32 zone configuration feature with build fix", "code_snippet": "@@ -260,7 +260,8 @@ config GENERIC_CALIBRATE_DELAY\n \tdef_bool y\n \n config ZONE_DMA32\n-\tdef_bool y\n+\tbool \"Support DMA32 zone\" if EXPERT\n+\tdefault y\n \n config HAVE_GENERIC_GUP\n \tdef_bool y\ndiff --git a/arch/arm64/mm/init.c b/arch/arm64/mm/init.c\nindex d2adffb81b5d..f643bd45ff69 100644\n--- a/arch/arm64/mm/init.c\n+++ b/arch/arm64/mm/init.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c1f14ed12262f45a3af1d588e4d7bd12438b8f5"}
{"commit_hash": "2e6aee5af330e8b4ccfdfcdb3fedcb385d052d78", "short_hash": "2e6aee5af330", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2019-06-01T10:08:08+08:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-06-04T14:51:01+01:00", "subject": "arm64: kernel: use aff3 instead of aff2 in comment", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single character fix in comment"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Comment-only typo fix"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Minimal commit, signed off by maintainer"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author from ZTE, committed by Arm maintainer"}}, "score_justification": "Comment typo fix (aff2aff3), trivial impact, cross-org review", "code_snippet": "@@ -27,7 +27,7 @@\n  *\taff0 = mpidr_masked & 0xff;\n  *\taff1 = mpidr_masked & 0xff00;\n  *\taff2 = mpidr_masked & 0xff0000;\n- *\taff2 = mpidr_masked & 0xff00000000;\n+ *\taff3 = mpidr_masked & 0xff00000000;\n  *\tdst = (aff0 >> rs0 | aff1 >> rs1 | aff2 >> rs2 | aff3 >> rs3);\n  *}\n  * Input registers: rs0, rs1, rs2, rs3, mpidr, mask\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2e6aee5af330e8b4ccfdfcdb3fedcb385d052d78"}
{"commit_hash": "1e0071819400205894c034174f7c4627820ca64e", "short_hash": "1e0071819400", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-04T01:16:08Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-04T14:51:46-07:00", "subject": "hinic: add LRO support", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 10, "insertions": 348, "deletions": 13, "hunks": 56, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Jesse Brandeburg <jesse.brandeburg@intel.com> (Intel)", "Jesse Brandeburg <jesse.brandeburg@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": ["kbuild test robot <lkp@intel.com> (Intel)"]}, "score_total": 47, "score_technical": 14, "score_impact": 18, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large feature (10 files, 56 hunks, +348/-13) in network driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance feature for specific driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, basic message, no test evidence"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author + Intel reviewer + kernel.org maintainer"}}, "score_justification": "Large LRO feature addition to HiNIC driver with cross-company review", "code_snippet": "@@ -313,6 +313,8 @@ static int set_hw_ioctxt(struct hinic_hwdev *hwdev, unsigned int rq_depth,\n \thw_ioctxt.set_cmdq_depth = HW_IOCTXT_SET_CMDQ_DEPTH_DEFAULT;\n \thw_ioctxt.cmdq_depth = 0;\n \n+\thw_ioctxt.lro_en = 1;\n+\n \thw_ioctxt.rq_depth  = ilog2(rq_depth);\n \n \thw_ioctxt.rx_buf_sz_idx = HINIC_RX_BUF_SZ_IDX;\ndiff --git a/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h b/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h\nindex c9e621e19dd0..fba4fe82472a 100644\n--- a/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h\n+++ b/drivers/net/ethernet/huawei/hinic/hinic_hw_dev.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1e0071819400205894c034174f7c4627820ca64e"}
{"commit_hash": "31885a8dad16a319a394d82807c3b708882b50a1", "short_hash": "31885a8dad16", "author_name": "xiaolinkui", "author_email": "xiaolinkui@kylinos.cn", "author_company": "Kylin", "author_date": "2019-05-17T15:15:17+08:00", "committer_name": "Heiko Carstens", "committer_email": "heiko.carstens@de.ibm.com", "committer_company": "IBM", "commit_date": "2019-06-04T15:03:18+02:00", "subject": "s390/idal: use struct_size() in kmalloc()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "s390", "subsystems_touched": ["arch/s390"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["xiaolinkui <xiaolinkui@kylinos.cn> (Kylin)", "Heiko Carstens <heiko.carstens@de.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 8, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical s390 architecture code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic clean commit with self-signoff"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from KylinOS to IBM maintainer"}}, "score_justification": "API migration to struct_size() helper in s390 arch code", "code_snippet": "@@ -122,8 +122,7 @@ idal_buffer_alloc(size_t size, int page_order)\n \n \tnr_ptrs = (size + IDA_BLOCK_SIZE - 1) >> IDA_SIZE_LOG;\n \tnr_chunks = (4096 << page_order) >> IDA_SIZE_LOG;\n-\tib = kmalloc(sizeof(struct idal_buffer) + nr_ptrs*sizeof(void *),\n-\t\t     GFP_DMA | GFP_KERNEL);\n+\tib = kmalloc(struct_size(ib, data, nr_ptrs), GFP_DMA | GFP_KERNEL);\n \tif (ib == NULL)\n \t\treturn ERR_PTR(-ENOMEM);\n \tib->size = size;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31885a8dad16a319a394d82807c3b708882b50a1"}
{"commit_hash": "190d9e0332ab43b28cbb1856fc73ed7fafbfad7c", "short_hash": "190d9e0332ab", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:32:04+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-04T15:10:31+01:00", "subject": "ASoC: cx2072x: remove set but not used variable 'is_right_j '", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Takashi Iwai <tiwai@suse.de> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change removing unused variable in codec driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact or stable backport"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by from SUSE, proper warning citation, clean scope"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org committer, SUSE reviewer"}}, "score_justification": "Compiler warning fix removing unused variable in ASoC codec driver with cross-org review.", "code_snippet": "@@ -676,7 +676,6 @@ static int cx2072x_config_i2spcm(struct cx2072x_priv *cx2072x)\n \tunsigned int bclk_rate = 0;\n \tint is_i2s = 0;\n \tint has_one_bit_delay = 0;\n-\tint is_right_j = 0;\n \tint is_frame_inv = 0;\n \tint is_bclk_inv = 0;\n \tint pulse_len;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/190d9e0332ab43b28cbb1856fc73ed7fafbfad7c"}
{"commit_hash": "52194513ba1388443a067cee9606d6fe27e7650e", "short_hash": "52194513ba13", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T23:04:37+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-04T15:11:04+01:00", "subject": "ASoC: mediatek: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/mediatek"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in audio driver (tier 3)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Reported-by, proper explanation, no external testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from kernel.org, different orgs"}}, "score_justification": "Sparse warning fix adding static to 3 functions in MediaTek audio driver", "code_snippet": "@@ -407,11 +407,11 @@ static int mtk_btcvsd_read_from_bt(struct mtk_btcvsd_snd *bt,\n \treturn 0;\n }\n \n-int mtk_btcvsd_write_to_bt(struct mtk_btcvsd_snd *bt,\n-\t\t\t   enum bt_sco_packet_len packet_type,\n-\t\t\t   unsigned int packet_length,\n-\t\t\t   unsigned int packet_num,\n-\t\t\t   unsigned int blk_size)\n+static int mtk_btcvsd_write_to_bt(struct mtk_btcvsd_snd *bt,\n+\t\t\t\t  enum bt_sco_packet_len packet_type,\n+\t\t\t\t  unsigned int packet_length,\n+\t\t\t\t  unsigned int packet_num,\n+\t\t\t\t  unsigned int blk_size)\n {\n \tunsigned int i;\n \tunsigned long flags;", "flags": ["SPARSE_WARNING"], "link": "https://lore.kernel.org/linux-kernel/52194513ba1388443a067cee9606d6fe27e7650e"}
{"commit_hash": "ad169f9f0dbb531cd68db921b351ccafcf684ae4", "short_hash": "ad169f9f0dbb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T22:25:26+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-04T15:30:22+01:00", "subject": "ASoC: SOF: Intel: hda: Fix COMPILE_TEST build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e13ef82a9ab8 (\"ASoC: SOF: add COMPILE_TEST for PCI options\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/sof/intel"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in audio subsystem with PCI config guards"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build fix for COMPILE_TEST, limited developer impact"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag, Reviewed-by, test report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org: Huawei->Intel, internal robot report"}}, "score_justification": "Build fix for undefined reference when PCI disabled in COMPILE_TEST config", "code_snippet": "@@ -227,7 +227,9 @@ static int hda_init(struct snd_sof_dev *sdev)\n \n \t/* initialise hdac bus */\n \tbus->addr = pci_resource_start(pci, 0);\n+#if IS_ENABLED(CONFIG_PCI)\n \tbus->remap_addr = pci_ioremap_bar(pci, 0);\n+#endif\n \tif (!bus->remap_addr) {\n \t\tdev_err(bus->dev, \"error: ioremap error\\n\");\n \t\treturn -ENXIO;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad169f9f0dbb531cd68db921b351ccafcf684ae4"}
{"commit_hash": "cbc0fa7b6e8c6180c18fd951d28197281a526330", "short_hash": "cbc0fa7b6e8c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T16:51:44+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-04T15:30:39+01:00", "subject": "ASoC: da7219: Fix build error without CONFIG_I2C", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6d817c0e9fd7 (\"ASoC: codecs: Add da7219 codec driver\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 8, "score_impact": 12, "score_quality": 10, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 2 hunks, 2 lines changed in audio subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix with Fixes tag, affects audio driver users"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag + Reported-by, clear error messages, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, kernel.org maintainer, Hulk Robot report"}}, "score_justification": "Kconfig dependency fix adding I2C dependency to resolve build errors", "code_snippet": "@@ -132,7 +132,7 @@ config SND_SOC_MT8183_MT6358_TS3A227E_MAX98357A\n \n config SND_SOC_MT8183_DA7219_MAX98357A\n \ttristate \"ASoC Audio driver for MT8183 with DA7219 MAX98357A codec\"\n-\tdepends on SND_SOC_MT8183\n+\tdepends on SND_SOC_MT8183 && I2C\n \tselect SND_SOC_MT6358\n \tselect SND_SOC_MAX98357A\n \tselect SND_SOC_DA7219\n", "flags": ["REPORTED_BY_EXTERNAL"], "link": "https://lore.kernel.org/linux-kernel/cbc0fa7b6e8c6180c18fd951d28197281a526330"}
{"commit_hash": "84ea3acaa01fb90861b341038998e27a5198e1a0", "short_hash": "84ea3acaa01f", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-20T16:18:05+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:27:28+02:00", "subject": "KVM: LAPIC: Extract adaptive tune timer advancement logic", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 33, "deletions": 24, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small refactor in critical KVM subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code restructuring with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Basic review, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, different maintainer"}}, "score_justification": "KVM LAPIC timer advancement logic extracted to separate function, pure refactoring", "code_snippet": "@@ -1501,11 +1501,40 @@ static inline void __wait_lapic_expire(struct kvm_vcpu *vcpu, u64 guest_cycles)\n \t}\n }\n \n-void wait_lapic_expire(struct kvm_vcpu *vcpu)\n+static inline void adjust_lapic_timer_advance(struct kvm_vcpu *vcpu,\n+\t\t\t\t\t      u64 guest_tsc, u64 tsc_deadline)\n {\n \tstruct kvm_lapic *apic = vcpu->arch.apic;\n \tu32 timer_advance_ns = apic->lapic_timer.timer_advance_ns;\n-\tu64 guest_tsc, tsc_deadline, ns;\n+\tu64 ns;\n+\n+\t/* too early */\n+\tif (guest_tsc < tsc_deadline) {\n+\t\tns = (tsc_deadline - guest_tsc) * 1000000ULL;\n+\t\tdo_div(ns, vcpu->arch.virtual_tsc_khz);\n+\t\ttimer_advance_ns -= min((u32)ns,\n+\t\t\ttimer_advance_ns / LAPIC_TIMER_ADVANCE_ADJUST_STEP);\n+\t} else {", "flags": ["REFACTOR_EXTRACT"], "link": "https://lore.kernel.org/linux-kernel/84ea3acaa01fb90861b341038998e27a5198e1a0"}
{"commit_hash": "ec0671d5684aca3326269439398e47790f1c6e7e", "short_hash": "ec0671d5684a", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-20T16:18:08+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:27:29+02:00", "subject": "KVM: LAPIC: Delay trace_kvm_wait_lapic_expire tracepoint to after vmexit", "primary_category": "BUG-LOGIC", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 3, "insertions": 15, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 14, "score_impact": 14, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "Medium change in critical KVM subsystem with 8 hunks across 3 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "RCU quiescent state violation fix affecting VM users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with context and references, 2 reviewers from different orgs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Author from Tencent, committer from RedHat, references prior discussion"}}, "score_justification": "RCU extended quiescent state violation fix in KVM LAPIC tracing, moving tracepoint after vmexit", "code_snippet": "@@ -1502,27 +1502,27 @@ static inline void __wait_lapic_expire(struct kvm_vcpu *vcpu, u64 guest_cycles)\n }\n \n static inline void adjust_lapic_timer_advance(struct kvm_vcpu *vcpu,\n-\t\t\t\t\t      u64 guest_tsc, u64 tsc_deadline)\n+\t\t\t\t\t      s64 advance_expire_delta)\n {\n \tstruct kvm_lapic *apic = vcpu->arch.apic;\n \tu32 timer_advance_ns = apic->lapic_timer.timer_advance_ns;\n \tu64 ns;\n \n \t/* too early */\n-\tif (guest_tsc < tsc_deadline) {\n-\t\tns = (tsc_deadline - guest_tsc) * 1000000ULL;\n+\tif (advance_expire_delta < 0) {\n+\t\tns = -advance_expire_delta * 1000000ULL;\n \t\tdo_div(ns, vcpu->arch.virtual_tsc_khz);\n \t\ttimer_advance_ns -= min((u32)ns,\n \t\t\ttimer_advance_ns / LAPIC_TIMER_ADVANCE_ADJUST_STEP);\n \t} else {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec0671d5684aca3326269439398e47790f1c6e7e"}
{"commit_hash": "b6c4bc659c6f3b7f2b6c3a330ae36f1cfd69d73e", "short_hash": "b6c4bc659c6f", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-20T16:18:09+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:27:30+02:00", "subject": "KVM: LAPIC: Optimize timer latency further", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 5, "insertions": 11, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Sean Christopherson <sean.j.christopherson@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 18, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "5 files, 12 hunks, small change in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization for KVM latency, 40% reduction measured"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Has Reviewed-by, good message with measurements, tested on kvm-unit-tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Tencent, committer from Red Hat, different companies"}}, "score_justification": "KVM LAPIC timer latency optimization reducing 40% latency by advancing timer closer to vmentry", "code_snippet": "@@ -5643,6 +5643,10 @@ static void svm_vcpu_run(struct kvm_vcpu *vcpu)\n \tclgi();\n \tkvm_load_guest_xcr0(vcpu);\n \n+\tif (lapic_in_kernel(vcpu) &&\n+\t\tvcpu->arch.apic->lapic_timer.timer_advance_ns)\n+\t\tkvm_wait_lapic_expire(vcpu);\n+\n \t/*\n \t * If this vCPU has touched SPEC_CTRL, restore the guest's value if\n \t * it's non-zero. Since vmentry is serialising on affected CPUs, there\ndiff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.c\nindex b93e36ddee5e..b35b3800a3c0 100644\n--- a/arch/x86/kvm/vmx/vmx.c\n+++ b/arch/x86/kvm/vmx/vmx.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6c4bc659c6f3b7f2b6c3a330ae36f1cfd69d73e"}
{"commit_hash": "8ffdaa7f491961efb4d02d3c8d806e9a60105adb", "short_hash": "8ffdaa7f4919", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-21T14:06:52+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:27:33+02:00", "subject": "KVM: Documentation: Add disable pause exits to KVM_CAP_X86_DISABLE_EXITS", "primary_category": "DOC-API", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b31c114b (\"KVM: X86: Provide a capability to disable PAUSE intercepts\")", "cc_stable": false, "subsystem_prefix": "Documentation/virtual/kvm", "subsystems_touched": ["Documentation/virtual/kvm"], "subsystem_tier": 6, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 2, "score_impact": 7, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "1 line added to documentation file"}, "impact": {"category_base": 4, "stable_lts": 2, "user_impact": 1, "novelty": 0, "subtotal": 7, "details": "API documentation fix for existing feature"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with Fixes tag referencing original commit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Tencent author, Red Hat maintainer committer"}}, "score_justification": "Documentation fix adding missing API constant definition for KVM pause exits capability", "code_snippet": "@@ -4893,6 +4893,7 @@ Valid bits in args[0] are\n \n #define KVM_X86_DISABLE_EXITS_MWAIT            (1 << 0)\n #define KVM_X86_DISABLE_EXITS_HLT              (1 << 1)\n+#define KVM_X86_DISABLE_EXITS_PAUSE            (1 << 2)\n \n Enabling this capability on a VM provides userspace with a way to no\n longer intercept some instructions for improved latency in some\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ffdaa7f491961efb4d02d3c8d806e9a60105adb"}
{"commit_hash": "b51700632e0e53254733ff706e5bdca22d19dbe5", "short_hash": "b51700632e0e", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-21T14:06:53+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:27:35+02:00", "subject": "KVM: X86: Provide a capability to disable cstate msr read intercepts", "primary_category": "FEAT-API", "secondary_categories": ["DOC-API", "FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm", "Documentation/virtual", "include/uapi"], "subsystem_tier": 2, "files_changed": 7, "insertions": 23, "deletions": 3, "hunks": 16, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 17, "score_impact": 19, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 3, "subtotal": 17, "details": "Medium change across KVM and UAPI headers"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 3, "subtotal": 19, "details": "New KVM capability API for VM userspace"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Dual Signed-off-by, good context, no testing evidence"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Tencent, Red Hat maintainer, multiple reviewers"}}, "score_justification": "New KVM x86 capability API allowing guest cstate MSR reads, adds UAPI bit with documentation", "code_snippet": "@@ -6637,6 +6637,12 @@ static struct kvm_vcpu *vmx_create_vcpu(struct kvm *kvm, unsigned int id)\n \tvmx_disable_intercept_for_msr(msr_bitmap, MSR_IA32_SYSENTER_CS, MSR_TYPE_RW);\n \tvmx_disable_intercept_for_msr(msr_bitmap, MSR_IA32_SYSENTER_ESP, MSR_TYPE_RW);\n \tvmx_disable_intercept_for_msr(msr_bitmap, MSR_IA32_SYSENTER_EIP, MSR_TYPE_RW);\n+\tif (kvm_cstate_in_guest(kvm)) {\n+\t\tvmx_disable_intercept_for_msr(msr_bitmap, MSR_CORE_C1_RES, MSR_TYPE_R);\n+\t\tvmx_disable_intercept_for_msr(msr_bitmap, MSR_CORE_C3_RESIDENCY, MSR_TYPE_R);\n+\t\tvmx_disable_intercept_for_msr(msr_bitmap, MSR_CORE_C6_RESIDENCY, MSR_TYPE_R);\n+\t\tvmx_disable_intercept_for_msr(msr_bitmap, MSR_CORE_C7_RESIDENCY, MSR_TYPE_R);\n+\t}\n \tvmx->msr_bitmap_mode = 0;\n \n \tvmx->loaded_vmcs = &vmx->vmcs01;\ndiff --git a/arch/x86/kvm/x86.c b/arch/x86/kvm/x86.c\nindex 8aa6b5a75e7a..17e9533f51eb 100644\n--- a/arch/x86/kvm/x86.c\n+++ b/arch/x86/kvm/x86.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b51700632e0e53254733ff706e5bdca22d19dbe5"}
{"commit_hash": "511a8556e3342af6a46eb9477936b29aa983f154", "short_hash": "511a8556e334", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-05-21T14:06:54+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-04T19:29:09+02:00", "subject": "KVM: X86: Emulate MSR_IA32_MISC_ENABLE MWAIT bit", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm", "arch/x86/include/uapi/asm"], "subsystem_tier": 2, "files_changed": 3, "insertions": 24, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 14, "score_impact": 15, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Small change in critical KVM subsystem touching 3 files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for VM users affecting MWAIT visibility"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good review chain with detailed SDM documentation"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org between Tencent and Red Hat, maintainer signed off"}}, "score_justification": "KVM feature implementing MSR_IA32_MISC_ENABLE MWAIT bit emulation with CPUID mirroring and quirk support for backwards compatibility", "code_snippet": "@@ -378,10 +378,11 @@ struct kvm_sync_regs {\n \tstruct kvm_vcpu_events events;\n };\n \n-#define KVM_X86_QUIRK_LINT0_REENABLED\t(1 << 0)\n-#define KVM_X86_QUIRK_CD_NW_CLEARED\t(1 << 1)\n-#define KVM_X86_QUIRK_LAPIC_MMIO_HOLE\t(1 << 2)\n-#define KVM_X86_QUIRK_OUT_7E_INC_RIP\t(1 << 3)\n+#define KVM_X86_QUIRK_LINT0_REENABLED\t   (1 << 0)\n+#define KVM_X86_QUIRK_CD_NW_CLEARED\t   (1 << 1)\n+#define KVM_X86_QUIRK_LAPIC_MMIO_HOLE\t   (1 << 2)\n+#define KVM_X86_QUIRK_OUT_7E_INC_RIP\t   (1 << 3)\n+#define KVM_X86_QUIRK_MISC_ENABLE_NO_MWAIT (1 << 4)\n \n #define KVM_STATE_NESTED_GUEST_MODE\t0x00000001\n #define KVM_STATE_NESTED_RUN_PENDING\t0x00000002\ndiff --git a/arch/x86/kvm/cpuid.c b/arch/x86/kvm/cpuid.c\nindex e18a9f9f65b5..60f87ba2ccca 100644\n--- a/arch/x86/kvm/cpuid.c\n+++ b/arch/x86/kvm/cpuid.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/511a8556e3342af6a46eb9477936b29aa983f154"}
{"commit_hash": "ceae266bf0ae6564ac16d086bf749a096fa90ded", "short_hash": "ceae266bf0ae", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-06-04T06:07:34Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-04T20:01:15-07:00", "subject": "net: ipvlan: Fix ipvlan device tso disabled while NETIF_F_IP_CSUM is set", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a188222b6ed2 (\"net: Rename NETIF_F_ALL_CSUM to NETIF_F_CSUM_MASK\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ipvlan"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Feature regression fix affecting ipvlan users"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes tag and detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committed by networking maintainer"}}, "score_justification": "Bug fix for TSO being incorrectly disabled on ipvlan devices due to incomplete checksum feature mask", "code_snippet": "@@ -112,7 +112,7 @@ static void ipvlan_port_destroy(struct net_device *dev)\n }\n \n #define IPVLAN_FEATURES \\\n-\t(NETIF_F_SG | NETIF_F_HW_CSUM | NETIF_F_HIGHDMA | NETIF_F_FRAGLIST | \\\n+\t(NETIF_F_SG | NETIF_F_CSUM_MASK | NETIF_F_HIGHDMA | NETIF_F_FRAGLIST | \\\n \t NETIF_F_GSO | NETIF_F_TSO | NETIF_F_GSO_ROBUST | \\\n \t NETIF_F_TSO_ECN | NETIF_F_TSO6 | NETIF_F_GRO | NETIF_F_RXCSUM | \\\n \t NETIF_F_HW_VLAN_CTAG_FILTER | NETIF_F_HW_VLAN_STAG_FILTER)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ceae266bf0ae6564ac16d086bf749a096fa90ded"}
{"commit_hash": "98d669b49120bad6a09c361daa71c92e6a9f8fbb", "short_hash": "98d669b49120", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T22:24:27+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-06-05T08:22:24-06:00", "subject": "block: Drop unlikely before IS_ERR(_OR_NULL)", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical block subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean change with basic explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from Huawei to kernel.org maintainer"}}, "score_justification": "Code simplification removing redundant unlikely() macro wrapper", "code_snippet": "@@ -881,7 +881,7 @@ int blkg_conf_prep(struct blkcg *blkcg, const struct blkcg_policy *pol,\n \t\t\tblkg_free(new_blkg);\n \t\t} else {\n \t\t\tblkg = blkg_create(pos, q, new_blkg);\n-\t\t\tif (unlikely(IS_ERR(blkg))) {\n+\t\t\tif (IS_ERR(blkg)) {\n \t\t\t\tret = PTR_ERR(blkg);\n \t\t\t\tgoto fail_unlock;\n \t\t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/98d669b49120bad6a09c361daa71c92e6a9f8fbb"}
{"commit_hash": "a050fa5476d418fc16b25abe168b3d38ba11e13c", "short_hash": "a050fa5476d4", "author_name": "Heyi Guo", "author_email": "guoheyi@huawei.com", "author_company": "Huawei", "author_date": "2019-05-13T19:42:06+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-06-05T14:57:59+01:00", "subject": "irqchip/gic-v3-its: Fix command queue pointer comparison bug", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 3, "files_changed": 1, "insertions": 24, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Heyi Guo <guoheyi@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important interrupt controller subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Race condition fix affecting PCI passthrough users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed explanation with scenario analysis"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from Arm committed"}}, "score_justification": "Fixes race condition in GICv3 ITS command queue pointer comparison causing timeout warnings", "code_snippet": "@@ -744,32 +744,43 @@ static void its_flush_cmd(struct its_node *its, struct its_cmd_block *cmd)\n }\n \n static int its_wait_for_range_completion(struct its_node *its,\n-\t\t\t\t\t struct its_cmd_block *from,\n+\t\t\t\t\t u64\tprev_idx,\n \t\t\t\t\t struct its_cmd_block *to)\n {\n-\tu64 rd_idx, from_idx, to_idx;\n+\tu64 rd_idx, to_idx, linear_idx;\n \tu32 count = 1000000;\t/* 1s! */\n \n-\tfrom_idx = its_cmd_ptr_to_offset(its, from);\n+\t/* Linearize to_idx if the command set has wrapped around */\n \tto_idx = its_cmd_ptr_to_offset(its, to);\n+\tif (to_idx < prev_idx)\n+\t\tto_idx += ITS_CMD_QUEUE_SZ;\n+\n+\tlinear_idx = prev_idx;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a050fa5476d418fc16b25abe168b3d38ba11e13c"}
{"commit_hash": "0c6280b3c353868a1a40596585db43af756b0617", "short_hash": "0c6280b3c353", "author_name": "Yunfei Dong", "author_email": "yunfei.dong@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-04T05:37:37-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-05T15:24:53-04:00", "subject": "media: mtk-vcodec: support single-buffer frames", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/platform/mtk-vcodec"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yunfei Dong <yunfei.dong@mediatek.com> (MediaTek)", "Alexandre Courbot <acourbot@chromium.org> (Chromium)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 13, "score_quality": 12, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important media driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support for MT8183, affects specific driver users"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Multiple reviewers from different orgs, good context"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Cross-org: MediaTek, Google (Chromium), community maintainers"}}, "score_justification": "Hardware enablement for MT8183 single-buffer frame support with cross-org review", "code_snippet": "@@ -117,8 +117,9 @@ static struct vb2_buffer *get_display_buffer(struct mtk_vcodec_ctx *ctx)\n \tif (dstbuf->used) {\n \t\tvb2_set_plane_payload(&dstbuf->vb.vb2_buf, 0,\n \t\t\t\t\tctx->picinfo.fb_sz[0]);\n-\t\tvb2_set_plane_payload(&dstbuf->vb.vb2_buf, 1,\n-\t\t\t\t\tctx->picinfo.fb_sz[1]);\n+\t\tif (ctx->q_data[MTK_Q_DATA_DST].fmt->num_planes == 2)\n+\t\t\tvb2_set_plane_payload(&dstbuf->vb.vb2_buf, 1,\n+\t\t\t\t\t      ctx->picinfo.fb_sz[1]);\n \n \t\tmtk_v4l2_debug(2,\n \t\t\t\t\"[%d]status=%x queue id=%d to done_list %d\",", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0c6280b3c353868a1a40596585db43af756b0617"}
{"commit_hash": "6e2980cc68d0dfac1c734fae887754c1cb9904a0", "short_hash": "6e2980cc68d0", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T09:08:20-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-05T15:57:46-04:00", "subject": "media: pvrusb2: fix null-ptr-deref in class_unregister()", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/usb/pvrusb2"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 5, "score_impact": 17, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 3-line fix in USB driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Crash fix for specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with reporter credit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, media maintainer, robot report"}}, "score_justification": "Null pointer dereference crash fix in pvrusb2 driver with proper NULL check", "code_snippet": "@@ -802,7 +802,8 @@ struct pvr2_sysfs_class *pvr2_sysfs_class_create(void)\n void pvr2_sysfs_class_destroy(struct pvr2_sysfs_class *clp)\n {\n \tpvr2_sysfs_trace(\"Unregistering pvr2_sysfs_class id=%p\", clp);\n-\tclass_unregister(&clp->class);\n+\tif (clp)\n+\t\tclass_unregister(&clp->class);\n }\n \n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e2980cc68d0dfac1c734fae887754c1cb9904a0"}
{"commit_hash": "ee326fd01e79dfa42014d55931260b68b9fa3273", "short_hash": "ee326fd01e79", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T09:58:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-05T17:03:14-07:00", "subject": "net: stmmac: dwmac4: fix flow control issue", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 477286b53f55 (\"stmmac: add GMAC4 core support\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Flow control bug fix for network users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different orgs"}}, "score_justification": "Flow control logic bug in stmmac driver causing incorrect register writes", "code_snippet": "@@ -479,8 +479,9 @@ static void dwmac4_flow_ctrl(struct mac_device_info *hw, unsigned int duplex,\n \tif (fc & FLOW_RX) {\n \t\tpr_debug(\"\\tReceive Flow-Control ON\\n\");\n \t\tflow |= GMAC_RX_FLOW_CTRL_RFE;\n-\t\twritel(flow, ioaddr + GMAC_RX_FLOW_CTRL);\n \t}\n+\twritel(flow, ioaddr + GMAC_RX_FLOW_CTRL);\n+\n \tif (fc & FLOW_TX) {\n \t\tpr_debug(\"\\tTransmit Flow-Control ON\\n\");\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee326fd01e79dfa42014d55931260b68b9fa3273"}
{"commit_hash": "d2facb4b3983425f6776c24dd678a82dbe673773", "short_hash": "d2facb4b3983", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T09:58:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-05T17:03:14-07:00", "subject": "net: stmmac: modify default value of tx-frames", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change (1 line) in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes PTP functionality failure for stmmac users"}, "quality": {"review_chain": 1, "message_quality": 6, "testing": 2, "atomicity": 2, "subtotal": 11, "details": "Good explanation with user-reported failure case and testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, net maintainer David S. Miller committed"}}, "score_justification": "PTP timestamping fix for stmmac driver; changes tx-frames default from 25 to 1 to prevent timeout", "code_snippet": "@@ -261,7 +261,7 @@ struct stmmac_safety_stats {\n #define STMMAC_COAL_TX_TIMER\t1000\n #define STMMAC_MAX_COAL_TX_TICK\t100000\n #define STMMAC_TX_MAX_FRAMES\t256\n-#define STMMAC_TX_FRAMES\t25\n+#define STMMAC_TX_FRAMES\t1\n \n /* Packets types */\n enum packets_types {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d2facb4b3983425f6776c24dd678a82dbe673773"}
{"commit_hash": "792232390b891a97500eb3cccd54d0c7ca8e4981", "short_hash": "792232390b89", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T09:58:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-05T17:03:14-07:00", "subject": "net: stmmac: dwmac-mediatek: disable rx watchdog", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 7, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line change in network driver"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for specific NIC driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message format, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, netdev maintainer commit"}}, "score_justification": "Performance optimization disabling RX watchdog to reduce latency", "code_snippet": "@@ -356,6 +356,7 @@ static int mediatek_dwmac_probe(struct platform_device *pdev)\n \tplat_dat->has_gmac4 = 1;\n \tplat_dat->has_gmac = 0;\n \tplat_dat->pmt = 0;\n+\tplat_dat->riwt_off = 1;\n \tplat_dat->maxmtu = ETH_DATA_LEN;\n \tplat_dat->bsp_priv = priv_plat;\n \tplat_dat->init = mediatek_dwmac_init;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/792232390b891a97500eb3cccd54d0c7ca8e4981"}
{"commit_hash": "5aa070dc504989368881bdfc3ca4c2b29d22b520", "short_hash": "5aa070dc5049", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T09:58:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-05T17:03:14-07:00", "subject": "net: stmmac: dwmac-mediatek: enable Ethernet power domain", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-POWER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in networking driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Power management feature for specific driver"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal review, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Mediatek -> kernel.org maintainer)"}}, "score_justification": "Power management enablement for Mediatek Ethernet driver", "code_snippet": "@@ -298,6 +299,9 @@ static int mediatek_dwmac_init(struct platform_device *pdev, void *priv)\n \t\treturn ret;\n \t}\n \n+\tpm_runtime_enable(&pdev->dev);\n+\tpm_runtime_get_sync(&pdev->dev);\n+\n \treturn 0;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5aa070dc504989368881bdfc3ca4c2b29d22b520"}
{"commit_hash": "81bc8c03e1b06a79df6a855ccf55af44965dbdba", "short_hash": "81bc8c03e1b0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-30T16:49:32+08:00", "committer_name": "Enric Balletbo i Serra", "committer_email": "enric.balletbo@collabora.com", "committer_company": "Collabora", "commit_date": "2019-06-05T17:28:53+02:00", "subject": "platform/chrome: cros_ec: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/platform/chrome"], "subsystem_tier": 4, "files_changed": 5, "insertions": 6, "deletions": 6, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Enric Balletbo i Serra <enric.balletbo@collabora.com> (Collabora)"], "reviewed_by": ["Benson Leung <bleung@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small sparse warning fix across 5 files in Chrome platform driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning-only fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by present, good commit message citing all warnings"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei -> Collabora), internal robot report"}}, "score_justification": "Sparse warning fix adding static to 6 symbols across Chrome platform driver files", "code_snippet": "@@ -250,7 +250,7 @@ const struct file_operations cros_ec_console_log_fops = {\n \t.release = cros_ec_console_log_release,\n };\n \n-const struct file_operations cros_ec_pdinfo_fops = {\n+static const struct file_operations cros_ec_pdinfo_fops = {\n \t.owner = THIS_MODULE,\n \t.open = simple_open,\n \t.read = cros_ec_pdinfo_read,\ndiff --git a/drivers/platform/chrome/cros_ec_lightbar.c b/drivers/platform/chrome/cros_ec_lightbar.c\nindex d30a6650b0b5..23a82ee4c785 100644\n--- a/drivers/platform/chrome/cros_ec_lightbar.c\n+++ b/drivers/platform/chrome/cros_ec_lightbar.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/81bc8c03e1b06a79df6a855ccf55af44965dbdba"}
{"commit_hash": "8b5e07d7ee95e3c22cb301731f87d95f58639591", "short_hash": "8b5e07d7ee95", "author_name": "Zhiqiang Liu", "author_email": "liuzhiqiang26@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T18:49:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-05T18:48:49-07:00", "subject": "inet_connection_sock: remove unused parameter of reqsk_queue_unlink func", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Eric Dumazet <edumazet@google.com> (Google)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny cleanup in critical networking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed by Google maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Google reviewer, different maintainer"}}, "score_justification": "Removes unused parameter from static function in networking code", "code_snippet": "@@ -653,8 +653,7 @@ int inet_rtx_syn_ack(const struct sock *parent, struct request_sock *req)\n EXPORT_SYMBOL(inet_rtx_syn_ack);\n \n /* return true if req was found in the ehash table */\n-static bool reqsk_queue_unlink(struct request_sock_queue *queue,\n-\t\t\t       struct request_sock *req)\n+static bool reqsk_queue_unlink(struct request_sock *req)\n {\n \tstruct inet_hashinfo *hashinfo = req_to_sk(req)->sk_prot->h.hashinfo;\n \tbool found = false;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8b5e07d7ee95e3c22cb301731f87d95f58639591"}
{"commit_hash": "7cb8bec205258601af2810f4f1998a207340e73c", "short_hash": "7cb8bec20525", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-27T00:42:02+08:00", "committer_name": "Liviu Dudau", "committer_email": "Liviu.Dudau@arm.com", "committer_company": "ARM", "commit_date": "2019-06-06T08:59:41+01:00", "subject": "drm/komeda: remove set but not used variable 'kcrtc'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9e5603094176 (\"drm/komeda: Add komeda_plane/plane_helper_funcs\")", "cc_stable": false, "subsystem_prefix": "drm/komeda", "subsystems_touched": ["drivers/gpu/drm/arm/display/komeda"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Liviu Dudau <liviu.dudau@arm.com> (ARM)"], "reviewed_by": ["James Qian Wang (Arm Technology China) <james.qian.wang@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line deletion in GPU driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no stable backport, minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message quality with Fixes tag, cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, reviewer from Arm, committer from Arm"}}, "score_justification": "Compiler warning fix removing unused variable in DRM driver with proper Fixes tag", "code_snippet": "@@ -55,7 +55,6 @@ komeda_plane_atomic_check(struct drm_plane *plane,\n \tstruct komeda_plane_state *kplane_st = to_kplane_st(state);\n \tstruct komeda_layer *layer = kplane->layer;\n \tstruct drm_crtc_state *crtc_st;\n-\tstruct komeda_crtc *kcrtc;\n \tstruct komeda_crtc_state *kcrtc_st;\n \tstruct komeda_data_flow_cfg dflow;\n \tint err;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7cb8bec205258601af2810f4f1998a207340e73c"}
{"commit_hash": "39f82358485123cbc602ecb5040a95d6e4edaf27", "short_hash": "39f823584851", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-06T22:46:49+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-06T11:36:39-07:00", "subject": "net: mscc: ocelot: remove unused variable 'vcap_data_t'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/mscc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, 2 lines changed in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix in driver, no stable tag"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 Signed-off-by tags, Reported-by, sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem committer, Hulk Robot report"}}, "score_justification": "Sparse warning fix removing unused typedef in network driver", "code_snippet": "@@ -93,7 +93,7 @@ struct vcap_data {\n \tu32 counter_offset; /* Current counter offset */\n \tu32 tg_value; /* Current type-group value */\n \tu32 tg_mask; /* Current type-group mask */\n-} vcap_data_t;\n+};\n \n static u32 vcap_s2_read_update_ctrl(struct ocelot *oc)\n {\n", "flags": ["FIXES_UNUSED_CODE"], "link": "https://lore.kernel.org/linux-kernel/39f82358485123cbc602ecb5040a95d6e4edaf27"}
{"commit_hash": "42cc68868ce9d5f5277f561bb17b4746a332bb28", "short_hash": "42cc68868ce9", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T07:04:07Z", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-06T13:51:57+03:00", "subject": "usb: gadget: udc: lpc32xx: fix return value check in lpc32xx_udc_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: 408b56ca5c8e (\"usb: gadget: udc: lpc32xx: simplify probe\")", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/gadget/udc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sylvain Lemieux <slemieux.tyco@gmail.com> (Gmail)", "Vladimir Zapolskiy <vz@mleia.com> (Mleia)"], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 15, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB gadget driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic error fix with Fixes tag, niche driver impact"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "2 Acked-by tags, good message with Fixes tag"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Intel maintainer, cross-org review"}}, "score_justification": "Coccinelle-detected error handling fix in USB gadget driver", "code_snippet": "@@ -3069,9 +3069,9 @@ static int lpc32xx_udc_probe(struct platform_device *pdev)\n \t}\n \n \tudc->udp_baseaddr = devm_ioremap_resource(dev, res);\n-\tif (!udc->udp_baseaddr) {\n+\tif (IS_ERR(udc->udp_baseaddr)) {\n \t\tdev_err(udc->dev, \"IO map failure\\n\");\n-\t\treturn -ENOMEM;\n+\t\treturn PTR_ERR(udc->udp_baseaddr);\n \t}\n \n \t/* Get USB device clock */\n", "flags": ["COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/42cc68868ce9d5f5277f561bb17b4746a332bb28"}
{"commit_hash": "4bb02dbd31d7430200db0e8dfb96f9d716351627", "short_hash": "4bb02dbd31d7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T20:17:49+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-06-06T14:44:16+08:00", "subject": "crypto: atmel-i2c - Fix build error while CRC16 set to m", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: da001fb651b0 (\"crypto: atmel-i2c - add support for SHA204A random number generator\")", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 12, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal Kconfig change in crypto driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix affecting SHA204A users, has Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation with error message and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, crypto maintainer committer, robot report"}}, "score_justification": "Kconfig build dependency fix resolving undefined reference to crc16", "code_snippet": "@@ -541,6 +541,7 @@ config CRYPTO_DEV_ATMEL_SHA204A\n \tdepends on I2C\n \tselect CRYPTO_DEV_ATMEL_I2C\n \tselect HW_RANDOM\n+\tselect CRC16\n \thelp\n \t  Microhip / Atmel SHA accelerator and RNG.\n \t  Select this if you want to use the Microchip / Atmel SHA204A\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4bb02dbd31d7430200db0e8dfb96f9d716351627"}
{"commit_hash": "860690a93ef23b567f781c1b631623e27190f101", "short_hash": "860690a93ef2", "author_name": "Erin Lo", "author_email": "erin.lo@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T11:40:01+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-06T15:57:27-07:00", "subject": "clk: mediatek: Remove MT8183 unused clock", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 19, "hunks": 8, "review_chain": {"signed_off_by": ["Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -395,14 +395,6 @@ static const char * const atb_parents[] = {\n \t\"syspll_d5\"\n };\n \n-static const char * const sspm_parents[] = {\n-\t\"clk26m\",\n-\t\"univpll_d2_d4\",\n-\t\"syspll_d2_d2\",\n-\t\"univpll_d2_d2\",\n-\t\"syspll_d3\"\n-};\n-\n static const char * const dpi0_parents[] = {\n \t\"clk26m\",\n \t\"tvdpll_d2\",", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/860690a93ef23b567f781c1b631623e27190f101"}
{"commit_hash": "3e582c6e911ffe6c90b9f90324bdf85fc728d0c3", "short_hash": "3e582c6e911f", "author_name": "Leilk Liu", "author_email": "leilk.liu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-05T11:07:04+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-06T22:24:00+01:00", "subject": "spi: mediatek: add SPI_LSB_FIRST support", "primary_category": "FEAT-FUNC", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "spi", "subsystems_touched": ["drivers/spi"], "subsystem_tier": 4, "files_changed": 2, "insertions": 6, "deletions": 11, "hunks": 8, "review_chain": {"signed_off_by": ["Leilk Liu <leilk.liu@mediatek.com> (MediaTek)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 15, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in SPI driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for MediaTek SPI users"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal commit message, single author tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different orgs for author and committer"}}, "score_justification": "Adds SPI_LSB_FIRST mode bit support to MediaTek SPI driver, removing custom tx/rx_mlsb fields in favor of standard SPI framework mode", "code_snippet": "@@ -131,8 +131,6 @@ static const struct mtk_spi_compatible mt8183_compat = {\n  * supplies it.\n  */\n static const struct mtk_chip_config mtk_default_chip_info = {\n-\t.rx_mlsb = 1,\n-\t.tx_mlsb = 1,\n \t.cs_pol = 0,\n \t.sample_sel = 0,\n };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e582c6e911ffe6c90b9f90324bdf85fc728d0c3"}
{"commit_hash": "be411411279ba989d187af07fe65a8b84b533c97", "short_hash": "be411411279b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:25:35+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-07T11:54:48-07:00", "subject": "clk: mmp: frac: Remove set but not used variable 'prev_rate'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mmp"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line removal in clock driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean warning fix with proper commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Unused variable warning fix in MMP clock driver", "code_snippet": "@@ -78,11 +78,10 @@ static int clk_factor_set_rate(struct clk_hw *hw, unsigned long drate,\n \tstruct mmp_clk_factor_masks *masks = factor->masks;\n \tint i;\n \tunsigned long val;\n-\tunsigned long prev_rate, rate = 0;\n+\tunsigned long rate = 0;\n \tunsigned long flags = 0;\n \n \tfor (i = 0; i < factor->ftbl_cnt; i++) {\n-\t\tprev_rate = rate;\n \t\trate = (((prate / 10000) * factor->ftbl[i].den) /\n \t\t\t(factor->ftbl[i].num * factor->masks->factor)) * 10000;\n \t\tif (rate > drate)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/be411411279ba989d187af07fe65a8b84b533c97"}
{"commit_hash": "da6a5dda5e843f0a8904c2d171d585ae360f415e", "short_hash": "da6a5dda5e84", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T17:39:37+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-07T11:54:48-07:00", "subject": "clk: ti: Remove unused functions", "primary_category": "MAINT-DEPR", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/ti"], "subsystem_tier": 4, "files_changed": 3, "insertions": 0, "deletions": 146, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 10, "score_impact": 6, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "146 lines deleted across 3 files in clock subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clean removal with reporter credit and suggestion"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, kernel.org maintainer, robot report"}}, "score_justification": "Removal of legacy unused code functions following prior cleanup, reported by Hulk Robot", "code_snippet": "@@ -425,91 +425,6 @@ int ti_clk_parse_divider_data(int *div_table, int num_dividers, int max_div,\n \treturn 0;\n }\n \n-static const struct clk_div_table *\n-_get_div_table_from_setup(struct ti_clk_divider *setup, u8 *width)\n-{\n-\tconst struct clk_div_table *table = NULL;\n-\n-\tti_clk_parse_divider_data(setup->dividers, setup->num_dividers,\n-\t\t\t\t  setup->max_div, setup->flags, width,\n-\t\t\t\t  &table);\n-\n-\treturn table;\n-}\n-\n-struct clk_hw *ti_clk_build_component_div(struct ti_clk_divider *setup)\n-{\n-\tstruct clk_omap_divider *div;\n-\tstruct clk_omap_reg *reg;", "flags": ["REPORTED_BY_ROBOT", "DEAD_CODE_REMOVAL"], "link": "https://lore.kernel.org/linux-kernel/da6a5dda5e843f0a8904c2d171d585ae360f415e"}
{"commit_hash": "78a89463a31ce463a4b968553f57ff9932a0697f", "short_hash": "78a89463a31c", "author_name": "Lecopzer Chen", "author_email": "lecopzer.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-09T18:31:16+08:00", "committer_name": "Jonathan Corbet", "committer_email": "corbet@lwn.net", "committer_company": "Lwn", "commit_date": "2019-06-07T11:56:51-06:00", "subject": "Documentation: {u,k}probes: add tracing_on before tracing", "primary_category": "DOC-KERNEL", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation/trace"], "subsystem_tier": 6, "files_changed": 2, "insertions": 12, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Lecopzer Chen <lecopzer.chen@mediatek.com> (MediaTek)", "Jonathan Corbet <corbet@lwn.net> (Lwn)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Masami Hiramatsu <mhiramat@kernel.org> (Kernel)"], "reported_by": []}, "score_total": 23, "score_technical": 3, "score_impact": 6, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 3, "details": "Small documentation change in non-critical subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 2, "novelty": 0, "subtotal": 6, "details": "Documentation fix improving usability for developers"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation with Acked-by from subsystem expert"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (MediaTek -> LWN) with maintainer sign-off"}}, "score_justification": "Documentation fix for kprobes/uprobes tracing usage to add missing tracing_on step", "code_snippet": "@@ -189,6 +189,12 @@ events, you need to enable it.\n   echo 1 > /sys/kernel/debug/tracing/events/kprobes/myprobe/enable\n   echo 1 > /sys/kernel/debug/tracing/events/kprobes/myretprobe/enable\n \n+Use the following command to start tracing in an interval.\n+::\n+    # echo 1 > tracing_on\n+    Open something...\n+    # echo 0 > tracing_on\n+\n And you can see the traced information via /sys/kernel/debug/tracing/trace.\n ::\n \ndiff --git a/Documentation/trace/uprobetracer.rst b/Documentation/trace/uprobetracer.rst\nindex 4346e23e3ae7..0b21305fabdc 100644\n--- a/Documentation/trace/uprobetracer.rst\n+++ b/Documentation/trace/uprobetracer.rst", "flags": [], "link": "https://lore.kernel.org/linux-kernel/78a89463a31ce463a4b968553f57ff9932a0697f"}
{"commit_hash": "4f18904c78495ec16e271ee507709c626e61a62a", "short_hash": "4f18904c7849", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T18:28:03+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-06-07T15:01:05-03:00", "subject": "RDMA/hns: Bugfix for filling the sge of srq", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: c7bcb13442e1 (\"RDMA/hns: Add SRQ support for hip08 kernel mode\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in infiniband driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for SRQ functionality"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Array indexing bug fix in SRQ recv with cross-org maintainer sign-off", "code_snippet": "@@ -6048,9 +6048,9 @@ static int hns_roce_v2_post_srq_recv(struct ib_srq *ibsrq,\n \t\t}\n \n \t\tif (i < srq->max_gs) {\n-\t\t\tdseg->len = 0;\n-\t\t\tdseg->lkey = cpu_to_le32(0x100);\n-\t\t\tdseg->addr = 0;\n+\t\t\tdseg[i].len = 0;\n+\t\t\tdseg[i].lkey = cpu_to_le32(0x100);\n+\t\t\tdseg[i].addr = 0;\n \t\t}\n \n \t\tsrq->wrid[wqe_idx] = wr->wr_id;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4f18904c78495ec16e271ee507709c626e61a62a"}
{"commit_hash": "fb6dda8349ea0a6a68a743b6cb636261f4489983", "short_hash": "fb6dda8349ea", "author_name": "Long Cheng", "author_email": "long.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-27T11:36:32+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-07T15:36:45+05:30", "subject": "dt-bindings: dma: uart: rename binding", "primary_category": "DT-BINDING", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/dma"], "subsystem_tier": 5, "files_changed": 2, "insertions": 54, "deletions": 33, "hunks": 4, "review_chain": {"signed_off_by": ["Long Cheng <long.cheng@mediatek.com> (MediaTek)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": ["Rob Herring <robh@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 4, "score_impact": 7, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small DT binding rename with added properties"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 7, "details": "DT binding rename with new properties for MediaTek UART DMA"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by DT maintainer, clear rationale for rename"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, kernel.org maintainer, cross-org review"}}, "score_justification": "DT binding file rename with added properties (dma-requests, mediatek,dma-33bits) for MediaTek UART APDMA", "code_snippet": "@@ -1,33 +0,0 @@\n-* Mediatek UART APDMA Controller\n-\n-Required properties:\n-- compatible should contain:\n-  * \"mediatek,mt2712-uart-dma\" for MT2712 compatible APDMA\n-  * \"mediatek,mt6577-uart-dma\" for MT6577 and all of the above\n-\n-- reg: The base address of the APDMA register bank.\n-\n-- interrupts: A single interrupt specifier.\n-\n-- clocks : Must contain an entry for each entry in clock-names.\n-  See ../clocks/clock-bindings.txt for details.\n-- clock-names: The APDMA clock for register accesses\n-\n-Examples:\n-\n-\tapdma: dma-controller@11000380 {\n-\t\tcompatible = \"mediatek,mt2712-uart-dma\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb6dda8349ea0a6a68a743b6cb636261f4489983"}
{"commit_hash": "9135408c3ace4f7201407b1ef79079c30340743e", "short_hash": "9135408c3ace", "author_name": "Long Cheng", "author_email": "long.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-04-27T11:36:30+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-07T15:36:45+05:30", "subject": "dmaengine: mediatek: Add MediaTek UART APDMA support", "primary_category": "FEAT-DRIVER", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma/mediatek"], "subsystem_tier": 4, "files_changed": 3, "insertions": 678, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Long Cheng <long.cheng@mediatek.com> (MediaTek)", "Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 14, "score_impact": 20, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 10, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 14, "details": "New driver: 678 insertions across 3 files, single DMA subsystem"}, "impact": {"category_base": 12, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 20, "details": "Complete new UART DMA driver for MediaTek SoCs"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 reviewers, clear message with subsystem prefix, no test tags"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "MediaTek author, kernel.org maintainer, cross-org review"}}, "score_justification": "New MediaTek UART APDMA driver adding 678 lines for SoC DMA offload support", "code_snippet": "@@ -24,3 +24,14 @@ config MTK_CQDMA\n \n \t  This controller provides the channels which is dedicated to\n \t  memory-to-memory transfer to offload from CPU.\n+\n+config MTK_UART_APDMA\n+\ttristate \"MediaTek SoCs APDMA support for UART\"\n+\tdepends on OF && SERIAL_8250_MT6577\n+\tselect DMA_ENGINE\n+\tselect DMA_VIRTUAL_CHANNELS\n+\thelp\n+\t  Support for the UART DMA engine found on MediaTek MTK SoCs.\n+\t  When SERIAL_8250_MT6577 is enabled, and if you want to use DMA,\n+\t  you can enable the config. The DMA engine can only be used\n+\t  with MediaTek SoCs.\ndiff --git a/drivers/dma/mediatek/Makefile b/drivers/dma/mediatek/Makefile\nindex 41bb3815f636..61a6d29c8e8c 100644\n--- a/drivers/dma/mediatek/Makefile\n+++ b/drivers/dma/mediatek/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9135408c3ace4f7201407b1ef79079c30340743e"}
{"commit_hash": "c5a3aed1cd3152429348ee1fe5cdcca65fe901ce", "short_hash": "c5a3aed1cd31", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-16T22:36:26+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-06-07T23:03:54+02:00", "subject": "can: af_can: Fix error path of can_init()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 0d66548a10cb (\"[CAN]: Add PF_CAN core module\")", "cc_stable": false, "subsystem_prefix": "can", "subsystems_touched": ["net/can"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Oliver Hartkopp <socketcan@hartkopp.net> (Hartkopp)"], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Error path fix affecting CAN bus users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org maintainer acceptance"}}, "score_justification": "Error path cleanup fix for CAN init with proper unwind handling", "code_snippet": "@@ -952,6 +952,8 @@ static struct pernet_operations can_pernet_ops __read_mostly = {\n \n static __init int can_init(void)\n {\n+\tint err;\n+\n \t/* check for correct padding to be able to use the structs similarly */\n \tBUILD_BUG_ON(offsetof(struct can_frame, can_dlc) !=\n \t\t     offsetof(struct canfd_frame, len) ||", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c5a3aed1cd3152429348ee1fe5cdcca65fe901ce"}
{"commit_hash": "d5970dc73f1c12a07f89b427799ca8b0b6c30b97", "short_hash": "d5970dc73f1c", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:58-07:00", "subject": "net: hns3: replace numa_node_id with numa_mem_id for buffer reusing", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver fix in network subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix improving buffer reuse for specific NIC"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Well-explained commit with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit with maintainer sign-off"}}, "score_justification": "NUMA-aware buffer reuse fix for Hisilicon NIC, cross-company collaboration", "code_snippet": "@@ -2367,7 +2367,7 @@ static void hns3_nic_reuse_page(struct sk_buff *skb, int i,\n \t/* Avoid re-using remote pages, or the stack is still using the page\n \t * when page_offset rollback to zero, flag default unreuse\n \t */\n-\tif (unlikely(page_to_nid(desc_cb->priv) != numa_node_id()) ||\n+\tif (unlikely(page_to_nid(desc_cb->priv) != numa_mem_id()) ||\n \t    (!desc_cb->page_offset && page_count(desc_cb->priv) > 1))\n \t\treturn;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d5970dc73f1c12a07f89b427799ca8b0b6c30b97"}
{"commit_hash": "e2ee1c5a5944231a79cf6d64c2a703ea08a2e411", "short_hash": "e2ee1c5a5944", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:58-07:00", "subject": "net: hns3: make HW GRO handling compliant with SW GRO", "primary_category": "BUG-COMPAT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 30, "deletions": 14, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Compatibility fix for specific driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear explanation, multiple SOBs, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "HW GRO compatibility fix to align with SW GRO behavior in hns3 driver", "code_snippet": "@@ -2384,13 +2385,13 @@ static void hns3_nic_reuse_page(struct sk_buff *skb, int i,\n \t}\n }\n \n-static int hns3_gro_complete(struct sk_buff *skb)\n+static int hns3_gro_complete(struct sk_buff *skb, u32 l234info)\n {\n \t__be16 type = skb->protocol;\n \tstruct tcphdr *th;\n \tint depth = 0;\n \n-\twhile (type == htons(ETH_P_8021Q)) {\n+\twhile (eth_type_vlan(type)) {\n \t\tstruct vlan_hdr *vh;\n \n \t\tif ((depth + VLAN_HLEN) > skb_headlen(skb))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e2ee1c5a5944231a79cf6d64c2a703ea08a2e411"}
{"commit_hash": "f5d20e396abf7f8b665b05bf906079084426681a", "short_hash": "f5d20e396abf", "author_name": "Zhongzhu Liu", "author_email": "liuzhongzhu@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:58-07:00", "subject": "net: hns3: fix wrong size of mailbox responding data", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9194d18b0577 (\"net: hns3: fix the problem that the supported port is empty\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhongzhu Liu <liuzhongzhu@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with regression tag, affects driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Fixes tag with explanation, no testing evidence"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer merged"}}, "score_justification": "Driver macro fix correcting mailbox response size per hardware spec", "code_snippet": "@@ -69,7 +69,7 @@ enum hclge_mbx_vlan_cfg_subcode {\n };\n \n #define HCLGE_MBX_MAX_MSG_SIZE\t16\n-#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t16\n+#define HCLGE_MBX_MAX_RESP_DATA_SIZE\t8\n #define HCLGE_MBX_RING_MAP_BASIC_MSG_NUM\t3\n #define HCLGE_MBX_RING_NODE_VARIABLE_NUM\t3\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f5d20e396abf7f8b665b05bf906079084426681a"}
{"commit_hash": "238882c8e034f40fbaa14c7ace36f3ed8e8bfad4", "short_hash": "238882c8e034", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:58-07:00", "subject": "net: hns3: log detail error info of ROCEE ECC and AXI errors", "primary_category": "FEAT-TRACE", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 77, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 12, "score_impact": 13, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in NIC driver with new functions"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Debug feature for specific hardware driver"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Dual sign-off from same company, adequate message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer commit"}}, "score_justification": "Adds detailed error logging for ROCEE ECC/AXI errors in Hisilicon NIC driver, removes unnecessary reset for overflow errors", "code_snippet": "@@ -268,6 +268,8 @@ enum hclge_opcode_type {\n \tHCLGE_CONFIG_ROCEE_RAS_INT_EN\t= 0x1580,\n \tHCLGE_QUERY_CLEAR_ROCEE_RAS_INT = 0x1581,\n \tHCLGE_ROCEE_PF_RAS_INT_CMD\t= 0x1584,\n+\tHCLGE_QUERY_ROCEE_ECC_RAS_INFO_CMD\t= 0x1585,\n+\tHCLGE_QUERY_ROCEE_AXI_RAS_INFO_CMD\t= 0x1586,\n \tHCLGE_IGU_EGU_TNL_INT_EN\t= 0x1803,\n \tHCLGE_IGU_COMMON_INT_EN\t\t= 0x1806,\n \tHCLGE_TM_QCN_MEM_INT_CFG\t= 0x1A14,\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\nindex 784512d5f395..4f2af3d52793 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/238882c8e034f40fbaa14c7ace36f3ed8e8bfad4"}
{"commit_hash": "9b2f3477d1edbb1bc52e78cb935976b10380b801", "short_hash": "9b2f3477d1ed", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-07T10:03:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: fix some coding style issues", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 8, "insertions": 96, "deletions": 130, "hunks": 144, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "HuiSong Li <lihuisong@huawei.com> (Huawei)", "Jian Shen <shenjian15@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 14, "score_impact": 6, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "8 files, 144 hunks, 226 lines in driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 6, "details": "Multiple sign-offs, basic commit message for cleanup"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Hisilicon author, net maintainer merged"}}, "score_justification": "Coding style cleanup across HNS3 driver files, fixing alignment, comments, formatting", "code_snippet": "@@ -46,8 +43,7 @@ int hns3_dcbnl_ieee_getpfc(struct net_device *ndev, struct ieee_pfc *pfc)\n \treturn -EOPNOTSUPP;\n }\n \n-static\n-int hns3_dcbnl_ieee_setpfc(struct net_device *ndev, struct ieee_pfc *pfc)\n+static int hns3_dcbnl_ieee_setpfc(struct net_device *ndev, struct ieee_pfc *pfc)\n {\n \tstruct hnae3_handle *h = hns3_get_handle(ndev);\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex 07e7c3a40bc3..fe2c2c5f4980 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b2f3477d1edbb1bc52e78cb935976b10380b801"}
{"commit_hash": "3caf772bcea18a3c5045113aaa119dd2dd81f98f", "short_hash": "3caf772bcea1", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: refactor PF/VF RSS hash key configuration", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 14, "deletions": 16, "hunks": 6, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Jian Shen <shenjian15@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 10, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in network driver (2 files, 6 hunks, 30 LOC)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting Hisilicon network driver users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Multiple sign-offs but minimal explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by net maintainer (different org)"}}, "score_justification": "", "code_snippet": "@@ -3609,28 +3609,27 @@ static int hclge_set_rss_algo_key(struct hclge_dev *hdev,\n {\n \tstruct hclge_rss_config_cmd *req;\n \tstruct hclge_desc desc;\n-\tint key_offset;\n+\tint key_offset = 0;\n+\tint key_counts;\n \tint key_size;\n \tint ret;\n \n+\tkey_counts = HCLGE_RSS_KEY_SIZE;\n \treq = (struct hclge_rss_config_cmd *)desc.data;\n \n-\tfor (key_offset = 0; key_offset < 3; key_offset++) {\n+\twhile (key_counts) {\n \t\thclge_cmd_setup_basic_desc(&desc, HCLGE_OPC_RSS_GENERIC_CONFIG,\n \t\t\t\t\t   false);\n \n \t\treq->hash_config |= (hfunc & HCLGE_RSS_HASH_ALGO_MASK);\n \t\treq->hash_config |= (key_offset << HCLGE_RSS_HASH_KEY_OFFSET_B);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3caf772bcea18a3c5045113aaa119dd2dd81f98f"}
{"commit_hash": "63cbf7a9414291597ec2fd1d8bc5040a2711f1e7", "short_hash": "63cbf7a94142", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: some modifications to simplify and optimize code", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-REFACTOR"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 5, "insertions": 130, "deletions": 110, "hunks": 94, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 12, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change (5 files, 94 hunks, 240 lines) in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 12, "details": "Simplification refactor for Hisilicon HNS3 driver users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple signed-offs but minimal testing evidence"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Code simplification refactoring removing redundant null checks and consolidating reset logic", "code_snippet": "@@ -1194,7 +1188,7 @@ static int hns3_set_phys_id(struct net_device *netdev,\n {\n \tstruct hnae3_handle *h = hns3_get_handle(netdev);\n \n-\tif (!h->ae_algo || !h->ae_algo->ops || !h->ae_algo->ops->set_led_id)\n+\tif (!h->ae_algo->ops->set_led_id)\n \t\treturn -EOPNOTSUPP;\n \n \treturn h->ae_algo->ops->set_led_id(h, state);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\nindex 9d9d6193b360..92c92f965576 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/63cbf7a9414291597ec2fd1d8bc5040a2711f1e7"}
{"commit_hash": "b37ce5876d7f3fc24dc7ef7e32cd271f7b9500f4", "short_hash": "b37ce5876d7f", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: use macros instead of magic numbers", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-NAMING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 8, "insertions": 75, "deletions": 34, "hunks": 72, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 12, "score_impact": 8, "score_quality": 4, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium changes: 8 files, 72 hunks, 109 lines in driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Basic Signed-off-by chain, simple commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, davem maintainer committed"}}, "score_justification": "Macro refactoring across HNS3 driver replacing magic numbers", "code_snippet": "@@ -649,6 +649,11 @@ enum hclge_mac_vlan_tbl_opcode {\n \tHCLGE_MAC_VLAN_LKUP,    /* Lookup a entry through mac_vlan key */\n };\n \n+enum hclge_mac_vlan_add_resp_code {\n+\tHCLGE_ADD_UC_OVERFLOW = 2,\t/* ADD failed for UC overflow */\n+\tHCLGE_ADD_MC_OVERFLOW,\t\t/* ADD failed for MC overflow */\n+};\n+\n #define HCLGE_MAC_VLAN_BIT0_EN_B\t0\n #define HCLGE_MAC_VLAN_BIT1_EN_B\t1\n #define HCLGE_MAC_EPORT_SW_EN_B\t\t12\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\nindex e1007d96925b..c2844e142aba 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_debugfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b37ce5876d7f3fc24dc7ef7e32cd271f7b9500f4"}
{"commit_hash": "e91e388ca737d45018425a92ce7035064b590bc6", "short_hash": "e91e388ca737", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: small changes for magic numbers", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 79, "deletions": 63, "hunks": 32, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 12, "score_impact": 6, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium cleanup in network driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Low impact code readability improvement"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message, multiple sign-offs, no tests"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different maintainer domain, same company"}}, "score_justification": "Cleanup replacing magic numbers with named macros (ETH_ALEN, IPV4_INDEX, IPV6_SIZE) in hns3 driver", "code_snippet": "@@ -4490,19 +4490,19 @@ static bool hclge_fd_convert_tuple(u32 tuple_bit, u8 *key_x, u8 *key_y,\n \tcase 0:\n \t\treturn false;\n \tcase BIT(INNER_DST_MAC):\n-\t\tfor (i = 0; i < 6; i++) {\n-\t\t\tcalc_x(key_x[5 - i], rule->tuples.dst_mac[i],\n+\t\tfor (i = 0; i < ETH_ALEN; i++) {\n+\t\t\tcalc_x(key_x[ETH_ALEN - 1 - i], rule->tuples.dst_mac[i],\n \t\t\t       rule->tuples_mask.dst_mac[i]);\n-\t\t\tcalc_y(key_y[5 - i], rule->tuples.dst_mac[i],\n+\t\t\tcalc_y(key_y[ETH_ALEN - 1 - i], rule->tuples.dst_mac[i],\n \t\t\t       rule->tuples_mask.dst_mac[i]);\n \t\t}\n \n \t\treturn true;\n \tcase BIT(INNER_SRC_MAC):\n-\t\tfor (i = 0; i < 6; i++) {\n-\t\t\tcalc_x(key_x[5 - i], rule->tuples.src_mac[i],\n+\t\tfor (i = 0; i < ETH_ALEN; i++) {\n+\t\t\tcalc_x(key_x[ETH_ALEN - 1 - i], rule->tuples.src_mac[i],", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e91e388ca737d45018425a92ce7035064b590bc6"}
{"commit_hash": "b69c97373769eb3d0a2e0137d8f0f6df40becf04", "short_hash": "b69c97373769", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: delete the redundant user NIC codes", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 5, "insertions": 10, "deletions": 69, "hunks": 26, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 9, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change: 5 files, 26 hunks, -69 +10 lines removing dead code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 9, "details": "Cleanup with no stable tag, affects hns3 driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple co-developers, clear message but minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, David Miller maintainer from different org"}}, "score_justification": "Code cleanup removing unused UNIC client type from hns3 driver", "code_snippet": "@@ -16,14 +16,10 @@ static LIST_HEAD(hnae3_ae_dev_list);\n  */\n static DEFINE_MUTEX(hnae3_common_lock);\n \n-static bool hnae3_client_match(enum hnae3_client_type client_type,\n-\t\t\t       enum hnae3_dev_type dev_type)\n+static bool hnae3_client_match(enum hnae3_client_type client_type)\n {\n-\tif ((dev_type == HNAE3_DEV_KNIC) && (client_type == HNAE3_CLIENT_KNIC ||\n-\t\t\t\t\t     client_type == HNAE3_CLIENT_ROCE))\n-\t\treturn true;\n-\n-\tif (dev_type == HNAE3_DEV_UNIC && client_type == HNAE3_CLIENT_UNIC)\n+\tif (client_type == HNAE3_CLIENT_KNIC ||\n+\t    client_type == HNAE3_CLIENT_ROCE)\n \t\treturn true;\n \n \treturn false;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b69c97373769eb3d0a2e0137d8f0f6df40becf04"}
{"commit_hash": "0cd8618298cc390309ddaf2549d30218418f739b", "short_hash": "0cd8618298cc", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-07T10:03:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: trigger VF reset if a VF has an over_8bd_nfe_err", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 4, "insertions": 99, "deletions": 2, "hunks": 12, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 15, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in networking driver with 4 files, 12 hunks, +99 lines"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Logic fix improving VF error handling for Hisilicon NIC users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with context, but only Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Hisilicon, maintainer David Miller committed"}}, "score_justification": "VF vs PF reset logic improvement for RAS error handling in Hisilicon NIC driver", "code_snippet": "@@ -180,6 +180,9 @@ enum hclge_opcode_type {\n \tHCLGE_OPC_CFG_COM_TQP_QUEUE\t= 0x0B20,\n \tHCLGE_OPC_RESET_TQP_QUEUE\t= 0x0B22,\n \n+\t/* PPU commands */\n+\tHCLGE_OPC_PPU_PF_OTHER_INT_DFX\t= 0x0B4A,\n+\n \t/* TSO command */\n \tHCLGE_OPC_TSO_GENERIC_CONFIG\t= 0x0C01,\n \tHCLGE_OPC_GRO_GENERIC_CONFIG    = 0x0C10,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0cd8618298cc390309ddaf2549d30218418f739b"}
{"commit_hash": "4a43caf5b74f80749f4e76edd151244ce59f0a47", "short_hash": "4a43caf5b74f", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-07T10:03:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T13:20:59-07:00", "subject": "net: hns3: refactor hns3_get_new_int_gl function", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 45, "deletions": 32, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 12, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code reorganization for NIC driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message, multiple reviewers, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Refactoring of interrupt coalescence logic in HNS3 driver for readability", "code_snippet": "@@ -2938,36 +2938,20 @@ int hns3_clean_rx_ring(\n \treturn recv_pkts;\n }\n \n-static bool hns3_get_new_int_gl(struct hns3_enet_ring_group *ring_group)\n+static bool hns3_get_new_flow_lvl(struct hns3_enet_ring_group *ring_group)\n {\n-\tstruct hns3_enet_tqp_vector *tqp_vector =\n-\t\t\t\t\tring_group->ring->tqp_vector;\n+#define HNS3_RX_LOW_BYTE_RATE 10000\n+#define HNS3_RX_MID_BYTE_RATE 20000\n+#define HNS3_RX_ULTRA_PACKET_RATE 40\n+\n \tenum hns3_flow_level_range new_flow_level;\n-\tint packets_per_msecs;\n-\tint bytes_per_msecs;\n+\tstruct hns3_enet_tqp_vector *tqp_vector;\n+\tint packets_per_msecs, bytes_per_msecs;\n \tu32 time_passed_ms;\n-\tu16 new_int_gl;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4a43caf5b74f80749f4e76edd151244ce59f0a47"}
{"commit_hash": "ad3a9ee0b623da60b6a3b77573b448ca10d40117", "short_hash": "ad3a9ee0b623", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-06-09T15:11:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-09T20:11:53-07:00", "subject": "ocelot: remove unused variable 'rc' in vcap_cmd()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -105,7 +105,6 @@ static void vcap_cmd(struct ocelot *oc, u16 ix, int cmd, int sel)\n \tu32 value = (S2_CORE_UPDATE_CTRL_UPDATE_CMD(cmd) |\n \t\t     S2_CORE_UPDATE_CTRL_UPDATE_ADDR(ix) |\n \t\t     S2_CORE_UPDATE_CTRL_UPDATE_SHOT);\n-\tint rc;\n \n \tif ((sel & VCAP_SEL_ENTRY) && ix >= vcap_is2.entry_count)\n \t\treturn;", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/ad3a9ee0b623da60b6a3b77573b448ca10d40117"}
{"commit_hash": "9037829ca29e53e885c0e4ec0a9d203ec5fa77d8", "short_hash": "9037829ca29e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T22:17:44+08:00", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-06-10T05:16:38-07:00", "subject": "ARM: OMAP2+: Make some variables static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm", "subsystems_touched": ["arch/arm/mach-omap2"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file change in arch/arm"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix only affects compile-time"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple fix with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from different org"}}, "score_justification": "Sparse warning fix adding static to 4 variables in ARM OMAP2+ code", "code_snippet": "@@ -529,7 +529,7 @@ static struct omap_hwmod_class_sysconfig am33xx_gpio_sysc = {\n \t.sysc_fields\t= &omap_hwmod_sysc_type1,\n };\n \n-struct omap_hwmod_class am33xx_gpio_hwmod_class = {\n+static struct omap_hwmod_class am33xx_gpio_hwmod_class = {\n \t.name\t\t= \"gpio\",\n \t.sysc\t\t= &am33xx_gpio_sysc,\n };", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9037829ca29e53e885c0e4ec0a9d203ec5fa77d8"}
{"commit_hash": "948622f9840ad8d5c979c3c82505d1ee9e1f8b11", "short_hash": "948622f9840a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-10T23:19:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-10T10:38:50-07:00", "subject": "tcp: Make tcp_fastopen_alloc_ctx static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jason Baron <jbaron@akamai.com> (Akamai)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, 6 lines changed in networking"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by, Reported-by tags, clear sparse warning fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Akamai reviewer, netdev maintainer commit"}}, "score_justification": "Sparse warning fix adding static to local function in TCP fastopen", "code_snippet": "@@ -72,9 +72,9 @@ void tcp_fastopen_ctx_destroy(struct net *net)\n \t\tcall_rcu(&ctxt->rcu, tcp_fastopen_ctx_free);\n }\n \n-struct tcp_fastopen_context *tcp_fastopen_alloc_ctx(void *primary_key,\n-\t\t\t\t\t\t    void *backup_key,\n-\t\t\t\t\t\t    unsigned int len)\n+static struct tcp_fastopen_context *tcp_fastopen_alloc_ctx(void *primary_key,\n+\t\t\t\t\t\t\t   void *backup_key,\n+\t\t\t\t\t\t\t   unsigned int len)\n {\n \tstruct tcp_fastopen_context *new_ctx;\n \tvoid *key = primary_key;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/948622f9840ad8d5c979c3c82505d1ee9e1f8b11"}
{"commit_hash": "0f2692f7f2820aff5ebbda9723ddd63e800819cb", "short_hash": "0f2692f7f282", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T22:29:12+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T16:10:33+02:00", "subject": "staging: fieldbus: Fix build error without CONFIG_REGMAP_MMIO", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 2411a336c8ce (\"staging: fieldbus: arcx-anybus: change custom -> mmio regmap\")", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging/fieldbus"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Sven Van Asbroeck <TheSven73@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 5, "score_impact": 11, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line Kconfig fix in staging driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "Build regression fix affecting staging driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Clean regression fix with proper tags and robot report"}, "community": {"cross_org": 1, "maintainer": 2, "response": 2, "subtotal": 5, "details": "Robot-reported fix with cross-company maintainer signoff"}}, "score_justification": "Kconfig build dependency fix for regression in staging driver", "code_snippet": "@@ -14,6 +14,7 @@ if HMS_ANYBUSS_BUS\n config ARCX_ANYBUS_CONTROLLER\n \ttristate \"Arcx Anybus-S Controller\"\n \tdepends on OF && GPIOLIB && HAS_IOMEM && REGULATOR\n+\tselect REGMAP_MMIO\n \thelp\n \t  Select this to get support for the Arcx Anybus controller.\n \t  It connects to the SoC via a parallel memory bus, and\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0f2692f7f2820aff5ebbda9723ddd63e800819cb"}
{"commit_hash": "f2f5f77a22c1b3d99c79245e32f40f2782f603ca", "short_hash": "f2f5f77a22c1", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-04-23T15:50:01+08:00", "committer_name": "Tomi Valkeinen", "committer_email": "tomi.valkeinen@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-06-10T17:04:15+03:00", "subject": "drm/omap: Use dev_get_drvdata()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drm/omap", "subsystems_touched": ["drivers/gpu/drm/omapdrm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 6, "deletions": 12, "hunks": 12, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Tomi Valkeinen <tomi.valkeinen@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 12 hunks, 18 lines in DRM driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with no user-facing change"}, "quality": {"review_chain": 3, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, 2 reviewers, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (TI) from different companies"}}, "score_justification": "API migration simplifying 6 sysfs functions to use dev_get_drvdata directly", "code_snippet": "@@ -410,8 +410,7 @@ static const struct backlight_ops dsicm_bl_ops = {\n static ssize_t dsicm_num_errors_show(struct device *dev,\n \t\tstruct device_attribute *attr, char *buf)\n {\n-\tstruct platform_device *pdev = to_platform_device(dev);\n-\tstruct panel_drv_data *ddata = platform_get_drvdata(pdev);\n+\tstruct panel_drv_data *ddata = dev_get_drvdata(dev);\n \tstruct omap_dss_device *src = ddata->src;\n \tu8 errors = 0;\n \tint r;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2f5f77a22c1b3d99c79245e32f40f2782f603ca"}
{"commit_hash": "65f1a0d39c289bb6fc85635528cd36c4b07f560e", "short_hash": "65f1a0d39c28", "author_name": "Wang Hai", "author_email": "wanghai26@huawei.com", "author_company": "Huawei", "author_date": "2019-05-15T22:37:25+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-10T17:11:09+02:00", "subject": "memstick: Fix error cleanup path of memstick_init", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: baf8532a147d (\"memstick: initial commit for Sony MemoryStick support\")", "cc_stable": false, "subsystem_prefix": "memstick", "subsystems_touched": ["drivers/memstick"], "subsystem_tier": 4, "files_changed": 1, "insertions": 9, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Wang Hai <wanghai26@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 6, "score_impact": 19, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in peripheral driver (2 hunks, +9 -4 lines)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Crash fix with KASAN null-ptr-deref, affects memstick users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 2, "atomicity": 2, "subtotal": 10, "details": "Has Fixes/Reported-by tags, includes syzkaller crash trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org: Huawei author, Linaro maintainer, internal robot report"}}, "score_justification": "Null-ptr-deref crash fix in error path with detailed KASAN report", "code_snippet": "@@ -629,13 +629,18 @@ static int __init memstick_init(void)\n \t\treturn -ENOMEM;\n \n \trc = bus_register(&memstick_bus_type);\n-\tif (!rc)\n-\t\trc = class_register(&memstick_host_class);\n+\tif (rc)\n+\t\tgoto error_destroy_workqueue;\n \n-\tif (!rc)\n-\t\treturn 0;\n+\trc = class_register(&memstick_host_class);\n+\tif (rc)\n+\t\tgoto error_bus_unregister;\n+\n+\treturn 0;\n \n+error_bus_unregister:\n \tbus_unregister(&memstick_bus_type);\n+error_destroy_workqueue:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/65f1a0d39c289bb6fc85635528cd36c4b07f560e"}
{"commit_hash": "b0c35cb59f7b640f455fa426074fea155296a37c", "short_hash": "b0c35cb59f7b", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T23:23:24+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T18:44:22+02:00", "subject": "misc: mic: scif: fix potential double free of scif_dev", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/misc", "subsystems_touched": ["drivers/misc/mic/scif"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 6, "score_impact": 17, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1-line fix in misc driver across 2 hunks"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Double-free bug causing kernel panic for MIC users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 2, "atomicity": 2, "subtotal": 10, "details": "Bug report from Hulk Robot, maintainer signoff, stack trace included"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Linux Foundation committer, reported by CI robot"}}, "score_justification": "Double-free bug fix in MIC SCIF driver causing kernel BUG_ON crashes", "code_snippet": "@@ -133,6 +133,7 @@ static int scif_setup_scifdev(void)\n static void scif_destroy_scifdev(void)\n {\n \tkfree(scif_dev);\n+\tscif_dev = NULL;\n }\n \n static int scif_probe(struct scif_hw_dev *sdev)\n", "flags": ["REPORTED_BY_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/b0c35cb59f7b640f455fa426074fea155296a37c"}
{"commit_hash": "929ffa4ade6ccc0059368ff55ca7b866b178ca47", "short_hash": "929ffa4ade6c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:04:49+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T18:47:52+02:00", "subject": "serial: stm32: Make stm32_get_databits static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -600,7 +600,7 @@ static void stm32_shutdown(struct uart_port *port)\n \tfree_irq(port->irq, port);\n }\n \n-unsigned int stm32_get_databits(struct ktermios *termios)\n+static unsigned int stm32_get_databits(struct ktermios *termios)\n {\n \tunsigned int bits;\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/929ffa4ade6ccc0059368ff55ca7b866b178ca47"}
{"commit_hash": "1f74dfa803e3e82978d45b36a70926256344399e", "short_hash": "1f74dfa803e3", "author_name": "Long Cheng", "author_email": "long.cheng@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-23T15:35:09+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T19:08:31+02:00", "subject": "serial: 8250-mtk: modify uart DMA rx", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial/8250"], "subsystem_tier": 3, "files_changed": 1, "insertions": 20, "deletions": 29, "hunks": 10, "review_chain": {"signed_off_by": ["Long Cheng <long.cheng@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Vinod Koul <vkoul@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 15, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small changes to serial DMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement to serial DMA"}, "quality": {"review_chain": 3, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with minimal commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company with kernel.org maintainer"}}, "score_justification": "DMA rx modification for MediaTek serial driver with proper review", "code_snippet": "@@ -47,7 +47,6 @@\n #define MTK_UART_DMA_EN_RX\t0x5\n \n #define MTK_UART_ESCAPE_CHAR\t0x77\t/* Escape char added under sw fc */\n-#define MTK_UART_TX_SIZE\tUART_XMIT_SIZE\n #define MTK_UART_RX_SIZE\t0x8000\n #define MTK_UART_TX_TRIGGER\t1\n #define MTK_UART_RX_TRIGGER\tMTK_UART_RX_SIZE", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1f74dfa803e3e82978d45b36a70926256344399e"}
{"commit_hash": "c7ad9ba0611c53cfe194223db02e3bca015f0674", "short_hash": "c7ad9ba0611c", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T21:37:33+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T19:08:31+02:00", "subject": "tty/serial: digicolor: Fix digicolor-usart already registered warning", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Baruch Siach <baruch@tkos.co.il> (Co)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 6, "score_impact": 13, "score_quality": 12, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in serial driver with proper error handling"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix with specific symptoms and user report"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Has Reviewed-by, detailed explanation with stack trace"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Author(Huawei), committer(Linux Foundation), reporter(Huawei)"}}, "score_justification": "Error path cleanup fix in serial driver with missing uart_unregister_driver()", "code_snippet": "@@ -541,7 +541,11 @@ static int __init digicolor_uart_init(void)\n \tif (ret)\n \t\treturn ret;\n \n-\treturn platform_driver_register(&digicolor_uart_platform);\n+\tret = platform_driver_register(&digicolor_uart_platform);\n+\tif (ret)\n+\t\tuart_unregister_driver(&digicolor_uart);\n+\n+\treturn ret;\n }\n module_init(digicolor_uart_init);\n \n", "flags": ["HAS_REPORTED_BY"], "link": "https://lore.kernel.org/linux-kernel/c7ad9ba0611c53cfe194223db02e3bca015f0674"}
{"commit_hash": "e137d34f94ebcb6508d7c8614ac045583fffbe2a", "short_hash": "e137d34f94eb", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-10T10:52:29+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-10T19:43:57+02:00", "subject": "Revert \"usb: mtu3: fix up undefined reference to usb_debug_root\"", "primary_category": "BACK-REVERT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/mtu3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 8, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 6, "details": "Revert of unnecessary fix, affects MediaTek USB users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with reference to related commit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Linux Foundation maintainer"}}, "score_justification": "Revert commit fixing undefined reference after usb_debug_root moved to common core", "code_snippet": "@@ -528,7 +528,8 @@ void ssusb_dr_debugfs_init(struct ssusb_mtk *ssusb)\n \n void ssusb_debugfs_create_root(struct ssusb_mtk *ssusb)\n {\n-\tssusb->dbgfs_root = debugfs_create_dir(dev_name(ssusb->dev), NULL);\n+\tssusb->dbgfs_root =\n+\t\tdebugfs_create_dir(dev_name(ssusb->dev), usb_debug_root);\n }\n \n void ssusb_debugfs_remove_root(struct ssusb_mtk *ssusb)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e137d34f94ebcb6508d7c8614ac045583fffbe2a"}
{"commit_hash": "dbcbabf7da921f98beefb4a6f4b91eb62d072076", "short_hash": "dbcbabf7da92", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:09:08+08:00", "committer_name": "Benjamin Tissoires", "committer_email": "benjamin.tissoires@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-11T10:52:13+02:00", "subject": "HID: logitech-dj: fix return value of logi_dj_recv_query_hidpp_devices", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 74808f9115ce (\"HID: logitech-dj: add support for non unifying receivers\")", "cc_stable": false, "subsystem_prefix": "hid", "subsystems_touched": ["drivers/hid"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Benjamin Tissoires <benjamin.tissoires@redhat.com> (Redhat)"], "reviewed_by": ["Hans de Goede <hdegoede@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 6, "score_impact": 15, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 2-line change in HID driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix with regression tag"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Reviewed-by with clear Fixes tag"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, RedHat maintainer/reviewer"}}, "score_justification": "Wrong return value bug in HID driver, cross-org review with regression fix", "code_snippet": "@@ -1133,7 +1133,7 @@ static int logi_dj_recv_query_hidpp_devices(struct dj_receiver_dev *djrcv_dev)\n \t\t\t\t    HID_REQ_SET_REPORT);\n \n \tkfree(hidpp_report);\n-\treturn 0;\n+\treturn retval;\n }\n \n static int logi_dj_recv_query_paired_devices(struct dj_receiver_dev *djrcv_dev)\n", "flags": ["cross_org_review"], "link": "https://lore.kernel.org/linux-kernel/dbcbabf7da921f98beefb4a6f4b91eb62d072076"}
{"commit_hash": "d670d44582841cdd17a6d73f6d57027f14b31302", "short_hash": "d670d4458284", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T04:12:14Z", "committer_name": "Takashi Iwai", "committer_email": "tiwai@suse.de", "committer_company": "Suse", "commit_date": "2019-06-11T11:35:04+02:00", "subject": "ALSA: lx6464es - Remove set but not used variables 'orun_mask, urun_mask'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound/", "subsystems_touched": ["sound/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Takashi Iwai <tiwai@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1001,8 +1001,6 @@ static int lx_interrupt_handle_async_events(struct lx6464es *chip, u32 irqsrc,\n \t * Stat[8]\tLSB overrun\n \t * */\n \n-\tu64 orun_mask;\n-\tu64 urun_mask;\n \tint eb_pending_out = (irqsrc & MASK_SYS_STATUS_EOBO) ? 1 : 0;\n \tint eb_pending_in  = (irqsrc & MASK_SYS_STATUS_EOBI) ? 1 : 0;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d670d44582841cdd17a6d73f6d57027f14b31302"}
{"commit_hash": "46088059aaa0ec2143a1005bfc58d2a7c741b93f", "short_hash": "46088059aaa0", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T09:32:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-11T12:11:11-07:00", "subject": "packet: remove unused variable 'status' in __packet_lookup_frame_in_block", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/packet"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 10, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal, minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with historical context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Dead parameter removal in networking packet layer, cross-org commit", "code_snippet": "@@ -1003,7 +1003,6 @@ static void prb_fill_curr_block(char *curr,\n /* Assumes caller has the sk->rx_queue.lock */\n static void *__packet_lookup_frame_in_block(struct packet_sock *po,\n \t\t\t\t\t    struct sk_buff *skb,\n-\t\t\t\t\t\tint status,\n \t\t\t\t\t    unsigned int len\n \t\t\t\t\t    )\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/46088059aaa0ec2143a1005bfc58d2a7c741b93f"}
{"commit_hash": "d1c5947ec6789b7d72cd7365f4e37ec326dbd9b6", "short_hash": "d1c5947ec678", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T21:48:15+08:00", "committer_name": "James Morris", "committer_email": "jamorris@linux.microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-06-11T14:05:16-07:00", "subject": "security: Make capability_hooks static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "security", "subsystems_touched": ["security"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "James Morris <jamorris@linux.microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in security subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single logical change with proper review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Microsoft maintainer accepted"}}, "score_justification": "Sparse warning fix adding static to capability_hooks array", "code_snippet": "@@ -1344,7 +1344,7 @@ int cap_mmap_file(struct file *file, unsigned long reqprot,\n \n #ifdef CONFIG_SECURITY\n \n-struct security_hook_list capability_hooks[] __lsm_ro_after_init = {\n+static struct security_hook_list capability_hooks[] __lsm_ro_after_init = {\n \tLSM_HOOK_INIT(capable, cap_capable),\n \tLSM_HOOK_INIT(settime, cap_settime),\n \tLSM_HOOK_INIT(ptrace_access_check, cap_ptrace_access_check),\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d1c5947ec6789b7d72cd7365f4e37ec326dbd9b6"}
{"commit_hash": "cdaf018c54bd957d5ee00b1b8c3c74e18138ee6e", "short_hash": "cdaf018c54bd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:28:06+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-11T21:17:50+03:00", "subject": "Platform: OLPC: Add INPUT dependencies", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 0c3d931b3ab9 (\"Platform: OLPC: Add XO-1.75 EC driver\")", "cc_stable": false, "subsystem_prefix": "platform", "subsystems_touched": ["drivers/platform/olpc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 5, "score_impact": 11, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single-line Kconfig fix in platform driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "Build error fix with regression tag, affects OLPC platform users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes tag, build error details, and reporter credit"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-company (Huawei to Intel), external report from Hulk Robot"}}, "score_justification": "Kconfig build dependency fix for undefined input symbols, regression from earlier driver addition", "code_snippet": "@@ -6,6 +6,7 @@ config OLPC_XO175_EC\n \ttristate \"OLPC XO 1.75 Embedded Controller\"\n \tdepends on ARCH_MMP || COMPILE_TEST\n \tdepends on SPI_SLAVE\n+\tdepends on INPUT\n \tselect OLPC_EC\n \thelp\n \t  Include support for the OLPC XO Embedded Controller (EC). The EC\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cdaf018c54bd957d5ee00b1b8c3c74e18138ee6e"}
{"commit_hash": "ad04ca76c6536c7a3176b7413fde20fa3318b7bf", "short_hash": "ad04ca76c653", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:28:05+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-11T21:17:50+03:00", "subject": "Platform: OLPC: Fix build error without CONFIG_SPI", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 0c3d931b3ab9 (\"Platform: OLPC: Add XO-1.75 EC driver\")", "cc_stable": false, "subsystem_prefix": "drivers/platform/olpc", "subsystems_touched": ["drivers/platform/olpc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 12, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny 2-line change in platform driver Kconfig"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix affecting OLPC platform users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Clear build error explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org (Huawei/Intel) with maintainer signoff"}}, "score_justification": "Kconfig dependency fix resolving undefined reference build errors", "code_snippet": "@@ -5,7 +5,7 @@ config OLPC_EC\n config OLPC_XO175_EC\n \ttristate \"OLPC XO 1.75 Embedded Controller\"\n \tdepends on ARCH_MMP || COMPILE_TEST\n-\tselect SPI_SLAVE\n+\tdepends on SPI_SLAVE\n \tselect OLPC_EC\n \thelp\n \t  Include support for the OLPC XO Embedded Controller (EC). The EC\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ad04ca76c6536c7a3176b7413fde20fa3318b7bf"}
{"commit_hash": "102308f557bca8e539a800614b0e274945a81cdf", "short_hash": "102308f557bc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-12T11:18:25+08:00", "committer_name": "Corey Minyard", "committer_email": "cminyard@mvista.com", "committer_company": "Mvista", "commit_date": "2019-06-12T07:18:59-05:00", "subject": "ipmi: ipmb: Fix build error while CONFIG_I2C is set to m", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 51bd6f291583 (\"Add support for IPMB driver\")", "cc_stable": false, "subsystem_prefix": "drivers/char/ipmi", "subsystems_touched": ["drivers/char/ipmi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Corey Minyard <cminyard@mvista.com> (Mvista)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 6, "score_impact": 11, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Single-line Kconfig dependency fix in IPMI driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "Build error fix affecting IPMB device users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with Fixes tag and build error details"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, external maintainer, Hulk Robot report"}}, "score_justification": "Kconfig dependency fix for build error in IPMI driver with proper Fixes tag and cross-org review", "code_snippet": "@@ -134,6 +134,7 @@ config ASPEED_BT_IPMI_BMC\n \n config IPMB_DEVICE_INTERFACE\n \ttristate 'IPMB Interface handler'\n+\tdepends on I2C\n \tdepends on I2C_SLAVE\n \thelp\n \t  Provides a driver for a device (Satellite MC) to\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/102308f557bca8e539a800614b0e274945a81cdf"}
{"commit_hash": "83eb5cfcd5e35967d5e136d1266378933372a41a", "short_hash": "83eb5cfcd5e3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-12T12:19:54+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-12T10:22:02+05:30", "subject": "dmaengine: dw-edma: Fix build error without CONFIG_PCI_MSI", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e63d79d1ffcd (\"dmaengine: Add Synopsys eDMA IP core driver\")", "cc_stable": false, "subsystem_prefix": "dmaengine", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)", "Randy Dunlap <rdunlap@infradead.org> (Infradead)"]}, "score_total": 34, "score_technical": 6, "score_impact": 12, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Single dependency line added to Kconfig"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix for DMA driver, has Fixes tag"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 10, "details": "Clear build error report with fixes tag and reporters"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, kernel.org maintainer, external robot report"}}, "score_justification": "Build dependency fix for DMA driver with clear error report and external reporter", "code_snippet": "@@ -2,6 +2,7 @@\n \n config DW_EDMA\n \ttristate \"Synopsys DesignWare eDMA controller driver\"\n+\tdepends on PCI && PCI_MSI\n \tselect DMA_ENGINE\n \tselect DMA_VIRTUAL_CHANNELS\n \thelp\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83eb5cfcd5e35967d5e136d1266378933372a41a"}
{"commit_hash": "3510c68d32bf3a188c077b5fb87339379f4e6b43", "short_hash": "3510c68d32bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-12T06:05:36-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-12T10:45:30-04:00", "subject": "media: meson: vdec: Add missing kthread.h", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging/media", "subsystems_touched": ["drivers/staging/media/meson/vdec"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Maxime Jourdan <mjourdan@baylibre.com> (BayLibre)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 5, "score_impact": 8, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single include line in staging driver"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 8, "details": "Build fix preventing compilation error"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple reviewers, clear fix with error context"}, "community": {"cross_org": 3, "maintainer": 2, "response": 1, "subtotal": 6, "details": "Huawei author, different maintainer orgs, bot report"}}, "score_justification": "Missing include fix for implicit function declaration in staging driver", "code_snippet": "@@ -12,6 +12,7 @@\n #include <linux/mfd/syscon.h>\n #include <linux/slab.h>\n #include <linux/interrupt.h>\n+#include <linux/kthread.h>\n #include <media/v4l2-ioctl.h>\n #include <media/v4l2-event.h>\n #include <media/v4l2-ctrls.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3510c68d32bf3a188c077b5fb87339379f4e6b43"}
{"commit_hash": "84f669b4b8c909f3588bc80416b47e3c185504de", "short_hash": "84f669b4b8c9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T22:38:44+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-12T12:42:27+03:00", "subject": "platform/x86: pcengines-apuv2: Make two symbols static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Enrico Weigelt, metux IT consult <info@metux.net> (Metux)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -77,7 +77,7 @@ static const struct gpio_led_platform_data apu2_leds_pdata = {\n \t.leds\t\t= apu2_leds,\n };\n \n-struct gpiod_lookup_table gpios_led_table = {\n+static struct gpiod_lookup_table gpios_led_table = {\n \t.dev_id = \"leds-gpio\",\n \t.table = {\n \t\tGPIO_LOOKUP_IDX(AMD_FCH_GPIO_DRIVER_NAME, APU2_GPIO_LINE_LED1,", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/84f669b4b8c909f3588bc80416b47e3c185504de"}
{"commit_hash": "c56b4ef1cf0c2a2ee2593ea6f3c0b3198af11f48", "short_hash": "c56b4ef1cf0c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-20T22:08:12+08:00", "committer_name": "Jon Mason", "committer_email": "jdmason@kudzu.us", "committer_company": "Kudzu", "commit_date": "2019-06-13T08:53:19-04:00", "subject": "ntb: intel: Make intel_ntb3_peer_db_addr static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/ntb", "subsystems_touched": ["drivers/ntb/hw/intel"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jon Mason <jdmason@kudzu.us> (Kudzu)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Dave Jiang <dave.jiang@intel.com> (Intel)"], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file change adding static keyword"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean message with acked-by, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer committed"}}, "score_justification": "Sparse warning fix adding static to local function in NTB driver", "code_snippet": "@@ -532,9 +532,9 @@ static int intel_ntb3_mw_set_trans(struct ntb_dev *ntb, int pidx, int idx,\n \treturn 0;\n }\n \n-int intel_ntb3_peer_db_addr(struct ntb_dev *ntb, phys_addr_t *db_addr,\n-\t\t\t\tresource_size_t *db_size,\n-\t\t\t\tu64 *db_data, int db_bit)\n+static int intel_ntb3_peer_db_addr(struct ntb_dev *ntb, phys_addr_t *db_addr,\n+\t\t\t\t   resource_size_t *db_size,\n+\t\t\t\t   u64 *db_data, int db_bit)\n {\n \tphys_addr_t db_addr_base;\n \tstruct intel_ntb_dev *ndev = ntb_ndev(ntb);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c56b4ef1cf0c2a2ee2593ea6f3c0b3198af11f48"}
{"commit_hash": "0bbb1374f1fe85268d6e78141dd2ca3c33ce8b56", "short_hash": "0bbb1374f1fe", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T21:42:28+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-13T10:47:49+02:00", "subject": "Staging: kpc2000: kpc_dma: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "staging", "subsystems_touched": ["drivers/staging"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in staging driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix only"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with warnings listed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Internal Huawei report, different maintainer"}}, "score_justification": "Sparse warning fix adding static to DEVICE_ATTR in staging driver", "code_snippet": "@@ -81,7 +81,7 @@ static ssize_t  show_engine_regs(struct device *dev, struct device_attribute *at\n \t\tldev->desc_completed\n \t);\n }\n-DEVICE_ATTR(engine_regs, 0444, show_engine_regs, NULL);\n+static DEVICE_ATTR(engine_regs, 0444, show_engine_regs, NULL);\n \n static const struct attribute *ndd_attr_list[] = {\n \t&dev_attr_engine_regs.attr,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0bbb1374f1fe85268d6e78141dd2ca3c33ce8b56"}
{"commit_hash": "1dbb98699cf0eaa1d86afca074074bfe669881d0", "short_hash": "1dbb98699cf0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T21:58:34+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-13T13:58:32-07:00", "subject": "net: dsa: sja1105: Make two functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/dsa", "subsystems_touched": ["drivers/net/dsa"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)"], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 4-line change in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime effect"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Includes Reported-by and Tested-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit, robot report"}}, "score_justification": "Sparse warning fix adding static keyword to two functions in DSA driver", "code_snippet": "@@ -1845,8 +1845,8 @@ static void sja1105_rxtstamp_work(struct work_struct *work)\n }\n \n /* Called from dsa_skb_defer_rx_timestamp */\n-bool sja1105_port_rxtstamp(struct dsa_switch *ds, int port,\n-\t\t\t   struct sk_buff *skb, unsigned int type)\n+static bool sja1105_port_rxtstamp(struct dsa_switch *ds, int port,\n+\t\t\t\t  struct sk_buff *skb, unsigned int type)\n {\n \tstruct sja1105_private *priv = ds->priv;\n \tstruct sja1105_tagger_data *data = &priv->tagger_data;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1dbb98699cf0eaa1d86afca074074bfe669881d0"}
{"commit_hash": "5948d11766bc5b57aca6d82ba345a6ed8ccd8f80", "short_hash": "5948d11766bc", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T22:07:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-13T13:59:33-07:00", "subject": "qede: Make two functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/qlogic/qede"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in networking driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix only affects build"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Signed-off-by, sparse warning reported"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Sparse warning fix adding static to two qede driver functions", "code_snippet": "@@ -960,13 +960,13 @@ void __qede_unlock(struct qede_dev *edev)\n /* This version of the lock should be used when acquiring the RTNL lock is also\n  * needed in addition to the internal qede lock.\n  */\n-void qede_lock(struct qede_dev *edev)\n+static void qede_lock(struct qede_dev *edev)\n {\n \trtnl_lock();\n \t__qede_lock(edev);\n }\n \n-void qede_unlock(struct qede_dev *edev)\n+static void qede_unlock(struct qede_dev *edev)\n {\n \t__qede_unlock(edev);\n \trtnl_unlock();\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5948d11766bc5b57aca6d82ba345a6ed8ccd8f80"}
{"commit_hash": "dd508618486bb573141cecd5e4e5060b35c4aefe", "short_hash": "dd508618486b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-04T22:53:51+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-06-13T14:31:40+08:00", "subject": "crypto: bcm - Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/crypto", "subsystems_touched": ["drivers/crypto/bcm"], "subsystem_tier": 4, "files_changed": 2, "insertions": 9, "deletions": 9, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Small change in crypto driver fixing sparse warnings"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Includes Reported-by and clear explanation"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Internal robot report, maintainer reviewed"}}, "score_justification": "Sparse warning fix making internal symbols static in crypto driver", "code_snippet": "@@ -4864,7 +4864,7 @@ int bcm_spu_probe(struct platform_device *pdev)\n \treturn err;\n }\n \n-int bcm_spu_remove(struct platform_device *pdev)\n+static int bcm_spu_remove(struct platform_device *pdev)\n {\n \tint i;\n \tstruct device *dev = &pdev->dev;\ndiff --git a/drivers/crypto/bcm/spu2.c b/drivers/crypto/bcm/spu2.c\nindex bf7ac621c591..960b472be6fd 100644\n--- a/drivers/crypto/bcm/spu2.c\n+++ b/drivers/crypto/bcm/spu2.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd508618486bb573141cecd5e4e5060b35c4aefe"}
{"commit_hash": "8928aa6a007d0a58f500b79812ea8147ec477090", "short_hash": "8928aa6a007d", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-06-13T19:45:24+08:00", "committer_name": "Steffen Klassert", "committer_email": "steffen.klassert@secunet.com", "committer_company": "Secunet", "commit_date": "2019-06-14T08:31:32+02:00", "subject": "xfrm: remove empty xfrmi_init_net", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "xfrm", "subsystems_touched": ["net/xfrm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Steffen Klassert <steffen.klassert@secunet.com> (Secunet)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 10, "score_impact": 6, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny deletion in critical networking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Removes dead code, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean logical change with good explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company: Baidu author, Secunet maintainer"}}, "score_justification": "Removes empty init function leveraging static NULL initialization", "code_snippet": "@@ -793,11 +793,6 @@ static void __net_exit xfrmi_destroy_interfaces(struct xfrmi_net *xfrmn)\n \tunregister_netdevice_many(&list);\n }\n \n-static int __net_init xfrmi_init_net(struct net *net)\n-{\n-\treturn 0;\n-}\n-\n static void __net_exit xfrmi_exit_net(struct net *net)\n {\n \tstruct xfrmi_net *xfrmn = net_generic(net, xfrmi_net_id);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8928aa6a007d0a58f500b79812ea8147ec477090"}
{"commit_hash": "68f2529078f97dd4dc7f01bc4d495cf5f5814363", "short_hash": "68f2529078f9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T21:40:32+08:00", "committer_name": "Mimi Zohar", "committer_email": "zohar@linux.ibm.com", "committer_company": "IBM", "commit_date": "2019-06-14T08:53:57-04:00", "subject": "ima: Make arch_policy_entry static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6191706246de (\"ima: add support for arch specific policies\")", "cc_stable": true, "subsystem_prefix": "ima", "subsystems_touched": ["security/integrity/ima"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mimi Zohar <zohar@linux.ibm.com> (IBM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in critical security subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with stable backport to v5.0"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with Fixes tag, Reported-by, and stable tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company contribution (Huawei author, IBM maintainer) with automated robot report"}}, "score_justification": "Sparse warning fix in IMA security subsystem with cross-org review and stable backport", "code_snippet": "@@ -199,7 +199,7 @@ static struct ima_rule_entry secure_boot_rules[] __ro_after_init = {\n };\n \n /* An array of architecture specific rules */\n-struct ima_rule_entry *arch_policy_entry __ro_after_init;\n+static struct ima_rule_entry *arch_policy_entry __ro_after_init;\n \n static LIST_HEAD(ima_default_rules);\n static LIST_HEAD(ima_policy_rules);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68f2529078f97dd4dc7f01bc4d495cf5f5814363"}
{"commit_hash": "bc6f2a757d525e001268c3658bd88822e768f8db", "short_hash": "bc6f2a757d52", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T23:00:07+08:00", "committer_name": "Jessica Yu", "committer_email": "jeyu@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-14T09:31:09+02:00", "subject": "kernel/module: Fix mem leak in module_add_modinfo_attrs", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 03e88ae1b13d (\"[PATCH] fix module sysfs files reference counting\")", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/module"], "subsystem_tier": 2, "files_changed": 1, "insertions": 17, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jessica Yu <jeyu@kernel.org> (Kernel)"], "reviewed_by": ["Miroslav Benes <mbenes@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 12, "score_impact": 16, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical kernel/module subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix affecting module loading"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with Fixes tag and reviewer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit from Huawei to kernel.org maintainer"}}, "score_justification": "Memory leak fix in module loading with proper error path handling", "code_snippet": "@@ -1708,6 +1708,8 @@ static int add_usage_links(struct module *mod)\n \treturn ret;\n }\n \n+static void module_remove_modinfo_attrs(struct module *mod, int end);\n+\n static int module_add_modinfo_attrs(struct module *mod)\n {\n \tstruct module_attribute *attr;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc6f2a757d525e001268c3658bd88822e768f8db"}
{"commit_hash": "ff585c5b9a27e64084c84e2ddf24fd00bf8dcfc1", "short_hash": "ff585c5b9a27", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T23:32:10+08:00", "committer_name": "Steven Rostedt (VMware)", "committer_email": "rostedt@goodmis.org", "committer_company": "Goodmis", "commit_date": "2019-06-14T16:49:26-04:00", "subject": "tracing: Make two symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "tracing", "subsystems_touched": ["kernel/trace"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Tom Zanussi <tom.zanussi@linux.intel.com> (Intel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change (2 lines) in important tracing subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Acked-by tag, clear sparse warning context"}, "community": {"cross_org": 2, "maintainer": 1, "response": 0, "subtotal": 3, "details": "Huawei author, different maintainer, internal robot report"}}, "score_justification": "Sparse warning fix making two functions static in tracing code", "code_snippet": "@@ -6923,7 +6923,7 @@ struct tracing_log_err {\n \n static DEFINE_MUTEX(tracing_err_log_lock);\n \n-struct tracing_log_err *get_tracing_log_err(struct trace_array *tr)\n+static struct tracing_log_err *get_tracing_log_err(struct trace_array *tr)\n {\n \tstruct tracing_log_err *err;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff585c5b9a27e64084c84e2ddf24fd00bf8dcfc1"}
{"commit_hash": "04e03d9a616c19a47178eaca835358610e63a1dd", "short_hash": "04e03d9a616c", "author_name": "Wei Li", "author_email": "liwei391@huawei.com", "author_company": "Huawei", "author_date": "2019-06-06T11:17:54+08:00", "committer_name": "Steven Rostedt (VMware)", "committer_email": "rostedt@goodmis.org", "committer_company": "Goodmis", "commit_date": "2019-06-14T17:40:21-04:00", "subject": "ftrace: Fix NULL pointer dereference in free_ftrace_func_mapper()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: ", "cc_stable": false, "subsystem_prefix": "kernel/trace", "subsystems_touched": ["kernel/trace"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Li <liwei391@huawei.com> (Huawei)", "Steven Rostedt (VMware) <rostedt@goodmis.org> (Goodmis)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 10, "score_impact": 20, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical tracing subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Crash fix affecting ftrace users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 13, "details": "Good message with stack trace evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, VMware maintainer"}}, "score_justification": "NULL pointer dereference crash fix in ftrace with detailed reproduction steps and stack trace", "code_snippet": "@@ -4226,10 +4226,13 @@ void free_ftrace_func_mapper(struct ftrace_func_mapper *mapper,\n \tstruct ftrace_func_entry *entry;\n \tstruct ftrace_func_map *map;\n \tstruct hlist_head *hhd;\n-\tint size = 1 << mapper->hash.size_bits;\n-\tint i;\n+\tint size, i;\n+\n+\tif (!mapper)\n+\t\treturn;\n \n \tif (free_func && mapper->hash.count) {\n+\t\tsize = 1 << mapper->hash.size_bits;\n \t\tfor (i = 0; i < size; i++) {\n \t\t\thhd = &mapper->hash.buckets[i];\n \t\t\thlist_for_each_entry(entry, hhd, hlist) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04e03d9a616c19a47178eaca835358610e63a1dd"}
{"commit_hash": "e3b84ed27043d66a75cd229adc05426b6847dfa6", "short_hash": "e3b84ed27043", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:15-07:00", "subject": "net: hns3: add recovery for the H/W errors occurred before the HNS dev initialization", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 14, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Salil Mehta <salil.mehta@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in vendor network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Hardware error recovery for specific NIC"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, clear message"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Same company, maintainer applied, reported internally"}}, "score_justification": "Driver feature for hardware error recovery in Hisilicon NIC", "code_snippet": "@@ -3430,8 +3431,7 @@ static void hclge_reset_timer(struct timer_list *t)\n \tstruct hclge_dev *hdev = from_timer(hdev, t, reset_timer);\n \n \tdev_info(&hdev->pdev->dev,\n-\t\t \"triggering global reset in reset timer\\n\");\n-\tset_bit(HNAE3_GLOBAL_RESET, &hdev->default_reset_request);\n+\t\t \"triggering reset in reset timer\\n\");\n \thclge_reset_event(hdev->pdev, NULL);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e3b84ed27043d66a75cd229adc05426b6847dfa6"}
{"commit_hash": "9f65e5ef900f6590dc7c90ca2a956247da393b07", "short_hash": "9f65e5ef900f", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-13T17:12:25+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:15-07:00", "subject": "net: hns3: some changes of MSI-X bits in PPU(RCB)", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 13, "score_quality": 5, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in NIC driver across 2 files, 4 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 13, "details": "Logic fix preventing misleading error messages for Hisilicon NIC users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 1, "subtotal": 5, "details": "Only author Signed-off-by tags, explains rationale for change"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Hisilicon author, net maintainer David Miller committed"}}, "score_justification": "Driver fix reducing misleading error logs during init, bit mask cleanup", "code_snippet": "@@ -1780,9 +1780,8 @@ static int hclge_handle_all_hw_msix_error(struct hclge_dev *hdev,\n \tstatus = le32_to_cpu(*(desc_data + 2)) &\n \t\t\tHCLGE_PPU_MPF_INT_ST2_MSIX_MASK;\n \tif (status)\n-\t\thclge_log_error(dev, \"PPU_MPF_ABNORMAL_INT_ST2\",\n-\t\t\t\t&hclge_ppu_mpf_abnormal_int_st2[0],\n-\t\t\t\tstatus, reset_requests);\n+\t\tdev_warn(dev, \"PPU_MPF_ABNORMAL_INT_ST2 rx_q_search_miss found [dfx status=0x%x\\n]\",\n+\t\t\t status);\n \n \t/* clear all main PF MSIx errors */\n \tret = hclge_clear_hw_msix_error(hdev, desc, true, mpf_bd_num);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\nindex d821a76db140..db318a4aaf2f 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9f65e5ef900f6590dc7c90ca2a956247da393b07"}
{"commit_hash": "e4193e24a52016d9088e796c313f6eb3c9c540e0", "short_hash": "e4193e24a520", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:15-07:00", "subject": "net: hns3: process H/W errors occurred before HNS dev initialization", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 107, "deletions": 8, "hunks": 16, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 16, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change (107 insertions, 8 deletions) in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Bug fix adding new functionality for error handling"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with technical details, same-company review"}, "community": {"cross_org": 0, "maintainer": 3, "response": 0, "subtotal": 3, "details": "Maintainer applied from different org"}}, "score_justification": "Hardware error handling enhancement for Hisilicon network driver, processing pre-init errors", "code_snippet": "@@ -1595,6 +1595,12 @@ pci_ers_result_t hclge_handle_hw_ras_error(struct hnae3_ae_dev *ae_dev)\n \tstruct device *dev = &hdev->pdev->dev;\n \tu32 status;\n \n+\tif (!test_bit(HCLGE_STATE_SERVICE_INITED, &hdev->state)) {\n+\t\tdev_err(dev,\n+\t\t\t\"Can't recover - RAS error reported during dev init\\n\");\n+\t\treturn PCI_ERS_RESULT_NONE;\n+\t}\n+\n \tstatus = hclge_read_dev(&hdev->hw, HCLGE_RAS_PF_OTHER_INT_STS_REG);\n \n \tif (status & HCLGE_RAS_REG_NFE_MASK ||", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4193e24a52016d9088e796c313f6eb3c9c540e0"}
{"commit_hash": "a955d71df26c43337ca0ab8f9279d54715cd601f", "short_hash": "a955d71df26c", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:15-07:00", "subject": "net: hns3: fix avoid unnecessary resetting for the H/W errors which do not require reset", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 109, "deletions": 171, "hunks": 22, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)"]}, "score_total": 41, "score_technical": 12, "score_impact": 15, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor in NIC driver error handling"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Fix for NIC driver users, optimization enhancement"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, adequate message, no test tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei authors, netdev maintainer, Reported-by tag"}}, "score_justification": "Driver refactor avoiding unnecessary resets, optimizing error handling logic", "code_snippet": "@@ -631,29 +631,20 @@ static const struct hclge_hw_error hclge_rocee_qmm_ovf_err_int[] = {\n \t{ /* sentinel */ }\n };\n \n-static enum hnae3_reset_type hclge_log_error(struct device *dev, char *reg,\n-\t\t\t\t\t     const struct hclge_hw_error *err,\n-\t\t\t\t\t     u32 err_sts)\n+static void hclge_log_error(struct device *dev, char *reg,\n+\t\t\t    const struct hclge_hw_error *err,\n+\t\t\t    u32 err_sts, unsigned long *reset_requests)\n {\n-\tenum hnae3_reset_type reset_level = HNAE3_FUNC_RESET;\n-\tbool need_reset = false;\n-\n \twhile (err->msg) {\n \t\tif (err->int_msk & err_sts) {\n \t\t\tdev_warn(dev, \"%s %s found [error status=0x%x]\\n\",\n \t\t\t\t reg, err->msg, err_sts);\n-\t\t\tif (err->reset_level != HNAE3_NONE_RESET &&\n-\t\t\t    err->reset_level >= reset_level) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a955d71df26c43337ca0ab8f9279d54715cd601f"}
{"commit_hash": "123297b78bc6ce7b8b599d18952d99ada958dd27", "short_hash": "123297b78bc6", "author_name": "Shiju Jose", "author_email": "shiju.jose@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:21+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:15-07:00", "subject": "net: hns3: delay setting of reset level for hw errors until slot_reset is called", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 4, "insertions": 51, "deletions": 42, "hunks": 64, "review_chain": {"signed_off_by": ["Shiju Jose <shiju.jose@huawei.com> (Huawei)", "Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Salil Mehta <salil.mehta@huawei.com> (Huawei)"]}, "score_total": 44, "score_technical": 14, "score_impact": 16, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Medium-large driver change with 64 hunks across 4 files"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race condition fix affecting Hisilicon network driver users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with Reported-by, multiple internal sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer committer, internal bug report"}}, "score_justification": "Fixes race condition in PCI error handling reset level timing for Hisilicon hns3 driver", "code_snippet": "@@ -459,6 +460,8 @@ struct hnae3_ae_ops {\n \t\t\t\t  u16 vlan, u8 qos, __be16 proto);\n \tint (*enable_hw_strip_rxvtag)(struct hnae3_handle *handle, bool enable);\n \tvoid (*reset_event)(struct pci_dev *pdev, struct hnae3_handle *handle);\n+\tenum hnae3_reset_type (*get_reset_level)(struct hnae3_ae_dev *ae_dev,\n+\t\t\t\t\t\t unsigned long *addr);\n \tvoid (*set_default_reset_request)(struct hnae3_ae_dev *ae_dev,\n \t\t\t\t\t  enum hnae3_reset_type rst_type);\n \tvoid (*get_channels)(struct hnae3_handle *handle,\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\nindex fe2c2c5f4980..66d733b130b4 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/123297b78bc6ce7b8b599d18952d99ada958dd27"}
{"commit_hash": "ebaf1908772e0502081cbe4f64e59276770ba02b", "short_hash": "ebaf1908772e", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-13T17:12:32+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: some variable modification", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-NAMING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 12, "insertions": 95, "deletions": 61, "hunks": 102, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 12, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-size cleanup across 12 files in network driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 1, "subtotal": 6, "details": "Only author's sign-offs, descriptive message, no testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, different maintainer organization"}}, "score_justification": "Code cleanup adding const, changing signed to unsigned, adding struct for clarity", "code_snippet": "@@ -701,6 +701,17 @@ struct hclge_mac_tnl_stats {\n \n #define HCLGE_RESET_INTERVAL\t(10 * HZ)\n \n+#pragma pack(1)\n+struct hclge_vf_vlan_cfg {\n+\tu8 mbx_cmd;\n+\tu8 subcode;\n+\tu8 is_kill;\n+\tu16 vlan;\n+\tu16 proto;\n+};\n+\n+#pragma pack()\n+\n /* For each bit of TCAM entry, it uses a pair of 'x' and\n  * 'y' to indicate which value to match, like below:\n  * ----------------------------------", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ebaf1908772e0502081cbe4f64e59276770ba02b"}
{"commit_hash": "3a30964a2eef6aabd3ab18b979ea0eacf1147731", "short_hash": "3a30964a2eef", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:31+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: delay ring buffer clearing during reset", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: bb6b94a896d4 (\"net: hns3: Add reset interface implementation in client\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 20, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (12 hunks, +14/-5 lines)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Hardware accessing freed buffer is data corruption issue"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Fixes tag, good explanation, 3 internal reviews"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Fixes use-after-free data corruption in network driver ring buffer reset", "code_snippet": "@@ -488,7 +488,12 @@ static void hns3_nic_net_down(struct net_device *netdev)\n \t/* free irq resources */\n \thns3_nic_uninit_irq(priv);\n \n-\thns3_clear_all_ring(priv->ae_handle);\n+\t/* delay ring buffer clearing to hns3_reset_notify_uninit_enet\n+\t * during reset process, because driver may not be able\n+\t * to disable the ring through firmware when downing the netdev.\n+\t */\n+\tif (!hns3_nic_resetting(netdev))\n+\t\thns3_clear_all_ring(priv->ae_handle);\n }\n \n static int hns3_nic_net_stop(struct net_device *netdev)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3a30964a2eef6aabd3ab18b979ea0eacf1147731"}
{"commit_hash": "8f9eed1a8791b83eb1c54c261d68424717e4111e", "short_hash": "8f9eed1a8791", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: fix for skb leak when doing selftest", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: c39c4d98dc65 (\"net: hns3: Add mac loopback selftest support in hns3 driver\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 13, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in single driver file with low criticality"}, "impact": {"category_base": 7, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix for specific driver with regression tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple S-o-b tags, clear Fixes tag, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer committer"}}, "score_justification": "Memory leak fix in hns3 driver loopback selftest - adds kfree_skb on error path", "code_snippet": "@@ -250,11 +250,13 @@ static int hns3_lp_run_test(struct net_device *ndev, enum hnae3_loop mode)\n \n \t\tskb_get(skb);\n \t\ttx_ret = hns3_nic_net_xmit(skb, ndev);\n-\t\tif (tx_ret == NETDEV_TX_OK)\n+\t\tif (tx_ret == NETDEV_TX_OK) {\n \t\t\tgood_cnt++;\n-\t\telse\n+\t\t} else {\n+\t\t\tkfree_skb(skb);\n \t\t\tnetdev_err(ndev, \"hns3_lb_run_test xmit failed: %d\\n\",\n \t\t\t\t   tx_ret);\n+\t\t}\n \t}\n \tif (good_cnt != HNS3_NIC_LB_TEST_PKT_NUM) {\n \t\tret_val = HNS3_NIC_LB_TEST_TX_CNT_ERR;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8f9eed1a8791b83eb1c54c261d68424717e4111e"}
{"commit_hash": "d547ecdc1fc1eb5e9caf678d2f1c02cf3d77cbe7", "short_hash": "d547ecdc1fc1", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: free irq when exit from abnormal branch", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 1-line fix in NIC driver error path"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting Hisilicon NIC users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with context, no external testing"}, "community": {"cross_org": 1, "maintainer": 3, "response": 0, "subtotal": 4, "details": "Huawei author, @kernel.org maintainer committed"}}, "score_justification": "Resource leak fix in error path - missing cleanup when irq request fails", "code_snippet": "@@ -143,6 +143,7 @@ static int hns3_nic_init_irq(struct hns3_nic_priv *priv)\n \t\tif (ret) {\n \t\t\tnetdev_err(priv->netdev, \"request irq(%d) fail\\n\",\n \t\t\t\t   tqp_vectors->vector_irq);\n+\t\t\thns3_nic_uninit_irq(priv);\n \t\t\treturn ret;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d547ecdc1fc1eb5e9caf678d2f1c02cf3d77cbe7"}
{"commit_hash": "757188005f905664b0186b88cf26a7e844190a63", "short_hash": "757188005f90", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:29+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: fix for dereferencing before null checking", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 76ad4f0ee747 (\"net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 20, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in Ethernet driver with proper null checking"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Potential crash fix for hns3 driver users with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear message with Fixes tag and proper sign-offs"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Null pointer dereference fix in hns3 Ethernet driver, moves dereference after null check", "code_snippet": "@@ -1510,12 +1510,12 @@ static void hns3_nic_get_stats64(struct net_device *netdev,\n static int hns3_setup_tc(struct net_device *netdev, void *type_data)\n {\n \tstruct tc_mqprio_qopt_offload *mqprio_qopt = type_data;\n-\tstruct hnae3_handle *h = hns3_get_handle(netdev);\n-\tstruct hnae3_knic_private_info *kinfo = &h->kinfo;\n \tu8 *prio_tc = mqprio_qopt->qopt.prio_tc_map;\n+\tstruct hnae3_knic_private_info *kinfo;\n \tu8 tc = mqprio_qopt->qopt.num_tc;\n \tu16 mode = mqprio_qopt->mode;\n \tu8 hw = mqprio_qopt->qopt.hw;\n+\tstruct hnae3_handle *h;\n \n \tif (!((hw == TC_MQPRIO_HW_OFFLOAD_TCS &&\n \t       mode == TC_MQPRIO_MODE_CHANNEL) || (!hw && tc == 0)))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/757188005f905664b0186b88cf26a7e844190a63"}
{"commit_hash": "31bb229d6f4a603a351d670ac078dff8ba3af398", "short_hash": "31bb229d6f4a", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T17:12:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: clear restting state when initializing HW device", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 4, "files_changed": 1, "insertions": 18, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for HW initialization affecting Hisilicon NIC users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers from same company, adequate message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Maintainer from different org, internal company review"}}, "score_justification": "Driver bug fix clearing reset state during HW init for Hisilicon NIC", "code_snippet": "@@ -8450,6 +8450,23 @@ static void hclge_flr_done(struct hnae3_ae_dev *ae_dev)\n \tset_bit(HNAE3_FLR_DONE, &hdev->flr_state);\n }\n \n+static void hclge_clear_resetting_state(struct hclge_dev *hdev)\n+{\n+\tu16 i;\n+\n+\tfor (i = 0; i < hdev->num_alloc_vport; i++) {\n+\t\tstruct hclge_vport *vport = &hdev->vport[i];\n+\t\tint ret;\n+\n+\t\t /* Send cmd to clear VF's FUNC_RST_ING */\n+\t\tret = hclge_set_vf_rst(hdev, vport->vport_id, false);\n+\t\tif (ret)\n+\t\t\tdev_warn(&hdev->pdev->dev,\n+\t\t\t\t \"clear vf(%d) rst failed %d!\\n\",\n+\t\t\t\t vport->vport_id, ret);\n+\t}\n+}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31bb229d6f4a603a351d670ac078dff8ba3af398"}
{"commit_hash": "9e0254ddea78cf947bf6650a3ec8e50ab132e8a1", "short_hash": "9e0254ddea78", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-13T17:12:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:26:16-07:00", "subject": "net: hns3: extract handling of mpf/pf msi-x errors into functions", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 83, "deletions": 39, "hunks": 6, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in network driver with 6 hunks"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code quality improvement for specific driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation, clean refactor, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Hisilicon author, net maintainer committed"}}, "score_justification": "Refactor extracting MSI-X error handling into separate functions for clarity", "code_snippet": "@@ -1727,44 +1727,31 @@ static void hclge_handle_over_8bd_err(struct hclge_dev *hdev,\n \t}\n }\n \n-static int hclge_handle_all_hw_msix_error(struct hclge_dev *hdev,\n-\t\t\t\t\t  unsigned long *reset_requests)\n+/* hclge_handle_mpf_msix_error: handle all main PF MSI-X errors\n+ * @hdev: pointer to struct hclge_dev\n+ * @desc: descriptor for describing the command\n+ * @mpf_bd_num: number of extended command structures\n+ * @reset_requests: record of the reset level that we need\n+ *\n+ * This function handles all the main PF MSI-X errors in the hw register/s\n+ * using command.\n+ */\n+static int hclge_handle_mpf_msix_error(struct hclge_dev *hdev,\n+\t\t\t\t       struct hclge_desc *desc,\n+\t\t\t\t       int mpf_bd_num,\n+\t\t\t\t       unsigned long *reset_requests)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e0254ddea78cf947bf6650a3ec8e50ab132e8a1"}
{"commit_hash": "3e18943333404b03d17fc4a008da7c3676523f05", "short_hash": "3e1894333340", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-06-14T09:29:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-14T19:50:33-07:00", "subject": "net: remove empty netlink_tap_exit_net", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/netlink"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change (5 deletions) in critical networking subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good explanation, no testing evidence needed"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with @kernel.org maintainer"}}, "score_justification": "Removes empty exit function in netlink tap, leveraging static NULL initialization", "code_snippet": "@@ -241,13 +241,8 @@ static __net_init int netlink_tap_init_net(struct net *net)\n \treturn 0;\n }\n \n-static void __net_exit netlink_tap_exit_net(struct net *net)\n-{\n-}\n-\n static struct pernet_operations netlink_tap_net_ops = {\n \t.init = netlink_tap_init_net,\n-\t.exit = netlink_tap_exit_net,\n \t.id   = &netlink_tap_net_id,\n \t.size = sizeof(struct netlink_tap_net),\n };\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/3e18943333404b03d17fc4a008da7c3676523f05"}
{"commit_hash": "025e32048f39e24d8ddf9369d679644ea2bdcce6", "short_hash": "025e32048f39", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T23:54:41+08:00", "committer_name": "Borislav Petkov", "committer_email": "bp@suse.de", "committer_company": "Suse", "commit_date": "2019-06-14T20:25:58+02:00", "subject": "x86/amd_nb: Make hygon_nb_misc_ids static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line change in x86 kernel code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Cross-company review, clear warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, SUSE maintainer, internal robot report"}}, "score_justification": "Sparse warning fix adding static to array in x86 code", "code_snippet": "@@ -71,7 +71,7 @@ static const struct pci_device_id hygon_root_ids[] = {\n \t{}\n };\n \n-const struct pci_device_id hygon_nb_misc_ids[] = {\n+static const struct pci_device_id hygon_nb_misc_ids[] = {\n \t{ PCI_DEVICE(PCI_VENDOR_ID_HYGON, PCI_DEVICE_ID_AMD_17H_DF_F3) },\n \t{}\n };\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/025e32048f39e24d8ddf9369d679644ea2bdcce6"}
{"commit_hash": "7f94208c8f9a0a6d2ff0e0c0858c00ad8e5c8617", "short_hash": "7f94208c8f9a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-12T17:18:47+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-06-15T01:22:00+02:00", "subject": "bpf: Fix build error without CONFIG_INET", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: fada7fdc83c0 (\"bpf: Allow bpf_map_lookup_elem() on an xskmap\")", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["include/linux"], "subsystem_tier": 2, "files_changed": 1, "insertions": 24, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jonathan Lemon <jonathan.lemon@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 12, "score_impact": 13, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized change in critical BPF subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build fix affecting BPF users, has Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with Reported-by and Fixes tags, Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Iogearbox maintainer, Hulk Robot report"}}, "score_justification": "Build configuration fix for missing CONFIG_INET stubs in BPF XDP socket functions", "code_snippet": "@@ -1110,6 +1103,15 @@ u32 bpf_tcp_sock_convert_ctx_access(enum bpf_access_type type,\n \t\t\t\t    struct bpf_insn *insn_buf,\n \t\t\t\t    struct bpf_prog *prog,\n \t\t\t\t    u32 *target_size);\n+\n+bool bpf_xdp_sock_is_valid_access(int off, int size, enum bpf_access_type type,\n+\t\t\t\t  struct bpf_insn_access_aux *info);\n+\n+u32 bpf_xdp_sock_convert_ctx_access(enum bpf_access_type type,\n+\t\t\t\t    const struct bpf_insn *si,\n+\t\t\t\t    struct bpf_insn *insn_buf,\n+\t\t\t\t    struct bpf_prog *prog,\n+\t\t\t\t    u32 *target_size);\n #else\n static inline bool bpf_tcp_sock_is_valid_access(int off, int size,\n \t\t\t\t\t\tenum bpf_access_type type,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7f94208c8f9a0a6d2ff0e0c0858c00ad8e5c8617"}
{"commit_hash": "ebfeb444fa6fd9bc7be62694fff838bc57e19a7d", "short_hash": "ebfeb444fa6f", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T15:41:08-07:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-06-15T01:37:34-06:00", "subject": "md/raid1: get rid of extra blank line and space", "primary_category": "TRIV-WHITESPACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 6, "hunks": 10, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal whitespace changes in single driver file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact from cosmetic changes"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic formatting with minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org commit with maintainer signoffs"}}, "score_justification": "", "code_snippet": "@@ -1704,9 +1703,8 @@ static int raid1_add_disk(struct mddev *mddev, struct md_rdev *rdev)\n \t\tfirst = last = rdev->saved_raid_disk;\n \n \tfor (mirror = first; mirror <= last; mirror++) {\n-\t\tp = conf->mirrors+mirror;\n+\t\tp = conf->mirrors + mirror;\n \t\tif (!p->rdev) {\n-\n \t\t\tif (mddev->gendisk)\n \t\t\t\tdisk_stack_limits(mddev->gendisk, rdev->bdev,\n \t\t\t\t\t\t  rdev->data_offset << 9);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ebfeb444fa6fd9bc7be62694fff838bc57e19a7d"}
{"commit_hash": "e5b521ee9b58c8954ad4d75ccaed9428f4b1a0ca", "short_hash": "e5b521ee9b58", "author_name": "Yufen Yu", "author_email": "yuyufen@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T15:41:07-07:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-06-15T01:37:34-06:00", "subject": "md: fix spelling typo and add necessary space", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-TYPO"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Yufen Yu <yuyufen@huawei.com> (Huawei)", "Song Liu <songliubraving@fb.com> (Fb)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 6, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small cleanup patch in md subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cosmetic cleanup with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with simple commit message"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Huawei, committed by Axboe"}}, "score_justification": "Cosmetic cleanup fixing typo, spacing, and removing redundant if", "code_snippet": "@@ -5639,8 +5639,7 @@ int md_run(struct mddev *mddev)\n \tspin_unlock(&mddev->lock);\n \trdev_for_each(rdev, mddev)\n \t\tif (rdev->raid_disk >= 0)\n-\t\t\tif (sysfs_link_rdev(mddev, rdev))\n-\t\t\t\t/* failure here is OK */;\n+\t\t\tsysfs_link_rdev(mddev, rdev); /* failure here is OK */\n \n \tif (mddev->degraded && !mddev->ro)\n \t\t/* This ensures that recovering status is reported immediately", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e5b521ee9b58c8954ad4d75ccaed9428f4b1a0ca"}
{"commit_hash": "702655234dd1d07e76f9bff9575e438c969fc32c", "short_hash": "702655234dd1", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T20:57:09+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-06-17T10:10:02+01:00", "subject": "irqchip/gic: Add dependency for ARM_GIC_MAX_NR", "primary_category": "BUILD-KCONFIG", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 6, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-line change in drivers Kconfig"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Kconfig dependency fix with minimal impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple change with basic explanation, no testing"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, maintainer from Arm committed"}}, "score_justification": "Kconfig dependency fix preventing redundant GIC option on non-ARM", "code_snippet": "@@ -19,6 +19,7 @@ config ARM_GIC_PM\n \n config ARM_GIC_MAX_NR\n \tint\n+\tdepends on ARM_GIC\n \tdefault 2 if ARCH_REALVIEW\n \tdefault 1\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/702655234dd1d07e76f9bff9575e438c969fc32c"}
{"commit_hash": "dd471efe345bf6f9e1206f6c629ca3e80eb43523", "short_hash": "dd471efe345b", "author_name": "Kobe Wu", "author_email": "kobe-cp.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-30T19:59:35+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-17T12:09:37+02:00", "subject": "locking/lockdep: Remove unnecessary DEBUG_LOCKS_WARN_ON()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "locking", "subsystems_touched": ["kernel/locking"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kobe Wu <kobe-cp.wu@mediatek.com> (MediaTek)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 12, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Minimal change in critical lockdep subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Simplification affecting locking correctness checks"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed by maintainer but minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer committed"}}, "score_justification": "Removes redundant DEBUG_LOCKS_WARN_ON macro in critical lockdep path", "code_snippet": "@@ -4160,7 +4160,7 @@ __lock_release(struct lockdep_map *lock, unsigned long ip)\n \t * So we're all set to release this lock.. wait what lock? We don't\n \t * own any locks, you've been drinking again?\n \t */\n-\tif (DEBUG_LOCKS_WARN_ON(depth <= 0)) {\n+\tif (depth <= 0) {\n \t\tprint_unlock_imbalance_bug(curr, lock, ip);\n \t\treturn 0;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dd471efe345bf6f9e1206f6c629ca3e80eb43523"}
{"commit_hash": "8a5df8ac628f4febea1e6cd3044bff2d536dd096", "short_hash": "8a5df8ac628f", "author_name": "jjian zhou", "author_email": "jjian.zhou@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-17T19:04:07+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-17T13:25:44+02:00", "subject": "mmc: mediatek: fix SDIO IRQ interrupt handle flow", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5215b2e952f3 (\"mmc: mediatek: Add MMC_CAP_SDIO_IRQ support\")", "cc_stable": true, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 20, "deletions": 17, "hunks": 10, "review_chain": {"signed_off_by": ["Jjian Zhou <jjian.zhou@mediatek.com> (MediaTek)", "Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Yong Mao <yong.mao@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 17, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver fix in MMC subsystem with moderate complexity"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Bug regression fix with stable backport affecting MMC users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Fixes tag and Cc stable, but no external testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Linaro maintainer committer, different companies"}}, "score_justification": "SDIO IRQ handling regression fix in Mediatek MMC driver with stable backport", "code_snippet": "@@ -1375,24 +1375,25 @@ static void msdc_request_timeout(struct work_struct *work)\n \t}\n }\n \n-static void __msdc_enable_sdio_irq(struct mmc_host *mmc, int enb)\n+static void __msdc_enable_sdio_irq(struct msdc_host *host, int enb)\n {\n-\tunsigned long flags;\n-\tstruct msdc_host *host = mmc_priv(mmc);\n-\n-\tspin_lock_irqsave(&host->lock, flags);\n-\tif (enb)\n+\tif (enb) {\n \t\tsdr_set_bits(host->base + MSDC_INTEN, MSDC_INTEN_SDIOIRQ);\n-\telse\n+\t\tsdr_set_bits(host->base + SDC_CFG, SDC_CFG_SDIOIDE);\n+\t} else {\n \t\tsdr_clr_bits(host->base + MSDC_INTEN, MSDC_INTEN_SDIOIRQ);\n-\tspin_unlock_irqrestore(&host->lock, flags);\n+\t\tsdr_clr_bits(host->base + SDC_CFG, SDC_CFG_SDIOIDE);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8a5df8ac628f4febea1e6cd3044bff2d536dd096"}
{"commit_hash": "20314ce30af197963b0c239f0952db6aaef73f99", "short_hash": "20314ce30af1", "author_name": "jjian zhou", "author_email": "jjian.zhou@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-17T19:04:08+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-06-17T13:26:50+02:00", "subject": "mmc: mediatek: fix SDIO IRQ detection issue", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 5215b2e952f3 (\"mmc: mediatek: Add MMC_CAP_SDIO_IRQ support\")", "cc_stable": true, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["jjian zhou <jjian.zhou@mediatek.com> (MediaTek)", "Chaotian Jing <chaotian.jing@mediatek.com> (MediaTek)", "Yong Mao <yong.mao@mediatek.com> (MediaTek)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 18, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change (2 lines) in MMC host driver"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable tag affecting MMC/SDIO users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag, stable tag, clear explanation of root cause"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, Linaro maintainer applied it"}}, "score_justification": "SDIO IRQ detection regression fix requiring hardware reset on error", "code_snippet": "@@ -1023,6 +1023,8 @@ static void msdc_request_done(struct msdc_host *host, struct mmc_request *mrq)\n \tmsdc_track_cmd_data(host, mrq->cmd, mrq->data);\n \tif (mrq->data)\n \t\tmsdc_unprepare_data(host, mrq);\n+\tif (host->error)\n+\t\tmsdc_reset_hw(host);\n \tmmc_request_done(host->mmc, mrq);\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/20314ce30af197963b0c239f0952db6aaef73f99"}
{"commit_hash": "5d9c4e9591dc0cce80dac170cbdc9015e34b074a", "short_hash": "5d9c4e9591dc", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-15T11:03:43+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-18T08:10:43-06:00", "subject": "of/fdt: Fix of_fdt_match defined but not used compiler warning", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9b4d2b635bd0 (\"of/fdt: Remove dead code and mark functions with __init\")", "cc_stable": false, "subsystem_prefix": "drivers/of", "subsystems_touched": ["drivers/of"], "subsystem_tier": 2, "files_changed": 1, "insertions": 45, "deletions": 54, "hunks": 8, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": ["Stephen Boyd <swboyd@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in critical device tree subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single reviewer, good message quality"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer committed"}}, "score_justification": "Compiler warning fix in device tree flattree code, removes unused function", "code_snippet": "@@ -78,38 +78,6 @@ void __init of_fdt_limit_memory(int limit)\n \t}\n }\n \n-/**\n- * of_fdt_is_compatible - Return true if given node from the given blob has\n- * compat in its compatible list\n- * @blob: A device tree blob\n- * @node: node to test\n- * @compat: compatible string to compare with compatible list.\n- *\n- * On match, returns a non-zero value with smaller values returned for more\n- * specific compatible values.\n- */\n-static int of_fdt_is_compatible(const void *blob,\n-\t\t      unsigned long node, const char *compat)\n-{\n-\tconst char *cp;\n-\tint cplen;\n-\tunsigned long l, score = 0;", "flags": ["FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/5d9c4e9591dc0cce80dac170cbdc9015e34b074a"}
{"commit_hash": "0bdd0047ec949661b61692198dc1773d99694d1c", "short_hash": "0bdd0047ec94", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T17:15:05+08:00", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-06-18T10:27:02+01:00", "subject": "irqchip/mbigen: Stop printing kernel addresses", "primary_category": "SEC-HARDEN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": ["Hanjun Guo <guohanjun@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 6, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 3-line change in standard driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Security hardening fix for info leak"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Cross-company review, detailed context"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Arm committer, cross-org review"}}, "score_justification": "Removes kernel address printing to prevent info leak vulnerability", "code_snippet": "@@ -355,8 +355,7 @@ static int mbigen_device_probe(struct platform_device *pdev)\n \t\terr = -EINVAL;\n \n \tif (err) {\n-\t\tdev_err(&pdev->dev, \"Failed to create mbi-gen@%p irqdomain\",\n-\t\t\tmgn_chip->base);\n+\t\tdev_err(&pdev->dev, \"Failed to create mbi-gen irqdomain\\n\");\n \t\treturn err;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0bdd0047ec949661b61692198dc1773d99694d1c"}
{"commit_hash": "72b319dc08b4924a29f5e2560ef6d966fa54c429", "short_hash": "72b319dc08b4", "author_name": "Fei Li", "author_email": "lifei.shirley@bytedance.com", "author_company": "ByteDance", "author_date": "2019-06-17T21:26:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-18T10:46:52-07:00", "subject": "tun: wake up waitqueues after IFF_UP is set", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Fei Li <lifei.shirley@bytedance.com> (ByteDance)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jason Wang <jasowang@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 14, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes TUN device wakeup race affecting users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain, detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (ByteDance to Red Hat), maintainer committed"}}, "score_justification": "Race condition fix for TUN device waitqueue wakeup timing", "code_snippet": "@@ -1014,18 +1014,8 @@ static void tun_net_uninit(struct net_device *dev)\n /* Net device open. */\n static int tun_net_open(struct net_device *dev)\n {\n-\tstruct tun_struct *tun = netdev_priv(dev);\n-\tint i;\n-\n \tnetif_tx_start_all_queues(dev);\n \n-\tfor (i = 0; i < tun->numqueues; i++) {\n-\t\tstruct tun_file *tfile;\n-\n-\t\ttfile = rtnl_dereference(tun->tfiles[i]);\n-\t\ttfile->socket.sk->sk_write_space(tfile->socket.sk);\n-\t}\n-\n \treturn 0;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72b319dc08b4924a29f5e2560ef6d966fa54c429"}
{"commit_hash": "4d20a6107050b45da976e28dc23274eb9ff1c242", "short_hash": "4d20a6107050", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T19:58:08+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-18T11:58:29+03:00", "subject": "usb: dwc3: qcom: Use of_clk_get_parent_count()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/dwc3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in USB driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Code cleanup with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple cleanup with basic message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Simple API migration using helper function instead of open coding", "code_snippet": "@@ -595,8 +595,7 @@ static int dwc3_qcom_probe(struct platform_device *pdev)\n \t\tgoto reset_assert;\n \t}\n \n-\tret = dwc3_qcom_clk_init(qcom, of_count_phandle_with_args(np,\n-\t\t\t\t\t\t\"clocks\", \"#clock-cells\"));\n+\tret = dwc3_qcom_clk_init(qcom, of_clk_get_parent_count(np));\n \tif (ret) {\n \t\tdev_err(dev, \"failed to get clocks\\n\");\n \t\tgoto reset_assert;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d20a6107050b45da976e28dc23274eb9ff1c242"}
{"commit_hash": "2a081968b1e5b69e8181f926b0b6c9ca4830cf86", "short_hash": "2a081968b1e5", "author_name": "Hanjun Guo", "author_email": "guohanjun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-17T19:02:15+08:00", "committer_name": "Will Deacon", "committer_email": "will.deacon@arm.com", "committer_company": "ARM", "commit_date": "2019-06-18T14:37:27+01:00", "subject": "MAINTAINERS: Update my email address", "primary_category": "DOC-MAINTAINERS", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "Documentation", "subsystems_touched": ["Documentation"], "subsystem_tier": 6, "files_changed": 2, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Hanjun Guo <guohanjun@huawei.com> (Huawei)", "Will Deacon <will.deacon@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 10, "score_technical": 2, "score_impact": 3, "score_quality": 5, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Tiny change to metadata files"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 3, "details": "Metadata-only update with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Simple update with proper maintainer approval"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org commit from Huawei to ARM maintainer"}}, "score_justification": "Email address update in MAINTAINERS/.mailmap metadata files", "code_snippet": "@@ -81,6 +81,7 @@ Greg Kroah-Hartman <greg@echidna.(none)>\n Greg Kroah-Hartman <gregkh@suse.de>\n Greg Kroah-Hartman <greg@kroah.com>\n Gregory CLEMENT <gregory.clement@bootlin.com> <gregory.clement@free-electrons.com>\n+Hanjun Guo <guohanjun@huawei.com> <hanjun.guo@linaro.org>\n Henk Vergonet <Henk.Vergonet@gmail.com>\n Henrik Kretzschmar <henne@nachtwindheim.de>\n Henrik Rydberg <rydberg@bitmath.org>\ndiff --git a/MAINTAINERS b/MAINTAINERS\nindex 651545fc87ca..a3d5b139fd4d 100644\n--- a/MAINTAINERS\n+++ b/MAINTAINERS", "flags": ["METADATA_ONLY"], "link": "https://lore.kernel.org/linux-kernel/2a081968b1e5b69e8181f926b0b6c9ca4830cf86"}
{"commit_hash": "de19212c2890d1bb1e2d0e303affba620b86819b", "short_hash": "de19212c2890", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:42:02+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: megaraid_sas: remove set but not used variables 'host' and 'wait_time'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -7267,11 +7267,9 @@ static void megasas_shutdown_controller(struct megasas_instance *instance,\n static int\n megasas_suspend(struct pci_dev *pdev, pm_message_t state)\n {\n-\tstruct Scsi_Host *host;\n \tstruct megasas_instance *instance;\n \n \tinstance = pci_get_drvdata(pdev);\n-\thost = instance->host;\n \tinstance->unload = 1;\n \n \tdev_info(&pdev->dev, \"%s is called\\n\", __func__);", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/de19212c2890d1bb1e2d0e303affba620b86819b"}
{"commit_hash": "dea98ba45a187fd6fa836b070e95a8ba68499bb4", "short_hash": "dea98ba45a18", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:38:21+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: megaraid_sas: remove set but not used variable 'cur_state'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: 7218df69e360 (\"[SCSI] megaraid_sas: use the firmware boot timeout when waiting for commands\")", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 11, "hunks": 12, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in standard driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and cross-org review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom ack, Oracle maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in SCSI driver with cross-org review", "code_snippet": "@@ -3909,7 +3909,6 @@ megasas_transition_to_ready(struct megasas_instance *instance, int ocr)\n \tint i;\n \tu8 max_wait;\n \tu32 fw_state;\n-\tu32 cur_state;\n \tu32 abs_state, curr_abs_state;\n \n \tabs_state = instance->instancet->read_fw_status_reg(instance);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dea98ba45a187fd6fa836b070e95a8ba68499bb4"}
{"commit_hash": "821744403913d957cb52263b2016fd5bd29c30d0", "short_hash": "821744403913", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T14:44:54+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: ufs: Add error-handling of Auto-Hibernate", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 2, "insertions": 35, "deletions": 2, "hunks": 10, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Bean Huo <beanhuo@micron.com> (Micron)", "Alim Akhtar <alim.akhtar@samsung.com> (Samsung)", "Avri Altman <Avri.Altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 12, "score_impact": 14, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in SCSI UFS driver with 10 hunks"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix for UFS storage error handling"}, "quality": {"review_chain": 8, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 16, "details": "Strong review chain from 3 companies at multiple orgs"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author from Mediatek, committer from Oracle, 3 external reviewers"}}, "score_justification": "Auto-hibernate error handling implementation for UFS storage with multi-org review", "code_snippet": "@@ -5254,6 +5254,7 @@ static void ufshcd_err_handler(struct work_struct *work)\n \t\t\tgoto skip_err_handling;\n \t}\n \tif ((hba->saved_err & INT_FATAL_ERRORS) ||\n+\t    (hba->saved_err & UFSHCD_UIC_HIBERN8_MASK) ||\n \t    ((hba->saved_err & UIC_ERROR) &&\n \t    (hba->saved_uic_err & (UFSHCD_UIC_DL_PA_INIT_ERROR |\n \t\t\t\t   UFSHCD_UIC_DL_NAC_RECEIVED_ERROR |", "flags": [], "link": "https://lore.kernel.org/linux-kernel/821744403913d957cb52263b2016fd5bd29c30d0"}
{"commit_hash": "ee5f1042b20e1ffbc5c7eb0e0883fdbc05cec85f", "short_hash": "ee5f1042b20e", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T14:44:52+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: ufs: Introduce ufshcd_is_auto_hibern8_supported()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi/ufs", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 4, "files_changed": 3, "insertions": 10, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Bean Huo <beanhuo@micron.com> (Micron)", "Alim Akhtar <alim.akhtar@samsung.com> (Samsung)", "Avri Altman <Avri.Altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small refactor within UFS driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code cleanup with minimal user-facing impact"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-reviewed with 3 Reviewed-by tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company review, maintainer commit"}}, "score_justification": "Code simplification refactoring in UFS driver with good cross-company review", "code_snippet": "@@ -177,7 +177,7 @@ static ssize_t auto_hibern8_store(struct device *dev,\n \tstruct ufs_hba *hba = dev_get_drvdata(dev);\n \tunsigned int timer;\n \n-\tif (!(hba->capabilities & MASK_AUTO_HIBERN8_SUPPORT))\n+\tif (!ufshcd_is_auto_hibern8_supported(hba))\n \t\treturn -EOPNOTSUPP;\n \n \tif (kstrtouint(buf, 0, &timer))\ndiff --git a/drivers/scsi/ufs/ufshcd.c b/drivers/scsi/ufs/ufshcd.c\nindex 8c1c551f2b42..0cf698d05426 100644\n--- a/drivers/scsi/ufs/ufshcd.c\n+++ b/drivers/scsi/ufs/ufshcd.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee5f1042b20e1ffbc5c7eb0e0883fdbc05cec85f"}
{"commit_hash": "f571b377ded7466e175e73c116df9ae09527dcb0", "short_hash": "f571b377ded7", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-21T14:44:53+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: ufs: Do not overwrite Auto-Hibernate timer", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-COMPAT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Alim Akhtar <alim.akhtar@samsung.com> (Samsung)", "Avri Altman <Avri.Altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 14, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI UFS driver (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fix affecting vendor compatibility with some UFS users"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "3 distinct reviewers, good message with context"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Author (Mediatek), reviewers (Samsung, WDC), committer (Oracle)"}}, "score_justification": "Vendor-specific compatibility fix preventing timer overwrite, well-reviewed across 3 companies", "code_snippet": "@@ -8312,7 +8312,7 @@ int ufshcd_init(struct ufs_hba *hba, void __iomem *mmio_base, unsigned int irq)\n \t\t\t\t\t\tUIC_LINK_HIBERN8_STATE);\n \n \t/* Set the default auto-hiberate idle timer value to 150 ms */\n-\tif (ufshcd_is_auto_hibern8_supported(hba)) {\n+\tif (ufshcd_is_auto_hibern8_supported(hba) && !hba->ahit) {\n \t\thba->ahit = FIELD_PREP(UFSHCI_AHIBERN8_TIMER_MASK, 150) |\n \t\t\t    FIELD_PREP(UFSHCI_AHIBERN8_SCALE_MASK, 3);\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f571b377ded7466e175e73c116df9ae09527dcb0"}
{"commit_hash": "a1b6fb947f92352bc8edab901d773306c5b80b8b", "short_hash": "a1b6fb947f92", "author_name": "Jason Yan", "author_email": "yanaijie@huawei.com", "author_company": "Huawei", "author_date": "2019-05-20T22:06:00+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:23-04:00", "subject": "scsi: libsas: no need to join wide port again in sas_ex_discover_dev()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/libsas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 22, "hunks": 4, "review_chain": {"signed_off_by": ["Jason Yan <yanaijie@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["John Garry <john.garry@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 12, "score_quality": 11, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small 26-line change in SCSI subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code simplification for SCSI device discovery"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with internal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, Oracle maintainer"}}, "score_justification": "Simplifies expander discovery by removing redundant wide port join, no longer needed due to synchronous event processing", "code_snippet": "@@ -1090,7 +1090,7 @@ static int sas_ex_discover_dev(struct domain_device *dev, int phy_id)\n \t\t\t\t SAS_ADDR(dev->sas_addr),\n \t\t\t\t phy_id);\n \t\t\tsas_ex_disable_phy(dev, phy_id);\n-\t\t\tbreak;\n+\t\t\treturn res;\n \t\t} else\n \t\t\tmemcpy(dev->port->disc.fanout_sas_addr,\n \t\t\t       ex_phy->attached_sas_addr, SAS_ADDR_SIZE);", "flags": ["INNER_ORG_REVIEW"], "link": "https://lore.kernel.org/linux-kernel/a1b6fb947f92352bc8edab901d773306c5b80b8b"}
{"commit_hash": "d7b761b0694986ea811c0daaa1178bfaaddf036d", "short_hash": "d7b761b06949", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T23:28:41+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: lpfc: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/lpfc"], "subsystem_tier": 3, "files_changed": 3, "insertions": 5, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in SCSI driver (3 files, 10 hunks, +5-5)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-company review (Huawei author, Broadcom ack, Oracle committer), good message explaining sparse warnings"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom ack, Oracle maintainer commit, internal robot report"}}, "score_justification": "Sparse warning fix adding static keyword to 5 functions in lpfc driver, cross-company review from Huawei/Broadcom/Oracle.", "code_snippet": "@@ -72,7 +72,7 @@ unsigned long _dump_buf_dif_order;\n spinlock_t _dump_buf_lock;\n \n /* Used when mapping IRQ vectors in a driver centric manner */\n-uint32_t lpfc_present_cpu;\n+static uint32_t lpfc_present_cpu;\n \n static void lpfc_get_hba_model_desc(struct lpfc_hba *, uint8_t *, uint8_t *);\n static int lpfc_post_rcv_buf(struct lpfc_hba *);\ndiff --git a/drivers/scsi/lpfc/lpfc_nvmet.c b/drivers/scsi/lpfc/lpfc_nvmet.c\nindex eb93189f4544..e471bbcca838 100644\n--- a/drivers/scsi/lpfc/lpfc_nvmet.c\n+++ b/drivers/scsi/lpfc/lpfc_nvmet.c", "flags": ["REPORTED_BY_INTERNAL"], "link": "https://lore.kernel.org/linux-kernel/d7b761b0694986ea811c0daaa1178bfaaddf036d"}
{"commit_hash": "a82b3539dc27b3a85f0c46c9bc398734fdd08260", "short_hash": "a82b3539dc27", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-31T23:27:45+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: lpfc: Remove set but not used variables 'qp'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["James Smart <james.smart@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -9356,10 +9356,8 @@ static void\n lpfc_setup_cq_lookup(struct lpfc_hba *phba)\n {\n \tstruct lpfc_queue *eq, *childq;\n-\tstruct lpfc_sli4_hdw_queue *qp;\n \tint qidx;\n \n-\tqp = phba->sli4_hba.hdwq;\n \tmemset(phba->sli4_hba.cq_lookup, 0,\n \t       (sizeof(struct lpfc_queue *) * (phba->sli4_hba.cq_max + 1)));\n \t/* Loop thru all IRQ vectors */\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/a82b3539dc27b3a85f0c46c9bc398734fdd08260"}
{"commit_hash": "97fcf176b43bedcfd64cca5fd7e07e2cd2bde284", "short_hash": "97fcf176b43b", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-29T17:58:47+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: hisi_sas: Disable stash for v3 hw", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes exception issues in hardware driver"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Standard review chain with adequate message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Oracle maintainer"}}, "score_justification": "Disables stash feature in hisi_sas v3 hw due to exceptions", "code_snippet": "@@ -28,6 +28,7 @@\n #define ITCT_CLR_EN_MSK\t\t\t(0x1 << ITCT_CLR_EN_OFF)\n #define ITCT_DEV_OFF\t\t\t0\n #define ITCT_DEV_MSK\t\t\t(0x7ff << ITCT_DEV_OFF)\n+#define SAS_AXI_USER3\t\t\t0x50\n #define IO_SATA_BROKEN_MSG_ADDR_LO\t0x58\n #define IO_SATA_BROKEN_MSG_ADDR_HI\t0x5c\n #define SATA_INITI_D2H_STORE_ADDR_LO\t0x60", "flags": [], "link": "https://lore.kernel.org/linux-kernel/97fcf176b43bedcfd64cca5fd7e07e2cd2bde284"}
{"commit_hash": "0ab7bc825a12100bff27f82b8bc1eb7aaf929248", "short_hash": "0ab7bc825a12", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-29T17:58:45+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: hisi_sas: Change the type of some numbers to unsigned", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 17, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in SCSI driver (1 file, 4 hunks, 2 lines)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear message with tool error details, no testing"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Hisilicon author, Oracle maintainer committed"}}, "score_justification": "Compiler warning fix for signed int shift overflow in hisi_sas driver", "code_snippet": "@@ -1344,7 +1344,7 @@ static void prep_ata_v3_hw(struct hisi_hba *hisi_hba,\n \tif (parent_dev && DEV_IS_EXPANDER(parent_dev->dev_type))\n \t\thdr->dw0 |= cpu_to_le32(3 << CMD_HDR_CMD_OFF);\n \telse\n-\t\thdr->dw0 |= cpu_to_le32(4 << CMD_HDR_CMD_OFF);\n+\t\thdr->dw0 |= cpu_to_le32(4U << CMD_HDR_CMD_OFF);\n \n \tswitch (task->data_dir) {\n \tcase DMA_TO_DEVICE:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0ab7bc825a12100bff27f82b8bc1eb7aaf929248"}
{"commit_hash": "e4c19deba6078c41fab2cb2ea0088088db228c21", "short_hash": "e4c19deba607", "author_name": "Luo Jiaxing", "author_email": "luojiaxing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T17:58:46+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: hisi_sas: Ignore the error code between phy down to phy up", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Jiaxing Luo <luojiaxing@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 4 hunks, 15 lines added in SCSI driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Hardware workaround fix for Huawei SCSI driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "3 Signed-off-by tags, clear HW workaround explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Oracle (cross-org)"}}, "score_justification": "", "code_snippet": "@@ -911,8 +911,14 @@ static void enable_phy_v3_hw(struct hisi_hba *hisi_hba, int phy_no)\n static void disable_phy_v3_hw(struct hisi_hba *hisi_hba, int phy_no)\n {\n \tu32 cfg = hisi_sas_phy_read32(hisi_hba, phy_no, PHY_CFG);\n+\tu32 irq_msk = hisi_sas_phy_read32(hisi_hba, phy_no, CHL_INT2_MSK);\n+\tstatic const u32 msk = BIT(CHL_INT2_RX_DISP_ERR_OFF) |\n+\t\t\t       BIT(CHL_INT2_RX_CODE_ERR_OFF) |\n+\t\t\t       BIT(CHL_INT2_RX_INVLD_DW_OFF);\n \tu32 state;\n \n+\thisi_sas_phy_write32(hisi_hba, phy_no, CHL_INT2_MSK, msk | irq_msk);\n+\n \tcfg &= ~PHY_CFG_ENA_MSK;\n \thisi_sas_phy_write32(hisi_hba, phy_no, PHY_CFG, cfg);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4c19deba6078c41fab2cb2ea0088088db228c21"}
{"commit_hash": "794327ab53cc6b330774d6fdb93b547666583db9", "short_hash": "794327ab53cc", "author_name": "Xiaofei Tan", "author_email": "tanxiaofei@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T17:58:43+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: hisi_sas: Fix the issue of argument mismatch of printing ecc errors", "primary_category": "BUG-LOGIC", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 2, "insertions": 37, "deletions": 34, "hunks": 12, "review_chain": {"signed_off_by": ["Xiaofei Tan <tanxiaofei@huawei.com> (Huawei)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 14, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor across 2 SCSI driver files"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Printf format bug fix for SCSI driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with adequate review chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Oracle maintainer committed"}}, "score_justification": "Fixes printf format argument mismatch in hisi_sas SCSI driver error handling", "code_snippet": "@@ -427,70 +427,70 @@ static const struct hisi_sas_hw_error one_bit_ecc_errors[] = {\n \t\t.irq_msk = BIT(SAS_ECC_INTR_DQE_ECC_1B_OFF),\n \t\t.msk = HGC_DQE_ECC_1B_ADDR_MSK,\n \t\t.shift = HGC_DQE_ECC_1B_ADDR_OFF,\n-\t\t.msg = \"hgc_dqe_acc1b_intr found: Ram address is 0x%08X\\n\",\n+\t\t.msg = \"hgc_dqe_ecc1b_intr\",\n \t\t.reg = HGC_DQE_ECC_ADDR,\n \t},\n \t{\n \t\t.irq_msk = BIT(SAS_ECC_INTR_IOST_ECC_1B_OFF),\n \t\t.msk = HGC_IOST_ECC_1B_ADDR_MSK,\n \t\t.shift = HGC_IOST_ECC_1B_ADDR_OFF,\n-\t\t.msg = \"hgc_iost_acc1b_intr found: Ram address is 0x%08X\\n\",\n+\t\t.msg = \"hgc_iost_ecc1b_intr\",\n \t\t.reg = HGC_IOST_ECC_ADDR,\n \t},\n \t{\n \t\t.irq_msk = BIT(SAS_ECC_INTR_ITCT_ECC_1B_OFF),\n \t\t.msk = HGC_ITCT_ECC_1B_ADDR_MSK,\n \t\t.shift = HGC_ITCT_ECC_1B_ADDR_OFF,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/794327ab53cc6b330774d6fdb93b547666583db9"}
{"commit_hash": "6c86e046cf97b4a03d6166ba95b3f448455abbb0", "short_hash": "6c86e046cf97", "author_name": "Xiang Chen", "author_email": "chenxiang66@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-29T17:58:42+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:24-04:00", "subject": "scsi: hisi_sas: Delete PHY timers when rmmod or probe failed", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/hisi_sas"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Xiang Chen <chenxiang66@hisilicon.com> (HiSilicon)", "John Garry <john.garry@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in SCSI driver (Tier 3)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix for SCSI driver users"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple sign-offs, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Hisilicon) and committer (Oracle) differ"}}, "score_justification": "Resource leak fix adding timer cleanup on driver removal path", "code_snippet": "@@ -2480,6 +2480,14 @@ EXPORT_SYMBOL_GPL(hisi_sas_alloc);\n \n void hisi_sas_free(struct hisi_hba *hisi_hba)\n {\n+\tint i;\n+\n+\tfor (i = 0; i < hisi_hba->n_phy; i++) {\n+\t\tstruct hisi_sas_phy *phy = &hisi_hba->phy[i];\n+\n+\t\tdel_timer_sync(&phy->timer);\n+\t}\n+\n \tif (hisi_hba->wq)\n \t\tdestroy_workqueue(hisi_hba->wq);\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6c86e046cf97b4a03d6166ba95b3f448455abbb0"}
{"commit_hash": "cdf79db476c44c580045e9e0937288502e00eaad", "short_hash": "cdf79db476c4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:40:06+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:25-04:00", "subject": "scsi: megaraid_sas: remove set but not used variables 'buff_addr' and 'ci_h'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/megaraid"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 5, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing 5 lines from single driver file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tags, maintainer acked"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer, Broadcom reviewer"}}, "score_justification": "GCC unused variable warning cleanup in megaraid_sas driver", "code_snippet": "@@ -3164,8 +3163,6 @@ megasas_fw_crash_buffer_show(struct device *cdev,\n \t\treturn -EINVAL;\n \t}\n \n-\tbuff_addr = (unsigned long) buf;\n-\n \tif (buff_offset > (instance->fw_crash_buffer_size * dmachunk)) {\n \t\tdev_err(&instance->pdev->dev,\n \t\t\t\"Firmware crash dump offset is out of range\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cdf79db476c44c580045e9e0937288502e00eaad"}
{"commit_hash": "bc7625795cb993de0297b0e010d70dde75ad75ff", "short_hash": "bc7625795cb9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T03:18:06Z", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:25-04:00", "subject": "scsi: megaraid_sas: Remove unused including <linux/version.h>", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal single-line removal in SCSI driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Trivial include removal with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Reviewed by maintainer, clear message, no testing needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, Oracle maintainer, Broadcom reviewer"}}, "score_justification": "Trivial unused include removal in megaraid_sas driver with proper review", "code_snippet": "@@ -25,7 +25,6 @@\n  *\n  *  Send feedback to: megaraidlinux.pdl@broadcom.com\n  */\n-#include <linux/version.h>\n #include <linux/kernel.h>\n #include <linux/types.h>\n #include <linux/pci.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc7625795cb993de0297b0e010d70dde75ad75ff"}
{"commit_hash": "ed17190941c795314a5dcc2e8d48107aed0f8782", "short_hash": "ed17190941c7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T20:37:05+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T19:46:25-04:00", "subject": "scsi: megaraid_sas: remove set but not used variable 'sge_sz'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/megaraid"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 11, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing unused variable in SCSI driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Acked by maintainer, good explanation with git reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Broadcom ack, Oracle maintainer commit"}}, "score_justification": "Compiler warning fix removing dead variable in SCSI driver", "code_snippet": "@@ -4122,22 +4122,11 @@ static int megasas_create_frame_pool(struct megasas_instance *instance)\n {\n \tint i;\n \tu16 max_cmd;\n-\tu32 sge_sz;\n \tu32 frame_count;\n \tstruct megasas_cmd *cmd;\n \n \tmax_cmd = instance->max_mfi_cmds;\n \n-\t/*\n-\t * Size of our frame is 64 bytes for MFI frame, followed by max SG\n-\t * elements and finally SCSI_SENSE_BUFFERSIZE bytes for sense buffer\n-\t */\n-\tsge_sz = (IS_DMA64) ? sizeof(struct megasas_sge64) :\n-\t    sizeof(struct megasas_sge32);\n-\n-\tif (instance->flag_ieee)\n-\t\tsge_sz = sizeof(struct megasas_sge_skinny);\n-", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ed17190941c795314a5dcc2e8d48107aed0f8782"}
{"commit_hash": "4c960505df44b94001178575a505dd8315086edc", "short_hash": "4c960505df44", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T21:32:25-07:00", "committer_name": "Santosh Shilimkar", "committer_email": "santosh.shilimkar@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T21:32:25-07:00", "subject": "firmware: ti_sci: Fix gcc unused-but-set-variable warning", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "firmware", "subsystems_touched": ["drivers/firmware"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 12, "hunks": 24, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Santosh Shilimkar <santosh.shilimkar@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Suman Anna <s-anna@ti.com> (Texas Instruments)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in firmware subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Acked by TI maintainer, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Oracle maintainer, TI robot reporter"}}, "score_justification": "Compiler warning fix using existing variable instead of info->dev", "code_snippet": "@@ -2046,7 +2046,7 @@ static int ti_sci_cmd_ring_config(const struct ti_sci_handle *handle,\n \t\t\t\t   sizeof(*req), sizeof(*resp));\n \tif (IS_ERR(xfer)) {\n \t\tret = PTR_ERR(xfer);\n-\t\tdev_err(info->dev, \"RM_RA:Message config failed(%d)\\n\", ret);\n+\t\tdev_err(dev, \"RM_RA:Message config failed(%d)\\n\", ret);\n \t\treturn ret;\n \t}\n \treq = (struct ti_sci_msg_rm_ring_cfg_req *)xfer->xfer_buf;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4c960505df44b94001178575a505dd8315086edc"}
{"commit_hash": "4fdc51bb4e92e1d7d55be2699eaf17c9c11d4004", "short_hash": "4fdc51bb4e92", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T06:20:53Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-18T21:52:27-04:00", "subject": "hinic: add support for rss parameters with ethtool", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 5, "insertions": 479, "deletions": 1, "hunks": 22, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 16, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 10, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 16, "details": "Substantial feature addition (479 insertions) in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "New RSS configuration feature for Huawei NIC users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit message with clear feature description"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by net subsystem maintainer"}}, "score_justification": "Feature addition for RSS ethtool support in Huawei hinic driver", "code_snippet": "@@ -76,6 +76,8 @@ struct hinic_dev {\n \tu16\t\t\t\tnum_rss;\n \tu16\t\t\t\trss_limit;\n \tstruct hinic_rss_type\t\trss_type;\n+\tu8\t\t\t\t*rss_hkey_user;\n+\ts32\t\t\t\t*rss_indir_user;\n };\n \n #endif\ndiff --git a/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c b/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c\nindex 2cc97bfef0b8..be28a9a7f033 100644\n--- a/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c\n+++ b/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4fdc51bb4e92e1d7d55be2699eaf17c9c11d4004"}
{"commit_hash": "eb8ce9ac167146b0679859ba69c492ee1403a0f0", "short_hash": "eb8ce9ac1671", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T06:20:52Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-18T21:52:27-04:00", "subject": "hinic: move ethtool code into hinic_ethtool", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei/hinic", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 4, "insertions": 167, "deletions": 134, "hunks": 10, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 12, "score_impact": 7, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium refactor moving 167 LOC across 4 files in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 7, "details": "Code reorganization with no functional change or runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, maintainer signoff, clean logical split"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by kernel.org maintainer"}}, "score_justification": "Code reorganization moving ethtool functions to separate file, no functional change", "code_snippet": "@@ -4,4 +4,4 @@ obj-$(CONFIG_HINIC) += hinic.o\n hinic-y := hinic_main.o hinic_tx.o hinic_rx.o hinic_port.o hinic_hw_dev.o \\\n \t   hinic_hw_io.o hinic_hw_qp.o hinic_hw_cmdq.o hinic_hw_wq.o \\\n \t   hinic_hw_mgmt.o hinic_hw_api_cmd.o hinic_hw_eqs.o hinic_hw_if.o \\\n-\t   hinic_common.o\n+\t   hinic_common.o hinic_ethtool.o\ndiff --git a/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c b/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c\nnew file mode 100644\nindex 000000000000..2cc97bfef0b8\n--- /dev/null\n+++ b/drivers/net/ethernet/huawei/hinic/hinic_ethtool.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb8ce9ac167146b0679859ba69c492ee1403a0f0"}
{"commit_hash": "421e9526288b6ec241b46153493884277cbb533f", "short_hash": "421e9526288b", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T06:20:51Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-18T21:52:27-04:00", "subject": "hinic: add rss support", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei/hinic", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 7, "insertions": 541, "deletions": 8, "hunks": 38, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 17, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large feature addition (7 files, 38 hunks, 541 insertions) in network driver subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 17, "details": "RSS feature enhancement for Huawei NIC driver, affects users of this specific hardware"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message with Signed-off-by tags, minimal context explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by networking maintainer David S. Miller"}}, "score_justification": "RSS feature addition for Huawei hinic driver - substantial new functionality (541 lines) enhancing NIC hardware capabilities", "code_snippet": "@@ -22,6 +22,7 @@\n enum hinic_flags {\n \tHINIC_LINK_UP = BIT(0),\n \tHINIC_INTF_UP = BIT(1),\n+\tHINIC_RSS_ENABLE = BIT(2),\n };\n \n struct hinic_rx_mode_work {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/421e9526288b6ec241b46153493884277cbb533f"}
{"commit_hash": "24e2e7a19f7e4b83d0d5189040d997bce3596473", "short_hash": "24e2e7a19f7e", "author_name": "Stanley Chu", "author_email": "stanley.chu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-12T23:19:05+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-06-18T22:50:25-04:00", "subject": "scsi: ufs: Avoid runtime suspend possibly being blocked forever", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 62694735ca95 (\"[SCSI] ufs: Add runtime PM support for UFS host controller driver\")", "cc_stable": true, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi/ufs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 7, "hunks": 2, "review_chain": {"signed_off_by": ["Stanley Chu <stanley.chu@mediatek.com> (MediaTek)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": ["Avri Altman <avri.altman@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 10, "score_impact": 20, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in SCSI UFS subsystem affecting runtime PM"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Deadlock fix with stable backport affecting UFS storage users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent commit message with detailed explanation and proper tags"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org review (Mediatek/WD), maintainer commit from different org"}}, "score_justification": "Runtime suspend hang bug in UFS driver with excellent root cause analysis", "code_snippet": "@@ -430,24 +430,21 @@ int ufshcd_pltfrm_init(struct platform_device *pdev,\n \t\tgoto dealloc_host;\n \t}\n \n-\tpm_runtime_set_active(&pdev->dev);\n-\tpm_runtime_enable(&pdev->dev);\n-\n \tufshcd_init_lanes_per_dir(hba);\n \n \terr = ufshcd_init(hba, mmio_base, irq);\n \tif (err) {\n \t\tdev_err(dev, \"Initialization failed\\n\");\n-\t\tgoto out_disable_rpm;\n+\t\tgoto dealloc_host;\n \t}\n \n \tplatform_set_drvdata(pdev, hba);\n \n+\tpm_runtime_set_active(&pdev->dev);\n+\tpm_runtime_enable(&pdev->dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24e2e7a19f7e4b83d0d5189040d997bce3596473"}
{"commit_hash": "29a51df0609c74e7163d41334021166d6a34d083", "short_hash": "29a51df0609c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-27T21:28:14+08:00", "committer_name": "Tyler Hicks", "committer_email": "tyhicks@canonical.com", "committer_company": "Canonical", "commit_date": "2019-06-19T05:53:44Z", "subject": "ecryptfs: remove unnessesary null check in ecryptfs_keyring_auth_tok_for_sig", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ecryptfs", "subsystems_touched": ["fs/ecryptfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tyler Hicks <tyhicks@canonical.com> (Canonical)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 9, "score_impact": 8, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Tiny change (4 lines) in critical filesystem subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup affecting ecryptfs users, no functional change"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Cross-org review, clear message, no testing evidence"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Canonical maintainer, good cross-org"}}, "score_justification": "Removes unnecessary NULL checks in ecryptfs keyring auth token function", "code_snippet": "@@ -1627,9 +1627,9 @@ int ecryptfs_keyring_auth_tok_for_sig(struct key **auth_tok_key,\n \tint rc = 0;\n \n \t(*auth_tok_key) = request_key(&key_type_user, sig, NULL);\n-\tif (!(*auth_tok_key) || IS_ERR(*auth_tok_key)) {\n+\tif (IS_ERR(*auth_tok_key)) {\n \t\t(*auth_tok_key) = ecryptfs_get_encrypted_key(sig);\n-\t\tif (!(*auth_tok_key) || IS_ERR(*auth_tok_key)) {\n+\t\tif (IS_ERR(*auth_tok_key)) {\n \t\t\tprintk(KERN_ERR \"Could not find key with description: [%s]\\n\",\n \t\t\t      sig);\n \t\t\trc = process_request_key_err(PTR_ERR(*auth_tok_key));\n", "flags": ["CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/29a51df0609c74e7163d41334021166d6a34d083"}
{"commit_hash": "c036061be907b8bcf8c030cf4d2fb97a04d6f5d1", "short_hash": "c036061be907", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T23:51:17+08:00", "committer_name": "Tyler Hicks", "committer_email": "tyhicks@canonical.com", "committer_company": "Canonical", "commit_date": "2019-06-19T05:53:49Z", "subject": "ecryptfs: Make ecryptfs_xattr_handler static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ecryptfs", "subsystems_touched": ["fs/ecryptfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tyler Hicks <tyhicks@canonical.com> (Canonical)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single keyword change in filesystem code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime effect"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple fix with proper attribution, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution from robot report"}}, "score_justification": "Sparse warning fix adding static to ecryptfs xattr handler, cross-org review", "code_snippet": "@@ -1135,7 +1135,7 @@ static int ecryptfs_xattr_set(const struct xattr_handler *handler,\n \t}\n }\n \n-const struct xattr_handler ecryptfs_xattr_handler = {\n+static const struct xattr_handler ecryptfs_xattr_handler = {\n \t.prefix = \"\",  /* match anything */\n \t.get = ecryptfs_xattr_get,\n \t.set = ecryptfs_xattr_set,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c036061be907b8bcf8c030cf4d2fb97a04d6f5d1"}
{"commit_hash": "c6d9c35d16f1bafd3fec64b865e569e48cbcb514", "short_hash": "c6d9c35d16f1", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-03-26T22:00:02+08:00", "committer_name": "Jan Kara", "committer_email": "jack@suse.cz", "committer_company": "Suse", "commit_date": "2019-06-19T15:25:41+02:00", "subject": "quota: fix a problem about transfer quota", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 7b9ca4c61bc2 (\"quota: Reduce contention on dq_data_lock\")", "cc_stable": false, "subsystem_prefix": "fs/quota", "subsystems_touched": ["fs/quota"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Jan Kara <jack@suse.cz> (Suse)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 2-line change in critical filesystem quota subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting quota transfer functionality"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear reproducible test case, proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit (Huawei to SUSE maintainer)"}}, "score_justification": "Regression fix for quota transfer logic with clear test case", "code_snippet": "@@ -1996,8 +1996,8 @@ int __dquot_transfer(struct inode *inode, struct dquot **transfer_to)\n \t\t\t\t       &warn_to[cnt]);\n \t\tif (ret)\n \t\t\tgoto over_quota;\n-\t\tret = dquot_add_space(transfer_to[cnt], cur_space, rsv_space, 0,\n-\t\t\t\t      &warn_to[cnt]);\n+\t\tret = dquot_add_space(transfer_to[cnt], cur_space, rsv_space,\n+\t\t\t\t      DQUOT_SPACE_WARN, &warn_to[cnt]);\n \t\tif (ret) {\n \t\t\tspin_lock(&transfer_to[cnt]->dq_dqb_lock);\n \t\t\tdquot_decr_inodes(transfer_to[cnt], inode_usage);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c6d9c35d16f1bafd3fec64b865e569e48cbcb514"}
{"commit_hash": "9500ff14c4cf0eedf4c5f55175b9046768db5cbd", "short_hash": "9500ff14c4cf", "author_name": "Wanglai Shi", "author_email": "shiwanglai@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-04-20T22:00:35+08:00", "committer_name": "Wei Xu", "committer_email": "xuwei5@hisilicon.com", "committer_company": "HiSilicon", "commit_date": "2019-06-19T15:43:31+01:00", "subject": "arm64: dts: hi3660: Add CoreSight support", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts/hisilicon"], "subsystem_tier": 2, "files_changed": 2, "insertions": 458, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wanglai Shi <shiwanglai@hisilicon.com> (HiSilicon)", "Wei Xu <xuwei5@hisilicon.com> (HiSilicon)"], "reviewed_by": ["Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 14, "score_impact": 15, "score_quality": 15, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "New DT file with 458 lines adding hardware support"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "CoreSight tracing support for Hikey960 platform"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 15, "details": "Two Reviewed-by tags, Tested-by, clear message"}, "community": {"cross_org": 2, "maintainer": 1, "response": 0, "subtotal": 3, "details": "Hisilicon author and committer, Linaro reviewers"}}, "score_justification": "New CoreSight DT support for Hi3660 SoC with cross-company review", "code_snippet": "@@ -0,0 +1,456 @@\n+// SPDX-License-Identifier: GPL-2.0\n+\n+/*\n+ * dtsi for Hisilicon Hi3660 Coresight\n+ *\n+ * Copyright (C) 2016-2018 Hisilicon Ltd.\n+ *\n+ * Author: Wanglai Shi <shiwanglai@hisilicon.com>\n+ *\n+ */\n+/ {\n+\tsoc {\n+\t\t/* A53 cluster internals */\n+\t\tetm@ecc40000 {\n+\t\t\tcompatible = \"arm,coresight-etm4x\", \"arm,primecell\";\n+\t\t\treg = <0 0xecc40000 0 0x1000>;\n+\t\t\tclocks = <&crg_ctrl HI3660_PCLK>;\n+\t\t\tclock-names = \"apb_pclk\";\n+\t\t\tcpu = <&cpu0>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9500ff14c4cf0eedf4c5f55175b9046768db5cbd"}
{"commit_hash": "6ad805b82dc5fc0ffd2de1d1f0de47214a050278", "short_hash": "6ad805b82dc5", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-15T17:41:29+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-19T19:31:21+02:00", "subject": "doc: fix documentation about UIO_MEM_LOGICAL using", "primary_category": "BUG-CRASH", "secondary_categories": ["DOC-KERNEL"], "cve_ids": [], "fixes_tag": "Fixes: d4fc5069a394 (\"mm: switch s_mem and slab_cache in struct page\")", "cc_stable": false, "subsystem_prefix": "doc", "subsystems_touched": ["Documentation/driver-api"], "subsystem_tier": 6, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 2, "score_impact": 20, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal 2-line documentation change"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Documentation fix for kernel crash issue affecting UIO driver users"}, "quality": {"review_chain": 1, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Excellent commit message with full crash dump and detailed explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 1, "subtotal": 6, "details": "Huawei author, Greg KH maintainer commit, references commit history"}}, "score_justification": "Documentation change to prevent kernel oops in UIO drivers by correcting kmalloc usage guidance", "code_snippet": "@@ -276,8 +276,8 @@ fields of ``struct uio_mem``:\n -  ``int memtype``: Required if the mapping is used. Set this to\n    ``UIO_MEM_PHYS`` if you you have physical memory on your card to be\n    mapped. Use ``UIO_MEM_LOGICAL`` for logical memory (e.g. allocated\n-   with :c:func:`kmalloc()`). There's also ``UIO_MEM_VIRTUAL`` for\n-   virtual memory.\n+   with :c:func:`__get_free_pages()` but not kmalloc()). There's also\n+   ``UIO_MEM_VIRTUAL`` for virtual memory.\n \n -  ``phys_addr_t addr``: Required if the mapping is used. Fill in the\n    address of your memory block. This address is the one that appears in\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6ad805b82dc5fc0ffd2de1d1f0de47214a050278"}
{"commit_hash": "87997471c597d0594dc8c9346ecaafab83798cf3", "short_hash": "87997471c597", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-05-29T17:21:51+08:00", "committer_name": "Michael Ellerman", "committer_email": "mpe@ellerman.id.au", "committer_company": "Id", "commit_date": "2019-06-19T20:05:08+10:00", "subject": "powerpc/64s: Fix misleading SPR and timebase information", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 10d91611f426 (\"powerpc/64s: Reimplement book3s idle code in C\")", "cc_stable": false, "subsystem_prefix": "powerpc", "subsystems_touched": ["arch/powerpc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Michael Ellerman <mpe@ellerman.id.au> (Id)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny format string fix in powerpc idle code"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 13, "details": "Regression fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear message with Fixes tag and proper format"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Hisilicon, committed by powerpc maintainer"}}, "score_justification": "Format string bug fix in powerpc idle code - wrong printf specifier", "code_snippet": "@@ -1159,10 +1159,10 @@ static void __init pnv_power9_idle_init(void)\n \t\t\tpnv_deepest_stop_psscr_mask);\n \t}\n \n-\tpr_info(\"cpuidle-powernv: First stop level that may lose SPRs = 0x%lld\\n\",\n+\tpr_info(\"cpuidle-powernv: First stop level that may lose SPRs = 0x%llx\\n\",\n \t\tpnv_first_spr_loss_level);\n \n-\tpr_info(\"cpuidle-powernv: First stop level that may lose timebase = 0x%lld\\n\",\n+\tpr_info(\"cpuidle-powernv: First stop level that may lose timebase = 0x%llx\\n\",\n \t\tpnv_first_tb_loss_level);\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/87997471c597d0594dc8c9346ecaafab83798cf3"}
{"commit_hash": "055ecea0aa6e619aff3b2a523f25aa9837682a8f", "short_hash": "055ecea0aa6e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-06-19T13:53:18-06:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-20T08:06:56+02:00", "subject": "coresight: replicator: Add terminate entry for acpi_device_id tables", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 115b1aa23307 (\"coresight: acpi: Support for platform devices\")", "cc_stable": false, "subsystem_prefix": "drivers/hwtracing/coresight", "subsystems_touched": ["drivers/hwtracing/coresight"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Suzuki K Poulose <suzuki.poulose@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 7, "score_impact": 11, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line change in coresight driver"}, "impact": {"category_base": 5, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Cleanup fix with Fixes tag but limited user impact"}, "quality": {"review_chain": 6, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple reviewers from different orgs, basic message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Linaro/Foundation maintainers committed"}}, "score_justification": "Missing ACPI table terminator in coresight replicator driver", "code_snippet": "@@ -300,6 +300,7 @@ static const struct of_device_id static_replicator_match[] = {\n #ifdef CONFIG_ACPI\n static const struct acpi_device_id static_replicator_acpi_ids[] = {\n \t{\"ARMHC985\", 0}, /* ARM CoreSight Static Replicator */\n+\t{}\n };\n #endif\n \n", "flags": ["TERMINATOR_FIX"], "link": "https://lore.kernel.org/linux-kernel/055ecea0aa6e619aff3b2a523f25aa9837682a8f"}
{"commit_hash": "ff70cacc967f9455e4b6f62b9a57b5962d9fb725", "short_hash": "ff70cacc967f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-25T22:41:53+08:00", "committer_name": "Tony Luck", "committer_email": "tony.luck@intel.com", "committer_company": "Intel", "commit_date": "2019-06-20T11:44:36-07:00", "subject": "EDAC/aspeed: Remove set but not used variable 'np'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "EDAC", "subsystems_touched": ["drivers/edac"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Borislav Petkov <bp@suse.de> (Suse)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)", "Stefan Schaeckeler <sschaeck@cisco.com> (Cisco)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in EDAC driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two reviewers, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in EDAC driver", "code_snippet": "@@ -281,15 +281,11 @@ static int aspeed_probe(struct platform_device *pdev)\n \tstruct device *dev = &pdev->dev;\n \tstruct edac_mc_layer layers[2];\n \tstruct mem_ctl_info *mci;\n-\tstruct device_node *np;\n \tstruct resource *res;\n \tvoid __iomem *regs;\n \tu32 reg04;\n \tint rc;\n \n-\t/* setup regmap */\n-\tnp = dev->of_node;\n-\n \tres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\n \tif (!res)\n \t\treturn -ENOENT;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ff70cacc967f9455e4b6f62b9a57b5962d9fb725"}
{"commit_hash": "aa23ce847ddac1fd5ffe987ff12e12ff48318e45", "short_hash": "aa23ce847dda", "author_name": "Chunfeng Yun", "author_email": "chunfeng.yun@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-20T16:12:31+08:00", "committer_name": "Felipe Balbi", "committer_email": "felipe.balbi@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-06-20T11:50:19+03:00", "subject": "usb: dwc3: remove unused @lock member of dwc3_ep struct", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "usb", "subsystems_touched": ["drivers/usb/dwc3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 0, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Chunfeng Yun <chunfeng.yun@mediatek.com> (MediaTek)", "Felipe Balbi <felipe.balbi@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 8, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny cleanup in USB gadget driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Dead code removal affecting USB device users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean atomic change with maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Mediatek to Intel maintainer"}}, "score_justification": "Dead code removal (unused spinlock) in USB gadget driver", "code_snippet": "@@ -677,7 +676,6 @@ struct dwc3_ep {\n \tstruct list_head\tpending_list;\n \tstruct list_head\tstarted_list;\n \n-\tspinlock_t\t\tlock;\n \tvoid __iomem\t\t*regs;\n \n \tstruct dwc3_trb\t\t*trb_pool;\ndiff --git a/drivers/usb/dwc3/gadget.c b/drivers/usb/dwc3/gadget.c\nindex 2751d3e98f5f..173f5329d3d9 100644\n--- a/drivers/usb/dwc3/gadget.c\n+++ b/drivers/usb/dwc3/gadget.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa23ce847ddac1fd5ffe987ff12e12ff48318e45"}
{"commit_hash": "2ac0bc5e725e84d56b7fc8b280b2dbc9f2f10737", "short_hash": "2ac0bc5e725e", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-08T14:46:09+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T12:56:34-04:00", "subject": "RDMA/hns: Add a group interfaces for optimizing buffers getting flow", "primary_category": "MAINT-REFACTOR", "secondary_categories": ["FEAT-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 2, "insertions": 111, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 12, "score_impact": 12, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change (111 lines, 6 hunks) in Tier 3 RDMA subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 12, "details": "Refactoring to add new buffer management API for Hisilicon RDMA driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multiple Signed-off-by tags, basic commit message, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer applied commit, external review"}}, "score_justification": "", "code_snippet": "@@ -34,6 +34,7 @@\n #include <linux/platform_device.h>\n #include <linux/vmalloc.h>\n #include \"hns_roce_device.h\"\n+#include <rdma/ib_umem.h>\n \n int hns_roce_bitmap_alloc(struct hns_roce_bitmap *bitmap, unsigned long *obj)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2ac0bc5e725e84d56b7fc8b280b2dbc9f2f10737"}
{"commit_hash": "8d18ad83f19b7fb67485f977a51408287e3f801f", "short_hash": "8d18ad83f19b", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-08T14:46:10+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T12:56:34-04:00", "subject": "RDMA/hns: Fix bug when wqe num is larger than 16K", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 926a01dc000d (\"RDMA/hns: Add QP operations support for hip08 SoC\")", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 3, "insertions": 235, "deletions": 83, "hunks": 50, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 48, "score_technical": 14, "score_impact": 20, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "3 files, 50 hunks, +235/-83 lines in RDMA driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with Fixes tag, affects RDMA users"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Excellent commit message with stack trace and root cause"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer, cross-org"}}, "score_justification": "Kernel paging request crash when WQE count >16K due to MTT design defect; fixes by replacing MTT with MTR.", "code_snippet": "@@ -660,6 +660,14 @@ struct hns_roce_qp {\n \n \tstruct ib_umem\t\t*umem;\n \tstruct hns_roce_mtt\tmtt;\n+\tstruct hns_roce_mtr\tmtr;\n+\n+\t/* this define must less than HNS_ROCE_MAX_BT_REGION */\n+#define HNS_ROCE_WQE_REGION_MAX\t 3\n+\tstruct hns_roce_buf_region regions[HNS_ROCE_WQE_REGION_MAX];\n+\tint\t\t\tregion_cnt;\n+\tint                     wqe_bt_pg_shift;\n+\n \tu32\t\t\tbuff_size;\n \tstruct mutex\t\tmutex;\n \tu8\t\t\tport;", "flags": ["HARDWARE_FIX"], "link": "https://lore.kernel.org/linux-kernel/8d18ad83f19b7fb67485f977a51408287e3f801f"}
{"commit_hash": "38389eaa4db192648916464b60f6086d6bbaa6de", "short_hash": "38389eaa4db1", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-08T14:46:08+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T12:56:34-04:00", "subject": "RDMA/hns: Add mtr support for mixed multihop addressing", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 4, "insertions": 628, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "4 files, 10 hunks, +628 lines in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "New MTR support for hip08 hardware addressing"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author+committer SOBs, good context in body"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer ledford"}}, "score_justification": "New MTR feature for hip08 mixed multihop addressing in RDMA driver", "code_snippet": "@@ -341,6 +341,29 @@ struct hns_roce_mtt {\n \tenum hns_roce_mtt_type\tmtt_type;\n };\n \n+struct hns_roce_buf_region {\n+\tint offset; /* page offset */\n+\tu32 count; /* page count*/\n+\tint hopnum; /* addressing hop num */\n+};\n+\n+#define HNS_ROCE_MAX_BT_REGION\t3\n+#define HNS_ROCE_MAX_BT_LEVEL\t3\n+struct hns_roce_hem_list {\n+\tstruct list_head root_bt;\n+\t/* link all bt dma mem by hop config */\n+\tstruct list_head mid_bt[HNS_ROCE_MAX_BT_REGION][HNS_ROCE_MAX_BT_LEVEL];\n+\tstruct list_head btm_bt; /* link all bottom bt in @mid_bt */\n+\tdma_addr_t root_ba; /* pointer to the root ba table */\n+\tint bt_pg_shift;\n+};", "flags": [], "link": "https://lore.kernel.org/linux-kernel/38389eaa4db192648916464b60f6086d6bbaa6de"}
{"commit_hash": "c7a787de7f3f3639b259d13190376af38068515c", "short_hash": "c7a787de7f3f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-06T04:28:40Z", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-06-20T14:13:59+05:30", "subject": "phy: usb: phy-brcm-usb: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "phy", "subsystems_touched": ["drivers/phy/broadcom"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 6, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single deletion in driver file via coccinelle"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Automated cleanup with minimal runtime effect"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Mechanical change with basic tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company author/committer from Huawei/TI"}}, "score_justification": "Coccinelle-generated API migration removing redundant .owner field", "code_snippet": "@@ -443,7 +443,6 @@ static struct platform_driver brcm_usb_driver = {\n \t.probe\t\t= brcm_usb_phy_probe,\n \t.driver\t\t= {\n \t\t.name\t= \"brcmstb-usb-phy\",\n-\t\t.owner\t= THIS_MODULE,\n \t\t.pm = &brcm_usb_phy_pm_ops,\n \t\t.of_match_table = brcm_usb_dt_ids,\n \t},\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/c7a787de7f3f3639b259d13190376af38068515c"}
{"commit_hash": "4d763b168e9c5c366b05812c7bba7662e5ea3669", "short_hash": "4d763b168e9c", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-20T17:00:02+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T14:21:51+02:00", "subject": "KVM: VMX: check CPUID before allowing read/write of IA32_XSS", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 203000993de5 (\"kvm: vmx: add MSR logic for XSAVES\")", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Xiaoyao Li <xiaoyao.li@linux.intel.com> (Intel)", "Tao Xu <tao3.xu@intel.com> (Intel)"]}, "score_total": 45, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix with stable backport, affects VM guests"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes/Reported-by tags, multiple reporters"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Author from Tencent, committer from Red Hat, external reporters"}}, "score_justification": "KVM VMX regression adding CPUID check before IA32_XSS MSR access", "code_snippet": "@@ -1732,7 +1732,10 @@ static int vmx_get_msr(struct kvm_vcpu *vcpu, struct msr_data *msr_info)\n \t\treturn vmx_get_vmx_msr(&vmx->nested.msrs, msr_info->index,\n \t\t\t\t       &msr_info->data);\n \tcase MSR_IA32_XSS:\n-\t\tif (!vmx_xsaves_supported())\n+\t\tif (!vmx_xsaves_supported() ||\n+\t\t    (!msr_info->host_initiated &&\n+\t\t     !(guest_cpuid_has(vcpu, X86_FEATURE_XSAVE) &&\n+\t\t       guest_cpuid_has(vcpu, X86_FEATURE_XSAVES))))\n \t\t\treturn 1;\n \t\tmsr_info->data = vcpu->arch.ia32_xss;\n \t\tbreak;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d763b168e9c5c366b05812c7bba7662e5ea3669"}
{"commit_hash": "89a6da3cb8f30ee0aeca924d84bef688f22f883e", "short_hash": "89a6da3cb8f3", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T22:56:03+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T15:05:48-04:00", "subject": "RDMA/hns: reset function when removing module", "primary_category": "BUG-RESOURCE", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 2, "insertions": 61, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change in RDMA driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Resource handling fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with two reviewers from same org"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Module cleanup enhancement adding hardware reset via function clear command to ensure proper resource recycling", "code_snippet": "@@ -1130,6 +1130,47 @@ static int hns_roce_cmq_query_hw_info(struct hns_roce_dev *hr_dev)\n \treturn 0;\n }\n \n+static void hns_roce_function_clear(struct hns_roce_dev *hr_dev)\n+{\n+\tbool fclr_write_fail_flag = false;\n+\tstruct hns_roce_func_clear *resp;\n+\tstruct hns_roce_cmq_desc desc;\n+\tunsigned long end;\n+\tint ret;\n+\n+\thns_roce_cmq_setup_basic_desc(&desc, HNS_ROCE_OPC_FUNC_CLEAR, false);\n+\tresp = (struct hns_roce_func_clear *)desc.data;\n+\n+\tret = hns_roce_cmq_send(hr_dev, &desc, 1);\n+\tif (ret) {\n+\t\tfclr_write_fail_flag = true;\n+\t\tdev_err(hr_dev->dev, \"Func clear write failed, ret = %d.\\n\",\n+\t\t\t ret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/89a6da3cb8f30ee0aeca924d84bef688f22f883e"}
{"commit_hash": "03c511dde04074fb8519d50d8001157d4bdebc7d", "short_hash": "03c511dde040", "author_name": "John Wang", "author_email": "wangzqbj@inspur.com", "author_company": "Inspur", "author_date": "2019-06-13T15:00:02+08:00", "committer_name": "Joel Stanley", "committer_email": "joel@jms.id.au", "committer_company": "Id", "commit_date": "2019-06-20T16:37:26+09:30", "subject": "ARM: dts: aspeed: Add Inspur fp5280g2 BMC machine", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm/boot/dts"], "subsystem_tier": 5, "files_changed": 2, "insertions": 847, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["John Wang <wangzqbj@inspur.com> (Inspur)", "Joel Stanley <joel@jms.id.au> (Id)"], "reviewed_by": ["Lei YU <mine260309@gmail.com> (Gmail)", "Andrew Jeffery <andrew@aj.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 15, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 10, "details": "New device tree file with 847 lines for BMC platform"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for Inspur server BMC"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Two Reviewed-by tags, good message structure"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author from Inspur, maintainer from different org"}}, "score_justification": "New device tree file adding Inspur FP5280G2 BMC platform support with proper review", "code_snippet": "@@ -1270,6 +1270,7 @@ dtb-$(CONFIG_ARCH_ASPEED) += \\\n \taspeed-bmc-facebook-tiogapass.dtb \\\n \taspeed-bmc-facebook-yamp.dtb \\\n \taspeed-bmc-intel-s2600wf.dtb \\\n+\taspeed-bmc-inspur-fp5280g2.dtb \\\n \taspeed-bmc-lenovo-hr630.dtb \\\n \taspeed-bmc-microsoft-olympus.dtb \\\n \taspeed-bmc-opp-lanyang.dtb \\\ndiff --git a/arch/arm/boot/dts/aspeed-bmc-inspur-fp5280g2.dts b/arch/arm/boot/dts/aspeed-bmc-inspur-fp5280g2.dts\nnew file mode 100644\nindex 000000000000..628195b66d46\n--- /dev/null\n+++ b/arch/arm/boot/dts/aspeed-bmc-inspur-fp5280g2.dts", "flags": [], "link": "https://lore.kernel.org/linux-kernel/03c511dde04074fb8519d50d8001157d4bdebc7d"}
{"commit_hash": "ee102584efd53547bf9a0810e80b56f99f4a9105", "short_hash": "ee102584efd5", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-06-20T18:12:17+01:00", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-20T18:12:17+01:00", "subject": "fs/afs: use struct_size() in kzalloc()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/afs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 2, "files_changed": 3, "insertions": 4, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 12, "score_impact": 9, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 1, "subtotal": 9, "details": "API migration with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic commit message, single logical change"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "API migration from open-coded size calculation to struct_size() helper", "code_snippet": "@@ -242,8 +242,7 @@ static struct afs_read *afs_read_dir(struct afs_vnode *dvnode, struct key *key)\n \tif (nr_inline > (PAGE_SIZE - sizeof(*req)) / sizeof(struct page *))\n \t\tnr_inline = 0;\n \n-\treq = kzalloc(sizeof(*req) + sizeof(struct page *) * nr_inline,\n-\t\t      GFP_KERNEL);\n+\treq = kzalloc(struct_size(req, array, nr_inline), GFP_KERNEL);\n \tif (!req)\n \t\treturn ERR_PTR(-ENOMEM);\n \ndiff --git a/fs/afs/file.c b/fs/afs/file.c\nindex 11e69c5fb7ab..67cd782a1c64 100644\n--- a/fs/afs/file.c\n+++ b/fs/afs/file.c", "flags": ["API_MIGRATION"], "link": "https://lore.kernel.org/linux-kernel/ee102584efd53547bf9a0810e80b56f99f4a9105"}
{"commit_hash": "e6c4375f7c9293ffa65469d16f8ebd2586cb03f2", "short_hash": "e6c4375f7c92", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-04T07:19:57+01:00", "committer_name": "Russell King", "committer_email": "rmk+kernel@armlinux.org.uk", "committer_company": "Org", "commit_date": "2019-06-20T22:29:59+01:00", "subject": "ARM: 8865/1: mm: remove unused variables", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 6, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Russell King <rmk+kernel@armlinux.org.uk> (Org)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)", "Krzysztof Kozlowski <krzk@kernel.org> (Kernel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -466,12 +466,6 @@ static void __init free_highpages(void)\n  */\n void __init mem_init(void)\n {\n-#ifdef CONFIG_HAVE_TCM\n-\t/* These pointers are filled in on TCM detection */\n-\textern u32 dtcm_end;\n-\textern u32 itcm_end;\n-#endif\n-\n \tset_max_mapnr(pfn_to_page(max_pfn) - mem_map);\n \n \t/* this will put all unused low memory onto the freelists */\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/e6c4375f7c9293ffa65469d16f8ebd2586cb03f2"}
{"commit_hash": "1853bc0ae64b035ba49d285cf8d3fb4991e7872e", "short_hash": "1853bc0ae64b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-18T21:36:33+08:00", "committer_name": "Kishon Vijay Abraham I", "committer_email": "kishon@ti.com", "committer_company": "Texas Instruments", "commit_date": "2019-06-21T10:51:14+05:30", "subject": "phy: ti: am654-serdes: Make serdes_am654_xlate() static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Roger Quadros <rogerq@ti.com> (Texas Instruments)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -247,8 +247,8 @@ static void serdes_am654_release(struct phy *x)\n \tmux_control_deselect(phy->control);\n }\n \n-struct phy *serdes_am654_xlate(struct device *dev, struct of_phandle_args\n-\t\t\t\t *args)\n+static struct phy *serdes_am654_xlate(struct device *dev,\n+\t\t\t\t      struct of_phandle_args *args)\n {\n \tstruct serdes_am654 *am654_phy;\n \tstruct phy *phy;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/1853bc0ae64b035ba49d285cf8d3fb4991e7872e"}
{"commit_hash": "e526c9bc11f858f115c77ca7f0b0256f09668f96", "short_hash": "e526c9bc11f8", "author_name": "Ben Ho", "author_email": "Ben.Ho@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-27T17:04:42+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-06-21T14:31:06+02:00", "subject": "arm64: dts: Add Mediatek SoC MT8183 and evaluation board dts and Makefile", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 3, "insertions": 343, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Ben Ho <Ben.Ho@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Seiya Wang <seiya.wang@mediatek.com> (MediaTek)", "Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Hsin-Hsiung Wang <hsin-hsiung.wang@mediatek.com> (MediaTek)", "Eddie Huang <eddie.huang@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 16, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 10, "details": "New device tree files for SoC support (343 insertions)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 5, "subtotal": 16, "details": "First support for MediaTek MT8183 SoC platform"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Multiple authors, clear commit message, no testing tags"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All contributors from MediaTek, maintainer signed off"}}, "score_justification": "New device tree support for MediaTek MT8183 SoC with 8-core big.LITTLE CPU topology", "code_snippet": "@@ -7,3 +7,4 @@ dtb-$(CONFIG_ARCH_MEDIATEK) += mt6797-x20-dev.dtb\n dtb-$(CONFIG_ARCH_MEDIATEK) += mt7622-rfb1.dtb\n dtb-$(CONFIG_ARCH_MEDIATEK) += mt7622-bananapi-bpi-r64.dtb\n dtb-$(CONFIG_ARCH_MEDIATEK) += mt8173-evb.dtb\n+dtb-$(CONFIG_ARCH_MEDIATEK) += mt8183-evb.dtb\ndiff --git a/arch/arm64/boot/dts/mediatek/mt8183-evb.dts b/arch/arm64/boot/dts/mediatek/mt8183-evb.dts\nnew file mode 100644\nindex 000000000000..9b525597e5ec\n--- /dev/null\n+++ b/arch/arm64/boot/dts/mediatek/mt8183-evb.dts", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e526c9bc11f858f115c77ca7f0b0256f09668f96"}
{"commit_hash": "12e23ebb396e6ffea88b8c5e483059a297326afb", "short_hash": "12e23ebb396e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-13T11:23:19-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-21T15:33:32-04:00", "subject": "media: ttpci: Fix build error without RC_CORE", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/pci/ttpci"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Sean Young <sean@mess.org> (Mess)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 28, "score_technical": 6, "score_impact": 7, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in media driver Kconfig"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 7, "details": "Build fix affecting driver compilation"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple reviewers, clear message with Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author + external maintainer + robot report"}}, "score_justification": "Kconfig build dependency fix for ttpci driver with proper review chain", "code_snippet": "@@ -1,13 +1,14 @@\n # SPDX-License-Identifier: GPL-2.0-only\n config DVB_AV7110_IR\n \tbool\n+\tdepends on RC_CORE=y || RC_CORE = DVB_AV7110\n+\tdefault DVB_AV7110\n \n config DVB_AV7110\n \ttristate \"AV7110 cards\"\n \tdepends on DVB_CORE && PCI && I2C\n \tselect TTPCI_EEPROM\n \tselect VIDEO_SAA7146_VV\n-\tselect DVB_AV7110_IR if INPUT_EVDEV=y || INPUT_EVDEV=DVB_AV7110\n \tdepends on VIDEO_DEV\t# dependencies of VIDEO_SAA7146_VV\n \tselect DVB_VES1820 if MEDIA_SUBDRV_AUTOSELECT\n \tselect DVB_VES1X93 if MEDIA_SUBDRV_AUTOSELECT\n", "flags": ["INTERNAL_ROBOT_REPORT"], "link": "https://lore.kernel.org/linux-kernel/12e23ebb396e6ffea88b8c5e483059a297326afb"}
{"commit_hash": "e1d22385ea6686ff3dcd7092d84465c193849829", "short_hash": "e1d22385ea66", "author_name": "Wei Li", "author_email": "liwei391@huawei.com", "author_company": "Huawei", "author_date": "2019-06-11T10:38:12+01:00", "committer_name": "Catalin Marinas", "committer_email": "catalin.marinas@arm.com", "committer_company": "ARM", "commit_date": "2019-06-21T15:50:23+01:00", "subject": "arm64: fix kernel stack overflow in kdump capture kernel", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e79321883842 (\"arm64: Switch to PMR masking when starting CPUs\")", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 2, "insertions": 10, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Li <liwei391@huawei.com> (Huawei)", "Julien Thierry <julien.thierry@arm.com> (ARM)", "Catalin Marinas <catalin.marinas@arm.com> (ARM)"], "reviewed_by": ["Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 12, "score_impact": 22, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small fix in critical arch subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Crash fix with regression tag"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with detailed trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Arm maintainer"}}, "score_justification": "Stack overflow panic fix in arm64 NMI initialization with detailed crash trace and regression tag", "code_snippet": "@@ -77,6 +77,15 @@ void __init init_IRQ(void)\n \tirqchip_init();\n \tif (!handle_arch_irq)\n \t\tpanic(\"No interrupt controller found.\");\n+\n+\tif (system_uses_irq_prio_masking()) {\n+\t\t/*\n+\t\t * Now that we have a stack for our IRQ handler, set\n+\t\t * the PMR/PSR pair to a consistent state.\n+\t\t */\n+\t\tWARN_ON(read_sysreg(daif) & PSR_A_BIT);\n+\t\tlocal_daif_restore(DAIF_PROCCTX_NOIRQ);\n+\t}\n }\n \n /*\ndiff --git a/arch/arm64/kernel/smp.c b/arch/arm64/kernel/smp.c\nindex 4deaee3c2a33..83cdb0aa2ff1 100644\n--- a/arch/arm64/kernel/smp.c\n+++ b/arch/arm64/kernel/smp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e1d22385ea6686ff3dcd7092d84465c193849829"}
{"commit_hash": "3e5bc68fa596874500e8c718605aa44d5e42a34c", "short_hash": "3e5bc68fa596", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-21T15:24:55+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-21T16:46:17+02:00", "subject": "staging: ks7010: Fix build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 8b523f20417d (\"staging: ks7010: removed custom Michael MIC implementation.\")", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/ks7010"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 33, "score_technical": 6, "score_impact": 12, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal Kconfig change in staging driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build regression fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear error message and fix reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Robot report + cross-company maintainer"}}, "score_justification": "Kconfig dependency fix for build error in staging driver", "code_snippet": "@@ -5,6 +5,7 @@ config KS7010\n \tselect WIRELESS_EXT\n \tselect WEXT_PRIV\n \tselect FW_LOADER\n+\tdepends on CRYPTO && CRYPTO_HASH\n \thelp\n \t  This is a driver for KeyStream KS7010 based SDIO WIFI cards. It is\n \t  found on at least later Spectec SDW-821 (FCC-ID \"S2Y-WLAN-11G-K\" only,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3e5bc68fa596874500e8c718605aa44d5e42a34c"}
{"commit_hash": "10055c6fe274adab58bb0e20a4a7224829b62513", "short_hash": "10055c6fe274", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T14:59:26Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-06-21T16:46:17+02:00", "subject": "Staging: kpc2000: kpc_dma: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/staging", "subsystems_touched": ["drivers/staging/kpc2000"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 5, "score_impact": 6, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion in staging driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup removing redundant field"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Coccinelle-generated with proper attribution"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Coccinelle-generated cleanup removing redundant .owner field", "code_snippet": "@@ -197,7 +197,6 @@ static struct platform_driver kpc_dma_plat_driver_i = {\n \t.remove       = kpc_dma_remove,\n \t.driver = {\n \t\t.name   = KP_DRIVER_NAME_DMA_CONTROLLER,\n-\t\t.owner  = THIS_MODULE,\n \t},\n };\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/10055c6fe274adab58bb0e20a4a7224829b62513"}
{"commit_hash": "eef4d8e9f06dd06496ea82400f26379c4de8797c", "short_hash": "eef4d8e9f06d", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-15T03:45:53-04:00", "committer_name": "Mauro Carvalho Chehab", "committer_email": "mchehab+samsung@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-21T17:13:26-04:00", "subject": "media: meye: Fix build COMPILE_TEST error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 6159e12e1177 (\"media: meye: allow building it with COMPILE_TEST on non-x86\")", "cc_stable": false, "subsystem_prefix": "media", "subsystems_touched": ["drivers/media/pci"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Hans Verkuil <hverkuil-cisco@xs4all.nl> (Xs4all)", "Mauro Carvalho Chehab <mchehab+samsung@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 35, "score_technical": 8, "score_impact": 10, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small Kconfig fix in media driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build fix affecting compilation, has Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Well-documented with Fixes tag, multi-reviewer chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei->Samsung), reported by robot, reviewed by Hans"}}, "score_justification": "Kconfig dependency fix for build error when COMPILE_TEST=y, SONY_LAPTOP=m", "code_snippet": "@@ -2,7 +2,8 @@\n config VIDEO_MEYE\n \ttristate \"Sony Vaio Picturebook Motion Eye Video For Linux\"\n \tdepends on PCI && VIDEO_V4L2\n-\tdepends on SONY_LAPTOP || COMPILE_TEST\n+\tdepends on SONY_LAPTOP\n+\tdepends on X86 || COMPILE_TEST\n \thelp\n \t  This is the video4linux driver for the Motion Eye camera found\n \t  in the Vaio Picturebook laptops. Please read the material in\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eef4d8e9f06dd06496ea82400f26379c4de8797c"}
{"commit_hash": "da719a3567a31a0e6a01d6c4f931f50d72ff228a", "short_hash": "da719a3567a3", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-27T17:04:44+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-06-21T17:39:51+02:00", "subject": "arm64: dts: mt8183: add pinctrl device node", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 2, "files_changed": 1, "insertions": 25, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small DT addition in critical arch/arm64 subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 16, "details": "New SoC pinctrl support for mt8183 platform"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic commit message with internal review"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Single org (MediaTek) with maintainer sign-off"}}, "score_justification": "DT addition for mt8183 pinctrl hardware support, minimal review chain", "code_snippet": "@@ -8,6 +8,7 @@\n #include <dt-bindings/clock/mt8183-clk.h>\n #include <dt-bindings/interrupt-controller/arm-gic.h>\n #include <dt-bindings/interrupt-controller/irq.h>\n+#include \"mt8183-pinfunc.h\"\n \n / {\n \tcompatible = \"mediatek,mt8183\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/da719a3567a31a0e6a01d6c4f931f50d72ff228a"}
{"commit_hash": "eb59b35331469f3348ef09743fd425318fd0aac5", "short_hash": "eb59b3533146", "author_name": "Zhiyong Tao", "author_email": "zhiyong.tao@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-27T17:04:45+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-06-21T17:41:38+02:00", "subject": "arm64: dts: mt8183: Add auxadc device node", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts/mediatek"], "subsystem_tier": 5, "files_changed": 2, "insertions": 14, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Zhiyong Tao <zhiyong.tao@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 13, "score_quality": 8, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "Small DT change adding auxadc node for MT8183 SoC"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "New hardware support for specific MediaTek platform"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean DT addition with proper sign-off chain"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different committer from author, same company"}}, "score_justification": "Device tree addition enabling auxadc hardware on MediaTek MT8183 platform", "code_snippet": "@@ -26,6 +26,10 @@ chosen {\n \t};\n };\n \n+&auxadc {\n+\tstatus = \"okay\";\n+};\n+\n &uart0 {\n \tstatus = \"okay\";\n };\ndiff --git a/arch/arm64/boot/dts/mediatek/mt8183.dtsi b/arch/arm64/boot/dts/mediatek/mt8183.dtsi\nindex e74ea21ffa78..5672c18d5360 100644\n--- a/arch/arm64/boot/dts/mediatek/mt8183.dtsi\n+++ b/arch/arm64/boot/dts/mediatek/mt8183.dtsi", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eb59b35331469f3348ef09743fd425318fd0aac5"}
{"commit_hash": "8e2dd0f9249119e0084de4b75855359efe3fb5cc", "short_hash": "8e2dd0f92491", "author_name": "Erin Lo", "author_email": "erin.lo@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-27T17:04:46+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-06-21T17:47:56+02:00", "subject": "arm64: dts: mt8183: add spi node", "primary_category": "FEAT-HW", "secondary_categories": ["DT-SOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 3, "files_changed": 2, "insertions": 183, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Mengqi Zhang <Mengqi.Zhang@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 13, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change adding SPI controller nodes in arch/arm64 dts"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support addition for MediaTek MT8183 platform"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review chain, simple commit message, no testing evidence"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Different maintainer (Matthias Brugger) committed, same company"}}, "score_justification": "Device tree addition enabling SPI controllers on MediaTek MT8183 SoC", "code_snippet": "@@ -30,6 +30,111 @@ &auxadc {\n \tstatus = \"okay\";\n };\n \n+&pio {\n+\tspi_pins_0: spi0{\n+\t\tpins_spi{\n+\t\t\tpinmux = <PINMUX_GPIO85__FUNC_SPI0_MI>,\n+\t\t\t\t <PINMUX_GPIO86__FUNC_SPI0_CSB>,\n+\t\t\t\t <PINMUX_GPIO87__FUNC_SPI0_MO>,\n+\t\t\t\t <PINMUX_GPIO88__FUNC_SPI0_CLK>;\n+\t\t\tbias-disable;\n+\t\t};\n+\t};\n+\n+\tspi_pins_1: spi1{\n+\t\tpins_spi{\n+\t\t\tpinmux = <PINMUX_GPIO161__FUNC_SPI1_A_MI>,\n+\t\t\t\t <PINMUX_GPIO162__FUNC_SPI1_A_CSB>,\n+\t\t\t\t <PINMUX_GPIO163__FUNC_SPI1_A_MO>,", "flags": ["SOC_VENDOR"], "link": "https://lore.kernel.org/linux-kernel/8e2dd0f9249119e0084de4b75855359efe3fb5cc"}
{"commit_hash": "de1033881e936382d67ae47073a7092554729d74", "short_hash": "de1033881e93", "author_name": "Michael Mei", "author_email": "michael.mei@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-27T17:04:47+08:00", "committer_name": "Matthias Brugger", "committer_email": "matthias.bgg@gmail.com", "committer_company": "Gmail", "commit_date": "2019-06-21T17:50:12+02:00", "subject": "arm64: dts: mt8183: add efuse and Mediatek Chip id node to read", "primary_category": "DT-SOURCE", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["arch/arm64/boot/dts"], "subsystem_tier": 5, "files_changed": 1, "insertions": 15, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Michael Mei <michael.mei@mediatek.com> (MediaTek)", "Erin Lo <erin.lo@mediatek.com> (MediaTek)", "Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 6, "score_impact": 9, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 6, "details": "Small DT addition in peripheral tier"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "New HW support for specific SoC"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, minimal review"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different committer, same company"}}, "score_justification": "Device tree source addition for efuse/chip ID on MediaTek mt8183", "code_snippet": "@@ -156,6 +156,15 @@ soc {\n \t\tcompatible = \"simple-bus\";\n \t\tranges;\n \n+\t\tsoc_data: soc_data@8000000 {\n+\t\t\tcompatible = \"mediatek,mt8183-efuse\",\n+\t\t\t\t     \"mediatek,efuse\";\n+\t\t\treg = <0 0x08000000 0 0x0010>;\n+\t\t\t#address-cells = <1>;\n+\t\t\t#size-cells = <1>;\n+\t\t\tstatus = \"disabled\";\n+\t\t};\n+\n \t\tgic: interrupt-controller@c000000 {\n \t\t\tcompatible = \"arm,gic-v3\";\n \t\t\t#interrupt-cells = <4>;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/de1033881e936382d67ae47073a7092554729d74"}
{"commit_hash": "b272a0ad730103e84fb735fd0a8cc050cdf7f77c", "short_hash": "b272a0ad7301", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-06-20T19:24:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-22T16:55:36-07:00", "subject": "netns: restore ops before calling ops_exit_list", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d7d99872c144 (\"netns: add pre_exit method to struct pernet_operations\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Eric Dumazet <edumazet@google.com> (Google)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 2-line fix in critical networking core"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting network namespace operations"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes tag, Reviewed-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Baidu, committer from different org"}}, "score_justification": "Reversed assignment causing netns cleanup regression, reviewed by Google engineer", "code_snippet": "@@ -345,7 +345,7 @@ static __net_init int setup_net(struct net *net, struct user_namespace *user_ns)\n \n \tsynchronize_rcu();\n \n-\tsaved_ops = ops;\n+\tops = saved_ops;\n \tlist_for_each_entry_continue_reverse(ops, &pernet_list, list)\n \t\tops_exit_list(ops, &net_exit_list);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b272a0ad730103e84fb735fd0a8cc050cdf7f77c"}
{"commit_hash": "45d5cb137c3638b3a310f41b31d8e79daf647f14", "short_hash": "45d5cb137c36", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-21T21:44:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-23T11:32:48-07:00", "subject": "net/sched: cbs: Fix error path of cbs_module_init", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: e0a7683d30e9 (\"net/sched: cbs: fix port_rate miscalculation\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix with Fixes tag, affects networking users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clean fix with proper Fixes tag and Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, davem maintainer, internal robot report"}}, "score_justification": "Error path cleanup fix in CBS qdisc module init", "code_snippet": "@@ -549,12 +549,17 @@ static struct notifier_block cbs_device_notifier = {\n \n static int __init cbs_module_init(void)\n {\n-\tint err = register_netdevice_notifier(&cbs_device_notifier);\n+\tint err;\n \n+\terr = register_netdevice_notifier(&cbs_device_notifier);\n \tif (err)\n \t\treturn err;\n \n-\treturn register_qdisc(&cbs_qdisc_ops);\n+\terr = register_qdisc(&cbs_qdisc_ops);\n+\tif (err)\n+\t\tunregister_netdevice_notifier(&cbs_device_notifier);\n+\n+\treturn err;\n }\n \n static void __exit cbs_module_exit(void)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/45d5cb137c3638b3a310f41b31d8e79daf647f14"}
{"commit_hash": "e54fbbdf5a2944f084b170cd2b7ffdfa00bf3990", "short_hash": "e54fbbdf5a29", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T03:50:12Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-24T07:18:11-07:00", "subject": "hinic: implement the statistical interface of ethtool", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei/hinic", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 9, "insertions": 620, "deletions": 3, "hunks": 36, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 14, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "620 insertions across 9 files and 36 hunks in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 16, "details": "Functional enhancement adding ethtool statistics for driver users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Imperative subject but minimal explanation, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author committed by David S. Miller (different org)"}}, "score_justification": "", "code_snippet": "@@ -438,6 +438,344 @@ static u32 hinic_get_rxfh_indir_size(struct net_device *netdev)\n \treturn HINIC_RSS_INDIR_SIZE;\n }\n \n+#define ARRAY_LEN(arr) ((int)((int)sizeof(arr) / (int)sizeof(arr[0])))\n+\n+#define HINIC_NETDEV_STAT(_stat_item) { \\\n+\t.name = #_stat_item, \\\n+\t.size = FIELD_SIZEOF(struct rtnl_link_stats64, _stat_item), \\\n+\t.offset = offsetof(struct rtnl_link_stats64, _stat_item) \\\n+}\n+\n+static struct hinic_stats hinic_netdev_stats[] = {\n+\tHINIC_NETDEV_STAT(rx_packets),\n+\tHINIC_NETDEV_STAT(tx_packets),\n+\tHINIC_NETDEV_STAT(rx_bytes),\n+\tHINIC_NETDEV_STAT(tx_bytes),\n+\tHINIC_NETDEV_STAT(rx_errors),\n+\tHINIC_NETDEV_STAT(tx_errors),\n+\tHINIC_NETDEV_STAT(rx_dropped),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e54fbbdf5a2944f084b170cd2b7ffdfa00bf3990"}
{"commit_hash": "d8c444d540beaa39aff834c5b83df7e86a1ae765", "short_hash": "d8c444d540be", "author_name": "Shijie Luo", "author_email": "luoshijie1@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T15:14:03Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-24T09:01:42-07:00", "subject": "ipv4: fix inet_select_addr() when enable route_localnet", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d0daebc3d622 (\"ipv4: Add interface option to enable routing of 127.0.0.0/8\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Shijie Luo <luoshijie1@huawei.com> (Huawei)", "Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting networking users with route_localnet"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed reproduction scenario but no testing tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer David S. Miller committed"}}, "score_justification": "Bug fix for inet_select_addr() logic with route_localnet enabled, proper Fixes tag", "code_snippet": "@@ -1287,6 +1287,7 @@ __be32 inet_select_addr(const struct net_device *dev, __be32 dst, int scope)\n {\n \tconst struct in_ifaddr *ifa;\n \t__be32 addr = 0;\n+\tunsigned char localnet_scope = RT_SCOPE_HOST;\n \tstruct in_device *in_dev;\n \tstruct net *net = dev_net(dev);\n \tint master_idx;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d8c444d540beaa39aff834c5b83df7e86a1ae765"}
{"commit_hash": "58ade67b021549d540e2ed4be6971c5e3240388f", "short_hash": "58ade67b0215", "author_name": "Shijie Luo", "author_email": "luoshijie1@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T15:14:05Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-24T09:02:47-07:00", "subject": "selftests: add route_localnet test script", "primary_category": "FEAT-TEST", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "selftests", "subsystems_touched": ["tools/testing/selftests/net"], "subsystem_tier": 4, "files_changed": 1, "insertions": 74, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Shijie Luo <luoshijie1@huawei.com> (Huawei)", "Zhiqiang liu <liuzhiqiang26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 11, "score_quality": 6, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "New 74-line test script in selftests/net"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 1, "novelty": 2, "subtotal": 11, "details": "New test coverage for route_localnet networking feature"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple commit message, single logical change"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Huawei author, net maintainer merged"}}, "score_justification": "New selftest script for route_localnet networking feature from Huawei contributor", "code_snippet": "@@ -0,0 +1,74 @@\n+#!/bin/bash\n+# SPDX-License-Identifier: GPL-2.0\n+#\n+# Run a couple of tests when route_localnet = 1.\n+\n+readonly PEER_NS=\"ns-peer-$(mktemp -u XXXXXX)\"\n+\n+setup() {\n+    ip netns add \"${PEER_NS}\"\n+    ip -netns \"${PEER_NS}\" link set dev lo up\n+    ip link add name veth0 type veth peer name veth1\n+    ip link set dev veth0 up\n+    ip link set dev veth1 netns \"${PEER_NS}\"\n+\n+    # Enable route_localnet and delete useless route 127.0.0.0/8.\n+    sysctl -w net.ipv4.conf.veth0.route_localnet=1\n+    ip netns exec \"${PEER_NS}\" sysctl -w net.ipv4.conf.veth1.route_localnet=1\n+    ip route del 127.0.0.0/8 dev lo table local\n+    ip netns exec \"${PEER_NS}\" ip route del 127.0.0.0/8 dev lo table local", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58ade67b021549d540e2ed4be6971c5e3240388f"}
{"commit_hash": "650638a7c6e60a198573873972aafb065f200056", "short_hash": "650638a7c6e6", "author_name": "Shijie Luo", "author_email": "luoshijie1@huawei.com", "author_company": "Huawei", "author_date": "2019-06-18T15:14:04Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-24T09:02:47-07:00", "subject": "ipv4: fix confirm_addr_indev() when enable route_localnet", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d0daebc3d622 (\"ipv4: Add interface option to enable routing of 127.0.0.0/8\")", "cc_stable": false, "subsystem_prefix": "ipv4", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Shijie Luo <luoshijie1@huawei.com> (Huawei)", "Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 18, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small focused change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting route_localnet users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good Fixes tag but minimal review chain"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer merge by davem"}}, "score_justification": "IPv4 regression fix for route_localnet with arp_ignore interaction", "code_snippet": "@@ -1356,14 +1356,20 @@ EXPORT_SYMBOL(inet_select_addr);\n static __be32 confirm_addr_indev(struct in_device *in_dev, __be32 dst,\n \t\t\t      __be32 local, int scope)\n {\n+\tunsigned char localnet_scope = RT_SCOPE_HOST;\n \tconst struct in_ifaddr *ifa;\n \t__be32 addr = 0;\n \tint same = 0;\n \n+\tif (unlikely(IN_DEV_ROUTE_LOCALNET(in_dev)))\n+\t\tlocalnet_scope = RT_SCOPE_LINK;\n+\n \tin_dev_for_each_ifa_rcu(ifa, in_dev) {\n+\t\tunsigned char min_scope = min(ifa->ifa_scope, localnet_scope);\n+\n \t\tif (!addr &&\n \t\t    (local == ifa->ifa_local || !local) &&\n-\t\t    ifa->ifa_scope <= scope) {\n+\t\t    min_scope <= scope) {\n \t\t\taddr = ifa->ifa_local;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/650638a7c6e60a198573873972aafb065f200056"}
{"commit_hash": "2eef1399a866c57687962e15142b141a4f8e7862", "short_hash": "2eef1399a866", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T10:18:14+08:00", "committer_name": "Jessica Yu", "committer_email": "jeyu@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-24T12:11:41+02:00", "subject": "modules: fix BUG when load module with rodata=n", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f2c65fb3221a (\"x86/modules: Avoid breaking W^X while loading modules\")", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Jessica Yu <jeyu@kernel.org> (Kernel)"], "reviewed_by": ["Nadav Amit <namit@vmware.com> (VMware)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 10, "score_impact": 24, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical kernel subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Crash fix affecting all module loads"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent message with detailed crash trace"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "BUG-CRASH fix for NX-protected page execution fault when loading modules with rodata=n", "code_snippet": "@@ -1972,13 +1972,9 @@ void module_enable_ro(const struct module *mod, bool after_init)\n \tset_vm_flush_reset_perms(mod->core_layout.base);\n \tset_vm_flush_reset_perms(mod->init_layout.base);\n \tfrob_text(&mod->core_layout, set_memory_ro);\n-\tfrob_text(&mod->core_layout, set_memory_x);\n \n \tfrob_rodata(&mod->core_layout, set_memory_ro);\n-\n \tfrob_text(&mod->init_layout, set_memory_ro);\n-\tfrob_text(&mod->init_layout, set_memory_x);\n-\n \tfrob_rodata(&mod->init_layout, set_memory_ro);\n \n \tif (after_init)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2eef1399a866c57687962e15142b141a4f8e7862"}
{"commit_hash": "a2438253ba73ae51d9521c90ad8d3989bcdda74e", "short_hash": "a2438253ba73", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T14:57:09Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-24T17:22:43+01:00", "subject": "ASoC: SOF: Intel: hda: remove duplicated include from hda.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/sof/intel"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com> (Intel)"], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single duplicate include removal"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Acked-by from Intel maintainer"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Duplicate include removal in ASoC driver with cross-org review", "code_snippet": "@@ -19,7 +19,6 @@\n #include <sound/hda_register.h>\n \n #include <linux/module.h>\n-#include <sound/hdaudio_ext.h>\n #include <sound/sof.h>\n #include <sound/sof/xtensa.h>\n #include \"../ops.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a2438253ba73ae51d9521c90ad8d3989bcdda74e"}
{"commit_hash": "bf10c97adbd0dc8fa65c35d5b0c0dc281a68ac8e", "short_hash": "bf10c97adbd0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-25T11:45:48+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-06-25T09:22:14+02:00", "subject": "x86/jump_label: Make tp_vec_nr static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ba54f0c3f7c4 (\"x86/jump_label: Batch jump label updates\")", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single file, 2 hunks, 2 line change in arch/x86"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Sparse warning fix with proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linutronix committer, robot report"}}, "score_justification": "Sparse warning fix adding static to variable in arch/x86 kernel", "code_snippet": "@@ -103,7 +103,7 @@ void arch_jump_label_transform(struct jump_entry *entry,\n \n #define TP_VEC_MAX (PAGE_SIZE / sizeof(struct text_poke_loc))\n static struct text_poke_loc tp_vec[TP_VEC_MAX];\n-int tp_vec_nr = 0;\n+static int tp_vec_nr;\n \n bool arch_jump_label_transform_queue(struct jump_entry *entry,\n \t\t\t\t     enum jump_label_type type)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf10c97adbd0dc8fa65c35d5b0c0dc281a68ac8e"}
{"commit_hash": "9156e545765e467e6268c4814cfa609ebb16237e", "short_hash": "9156e545765e", "author_name": "Kobe Wu", "author_email": "kobe-cp.wu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-24T16:35:48+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-25T10:17:08+02:00", "subject": "locking/lockdep: increase size of counters for lockdep statistics", "primary_category": "BUG-CORRUPT", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "locking", "subsystems_touched": ["kernel/locking"], "subsystem_tier": 1, "files_changed": 1, "insertions": 16, "deletions": 20, "hunks": 4, "review_chain": {"signed_off_by": ["Kobe Wu <kobe-cp.wu@mediatek.com> (MediaTek)", "Peter Zijlstra (Intel) <peterz@infradead.org> (Infradead)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 12, "score_impact": 22, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical locking subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Data corruption fix affecting all users via lockdep"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 1, "subtotal": 8, "details": "Moderate review with clear message, no testing"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org commit with kernel.org maintainer"}}, "score_justification": "Fixes integer overflow in lockdep stats counters after long runtime", "code_snippet": "@@ -131,7 +131,6 @@ extern unsigned int nr_hardirq_chains;\n extern unsigned int nr_softirq_chains;\n extern unsigned int nr_process_chains;\n extern unsigned int max_lockdep_depth;\n-extern unsigned int max_recursion_depth;\n \n extern unsigned int max_bfs_queue_depth;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9156e545765e467e6268c4814cfa609ebb16237e"}
{"commit_hash": "fd5f65c552f703b61caa9cd5842f88b897dcc44c", "short_hash": "fd5f65c552f7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-04T18:22:47+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-25T12:55:25+02:00", "subject": "mt76: mt7615: Make mt7615_irq_handler static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -34,7 +34,7 @@ void mt7615_rx_poll_complete(struct mt76_dev *mdev, enum mt76_rxq_id q)\n \tmt7615_irq_enable(dev, MT_INT_RX_DONE(q));\n }\n \n-irqreturn_t mt7615_irq_handler(int irq, void *dev_instance)\n+static irqreturn_t mt7615_irq_handler(int irq, void *dev_instance)\n {\n \tstruct mt7615_dev *dev = dev_instance;\n \tu32 intr;\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/fd5f65c552f703b61caa9cd5842f88b897dcc44c"}
{"commit_hash": "211ad4b733037f66f9be0a79eade3da7ab11cbb8", "short_hash": "211ad4b73303", "author_name": "zhangyi (F)", "author_email": "yi.zhang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T21:27:08+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-25T14:09:13-04:00", "subject": "dm log writes: make sure super sector log updates are written in order", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "Fixes: 0e9cebe724597 (\"dm: add log writes target\")", "cc_stable": true, "subsystem_prefix": "dm", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 21, "deletions": 2, "hunks": 12, "review_chain": {"signed_off_by": ["zhangyi (F) <yi.zhang@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": ["Josef Bacik <josef@toxicpanda.com> (Toxicpanda)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 20, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in device mapper subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Race condition fix with data corruption potential and stable tag"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 13, "details": "Good commit message with Fixes tag, Reviewed-by, and test reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Huawei author, Red Hat maintainer)"}}, "score_justification": "Race condition in dm-log-writes causing super sector writes to complete out-of-order, corrupting nr_entries field", "code_snippet": "@@ -180,6 +182,14 @@ static void log_end_io(struct bio *bio)\n \tbio_put(bio);\n }\n \n+static void log_end_super(struct bio *bio)\n+{\n+\tstruct log_writes_c *lc = bio->bi_private;\n+\n+\tcomplete(&lc->super_done);\n+\tlog_end_io(bio);\n+}\n+\n /*\n  * Meant to be called if there is an error, it will free all the pages\n  * associated with the block.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/211ad4b733037f66f9be0a79eade3da7ab11cbb8"}
{"commit_hash": "e9816ddf2a33f3afdf3dfc35c21aafad389ee482", "short_hash": "e9816ddf2a33", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-19T15:00:47+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-06-25T14:48:44-03:00", "subject": "RDMA/hns: Cleanup unnecessary exported symbols", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 12, "insertions": 16, "deletions": 56, "hunks": 86, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "12 files, 86 hunks, net -40 lines in RDMA driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup affecting Hisilicon RoCE driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review tags, minimal message context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer applied"}}, "score_justification": "Module structure cleanup removing unnecessary exports from Hisilicon RoCE driver", "code_snippet": "@@ -7,25 +7,24 @@ config INFINIBAND_HNS\n \t  is used in Hisilicon Hip06 and more further ICT SoC based on\n \t  platform device.\n \n-\t  To compile this driver as a module, choose M here: the module\n-\t  will be called hns-roce.\n+\t  To compile HIP06 or HIP08 driver as module, choose M here.\n \n config INFINIBAND_HNS_HIP06\n-\ttristate \"Hisilicon Hip06 Family RoCE support\"\n+\tbool \"Hisilicon Hip06 Family RoCE support\"\n \tdepends on INFINIBAND_HNS && HNS && HNS_DSAF && HNS_ENET\n \t---help---\n \t  RoCE driver support for Hisilicon RoCE engine in Hisilicon Hip06 and\n \t  Hip07 SoC. These RoCE engines are platform devices.\n \n-\t  To compile this driver as a module, choose M here: the module\n-\t  will be called hns-roce-hw-v1.\n+\t  To compile this driver, choose Y here: if INFINIBAND_HNS is m, this\n+\t  module will be called hns-roce-hw-v1", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9816ddf2a33f3afdf3dfc35c21aafad389ee482"}
{"commit_hash": "30d8177e8ac776d89d387fad547af6a0f599210e", "short_hash": "30d8177e8ac7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-26T16:08:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T08:56:35-07:00", "subject": "bonding: Always enable vlan tx offload", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "Fixes: 278339a42a1b (\"bonding: propogate vlan_features to bonding master\")", "cc_stable": false, "subsystem_prefix": "drivers/net/bonding", "subsystems_touched": ["drivers/net/bonding"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jiri Pirko <jiri@mellanox.com> (Mellanox)"], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 18, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Performance regression fix affecting bonding users"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Good commit message with Fixes tag, 2 reviewers"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Mellanox reviewer, maintainer commit"}}, "score_justification": "Fix bonding hash distribution with VLAN by always enabling VLAN TX offload", "code_snippet": "@@ -4320,12 +4320,12 @@ void bond_setup(struct net_device *bond_dev)\n \tbond_dev->features |= NETIF_F_NETNS_LOCAL;\n \n \tbond_dev->hw_features = BOND_VLAN_FEATURES |\n-\t\t\t\tNETIF_F_HW_VLAN_CTAG_TX |\n \t\t\t\tNETIF_F_HW_VLAN_CTAG_RX |\n \t\t\t\tNETIF_F_HW_VLAN_CTAG_FILTER;\n \n \tbond_dev->hw_features |= NETIF_F_GSO_ENCAP_ALL | NETIF_F_GSO_UDP_L4;\n \tbond_dev->features |= bond_dev->hw_features;\n+\tbond_dev->features |= NETIF_F_HW_VLAN_CTAG_TX | NETIF_F_HW_VLAN_STAG_TX;\n }\n \n /* Destroy a bonding device.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/30d8177e8ac776d89d387fad547af6a0f599210e"}
{"commit_hash": "8c33bf1b0a9663d1742cb19ee71da46a1d8670dd", "short_hash": "8c33bf1b0a96", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-26T17:47:50+02:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T10:10:16-07:00", "subject": "net/smc: Fix error path in smc_init", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 64e28b52c7a6 (\"net/smc: add pnet table namespace support\")", "cc_stable": false, "subsystem_prefix": "net/smc", "subsystems_touched": ["net/smc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ursula Braun <ubraun@linux.ibm.com> (IBM)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix for SMC network users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear commit with Fixes tag and cross-company review"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (Huawei) + maintainers (IBM, kernel.org)"}}, "score_justification": "Missing cleanup in error path of init function", "code_snippet": "@@ -2029,7 +2029,7 @@ static int __init smc_init(void)\n \n \trc = smc_pnet_init();\n \tif (rc)\n-\t\treturn rc;\n+\t\tgoto out_pernet_subsys;\n \n \trc = smc_llc_init();\n \tif (rc) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8c33bf1b0a9663d1742cb19ee71da46a1d8670dd"}
{"commit_hash": "ee4297420d56a0033a8593e80b33fcc93fda8509", "short_hash": "ee4297420d56", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-27T00:03:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T10:14:08-07:00", "subject": "team: Always enable vlan tx offload", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/team", "subsystems_touched": ["drivers/net/team"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver team subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting team networking users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic message with Suggested-by tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org: Huawei to davem maintainer"}}, "score_justification": "VLAN offload logic fix in team driver with proper feature flag placement", "code_snippet": "@@ -2128,12 +2128,12 @@ static void team_setup(struct net_device *dev)\n \tdev->features |= NETIF_F_NETNS_LOCAL;\n \n \tdev->hw_features = TEAM_VLAN_FEATURES |\n-\t\t\t   NETIF_F_HW_VLAN_CTAG_TX |\n \t\t\t   NETIF_F_HW_VLAN_CTAG_RX |\n \t\t\t   NETIF_F_HW_VLAN_CTAG_FILTER;\n \n \tdev->hw_features |= NETIF_F_GSO_ENCAP_ALL | NETIF_F_GSO_UDP_L4;\n \tdev->features |= dev->hw_features;\n+\tdev->features |= NETIF_F_HW_VLAN_CTAG_TX | NETIF_F_HW_VLAN_STAG_TX;\n }\n \n static int team_newlink(struct net *src_net, struct net_device *dev,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ee4297420d56a0033a8593e80b33fcc93fda8509"}
{"commit_hash": "d736fc6c68a5f76e89a6c2c4100e3678706003a3", "short_hash": "d736fc6c68a5", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:38+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:01-04:00", "subject": "net: hns3: restore the MAC autoneg state after reset", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 22f48e24a23d (\"net: hns3: add autoneg and change speed support for fibre port\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in NIC driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for fiber port users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple Sign-offs, clear Fixes tag, good explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, davem maintainer merge"}}, "score_justification": "Configuration regression in Hisilicon NIC driver losing user autoneg settings after reset", "code_snippet": "@@ -2400,6 +2400,15 @@ static int hclge_mac_init(struct hclge_dev *hdev)\n \t\treturn ret;\n \t}\n \n+\tif (hdev->hw.mac.support_autoneg) {\n+\t\tret = hclge_set_autoneg_en(hdev, hdev->hw.mac.autoneg);\n+\t\tif (ret) {\n+\t\t\tdev_err(&hdev->pdev->dev,\n+\t\t\t\t\"Config mac autoneg fail ret=%d\\n\", ret);\n+\t\t\treturn ret;\n+\t\t}\n+\t}\n+\n \tmac->link = 0;\n \n \tif (mac->user_fec_mode & BIT(HNAE3_FEC_USER_DEF)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d736fc6c68a5f76e89a6c2c4100e3678706003a3"}
{"commit_hash": "fe4144d47eef8453459c53a34e9d5940a3e6c219", "short_hash": "fe4144d47eef", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:37+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:01-04:00", "subject": "net: hns3: sync VLAN filter entries when kill VLAN ID failed", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 44e626f720c3 (\"net: hns3: fix VLAN offload handle for VLAN inserted by port\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 4, "insertions": 112, "deletions": 16, "hunks": 20, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 14, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 2, "subtotal": 14, "details": "Medium change across 4 files, 20 hunks in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for VLAN filter synchronization issue"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear Fixes tag and detailed problem explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei authors, maintainer David S. Miller committer"}}, "score_justification": "VLAN filter sync bug fix during HW reset with proper error recovery", "code_snippet": "@@ -35,6 +35,7 @@\n \n static int hclge_set_mac_mtu(struct hclge_dev *hdev, int new_mps);\n static int hclge_init_vlan_config(struct hclge_dev *hdev);\n+static void hclge_sync_vlan_filter(struct hclge_dev *hdev);\n static int hclge_reset_ae_dev(struct hnae3_ae_dev *ae_dev);\n static bool hclge_get_hw_reset_stat(struct hnae3_handle *handle);\n static int hclge_set_umv_space(struct hclge_dev *hdev, u16 space_size,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fe4144d47eef8453459c53a34e9d5940a3e6c219"}
{"commit_hash": "d0c31df22c5770a8cd7560d3c45ae936430e1ebf", "short_hash": "d0c31df22c57", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:36+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:01-04:00", "subject": "net: hns3: remove VF VLAN filter entry inexistent warning print", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 5, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 6, "score_impact": 8, "score_quality": 9, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in non-critical driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Cleanup reducing log verbosity"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple reviewers from Huawei"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Committed by net maintainer"}}, "score_justification": "Driver cleanup removing verbose warning log for non-existent VF VLAN entries", "code_snippet": "@@ -7112,12 +7112,13 @@ static int hclge_set_vf_vlan_common(struct hclge_dev *hdev, u16 vfid,\n \t\tif (!req0->resp_code)\n \t\t\treturn 0;\n \n-\t\tif (req0->resp_code == HCLGE_VF_VLAN_DEL_NO_FOUND) {\n-\t\t\tdev_warn(&hdev->pdev->dev,\n-\t\t\t\t \"vlan %d filter is not in vf vlan table\\n\",\n-\t\t\t\t vlan);\n+\t\t/* vf vlan filter is disabled when vf vlan table is full,\n+\t\t * then new vlan id will not be added into vf vlan table.\n+\t\t * Just return 0 without warning, avoid massive verbose\n+\t\t * print logs when unload.\n+\t\t */\n+\t\tif (req0->resp_code == HCLGE_VF_VLAN_DEL_NO_FOUND)\n \t\t\treturn 0;\n-\t\t}\n \n \t\tdev_err(&hdev->pdev->dev,\n \t\t\t\"Kill vf vlan filter fail, ret =%d.\\n\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0c31df22c5770a8cd7560d3c45ae936430e1ebf"}
{"commit_hash": "7786a9969a1594d834ec55bc7ef8768909726170", "short_hash": "7786a9969a15", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:35+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:01-04:00", "subject": "net: hns3: fix selftest fail issue for fibre port with autoneg on", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 22f48e24a23d (\"net: hns3: add autoneg and change speed support for fibre port\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 25, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver affecting selftest"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Fixes selftest failure for Hisilicon fibre port users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag and proper context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committed"}}, "score_justification": "Bug fix for selftest failure in Hisilicon hns3 driver caused by incorrect MAC speed during autoneg", "code_snippet": "@@ -2315,6 +2315,17 @@ static int hclge_restart_autoneg(struct hnae3_handle *handle)\n \treturn hclge_notify_client(hdev, HNAE3_UP_CLIENT);\n }\n \n+static int hclge_halt_autoneg(struct hnae3_handle *handle, bool halt)\n+{\n+\tstruct hclge_vport *vport = hclge_get_vport(handle);\n+\tstruct hclge_dev *hdev = vport->back;\n+\n+\tif (hdev->hw.mac.support_autoneg && hdev->hw.mac.autoneg)\n+\t\treturn hclge_set_autoneg_en(hdev, !halt);\n+\n+\treturn 0;\n+}\n+\n static int hclge_set_fec_hw(struct hclge_dev *hdev, u32 fec_mode)\n {\n \tstruct hclge_config_fec_cmd *req;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7786a9969a1594d834ec55bc7ef8768909726170"}
{"commit_hash": "bcf643c51434e1f7930e3b951a406eb63c4c71f6", "short_hash": "bcf643c51434", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-20T16:52:45+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: add exception handling when enable NIC HW error interrupts", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 00ea6e5fda9d (\"net: hns3: delay and separate enabling of NIC and ROCE HW errors\")", "cc_stable": true, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in important driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Error path fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Two Signed-off-by, clear message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Hisilicon, maintainer Davem applied, no external report"}}, "score_justification": "Error path resource leak fix for Hisilicon network driver with proper error handling", "code_snippet": "@@ -8297,13 +8297,15 @@ static int hclge_init_nic_client_instance(struct hnae3_ae_dev *ae_dev,\n \t\tgoto init_nic_err;\n \t}\n \n-\thnae3_set_client_init_flag(client, ae_dev, 1);\n-\n \t/* Enable nic hw error interrupts */\n \tret = hclge_config_nic_hw_error(hdev, true);\n-\tif (ret)\n+\tif (ret) {\n \t\tdev_err(&ae_dev->pdev->dev,\n \t\t\t\"fail(%d) to enable hw error interrupts\\n\", ret);\n+\t\tgoto init_nic_err;\n+\t}\n+\n+\thnae3_set_client_init_flag(client, ae_dev, 1);\n \n \tif (netif_msg_drv(&hdev->vport->nic))\n \t\thclge_info_show(hdev);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bcf643c51434e1f7930e3b951a406eb63c4c71f6"}
{"commit_hash": "72fcd2bed719c6587dfea74e30bcdf6f9b64b18e", "short_hash": "72fcd2bed719", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:44+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: fixes wrong place enabling ROCE HW error when loading", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 00ea6e5fda9d (\"net: hns3: delay and separate enabling of NIC and ROCE HW errors\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 6, "hunks": 4, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver (14 lines, 4 hunks)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix for specific hardware, affects driver users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, proper error handling added"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (kernel.org) different companies"}}, "score_justification": "Logic bug fix moving ROCE error enable to correct initialization path", "code_snippet": "@@ -8349,6 +8349,14 @@ static int hclge_init_roce_client_instance(struct hnae3_ae_dev *ae_dev,\n \t\tgoto init_roce_err;\n \t}\n \n+\t/* Enable roce ras interrupts */\n+\tret = hclge_config_rocee_ras_interrupt(hdev, true);\n+\tif (ret) {\n+\t\tdev_err(&ae_dev->pdev->dev,\n+\t\t\t\"fail(%d) to enable roce ras interrupts\\n\", ret);\n+\t\tgoto init_roce_err;\n+\t}\n+\n \thnae3_set_client_init_flag(client, ae_dev, 1);\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/72fcd2bed719c6587dfea74e30bcdf6f9b64b18e"}
{"commit_hash": "7cf9c069430fce7142da7039cc453902df11259b", "short_hash": "7cf9c069430f", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-20T16:52:43+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: fix race conditions between reset and module loading & unloading", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 41, "deletions": 0, "hunks": 14, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver with synchronization logic"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race condition fix affecting HNS3 NIC users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear race fix with proper message but minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Race condition fix in HNS3 driver adding synchronization between reset task and module load/unload operations", "code_snippet": "@@ -8282,13 +8282,21 @@ static int hclge_init_nic_client_instance(struct hnae3_ae_dev *ae_dev,\n {\n \tstruct hnae3_client *client = vport->nic.client;\n \tstruct hclge_dev *hdev = ae_dev->priv;\n+\tint rst_cnt;\n \tint ret;\n \n+\trst_cnt = hdev->rst_stats.reset_cnt;\n \tret = client->ops->init_instance(&vport->nic);\n \tif (ret)\n \t\treturn ret;\n \n \tset_bit(HCLGE_STATE_NIC_REGISTERED, &hdev->state);\n+\tif (test_bit(HCLGE_STATE_RST_HANDLING, &hdev->state) ||\n+\t    rst_cnt != hdev->rst_stats.reset_cnt) {\n+\t\tret = -EBUSY;\n+\t\tgoto init_nic_err;\n+\t}\n+\n \thnae3_set_client_init_flag(client, ae_dev, 1);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7cf9c069430fce7142da7039cc453902df11259b"}
{"commit_hash": "987b4ae78e4268d22b279f65d80cc541f9f0eb53", "short_hash": "987b4ae78e42", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-20T16:52:42+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: add check to number of buffer descriptors", "primary_category": "BUG-CORRUPT", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 58, "deletions": 33, "hunks": 12, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 18, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized refactor in network driver with helper function extraction"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Memory overflow/corruption prevention fix for NIC driver users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 Signed-off-by tags, basic commit message, single logical change"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from Hisilicon, committer from different org (davemloft)"}}, "score_justification": "Memory overflow prevention fix in Hisilicon NIC driver by validating buffer descriptor counts before allocation", "code_snippet": "@@ -1060,6 +1060,52 @@ static int hclge_config_ssu_hw_err_int(struct hclge_dev *hdev, bool en)\n \treturn ret;\n }\n \n+/* hclge_query_bd_num: query number of buffer descriptors\n+ * @hdev: pointer to struct hclge_dev\n+ * @is_ras: true for ras, false for msix\n+ * @mpf_bd_num: number of main PF interrupt buffer descriptors\n+ * @pf_bd_num: number of not main PF interrupt buffer descriptors\n+ *\n+ * This function querys number of mpf and pf buffer descriptors.\n+ */\n+static int hclge_query_bd_num(struct hclge_dev *hdev, bool is_ras,\n+\t\t\t      int *mpf_bd_num, int *pf_bd_num)\n+{\n+\tstruct device *dev = &hdev->pdev->dev;\n+\tu32 mpf_min_bd_num, pf_min_bd_num;\n+\tenum hclge_opcode_type opcode;\n+\tstruct hclge_desc desc_bd;\n+\tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/987b4ae78e4268d22b279f65d80cc541f9f0eb53"}
{"commit_hash": "9d5e67d1c191831da79f0a8bcff029151e3fe54b", "short_hash": "9d5e67d1c191", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-20T16:52:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: remove override_pci_need_reset", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 2, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in specific network driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Driver-specific cleanup, no stable tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with historical context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Hisilicon, committer different org"}}, "score_justification": "Removes redundant override_pci_need_reset variable replaced by hw_err_reset_req", "code_snippet": "@@ -1950,7 +1950,7 @@ static pci_ers_result_t hns3_slot_reset(struct pci_dev *pdev)\n \tops = ae_dev->ops;\n \t/* request the reset */\n \tif (ops->reset_event) {\n-\t\tif (!ae_dev->override_pci_need_reset) {\n+\t\tif (ae_dev->hw_err_reset_req) {\n \t\t\treset_type = ops->get_reset_level(ae_dev,\n \t\t\t\t\t\t&ae_dev->hw_err_reset_req);\n \t\t\tops->set_default_reset_request(ae_dev, reset_type);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\nindex dd7b8a8c7771..3d8985f837e9 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9d5e67d1c191831da79f0a8bcff029151e3fe54b"}
{"commit_hash": "b4b9bd92fe3f1ad147f3fe753b4fe4d7726ec741", "short_hash": "b4b9bd92fe3f", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-20T16:52:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: modify handling of out of memory in hclge_err.c", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 8, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver error path"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource handling fix for Hisilicon driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single logical change, clear message"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "All from Huawei/Hiliscon, different committer"}}, "score_justification": "Error path fix: return ENOMEM on allocation failure instead of silent failure", "code_snippet": "@@ -1859,7 +1859,7 @@ static int hclge_handle_all_hw_msix_error(struct hclge_dev *hdev,\n \tif (ret) {\n \t\tdev_err(dev, \"fail(%d) to query msix int status bd num\\n\",\n \t\t\tret);\n-\t\treturn ret;\n+\t\tgoto out;\n \t}\n \n \tmpf_bd_num = le32_to_cpu(desc_bd.data[0]);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b4b9bd92fe3f1ad147f3fe753b4fe4d7726ec741"}
{"commit_hash": "2253db16f8ec5710eccb540ac833995a6d1d7e19", "short_hash": "2253db16f8ec", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-20T16:52:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-26T11:59:02-04:00", "subject": "net: hns3: code optimizaition of hclge_handle_hw_ras_error()", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 12, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 12, "score_impact": 10, "score_quality": 11, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium-sized refactor in important driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Multiple reviewers, detailed message explaining logic changes"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from HiSilicon, committed by net maintainer"}}, "score_justification": "Code optimization refactoring in HiSilicon network driver to clarify RAS error handling logic", "code_snippet": "@@ -1606,6 +1606,8 @@ pci_ers_result_t hclge_handle_hw_ras_error(struct hnae3_ae_dev *ae_dev)\n \tif (status & HCLGE_RAS_REG_NFE_MASK ||\n \t    status & HCLGE_RAS_REG_ROCEE_ERR_MASK)\n \t\tae_dev->hw_err_reset_req = 0;\n+\telse\n+\t\tgoto out;\n \n \t/* Handling Non-fatal HNS RAS errors */\n \tif (status & HCLGE_RAS_REG_NFE_MASK) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2253db16f8ec5710eccb540ac833995a6d1d7e19"}
{"commit_hash": "572a6928f9e3689ad2c2f94814e6215104eec1b7", "short_hash": "572a6928f9e3", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-25T10:31:37+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-06-26T15:41:16+02:00", "subject": "xdp: Make __mem_id_disconnect static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jesper Dangaard Brouer <brouer@redhat.com> (Redhat)", "Song Liu <songliubraving@fb.com> (Fb)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in critical networking core"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with no runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-reviewed with clear rationale and tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei/Red Hat/Facebook) with maintainer"}}, "score_justification": "Sparse warning fix for unused symbol in XDP core, cross-org reviewed", "code_snippet": "@@ -85,7 +85,7 @@ static void __xdp_mem_allocator_rcu_free(struct rcu_head *rcu)\n \tkfree(xa);\n }\n \n-bool __mem_id_disconnect(int id, bool force)\n+static bool __mem_id_disconnect(int id, bool force)\n {\n \tstruct xdp_mem_allocator *xa;\n \tbool safe_to_remove = true;\n", "flags": ["STATIC_DECLARATION_FIX"], "link": "https://lore.kernel.org/linux-kernel/572a6928f9e3689ad2c2f94814e6215104eec1b7"}
{"commit_hash": "53b7607382b0b99d6ae1ef5b1b0fa042b00ac7f4", "short_hash": "53b7607382b0", "author_name": "Tiezhu Yang", "author_email": "kernelpatch@126.com", "author_company": "126", "author_date": "2019-06-24T12:41:18+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-06-26T16:02:45+02:00", "subject": "x86/kexec: Make variable static and config dependent", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: dd5f726076cc (\"kexec: support for kexec on panic using new system call\")", "cc_stable": false, "subsystem_prefix": "x86", "subsystems_touched": ["arch/x86/kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Tiezhu Yang <kernelpatch@126.com> (126)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Dave Young <dyoung@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in critical x86 kernel subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Well-documented with proper Fixes tag and reviewer ack"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with kernel.org maintainer"}}, "score_justification": "Sparse warning fix for x86 kexec, properly scoped and reviewed", "code_snippet": "@@ -56,7 +56,6 @@ struct crash_memmap_data {\n  */\n crash_vmclear_fn __rcu *crash_vmclear_loaded_vmcss = NULL;\n EXPORT_SYMBOL_GPL(crash_vmclear_loaded_vmcss);\n-unsigned long crash_zero_bytes;\n \n static inline void cpu_crash_vmclear_loaded_vmcss(void)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/53b7607382b0b99d6ae1ef5b1b0fa042b00ac7f4"}
{"commit_hash": "93651f80dcb616b8c9115cdafc8e57a781af22d0", "short_hash": "93651f80dcb6", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-25T17:40:28+08:00", "committer_name": "Jessica Yu", "committer_email": "jeyu@kernel.org", "committer_company": "Kernel", "commit_date": "2019-06-26T19:27:59+02:00", "subject": "modules: fix compile error if don't have strict module rwx", "primary_category": "BUG-CRASH", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: 2eef1399a866 (\"modules: fix BUG when load module with rodata=n\")", "cc_stable": false, "subsystem_prefix": "modules", "subsystems_touched": ["kernel"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 4, "hunks": 6, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "Jessica Yu <jeyu@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 24, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small ifdef refactoring in critical kernel module subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 8, "novelty": 1, "subtotal": 24, "details": "Fixes compile crash affecting module loading on arches without STRICT_MODULE_RWX"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 9, "details": "Clear message with Fixes tag and config rationale, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer committer"}}, "score_justification": "Compile error fix for module loading on architectures without strict RWX, proper stub functions added", "code_snippet": "@@ -1898,7 +1898,7 @@ static void mod_sysfs_teardown(struct module *mod)\n \tmod_sysfs_fini(mod);\n }\n \n-#ifdef CONFIG_STRICT_MODULE_RWX\n+#ifdef CONFIG_ARCH_HAS_STRICT_MODULE_RWX\n /*\n  * LKM RO/NX protection: protect module's text/ro-data\n  * from modification and any data from execution.", "flags": [], "link": "https://lore.kernel.org/linux-kernel/93651f80dcb616b8c9115cdafc8e57a781af22d0"}
{"commit_hash": "e991c4c2998353212adb1c2b7c3052d61fa6c307", "short_hash": "e991c4c29983", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-13T15:13:31+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: mt7615: update peer's bssid when state transition occurs", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76/mt7615"], "subsystem_tier": 3, "files_changed": 2, "insertions": 16, "deletions": 16, "hunks": 4, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small driver change in wireless networking"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Bug fix for wireless driver affecting MT7615 users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two Signed-off-by tags, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer nbd@nbd.name different org"}}, "score_justification": "Fixes BSSID update logic in MT7615 wireless driver during state transitions", "code_snippet": "@@ -283,9 +283,8 @@ static void mt7615_bss_info_changed(struct ieee80211_hw *hw,\n \n \tmutex_lock(&dev->mt76.mutex);\n \n-\t/* TODO: sta mode connect/disconnect\n-\t * BSS_CHANGED_ASSOC | BSS_CHANGED_BSSID\n-\t */\n+\tif (changed & BSS_CHANGED_ASSOC)\n+\t\tmt7615_mcu_set_bss_info(dev, vif, info->assoc);\n \n \t/* TODO: update beacon content\n \t * BSS_CHANGED_BEACON\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\nindex 90a62112f5ab..836a329e65ab 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/mcu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e991c4c2998353212adb1c2b7c3052d61fa6c307"}
{"commit_hash": "1a09d9e0e5f0e65fa3b5fc4df4e97651f0b544ef", "short_hash": "1a09d9e0e5f0", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-13T15:13:30+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: mt7615: fix incorrect settings in mesh mode", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f072c7ba2150 (\"mt76: mt7615: enable support for mesh\")", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in wireless driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting mesh mode users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear Fixes tag, explains symptoms"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer different orgs"}}, "score_justification": "Logic bug fix in wireless driver mesh mode, reverses condition to prevent packet drops", "code_snippet": "@@ -970,7 +970,7 @@ int mt7615_mcu_add_wtbl(struct mt7615_dev *dev, struct ieee80211_vif *vif,\n \t\t.rx_wtbl = {\n \t\t\t.tag = cpu_to_le16(WTBL_RX),\n \t\t\t.len = cpu_to_le16(sizeof(struct wtbl_rx)),\n-\t\t\t.rca1 = vif->type == NL80211_IFTYPE_STATION,\n+\t\t\t.rca1 = vif->type != NL80211_IFTYPE_AP,\n \t\t\t.rca2 = 1,\n \t\t\t.rv = 1,\n \t\t},\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a09d9e0e5f0e65fa3b5fc4df4e97651f0b544ef"}
{"commit_hash": "bf92e76851009e6bf082db9e9de9b0ab9320cf26", "short_hash": "bf92e7685100", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-13T15:13:29+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: mt7615: add support for per-chain signal strength reporting", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76/mt7615"], "subsystem_tier": 3, "files_changed": 2, "insertions": 26, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 14, "score_quality": 6, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "2 files, 8 hunks, +26/-1 lines in wireless driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for wireless signal reporting"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal review chain, basic commit message"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Different author/committer orgs, no external report"}}, "score_justification": "Feature addition for per-chain signal strength in mt7615 wireless driver", "code_snippet": "@@ -13,6 +13,11 @@\n #include \"../dma.h\"\n #include \"mac.h\"\n \n+static inline s8 to_rssi(u32 field, u32 rxv)\n+{\n+\treturn (FIELD_GET(field, rxv) - 220) / 2;\n+}\n+\n static struct mt76_wcid *mt7615_rx_get_wcid(struct mt7615_dev *dev,\n \t\t\t\t\t    u8 idx, bool unicast)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf92e76851009e6bf082db9e9de9b0ab9320cf26"}
{"commit_hash": "f4ec7fdf7f83701dd980d6cd60c81f79dab85133", "short_hash": "f4ec7fdf7f83", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T14:08:43+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: mt7615: enable support for mesh", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76/mt7615"], "subsystem_tier": 3, "files_changed": 4, "insertions": 10, "deletions": 7, "hunks": 14, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 14, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in networking driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for specific driver"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Enables mesh networking support in mt7615 wireless driver", "code_snippet": "@@ -195,6 +198,9 @@ int mt7615_register_device(struct mt7615_dev *dev)\n \tdev->mt76.antenna_mask = 0xf;\n \n \twiphy->interface_modes = BIT(NL80211_IFTYPE_STATION) |\n+#ifdef CONFIG_MAC80211_MESH\n+\t\t\t\t BIT(NL80211_IFTYPE_MESH_POINT) |\n+#endif\n \t\t\t\t BIT(NL80211_IFTYPE_AP);\n \n \tret = mt76_register_device(&dev->mt76, true, mt7615_rates,\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/main.c b/drivers/net/wireless/mediatek/mt76/mt7615/main.c\nindex c8411750f62b..9a13e38ac2fe 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/main.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/main.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4ec7fdf7f83701dd980d6cd60c81f79dab85133"}
{"commit_hash": "d3edd108e54e95e70ea8fc95d60d95bcebb1267d", "short_hash": "d3edd108e54e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-29T22:53:56+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: Remove set but not used variables 'pid' and 'final_mpdu'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76"], "subsystem_tier": 4, "files_changed": 2, "insertions": 1, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 6, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in wireless driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear commit message with compiler output, maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, external maintainer commit"}}, "score_justification": "Removes unused variables to fix gcc warnings in mt76 wireless driver", "code_snippet": "@@ -925,9 +923,7 @@ mt7603_fill_txs(struct mt7603_dev *dev, struct mt7603_sta *sta,\n \tprobe = !!(info->flags & IEEE80211_TX_CTL_RATE_CTRL_PROBE);\n \n \ttxs = le32_to_cpu(txs_data[4]);\n-\tfinal_mpdu = txs & MT_TXS4_ACKED_MPDU;\n \tampdu = !fixed_rate && (txs & MT_TXS4_AMPDU);\n-\tpid = FIELD_GET(MT_TXS4_PID, txs);\n \tcount = FIELD_GET(MT_TXS4_TX_COUNT, txs);\n \n \ttxs = le32_to_cpu(txs_data[0]);\ndiff --git a/drivers/net/wireless/mediatek/mt76/mt7615/mac.c b/drivers/net/wireless/mediatek/mt76/mt7615/mac.c\nindex 7ca2e31f96fc..b60d42b5923d 100644\n--- a/drivers/net/wireless/mediatek/mt76/mt7615/mac.c\n+++ b/drivers/net/wireless/mediatek/mt76/mt7615/mac.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d3edd108e54e95e70ea8fc95d60d95bcebb1267d"}
{"commit_hash": "fe559aedef0fc679fd9962afddcb02a375392191", "short_hash": "fe559aedef0f", "author_name": "Ryder Lee", "author_email": "ryder.lee@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-03T14:08:44+08:00", "committer_name": "Felix Fietkau", "committer_email": "nbd@nbd.name", "committer_company": "Nbd", "commit_date": "2019-06-27T12:58:13+02:00", "subject": "mt76: mt7615: fix slow performance when enable encryption", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-PERF-REG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/wireless", "subsystems_touched": ["drivers/net/wireless/mediatek/mt76/mt7615"], "subsystem_tier": 3, "files_changed": 3, "insertions": 12, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Felix Fietkau <nbd@nbd.name> (Nbd)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "3 files, 8 hunks, 19 lines changed in wireless driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Performance regression fix for WiFi encryption users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "2 Signed-off-by, good explanation, no external testing"}, "community": {"cross_org": 0, "maintainer": 2, "response": 2, "subtotal": 4, "details": "Maintainer committed, internal suggestions from colleagues"}}, "score_justification": "Fix for WiFi encryption performance regression due to WCID assignment", "code_snippet": "@@ -62,16 +62,11 @@ static void mt7615_mac_init(struct mt7615_dev *dev)\n \t\t MT_AGG_ARCR_RATE_DOWN_RATIO_EN |\n \t\t FIELD_PREP(MT_AGG_ARCR_RATE_DOWN_RATIO, 1) |\n \t\t FIELD_PREP(MT_AGG_ARCR_RATE_UP_EXTRA_TH, 4)));\n-\n-\tdev->mt76.global_wcid.idx = MT7615_WTBL_RESERVED;\n-\tdev->mt76.global_wcid.hw_key_idx = -1;\n-\trcu_assign_pointer(dev->mt76.wcid[MT7615_WTBL_RESERVED],\n-\t\t\t   &dev->mt76.global_wcid);\n }\n \n static int mt7615_init_hardware(struct mt7615_dev *dev)\n {\n-\tint ret;\n+\tint ret, idx;\n \n \tmt76_wr(dev, MT_INT_SOURCE_CSR, ~0);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fe559aedef0fc679fd9962afddcb02a375392191"}
{"commit_hash": "cf580a92400584a48f59e07c372a635160340864", "short_hash": "cf580a924005", "author_name": "Liu Xiang", "author_email": "liu.xiang6@zte.com.cn", "author_company": "ZTE", "author_date": "2019-06-25T00:00:46+08:00", "committer_name": "Tudor Ambarus", "committer_email": "tudor.ambarus@microchip.com", "committer_company": "Microchip", "commit_date": "2019-06-27T17:13:22+03:00", "subject": "mtd: spi-nor: fix nor->addr_width when its value configured from SFDP does not match the actual width", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd"], "subsystem_tier": 3, "files_changed": 1, "insertions": 24, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Liu Xiang <liu.xiang6@zte.com.cn> (ZTE)", "Tudor Ambarus <tudor.ambarus@microchip.com> (Microchip)"], "reviewed_by": ["Vignesh Raghavendra <vigneshr@ti.com> (Texas Instruments)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 13, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in MTD SPI NOR driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Fixes incorrect address width for specific flash device"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with Reviewed-by tag"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-company (ZTE/Microchip) with maintainer"}}, "score_justification": "SFDP address width mismatch fix for IS25LP256 flash device", "code_snippet": "@@ -1686,6 +1686,28 @@ static int sr2_bit7_quad_enable(struct spi_nor *nor)\n \t\t.addr_width = 3,\t\t\t\t\t\\\n \t\t.flags = SPI_NOR_NO_FR | SPI_S3AN,\n \n+static int\n+is25lp256_post_bfpt_fixups(struct spi_nor *nor,\n+\t\t\t   const struct sfdp_parameter_header *bfpt_header,\n+\t\t\t   const struct sfdp_bfpt *bfpt,\n+\t\t\t   struct spi_nor_flash_parameter *params)\n+{\n+\t/*\n+\t * IS25LP256 supports 4B opcodes, but the BFPT advertises a\n+\t * BFPT_DWORD1_ADDRESS_BYTES_3_ONLY address width.\n+\t * Overwrite the address width advertised by the BFPT.\n+\t */\n+\tif ((bfpt->dwords[BFPT_DWORD(1)] & BFPT_DWORD1_ADDRESS_BYTES_MASK) ==\n+\t\tBFPT_DWORD1_ADDRESS_BYTES_3_ONLY)\n+\t\tnor->addr_width = 4;\n+\n+\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/cf580a92400584a48f59e07c372a635160340864"}
{"commit_hash": "42d13a09efa4f0ea33231f3b145356ee487987b3", "short_hash": "42d13a09efa4", "author_name": "Xiaolei Li", "author_email": "xiaolei.li@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-07T18:25:39+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-06-27T20:05:24+02:00", "subject": "mtd: rawnand: mtk: Improve data sampling timing for read cycle", "primary_category": "FEAT-PERF", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/mtd", "subsystems_touched": ["drivers/mtd/nand/raw"], "subsystem_tier": 4, "files_changed": 1, "insertions": 36, "deletions": 10, "hunks": 6, "review_chain": {"signed_off_by": ["Xiaolei Li <xiaolei.li@mediatek.com> (MediaTek)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": ["Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 8, "score_impact": 15, "score_quality": 19, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in MTD NAND driver (6 hunks, +36-10 lines)"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 15, "details": "Performance optimization with 33% read speed improvement on specific hardware"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 6, "atomicity": 2, "subtotal": 19, "details": "Excellent commit: Reviewed-by, detailed performance numbers, before/after measurements"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org (Bootlin)"}}, "score_justification": "Performance optimization improving NAND read timing, with measured 33% speedup", "code_snippet": "@@ -79,6 +79,10 @@\n #define NFI_FDMM(x)\t\t(0xA4 + (x) * sizeof(u32) * 2)\n #define NFI_FDM_MAX_SIZE\t(8)\n #define NFI_FDM_MIN_SIZE\t(1)\n+#define NFI_DEBUG_CON1\t\t(0x220)\n+#define\t\tSTROBE_MASK\t\tGENMASK(4, 3)\n+#define\t\tSTROBE_SHIFT\t\t(3)\n+#define\t\tMAX_STROBE_DLY\t\t(3)\n #define NFI_MASTER_STA\t\t(0x224)\n #define\t\tMASTER_STA_MASK\t\t(0x0FFF)\n #define NFI_EMPTY_THRESH\t(0x23C)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/42d13a09efa4f0ea33231f3b145356ee487987b3"}
{"commit_hash": "e1884ffddacc0424d7e785e6f8087bd12f7196db", "short_hash": "e1884ffddacc", "author_name": "Xiaolei Li", "author_email": "xiaolei.li@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-07T18:25:38+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-06-27T20:05:24+02:00", "subject": "mtd: rawnand: mtk: Correct low level time calculation of r/w cycle", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: edfee3619c49 (\"mtd: nand: mtk: add ->setup_data_interface() hook\")", "cc_stable": true, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw"], "subsystem_tier": 4, "files_changed": 1, "insertions": 21, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Xiaolei Li <xiaolei.li@mediatek.com> (MediaTek)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": ["Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in MTD NAND driver with 4 hunks"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport, affects MediaTek NAND users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes and stable tags, Reviewed-by present"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Mediatek, committer from different org (Bootlin)"}}, "score_justification": "Timing calculation regression fix in MediaTek NAND driver with proper spec compliance", "code_snippet": "@@ -500,7 +500,8 @@ static int mtk_nfc_setup_data_interface(struct nand_chip *chip, int csline,\n {\n \tstruct mtk_nfc *nfc = nand_get_controller_data(chip);\n \tconst struct nand_sdr_timings *timings;\n-\tu32 rate, tpoecs, tprecs, tc2r, tw2r, twh, twst, trlt;\n+\tu32 rate, tpoecs, tprecs, tc2r, tw2r, twh, twst = 0, trlt = 0;\n+\tu32 thold;\n \n \ttimings = nand_get_sdr_timings(conf);\n \tif (IS_ERR(timings))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e1884ffddacc0424d7e785e6f8087bd12f7196db"}
{"commit_hash": "336d4b138be2dad372b67a2388e42805c48aaa38", "short_hash": "336d4b138be2", "author_name": "Xiaolei Li", "author_email": "xiaolei.li@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-07T18:25:41+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-06-27T20:05:25+02:00", "subject": "mtd: rawnand: mtk: Fix wrongly assigned OOB buffer pointer issue", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1d6b1e464950 (\"mtd: mediatek: driver for MTK Smart Device\")", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw"], "subsystem_tier": 3, "files_changed": 1, "insertions": 10, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Xiaolei Li <xiaolei.li@mediatek.com> (MediaTek)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": ["Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important storage driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Logic bug fix with pointer miscalculation"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Different companies for author/committer"}}, "score_justification": "OOB buffer pointer miscalculation fix in MediaTek NAND driver", "code_snippet": "@@ -881,19 +881,21 @@ static int mtk_nfc_write_oob_std(struct nand_chip *chip, int page)\n \treturn mtk_nfc_write_page_raw(chip, NULL, 1, page);\n }\n \n-static int mtk_nfc_update_ecc_stats(struct mtd_info *mtd, u8 *buf, u32 sectors)\n+static int mtk_nfc_update_ecc_stats(struct mtd_info *mtd, u8 *buf, u32 start,\n+\t\t\t\t    u32 sectors)\n {\n \tstruct nand_chip *chip = mtd_to_nand(mtd);\n \tstruct mtk_nfc *nfc = nand_get_controller_data(chip);\n \tstruct mtk_nfc_nand_chip *mtk_nand = to_mtk_nand(chip);\n \tstruct mtk_ecc_stats stats;\n+\tu32 reg_size = mtk_nand->fdm.reg_size;\n \tint rc, i;\n \n \trc = nfi_readl(nfc, NFI_STA) & STA_EMP_PAGE;\n \tif (rc) {\n \t\tmemset(buf, 0xff, sectors * chip->ecc.size);\n \t\tfor (i = 0; i < sectors; i++)\n-\t\t\tmemset(oob_ptr(chip, i), 0xff, mtk_nand->fdm.reg_size);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/336d4b138be2dad372b67a2388e42805c48aaa38"}
{"commit_hash": "8dbd7b103fc3eac53ab8a20b3cd1a5cb26c0dcbb", "short_hash": "8dbd7b103fc3", "author_name": "Xiaolei Li", "author_email": "xiaolei.li@mediatek.com", "author_company": "MediaTek", "author_date": "2019-05-07T18:25:40+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-06-27T20:05:25+02:00", "subject": "mtd: rawnand: mtk: Add validity check for CE# pin setting", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw"], "subsystem_tier": 4, "files_changed": 1, "insertions": 13, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Xiaolei Li <xiaolei.li@mediatek.com> (MediaTek)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": ["Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small validation change in MTD NAND driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix for MediaTek NAND controller validation"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Reviewed-by maintainer, clear message, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Mediatek author, Bootlin committer/reviewer"}}, "score_justification": "Adds validation for CE# pin settings to prevent duplicate/invalid CS assignments", "code_snippet": "@@ -154,6 +154,8 @@ struct mtk_nfc {\n \tstruct list_head chips;\n \n \tu8 *buffer;\n+\n+\tunsigned long assigned_cs;\n };\n \n /*", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8dbd7b103fc3eac53ab8a20b3cd1a5cb26c0dcbb"}
{"commit_hash": "b74e6985bfe81627b7b1adb8443220f98f89f9f4", "short_hash": "b74e6985bfe8", "author_name": "Xiaolei Li", "author_email": "xiaolei.li@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-24T09:38:56+08:00", "committer_name": "Miquel Raynal", "committer_email": "miquel.raynal@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-06-27T20:07:46+02:00", "subject": "mtd: rawnand: mtk: Re-license MTK NAND driver as Dual MIT/GPL", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["TRIV-COPYRIGHT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mtd", "subsystems_touched": ["drivers/mtd/nand/raw"], "subsystem_tier": 4, "files_changed": 3, "insertions": 5, "deletions": 7, "hunks": 10, "review_chain": {"signed_off_by": ["Xiaolei Li <xiaolei.li@mediatek.com> (MediaTek)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)"], "reviewed_by": ["Matthias Brugger <matthias.bgg@gmail.com> (Gmail)"], "tested_by": [], "acked_by": ["Jorge Ramirez-Ortiz <jorge.ramirez-ortiz@linaro.org> (Linaro)", "Ryder Lee <ryder.lee@mediatek.com> (MediaTek)", "Rafa Miecki <rafal@milecki.pl> (Milecki)", "Miquel Raynal <miquel.raynal@bootlin.com> (Bootlin)", "Boris Brezillon <boris.brezillon@collabora.com> (Collabora)", "Wen Yang <yellowriver2010@hotmail.com> (Hotmail)", "Dan Carpenter <dan.carpenter@oracle.com> (Oracle)", "Arnd Bergmann <arnd@arndb.de> (Arndb)", "Masahiro Yamada <yamada.masahiro@socionext.com> (Socionext)", "RogerCC Lin <rogercc.lin@mediatek.com> (MediaTek)"], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 6, "score_quality": 17, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Small change across 3 files in MTD driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "License change with minimal user impact"}, "quality": {"review_chain": 10, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 17, "details": "Extensive review chain with clear message"}, "community": {"cross_org": 4, "maintainer": 2, "response": 0, "subtotal": 6, "details": "Multiple organizations involved, maintainer signoff"}}, "score_justification": "License header change from GPL-2.0-only to dual MIT/GPL with extensive multi-org review", "code_snippet": "@@ -1,12 +1,10 @@\n+/* SPDX-License-Identifier: GPL-2.0 OR MIT */\n /*\n  * MTK SDG1 ECC controller\n  *\n  * Copyright (c) 2016 Mediatek\n  * Authors:\tXiaolei Li\t\t<xiaolei.li@mediatek.com>\n  *\t\tJorge Ramirez-Ortiz\t<jorge.ramirez-ortiz@linaro.org>\n- * This program is free software; you can redistribute it and/or modify it\n- * under the terms of the GNU General Public License version 2 as published\n- * by the Free Software Foundation.\n  */\n \n #ifndef __DRIVERS_MTD_NAND_MTK_ECC_H__\ndiff --git a/drivers/mtd/nand/raw/mtk_nand.c b/drivers/mtd/nand/raw/mtk_nand.c\nindex 47291bc53350..373d47d1ba4c 100644\n--- a/drivers/mtd/nand/raw/mtk_nand.c\n+++ b/drivers/mtd/nand/raw/mtk_nand.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b74e6985bfe81627b7b1adb8443220f98f89f9f4"}
{"commit_hash": "15a798f7deb3931dd569f5734a04be47b97435cc", "short_hash": "15a798f7deb3", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T22:24:24+08:00", "committer_name": "Andreas Gruenbacher", "committer_email": "agruenba@redhat.com", "committer_company": "Redhat", "commit_date": "2019-06-27T20:53:46+02:00", "subject": "gfs2: Use IS_ERR_OR_NULL", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/gfs2", "subsystems_touched": ["fs/gfs2"], "subsystem_tier": 2, "files_changed": 4, "insertions": 5, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andreas Gruenbacher <agruenba@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 10, "score_impact": 8, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical filesystem subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two-person review chain with minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit between Huawei and Red Hat"}}, "score_justification": "Code simplification replacing NULL/IS_ERR checks with IS_ERR_OR_NULL macro across GFS2 filesystem", "code_snippet": "@@ -854,7 +854,7 @@ static struct gfs2_dirent *gfs2_dirent_search(struct inode *inode,\n \t\treturn ERR_PTR(error);\n \tdent = gfs2_dirent_scan(inode, bh->b_data, bh->b_size, scan, name, NULL);\n got_dent:\n-\tif (unlikely(dent == NULL || IS_ERR(dent))) {\n+\tif (IS_ERR_OR_NULL(dent)) {\n \t\tbrelse(bh);\n \t\tbh = NULL;\n \t}\ndiff --git a/fs/gfs2/glock.c b/fs/gfs2/glock.c\nindex f1ebcb42cbf5..44718098cc60 100644\n--- a/fs/gfs2/glock.c\n+++ b/fs/gfs2/glock.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/15a798f7deb3931dd569f5734a04be47b97435cc"}
{"commit_hash": "82c8ae6e8390f09c3c2b1d0a567c993dd88a281c", "short_hash": "82c8ae6e8390", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: optimize the CSQ cmd error handling", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 2, "insertions": 26, "deletions": 8, "hunks": 12, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 14, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small-medium change in network driver (2 files, 12 hunks, 34 LOC)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Driver bug fix affecting Hisilicon NIC users, no stable/LTS tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with context, proper formatting, reviewed by 2 signers"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author + maintainer David S. Miller (different org) applied it"}}, "score_justification": "Logic bug fix in NIC driver command queue handling, properly synchronizes SW/HW pointers", "code_snippet": "@@ -241,8 +242,16 @@ int hclge_cmd_send(struct hclge_hw *hw, struct hclge_desc *desc, int num)\n \n \tspin_lock_bh(&hw->cmq.csq.lock);\n \n-\tif (num > hclge_ring_space(&hw->cmq.csq) ||\n-\t    test_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state)) {\n+\tif (test_bit(HCLGE_STATE_CMD_DISABLE, &hdev->state)) {\n+\t\tspin_unlock_bh(&hw->cmq.csq.lock);\n+\t\treturn -EBUSY;\n+\t}\n+\n+\tif (num > hclge_ring_space(&hw->cmq.csq)) {\n+\t\t/* If CMDQ ring is full, SW HEAD and HW HEAD may be different,\n+\t\t * need update the SW HEAD pointer csq->next_to_clean\n+\t\t */\n+\t\tcsq->next_to_clean = hclge_read_dev(hw, HCLGE_NIC_CSQ_HEAD_REG);\n \t\tspin_unlock_bh(&hw->cmq.csq.lock);\n \t\treturn -EBUSY;\n \t}", "flags": ["NO_FIXES_TAG", "NO_TEST_EVIDENCE"], "link": "https://lore.kernel.org/linux-kernel/82c8ae6e8390f09c3c2b1d0a567c993dd88a281c"}
{"commit_hash": "289f81258e03067d032f9c157c91cd1fad7b31c5", "short_hash": "289f81258e03", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: remove RXD_VLD check in hns3_handle_bdinfo", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 0, "deletions": 12, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 11, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "3 files, 8 hunks, net deletion of 12 lines in network driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification for HNS3 driver users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "2 reviewers, good explanation, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Code simplification removing redundant validity check in HNS3 driver", "code_snippet": "@@ -2769,14 +2767,6 @@ static int hns3_handle_bdinfo(struct hns3_enet_ring *ring, struct sk_buff *skb)\n \t\t\t\t\t       vlan_tag);\n \t}\n \n-\tif (unlikely(!(bd_base_info & BIT(HNS3_RXD_VLD_B)))) {\n-\t\tu64_stats_update_begin(&ring->syncp);\n-\t\tring->stats.non_vld_descs++;\n-\t\tu64_stats_update_end(&ring->syncp);\n-\n-\t\treturn -EINVAL;\n-\t}\n-\n \tif (unlikely(!desc->rx.pkt_len || (l234info & (BIT(HNS3_RXD_TRUNCAT_B) |\n \t\t\t\t  BIT(HNS3_RXD_L2E_B))))) {\n \t\tu64_stats_update_begin(&ring->syncp);\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex dd0064079aed..a2b73d6aa2f3 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/289f81258e03067d032f9c157c91cd1fad7b31c5"}
{"commit_hash": "53eb60c734346e00130c5516acbe17e6ce0cc4d3", "short_hash": "53eb60c73434", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:16+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: remove unused linkmode definition", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 19, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 8, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small deletion in driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 8, "details": "Dead code removal affects driver users"}, "quality": {"review_chain": 2, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Minimal message, multiple sign-offs"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Dead enum removal in hns3 driver with cross-org maintainer merge", "code_snippet": "@@ -446,25 +446,6 @@ enum hns3_flow_level_range {\n \tHNS3_FLOW_ULTRA = 3,\n };\n \n-enum hns3_link_mode_bits {\n-\tHNS3_LM_FIBRE_BIT = BIT(0),\n-\tHNS3_LM_AUTONEG_BIT = BIT(1),\n-\tHNS3_LM_TP_BIT = BIT(2),\n-\tHNS3_LM_PAUSE_BIT = BIT(3),\n-\tHNS3_LM_BACKPLANE_BIT = BIT(4),\n-\tHNS3_LM_10BASET_HALF_BIT = BIT(5),\n-\tHNS3_LM_10BASET_FULL_BIT = BIT(6),\n-\tHNS3_LM_100BASET_HALF_BIT = BIT(7),\n-\tHNS3_LM_100BASET_FULL_BIT = BIT(8),\n-\tHNS3_LM_1000BASET_FULL_BIT = BIT(9),\n-\tHNS3_LM_10000BASEKR_FULL_BIT = BIT(10),\n-\tHNS3_LM_25000BASEKR_FULL_BIT = BIT(11),\n-\tHNS3_LM_40000BASELR4_FULL_BIT = BIT(12),\n-\tHNS3_LM_50000BASEKR2_FULL_BIT = BIT(13),\n-\tHNS3_LM_100000BASEKR4_FULL_BIT = BIT(14),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/53eb60c734346e00130c5516acbe17e6ce0cc4d3"}
{"commit_hash": "8b552079325df9a832d95711ec4c26f0bf1b10c4", "short_hash": "8b552079325d", "author_name": "Yufeng Mo", "author_email": "moyufeng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:15+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: fix a statistics issue about l3l4 checksum error", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d3ec4ef66937 (\"net: hns3: refactor the statistics updating for netdev\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon/hns3", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yufeng Mo <moyufeng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in NIC driver statistics"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic fix with Fixes tag, affects HNS3 users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good message with Fixes, 2 internal reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer applied"}}, "score_justification": "Statistics accounting fix moving L3L4 checksum errors from CRC to general errors", "code_snippet": "@@ -1494,8 +1494,8 @@ static void hns3_nic_get_stats64(struct net_device *netdev,\n \t\t\trx_drop += ring->stats.l2_err;\n \t\t\trx_errors += ring->stats.non_vld_descs;\n \t\t\trx_errors += ring->stats.l2_err;\n+\t\t\trx_errors += ring->stats.l3l4_csum_err;\n \t\t\trx_crc_errors += ring->stats.l2_err;\n-\t\t\trx_crc_errors += ring->stats.l3l4_csum_err;\n \t\t\trx_multicast += ring->stats.rx_multicast;\n \t\t\trx_length_errors += ring->stats.err_pkt_len;\n \t\t} while (u64_stats_fetch_retry_irq(&ring->syncp, start));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8b552079325df9a832d95711ec4c26f0bf1b10c4"}
{"commit_hash": "9bc6ac918c7176fcc306f3e57a34e7bc51ae470c", "short_hash": "9bc6ac918c71", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:14+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: handle empty unknown interrupt", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 10, "deletions": 5, "hunks": 6, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (6 hunks, 15 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Bug fix affecting Hisilicon NIC users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, good message explaining hw behavior"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committer"}}, "score_justification": "Driver fix for hardware interrupt handling edge case where MSI-X status cleared by HW causes empty interrupts", "code_snippet": "@@ -2796,8 +2797,11 @@ static u32 hclge_check_event_cause(struct hclge_dev *hdev, u32 *clearval)\n \t}\n \n \t/* print other vector0 event source */\n-\tdev_dbg(&hdev->pdev->dev, \"cmdq_src_reg:0x%x, msix_src_reg:0x%x\\n\",\n-\t\tcmdq_src_reg, msix_src_reg);\n+\tdev_info(&hdev->pdev->dev,\n+\t\t \"CMDQ INT status:0x%x, other INT status:0x%x\\n\",\n+\t\t cmdq_src_reg, msix_src_reg);\n+\t*clearval = msix_src_reg;\n+\n \treturn HCLGE_VECTOR0_EVENT_OTHER;\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9bc6ac918c7176fcc306f3e57a34e7bc51ae470c"}
{"commit_hash": "bbe6540e7d70cda8ee311e0f14b197a20b6bf3e3", "short_hash": "bbe6540e7d70", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:13+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: re-schedule reset task while VF reset fail", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 23, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for VF reset failure handling in specific driver"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with context but no external review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org (kernel maintainer)"}}, "score_justification": "", "code_snippet": "@@ -11,6 +11,8 @@\n \n #define HCLGEVF_NAME\t\"hclgevf\"\n \n+#define HCLGEVF_RESET_MAX_FAIL_CNT\t5\n+\n static int hclgevf_reset_hdev(struct hclgevf_dev *hdev);\n static struct hnae3_ae_algo ae_algovf;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bbe6540e7d70cda8ee311e0f14b197a20b6bf3e3"}
{"commit_hash": "bc3781edcea017aa1a29abd953b776cdba298ce2", "short_hash": "bc3781edcea0", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: add Asym Pause support to fix autoneg problem", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 2, "insertions": 8, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 14, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 8-line change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes autonegotiation for Hisilicon network users"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed explanation with root cause analysis"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net maintainer merged"}}, "score_justification": "Fixes Ethernet flow control autonegotiation logic bug in Hisilicon driver", "code_snippet": "@@ -1061,6 +1061,7 @@ static void hclge_parse_copper_link_mode(struct hclge_dev *hdev,\n \tlinkmode_set_bit(ETHTOOL_LINK_MODE_Autoneg_BIT, supported);\n \tlinkmode_set_bit(ETHTOOL_LINK_MODE_TP_BIT, supported);\n \tlinkmode_set_bit(ETHTOOL_LINK_MODE_Pause_BIT, supported);\n+\tlinkmode_set_bit(ETHTOOL_LINK_MODE_Asym_Pause_BIT, supported);\n }\n \n static void hclge_parse_link_mode(struct hclge_dev *hdev, u8 speed_ability)\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mdio.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mdio.c\nindex d906d09bee72..abb1b438564e 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mdio.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_mdio.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bc3781edcea017aa1a29abd953b776cdba298ce2"}
{"commit_hash": "18d219b783da61a6cc77581f55fc4af2fa16bc36", "short_hash": "18d219b783da", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: fix a -Wformat-nonliteral compile warning", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 46a3df9f9718 (\"Add HNS3 Acceleration Engine & Compatibility Layer Support\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -564,8 +564,7 @@ static u8 *hclge_comm_get_strings(u32 stringset,\n \t\treturn buff;\n \n \tfor (i = 0; i < size; i++) {\n-\t\tsnprintf(buff, ETH_GSTRING_LEN,\n-\t\t\t strs[i].desc);\n+\t\tsnprintf(buff, ETH_GSTRING_LEN, \"%s\", strs[i].desc);\n \t\tbuff = buff + ETH_GSTRING_LEN;\n \t}\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/18d219b783da61a6cc77581f55fc4af2fa16bc36"}
{"commit_hash": "9e15be90b85a793815cae92aef80a2907a58bcfc", "short_hash": "9e15be90b85a", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: change SSU's buffer allocation according to UM", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 3, "insertions": 64, "deletions": 5, "hunks": 12, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 12, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Bug fix for specific driver with moderate user impact"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with context, minimal review"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committed by networking maintainer"}}, "score_justification": "Buffer allocation logic fix in HNS3 driver per hardware manual", "code_snippet": "@@ -1694,10 +1697,14 @@ static bool  hclge_is_rx_buf_ok(struct hclge_dev *hdev,\n \t}\n \n \tif (hnae3_dev_dcb_supported(hdev)) {\n+\t\thi_thrd = shared_buf - hdev->dv_buf_size;\n+\n+\t\tif (tc_num <= NEED_RESERVE_TC_NUM)\n+\t\t\thi_thrd = hi_thrd * BUF_RESERVE_PERCENT\n+\t\t\t\t\t/ BUF_MAX_PERCENT;\n+\n \t\tif (tc_num)\n-\t\t\thi_thrd = (shared_buf - hdev->dv_buf_size) / tc_num;\n-\t\telse\n-\t\t\thi_thrd = shared_buf - hdev->dv_buf_size;\n+\t\t\thi_thrd = hi_thrd / tc_num;\n \n \t\thi_thrd = max_t(u32, hi_thrd, HCLGE_BUF_MUL_BY * aligned_mps);\n \t\thi_thrd = rounddown(hi_thrd, HCLGE_BUF_SIZE_UNIT);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e15be90b85a793815cae92aef80a2907a58bcfc"}
{"commit_hash": "ae179b2f05189844616ce629ec1e644ad52f35fd", "short_hash": "ae179b2f0518", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: enable DCB when TC num is one and pfc_en is non-zero", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 20, "deletions": 2, "hunks": 8, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Logic fix affecting DCB functionality for specific NIC"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good explanation but lacks testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Huawei to net maintainer) with internal review"}}, "score_justification": "Logic fix enabling DCB when PFC is non-zero, even with single TC. Clean driver change.", "code_snippet": "@@ -325,6 +325,8 @@ static int hclge_ieee_setpfc(struct hnae3_handle *h, struct ieee_pfc *pfc)\n \thdev->tm_info.hw_pfc_map = pfc_map;\n \thdev->tm_info.pfc_en = pfc->pfc_en;\n \n+\thclge_tm_pfc_info_update(hdev);\n+\n \treturn hclge_pause_setup_hw(hdev, false);\n }\n \ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\nindex 9edae5f15ffb..cb2fb5a62ea5 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_tm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae179b2f05189844616ce629ec1e644ad52f35fd"}
{"commit_hash": "04f25edb48c441fc278ecc154c270f16966cbb90", "short_hash": "04f25edb48c4", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: add some error checking in hclge_tm module", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 848440544b41 (\"net: hns3: Add support of TX Scheduler & Shaper to HNS3 driver\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 20, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 6-line change in NIC driver adding bounds checks"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with out-of-bounds access, specific to Hisilicon NIC"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Detailed explanation with Fixes tag, but no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, net maintainer David Miller merged"}}, "score_justification": "Bounds check fix preventing out-of-bounds access in Hisilicon NIC driver", "code_snippet": "@@ -58,7 +58,8 @@ static int hclge_shaper_para_calc(u32 ir, u8 shaper_level,\n \tu32 tick;\n \n \t/* Calc tick */\n-\tif (shaper_level >= HCLGE_SHAPER_LVL_CNT)\n+\tif (shaper_level >= HCLGE_SHAPER_LVL_CNT ||\n+\t    ir > HCLGE_ETHER_MAX_RATE)\n \t\treturn -EINVAL;\n \n \ttick = tick_array[shaper_level];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04f25edb48c441fc278ecc154c270f16966cbb90"}
{"commit_hash": "f96315f2f17e7b2580d2fec7c4d6a706a131d904", "short_hash": "f96315f2f17e", "author_name": "Huazhong Tan", "author_email": "tanhuazhong@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T19:50:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-28T09:39:49-07:00", "subject": "net: hns3: fix __QUEUE_STATE_STACK_XOFF not cleared issue", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 3a30964a2eef (\"net: hns3: delay ring buffer clearing during reset\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 26, "deletions": 28, "hunks": 12, "review_chain": {"signed_off_by": ["Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium refactor in network driver (12 hunks, 54 lines)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Bug fix with Fixes tag, affects hns3 driver users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good commit message with Fixes tag, self-signed only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merger"}}, "score_justification": "Fixes TX timeout misdiagnosis in hns3 driver by properly clearing queue state during reset operations", "code_snippet": "@@ -28,8 +28,7 @@\n #define hns3_set_field(origin, shift, val)\t((origin) |= ((val) << (shift)))\n #define hns3_tx_bd_count(S)\tDIV_ROUND_UP(S, HNS3_MAX_BD_SIZE)\n \n-static void hns3_clear_all_ring(struct hnae3_handle *h);\n-static void hns3_force_clear_all_ring(struct hnae3_handle *h);\n+static void hns3_clear_all_ring(struct hnae3_handle *h, bool force);\n static void hns3_remove_hw_addr(struct net_device *netdev);\n \n static const char hns3_driver_name[] = \"hns3\";", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f96315f2f17e7b2580d2fec7c4d6a706a131d904"}
{"commit_hash": "aebd17b7685499156b8bc976c66a12396f76d0a7", "short_hash": "aebd17b76854", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-29T02:26:27Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-06-29T10:28:23-07:00", "subject": "hinic: add vlan offload support", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei/hinic", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 7, "insertions": 97, "deletions": 2, "hunks": 28, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change across 7 files in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement for specific NIC driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, only author S-o-b tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, DaveM committer, different orgs"}}, "score_justification": "VLAN offload feature addition for Huawei hinic NIC driver", "code_snippet": "@@ -45,6 +45,8 @@ enum hinic_port_cmd {\n \n \tHINIC_PORT_CMD_SET_RX_CSUM\t= 26,\n \n+\tHINIC_PORT_CMD_SET_RX_VLAN_OFFLOAD = 27,\n+\n \tHINIC_PORT_CMD_GET_PORT_STATISTICS = 28,\n \n \tHINIC_PORT_CMD_CLEAR_PORT_STATISTICS = 29,\ndiff --git a/drivers/net/ethernet/huawei/hinic/hinic_hw_wqe.h b/drivers/net/ethernet/huawei/hinic/hinic_hw_wqe.h\nindex c6b809e24983..f4b6d2c1061f 100644\n--- a/drivers/net/ethernet/huawei/hinic/hinic_hw_wqe.h\n+++ b/drivers/net/ethernet/huawei/hinic/hinic_hw_wqe.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aebd17b7685499156b8bc976c66a12396f76d0a7"}
{"commit_hash": "29b190fa774dd1b72a1a6f19687d55dc72ea83be", "short_hash": "29b190fa774d", "author_name": "zhong jiang", "author_email": "zhongjiang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T12:06:43-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-06-29T16:43:44+08:00", "subject": "mm/mempolicy.c: fix an incorrect rebind node in mpol_rebind_nodemask", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 213980c0f23b (\"mm, mempolicy: simplify rebinding mempolicies when updating cpusets\")", "cc_stable": true, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhong jiang <zhongjiang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": ["Vlastimil Babka <vbabka@suse.cz> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 54, "score_technical": 12, "score_impact": 22, "score_quality": 14, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 12, "details": "Minimal 2-line fix in critical memory management subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Logic bug fix with stable backport affecting memory policy"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Reviewed-by, detailed explanation with Fixes tag and Links"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, SUSE reviewer, Torvalds merged"}}, "score_justification": "Memory policy rebinding logic bug fix in critical mm subsystem with cross-org review", "code_snippet": "@@ -306,7 +306,7 @@ static void mpol_rebind_nodemask(struct mempolicy *pol, const nodemask_t *nodes)\n \telse {\n \t\tnodes_remap(tmp, pol->v.nodes,pol->w.cpuset_mems_allowed,\n \t\t\t\t\t\t\t\t*nodes);\n-\t\tpol->w.cpuset_mems_allowed = tmp;\n+\t\tpol->w.cpuset_mems_allowed = *nodes;\n \t}\n \n \tif (nodes_empty(tmp))\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/29b190fa774dd1b72a1a6f19687d55dc72ea83be"}
{"commit_hash": "27ba4059e06b3bbd38a7d944fd5a78cdf47534f4", "short_hash": "27ba4059e06b", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T09:13:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-01T19:02:47-07:00", "subject": "net: link_watch: prevent starvation when processing linkwatch wq", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 12, "deletions": 1, "hunks": 6, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 12, "score_impact": 19, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Medium size change in critical networking core"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 19, "details": "Deadlock fix affecting network subsystem users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with technical context, single author SOB"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Work queue starvation fix in networking linkwatch to prevent RTNL deadlock", "code_snippet": "@@ -163,9 +163,16 @@ static void linkwatch_do_dev(struct net_device *dev)\n \n static void __linkwatch_run_queue(int urgent_only)\n {\n+#define MAX_DO_DEV_PER_LOOP\t100\n+\n+\tint do_dev = MAX_DO_DEV_PER_LOOP;\n \tstruct net_device *dev;\n \tLIST_HEAD(wrk);\n \n+\t/* Give urgent case more budget */\n+\tif (urgent_only)\n+\t\tdo_dev += MAX_DO_DEV_PER_LOOP;\n+\n \t/*\n \t * Limit the number of linkwatch events to one\n \t * per second so that a runaway driver does not", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27ba4059e06b3bbd38a7d944fd5a78cdf47534f4"}
{"commit_hash": "ede7c247abfaeef62484cfff320b072ec2b1dca0", "short_hash": "ede7c247abfa", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T14:18:47+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-07-02T08:41:37+02:00", "subject": "rslib: Make some functions static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "lib/", "subsystems_touched": ["lib/"], "subsystem_tier": 1, "files_changed": 1, "insertions": 6, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -310,8 +310,8 @@ static void test_uc(struct rs_control *rs, int len, int errs,\n \tstat->nwords += trials;\n }\n \n-int ex_rs_helper(struct rs_control *rs, struct wspace *ws,\n-\t\tint len, int trials, int method)\n+static int ex_rs_helper(struct rs_control *rs, struct wspace *ws,\n+\t\t\tint len, int trials, int method)\n {\n \tstatic const char * const desc[] = {\n \t\t\"Testing correction buffer interface...\",", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/ede7c247abfaeef62484cfff320b072ec2b1dca0"}
{"commit_hash": "83b6a85bbbde81332ad329b9876f0afd5172c99a", "short_hash": "83b6a85bbbde", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-01T23:40:00Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-02T11:12:13-07:00", "subject": "hinic: remove standard netdev stats", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/huawei", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 46, "hunks": 8, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 10, "score_impact": 9, "score_quality": 7, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small focused change in network driver"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 9, "details": "Cleanup affecting ethtool stats display"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Suggested by maintainer, properly scoped"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, Netronome suggestion, kernel.org maintainer"}}, "score_justification": "Removes redundant standard netdev stats from ethtool output per maintainer suggestion", "code_snippet": "@@ -440,35 +440,6 @@ static u32 hinic_get_rxfh_indir_size(struct net_device *netdev)\n \n #define ARRAY_LEN(arr) ((int)((int)sizeof(arr) / (int)sizeof(arr[0])))\n \n-#define HINIC_NETDEV_STAT(_stat_item) { \\\n-\t.name = #_stat_item, \\\n-\t.size = FIELD_SIZEOF(struct rtnl_link_stats64, _stat_item), \\\n-\t.offset = offsetof(struct rtnl_link_stats64, _stat_item) \\\n-}\n-\n-static struct hinic_stats hinic_netdev_stats[] = {\n-\tHINIC_NETDEV_STAT(rx_packets),\n-\tHINIC_NETDEV_STAT(tx_packets),\n-\tHINIC_NETDEV_STAT(rx_bytes),\n-\tHINIC_NETDEV_STAT(tx_bytes),\n-\tHINIC_NETDEV_STAT(rx_errors),\n-\tHINIC_NETDEV_STAT(tx_errors),\n-\tHINIC_NETDEV_STAT(rx_dropped),\n-\tHINIC_NETDEV_STAT(tx_dropped),\n-\tHINIC_NETDEV_STAT(multicast),", "flags": [], "link": "https://lore.kernel.org/linux-kernel/83b6a85bbbde81332ad329b9876f0afd5172c99a"}
{"commit_hash": "4b2dbd566c7b91740e32b30a68a7f2b38e3495b9", "short_hash": "4b2dbd566c7b", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T11:38:08-06:00", "committer_name": "Alex Williamson", "committer_email": "alex.williamson@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T11:38:08-06:00", "subject": "vfio-mdev/samples: make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "samples", "subsystems_touched": ["samples/vfio-mdev"], "subsystem_tier": 4, "files_changed": 1, "insertions": 24, "deletions": 23, "hunks": 40, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Alex Williamson <alex.williamson@redhat.com> (Redhat)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in sample code (tier 4)"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Cross-company review, clear message with warnings"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer, Intel reviewer, robot report"}}, "score_justification": "Build warning fix adding static keyword to sample code symbols, cross-org review", "code_snippet": "@@ -1268,13 +1269,13 @@ static long mtty_ioctl(struct mdev_device *mdev, unsigned int cmd,\n \treturn -ENOTTY;\n }\n \n-int mtty_open(struct mdev_device *mdev)\n+static int mtty_open(struct mdev_device *mdev)\n {\n \tpr_info(\"%s\\n\", __func__);\n \treturn 0;\n }\n \n-void mtty_close(struct mdev_device *mdev)\n+static void mtty_close(struct mdev_device *mdev)\n {\n \tpr_info(\"%s\\n\", __func__);\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4b2dbd566c7b91740e32b30a68a7f2b38e3495b9"}
{"commit_hash": "e66e02c4d96d335eedabd9678416f2949d68ebc8", "short_hash": "e66e02c4d96d", "author_name": "Peng Hao", "author_email": "richard.peng@oppo.com", "author_company": "OPPO", "author_date": "2019-07-02T11:38:09-06:00", "committer_name": "Alex Williamson", "committer_email": "alex.williamson@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T11:44:12-06:00", "subject": "vfio: vfio_pci_nvlink2: use a vma helper function", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/vfio", "subsystems_touched": ["drivers/vfio/pci"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Hao <richard.peng@oppo.com> (OPPO)", "Alex Williamson <alex.williamson@redhat.com> (Redhat)"], "reviewed_by": ["Alexey Kardashevskiy <aik@ozlabs.ru> (Ozlabs)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 6, "score_impact": 11, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in VFIO PCI driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code simplification for VFIO users"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (OPPO->Red Hat)"}}, "score_justification": "Code simplification using vma_pages() helper in VFIO PCI driver", "code_snippet": "@@ -161,8 +161,7 @@ static int vfio_pci_nvgpu_mmap(struct vfio_pci_device *vdev,\n \n \tatomic_inc(&data->mm->mm_count);\n \tret = (int) mm_iommu_newdev(data->mm, data->useraddr,\n-\t\t\t(vma->vm_end - vma->vm_start) >> PAGE_SHIFT,\n-\t\t\tdata->gpu_hpa, &data->mem);\n+\t\t\tvma_pages(vma), data->gpu_hpa, &data->mem);\n \n \ttrace_vfio_pci_nvgpu_mmap(vdev->pdev, data->gpu_hpa, data->useraddr,\n \t\t\tvma->vm_end - vma->vm_start, ret);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e66e02c4d96d335eedabd9678416f2949d68ebc8"}
{"commit_hash": "b46c820f8f5a03619f21fc4ed2e42848017aefcd", "short_hash": "b46c820f8f5a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T11:38:10-06:00", "committer_name": "Alex Williamson", "committer_email": "alex.williamson@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T11:44:15-06:00", "subject": "sample/mdev/mbochs: remove set but not used variable 'mdev_state'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "samples", "subsystems_touched": ["samples/vfio-mdev"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alex Williamson <alex.williamson@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 3-line deletion in sample code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix affecting sample code only"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Cross-org review with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (Redhat) from different companies"}}, "score_justification": "Removes unused variable to fix gcc warning in sample driver code", "code_snippet": "@@ -1185,9 +1185,6 @@ static long mbochs_ioctl(struct mdev_device *mdev, unsigned int cmd,\n {\n \tint ret = 0;\n \tunsigned long minsz, outsz;\n-\tstruct mdev_state *mdev_state;\n-\n-\tmdev_state = mdev_get_drvdata(mdev);\n \n \tswitch (cmd) {\n \tcase VFIO_DEVICE_GET_INFO:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b46c820f8f5a03619f21fc4ed2e42848017aefcd"}
{"commit_hash": "559e92f78778a171adfb152f49a78e202f5b39df", "short_hash": "559e92f78778", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-29T02:43:33Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-02T12:40:49+01:00", "subject": "ASoC: madera: Remove duplicated include from cs47l35.c", "primary_category": "TRIV-INCLUDE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Single-line include removal in sound driver"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact, trivial cleanup"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Minimal message, mechanical change"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Duplicate include removal in sound codec driver", "code_snippet": "@@ -19,7 +19,6 @@\n #include <sound/pcm_params.h>\n #include <sound/soc.h>\n #include <sound/tlv.h>\n-#include <sound/tlv.h>\n \n #include <linux/irqchip/irq-madera.h>\n #include <linux/mfd/madera/core.h>\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/559e92f78778a171adfb152f49a78e202f5b39df"}
{"commit_hash": "2d2e331697bfba9dcc59217b1fcbfa2c144f0659", "short_hash": "2d2e331697bf", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T06:17:38Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-02T12:41:10+01:00", "subject": "ASoC: rt1308: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/codecs"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in sound subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Coccinelle-generated with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -884,7 +884,6 @@ static void rt1308_i2c_shutdown(struct i2c_client *client)\n static struct i2c_driver rt1308_i2c_driver = {\n \t.driver = {\n \t\t.name = \"rt1308\",\n-\t\t.owner = THIS_MODULE,\n \t\t.of_match_table = of_match_ptr(rt1308_of_match),\n \t\t.acpi_match_table = ACPI_PTR(rt1308_acpi_match),\n \t},\n", "flags": ["AUTO_GENERATED", "COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/2d2e331697bfba9dcc59217b1fcbfa2c144f0659"}
{"commit_hash": "f4fb8a97dc903cc278feb45cff55622e25360b89", "short_hash": "f4fb8a97dc90", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T21:12:33+08:00", "committer_name": "Shuah Khan", "committer_email": "skhan@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-02T13:29:43-06:00", "subject": "kselftests: cgroup: remove duplicated include from test_freezer.c", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kselftest", "subsystems_touched": ["tools/testing/selftests"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Shuah Khan <skhan@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 5, "score_impact": 6, "score_quality": 4, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion in test code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Minimal commit message, single change"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different org author/committer, no external report"}}, "score_justification": "Duplicate include removal in selftest code with cross-org review", "code_snippet": "@@ -11,7 +11,6 @@\n #include <stdlib.h>\n #include <sys/inotify.h>\n #include <string.h>\n-#include <sys/types.h>\n #include <sys/wait.h>\n \n #include \"../kselftest.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4fb8a97dc903cc278feb45cff55622e25360b89"}
{"commit_hash": "04f0b2eaa3b3ee243df6040617b4bfbbc0404854", "short_hash": "04f0b2eaa3b3", "author_name": "Qiuyang Sun", "author_email": "sunqiuyang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T11:33:25+08:00", "committer_name": "Jaegeuk Kim", "committer_email": "jaegeuk@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-02T15:39:24-07:00", "subject": "f2fs: ioctl for removing a range from F2FS", "primary_category": "FEAT-API", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "f2fs", "subsystems_touched": ["fs/f2fs"], "subsystem_tier": 2, "files_changed": 7, "insertions": 260, "deletions": 5, "hunks": 36, "review_chain": {"signed_off_by": ["Qiuyang Sun <sunqiuyang@huawei.com> (Huawei)", "Chao Yu <yuchao0@huawei.com> (Huawei)", "Sahitya Tummala <stummala@codeaurora.org> (CodeAurora)", "Geert Uytterhoeven <geert@linux-m68k.org> (Linux-m68k)", "Arnd Bergmann <arnd@arndb.de> (Arndb)", "Jaegeuk Kim <jaegeuk@kernel.org> (Kernel)"], "reviewed_by": ["Chao Yu <yuchao0@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 59, "score_technical": 16, "score_impact": 18, "score_quality": 19, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 10, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 16, "details": "New ioctl API for online resize, 7 files, 36 hunks, 265 lines"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 18, "details": "New feature enabling online partition resizing for F2FS users"}, "quality": {"review_chain": 10, "message_quality": 6, "testing": 1, "atomicity": 2, "subtotal": 19, "details": "Extensive multi-org review, detailed changelog, partial testing"}, "community": {"cross_org": 4, "maintainer": 2, "response": 0, "subtotal": 6, "details": "5 orgs involved (Huawei, Kernel.org, Qualcomm, Linux-m68k, ArndB)"}}, "score_justification": "New F2FS_IOC_RESIZE_FS ioctl for online partition shrinking with extensive cross-company collaboration", "code_snippet": "@@ -1302,7 +1302,8 @@ static void update_ckpt_flags(struct f2fs_sb_info *sbi, struct cp_control *cpc)\n \telse\n \t\t__clear_ckpt_flags(ckpt, CP_ORPHAN_PRESENT_FLAG);\n \n-\tif (is_sbi_flag_set(sbi, SBI_NEED_FSCK))\n+\tif (is_sbi_flag_set(sbi, SBI_NEED_FSCK) ||\n+\t\tis_sbi_flag_set(sbi, SBI_IS_RESIZEFS))\n \t\t__set_ckpt_flags(ckpt, CP_FSCK_FLAG);\n \n \tif (is_sbi_flag_set(sbi, SBI_CP_DISABLED))\ndiff --git a/fs/f2fs/debug.c b/fs/f2fs/debug.c\nindex 99e9a5c37b71..7706049d23bf 100644\n--- a/fs/f2fs/debug.c\n+++ b/fs/f2fs/debug.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/04f0b2eaa3b3ee243df6040617b4bfbbc0404854"}
{"commit_hash": "f85f6e7bc9682a6d8b342c010cd6aa58521fdeec", "short_hash": "f85f6e7bc968", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-11T20:23:48+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T18:56:01+02:00", "subject": "KVM: X86: Yield to IPI target if necessary", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF", "DOC-KERNEL"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kernel", "arch/x86/include/uapi", "Documentation/virtual"], "subsystem_tier": 2, "files_changed": 4, "insertions": 34, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 14, "score_impact": 17, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Medium change across 4 files in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 17, "details": "Performance optimization for KVM guests with new hypercall"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with context, basic review chain only"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company between Tencent and Red Hat, maintainer applied"}}, "score_justification": "New KVM hypercall for sched yield optimization during IPI delivery", "code_snippet": "@@ -141,3 +141,14 @@ a0 corresponds to the APIC ID in the third argument (a2), bit 1\n corresponds to the APIC ID a2+1, and so on.\n \n Returns the number of CPUs to which the IPIs were delivered successfully.\n+\n+7. KVM_HC_SCHED_YIELD\n+------------------------\n+Architecture: x86\n+Status: active\n+Purpose: Hypercall used to yield if the IPI target vCPU is preempted\n+\n+a0: destination APIC ID\n+\n+Usage example: When sending a call-function IPI-many to vCPUs, yield if\n+any of the IPI target vCPUs was preempted.\ndiff --git a/arch/x86/include/uapi/asm/kvm_para.h b/arch/x86/include/uapi/asm/kvm_para.h\nindex 21d5f0240595..2a8e0b6b9805 100644\n--- a/arch/x86/include/uapi/asm/kvm_para.h\n+++ b/arch/x86/include/uapi/asm/kvm_para.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f85f6e7bc9682a6d8b342c010cd6aa58521fdeec"}
{"commit_hash": "715062970f3748fbbf55c1a8cb495051760a65c1", "short_hash": "715062970f37", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-11T20:23:49+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T18:56:04+02:00", "subject": "KVM: X86: Implement PV sched yield hypercall", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 21, "deletions": 0, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 17, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small addition in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 3, "subtotal": 17, "details": "New hypercall with measurable performance improvement"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 2, "atomicity": 2, "subtotal": 12, "details": "Good message with performance data, moderate review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Tencent author, Red Hat maintainer)"}}, "score_justification": "New PV sched yield hypercall for KVM with 17% performance gain", "code_snippet": "@@ -7193,6 +7193,23 @@ void kvm_vcpu_deactivate_apicv(struct kvm_vcpu *vcpu)\n \tkvm_x86_ops->refresh_apicv_exec_ctrl(vcpu);\n }\n \n+static void kvm_sched_yield(struct kvm *kvm, unsigned long dest_id)\n+{\n+\tstruct kvm_vcpu *target = NULL;\n+\tstruct kvm_apic_map *map;\n+\n+\trcu_read_lock();\n+\tmap = rcu_dereference(kvm->arch.apic_map);\n+\n+\tif (likely(map) && dest_id <= map->max_apic_id && map->phys_map[dest_id])\n+\t\ttarget = map->phys_map[dest_id]->vcpu;\n+\n+\trcu_read_unlock();\n+\n+\tif (target)\n+\t\tkvm_vcpu_yield_to(target);\n+}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/715062970f3748fbbf55c1a8cb495051760a65c1"}
{"commit_hash": "32b72ecc83b651fb8633ac4bd44957c54367699d", "short_hash": "32b72ecc83b6", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-11T20:23:50+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T18:56:05+02:00", "subject": "KVM: X86: Expose PV_SCHED_YIELD CPUID feature bit to guest", "primary_category": "FEAT-FUNC", "secondary_categories": ["DOC-API"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm", "Documentation/virtual/kvm"], "subsystem_tier": 2, "files_changed": 2, "insertions": 6, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 12, "details": "Small change exposing CPUID bit in critical KVM subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Feature enabling paravirtualized sched yield for guests"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "BasicReviewed-by tags, adequate message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Tencent/Red Hat) with maintainer sign-off"}}, "score_justification": "Feature exposing PV_SCHED_YIELD CPUID bit for guest paravirtualization", "code_snippet": "@@ -66,6 +66,10 @@ KVM_FEATURE_PV_SEND_IPI            ||    11 || guest checks this feature bit\n                                    ||       || before using paravirtualized\n                                    ||       || send IPIs.\n ------------------------------------------------------------------------------\n+KVM_FEATURE_PV_SCHED_YIELD         ||    13 || guest checks this feature bit\n+                                   ||       || before using paravirtualized\n+                                   ||       || sched yield.\n+------------------------------------------------------------------------------\n KVM_FEATURE_CLOCKSOURCE_STABLE_BIT ||    24 || host will warn if no guest-side\n                                    ||       || per-cpu warps are expected in\n                                    ||       || kvmclock.\ndiff --git a/arch/x86/kvm/cpuid.c b/arch/x86/kvm/cpuid.c\nindex 68c74e948e28..004cbd84c351 100644\n--- a/arch/x86/kvm/cpuid.c\n+++ b/arch/x86/kvm/cpuid.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/32b72ecc83b651fb8633ac4bd44957c54367699d"}
{"commit_hash": "bb34e690e9340bc155ebed5a3d75fc63ff69e082", "short_hash": "bb34e690e934", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-02T17:25:02+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-02T19:02:46+02:00", "subject": "KVM: LAPIC: Fix pending interrupt in IRR blocked by software disable LAPIC", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": ["Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "acked_by": [], "reported_by": ["Rong Chen <rong.a.chen@intel.com> (Intel)", "Feng Tang <feng.tang@intel.com> (Intel)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"]}, "score_total": 57, "score_technical": 10, "score_impact": 20, "score_quality": 20, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in critical KVM subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Regression fix with stable backport, affects VM users"}, "quality": {"review_chain": 8, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 20, "details": "Exceptional documentation with detailed analysis, multiple reporters, tested"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Cross-org: Tencent author, RedHat committer, Intel reporters"}}, "score_justification": "APIC emulation logic fix for CPU hotplug IRR handling with extensive documentation", "code_snippet": "@@ -2339,7 +2339,7 @@ int kvm_apic_has_interrupt(struct kvm_vcpu *vcpu)\n \tstruct kvm_lapic *apic = vcpu->arch.apic;\n \tu32 ppr;\n \n-\tif (!apic_enabled(apic))\n+\tif (!kvm_apic_hw_enabled(apic))\n \t\treturn -1;\n \n \t__apic_update_ppr(apic, &ppr);\n", "flags": ["LONG_BODY"], "link": "https://lore.kernel.org/linux-kernel/bb34e690e9340bc155ebed5a3d75fc63ff69e082"}
{"commit_hash": "0d581ba311a27762fe1a14e5db5f65d225b3d844", "short_hash": "0d581ba311a2", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-03T19:12:30+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-03T11:48:49-07:00", "subject": "net: hns: add support for vlan TSO", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 16, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1-line hardware feature enable in network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 4, "subtotal": 16, "details": "TSO support for hip07 NIC improves VLAN performance"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Minimal message, single author, scoped change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, davem maintainer acceptance"}}, "score_justification": "Enables VLAN TSO hardware feature on Hisilicon hip07 NIC for performance", "code_snippet": "@@ -2370,6 +2370,7 @@ static int hns_nic_dev_probe(struct platform_device *pdev)\n \t\tndev->hw_features |= NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM |\n \t\t\tNETIF_F_RXCSUM | NETIF_F_SG | NETIF_F_GSO |\n \t\t\tNETIF_F_GRO | NETIF_F_TSO | NETIF_F_TSO6;\n+\t\tndev->vlan_features |= NETIF_F_TSO | NETIF_F_TSO6;\n \t\tndev->max_mtu = MAC_MAX_MTU_V2 -\n \t\t\t\t(ETH_HLEN + ETH_FCS_LEN + VLAN_HLEN);\n \t\tbreak;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0d581ba311a27762fe1a14e5db5f65d225b3d844"}
{"commit_hash": "6044414fa849e14fa0de60a75e3f85ea048c89db", "short_hash": "6044414fa849", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-03T03:10:21Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-03T14:52:15-03:00", "subject": "RDMA/hns: Remove set but not used variable 'fclr_write_fail_flag'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Leon Romanovsky <leonro@mellanox.com> (Mellanox)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single file, 4 hunks, net 2 deletions in driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "2 reviewers, clear message, no tests needed"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer/reviewers"}}, "score_justification": "Compiler warning fix removing unused variable in RDMA driver", "code_snippet": "@@ -1132,7 +1132,6 @@ static int hns_roce_cmq_query_hw_info(struct hns_roce_dev *hr_dev)\n \n static void hns_roce_function_clear(struct hns_roce_dev *hr_dev)\n {\n-\tbool fclr_write_fail_flag = false;\n \tstruct hns_roce_func_clear *resp;\n \tstruct hns_roce_cmq_desc desc;\n \tunsigned long end;", "flags": ["FIXES_UNUSED_VAR"], "link": "https://lore.kernel.org/linux-kernel/6044414fa849e14fa0de60a75e3f85ea048c89db"}
{"commit_hash": "7be373b6de503cd1eed6be4f2780925a5af03230", "short_hash": "7be373b6de50", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-06-14T09:15:48+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-03T16:14:39+02:00", "subject": "KVM: LAPIC: remove the trailing newline used in the fmt parameter of TP_printk", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 10, "score_impact": 6, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 2-line change in KVM tracing code"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup affecting trace output formatting"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single logical change with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit between Tencent and Red Hat"}}, "score_justification": "Removes trailing newline from trace printk to fix extra newlines in trace output", "code_snippet": "@@ -1365,7 +1365,7 @@ TRACE_EVENT(kvm_hv_timer_state,\n \t\t\t__entry->vcpu_id = vcpu_id;\n \t\t\t__entry->hv_timer_in_use = hv_timer_in_use;\n \t\t\t),\n-\t\tTP_printk(\"vcpu_id %x hv_timer %x\\n\",\n+\t\tTP_printk(\"vcpu_id %x hv_timer %x\",\n \t\t\t__entry->vcpu_id,\n \t\t\t__entry->hv_timer_in_use)\n );\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7be373b6de503cd1eed6be4f2780925a5af03230"}
{"commit_hash": "9800db282dff675dd700d5985d90b605c34b5ccd", "short_hash": "9800db282dff", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-21T19:19:28+03:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-03T17:36:43+02:00", "subject": "intel_th: msu: Remove set but not used variable 'last'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: aad14ad3cf3a (\"intel_th: msu: Add current window tracking\")", "cc_stable": true, "subsystem_prefix": "drivers/hwtracing/intel_th", "subsystems_touched": ["drivers/hwtracing/intel_th"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexander Shishkin <alexander.shishkin@linux.intel.com> (Intel)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 1-file change in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with stable tag"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by with detailed explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer"}}, "score_justification": "Compiler warning fix removing unused variable in Intel tracing driver", "code_snippet": "@@ -1400,10 +1400,9 @@ static int intel_th_msc_init(struct msc *msc)\n \n static void msc_win_switch(struct msc *msc)\n {\n-\tstruct msc_window *last, *first;\n+\tstruct msc_window *first;\n \n \tfirst = list_first_entry(&msc->win_list, struct msc_window, entry);\n-\tlast = list_last_entry(&msc->win_list, struct msc_window, entry);\n \n \tif (msc_is_last_win(msc->cur_win))\n \t\tmsc->cur_win = first;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9800db282dff675dd700d5985d90b605c34b5ccd"}
{"commit_hash": "b96fb368b08f1637cbf780a6b83e36c2c5ed4ff5", "short_hash": "b96fb368b08f", "author_name": "Shaokun Zhang", "author_email": "zhangshaokun@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-06-21T19:19:27+03:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-03T17:36:43+02:00", "subject": "intel_th: msu: Fix unused variable warning on arm64 platform", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ba39bd8306057 (\"intel_th: msu: Switch over to scatterlist\")", "cc_stable": true, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/hwtracing"], "subsystem_tier": 4, "files_changed": 1, "insertions": 27, "deletions": 13, "hunks": 10, "review_chain": {"signed_off_by": ["Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Alexander Shishkin <alexander.shishkin@linux.intel.com> (Intel)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in tracing driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with stable backport"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org contribution with kernel.org maintainer"}}, "score_justification": "Compiler warning fix factoring x86-specific code with stable backport", "code_snippet": "@@ -767,6 +767,30 @@ static int __msc_buffer_win_alloc(struct msc_window *win,\n \treturn -ENOMEM;\n }\n \n+#ifdef CONFIG_X86\n+static void msc_buffer_set_uc(struct msc_window *win, unsigned int nr_blocks)\n+{\n+\tint i;\n+\n+\tfor (i = 0; i < nr_blocks; i++)\n+\t\t/* Set the page as uncached */\n+\t\tset_memory_uc((unsigned long)msc_win_block(win, i), 1);\n+}\n+\n+static void msc_buffer_set_wb(struct msc_window *win)\n+{\n+\tint i;\n+\n+\tfor (i = 0; i < win->nr_blocks; i++)\n+\t\t/* Reset the page to write-back */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b96fb368b08f1637cbf780a6b83e36c2c5ed4ff5"}
{"commit_hash": "291adeb25481d6d515d1bafbcbddbf2cf5f74574", "short_hash": "291adeb25481", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-28T17:06:52+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-03T17:52:09-04:00", "subject": "lockd: Make two symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/lockd", "subsystems_touched": ["fs/lockd"], "subsystem_tier": 2, "files_changed": 2, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change in critical filesystem subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Two signoffs, clear sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: Huawei author, RedHat maintainer"}}, "score_justification": "Sparse warning fix adding static to two functions in lockd", "code_snippet": "@@ -54,7 +54,7 @@ nlmclnt_get_lockowner(struct nlm_lockowner *lockowner)\n \treturn lockowner;\n }\n \n-void nlmclnt_put_lockowner(struct nlm_lockowner *lockowner)\n+static void nlmclnt_put_lockowner(struct nlm_lockowner *lockowner)\n {\n \tif (!refcount_dec_and_lock(&lockowner->count, &lockowner->host->h_lock))\n \t\treturn;\ndiff --git a/fs/lockd/svclock.c b/fs/lockd/svclock.c\nindex 5f9f19b81754..61d3cc2283dc 100644\n--- a/fs/lockd/svclock.c\n+++ b/fs/lockd/svclock.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/291adeb25481d6d515d1bafbcbddbf2cf5f74574"}
{"commit_hash": "b7a8f766482fa5893ca95cbf83195e60e96e389e", "short_hash": "b7a8f766482f", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-03T05:59:08Z", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-03T19:28:40+02:00", "subject": "serial: 8250: 8250_core: Fix missing unlock on error in serial8250_register_8250_port()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/tty/serial", "subsystems_touched": ["drivers/tty/serial/8250"], "subsystem_tier": 4, "files_changed": 1, "insertions": 5, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 14, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in serial driver - 1 file, 4 hunks, 7 lines changed"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Resource leak fix affecting serial port users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Link tag, minimal review chain"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from Linux Foundation"}}, "score_justification": "Missing unlock on error path in serial driver registration function", "code_snippet": "@@ -1026,8 +1026,10 @@ int serial8250_register_8250_port(struct uart_8250_port *up)\n \t\tif (!has_acpi_companion(uart->port.dev)) {\n \t\t\tgpios = mctrl_gpio_init(&uart->port, 0);\n \t\t\tif (IS_ERR(gpios)) {\n-\t\t\t\tif (PTR_ERR(gpios) != -ENOSYS)\n-\t\t\t\t\treturn PTR_ERR(gpios);\n+\t\t\t\tif (PTR_ERR(gpios) != -ENOSYS) {\n+\t\t\t\t\tret = PTR_ERR(gpios);\n+\t\t\t\t\tgoto out_unlock;\n+\t\t\t\t}\n \t\t\t} else {\n \t\t\t\tuart->gpios = gpios;\n \t\t\t}", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7a8f766482fa5893ca95cbf83195e60e96e389e"}
{"commit_hash": "f1d72c55d94e6ae2f612043f2117b6ad1c82e137", "short_hash": "f1d72c55d94e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T14:46:49+08:00", "committer_name": "Bjorn Andersson", "committer_email": "bjorn.andersson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-07-04T11:20:36-07:00", "subject": "remoteproc: qcom: q6v5-mss: Fix build error without QCOM_MDT_LOADER", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f04b91383456 (\"remoteproc: qcom: q6v5-mss: Support loading non-split images\")", "cc_stable": false, "subsystem_prefix": "drivers/remoteproc", "subsystems_touched": ["drivers/remoteproc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Bjorn Andersson <bjorn.andersson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 34, "score_technical": 8, "score_impact": 12, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny Kconfig fix in important subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build error fix affecting driver users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org with Reported-by from Huawei robot"}}, "score_justification": "Kconfig dependency fix for build error with proper Fixes tag and cross-org review", "code_snippet": "@@ -115,6 +115,7 @@ config QCOM_Q6V5_MSS\n \tdepends on RPMSG_QCOM_GLINK_SMEM || RPMSG_QCOM_GLINK_SMEM=n\n \tdepends on QCOM_SYSMON || QCOM_SYSMON=n\n \tselect MFD_SYSCON\n+\tselect QCOM_MDT_LOADER\n \tselect QCOM_Q6V5_COMMON\n \tselect QCOM_RPROC_COMMON\n \tselect QCOM_SCM\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f1d72c55d94e6ae2f612043f2117b6ad1c82e137"}
{"commit_hash": "ea3bfeec6bf77033608b81a5e9a7cd6d686ab054", "short_hash": "ea3bfeec6bf7", "author_name": "Qii Wang", "author_email": "qii.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-01T14:42:02+08:00", "committer_name": "Boris Brezillon", "committer_email": "boris.brezillon@collabora.com", "committer_company": "Collabora", "commit_date": "2019-07-04T11:58:31+02:00", "subject": "dt-bindings: i3c: cdns: Use correct cells for I2C device", "primary_category": "DT-FIX", "secondary_categories": ["DOC-KERNEL", "DT-BINDING"], "cve_ids": [], "fixes_tag": "Fixes: e29d0d9c90c9 (\"dt-bindings: i3c: Document Cadence I3C master bindings\")", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/i3c"], "subsystem_tier": 5, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Qii Wang <qii.wang@mediatek.com> (MediaTek)", "Boris Brezillon <boris.brezillon@collabora.com> (Collabora)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 4, "score_impact": 11, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "2-line fix in DT binding doc (tier 5)"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "DT fix correcting I2C device reg example"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Fixes tag, clear context, cross-org"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @mediatek, committer @collabora"}}, "score_justification": "DT binding fix correcting I2C device reg cells example", "code_snippet": "@@ -38,6 +38,6 @@ Example:\n \n \t\tnunchuk: nunchuk@52 {\n \t\t\tcompatible = \"nintendo,nunchuk\";\n-\t\t\treg = <0x52 0x80000010 0>;\n+\t\t\treg = <0x52 0x0 0x10>;\n \t\t};\n \t};\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ea3bfeec6bf77033608b81a5e9a7cd6d686ab054"}
{"commit_hash": "1bcc1fd64e4dd903f4d868a9e053986e3b102713", "short_hash": "1bcc1fd64e4d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-04T16:38:50+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-04T13:15:37+01:00", "subject": "ASoC: audio-graph-card: fix use-after-free in graph_for_each_link", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: fce9b90c1ab7 (\"ASoC: audio-graph-card: cleanup DAI link loop method - step2\")", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/generic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in audio subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Use-after-free fix with referenced bug"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit with Fixes tag and multiple Cc"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org maintainer"}}, "score_justification": "Use-after-free in audio graph card with proper Fixes tag and cross-org review", "code_snippet": "@@ -435,9 +435,6 @@ static int graph_for_each_link(struct asoc_simple_priv *priv,\n \t\t\tcodec_ep = of_graph_get_remote_endpoint(cpu_ep);\n \t\t\tcodec_port = of_get_parent(codec_ep);\n \n-\t\t\tof_node_put(codec_ep);\n-\t\t\tof_node_put(codec_port);\n-\n \t\t\t/* get convert-xxx property */\n \t\t\tmemset(&adata, 0, sizeof(adata));\n \t\t\tgraph_parse_convert(dev, codec_ep, &adata);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1bcc1fd64e4dd903f4d868a9e053986e3b102713"}
{"commit_hash": "eff5a850017193ae879948944be05cc814c29621", "short_hash": "eff5a8500171", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T17:35:53+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-04T13:18:48+01:00", "subject": "regmap: select CONFIG_REGMAP while REGMAP_SCCB is set", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 5bbf32217bf9 (\"media: ov772x: use SCCB regmap\")", "cc_stable": false, "subsystem_prefix": "drivers/base/regmap", "subsystems_touched": ["drivers/base/regmap"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 12, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal Kconfig change adding REGMAP_SCCB condition"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build regression fix affecting media drivers"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit with Fixes tag, build error evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "Build fix for missing Kconfig dependency causing media driver compile failure", "code_snippet": "@@ -4,7 +4,7 @@\n # subsystems should select the appropriate symbols.\n \n config REGMAP\n-\tdefault y if (REGMAP_I2C || REGMAP_SPI || REGMAP_SPMI || REGMAP_W1 || REGMAP_AC97 || REGMAP_MMIO || REGMAP_IRQ || REGMAP_I3C)\n+\tdefault y if (REGMAP_I2C || REGMAP_SPI || REGMAP_SPMI || REGMAP_W1 || REGMAP_AC97 || REGMAP_MMIO || REGMAP_IRQ || REGMAP_SCCB || REGMAP_I3C)\n \tselect IRQ_DOMAIN if REGMAP_IRQ\n \tbool\n \n", "flags": ["BUILD_FIX"], "link": "https://lore.kernel.org/linux-kernel/eff5a850017193ae879948944be05cc814c29621"}
{"commit_hash": "9a601fc43ee0157a2575fe81beffe653c25edcd6", "short_hash": "9a601fc43ee0", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T14:22:58+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-04T13:41:50-03:00", "subject": "RDMA/hns: Fix building modular hns", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e9816ddf2a33 (\"RDMA/hns: Cleanup unnecessary exported symbols\")", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Stephen Rothwell <sfr@canb.auug.org.au> (Org)"]}, "score_total": 33, "score_technical": 6, "score_impact": 10, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small Makefile change in infiniband driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build regression fix affecting driver users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Excellent message with Fixes, Reported-by, detailed error output"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Mellanox maintainer, external report"}}, "score_justification": "Build regression fixing Makefile linking order, with detailed error messages and external reporter", "code_snippet": "@@ -10,8 +10,8 @@ hns-roce-objs := hns_roce_main.o hns_roce_cmd.o hns_roce_pd.o \\\n \thns_roce_cq.o hns_roce_alloc.o hns_roce_db.o hns_roce_srq.o hns_roce_restrack.o\n \n ifdef CONFIG_INFINIBAND_HNS_HIP06\n-hns-roce-hw-v1-objs := hns_roce_hw_v1.o\n-obj-$(CONFIG_INFINIBAND_HNS) += hns-roce-hw-v1.o $(hns-roce-objs)\n+hns-roce-hw-v1-objs := hns_roce_hw_v1.o $(hns-roce-objs)\n+obj-$(CONFIG_INFINIBAND_HNS) += hns-roce-hw-v1.o\n endif\n \n ifdef CONFIG_INFINIBAND_HNS_HIP08\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a601fc43ee0157a2575fe81beffe653c25edcd6"}
{"commit_hash": "726be12f5ca0a9b464e7d91add512071e4c224f6", "short_hash": "726be12f5ca0", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:48+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-05T12:02:00-03:00", "subject": "RDMA/hns: Set reset flag when hw resetting", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 1-line addition in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes potential hang during hardware reset for HNS users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clean message with subsystem prefix, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer, different companies"}}, "score_justification": "1-line fix to prevent cmdq blocking during HW reset by setting reset flag early", "code_snippet": "@@ -6384,6 +6384,7 @@ static int hns_roce_hw_v2_reset_notify_down(struct hnae3_handle *handle)\n \tif (!hr_dev)\n \t\treturn 0;\n \n+\thr_dev->is_reset = true;\n \thr_dev->active = false;\n \thr_dev->dis_db = true;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/726be12f5ca0a9b464e7d91add512071e4c224f6"}
{"commit_hash": "f5662b4ddc9db20033f310694edbd3fc7041f6f2", "short_hash": "f5662b4ddc9d", "author_name": "Yangyang Li", "author_email": "liyangyang20@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:47+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-05T12:02:00-03:00", "subject": "RDMA/hns: Modify ba page size for cqe", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yangyang Li <liyangyang20@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement for RDMA driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Driver capability update to support larger CQ depth per spec", "code_snippet": "@@ -1616,7 +1616,7 @@ static int hns_roce_v2_profile(struct hns_roce_dev *hr_dev)\n \tcaps->wqe_sq_hop_num\t= 2;\n \tcaps->wqe_sge_hop_num\t= 1;\n \tcaps->wqe_rq_hop_num\t= 2;\n-\tcaps->cqe_ba_pg_sz\t= 0;\n+\tcaps->cqe_ba_pg_sz\t= 6;\n \tcaps->cqe_buf_pg_sz\t= 0;\n \tcaps->cqe_hop_num\t= HNS_ROCE_CQE_HOP_NUM;\n \tcaps->srqwqe_ba_pg_sz\t= 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f5662b4ddc9db20033f310694edbd3fc7041f6f2"}
{"commit_hash": "21b97f538765996ac76b3a99adf371d0da5450f9", "short_hash": "21b97f538765", "author_name": "chenglang", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:46+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-05T12:02:00-03:00", "subject": "RDMA/hns: Fixup qp release bug", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 2, "insertions": 3, "deletions": 6, "hunks": 6, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 13, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in important infiniband driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Logic bug fix for Hisilicon RDMA users"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Multi-org review but minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer applied"}}, "score_justification": "QP release logic bug fix for Hisilicon RDMA, cross-org review", "code_snippet": "@@ -1559,6 +1559,7 @@ static int hns_roce_v1_profile(struct hns_roce_dev *hr_dev)\n \tcaps->reserved_mrws\t= 1;\n \tcaps->reserved_uars\t= 0;\n \tcaps->reserved_cqs\t= 0;\n+\tcaps->reserved_qps\t= 12; /* 2 SQP per port, six ports total 12 */\n \tcaps->chunk_sz\t\t= HNS_ROCE_V1_TABLE_CHUNK_SIZE;\n \n \tfor (i = 0; i < caps->num_ports; i++)\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_qp.c b/drivers/infiniband/hw/hns/hns_roce_qp.c\nindex 4f693cded74e..e7bbd6d967cb 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_qp.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_qp.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21b97f538765996ac76b3a99adf371d0da5450f9"}
{"commit_hash": "6fafe560ee4ddb79b1c9d6c168d4f2e7eef2a037", "short_hash": "6fafe560ee4d", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:45+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-05T12:02:00-03:00", "subject": "RDMA/hns: Bugfix for cleaning mtr", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 8d18ad83f19b (\"RDMA/hns: Fix bug when wqe num is larger than 16K\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single-line fix in infiniband driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak regression fix for hardware users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Resource leak regression fix: wrong cleanup function used after init change", "code_snippet": "@@ -4565,7 +4565,7 @@ static int hns_roce_v2_destroy_qp_common(struct hns_roce_dev *hr_dev,\n \t    (hr_qp->ibqp.qp_type == IB_QPT_UD))\n \t\thns_roce_release_range_qp(hr_dev, hr_qp->qpn, 1);\n \n-\thns_roce_mtt_cleanup(hr_dev, &hr_qp->mtt);\n+\thns_roce_mtr_cleanup(hr_dev, &hr_qp->mtr);\n \n \tif (udata) {\n \t\tstruct hns_roce_ucontext *context =\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6fafe560ee4ddb79b1c9d6c168d4f2e7eef2a037"}
{"commit_hash": "cfe261c24e553d322ef3fc5ae96667767d80142a", "short_hash": "cfe261c24e55", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T03:37:45Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:26:47-07:00", "subject": "net: socionext: remove set but not used variable 'pkts'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: ba2b232108d3 (\"net: netsec: add XDP support\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/ethernet/socionext"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Ilias Apalodimas <ilias.apalodimas@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in network driver removing unused variable"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by from Linaro, detailed commit message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from kernel.org, cross-company review"}}, "score_justification": "Compiler warning fix removing unused variable introduced by XDP support commit, with proper Fixes tag and cross-org review", "code_snippet": "@@ -634,15 +634,14 @@ static void netsec_set_rx_de(struct netsec_priv *priv,\n static bool netsec_clean_tx_dring(struct netsec_priv *priv)\n {\n \tstruct netsec_desc_ring *dring = &priv->desc_ring[NETSEC_RING_TX];\n-\tunsigned int pkts, bytes;\n \tstruct netsec_de *entry;\n \tint tail = dring->tail;\n+\tunsigned int bytes;\n \tint cnt = 0;\n \n \tif (dring->is_xdp)\n \t\tspin_lock(&dring->lock);\n \n-\tpkts = 0;\n \tbytes = 0;\n \tentry = dring->vaddr + DESC_SZ * tail;\n \n", "flags": ["FIXES_TAG_PRESENT"], "link": "https://lore.kernel.org/linux-kernel/cfe261c24e553d322ef3fc5ae96667767d80142a"}
{"commit_hash": "e4aa33ad595936391f7356f25c0c839011f14ead", "short_hash": "e4aa33ad5959", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-07-04T17:03:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:30:36-07:00", "subject": "net: remove unused parameter from skb_checksum_try_convert", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core", "net/ipv4", "net/ipv6"], "subsystem_tier": 2, "files_changed": 4, "insertions": 6, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 12, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 12, "details": "Small change across header and 3 networking files"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup removing unused parameter, no runtime effect"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic Signed-off-by chain, minimal explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Baidu author with netdev maintainer signoff"}}, "score_justification": "Parameter removal cleanup in networking stack, removing never-used 'check' parameter", "code_snippet": "@@ -3919,18 +3919,16 @@ static inline bool __skb_checksum_convert_check(struct sk_buff *skb)\n \treturn (skb->ip_summed == CHECKSUM_NONE && skb->csum_valid);\n }\n \n-static inline void __skb_checksum_convert(struct sk_buff *skb,\n-\t\t\t\t\t  __sum16 check, __wsum pseudo)\n+static inline void __skb_checksum_convert(struct sk_buff *skb, __wsum pseudo)\n {\n \tskb->csum = ~pseudo;\n \tskb->ip_summed = CHECKSUM_COMPLETE;\n }\n \n-#define skb_checksum_try_convert(skb, proto, check, compute_pseudo)\t\\\n+#define skb_checksum_try_convert(skb, proto, compute_pseudo)\t\\\n do {\t\t\t\t\t\t\t\t\t\\\n \tif (__skb_checksum_convert_check(skb))\t\t\t\t\\\n-\t\t__skb_checksum_convert(skb, check,\t\t\t\\\n-\t\t\t\t       compute_pseudo(skb, proto));\t\\\n+\t\t__skb_checksum_convert(skb, compute_pseudo(skb, proto)); \\\n } while (0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4aa33ad595936391f7356f25c0c839011f14ead"}
{"commit_hash": "892951524647d593d9f5e540a56fef4e52b95c03", "short_hash": "892951524647", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:28+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: set maximum length to resp_data_len for exceptional case", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 17, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in network driver (4 lines, 2 hunks)"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Memory corruption bug affecting Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation of root cause, multiple sign-offs"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, netdev maintainer commit, cross-company"}}, "score_justification": "Buffer overflow fix in mailbox response handling - caps resp_data_len to prevent out-of-bounds memcpy", "code_snippet": "@@ -29,6 +29,10 @@ static int hclge_gen_resp_to_vf(struct hclge_vport *vport,\n \t\t\t\"PF fail to gen resp to VF len %d exceeds max len %d\\n\",\n \t\t\tresp_data_len,\n \t\t\tHCLGE_MBX_MAX_RESP_DATA_SIZE);\n+\t\t/* If resp_data_len is too long, set the value to max length\n+\t\t * and return the msg to VF\n+\t\t */\n+\t\tresp_data_len = HCLGE_MBX_MAX_RESP_DATA_SIZE;\n \t}\n \n \thclge_cmd_setup_basic_desc(&desc, HCLGEVF_OPC_MBX_PF_TO_VF, false);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/892951524647d593d9f5e540a56fef4e52b95c03"}
{"commit_hash": "b9a8f88373c586e357c8c203b657407437040e40", "short_hash": "b9a8f88373c5", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:27+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: bitwise operator should use unsigned type", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 3, "insertions": 29, "deletions": 25, "hunks": 18, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 7, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 3, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 7, "details": "Medium: 3 files, 18 hunks, 54 lines in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix for specific driver, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Standard internal review, basic commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer committed, cross-org"}}, "score_justification": "Bitwise operator cleanup converting signed to unsigned types in HNS3 driver", "code_snippet": "@@ -2818,8 +2819,8 @@ static int hns3_handle_rx_bd(struct hns3_enet_ring *ring,\n \tstruct sk_buff *skb = ring->skb;\n \tstruct hns3_desc_cb *desc_cb;\n \tstruct hns3_desc *desc;\n+\tunsigned int length;\n \tu32 bd_base_info;\n-\tint length;\n \tint ret;\n \n \tdesc = &ring->desc[ring->next_to_clean];\ndiff --git a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\nindex a2b73d6aa2f3..848b866761df 100644\n--- a/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h\n+++ b/drivers/net/ethernet/hisilicon/hns3/hns3_enet.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9a8f88373c586e357c8c203b657407437040e40"}
{"commit_hash": "354d0fab649d47045517cf7cae03d653a4dcb3b8", "short_hash": "354d0fab649d", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:26+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: add default value for tc_size and tc_offset", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 31, "score_technical": 8, "score_impact": 13, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in NIC driver - local array initialization"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Bug fix preventing random values in hardware configuration"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic message, no testing evidence, single change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author + maintainer commit from different org"}}, "score_justification": "Bug fix: adds default initialization to prevent random array values in NIC driver", "code_snippet": "@@ -4092,11 +4092,11 @@ int hclge_rss_init_hw(struct hclge_dev *hdev)\n \tstruct hclge_vport *vport = hdev->vport;\n \tu8 *rss_indir = vport[0].rss_indirection_tbl;\n \tu16 rss_size = vport[0].alloc_rss_size;\n+\tu16 tc_offset[HCLGE_MAX_TC_NUM] = {0};\n+\tu16 tc_size[HCLGE_MAX_TC_NUM] = {0};\n \tu8 *key = vport[0].rss_hash_key;\n \tu8 hfunc = vport[0].rss_algo;\n-\tu16 tc_offset[HCLGE_MAX_TC_NUM];\n \tu16 tc_valid[HCLGE_MAX_TC_NUM];\n-\tu16 tc_size[HCLGE_MAX_TC_NUM];\n \tu16 roundup_size;\n \tunsigned int i;\n \tint ret;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/354d0fab649d47045517cf7cae03d653a4dcb3b8"}
{"commit_hash": "0bae5cf25d66156ae3eb9ca20a1ad9bc4aa35a6d", "short_hash": "0bae5cf25d66", "author_name": "Weihang Li", "author_email": "liweihang@hisilicon.com", "author_company": "HiSilicon", "author_date": "2019-07-04T22:04:25+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: check msg_data before memcpy in hclgevf_send_mbx_msg", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Weihang Li <liweihang@hisilicon.com> (HiSilicon)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 18, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 2-line change in NIC driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix for specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single SOB chain, clear explanation"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Different orgs accepted by net maintainer"}}, "score_justification": "NULL pointer check fixes potential crash in memcpy for Hisilicon NIC driver", "code_snippet": "@@ -102,7 +102,8 @@ int hclgevf_send_mbx_msg(struct hclgevf_dev *hdev, u16 code, u16 subcode,\n \t\t\t\t\t  ~HCLGE_MBX_NEED_RESP_BIT;\n \treq->msg[0] = code;\n \treq->msg[1] = subcode;\n-\tmemcpy(&req->msg[2], msg_data, msg_len);\n+\tif (msg_data)\n+\t\tmemcpy(&req->msg[2], msg_data, msg_len);\n \n \t/* synchronous send */\n \tif (need_resp) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0bae5cf25d66156ae3eb9ca20a1ad9bc4aa35a6d"}
{"commit_hash": "9e1511fb8091e3f5b23bb21f32e9394bedc6c34e", "short_hash": "9e1511fb8091", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: add all IMP return code", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3/hns3pf", "drivers/net/ethernet/hisilicon/hns3/hns3vf"], "subsystem_tier": 3, "files_changed": 4, "insertions": 85, "deletions": 18, "hunks": 12, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 15, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Functional enhancement improving error handling"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic author review only, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "Error code expansion improving driver error reporting granularity", "code_snippet": "@@ -188,12 +188,43 @@ static bool hclge_is_special_opcode(u16 opcode)\n \treturn false;\n }\n \n+static int hclge_cmd_convert_err_code(u16 desc_ret)\n+{\n+\tswitch (desc_ret) {\n+\tcase HCLGE_CMD_EXEC_SUCCESS:\n+\t\treturn 0;\n+\tcase HCLGE_CMD_NO_AUTH:\n+\t\treturn -EPERM;\n+\tcase HCLGE_CMD_NOT_SUPPORTED:\n+\t\treturn -EOPNOTSUPP;\n+\tcase HCLGE_CMD_QUEUE_FULL:\n+\t\treturn -EXFULL;\n+\tcase HCLGE_CMD_NEXT_ERR:\n+\t\treturn -ENOSR;\n+\tcase HCLGE_CMD_UNEXE_ERR:\n+\t\treturn -ENOTBLK;\n+\tcase HCLGE_CMD_PARA_ERR:", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9e1511fb8091e3f5b23bb21f32e9394bedc6c34e"}
{"commit_hash": "c09ba484563c17f90ec91b46322c31d3440acc42", "short_hash": "c09ba484563c", "author_name": "Peng Li", "author_email": "lipeng321@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: set default value for param \"type\" in hclgevf_bind_ring_to_vector", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 5-line change in network driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "Code optimization for Hisilicon hns3 driver users"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "2 reviewers, clear message but minimal detail"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org)"}}, "score_justification": "Micro-optimization moving assignment outside loop to reduce redundant operations", "code_snippet": "@@ -994,6 +994,8 @@ static int hclgevf_bind_ring_to_vector(struct hnae3_handle *handle, bool en,\n \tu8 type;\n \n \treq = (struct hclge_mbx_vf_to_pf_cmd *)desc.data;\n+\ttype = en ? HCLGE_MBX_MAP_RING_TO_VECTOR :\n+\t\tHCLGE_MBX_UNMAP_RING_TO_VECTOR;\n \n \tfor (node = ring_chain; node; node = node->next) {\n \t\tint idx_offset = HCLGE_MBX_RING_MAP_BASIC_MSG_NUM +", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c09ba484563c17f90ec91b46322c31d3440acc42"}
{"commit_hash": "49b1255603de5183c5e377200be3b3afe0dcdb86", "short_hash": "49b1255603de", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: fix port capbility updating issue", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 88d10bd6f730 (\"net: hns3: add support for multiple media type\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny 1-line fix in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for Hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Single Reviewed-by missing but has Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, netdev maintainer committed"}}, "score_justification": "Incorrect speed_type value prevented port capability updates in Hisilicon driver", "code_snippet": "@@ -2663,6 +2663,7 @@ static int hclge_get_sfp_info(struct hclge_dev *hdev, struct hclge_mac *mac)\n \t\tmac->speed_ability = le32_to_cpu(resp->speed_ability);\n \t\tmac->autoneg = resp->autoneg;\n \t\tmac->support_autoneg = resp->autoneg_ability;\n+\t\tmac->speed_type = QUERY_ACTIVE_SPEED;\n \t\tif (!resp->active_fec)\n \t\t\tmac->fec_mode = 0;\n \t\telse\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49b1255603de5183c5e377200be3b3afe0dcdb86"}
{"commit_hash": "fb89629f2ecfa0feb07f9981c1bd66a4b4407f44", "short_hash": "fb89629f2ecf", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:21+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: fix flow control configure issue for fibre port", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 11, "hunks": 6, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver (6 hunks, ~22 lines)"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix for fibre port flow control, affects specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Multiple S-o-b tags, clear explanation but no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged, no external report"}}, "score_justification": "Fixes incorrect flow control handling for fibre ports in Hisilicon driver", "code_snippet": "@@ -8211,11 +8212,13 @@ static int hclge_set_pauseparam(struct hnae3_handle *handle, u32 auto_neg,\n \tstruct phy_device *phydev = hdev->hw.mac.phydev;\n \tu32 fc_autoneg;\n \n-\tfc_autoneg = hclge_get_autoneg(handle);\n-\tif (auto_neg != fc_autoneg) {\n-\t\tdev_info(&hdev->pdev->dev,\n-\t\t\t \"To change autoneg please use: ethtool -s <dev> autoneg <on|off>\\n\");\n-\t\treturn -EOPNOTSUPP;\n+\tif (phydev) {\n+\t\tfc_autoneg = hclge_get_autoneg(handle);\n+\t\tif (auto_neg != fc_autoneg) {\n+\t\t\tdev_info(&hdev->pdev->dev,\n+\t\t\t\t \"To change autoneg please use: ethtool -s <dev> autoneg <on|off>\\n\");\n+\t\t\treturn -EOPNOTSUPP;\n+\t\t}\n \t}\n \n \tif (hdev->tm_info.fc_mode == HCLGE_FC_PFC) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fb89629f2ecfa0feb07f9981c1bd66a4b4407f44"}
{"commit_hash": "2d5066fc175ea77a733d84df9ef414b34f311641", "short_hash": "2d5066fc175e", "author_name": "Jian Shen", "author_email": "shenjian15@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T22:04:20+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-05T15:39:38-07:00", "subject": "net: hns3: enable broadcast promisc mode when initializing VF", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f01f5559cac8 (\"net: hns3: don't allow vf to enable promisc mode\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns3"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Jian Shen <shenjian15@huawei.com> (Huawei)", "Peng Li <lipeng321@huawei.com> (Huawei)", "Huazhong Tan <tanhuazhong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix for specific driver"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer"}}, "score_justification": "Regression fix for hns3 VF promisc mode handling across hardware revisions", "code_snippet": "@@ -2589,6 +2589,12 @@ static int hclgevf_reset_hdev(struct hclgevf_dev *hdev)\n \t\treturn ret;\n \t}\n \n+\tif (pdev->revision >= 0x21) {\n+\t\tret = hclgevf_set_promisc_mode(hdev, true);\n+\t\tif (ret)\n+\t\t\treturn ret;\n+\t}\n+\n \tdev_info(&hdev->pdev->dev, \"Reset done\\n\");\n \n \treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2d5066fc175ea77a733d84df9ef414b34f311641"}
{"commit_hash": "732146a3f1dc78ebb0d3c4b1f4dc6ea33cc2c58f", "short_hash": "732146a3f1dc", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T17:42:13+02:00", "committer_name": "Bartlomiej Zolnierkiewicz", "committer_email": "b.zolnierkie@samsung.com", "committer_company": "Samsung", "commit_date": "2019-07-05T17:42:13+02:00", "subject": "video: fbdev: imxfb: fix a typo in imxfb_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 739a6439c2bf (\"video: fbdev: imxfb: fix sparse warnings about using incorrect types\")", "cc_stable": false, "subsystem_prefix": "video", "subsystems_touched": ["drivers/video/fbdev"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com> (Samsung)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 6, "score_impact": 15, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in fbdev driver (Tier 4)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix with Fixes tag, affects specific driver users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit message with Fixes tag, 2 Cc tags, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @samsung, cross-org review"}}, "score_justification": "Logic bug fix in fbdev driver checking wrong variable after DMA allocation", "code_snippet": "@@ -976,7 +976,7 @@ static int imxfb_probe(struct platform_device *pdev)\n \tfbi->map_size = PAGE_ALIGN(info->fix.smem_len);\n \tinfo->screen_buffer = dma_alloc_wc(&pdev->dev, fbi->map_size,\n \t\t\t\t\t   &fbi->map_dma, GFP_KERNEL);\n-\tif (!info->screen_base) {\n+\tif (!info->screen_buffer) {\n \t\tdev_err(&pdev->dev, \"Failed to allocate video RAM: %d\\n\", ret);\n \t\tret = -ENOMEM;\n \t\tgoto failed_map;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/732146a3f1dc78ebb0d3c4b1f4dc6ea33cc2c58f"}
{"commit_hash": "b90bab3b1b1b6c56dd6f9d5c960932239f36f6d3", "short_hash": "b90bab3b1b1b", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T08:16:37Z", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-05T17:58:51+01:00", "subject": "ASoC: SOF: debug: fix possible memory leak in sof_dfsentry_write()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 091c12e1f50c (\"ASoC: SOF: debug: add new debugfs entries for IPC flood test\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc/sof"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": ["Ranjani Sridharan <ranjani.sridharan@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line change in sound subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with Fixes tag, affects SOF audio users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by with clear Fixes tag and explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Intel reviewer, kernel.org maintainer"}}, "score_justification": "Memory leak fix in SOF debugfs with proper error path cleanup", "code_snippet": "@@ -162,7 +162,7 @@ static ssize_t sof_dfsentry_write(struct file *file, const char __user *buffer,\n \telse\n \t\tret = kstrtoul(string, 0, &ipc_count);\n \tif (ret < 0)\n-\t\treturn ret;\n+\t\tgoto out;\n \n \t/* limit max duration/ipc count for flood test */\n \tif (flood_duration_test) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b90bab3b1b1b6c56dd6f9d5c960932239f36f6d3"}
{"commit_hash": "548f7fb22234c6fe13c64459059fbd42058953c4", "short_hash": "548f7fb22234", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-05T23:23:42+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-05T21:54:25+02:00", "subject": "KVM: LAPIC: Retry tune per-vCPU timer_advance_ns if adaptive tuning goes insane", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 16, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Bug fix affecting KVM users with timer issues"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review chain, minimal commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Tencent/Red Hat), maintainer commit"}}, "score_justification": "Adaptive timer tuning bug fix in KVM LAPIC, retry mechanism when tuning exceeds threshold", "code_snippet": "@@ -1546,8 +1547,8 @@ static inline void adjust_lapic_timer_advance(struct kvm_vcpu *vcpu,\n \tif (abs(advance_expire_delta) < LAPIC_TIMER_ADVANCE_ADJUST_DONE)\n \t\tapic->lapic_timer.timer_advance_adjust_done = true;\n \tif (unlikely(timer_advance_ns > 5000)) {\n-\t\ttimer_advance_ns = 0;\n-\t\tapic->lapic_timer.timer_advance_adjust_done = true;\n+\t\ttimer_advance_ns = LAPIC_TIMER_ADVANCE_ADJUST_INIT;\n+\t\tapic->lapic_timer.timer_advance_adjust_done = false;\n \t}\n \tapic->lapic_timer.timer_advance_ns = timer_advance_ns;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/548f7fb22234c6fe13c64459059fbd42058953c4"}
{"commit_hash": "3a1d24ca9573fbc74a3d32c972c333b161e0e9dc", "short_hash": "3a1d24ca9573", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-07-06T04:41:12Z", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-07-06T10:40:20+02:00", "subject": "irq/irqdomain: Fix comment typo", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "irq", "subsystems_touched": ["kernel/irq"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal typo fix in single file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact from typo fix"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Simple fix with minimal review"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Cross-org commit from Huawei to Linutronix"}}, "score_justification": "Trivial typo fix in comment, cross-org commit with proper review chain", "code_snippet": "@@ -123,7 +123,7 @@ EXPORT_SYMBOL_GPL(irq_domain_free_fwnode);\n  * @ops: domain callbacks\n  * @host_data: Controller private data pointer\n  *\n- * Allocates and initialize and irq_domain structure.\n+ * Allocates and initializes an irq_domain structure.\n  * Returns pointer to IRQ domain, or NULL on failure.\n  */\n struct irq_domain *__irq_domain_add(struct fwnode_handle *fwnode, int size,\n", "flags": ["TRIVIAL"], "link": "https://lore.kernel.org/linux-kernel/3a1d24ca9573fbc74a3d32c972c333b161e0e9dc"}
{"commit_hash": "055825614c6b4da8c931fe1dea2f2920553f7a67", "short_hash": "055825614c6b", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T09:04:17+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T13:00:04+02:00", "subject": "Bluetooth: btmtkuart: add an implementation for clock osc property", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 4, "files_changed": 1, "insertions": 18, "deletions": 3, "hunks": 10, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 6, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change (21 lines, 10 hunks) in tier-4 Bluetooth driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware support feature affecting specific driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Single logical change with good message explaining board requirement"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author committed by Holtmann (different orgs)"}}, "score_justification": "Hardware support change adding external oscillator control for MediaTek Bluetooth UART driver", "code_snippet": "@@ -912,6 +913,12 @@ static int btmtkuart_parse_dt(struct serdev_device *serdev)\n \t\t\treturn err;\n \t\t}\n \n+\t\tbdev->osc = devm_clk_get_optional(&serdev->dev, \"osc\");\n+\t\tif (IS_ERR(bdev->osc)) {\n+\t\t\terr = PTR_ERR(bdev->osc);\n+\t\t\treturn err;\n+\t\t}\n+\n \t\tbdev->boot = devm_gpiod_get_optional(&serdev->dev, \"boot\",\n \t\t\t\t\t\t     GPIOD_OUT_LOW);\n \t\tif (IS_ERR(bdev->boot)) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/055825614c6b4da8c931fe1dea2f2920553f7a67"}
{"commit_hash": "a3cb6d602a7a948f0b4ff77b6a087f9c25038d52", "short_hash": "a3cb6d602a7a", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T09:04:16+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T13:00:04+02:00", "subject": "Bluetooth: btmtkuart: add an implementation for boot-gpios property", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 25, "deletions": 9, "hunks": 14, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change adding boot GPIO support to Bluetooth driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "Hardware support enhancement for specific MediaTek platform"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with platform context explanation"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Cross-company maintainer acceptance from Marcel Holtmann"}}, "score_justification": "Hardware support enhancement adding boot-gpios property for MediaTek MT7621 platform", "code_snippet": "@@ -996,8 +1006,14 @@ static int btmtkuart_probe(struct serdev_device *serdev)\n \tset_bit(HCI_QUIRK_NON_PERSISTENT_SETUP, &hdev->quirks);\n \n \tif (btmtkuart_is_standalone(bdev)) {\n-\t\t/* Switch to the specific pin state for the booting requires */\n-\t\tpinctrl_select_state(bdev->pinctrl, bdev->pins_boot);\n+\t\tif (bdev->boot) {\n+\t\t\tgpiod_set_value_cansleep(bdev->boot, 1);\n+\t\t} else {\n+\t\t\t/* Switch to the specific pin state for the booting\n+\t\t\t * requires.\n+\t\t\t */\n+\t\t\tpinctrl_select_state(bdev->pinctrl, bdev->pins_boot);\n+\t\t}\n \n \t\t/* Power on */\n \t\terr = regulator_enable(bdev->vcc);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a3cb6d602a7a948f0b4ff77b6a087f9c25038d52"}
{"commit_hash": "14e3ed84d77e78fbf386006d3e5a0c20150681f5", "short_hash": "14e3ed84d77e", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T09:04:15+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T13:00:04+02:00", "subject": "dt-bindings: net: bluetooth: add clock property to UART-based device", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 4, "score_impact": 9, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Minimal change to DT binding documentation"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "Clock property addition for hardware support"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with clear message structure"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "DT binding documentation adding clock property for external oscillator control on MediaTek Bluetooth", "code_snippet": "@@ -73,6 +73,10 @@ Optional properties:\n - reset-gpios:\tGPIO used to reset the device whose initial state keeps low,\n \t\tif the GPIO is missing, then board-level design should be\n \t\tguaranteed.\n+- clocks:\tShould be the clock specifiers corresponding to the entry in\n+\t\tclock-names property. If the clock is missing, then board-level\n+\t\tdesign should be guaranteed.\n+- clock-names:\tShould contain \"osc\" entry for the external oscillator.\n - current-speed:  Current baud rate of the device whose defaults to 921600\n \n Example:\n", "flags": ["HAS_TYPO"], "link": "https://lore.kernel.org/linux-kernel/14e3ed84d77e78fbf386006d3e5a0c20150681f5"}
{"commit_hash": "1c576f385a440cd8790516d6227235b4161c6668", "short_hash": "1c576f385a44", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T09:04:14+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T13:00:04+02:00", "subject": "dt-bindings: net: bluetooth: add boot-gpios property to UART-based device", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 13, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 4, "score_impact": 9, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small binding doc change in DT subsystem"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "Enables Bluetooth support on MT7621 platform"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear explanation of two platform variants"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Holtmann maintainer"}}, "score_justification": "DT binding extension adding boot-gpios property for MediaTek Bluetooth on platforms without integrated pinctrl/GPIO", "code_snippet": "@@ -50,11 +50,24 @@ Required properties:\n \t\t  \"mediatek,mt7663u-bluetooth\": for MT7663U device\n \t\t  \"mediatek,mt7668u-bluetooth\": for MT7668U device\n - vcc-supply:\tMain voltage regulator\n+\n+If the pin controller on the platform can support both pinmux and GPIO\n+control such as the most of MediaTek platform. Please use below properties.\n+\n - pinctrl-names: Should be \"default\", \"runtime\"\n - pinctrl-0: Should contain UART RXD low when the device is powered up to\n \t     enter proper bootstrap mode.\n - pinctrl-1: Should contain UART mode pin ctrl\n \n+Else, the pin controller on the platform only can support pinmux control and\n+the GPIO control still has to rely on the dedicated GPIO controller such as\n+a legacy MediaTek SoC, MT7621. Please use the below properties.\n+\n+- boot-gpios:\tGPIO same to the pin as UART RXD and used to keep LOW when\n+\t\tthe device is powered up to enter proper bootstrap mode when\n+- pinctrl-names: Should be \"default\"", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1c576f385a440cd8790516d6227235b4161c6668"}
{"commit_hash": "cc6b9dfb2c5769afeb3335048173c730bdf8dbe1", "short_hash": "cc6b9dfb2c57", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-29T02:44:21Z", "committer_name": "Wolfram Sang", "committer_email": "wsa@the-dreams.de", "committer_company": "The-dreams", "commit_date": "2019-07-06T17:04:32+02:00", "subject": "i2c: mt7621: Fix platform_no_drv_owner.cocci warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "i2c", "subsystems_touched": ["drivers/i2c/busses"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Wolfram Sang <wsa@the-dreams.de> (The-dreams)"], "reviewed_by": ["Stefan Roese <sr@denx.de> (Denx)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single line deletion in driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Reviewed-by, generated by coccinelle"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Denx reviewer, maintainer commit"}}, "score_justification": "Coccinelle-generated warning fix removing redundant .owner field", "code_snippet": "@@ -343,7 +343,6 @@ static struct platform_driver mtk_i2c_driver = {\n \t.probe\t\t= mtk_i2c_probe,\n \t.remove\t\t= mtk_i2c_remove,\n \t.driver\t\t= {\n-\t\t.owner\t= THIS_MODULE,\n \t\t.name\t= \"i2c-mt7621\",\n \t\t.of_match_table = i2c_mtk_dt_ids,\n \t},\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/cc6b9dfb2c5769afeb3335048173c730bdf8dbe1"}
{"commit_hash": "9ce67c3235be71e8cf922a9b3d0b7359ed3f4ce5", "short_hash": "9ce67c3235be", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T08:02:49+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T21:44:25+02:00", "subject": "Bluetooth: btusb: Add protocol support for MediaTek MT7663U USB devices", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small driver firmware addition for new device"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "Hardware support for new MediaTek Bluetooth device"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good documentation with device info but no testing tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author, Holtmann maintainer, different orgs"}}, "score_justification": "New hardware support for MediaTek MT7663U Bluetooth device, adds firmware loading case.", "code_snippet": "@@ -2891,6 +2892,9 @@ static int btusb_mtk_setup(struct hci_dev *hdev)\n \t}\n \n \tswitch (dev_id) {\n+\tcase 0x7663:\n+\t\tfwname = FIRMWARE_MT7663;\n+\t\tbreak;\n \tcase 0x7668:\n \t\tfwname = FIRMWARE_MT7668;\n \t\tbreak;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9ce67c3235be71e8cf922a9b3d0b7359ed3f4ce5"}
{"commit_hash": "a1c49c434e15050b5dafe3b6f5cc732d4f02d657", "short_hash": "a1c49c434e15", "author_name": "Sean Wang", "author_email": "sean.wang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-02T08:02:48+08:00", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-07-06T21:44:25+02:00", "subject": "Bluetooth: btusb: Add protocol support for MediaTek MT7668U USB devices", "primary_category": "FEAT-HW", "secondary_categories": ["FEAT-DRIVER"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 2, "insertions": 587, "deletions": 0, "hunks": 20, "review_chain": {"signed_off_by": ["Sean Wang <sean.wang@mediatek.com> (MediaTek)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 14, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 14, "details": "Large addition (587 lines) for new MediaTek Bluetooth protocol support"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for MediaTek MT7668U Bluetooth devices"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with hardware details, but only author/maintainer tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Mediatek author with different maintainer committer"}}, "score_justification": "New MediaTek MT7668U Bluetooth driver support with WMT protocol and firmware download", "code_snippet": "@@ -52,6 +52,17 @@ config BT_HCIBTUSB_BCM\n \n \t  Say Y here to compile support for Broadcom protocol.\n \n+config BT_HCIBTUSB_MTK\n+\tbool \"MediaTek protocol support\"\n+\tdepends on BT_HCIBTUSB\n+\tdefault n\n+\thelp\n+\t  The MediaTek protocol support enables firmware download\n+\t  support and chip initialization for MediaTek Bluetooth\n+\t  USB controllers.\n+\n+\t  Say Y here to compile support for MediaTek protocol.\n+\n config BT_HCIBTUSB_RTL\n \tbool \"Realtek protocol support\"\n \tdepends on BT_HCIBTUSB\ndiff --git a/drivers/bluetooth/btusb.c b/drivers/bluetooth/btusb.c\nindex c550a8e7c336..0c58fd1a5b0f 100644", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1c49c434e15050b5dafe3b6f5cc732d4f02d657"}
{"commit_hash": "e0222d18d628ce96f0def790ea26b6b7b3c18f78", "short_hash": "e0222d18d628", "author_name": "Lijun Ou", "author_email": "oulijun@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:49+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-07T09:19:30-03:00", "subject": "RDMA/hns: Bugfix for calculating qp buffer size", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: b28ca7cceff8 (\"RDMA/hns: Limit extend sq sge num\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Lijun Ou <oulijun@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver-specific code"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with specific driver impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer"}}, "score_justification": "Fixes incorrect QP buffer size calculation in HiSilicon RDMA driver when ex_sge_num is 0", "code_snippet": "@@ -387,8 +387,8 @@ static int hns_roce_set_user_sq_size(struct hns_roce_dev *hr_dev,\n \t\t\t\t\t     hr_qp->sq.wqe_shift), PAGE_SIZE);\n \t} else {\n \t\tpage_size = 1 << (hr_dev->caps.mtt_buf_pg_sz + PAGE_SHIFT);\n-\t\thr_qp->sge.sge_cnt =\n-\t\t       max(page_size / (1 << hr_qp->sge.sge_shift), ex_sge_num);\n+\t\thr_qp->sge.sge_cnt = ex_sge_num ?\n+\t\t   max(page_size / (1 << hr_qp->sge.sge_shift), ex_sge_num) : 0;\n \t\thr_qp->buff_size = HNS_ROCE_ALOGN_UP((hr_qp->rq.wqe_cnt <<\n \t\t\t\t\t     hr_qp->rq.wqe_shift), page_size) +\n \t\t\t\t   HNS_ROCE_ALOGN_UP((hr_qp->sge.sge_cnt <<\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0222d18d628ce96f0def790ea26b6b7b3c18f78"}
{"commit_hash": "617cf24f9f9efcd5e2f0258e7da10b8a2447662b", "short_hash": "617cf24f9f9e", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:52+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-07T09:19:38-03:00", "subject": "RDMA/hns: Clean up unnecessary variable initialization", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 4, "insertions": 5, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 8, "score_impact": 6, "score_quality": 4, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change across 4 files in important driver subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Cleanup with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 2, "subtotal": 4, "details": "Basic commit with maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer involvement"}}, "score_justification": "Cleanup removing unnecessary variable initializations in RDMA driver", "code_snippet": "@@ -161,7 +161,7 @@ static int hns_roce_cmd_mbox_wait(struct hns_roce_dev *hr_dev, u64 in_param,\n \t\t\t\t  u64 out_param, unsigned long in_modifier,\n \t\t\t\t  u8 op_modifier, u16 op, unsigned long timeout)\n {\n-\tint ret = 0;\n+\tint ret;\n \n \tdown(&hr_dev->cmd.event_sem);\n \tret = __hns_roce_cmd_mbox_wait(hr_dev, in_param, out_param,\ndiff --git a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\nindex 7676ea07fdec..b76e3beeafb8 100644\n--- a/drivers/infiniband/hw/hns/hns_roce_hw_v2.c\n+++ b/drivers/infiniband/hw/hns/hns_roce_hw_v2.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/617cf24f9f9efcd5e2f0258e7da10b8a2447662b"}
{"commit_hash": "ec5bc2cc69b4fc494e04d10fc5226f6f9cf67c56", "short_hash": "ec5bc2cc69b4", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:51+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-07T09:19:38-03:00", "subject": "RDMA/hns: Fixs hw access invalid dma memory error", "primary_category": "BUG-CORRUPT", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9a4435375cd1 (\"IB/hns: Add driver files for hns RoCE driver\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 20, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny surgical fix in infiniband driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Data corruption fix with SMMU errors"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear context with Fixes tag and symptoms"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei author, Mellanox maintainer"}}, "score_justification": "SMMU DMA access corruption fix in Hisilicon RDMA driver", "code_snippet": "@@ -254,7 +254,6 @@ void hns_roce_qp_free(struct hns_roce_dev *hr_dev, struct hns_roce_qp *hr_qp)\n \t\t\thns_roce_table_put(hr_dev, &qp_table->trrl_table,\n \t\t\t\t\t   hr_qp->qpn);\n \t\thns_roce_table_put(hr_dev, &qp_table->irrl_table, hr_qp->qpn);\n-\t\thns_roce_table_put(hr_dev, &qp_table->qp_table, hr_qp->qpn);\n \t}\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ec5bc2cc69b4fc494e04d10fc5226f6f9cf67c56"}
{"commit_hash": "fd7dd8bc8784bc96213781f1bfb454ae1c13e79f", "short_hash": "fd7dd8bc8784", "author_name": "Lang Cheng", "author_email": "chenglang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-24T19:47:50+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-07T09:19:38-03:00", "subject": "RDMA/hns: Use %pK format pointer print", "primary_category": "SEC-HARDEN", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Lang Cheng <chenglang@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 8, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in important driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Security hardening affecting specific driver users"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review with minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company acceptance by maintainer"}}, "score_justification": "Security hardening to prevent kernel address leak in debug output", "code_snippet": "@@ -3903,7 +3903,8 @@ static int hns_roce_v1_aeq_int(struct hns_roce_dev *hr_dev,\n \t\t */\n \t\tdma_rmb();\n \n-\t\tdev_dbg(dev, \"aeqe = %p, aeqe->asyn.event_type = 0x%lx\\n\", aeqe,\n+\t\tdev_dbg(dev, \"aeqe = %pK, aeqe->asyn.event_type = 0x%lx\\n\",\n+\t\t\taeqe,\n \t\t\troce_get_field(aeqe->asyn,\n \t\t\t\t       HNS_ROCE_AEQE_U32_4_EVENT_TYPE_M,\n \t\t\t\t       HNS_ROCE_AEQE_U32_4_EVENT_TYPE_S));\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/fd7dd8bc8784bc96213781f1bfb454ae1c13e79f"}
{"commit_hash": "9176ab1b848059a0cd9caf39f0cebaa1b7ec5ec2", "short_hash": "9176ab1b8480", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-07-07T08:51:41+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-07-07T12:05:40+02:00", "subject": "time: Validate user input in compat_settimeofday()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "time", "subsystems_touched": ["kernel/time"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 22, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line fix in critical kernel/time subsystem"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 8, "novelty": 1, "subtotal": 22, "details": "Integer overflow vulnerability affecting all users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation of overflow bug with Signed-off tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Integer overflow in compat syscall allows bypassing input validation", "code_snippet": "@@ -251,6 +251,10 @@ COMPAT_SYSCALL_DEFINE2(settimeofday, struct old_timeval32 __user *, tv,\n \tif (tv) {\n \t\tif (compat_get_timeval(&user_tv, tv))\n \t\t\treturn -EFAULT;\n+\n+\t\tif (!timeval_valid(&user_tv))\n+\t\t\treturn -EINVAL;\n+\n \t\tnew_ts.tv_sec = user_tv.tv_sec;\n \t\tnew_ts.tv_nsec = user_tv.tv_usec * NSEC_PER_USEC;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9176ab1b848059a0cd9caf39f0cebaa1b7ec5ec2"}
{"commit_hash": "877cb240f6a000078aabcd57f8ef7765d9fdf134", "short_hash": "877cb240f6a0", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T01:16:42Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-07T19:25:36-07:00", "subject": "gve: Fix error return code in gve_alloc_qpls()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f5cedc84a30d (\"gve: Add transmit and receive support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/google/gve", "subsystems_touched": ["drivers/net/ethernet/google/gve"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Error handling fix for GVE driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit with Fixes tag but no external review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer merged"}}, "score_justification": "Error path fix returning 0 instead of -ENOMEM in GVE driver", "code_snippet": "@@ -625,8 +625,10 @@ static int gve_alloc_qpls(struct gve_priv *priv)\n \t\t\t\t     sizeof(unsigned long) * BITS_PER_BYTE;\n \tpriv->qpl_cfg.qpl_id_map = kvzalloc(BITS_TO_LONGS(num_qpls) *\n \t\t\t\t\t    sizeof(unsigned long), GFP_KERNEL);\n-\tif (!priv->qpl_cfg.qpl_id_map)\n+\tif (!priv->qpl_cfg.qpl_id_map) {\n+\t\terr = -ENOMEM;\n \t\tgoto free_qpls;\n+\t}\n \n \treturn 0;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/877cb240f6a000078aabcd57f8ef7765d9fdf134"}
{"commit_hash": "61a582be1a668a0c1407a46f779965bfeff88784", "short_hash": "61a582be1a66", "author_name": "Xue Chaojing", "author_email": "xuechaojing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T02:40:28Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-07T22:15:12-07:00", "subject": "hinic: add fw version query", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/huawei/hinic"], "subsystem_tier": 3, "files_changed": 4, "insertions": 54, "deletions": 0, "hunks": 10, "review_chain": {"signed_off_by": ["Xue Chaojing <xuechaojing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 10, "score_impact": 14, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 14, "details": "Functional enhancement adding firmware query visibility"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review chain with adequate commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-company commit by maintainer"}}, "score_justification": "New firmware version query function for Huawei hinic driver via ethtool", "code_snippet": "@@ -117,11 +117,19 @@ static void hinic_get_drvinfo(struct net_device *netdev,\n \t\t\t      struct ethtool_drvinfo *info)\n {\n \tstruct hinic_dev *nic_dev = netdev_priv(netdev);\n+\tu8 mgmt_ver[HINIC_MGMT_VERSION_MAX_LEN] = {0};\n \tstruct hinic_hwdev *hwdev = nic_dev->hwdev;\n \tstruct hinic_hwif *hwif = hwdev->hwif;\n+\tint err;\n \n \tstrlcpy(info->driver, HINIC_DRV_NAME, sizeof(info->driver));\n \tstrlcpy(info->bus_info, pci_name(hwif->pdev), sizeof(info->bus_info));\n+\n+\terr = hinic_get_mgmt_version(nic_dev, mgmt_ver);\n+\tif (err)\n+\t\treturn;\n+\n+\tsnprintf(info->fw_version, sizeof(info->fw_version), \"%s\", mgmt_ver);\n }\n \n static void hinic_get_ringparam(struct net_device *netdev,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/61a582be1a668a0c1407a46f779965bfeff88784"}
{"commit_hash": "06f2fca7ff51d87c82fc911759373be5e1d0f7b6", "short_hash": "06f2fca7ff51", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-05T22:24:25+08:00", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-07-07T22:37:42-05:00", "subject": "fs: cifs: Drop unlikely before IS_ERR(_OR_NULL)", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "fs/cifs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": ["Paulo Alcantara <palcantara@suse.de> (Suse)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 7, "score_impact": 10, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line change in CIFS filesystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification with minor user impact"}, "quality": {"review_chain": 4, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good review chain, clear rationale"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Redundant unlikely() removal from IS_ERR() wrapper in CIFS", "code_snippet": "@@ -492,7 +492,7 @@ static struct dfs_cache_entry *__find_cache_entry(unsigned int hash,\n #ifdef CONFIG_CIFS_DEBUG2\n \t\t\tchar *name = get_tgt_name(ce);\n \n-\t\t\tif (unlikely(IS_ERR(name))) {\n+\t\t\tif (IS_ERR(name)) {\n \t\t\t\trcu_read_unlock();\n \t\t\t\treturn ERR_CAST(name);\n \t\t\t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/06f2fca7ff51d87c82fc911759373be5e1d0f7b6"}
{"commit_hash": "d81f09748dd705c4480c804146e5ee48a13f0c74", "short_hash": "d81f09748dd7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-01T03:31:10Z", "committer_name": "Steve French", "committer_email": "stfrench@microsoft.com", "committer_company": "Microsoft", "commit_date": "2019-07-07T22:37:42-05:00", "subject": "cifs: Use kmemdup in SMB2_ioctl_init()", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "cifs", "subsystems_touched": ["fs/cifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Steve French <stfrench@microsoft.com> (Microsoft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 11, "score_quality": 6, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "API migration affecting CIFS filesystem users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with minimal commit message"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Cross-org (Huawei/Microsoft) with maintainer signoff"}}, "score_justification": "API migration from kmalloc+memcpy to kmemdup in CIFS", "code_snippet": "@@ -2550,12 +2550,11 @@ SMB2_ioctl_init(struct cifs_tcon *tcon, struct smb_rqst *rqst,\n \t\t * indatalen is usually small at a couple of bytes max, so\n \t\t * just allocate through generic pool\n \t\t */\n-\t\tin_data_buf = kmalloc(indatalen, GFP_NOFS);\n+\t\tin_data_buf = kmemdup(in_data, indatalen, GFP_NOFS);\n \t\tif (!in_data_buf) {\n \t\t\tcifs_small_buf_release(req);\n \t\t\treturn -ENOMEM;\n \t\t}\n-\t\tmemcpy(in_data_buf, in_data, indatalen);\n \t}\n \n \treq->CtlCode = cpu_to_le32(opcode);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d81f09748dd705c4480c804146e5ee48a13f0c74"}
{"commit_hash": "31d166642c7c601c65eccf0ff2e0afe9a0538be2", "short_hash": "31d166642c7c", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-05T08:26:25Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-08T15:27:33-07:00", "subject": "nfp: tls: fix error return code in nfp_net_tls_add()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 1f35a56cf586 (\"nfp: tls: add/delete TLS TX connections\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/netronome/nfp", "subsystems_touched": ["drivers/net/ethernet/netronome/nfp/crypto"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal 1-line fix in networking driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Error handling fix with Fixes tag, affects driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good review chain with clear explanation and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from netronome acked"}}, "score_justification": "Error code fix in nfp driver with proper review chain and Fixes tag", "code_snippet": "@@ -344,6 +344,7 @@ nfp_net_tls_add(struct net_device *netdev, struct sock *sk,\n \n \tif (!reply->handle[0] && !reply->handle[1]) {\n \t\tnn_dp_warn(&nn->dp, \"FW returned NULL handle\\n\");\n+\t\terr = -EINVAL;\n \t\tgoto err_fw_remove;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/31d166642c7c601c65eccf0ff2e0afe9a0538be2"}
{"commit_hash": "ef86ea982bb5a31cda1f2989b6e477bb53a1031b", "short_hash": "ef86ea982bb5", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T11:38:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-08T16:28:32-07:00", "subject": "net: axienet: fix a potential double free in axienet_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 28ef9ebdb64c (\"net: axienet: make use of axistream-connected attribute optional\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/xilinx"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Robert Hancock <hancock@sedsystems.ca> (Sedsystems)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Single-line deletion in network driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Fixes double-free affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Has Fixes: and Reviewed-by tags with clear explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "ZTE author, maintainer committer with review"}}, "score_justification": "Double-free fix in Xilinx axienet driver with clear commit message", "code_snippet": "@@ -1802,7 +1802,6 @@ static int axienet_probe(struct platform_device *pdev)\n \tif (IS_ERR(lp->dma_regs)) {\n \t\tdev_err(&pdev->dev, \"could not map DMA regs\\n\");\n \t\tret = PTR_ERR(lp->dma_regs);\n-\t\tof_node_put(np);\n \t\tgoto free_netdev;\n \t}\n \tif ((lp->rx_irq <= 0) || (lp->tx_irq <= 0)) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ef86ea982bb5a31cda1f2989b6e477bb53a1031b"}
{"commit_hash": "faf5577f2498cea23011b5c785ef853ded22700b", "short_hash": "faf5577f2498", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T12:23:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-08T16:33:02-07:00", "subject": "net: pasemi: fix an use-after-free in pasemi_mac_phy_init()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE", "BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 1dd2d06c0459 (\"net: Rework pasemi_mac driver to use of_mdio infrastructure\")", "cc_stable": true, "subsystem_prefix": "drivers/net/ethernet/pasemi", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 21, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-line fix in ethernet driver"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 21, "details": "Use-after-free fix with stable backport"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag and Cc list, no Tested-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, David Miller maintainer merge"}}, "score_justification": "Use-after-free fix in pasemi ethernet driver with proper ordering", "code_snippet": "@@ -1042,7 +1042,6 @@ static int pasemi_mac_phy_init(struct net_device *dev)\n \n \tdn = pci_device_to_OF_node(mac->pdev);\n \tphy_dn = of_parse_phandle(dn, \"phy-handle\", 0);\n-\tof_node_put(phy_dn);\n \n \tmac->link = 0;\n \tmac->speed = 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/faf5577f2498cea23011b5c785ef853ded22700b"}
{"commit_hash": "6705fea0c799a4efb9a9ce2968a2f7a570e33dc2", "short_hash": "6705fea0c799", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-03T16:26:30+08:00", "committer_name": "Daniel Borkmann", "committer_email": "daniel@iogearbox.net", "committer_company": "Iogearbox", "commit_date": "2019-07-08T17:17:00+02:00", "subject": "bpf: cgroup: Fix build error without CONFIG_NET", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 0d01da6afc54 (\"bpf: implement getsockopt and setsockopt hooks\")", "cc_stable": false, "subsystem_prefix": "bpf", "subsystems_touched": ["kernel/bpf"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Daniel Borkmann <daniel@iogearbox.net> (Iogearbox)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Yonghong Song <yhs@fb.com> (Fb)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 10, "score_impact": 12, "score_quality": 12, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line ifdef guard in critical BPF subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 0, "subtotal": 12, "details": "Build fix affecting BPF cgroup users with specific configs"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with fixes tag, build error details, reporter credit"}, "community": {"cross_org": 3, "maintainer": 2, "response": 2, "subtotal": 7, "details": "Huawei author, Facebook reviewer, Iogearbox maintainer"}}, "score_justification": "Build configuration fix for BPF cgroup with proper CONFIG_NET guards", "code_snippet": "@@ -939,6 +939,7 @@ int __cgroup_bpf_run_filter_sysctl(struct ctl_table_header *head,\n }\n EXPORT_SYMBOL(__cgroup_bpf_run_filter_sysctl);\n \n+#ifdef CONFIG_NET\n static bool __cgroup_bpf_prog_array_is_empty(struct cgroup *cgrp,\n \t\t\t\t\t     enum bpf_attach_type attach_type)\n {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6705fea0c799a4efb9a9ce2968a2f7a570e33dc2"}
{"commit_hash": "d5cf9473a3f3b2bdd09c4a70ac9da037cdfc1f47", "short_hash": "d5cf9473a3f3", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2018-08-06T10:49:06+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-07-08T19:43:38+02:00", "subject": "ubifs: Simplify redundant code", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": ["Jiang Biao <jiang.biao2@zte.com.cn> (ZTE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 11, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 0, "subtotal": 11, "details": "Code simplification in UBIFS filesystem"}, "quality": {"review_chain": 3, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Reviewed-by tag, minimal message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different orgs"}}, "score_justification": "Code simplification removing redundant ALIGN calls in UBIFS", "code_snippet": "@@ -1296,8 +1296,7 @@ static int mount_ubifs(struct ubifs_info *c)\n \tif (err)\n \t\tgoto out_free;\n \n-\tsz = ALIGN(c->max_idx_node_sz, c->min_io_size);\n-\tsz = ALIGN(sz + c->max_idx_node_sz, c->min_io_size);\n+\tsz = ALIGN(c->max_idx_node_sz, c->min_io_size) * 2;\n \tc->cbuf = kmalloc(sz, GFP_NOFS);\n \tif (!c->cbuf) {\n \t\terr = -ENOMEM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d5cf9473a3f3b2bdd09c4a70ac9da037cdfc1f47"}
{"commit_hash": "7d8c811bf9ed513a586b18a28b788dd10fbe1128", "short_hash": "7d8c811bf9ed", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2018-08-20T11:54:30+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-07-08T19:43:43+02:00", "subject": "ubifs: Fix typo of output in get_cs_sqnum", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": ["Jiang Biao <jiang.biao2@zte.com.cn> (ZTE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal change: 1 line in 1 file"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "Typo fix has no runtime impact"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic tags, minimal review needed"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Different maintainer domain"}}, "score_justification": "Trivial typo fix in error message string (2 char change)", "code_snippet": "@@ -818,7 +818,7 @@ static int get_cs_sqnum(struct ubifs_info *c, int lnum, int offs,\n \t\tgoto out_err;\n \t}\n \tif (cs_node->ch.node_type != UBIFS_CS_NODE) {\n-\t\tubifs_err(c, \"Node a CS node, type is %d\", cs_node->ch.node_type);\n+\t\tubifs_err(c, \"Not a CS node, type is %d\", cs_node->ch.node_type);\n \t\tgoto out_err;\n \t}\n \tif (le64_to_cpu(cs_node->cmt_no) != c->cmt_no) {\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7d8c811bf9ed513a586b18a28b788dd10fbe1128"}
{"commit_hash": "8ba0a2ab84b23b541a5d2ef25d759c94880e7457", "short_hash": "8ba0a2ab84b2", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2018-08-24T09:15:45+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-07-08T19:43:51+02:00", "subject": "ubifs: remove unnecessary check in ubifs_log_start_commit", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": ["Jiang Biao <jiang.biao2@zte.com.cn> (ZTE)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 11, "score_quality": 10, "score_community": 3, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in UBIFS filesystem code"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "Code simplification affecting UBIFS users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Reviewed-by from same company, detailed explanation"}, "community": {"cross_org": 1, "maintainer": 2, "response": 0, "subtotal": 3, "details": "Author from ZTE, committer from different org"}}, "score_justification": "Dead code elimination in UBIFS with detailed analysis of why check is unreachable", "code_snippet": "@@ -438,10 +438,7 @@ int ubifs_log_start_commit(struct ubifs_info *c, int *ltail_lnum)\n \t*ltail_lnum = c->lhead_lnum;\n \n \tc->lhead_offs += len;\n-\tif (c->lhead_offs == c->leb_size) {\n-\t\tc->lhead_lnum = ubifs_next_log_lnum(c, c->lhead_lnum);\n-\t\tc->lhead_offs = 0;\n-\t}\n+\tubifs_assert(c, c->lhead_offs < c->leb_size);\n \n \tremove_buds(c);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8ba0a2ab84b23b541a5d2ef25d759c94880e7457"}
{"commit_hash": "21774222324e018f064d4fbb661e3c09c2bcaad0", "short_hash": "21774222324e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-26T10:09:02+08:00", "committer_name": "Christoph Hellwig", "committer_email": "hch@lst.de", "committer_company": "Lst", "commit_date": "2019-07-09T13:16:10-07:00", "subject": "nvme-pci: make nvme_dev_pm_ops static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/nvme", "subsystems_touched": ["drivers/nvme/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Christoph Hellwig <hch@lst.de> (Lst)"], "reviewed_by": ["Minwoo Im <minwoo.im.dev@gmail.com> (Gmail)", "Chaitanya Kulkarni <chaitanya.kulkarni@wdc.com> (Wdc)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in storage driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Multiple reviewers, clear message with report"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, LST maintainer, multiple reviewers"}}, "score_justification": "Sparse warning fix adding static keyword to NVMe PCI driver, well-reviewed across orgs", "code_snippet": "@@ -2923,7 +2923,7 @@ static int nvme_simple_resume(struct device *dev)\n \treturn 0;\n }\n \n-const struct dev_pm_ops nvme_dev_pm_ops = {\n+static const struct dev_pm_ops nvme_dev_pm_ops = {\n \t.suspend\t= nvme_suspend,\n \t.resume\t\t= nvme_resume,\n \t.freeze\t\t= nvme_simple_suspend,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/21774222324e018f064d4fbb661e3c09c2bcaad0"}
{"commit_hash": "9c81c99b242f1241e18573d1ce29f7479c168e38", "short_hash": "9c81c99b242f", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-06-12T14:14:45+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-09T14:08:40-04:00", "subject": "dm crypt: use struct_size() when allocating encryption context", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 8, "score_impact": 10, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in device-mapper crypto driver (tier 3)"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 10, "details": "Code simplification using struct_size() helper, affects dm-crypt users"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review, clear message explaining rationale, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: KylinOS author, RedHat maintainer"}}, "score_justification": "Simplification replacing open-coded allocation with struct_size() helper in dm-crypt", "code_snippet": "@@ -2699,7 +2699,7 @@ static int crypt_ctr(struct dm_target *ti, unsigned int argc, char **argv)\n \t\treturn -EINVAL;\n \t}\n \n-\tcc = kzalloc(sizeof(*cc) + key_size * sizeof(u8), GFP_KERNEL);\n+\tcc = kzalloc(struct_size(cc, key, key_size), GFP_KERNEL);\n \tif (!cc) {\n \t\tti->error = \"Cannot allocate encryption context\";\n \t\treturn -ENOMEM;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9c81c99b242f1241e18573d1ce29f7479c168e38"}
{"commit_hash": "d4e6e83651777224c0259e01dde5eb078f9e6b1d", "short_hash": "d4e6e8365177", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-06-12T14:14:46+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-09T14:08:41-04:00", "subject": "dm log writes: use struct_size() to calculate size of pending_block", "primary_category": "MAINT-API-MIG", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 6, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "1-file, 2-hunk, 2-line change in tier-4 driver"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration for improved hardening in storage driver"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Proper formatting, minimal context, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "KylinOS author, Red Hat maintainer, different orgs"}}, "score_justification": "API migration to struct_size() for overflow protection in dm-log-writes driver", "code_snippet": "@@ -699,7 +699,7 @@ static int log_writes_map(struct dm_target *ti, struct bio *bio)\n \tif (discard_bio)\n \t\talloc_size = sizeof(struct pending_block);\n \telse\n-\t\talloc_size = sizeof(struct pending_block) + sizeof(struct bio_vec) * bio_segments(bio);\n+\t\talloc_size = struct_size(block, vecs, bio_segments(bio));\n \n \tblock = kzalloc(alloc_size, GFP_NOIO);\n \tif (!block) {\n", "flags": ["HARDENING", "API-MIGRATION"], "link": "https://lore.kernel.org/linux-kernel/d4e6e83651777224c0259e01dde5eb078f9e6b1d"}
{"commit_hash": "b8ef7020d6e552cfa5a29e7a411667f636d73185", "short_hash": "b8ef7020d6e5", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-09T10:36:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:17:59-07:00", "subject": "net: stmmac: add support for hash table size 128/256 in dwmac4", "primary_category": "FEAT-FUNC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 5, "insertions": 42, "deletions": 25, "hunks": 14, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 10, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "5 files, 14 hunks, small net add in network driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 15, "details": "Enhancement for specific NIC users, extends existing functionality"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 10, "details": "Good message with test output, minimal review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, maintainer commit from different org"}}, "score_justification": "Hardware support extension for stmmac NIC hash table sizes 128/256 with selftest validation", "code_snippet": "@@ -424,9 +425,9 @@ struct mac_device_info {\n \tstruct mii_regs mii;\t/* MII register Addresses */\n \tstruct mac_link link;\n \tvoid __iomem *pcsr;     /* vpointer to device CSRs */\n-\tint multicast_filter_bins;\n-\tint unicast_filter_entries;\n-\tint mcast_bits_log2;\n+\tunsigned int multicast_filter_bins;\n+\tunsigned int unicast_filter_entries;\n+\tunsigned int mcast_bits_log2;\n \tunsigned int rx_csum;\n \tunsigned int pcs;\n \tunsigned int pmt;\ndiff --git a/drivers/net/ethernet/stmicro/stmmac/dwmac4.h b/drivers/net/ethernet/stmicro/stmmac/dwmac4.h\nindex 15a9f3c7cc6a..2ed11a581d80 100644\n--- a/drivers/net/ethernet/stmicro/stmmac/dwmac4.h\n+++ b/drivers/net/ethernet/stmicro/stmmac/dwmac4.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b8ef7020d6e552cfa5a29e7a411667f636d73185"}
{"commit_hash": "efd58adf8f1fc8e9bd2b822d23eb3b603f3aec90", "short_hash": "efd58adf8f1f", "author_name": "Biao Huang", "author_email": "biao.huang@mediatek.com", "author_company": "MediaTek", "author_date": "2019-07-09T10:36:22+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:17:59-07:00", "subject": "net: stmmac: dwmac4: mac address array boudary violation issue", "primary_category": "BUG-CORRUPT", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/stmicro/stmmac"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Biao Huang <biao.huang@mediatek.com> (MediaTek)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 18, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in networking driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Array bounds violation affecting MAC address filtering"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation of off-by-one error"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "MediaTek author, net maintainer merged"}}, "score_justification": "Off-by-one bug in MAC address array loop could corrupt adjacent registers", "code_snippet": "@@ -454,7 +454,7 @@ static void dwmac4_set_filter(struct mac_device_info *hw,\n \t\t\treg++;\n \t\t}\n \n-\t\twhile (reg <= GMAC_MAX_PERFECT_ADDRESSES) {\n+\t\twhile (reg < GMAC_MAX_PERFECT_ADDRESSES) {\n \t\t\twritel(0, ioaddr + GMAC_ADDR_HIGH(reg));\n \t\t\twritel(0, ioaddr + GMAC_ADDR_LOW(reg));\n \t\t\treg++;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/efd58adf8f1fc8e9bd2b822d23eb3b603f3aec90"}
{"commit_hash": "58f34098cf37cbd88e83a4ad8461fad37212559a", "short_hash": "58f34098cf37", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:10+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Add an rx_desc to adapt HI13X1_GMAC", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (9 insertions, 2 hunks)"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for HI13X1_GMAC variant"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message explaining hardware variation, standard tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, net maintainer David Miller committed"}}, "score_justification": "Hardware support addition for HI13X1_GMAC variant with adapted rx_desc structure", "code_snippet": "@@ -171,11 +171,20 @@ struct tx_desc {\n } __aligned(64);\n \n struct rx_desc {\n+#if defined(CONFIG_HI13X1_GMAC)\n+\tu32 reserved1[3];\n+\tu16 pkt_len;\n+\tu16 reserved_16;\n+\tu32 reserved2[6];\n+\tu32 pkt_err;\n+\tu32 reserved3[5];\n+#else\n \tu16 reserved_16;\n \tu16 pkt_len;\n \tu32 reserve1[3];\n \tu32 pkt_err;\n \tu32 reserve2[4];\n+#endif\n };\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/58f34098cf37cbd88e83a4ad8461fad37212559a"}
{"commit_hash": "b9162d20ed493bc0d5ea3016647d636628e1f9d5", "short_hash": "b9162d20ed49", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:09+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Offset buf address to adapt HI13X1_GMAC", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 17, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "Hardware support fix for specific device"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation but minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer committed"}}, "score_justification": "Hardware adaptation fix for HiSilicon GMAC with buffer address shifting", "code_snippet": "@@ -120,12 +120,20 @@\n #define PPE_CFG_STS_RX_PKT_CNT_RC\tBIT(0)\n #define PPE_CFG_QOS_VMID_MODE\t\tBIT(15)\n #define PPE_CFG_BUS_LOCAL_REL\t\t(BIT(9) | BIT(15) | BIT(19) | BIT(23))\n+\n+/* buf unit size is cache_line_size, which is 64, so the shift is 6 */\n+#define PPE_BUF_SIZE_SHIFT\t\t6\n+#define PPE_TX_BUF_HOLD\t\t\tBIT(31)\n #else\n #define PPE_CFG_QOS_VMID_GRP_SHIFT\t8\n #define PPE_CFG_RX_CTRL_ALIGN_SHIFT\t11\n #define PPE_CFG_STS_RX_PKT_CNT_RC\tBIT(12)\n #define PPE_CFG_QOS_VMID_MODE\t\tBIT(14)\n #define PPE_CFG_BUS_LOCAL_REL\t\tBIT(14)\n+\n+/* buf unit size is 1, so the shift is 6 */\n+#define PPE_BUF_SIZE_SHIFT\t\t0\n+#define PPE_TX_BUF_HOLD\t\t\t0\n #endif /* CONFIG_HI13X1_GMAC */\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b9162d20ed493bc0d5ea3016647d636628e1f9d5"}
{"commit_hash": "06ddc0d8d7fc43d872c3d1c9399050e40ddbec4d", "short_hash": "06ddc0d8d7fc", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:08+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Add group field to adapt HI13X1_GMAC", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 14, "details": "Hardware support enhancement for specific driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author and maintainer signoff, good explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer committed"}}, "score_justification": "Hardware support enhancement adding group field for HI13X1_GMAC", "code_snippet": "@@ -278,10 +279,10 @@ static void hip04_config_fifo(struct hip04_priv *priv)\n \tval |= PPE_CFG_STS_RX_PKT_CNT_RC;\n \twritel_relaxed(val, priv->base + PPE_CFG_STS_MODE);\n \n-\tval = BIT(priv->port);\n+\tval = BIT(priv->group);\n \tregmap_write(priv->map, priv->port * 4 + PPE_CFG_POOL_GRP, val);\n \n-\tval = priv->port << PPE_CFG_QOS_VMID_GRP_SHIFT;\n+\tval = priv->group << PPE_CFG_QOS_VMID_GRP_SHIFT;\n \tval |= PPE_CFG_QOS_VMID_MODE;\n \twritel_relaxed(val, priv->base + PPE_CFG_QOS_VMID_GEN);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/06ddc0d8d7fc43d872c3d1c9399050e40ddbec4d"}
{"commit_hash": "bf96244074d9d0dc1b9ab0c9a6d95ae7b6ad628d", "short_hash": "bf96244074d9", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:07+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: dt-bindings: Add an field of port-handle", "primary_category": "DT-BINDING", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt", "subsystems_touched": ["Documentation/devicetree/bindings"], "subsystem_tier": 5, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 25, "score_technical": 4, "score_impact": 9, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 4, "details": "Small binding doc change for Hisilicon network driver"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 9, "details": "Extends DT binding for load balancing configuration"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Maintainer signed off, clear but brief explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, networking maintainer merged"}}, "score_justification": "DT binding extension for Hisilicon network port-handle group field", "code_snippet": "@@ -66,7 +67,7 @@ Example:\n \t\treg = <0x28b0000 0x10000>;\n \t\tinterrupts = <0 413 4>;\n \t\tphy-mode = \"mii\";\n-\t\tport-handle = <&ppe 31 0>;\n+\t\tport-handle = <&ppe 31 0 31>;\n \t};\n \n \tge0: ethernet@2800000 {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bf96244074d9d0dc1b9ab0c9a6d95ae7b6ad628d"}
{"commit_hash": "24eca4b4c0052b5dda9cb8efc804b8c4c044cfd4", "short_hash": "24eca4b4c005", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:06+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: HI13X1_GMAX need dreq reset at first", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 24, "deletions": 0, "hunks": 12, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 10, "score_impact": 13, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change (1 file, 12 hunks, +24 lines) in network driver"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 2, "subtotal": 13, "details": "Hardware-specific fix for HI13X1_GMAC initialization"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic message quality, single author + maintainer"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Fix for HI13X1_GMAC initialization requiring dreq reset", "code_snippet": "@@ -853,6 +867,15 @@ static int hip04_mac_probe(struct platform_device *pdev)\n \t\tgoto init_fail;\n \t}\n \n+#if defined(CONFIG_HI13X1_GMAC)\n+\tres = platform_get_resource(pdev, IORESOURCE_MEM, 1);\n+\tpriv->sysctrl_base = devm_ioremap_resource(d, res);\n+\tif (IS_ERR(priv->sysctrl_base)) {\n+\t\tret = PTR_ERR(priv->sysctrl_base);\n+\t\tgoto init_fail;\n+\t}\n+#endif\n+\n \tret = of_parse_phandle_with_fixed_args(node, \"port-handle\", 2, 0, &arg);\n \tif (ret < 0) {\n \t\tdev_warn(d, \"no port-handle\\n\");", "flags": [], "link": "https://lore.kernel.org/linux-kernel/24eca4b4c0052b5dda9cb8efc804b8c4c044cfd4"}
{"commit_hash": "0331f8550c504aea34c3ab9198f7324ee8b567b8", "short_hash": "0331f8550c50", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:05+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: HI13X1_GMAX skip write LOCAL_PAGE_REG", "primary_category": "BUG-LOGIC", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 8, "score_impact": 13, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change adding #ifdef wrapper for hardware variant"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Hardware compatibility fix for specific HiSilicon variant"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear explanation of hardware register differences, reviewed by maintainer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author committed by net subsystem maintainer"}}, "score_justification": "Hardware-specific compatibility fix for HI13X1_GMAC variant, skips problematic register write", "code_snippet": "@@ -308,8 +308,10 @@ static void hip04_config_fifo(struct hip04_priv *priv)\n \tval |= GE_RX_STRIP_PAD | GE_RX_PAD_EN;\n \twritel_relaxed(val, priv->base + GE_RECV_CONTROL_REG);\n \n+#ifndef CONFIG_HI13X1_GMAC\n \tval = GE_AUTO_NEG_CTL;\n \twritel_relaxed(val, priv->base + GE_TX_LOCAL_PAGE_REG);\n+#endif\n }\n \n static void hip04_mac_enable(struct net_device *ndev)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0331f8550c504aea34c3ab9198f7324ee8b567b8"}
{"commit_hash": "a8edf5257449468de328f4f5d9c03be65b9828c9", "short_hash": "a8edf5257449", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:04+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Cleanup for cast to restricted __be32", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in network driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix, minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Basic review with sparse warning context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer commit"}}, "score_justification": "Sparse warning fix in Hisilicon network driver using __force cast", "code_snippet": "@@ -530,8 +530,8 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \t\tpriv->rx_phys[priv->rx_head] = 0;\n \n \t\tdesc = (struct rx_desc *)skb->data;\n-\t\tlen = be16_to_cpu(desc->pkt_len);\n-\t\terr = be32_to_cpu(desc->pkt_err);\n+\t\tlen = be16_to_cpu((__force __be16)desc->pkt_len);\n+\t\terr = be32_to_cpu((__force __be32)desc->pkt_err);\n \n \t\tif (0 == len) {\n \t\t\tdev_kfree_skb_any(skb);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a8edf5257449468de328f4f5d9c03be65b9828c9"}
{"commit_hash": "148233ec83e42a8f5298bec43c15819db01076a7", "short_hash": "148233ec83e4", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:03+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Cleanup for got restricted __be32", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -465,11 +465,11 @@ hip04_mac_start_xmit(struct sk_buff *skb, struct net_device *ndev)\n \n \tpriv->tx_skb[tx_head] = skb;\n \tpriv->tx_phys[tx_head] = phys;\n-\tdesc->send_addr = cpu_to_be32(phys);\n-\tdesc->send_size = cpu_to_be32(skb->len);\n-\tdesc->cfg = cpu_to_be32(TX_CLEAR_WB | TX_FINISH_CACHE_INV);\n+\tdesc->send_addr = (__force u32)cpu_to_be32(phys);\n+\tdesc->send_size = (__force u32)cpu_to_be32(skb->len);\n+\tdesc->cfg = (__force u32)cpu_to_be32(TX_CLEAR_WB | TX_FINISH_CACHE_INV);\n \tphys = priv->tx_desc_dma + tx_head * sizeof(struct tx_desc);\n-\tdesc->wb_addr = cpu_to_be32(phys);\n+\tdesc->wb_addr = (__force u32)cpu_to_be32(phys);\n \tskb_tx_timestamp(skb);\n \n \thip04_set_xmit_desc(priv, phys);\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/148233ec83e42a8f5298bec43c15819db01076a7"}
{"commit_hash": "2ede8489c1a9a29f7849cd8810b533009b6fd198", "short_hash": "2ede8489c1a9", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:26-07:00", "subject": "net: hisilicon: Add support for HI13X1 to hip04_eth", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 2, "insertions": 40, "deletions": 7, "hunks": 8, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 15, "score_quality": 5, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in network driver adding hardware support"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 4, "subtotal": 15, "details": "New hardware support for specific HiSilicon platform"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit with minimal documentation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, maintainer committed via net tree"}}, "score_justification": "Hardware support extension for HiSilicon HI13X1 GMAC in ethernet driver", "code_snippet": "@@ -46,6 +46,16 @@ config HIP04_ETH\n \t  If you wish to compile a kernel for a hardware with hisilicon p04 SoC and\n \t  want to use the internal ethernet then you should answer Y to this.\n \n+config HI13X1_GMAC\n+\tbool \"Hisilicon HI13X1 Network Device Support\"\n+\tdepends on HIP04_ETH\n+\thelp\n+\t  If you wish to compile a kernel for a hardware with hisilicon hi13x1_gamc\n+\t  then you should answer Y to this. This makes this driver suitable for use\n+\t  on certain boards such as the HI13X1.\n+\n+\t  If you are unsure, say N.\n+\n config HNS_MDIO\n \ttristate\n \tselect PHYLIB\ndiff --git a/drivers/net/ethernet/hisilicon/hip04_eth.c b/drivers/net/ethernet/hisilicon/hip04_eth.c\nindex e1f2978506fd..2b5112b0fcc6 100644\n--- a/drivers/net/ethernet/hisilicon/hip04_eth.c", "flags": ["NEW_HARDWARE_SUPPORT"], "link": "https://lore.kernel.org/linux-kernel/2ede8489c1a9a29f7849cd8810b533009b6fd198"}
{"commit_hash": "d413779cdd934cc3bd281a90df865f5d9bd958a8", "short_hash": "d413779cdd93", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T11:31:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-09T14:29:27-07:00", "subject": "net: hisilicon: Add an tx_desc to adapt HI13X1_GMAC", "primary_category": "FEAT-HW", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 31, "deletions": 3, "hunks": 8, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 35, "score_technical": 10, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium change in network driver with conditional compilation"}, "impact": {"category_base": 8, "stable_lts": 0, "user_impact": 3, "novelty": 3, "subtotal": 14, "details": "Hardware support for specific HiSilicon platform"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review, adequate message, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer commit"}}, "score_justification": "Hardware support addition for HI13X1_GMAC variant with modified TX descriptor layout", "code_snippet": "@@ -76,8 +76,15 @@\n /* TX descriptor config */\n #define TX_FREE_MEM\t\t\tBIT(0)\n #define TX_READ_ALLOC_L3\t\tBIT(1)\n-#define TX_FINISH_CACHE_INV\t\tBIT(2)\n+#if defined(CONFIG_HI13X1_GMAC)\n+#define TX_CLEAR_WB\t\t\tBIT(7)\n+#define TX_RELEASE_TO_PPE\t\tBIT(4)\n+#define TX_FINISH_CACHE_INV\t\tBIT(6)\n+#define TX_POOL_SHIFT\t\t\t16\n+#else\n #define TX_CLEAR_WB\t\t\tBIT(4)\n+#define TX_FINISH_CACHE_INV\t\tBIT(2)\n+#endif\n #define TX_L3_CHECKSUM\t\t\tBIT(5)\n #define TX_LOOP_BACK\t\t\tBIT(11)\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d413779cdd934cc3bd281a90df865f5d9bd958a8"}
{"commit_hash": "a4c0b3decb33fb4a2b5ecc6234a50680f0b21e7d", "short_hash": "a4c0b3decb33", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-08T13:41:12+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-09T14:32:05-06:00", "subject": "io_uring: fix io_sq_thread_stop running in front of io_sq_thread", "primary_category": "BUG-DEADLOCK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 0, "hunks": 8, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["syzbot+94324416c485d422fe15@syzkaller.appspotmail.com"]}, "score_total": 49, "score_technical": 10, "score_impact": 18, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical I/O subsystem"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Deadlock fix for io_uring users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Excellent analysis with stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 3, "subtotal": 7, "details": "Syzbot report + maintainer involvement"}}, "score_justification": "Race between kthread park/stop causing hung task deadlock", "code_snippet": "@@ -2219,6 +2221,8 @@ static int io_sq_thread(void *data)\n \tunsigned inflight;\n \tunsigned long timeout;\n \n+\tcomplete(&ctx->sqo_thread_started);\n+\n \told_fs = get_fs();\n \tset_fs(USER_DS);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a4c0b3decb33fb4a2b5ecc6234a50680f0b21e7d"}
{"commit_hash": "7c8e90ddf02f139a90bc29c04302e9914818f0c8", "short_hash": "7c8e90ddf02f", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-08T14:19:04+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-07-09T14:53:50+02:00", "subject": "irqchip/renesas-rza1: Prevent use-after-free in rza1_irqc_probe()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: a644ccb819bc (\"irqchip: Add Renesas RZ/A1 Interrupt Controller driver\")", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 4, "files_changed": 1, "insertions": 8, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 6, "score_impact": 19, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change in driver subsystem with moderate criticality"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Use-after-free vulnerability fix with high severity"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with Fixes tag and proper review"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-company contribution from ZTE to maintainer tree"}}, "score_justification": "Use-after-free fix in irqchip driver with proper Fixes tag and cross-org review", "code_snippet": "@@ -208,20 +208,19 @@ static int rza1_irqc_probe(struct platform_device *pdev)\n \t\treturn PTR_ERR(priv->base);\n \n \tgic_node = of_irq_find_parent(np);\n-\tif (gic_node) {\n+\tif (gic_node)\n \t\tparent = irq_find_host(gic_node);\n-\t\tof_node_put(gic_node);\n-\t}\n \n \tif (!parent) {\n \t\tdev_err(dev, \"cannot find parent domain\\n\");\n-\t\treturn -ENODEV;\n+\t\tret = -ENODEV;\n+\t\tgoto out_put_node;\n \t}\n \n \tret = rza1_irqc_parse_map(priv, gic_node);\n \tif (ret) {\n \t\tdev_err(dev, \"cannot parse %s: %d\\n\", \"interrupt-map\", ret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7c8e90ddf02f139a90bc29c04302e9914818f0c8"}
{"commit_hash": "f15d6358425af7976e146a07a47b75e4fe8ccd41", "short_hash": "f15d6358425a", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-06-22T11:45:57+08:00", "committer_name": "Rob Herring", "committer_email": "robh@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-09T16:50:50-06:00", "subject": "dt-bindings: 83xx-512x-pci: Drop cell-index property", "primary_category": "DOC-KERNEL", "secondary_categories": ["DT-BINDING"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "dt-bindings", "subsystems_touched": ["Documentation/devicetree/bindings/pci"], "subsystem_tier": 5, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Rob Herring <robh@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 21, "score_technical": 3, "score_impact": 5, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 2, "cross_subsystem": 0, "subtotal": 3, "details": "Tiny change in DT binding doc"}, "impact": {"category_base": 4, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 5, "details": "Doc update removing unused property"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Well-documented with Fixes reference"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei to kernel.org"}}, "score_justification": "DT binding doc cleanup removing obsolete cell-index property", "code_snippet": "@@ -9,7 +9,6 @@ Freescale 83xx and 512x SOCs include the same PCI bridge core.\n \n Example (MPC8313ERDB)\n \tpci0: pci@e0008500 {\n-\t\tcell-index = <1>;\n \t\tinterrupt-map-mask = <0xf800 0x0 0x0 0x7>;\n \t\tinterrupt-map = <\n \t\t\t\t/* IDSEL 0x0E -mini PCI */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f15d6358425af7976e146a07a47b75e4fe8ccd41"}
{"commit_hash": "381ed79c8655a40268ee7391f716edd90c5c3a97", "short_hash": "381ed79c8655", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-14T23:40:44+08:00", "committer_name": "Lorenzo Pieralisi", "committer_email": "lorenzo.pieralisi@arm.com", "committer_company": "ARM", "commit_date": "2019-07-09T17:25:13+01:00", "subject": "PCI: dwc: pci-dra7xx: Fix compilation when !CONFIG_GPIOLIB", "primary_category": "BUILD-FIX", "secondary_categories": ["TRIV-INCLUDE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "PCI", "subsystems_touched": ["drivers/pci/controller/dwc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Lorenzo Pieralisi <lorenzo.pieralisi@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kishon Vijay Abraham I <kishon@ti.com> (Texas Instruments)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 7, "score_impact": 9, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line include addition in PCI driver"}, "impact": {"category_base": 6, "stable_lts": 0, "user_impact": 3, "novelty": 0, "subtotal": 9, "details": "Build fix affecting DRA7xx platform users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed by maintainer, detailed build error context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-company: Huawei author, ARM maintainer"}}, "score_justification": "Build fix for missing GPIO header inclusion causing compilation errors on DRA7xx PCI controller", "code_snippet": "@@ -26,6 +26,7 @@\n #include <linux/types.h>\n #include <linux/mfd/syscon.h>\n #include <linux/regmap.h>\n+#include <linux/gpio/consumer.h>\n \n #include \"../../pci.h\"\n #include \"pcie-designware.h\"\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/381ed79c8655a40268ee7391f716edd90c5c3a97"}
{"commit_hash": "b78fa45d4edb92fd7b882b2ec25b936cad412670", "short_hash": "b78fa45d4edb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T20:54:08+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-09T19:36:33-04:00", "subject": "nfsd: Make __get_nfsdfs_client() static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "nfsd", "subsystems_touched": ["fs/nfsd"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny 2-line change in critical NFS server subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Sparse warning fix with proper Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer, internal robot report"}}, "score_justification": "Sparse warning fix for unused function in nfsd, cross-org commit.", "code_snippet": "@@ -1218,7 +1218,7 @@ static void clear_ncl(struct inode *inode)\n }\n \n \n-struct nfsdfs_client *__get_nfsdfs_client(struct inode *inode)\n+static struct nfsdfs_client *__get_nfsdfs_client(struct inode *inode)\n {\n \tstruct nfsdfs_client *nc = inode->i_private;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b78fa45d4edb92fd7b882b2ec25b936cad412670"}
{"commit_hash": "297e57a24f6e2d5a041822003816124e48164eef", "short_hash": "297e57a24f6e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T15:29:33+08:00", "committer_name": "J. Bruce Fields", "committer_email": "bfields@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-09T19:36:33-04:00", "subject": "nfsd: Make two functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "nfsd", "subsystems_touched": ["fs/nfsd"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "J. Bruce Fields <bfields@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in critical NFS server subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Sparse warning fix with Reported-by tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, maintainer from RedHat, reported by internal robot"}}, "score_justification": "Sparse warning fix adding static keyword to two functions in NFS server", "code_snippet": "@@ -1905,7 +1905,7 @@ static void __free_client(struct kref *k)\n \tkmem_cache_free(client_slab, clp);\n }\n \n-void drop_client(struct nfs4_client *clp)\n+static void drop_client(struct nfs4_client *clp)\n {\n \tkref_put(&clp->cl_nfsdfs.cl_ref, __free_client);\n }", "flags": ["FIXES_COMPILER_WARNING"], "link": "https://lore.kernel.org/linux-kernel/297e57a24f6e2d5a041822003816124e48164eef"}
{"commit_hash": "59592cc1f5937ced72e11e681c3e358a0375f7ae", "short_hash": "59592cc1f593", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T21:36:31+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-07-10T13:17:30+02:00", "subject": "mmc: sdhci_am654: Add dependency on MMC_SDHCI_AM654", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUILD-FIX"], "cve_ids": [], "fixes_tag": "Fixes: aff88ff23512 (\"mmc: sdhci_am654: Add Initial Support for AM654 SDHCI driver\")", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 5, "score_impact": 12, "score_quality": 9, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in driver Kconfig"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix affecting users of specific driver"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Has Fixes tag with build error context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, Linaro maintainer, bot report"}}, "score_justification": "Kconfig dependency fix for undefined reference build error", "code_snippet": "@@ -996,7 +996,7 @@ config MMC_SDHCI_OMAP\n \n config MMC_SDHCI_AM654\n \ttristate \"Support for the SDHCI Controller in TI's AM654 SOCs\"\n-\tdepends on MMC_SDHCI_PLTFM && OF\n+\tdepends on MMC_SDHCI_PLTFM && OF && REGMAP_MMIO\n \tselect MMC_SDHCI_IO_ACCESSORS\n \thelp\n \t  This selects the Secure Digital Host Controller Interface (SDHCI)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/59592cc1f5937ced72e11e681c3e358a0375f7ae"}
{"commit_hash": "8751c8bd8b91abb0887ab971651a1ac72d3b9398", "short_hash": "8751c8bd8b91", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-06-28T12:07:51+08:00", "committer_name": "Ulf Hansson", "committer_email": "ulf.hansson@linaro.org", "committer_company": "Linaro", "commit_date": "2019-07-10T13:17:30+02:00", "subject": "mmc: sdhci_am654: Make some symbols static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "mmc", "subsystems_touched": ["drivers/mmc/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Ulf Hansson <ulf.hansson@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 6, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small sparse warning fix in MMC driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Low-impact warning fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear message with Reported-by tag, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org: Huawei->Linaro, internal robot report"}}, "score_justification": "Sparse warning fix adding static to 3 symbols in MMC driver", "code_snippet": "@@ -189,7 +189,8 @@ static void sdhci_am654_set_clock(struct sdhci_host *host, unsigned int clock)\n \t}\n }\n \n-void sdhci_j721e_4bit_set_clock(struct sdhci_host *host, unsigned int clock)\n+static void sdhci_j721e_4bit_set_clock(struct sdhci_host *host,\n+\t\t\t\t       unsigned int clock)\n {\n \tstruct sdhci_pltfm_host *pltfm_host = sdhci_priv(host);\n \tstruct sdhci_am654_data *sdhci_am654 = sdhci_pltfm_priv(pltfm_host);", "flags": ["INTERNAL_ROBOT_REPORT"], "link": "https://lore.kernel.org/linux-kernel/8751c8bd8b91abb0887ab971651a1ac72d3b9398"}
{"commit_hash": "724808ad556c15e9473418d082f8aae81dd267f6", "short_hash": "724808ad556c", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-10T15:25:06+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-10T16:33:49+01:00", "subject": "ASoC: simple-card: fix an use-after-free in simple_dai_link_of_dpcm()", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: cfc652a73331 (\"ASoC: simple-card: tidyup prefix for snd_soc_codec_conf\")", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/generic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 11, "hunks": 8, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> (Renesas)"], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 17, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in sound subsystem (Tier 3), single file"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Use-after-free fix affecting audio driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with Fixes tag and cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org committer, cross-org Reviewed-by"}}, "score_justification": "Use-after-free fix in audio driver with proper error handling cleanup", "code_snippet": "@@ -124,8 +124,6 @@ static int simple_dai_link_of_dpcm(struct asoc_simple_priv *priv,\n \n \tli->link++;\n \n-\tof_node_put(node);\n-\n \t/* For single DAI link & old style of DT node */\n \tif (is_top)\n \t\tprefix = PREFIX;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/724808ad556c15e9473418d082f8aae81dd267f6"}
{"commit_hash": "27862d5a3325bc531ec15e3c607e44aa0fd57f6f", "short_hash": "27862d5a3325", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-10T15:25:07+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-10T16:33:55+01:00", "subject": "ASoC: simple-card: fix an use-after-free in simple_for_each_link()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: d947cdfd4be2 (\"ASoC: simple-card: cleanup DAI link loop method - step1\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/generic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> (Renesas)"], "reported_by": []}, "score_total": 44, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in sound subsystem (tier 3)"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "UAF fix with Fixes tag, affects audio subsystem users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes/Link tags, ack from reviewer"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Author (ZTE) and committer (kernel.org) different orgs"}}, "score_justification": "Use-after-free fix in ASoC with proper Fixes tag and cross-org review", "code_snippet": "@@ -364,8 +364,6 @@ static int simple_for_each_link(struct asoc_simple_priv *priv,\n \t\t\tgoto error;\n \t\t}\n \n-\t\tof_node_put(codec);\n-\n \t\t/* get convert-xxx property */\n \t\tmemset(&adata, 0, sizeof(adata));\n \t\tfor_each_child_of_node(node, np)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/27862d5a3325bc531ec15e3c607e44aa0fd57f6f"}
{"commit_hash": "aa2e362cb6b3f5ca88093ada01e1a0ace8a517b2", "short_hash": "aa2e362cb6b3", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-10T15:25:08+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-10T16:33:56+01:00", "subject": "ASoC: audio-graph-card: fix use-after-free in graph_dai_link_of_dpcm()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: dd98fbc558a0 (\"ASoC: audio-graph-card: cleanup DAI link loop method - step1\")", "cc_stable": false, "subsystem_prefix": "sound/soc", "subsystems_touched": ["sound/soc/generic"], "subsystem_tier": 3, "files_changed": 1, "insertions": 13, "deletions": 13, "hunks": 8, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> (Renesas)"], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 17, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in sound subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "UAF fix with regression tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Fixes tag, good explanation, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, kernel.org committer"}}, "score_justification": "Use-after-free fix with proper error handling, regression tag", "code_snippet": "@@ -208,10 +208,6 @@ static int graph_dai_link_of_dpcm(struct asoc_simple_priv *priv,\n \n \tdev_dbg(dev, \"link_of DPCM (%pOF)\\n\", ep);\n \n-\tof_node_put(ports);\n-\tof_node_put(port);\n-\tof_node_put(node);\n-\n \tif (li->cpu) {\n \t\tint is_single_links = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/aa2e362cb6b3f5ca88093ada01e1a0ace8a517b2"}
{"commit_hash": "c152f8491a8d9a4b25afd65a86eb5e55e2a8c380", "short_hash": "c152f8491a8d", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-10T15:25:09+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-10T16:33:57+01:00", "subject": "ASoC: audio-graph-card: fix an use-after-free in graph_get_dai_id()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a0c426fe1433 (\"ASoC: simple-card-utils: check \"reg\" property on asoc_simple_card_get_dai_id()\")", "cc_stable": false, "subsystem_prefix": "sound", "subsystems_touched": ["sound/soc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> (Renesas)"], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 17, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line fix in audio subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Use-after-free with Fixes tag but no stable CC"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Cross-company review, detailed message with Fixes/Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer from kernel.org different company"}}, "score_justification": "Use-after-free fix in audio DAI ID function with proper review chain", "code_snippet": "@@ -63,6 +63,7 @@ static int graph_get_dai_id(struct device_node *ep)\n \tstruct device_node *endpoint;\n \tstruct of_endpoint info;\n \tint i, id;\n+\tu32 *reg;\n \tint ret;\n \n \t/* use driver specified DAI ID if exist */", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c152f8491a8d9a4b25afd65a86eb5e55e2a8c380"}
{"commit_hash": "cdc238eb72f6b94b6c33b98c07b9fc3ac5e57b18", "short_hash": "cdc238eb72f6", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-10T08:24:03+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-10T16:35:58+02:00", "subject": "kvm: x86: Fix -Wmissing-prototypes warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm", "include/linux"], "subsystem_tier": 2, "files_changed": 2, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": ["Sean Christopherson <sean.j.christopherson@intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small change moving declaration in KVM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Build warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by with good explanation of fix"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (ZTE->Red Hat->Intel) review"}}, "score_justification": "Build warning fix moving function declaration across KVM files with cross-org review", "code_snippet": "@@ -114,7 +114,6 @@ static inline int irqchip_in_kernel(struct kvm *kvm)\n \treturn mode != KVM_IRQCHIP_NONE;\n }\n \n-bool kvm_arch_irqfd_allowed(struct kvm *kvm, struct kvm_irqfd *args);\n void kvm_inject_pending_timer_irqs(struct kvm_vcpu *vcpu);\n void kvm_inject_apic_timer_irqs(struct kvm_vcpu *vcpu);\n void kvm_apic_nmi_wd_deliver(struct kvm_vcpu *vcpu);\ndiff --git a/include/linux/kvm_host.h b/include/linux/kvm_host.h\nindex abafddb9fe2c..b91829ee3db1 100644\n--- a/include/linux/kvm_host.h\n+++ b/include/linux/kvm_host.h", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/cdc238eb72f6b94b6c33b98c07b9fc3ac5e57b18"}
{"commit_hash": "855085d9686e107b77a1bdb935224a238a9fd8b9", "short_hash": "855085d9686e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T15:12:13+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-11T11:41:10-03:00", "subject": "rdma/siw: Remove set but not used variable 's'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6c52fdc244b5 (\"rdma/siw: connection management\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Bernard Metzler <bmt@zurich.ibm.com> (IBM)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -1275,7 +1275,6 @@ static void siw_cm_llp_error_report(struct sock *sk)\n static void siw_cm_llp_state_change(struct sock *sk)\n {\n \tstruct siw_cep *cep;\n-\tstruct socket *s;\n \tvoid (*orig_state_change)(struct sock *s);\n \n \tread_lock(&sk->sk_callback_lock);", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/855085d9686e107b77a1bdb935224a238a9fd8b9"}
{"commit_hash": "edc82a99437a93c36b0ae18eb6daac0097fc6bd3", "short_hash": "edc82a99437a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T10:31:21+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-11T12:42:46-03:00", "subject": "perf cs-etm: Remove errnoeous ERR_PTR() usage in cs_etm__process_auxtrace_info", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cd8bfd8c973e (\"perf tools: Add processing of coresight metadata\")", "cc_stable": false, "subsystem_prefix": "perf", "subsystems_touched": ["tools/perf"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": ["Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 13, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in perf tooling subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 13, "details": "Logic bug fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer signoff"}}, "score_justification": "Incorrect error handling using PTR_ERR on non-ERR_PTR return", "code_snippet": "@@ -2460,7 +2460,7 @@ int cs_etm__process_auxtrace_info(union perf_event *event,\n \n \t\t/* Something went wrong, no need to continue */\n \t\tif (!inode) {\n-\t\t\terr = PTR_ERR(inode);\n+\t\t\terr = -ENOMEM;\n \t\t\tgoto err_free_metadata;\n \t\t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/edc82a99437a93c36b0ae18eb6daac0097fc6bd3"}
{"commit_hash": "6285bd151b95aa28d6de9b8b9249702681f059d2", "short_hash": "6285bd151b95", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-03-21T10:31:22+08:00", "committer_name": "Arnaldo Carvalho de Melo", "committer_email": "acme@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-11T12:45:02-03:00", "subject": "perf cs-etm: Return errcode in cs_etm__process_auxtrace_info()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: cd8bfd8c973e (\"perf tools: Add processing of coresight metadata\")", "cc_stable": false, "subsystem_prefix": "tools/perf", "subsystems_touched": ["tools/perf/util"], "subsystem_tier": 3, "files_changed": 1, "insertions": 7, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Arnaldo Carvalho de Melo <acme@redhat.com> (Redhat)"], "reviewed_by": ["Mathieu Poirier <mathieu.poirier@linaro.org> (Linaro)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in perf tools (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Bug fix with proper error handling"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Reviewed-by, Fixes tag, clear explanation"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Red Hat maintainer, Linaro reviewer"}}, "score_justification": "Error handling bug fix in perf cs-etm, missing errcode return", "code_snippet": "@@ -2517,8 +2517,10 @@ int cs_etm__process_auxtrace_info(union perf_event *event,\n \tsession->auxtrace = &etm->auxtrace;\n \n \tetm->unknown_thread = thread__new(999999999, 999999999);\n-\tif (!etm->unknown_thread)\n+\tif (!etm->unknown_thread) {\n+\t\terr = -ENOMEM;\n \t\tgoto err_free_queues;\n+\t}\n \n \t/*\n \t * Initialize list node so that at thread__zput() we can avoid", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6285bd151b95aa28d6de9b8b9249702681f059d2"}
{"commit_hash": "6764f519bcb007bf09f328133311d6cdc2bbc72f", "short_hash": "6764f519bcb0", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T21:01:14+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-11T20:31:56-04:00", "subject": "scsi: megaraid_sas: Make some symbols static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -292,7 +292,7 @@ void megasas_set_dma_settings(struct megasas_instance *instance,\n \t}\n }\n \n-void\n+static void\n megasas_issue_dcmd(struct megasas_instance *instance, struct megasas_cmd *cmd)\n {\n \tinstance->instancet->fire_cmd(instance,", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/6764f519bcb007bf09f328133311d6cdc2bbc72f"}
{"commit_hash": "38ce85f028fe4ea7350f448260845bc3cb030ad1", "short_hash": "38ce85f028fe", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T20:52:45-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-07-12T11:05:41-07:00", "subject": "arch/sh/configs/sdk7786_defconfig: remove CONFIG_LOGFS", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/sh", "subsystems_touched": ["arch/sh/configs"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 5, "score_impact": 6, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Single-line removal in architecture defconfig"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Config cleanup following logfs removal"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two maintainers signed off, good context with link"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Linux Foundation maintainer committed"}}, "score_justification": "Defconfig cleanup removing obsolete CONFIG_LOGFS after filesystem removal", "code_snippet": "@@ -191,7 +191,6 @@ CONFIG_CONFIGFS_FS=y\n CONFIG_JFFS2_FS=m\n CONFIG_JFFS2_FS_XATTR=y\n CONFIG_UBIFS_FS=m\n-CONFIG_LOGFS=m\n CONFIG_CRAMFS=m\n CONFIG_SQUASHFS=m\n CONFIG_ROMFS_FS=m\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/38ce85f028fe4ea7350f448260845bc3cb030ad1"}
{"commit_hash": "e926d8a1e8675422e53104855a7bedec82fb570f", "short_hash": "e926d8a1e867", "author_name": "ChenGang", "author_email": "cg.chen@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T20:52:55-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-07-12T11:05:41-07:00", "subject": "fs: ocfs: fix spelling mistake \"hearbeating\" -> \"heartbeat\"", "primary_category": "TRIV-TYPO", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "ocfs2", "subsystems_touched": ["fs/ocfs2"], "subsystem_tier": 2, "files_changed": 4, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["ChenGang <cg.chen@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 5, "score_technical": 2, "score_impact": 0, "score_quality": 3, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 1, "cross_subsystem": 0, "subtotal": 2, "details": "Minimal typo fix within single filesystem"}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": "No runtime impact from comment/string typo fixes"}, "quality": {"review_chain": 1, "message_quality": 1, "testing": 0, "atomicity": 1, "subtotal": 3, "details": "Basic commit with minimal review tags"}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": "Author from Huawei, committed by Linus"}}, "score_justification": "Spelling fix correcting 'hearbeating' to 'heartbeat' in comments/strings", "code_snippet": "@@ -1184,7 +1184,7 @@ static int o2hb_do_disk_heartbeat(struct o2hb_region *reg)\n \tif (atomic_read(&reg->hr_steady_iterations) != 0) {\n \t\tif (atomic_dec_and_test(&reg->hr_unsteady_iterations)) {\n \t\t\tprintk(KERN_NOTICE \"o2hb: Unable to stabilize \"\n-\t\t\t       \"heartbeart on region %s (%s)\\n\",\n+\t\t\t       \"heartbeat on region %s (%s)\\n\",\n \t\t\t       config_item_name(&reg->hr_item),\n \t\t\t       reg->hr_dev_name);\n \t\t\tatomic_set(&reg->hr_steady_iterations, 0);\ndiff --git a/fs/ocfs2/cluster/quorum.c b/fs/ocfs2/cluster/quorum.c\nindex 3d5d4b2b1356..5c424a099280 100644\n--- a/fs/ocfs2/cluster/quorum.c\n+++ b/fs/ocfs2/cluster/quorum.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e926d8a1e8675422e53104855a7bedec82fb570f"}
{"commit_hash": "56170ba3bd90986e44f96ada9573dfe583621fca", "short_hash": "56170ba3bd90", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-07-12T21:16:24+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-12T15:37:18-07:00", "subject": "net: hisilicon: Use devm_platform_ioremap_resource", "primary_category": "MAINT-API-MIG", "secondary_categories": ["MAINT-SIMPLIFY"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet/hisilicon", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 4, "files_changed": 4, "insertions": 7, "deletions": 18, "hunks": 16, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 29, "score_technical": 8, "score_impact": 11, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "4 files, 16 hunks, net code deletion across driver files"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 11, "details": "API migration to newer helper, affects hisilicon NIC users"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Simple message, maintainer sign-off, no test evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, networking maintainer committer"}}, "score_justification": "API migration from devm_ioremap_resource to devm_platform_ioremap_resource helper across hisilicon drivers", "code_snippet": "@@ -899,7 +899,6 @@ static int hip04_mac_probe(struct platform_device *pdev)\n \tstruct of_phandle_args arg;\n \tstruct net_device *ndev;\n \tstruct hip04_priv *priv;\n-\tstruct resource *res;\n \tint irq;\n \tint ret;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/56170ba3bd90986e44f96ada9573dfe583621fca"}
{"commit_hash": "e6fbb97da5212ceab7149896832d35fa1ab02f34", "short_hash": "e6fbb97da521", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T01:38:42Z", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-12T16:00:38+03:00", "subject": "platform/x86: mlx-platform: Fix error handling in mlxplat_init()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6b266e91a071 (\"platform/x86: mlx-platform: Move regmap initialization before all drivers activation\")", "cc_stable": false, "subsystem_prefix": "platform/x86", "subsystems_touched": ["drivers/platform/x86"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 6, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 2-line change in platform driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Resource leak fix with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Intel maintainer"}}, "score_justification": "Resource leak fix adding missing cleanup on error path", "code_snippet": "@@ -2111,7 +2111,7 @@ static int __init mlxplat_init(void)\n \t\t\t\t\tmlxplat_regmap_config);\n \tif (IS_ERR(priv->regmap)) {\n \t\terr = PTR_ERR(priv->regmap);\n-\t\treturn err;\n+\t\tgoto fail_alloc;\n \t}\n \n \terr = mlxplat_mlxcpld_verify_bus_topology(&nr);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e6fbb97da5212ceab7149896832d35fa1ab02f34"}
{"commit_hash": "7d67c8ac25fbc66ee254aa3e33329d1c9bc152ce", "short_hash": "7d67c8ac25fb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T14:27:25+08:00", "committer_name": "Andy Shevchenko", "committer_email": "andriy.shevchenko@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-07-12T16:00:38+03:00", "subject": "platform/x86: Fix PCENGINES_APU2 Kconfig warning", "primary_category": "BUILD-FIX", "secondary_categories": ["MAINT-WARN"], "cve_ids": [], "fixes_tag": "Fixes: f8eb0235f659 (\"x86: pcengines apuv2 gpio/leds/keys platform driver\")", "cc_stable": false, "subsystem_prefix": "platform/x86", "subsystems_touched": ["drivers/platform/x86"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andy Shevchenko <andriy.shevchenko@linux.intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 6, "score_impact": 12, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in platform driver Kconfig"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Kconfig dependency fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Detailed warning explanation with Reported-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Intel maintainer, internal report"}}, "score_justification": "Kconfig dependency fix resolving unmet dependency warnings for GPIO symbols", "code_snippet": "@@ -1324,7 +1324,7 @@ config HUAWEI_WMI\n \n config PCENGINES_APU2\n \ttristate \"PC Engines APUv2/3 front button and LEDs driver\"\n-\tdepends on INPUT && INPUT_KEYBOARD\n+\tdepends on INPUT && INPUT_KEYBOARD && GPIOLIB\n \tdepends on LEDS_CLASS\n \tselect GPIO_AMD_FCH\n \tselect KEYBOARD_GPIO_POLLED\n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/7d67c8ac25fbc66ee254aa3e33329d1c9bc152ce"}
{"commit_hash": "95566aa75cd6b3b404502c06f66956b5481194b3", "short_hash": "95566aa75cd6", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-08T14:19:03+08:00", "committer_name": "Herbert Xu", "committer_email": "herbert@gondor.apana.org.au", "committer_company": "Org", "commit_date": "2019-07-12T18:16:02+08:00", "subject": "crypto: crypto4xx - fix a potential double free in ppc4xx_trng_probe", "primary_category": "BUG-RESOURCE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 5343e674f32f (\"crypto4xx: integrate ppc4xx-rng into crypto4xx\")", "cc_stable": true, "subsystem_prefix": "crypto", "subsystems_touched": ["drivers/crypto"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Herbert Xu <herbert@gondor.apana.org.au> (Org)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julia Lawall <julia.lawall@lip6.fr> (Lip6)"], "reported_by": []}, "score_total": 40, "score_technical": 7, "score_impact": 17, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Tiny 1-line fix in crypto driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Resource leak fix with stable backport affecting crypto users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed explanation with Coccinelle detection and proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-org review from different company with external tool report"}}, "score_justification": "Double-free bug in crypto driver error path detected by Coccinelle", "code_snippet": "@@ -111,7 +111,6 @@ void ppc4xx_trng_probe(struct crypto4xx_core_device *core_dev)\n \treturn;\n \n err_out:\n-\tof_node_put(trng);\n \tiounmap(dev->trng_base);\n \tkfree(rng);\n \tdev->trng_base = NULL;\n", "flags": ["DETECTED_BY_COCCINELLE"], "link": "https://lore.kernel.org/linux-kernel/95566aa75cd6b3b404502c06f66956b5481194b3"}
{"commit_hash": "f2f5cb6a73b9f056ae3f8e6b4c61f57d6f3ab1ec", "short_hash": "f2f5cb6a73b9", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T16:55:42+08:00", "committer_name": "Alexandre Belloni", "committer_email": "alexandre.belloni@bootlin.com", "committer_company": "Bootlin", "commit_date": "2019-07-13T21:31:37+02:00", "subject": "rtc: pcf2123: Fix build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 790d033933b8 (\"rtc: pcf2123: port to regmap\")", "cc_stable": false, "subsystem_prefix": "rtc", "subsystems_touched": ["drivers/rtc"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Alexandre Belloni <alexandre.belloni@bootlin.com> (Bootlin)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 5, "score_impact": 11, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 1-line Kconfig fix in RTC driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 0, "subtotal": 11, "details": "Build regression fix with no stable tag, affects RTC users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clear build error description with Fixes tag and Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, Bootlin committer, internal robot report"}}, "score_justification": "Kconfig build fix for RTC driver missing REGMAP_SPI select, regression from regmap port", "code_snippet": "@@ -811,6 +811,7 @@ config RTC_DRV_MAX6902\n \n config RTC_DRV_PCF2123\n \ttristate \"NXP PCF2123\"\n+\tselect REGMAP_SPI\n \thelp\n \t  If you say yes here you get support for the NXP PCF2123\n \t  RTC chip.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2f5cb6a73b9f056ae3f8e6b4c61f57d6f3ab1ec"}
{"commit_hash": "9481b7f10c5a7f149048310c25510f0386eb6631", "short_hash": "9481b7f10c5a", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-15T12:35:17+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-15T13:55:34+02:00", "subject": "kvm: vmx: fix coccinelle warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1-line change in KVM subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Maintainer reviewed, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: ZTE author, Red Hat maintainer"}}, "score_justification": "Coccinelle warning fix changing return 0 to false in bool function", "code_snippet": "@@ -7453,7 +7453,7 @@ static int enable_smi_window(struct kvm_vcpu *vcpu)\n \n static bool vmx_need_emulation_on_page_fault(struct kvm_vcpu *vcpu)\n {\n-\treturn 0;\n+\treturn false;\n }\n \n static __init int hardware_setup(void)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9481b7f10c5a7f149048310c25510f0386eb6631"}
{"commit_hash": "9a5611af5edb5fa5fed11b4c5e96906524f8c323", "short_hash": "9a5611af5edb", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T01:10:22+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-15T13:56:30+02:00", "subject": "kvm: x86: some tsc debug cleanup", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 8, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 10, "score_impact": 6, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Single file cleanup in critical KVM subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Debug code removal, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clean single-purpose change with maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "ZTE author, Red Hat maintainer committer"}}, "score_justification": "Debug cleanup removing unused pr_debug statements from KVM TSC code", "code_snippet": "@@ -1785,12 +1782,10 @@ void kvm_write_tsc(struct kvm_vcpu *vcpu, struct msr_data *msr)\n \t    vcpu->arch.virtual_tsc_khz == kvm->arch.last_tsc_khz) {\n \t\tif (!kvm_check_tsc_unstable()) {\n \t\t\toffset = kvm->arch.cur_tsc_offset;\n-\t\t\tpr_debug(\"kvm: matched tsc offset for %llu\\n\", data);\n \t\t} else {\n \t\t\tu64 delta = nsec_to_cycles(vcpu, elapsed);\n \t\t\tdata += delta;\n \t\t\toffset = kvm_compute_tsc_offset(vcpu, data);\n-\t\t\tpr_debug(\"kvm: adjusted tsc offset by %llu\\n\", delta);\n \t\t}\n \t\tmatched = true;\n \t\talready_matched = (vcpu->arch.this_tsc_generation == kvm->arch.cur_tsc_generation);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9a5611af5edb5fa5fed11b4c5e96906524f8c323"}
{"commit_hash": "0d88800d547211ce07be3551c812d404cf2be3a8", "short_hash": "0d88800d5472", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T01:08:48+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-15T20:39:01+02:00", "subject": "kvm: x86: ioapic and apic debug macros cleanup", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 2, "insertions": 9, "deletions": 101, "hunks": 60, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 14, "score_impact": 6, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "2 files, 60 hunks removing debug macros in KVM"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Debug macro cleanup, minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two signoffs, good explanation, no test"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "ZTE author, Red Hat maintainer, cross-org merge"}}, "score_justification": "Removes unused ioapic_debug/apic_debug macros from KVM, retains pv_eoi warnings", "code_snippet": "@@ -1648,16 +1614,6 @@ static bool set_target_expiration(struct kvm_lapic *apic)\n \n \tlimit_periodic_timer_frequency(apic);\n \n-\tapic_debug(\"%s: bus cycle is %\" PRId64 \"ns, now 0x%016\"\n-\t\t   PRIx64 \", \"\n-\t\t   \"timer initial count 0x%x, period %lldns, \"\n-\t\t   \"expire @ 0x%016\" PRIx64 \".\\n\", __func__,\n-\t\t   APIC_BUS_CYCLE_NS, ktime_to_ns(now),\n-\t\t   kvm_lapic_get_reg(apic, APIC_TMICT),\n-\t\t   apic->lapic_timer.period,\n-\t\t   ktime_to_ns(ktime_add_ns(now,\n-\t\t\t\tapic->lapic_timer.period)));\n-\n \tapic->lapic_timer.tscdeadline = kvm_read_l1_tsc(apic->vcpu, tscl) +\n \t\tnsec_to_cycles(apic->vcpu, apic->lapic_timer.period);\n \tapic->lapic_timer.target_expiration = ktime_add_ns(now, apic->lapic_timer.period);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0d88800d547211ce07be3551c812d404cf2be3a8"}
{"commit_hash": "dbd0f6d6c2a11eb9c31ca9cd454f95bb5713e92e", "short_hash": "dbd0f6d6c2a1", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-13T11:58:26+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-16T08:27:09-06:00", "subject": "io_uring: fix the sequence comparison in io_sequence_defer", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: de0617e46717 (\"io_uring: add support for marking commands as draining\")", "cc_stable": true, "subsystem_prefix": "fs/io_uring", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Minimal change in critical I/O subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting io_uring users with stable backport"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with Fixes tag and stable CC, no explicit testing"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from KylinOS, committer from different company"}}, "score_justification": "Integer overflow bug fix in io_uring sequence comparison, stable backport requested", "code_snippet": "@@ -429,7 +429,7 @@ static inline bool io_sequence_defer(struct io_ring_ctx *ctx,\n \tif ((req->flags & (REQ_F_IO_DRAIN|REQ_F_IO_DRAINED)) != REQ_F_IO_DRAIN)\n \t\treturn false;\n \n-\treturn req->sequence > ctx->cached_cq_tail + ctx->sq_ring->dropped;\n+\treturn req->sequence != ctx->cached_cq_tail + ctx->sq_ring->dropped;\n }\n \n static struct io_kiocb *io_get_deferred_req(struct io_ring_ctx *ctx)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/dbd0f6d6c2a11eb9c31ca9cd454f95bb5713e92e"}
{"commit_hash": "f7b76ac9d17e16e44feebb6d2749fec92bfd6dd4", "short_hash": "f7b76ac9d17e", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-16T23:26:14+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-16T09:55:14-06:00", "subject": "io_uring: fix counter inc/dec mismatch in async_list", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 31b515106428 (\"io_uring: allow workqueue item to handle multiple buffered requests\")", "cc_stable": false, "subsystem_prefix": "fs/io_uring", "subsystems_touched": ["fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 12, "score_impact": 18, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical I/O subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting io_uring users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good commit message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Chinese developer with maintainer sign-off"}}, "score_justification": "Counter mismatch fix in io_uring workqueue handling from KylinOS developer", "code_snippet": "@@ -1844,6 +1846,10 @@ static void io_sq_wq_submit_work(struct work_struct *work)\n \t\t/* async context always use a copy of the sqe */\n \t\tkfree(sqe);\n \n+\t\t/* req from defer and link list needn't decrease async cnt */\n+\t\tif (req->flags & (REQ_F_IO_DRAINED | REQ_F_LINK_DONE))\n+\t\t\tgoto out;\n+\n \t\tif (!async_list)\n \t\t\tbreak;\n \t\tif (!list_empty(&req_list)) {", "flags": ["CHINESE_COMPANY"], "link": "https://lore.kernel.org/linux-kernel/f7b76ac9d17e16e44feebb6d2749fec92bfd6dd4"}
{"commit_hash": "b575b24b8eee37f10484e951b62ce2a31c579775", "short_hash": "b575b24b8eee", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T03:59:36Z", "committer_name": "Pablo Neira Ayuso", "committer_email": "pablo@netfilter.org", "committer_company": "Netfilter", "commit_date": "2019-07-16T13:16:47+02:00", "subject": "netfilter: Fix rpfilter dropping vrf packets by mistake", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "netfilter", "subsystems_touched": ["net/ipv4/netfilter", "net/ipv6/netfilter"], "subsystem_tier": 2, "files_changed": 2, "insertions": 7, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Pablo Neira Ayuso <pablo@netfilter.org> (Netfilter)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes VRF packet dropping affecting netfilter users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message but minimal review evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit with maintainer sign-off"}}, "score_justification": "VRF rpfilter bug fix dropping packets incorrectly in netfilter path", "code_snippet": "@@ -78,6 +78,7 @@ static bool rpfilter_mt(const struct sk_buff *skb, struct xt_action_param *par)\n \tflow.flowi4_mark = info->flags & XT_RPFILTER_VALID_MARK ? skb->mark : 0;\n \tflow.flowi4_tos = RT_TOS(iph->tos);\n \tflow.flowi4_scope = RT_SCOPE_UNIVERSE;\n+\tflow.flowi4_oif = l3mdev_master_ifindex_rcu(xt_in(par));\n \n \treturn rpfilter_lookup_reverse(xt_net(par), &flow, xt_in(par), info->flags) ^ invert;\n }\ndiff --git a/net/ipv6/netfilter/ip6t_rpfilter.c b/net/ipv6/netfilter/ip6t_rpfilter.c\nindex 6bcaf7357183..d800801a5dd2 100644\n--- a/net/ipv6/netfilter/ip6t_rpfilter.c\n+++ b/net/ipv6/netfilter/ip6t_rpfilter.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b575b24b8eee37f10484e951b62ce2a31c579775"}
{"commit_hash": "9b6d104a6b150bd4d3e5b039340e1f6b20c2e3c1", "short_hash": "9b6d104a6b15", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-13T11:46:14+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-16T19:17:14+01:00", "subject": "ASoC: samsung: odroid: fix an use-after-free issue for codec", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE", "BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: bc3cf17b575a (\"ASoC: samsung: odroid: Add support for secondary CPU DAI\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/samsung"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 8, "score_impact": 20, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 6-line change in audio subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Use-after-free fix for audio driver users"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Clean fix with proper error path handling"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company: ZTE author, kernel.org maintainer"}}, "score_justification": "Use-after-free fix in codec error path, properly moves of_node_put() to avoid accessing freed memory", "code_snippet": "@@ -284,9 +284,8 @@ static int odroid_audio_probe(struct platform_device *pdev)\n \t}\n \n \tof_node_put(cpu);\n-\tof_node_put(codec);\n \tif (ret < 0)\n-\t\treturn ret;\n+\t\tgoto err_put_node;\n \n \tret = snd_soc_of_get_dai_link_codecs(dev, codec, codec_link);\n \tif (ret < 0)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9b6d104a6b150bd4d3e5b039340e1f6b20c2e3c1"}
{"commit_hash": "2abee12c0ab1924a69993d2c063a39a952e7d836", "short_hash": "2abee12c0ab1", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-13T11:46:15+08:00", "committer_name": "Mark Brown", "committer_email": "broonie@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-16T19:17:15+01:00", "subject": "ASoC: samsung: odroid: fix a double-free issue for cpu_dai", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: d832d2b246c5 (\"ASoC: samsung: odroid: Fix of_node refcount unbalance\")", "cc_stable": false, "subsystem_prefix": "ASoC", "subsystems_touched": ["sound/soc/samsung"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Mark Brown <broonie@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "1 file, 4 hunks, 2 lines changed in ASoC driver"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Double-free/crash fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes, Cc list, Link, multiple reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer Mark Brown (different org)"}}, "score_justification": "", "code_snippet": "@@ -308,7 +308,6 @@ static int odroid_audio_probe(struct platform_device *pdev)\n \t\tret = PTR_ERR(priv->clk_i2s_bus);\n \t\tgoto err_put_sclk;\n \t}\n-\tof_node_put(cpu_dai);\n \n \tret = devm_snd_soc_register_card(dev, card);\n \tif (ret < 0) {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2abee12c0ab1924a69993d2c063a39a952e7d836"}
{"commit_hash": "1b113e04e20298b08c82c709a4501c0d6e1e4374", "short_hash": "1b113e04e202", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T16:27:51-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-07-16T19:23:22-07:00", "subject": "fs/binfmt_flat.c: remove set but not used variable 'inode'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal change removing 2 lines in critical filesystem code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with link, single reviewer, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linux Foundation maintainer accepted"}}, "score_justification": "Removes unused variable to fix gcc warning in fs/binfmt_flat.c", "code_snippet": "@@ -431,7 +431,6 @@ static int load_flat_file(struct linux_binprm *bprm,\n \tunsigned long len, memp, memp_size, extra, rlim;\n \t__be32 __user *reloc;\n \tu32 __user *rp;\n-\tstruct inode *inode;\n \tint i, rev, relocs;\n \tloff_t fpos;\n \tunsigned long start_code, end_code;", "flags": ["WARN_FIX"], "link": "https://lore.kernel.org/linux-kernel/1b113e04e20298b08c82c709a4501c0d6e1e4374"}
{"commit_hash": "ba542f20f97e7cee83c50b52ff7418c3ec599796", "short_hash": "ba542f20f97e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T16:29:18-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-07-16T19:23:23-07:00", "subject": "fs/ufs/super.c: remove set but not used variable 'usb3'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/ufs", "subsystems_touched": ["fs/ufs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change removing 2 lines in filesystem code"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Single Reviewed-by, good commit message with Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author through Linux Foundation maintainer"}}, "score_justification": "GCC unused variable warning fix in UFS filesystem, removing dead code from prior commit", "code_snippet": "@@ -1407,11 +1407,9 @@ static int ufs_statfs(struct dentry *dentry, struct kstatfs *buf)\n \tstruct super_block *sb = dentry->d_sb;\n \tstruct ufs_sb_private_info *uspi= UFS_SB(sb)->s_uspi;\n \tunsigned  flags = UFS_SB(sb)->s_flags;\n-\tstruct ufs_super_block_third *usb3;\n \tu64 id = huge_encode_dev(sb->s_bdev->bd_dev);\n \n \tmutex_lock(&UFS_SB(sb)->s_lock);\n-\tusb3 = ubh_get_usb_third(uspi);\n \t\n \tif ((flags & UFS_TYPE_MASK) == UFS_TYPE_UFS2)\n \t\tbuf->f_type = UFS2_MAGIC;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ba542f20f97e7cee83c50b52ff7418c3ec599796"}
{"commit_hash": "f709f81483d652b4ae5bbda2204b95593ce07c8f", "short_hash": "f709f81483d6", "author_name": "Yi Wang", "author_email": "wang.yi59@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-15T10:47:09+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-07-16T23:13:49+02:00", "subject": "x86/e820: Use proper booleans instead of 0/1", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Yi Wang <wang.yi59@zte.com.cn> (ZTE)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -86,9 +86,9 @@ static bool _e820__mapped_any(struct e820_table *table,\n \t\t\tcontinue;\n \t\tif (entry->addr >= end || entry->addr + entry->size <= start)\n \t\t\tcontinue;\n-\t\treturn 1;\n+\t\treturn true;\n \t}\n-\treturn 0;\n+\treturn false;\n }\n \n bool e820__mapped_raw_any(u64 start, u64 end, enum e820_type type)\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/f709f81483d652b4ae5bbda2204b95593ce07c8f"}
{"commit_hash": "f11fe1dae1c46762a9a7b0dd142b6bfebe7783ff", "short_hash": "f11fe1dae1c4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T15:16:02+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-17T12:02:43-07:00", "subject": "net/sched: Make NET_ACT_CT depends on NF_NAT", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: b57dc7c13ea9 (\"net/sched: Introduce action ct\")", "cc_stable": false, "subsystem_prefix": "net/sched", "subsystems_touched": ["net/sched"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 31, "score_technical": 10, "score_impact": 9, "score_quality": 7, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small Kconfig fix in critical networking subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 0, "subtotal": 9, "details": "Build fix with Fixes tag but no stable, low user impact"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with build error details and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, maintainer commit, with reported-by tag"}}, "score_justification": "Kconfig build dependency fix preventing undefined reference errors", "code_snippet": "@@ -942,7 +942,7 @@ config NET_ACT_TUNNEL_KEY\n \n config NET_ACT_CT\n         tristate \"connection tracking tc action\"\n-        depends on NET_CLS_ACT && NF_CONNTRACK\n+        depends on NET_CLS_ACT && NF_CONNTRACK && NF_NAT\n         help\n \t  Say Y here to allow sending the packets to conntrack module.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f11fe1dae1c46762a9a7b0dd142b6bfebe7783ff"}
{"commit_hash": "314c4cd6d9e60b9412dcd1b1783a66532f91ea2d", "short_hash": "314c4cd6d9e6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-02T22:39:03+08:00", "committer_name": "David Sterba", "committer_email": "dsterba@suse.com", "committer_company": "SUSE", "commit_date": "2019-07-17T17:03:30+02:00", "subject": "btrfs: Fix build error while LIBCRC32C is module", "primary_category": "BUILD-FIX", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d5178578bcd4 (\"btrfs: directly call into crypto framework for checksumming\")", "cc_stable": true, "subsystem_prefix": "fs/btrfs", "subsystems_touched": ["fs/btrfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Sterba <dsterba@suse.com> (SUSE)"], "reviewed_by": ["Johannes Thumshirn <jthumshirn@suse.de> (Suse)", "David Sterba <dsterba@suse.com> (SUSE)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 8, "score_impact": 13, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny Kconfig fix in Btrfs filesystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build fix affecting Btrfs users with modular config"}, "quality": {"review_chain": 6, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 14, "details": "Good review chain with clear build error context"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Cross-org: Huawei author, SUSE maintainer, robot report"}}, "score_justification": "Kconfig build fix resolving undefined references with good review chain", "code_snippet": "@@ -4,6 +4,7 @@ config BTRFS_FS\n \ttristate \"Btrfs filesystem support\"\n \tselect CRYPTO\n \tselect CRYPTO_CRC32C\n+\tselect LIBCRC32C\n \tselect ZLIB_INFLATE\n \tselect ZLIB_DEFLATE\n \tselect LZO_COMPRESS\n", "flags": ["ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/314c4cd6d9e60b9412dcd1b1783a66532f91ea2d"}
{"commit_hash": "4d151bf3b89e71490e69defc811579b2bde617e2", "short_hash": "4d151bf3b89e", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-06T09:26:50+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-17T18:21:22+02:00", "subject": "KVM: LAPIC: Make lapic timer unpinned", "primary_category": "FEAT-FUNC", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "Fixes: 61abdbe0bcc2 (\"kvm: x86: make lapic hrtimer pinned\")", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 2, "insertions": 5, "deletions": 9, "hunks": 10, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 2, "user_impact": 4, "novelty": 2, "subtotal": 18, "details": "Performance optimization for VM workloads"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with Fixes tag, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Tencent/Red Hat), maintainer commit"}}, "score_justification": "KVM performance enhancement changing timer pinning strategy with maintainer sign-off", "code_snippet": "@@ -2458,7 +2458,7 @@ void __kvm_migrate_apic_timer(struct kvm_vcpu *vcpu)\n \n \ttimer = &vcpu->arch.apic->lapic_timer.timer;\n \tif (hrtimer_cancel(timer))\n-\t\thrtimer_start_expires(timer, HRTIMER_MODE_ABS_PINNED);\n+\t\thrtimer_start_expires(timer, HRTIMER_MODE_ABS);\n }\n \n /*\ndiff --git a/arch/x86/kvm/x86.c b/arch/x86/kvm/x86.c\nindex 9d7b9e6a0939..6ab30c5e1ae0 100644\n--- a/arch/x86/kvm/x86.c\n+++ b/arch/x86/kvm/x86.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4d151bf3b89e71490e69defc811579b2bde617e2"}
{"commit_hash": "c0e48f9dea9129aa11bec3ed13803bcc26e96e49", "short_hash": "c0e48f9dea91", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-18T20:44:00+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-18T11:09:09-06:00", "subject": "io_uring: add a memory barrier before atomic_read", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-DEADLOCK"], "cve_ids": [], "fixes_tag": "Fixes: 31b515106428 (\"io_uring: allow workqueue item to handle multiple buffered requests\")", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 10, "score_impact": 20, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical IO subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Race causing hangs for io_uring users"}, "quality": {"review_chain": 2, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Excellent repro with stack trace"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Kylinos author, Axboe maintainer"}}, "score_justification": "Memory barrier missing in io_uring race causing hang", "code_snippet": "@@ -1924,6 +1924,10 @@ static bool io_add_to_prev_work(struct async_list *list, struct io_kiocb *req)\n \tret = true;\n \tspin_lock(&list->lock);\n \tlist_add_tail(&req->list, &list->list);\n+\t/*\n+\t * Ensure we see a simultaneous modification from io_sq_wq_submit_work()\n+\t */\n+\tsmp_mb();\n \tif (!atomic_read(&list->cnt)) {\n \t\tlist_del_init(&req->list);\n \t\tret = false;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c0e48f9dea9129aa11bec3ed13803bcc26e96e49"}
{"commit_hash": "008cfbaa3f9f84efead76d2cea12b4dd05cce67d", "short_hash": "008cfbaa3f9f", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-17T06:29:56Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-18T16:32:39-07:00", "subject": "net: dsa: sja1105: Fix missing unlock on error in sk_buff()", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f3097be21bf1 (\"net: dsa: sja1105: Add a state machine for RX timestamping\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/dsa"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)", "Vivien Didelot <vivien.didelot@gmail.com> (Gmail)", "Florian Fainelli <f.fainelli@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "1-line fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix with explicit Fixes tag"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "3 reviewers, proper Fixes tag, clear message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, different maintainer committer"}}, "score_justification": "Missing spin_unlock on error path in network driver timestamping code", "code_snippet": "@@ -216,6 +216,7 @@ static struct sk_buff\n \t\tif (!skb) {\n \t\t\tdev_err_ratelimited(dp->ds->dev,\n \t\t\t\t\t    \"Failed to copy stampable skb\\n\");\n+\t\t\tspin_unlock(&sp->data->meta_lock);\n \t\t\treturn NULL;\n \t\t}\n \t\tsja1105_transfer_meta(skb, meta);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/008cfbaa3f9f84efead76d2cea12b4dd05cce67d"}
{"commit_hash": "269b7c5ff78264e3728b95828d219e0e0eeaec94", "short_hash": "269b7c5ff782", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T01:22:06Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-18T20:33:48-07:00", "subject": "ag71xx: fix return value check in ag71xx_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d51b6ce441d3 (\"net: ethernet: add ag71xx driver\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Oleksij Rempel <o.rempel@pengutronix.de> (Pengutronix)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver (tier 3)"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Logic bug fix for driver probe with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Cross-org review (Huawei/Pengutronix), good message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author (Huawei) and committer (different org) + reviewer"}}, "score_justification": "Fixes incorrect NULL check for ERR_PTR return in driver probe", "code_snippet": "@@ -1735,9 +1735,9 @@ static int ag71xx_probe(struct platform_device *pdev)\n \tag->stop_desc->next = (u32)ag->stop_desc_dma;\n \n \tmac_addr = of_get_mac_address(np);\n-\tif (mac_addr)\n+\tif (!IS_ERR(mac_addr))\n \t\tmemcpy(ndev->dev_addr, mac_addr, ETH_ALEN);\n-\tif (!mac_addr || !is_valid_ether_addr(ndev->dev_addr)) {\n+\tif (IS_ERR(mac_addr) || !is_valid_ether_addr(ndev->dev_addr)) {\n \t\tnetif_err(ag, probe, ndev, \"invalid MAC address, using random address\\n\");\n \t\teth_random_addr(ndev->dev_addr);\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/269b7c5ff78264e3728b95828d219e0e0eeaec94"}
{"commit_hash": "6f5fa8d2c05f247ab50440df0f07867ae0fc9050", "short_hash": "6f5fa8d2c05f", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T01:21:57Z", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-18T20:33:48-07:00", "subject": "ag71xx: fix error return code in ag71xx_probe()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d51b6ce441d3 (\"net: ethernet: add ag71xx driver\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Oleksij Rempel <o.rempel@pengutronix.de> (Pengutronix)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Error handling fix in network driver"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Has Fixes tag and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Pengutronix reviewer, net maintainer"}}, "score_justification": "Missing error code set in probe failure path, fixed with proper -ENOMEM", "code_snippet": "@@ -1725,8 +1725,10 @@ static int ag71xx_probe(struct platform_device *pdev)\n \tag->stop_desc = dmam_alloc_coherent(&pdev->dev,\n \t\t\t\t\t    sizeof(struct ag71xx_desc),\n \t\t\t\t\t    &ag->stop_desc_dma, GFP_KERNEL);\n-\tif (!ag->stop_desc)\n+\tif (!ag->stop_desc) {\n+\t\terr = -ENOMEM;\n \t\tgoto err_free;\n+\t}\n \n \tag->stop_desc->data = 0;\n \tag->stop_desc->ctrl = 0;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6f5fa8d2c05f247ab50440df0f07867ae0fc9050"}
{"commit_hash": "d56fef0ec85b8a8bae5d7d003b93f0a0aaf82ed9", "short_hash": "d56fef0ec85b", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T20:16:28+02:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-07-19T11:58:49+03:00", "subject": "Input: applespi - remove set but not used variables 'sts'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: b426ac0452093d (\"Input: add Apple SPI keyboard and trackpad driver\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -899,7 +899,6 @@ static void applespi_set_bl_level(struct led_classdev *led_cdev,\n \tstruct applespi_data *applespi =\n \t\tcontainer_of(led_cdev, struct applespi_data, backlight_info);\n \tunsigned long flags;\n-\tint sts;\n \n \tspin_lock_irqsave(&applespi->cmd_msg_lock, flags);\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/d56fef0ec85b8a8bae5d7d003b93f0a0aaf82ed9"}
{"commit_hash": "49e6979e7e92cf496105b5636f1df0ac17c159c0", "short_hash": "49e6979e7e92", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-16T20:17:20+02:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-07-19T11:58:50+03:00", "subject": "Input: psmouse - fix build error of multiple definition", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 55e3d9224b60 (\"Input: psmouse - allow disabing certain protocol extensions\")", "cc_stable": false, "subsystem_prefix": "input", "subsystems_touched": ["drivers/input/mouse"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 10, "score_quality": 8, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in input subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 1, "subtotal": 10, "details": "Build fix affecting compilation only"}, "quality": {"review_chain": 2, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with fixes tag and reporter"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer committer, robot report"}}, "score_justification": "Build error fix adding missing static keyword to inline function", "code_snippet": "@@ -158,7 +158,8 @@ struct trackpoint_data {\n #ifdef CONFIG_MOUSE_PS2_TRACKPOINT\n int trackpoint_detect(struct psmouse *psmouse, bool set_properties);\n #else\n-inline int trackpoint_detect(struct psmouse *psmouse, bool set_properties)\n+static inline int trackpoint_detect(struct psmouse *psmouse,\n+\t\t\t\t    bool set_properties)\n {\n \treturn -ENOSYS;\n }\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/49e6979e7e92cf496105b5636f1df0ac17c159c0"}
{"commit_hash": "0c5f81dad46c90792e6c3c4797131323c9e96dcd", "short_hash": "0c5f81dad46c", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-06T09:26:51+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-20T09:00:40+02:00", "subject": "KVM: LAPIC: Inject timer interrupt via posted interrupt", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm", "kernel/sched"], "subsystem_tier": 2, "files_changed": 7, "insertions": 87, "deletions": 36, "hunks": 32, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 54, "score_technical": 18, "score_impact": 18, "score_quality": 14, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 8, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 18, "details": "Medium-large change spanning KVM and scheduler subsystems with 32 hunks across 7 files"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization for KVM LAPIC timer interrupts affecting VM workloads with measurable ~3% improvement"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Detailed commit message with performance benchmarks, reviewed by KVM maintainer, includes testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit (Tencent author, RedHat maintainer), no external bug report"}}, "score_justification": "KVM performance optimization using posted interrupts for LAPIC timers to reduce VM exits, showing ~3% Redis improvement with detailed benchmarks", "code_snippet": "@@ -118,6 +118,17 @@ static inline u32 kvm_x2apic_id(struct kvm_lapic *apic)\n \treturn apic->vcpu->vcpu_id;\n }\n \n+bool kvm_can_post_timer_interrupt(struct kvm_vcpu *vcpu)\n+{\n+\treturn pi_inject_timer && kvm_vcpu_apicv_active(vcpu);\n+}\n+EXPORT_SYMBOL_GPL(kvm_can_post_timer_interrupt);\n+\n+static bool kvm_use_posted_timer_interrupt(struct kvm_vcpu *vcpu)\n+{\n+\treturn kvm_can_post_timer_interrupt(vcpu) && vcpu->mode == IN_GUEST_MODE;\n+}\n+\n static inline bool kvm_apic_map_get_logical_dest(struct kvm_apic_map *map,\n \t\tu32 dest_id, struct kvm_lapic ***cluster, u16 *mask) {\n \tswitch (map->mode) {", "flags": ["PERF-BENCHMARK"], "link": "https://lore.kernel.org/linux-kernel/0c5f81dad46c90792e6c3c4797131323c9e96dcd"}
{"commit_hash": "d984740944308a310f9d33df774e2304fc1e6959", "short_hash": "d98474094430", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-18T19:39:07+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-20T09:00:45+02:00", "subject": "KVM: s390: Use kvm_vcpu_wake_up in kvm_s390_vcpu_wakeup", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["MAINT-API-MIG"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/s390/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 3, "deletions": 20, "hunks": 2, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 12, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small refactor in critical KVM subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 12, "details": "Code simplification affecting KVM users"}, "quality": {"review_chain": 4, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Basic review with minimal documentation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Tencent to Red Hat maintainer"}}, "score_justification": "API migration refactoring s390 KVM to use common kvm_vcpu_wake_up helper", "code_snippet": "@@ -1224,28 +1224,11 @@ int kvm_s390_handle_wait(struct kvm_vcpu *vcpu)\n \n void kvm_s390_vcpu_wakeup(struct kvm_vcpu *vcpu)\n {\n-\t/*\n-\t * We cannot move this into the if, as the CPU might be already\n-\t * in kvm_vcpu_block without having the waitqueue set (polling)\n-\t */\n \tvcpu->valid_wakeup = true;\n+\tkvm_vcpu_wake_up(vcpu);\n+\n \t/*\n-\t * This is mostly to document, that the read in swait_active could\n-\t * be moved before other stores, leading to subtle races.\n-\t * All current users do not store or use an atomic like update\n-\t */\n-\tsmp_mb__after_atomic();\n-\tif (swait_active(&vcpu->wq)) {\n-\t\t/*\n-\t\t * The vcpu gave up the cpu voluntarily, mark it as a good", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d984740944308a310f9d33df774e2304fc1e6959"}
{"commit_hash": "d73eb57b80b98ae147e4e6a7d9877c2ba175f972", "short_hash": "d73eb57b80b9", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-18T19:39:06+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-20T09:00:45+02:00", "subject": "KVM: Boost vCPUs that are delivering interrupts", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm", "arch/s390/kvm"], "subsystem_tier": 2, "files_changed": 3, "insertions": 10, "deletions": 5, "hunks": 14, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 53, "score_technical": 14, "score_impact": 18, "score_quality": 16, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Small change across 3 KVM files, 15 lines, 14 hunks"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Performance optimization with 180% improvement demonstrated"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 6, "atomicity": 2, "subtotal": 16, "details": "Excellent with test data showing 180% improvement, Reviewed-by tags"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author @tencent.com, committer @redhat.com, cross-org review"}}, "score_justification": "KVM vCPU scheduling optimization showing 180% performance improvement via interrupt delivery boosting", "code_snippet": "@@ -1240,7 +1240,7 @@ void kvm_s390_vcpu_wakeup(struct kvm_vcpu *vcpu)\n \t\t * The vcpu gave up the cpu voluntarily, mark it as a good\n \t\t * yield-candidate.\n \t\t */\n-\t\tvcpu->preempted = true;\n+\t\tvcpu->ready = true;\n \t\tswake_up_one(&vcpu->wq);\n \t\tvcpu->stat.halt_wakeup++;\n \t}\ndiff --git a/include/linux/kvm_host.h b/include/linux/kvm_host.h\nindex c5da875f19e3..5c5b5867024c 100644\n--- a/include/linux/kvm_host.h\n+++ b/include/linux/kvm_host.h", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d73eb57b80b98ae147e4e6a7d9877c2ba175f972"}
{"commit_hash": "9310a7ba6de8cce6209e3e8a3cdf733f824cdd9b", "short_hash": "9310a7ba6de8", "author_name": "Zhengyuan Liu", "author_email": "liuzhengyuan@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-22T10:23:27+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-21T21:46:55-06:00", "subject": "io_uring: track io length in async_list based on bytes", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 2, "files_changed": 1, "insertions": 11, "deletions": 13, "hunks": 4, "review_chain": {"signed_off_by": ["Zhengyuan Liu <liuzhengyuan@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical io_uring subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Logic fix affecting io_uring users with small I/O"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Author + maintainer S-o-b, good explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from KylinOS, committer Axboe (different org)"}}, "score_justification": "", "code_snippet": "@@ -202,7 +202,7 @@ struct async_list {\n \n \tstruct file\t\t*file;\n \toff_t\t\t\tio_end;\n-\tsize_t\t\t\tio_pages;\n+\tsize_t\t\t\tio_len;\n };\n \n struct io_ring_ctx {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/9310a7ba6de8cce6209e3e8a3cdf733f824cdd9b"}
{"commit_hash": "5d9e06d60eee95e021ffccf0d2c7ed800ae9dc14", "short_hash": "5d9e06d60eee", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-22T22:12:36+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-22T08:15:17-06:00", "subject": "bcache: fix possible memory leak in bch_cached_dev_run()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "Fixes: 0b13efecf5f2 (\"bcache: add return value check to bch_cached_dev_run()\")", "cc_stable": false, "subsystem_prefix": "drivers/md/bcache", "subsystems_touched": ["drivers/md/bcache"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Coly Li <colyli@suse.de> (Suse)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 13, "score_quality": 9, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in storage driver (tier 3)"}, "impact": {"category_base": 7, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Memory leak fix with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good commit with Fixes tag and 2 reviewers"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Suse reviewer, kernel.org maintainer"}}, "score_justification": "Memory leak fix in bcache error path with proper Fixes tag", "code_snippet": "@@ -931,6 +931,9 @@ int bch_cached_dev_run(struct cached_dev *dc)\n \tif (dc->io_disable) {\n \t\tpr_err(\"I/O disabled on cached dev %s\",\n \t\t       dc->backing_dev_name);\n+\t\tkfree(env[1]);\n+\t\tkfree(env[2]);\n+\t\tkfree(buf);\n \t\treturn -EIO;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5d9e06d60eee95e021ffccf0d2c7ed800ae9dc14"}
{"commit_hash": "e751732486eb3f159089a64d1901992b1357e7cc", "short_hash": "e751732486eb", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-22T12:26:20+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-22T13:55:47+02:00", "subject": "KVM: X86: Fix fpu state crash in kvm guest", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 5f409e20b (\"x86/fpu: Defer FPU state load until return to userspace\")", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": ["anthony <antdev66@gmail.com> (Gmail)"], "acked_by": [], "reported_by": ["Thomas Lambertz <mail@thomaslambertz.de> (Thomaslambertz)", "anthony <antdev66@gmail.com> (Gmail)"]}, "score_total": 55, "score_technical": 10, "score_impact": 24, "score_quality": 14, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in critical KVM subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Crash fix affecting VM stability with stable backport"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 3, "atomicity": 2, "subtotal": 14, "details": "Detailed explanation with Fixes tag, Tested-by, external reporters"}, "community": {"cross_org": 2, "maintainer": 2, "response": 3, "subtotal": 7, "details": "Cross-company (Tencent/Red Hat) with external reporters"}}, "score_justification": "FPU state crash fix in KVM with regression tag and external reporters", "code_snippet": "@@ -3306,6 +3306,10 @@ void kvm_arch_vcpu_load(struct kvm_vcpu *vcpu, int cpu)\n \n \tkvm_x86_ops->vcpu_load(vcpu, cpu);\n \n+\tfpregs_assert_state_consistent();\n+\tif (test_thread_flag(TIF_NEED_FPU_LOAD))\n+\t\tswitch_fpu_return();\n+\n \t/* Apply any externally detected TSC adjustments (due to suspend) */\n \tif (unlikely(vcpu->arch.tsc_offset_adjustment)) {\n \t\tadjust_tsc_offset_host(vcpu, vcpu->arch.tsc_offset_adjustment);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e751732486eb3f159089a64d1901992b1357e7cc"}
{"commit_hash": "d9a710e5fc4941944d565b013414e9fdc66242b5", "short_hash": "d9a710e5fc49", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-22T12:26:21+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-22T13:55:48+02:00", "subject": "KVM: X86: Dynamically allocate user_fpu", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-SCALE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 4, "insertions": 27, "deletions": 5, "hunks": 18, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 14, "score_impact": 18, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 14, "details": "Medium change in critical KVM subsystem across 4 files"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 6, "novelty": 2, "subtotal": 18, "details": "Memory optimization affecting cloud/container workloads"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good explanation with context, cross-company maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Tencent author, Red Hat maintainer committer"}}, "score_justification": "Dynamic allocation optimization reducing kvm_vcpu struct size from 19KB to 15KB for serverless scalability", "code_snippet": "@@ -616,7 +616,7 @@ struct kvm_vcpu_arch {\n \t * \"guest_fpu\" state here contains the guest FPU context, with the\n \t * host PRKU bits.\n \t */\n-\tstruct fpu user_fpu;\n+\tstruct fpu *user_fpu;\n \tstruct fpu *guest_fpu;\n \n \tu64 xcr0;\ndiff --git a/arch/x86/kvm/svm.c b/arch/x86/kvm/svm.c\nindex 19f69df96758..7eafc6907861 100644\n--- a/arch/x86/kvm/svm.c\n+++ b/arch/x86/kvm/svm.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d9a710e5fc4941944d565b013414e9fdc66242b5"}
{"commit_hash": "d5121ffebc38a16b2419b664e466a2f3e5c7b457", "short_hash": "d5121ffebc38", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-18T09:27:10Z", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-22T14:28:17-03:00", "subject": "RDMA/siw: Fix error return code in siw_init_module()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: bdcf26bf9b3a (\"rdma/siw: network and RDMA core interface\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband/sw/siw"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Bernard Metzler <bmt@zurich.ibm.com> (IBM)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 6, "score_impact": 15, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in software RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Error path fix with Fixes tag, affects driver users"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Two Reviewed-by tags, good message with Fixes/Link"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Huawei author, Mellanox maintainer, IBM reviewer"}}, "score_justification": "Error return code fix in siw driver init with cross-company review", "code_snippet": "@@ -612,6 +612,7 @@ static __init int siw_init_module(void)\n \n \tif (!siw_create_tx_threads()) {\n \t\tpr_info(\"siw: Could not start any TX thread\\n\");\n+\t\trv = -ENOMEM;\n \t\tgoto out_error;\n \t}\n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d5121ffebc38a16b2419b664e466a2f3e5c7b457"}
{"commit_hash": "c93d059a80450af99dd6c0e8c36790579343675a", "short_hash": "c93d059a8045", "author_name": "Weiyi Lu", "author_email": "weiyi.lu@mediatek.com", "author_company": "MediaTek", "author_date": "2019-06-28T15:22:34+08:00", "committer_name": "Stephen Boyd", "committer_email": "sboyd@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-22T14:32:52-07:00", "subject": "clk: mediatek: mt8183: Register 13MHz clock earlier for clocksource", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: acddfc2c261b (\"clk: mediatek: Add MT8183 clock support\")", "cc_stable": true, "subsystem_prefix": "clk", "subsystems_touched": ["drivers/clk/mediatek"], "subsystem_tier": 4, "files_changed": 1, "insertions": 34, "deletions": 12, "hunks": 4, "review_chain": {"signed_off_by": ["Weiyi Lu <weiyi.lu@mediatek.com> (MediaTek)", "Stephen Boyd <sboyd@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 17, "score_quality": 8, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 8, "details": "Medium change in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix affecting Mediatek users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear message with Fixes tag and stable CC"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Mediatek author, kernel.org maintainer"}}, "score_justification": "Clock registration timing fix to prevent clocksource init failure", "code_snippet": "@@ -25,9 +25,11 @@ static const struct mtk_fixed_clk top_fixed_clks[] = {\n \tFIXED_CLK(CLK_TOP_UNIVP_192M, \"univpll_192m\", \"univpll\", 192000000),\n };\n \n+static const struct mtk_fixed_factor top_early_divs[] = {\n+\tFACTOR(CLK_TOP_CLK13M, \"clk13m\", \"clk26m\", 1, 2),\n+};\n+\n static const struct mtk_fixed_factor top_divs[] = {\n-\tFACTOR(CLK_TOP_CLK13M, \"clk13m\", \"clk26m\", 1,\n-\t\t2),\n \tFACTOR(CLK_TOP_F26M_CK_D2, \"csw_f26m_ck_d2\", \"clk26m\", 1,\n \t\t2),\n \tFACTOR(CLK_TOP_SYSPLL_CK, \"syspll_ck\", \"mainpll\", 1,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c93d059a80450af99dd6c0e8c36790579343675a"}
{"commit_hash": "60c3becfd1a138fdcfe48f2a5ef41ef0078d481e", "short_hash": "60c3becfd1a1", "author_name": "Xi Wang", "author_email": "wangxi11@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T09:32:17+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-22T14:44:08-03:00", "subject": "RDMA/hns: Fix sg offset non-zero issue", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-CORRUPT"], "cve_ids": [], "fixes_tag": "Fixes: d10bcf947a3e (\"RDMA/umem: Combine contiguous PAGE_SIZE regions in SGEs\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 7, "hunks": 6, "review_chain": {"signed_off_by": ["Xi Wang <wangxi11@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 8, "score_impact": 16, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 15-line change in RDMA driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix with dual Fixes tags, affects RDMA users"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good commit message with Fixes tags and Link, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Mellanox maintainer applied it"}}, "score_justification": "RDMA driver bug fix for non-standard SGL usage causing bad page descriptor state", "code_snippet": "@@ -12,13 +12,15 @@ int hns_roce_db_map_user(struct hns_roce_ucontext *context,\n \t\t\t struct ib_udata *udata, unsigned long virt,\n \t\t\t struct hns_roce_db *db)\n {\n+\tunsigned long page_addr = virt & PAGE_MASK;\n \tstruct hns_roce_user_db_page *page;\n+\tunsigned int offset;\n \tint ret = 0;\n \n \tmutex_lock(&context->page_mutex);\n \n \tlist_for_each_entry(page, &context->page_list, list)\n-\t\tif (page->user_virt == (virt & PAGE_MASK))\n+\t\tif (page->user_virt == page_addr)\n \t\t\tgoto found;\n \n \tpage = kmalloc(sizeof(*page), GFP_KERNEL);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/60c3becfd1a138fdcfe48f2a5ef41ef0078d481e"}
{"commit_hash": "af0653d56657340a80622aeb96707f7fc8506225", "short_hash": "af0653d56657", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-07-19T09:29:38+08:00", "committer_name": "Jason Gunthorpe", "committer_email": "jgg@mellanox.com", "committer_company": "Mellanox", "commit_date": "2019-07-22T15:22:46-03:00", "subject": "RDMA/siw: Remove set but not used variables 'rv'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6c52fdc244b5 (\"rdma/siw: connection management\")", "cc_stable": false, "subsystem_prefix": "rdma", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "Jason Gunthorpe <jgg@mellanox.com> (Mellanox)"], "reviewed_by": ["Bernard Metzler <bmt@zurich.ibm.com> (IBM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 20, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in tier-3 driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal user impact"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Reviewed-by, proper Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and committer from different companies"}}, "score_justification": "Compiler warning fix removing unused variable in RDMA driver", "code_snippet": "@@ -220,13 +220,12 @@ static void siw_put_work(struct siw_cm_work *work)\n static void siw_cep_set_inuse(struct siw_cep *cep)\n {\n \tunsigned long flags;\n-\tint rv;\n retry:\n \tspin_lock_irqsave(&cep->lock, flags);\n \n \tif (cep->in_use) {\n \t\tspin_unlock_irqrestore(&cep->lock, flags);\n-\t\trv = wait_event_interruptible(cep->waitq, !cep->in_use);\n+\t\twait_event_interruptible(cep->waitq, !cep->in_use);\n \t\tif (signal_pending(current))\n \t\t\tflush_signals(current);\n \t\tgoto retry;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/af0653d56657340a80622aeb96707f7fc8506225"}
{"commit_hash": "f4e5f775db5a4631300dccd0de5eafb50a77c131", "short_hash": "f4e5f775db5a", "author_name": "Yonglong Liu", "author_email": "liuyonglong@huawei.com", "author_company": "Huawei", "author_date": "2019-07-22T13:59:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-22T18:18:35-07:00", "subject": "net: hns: fix LED configuration for marvell phy", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 077772468ec1 (\"net: phy: marvell: change default m88e1510 LED configuration\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/hns"], "subsystem_tier": 3, "files_changed": 1, "insertions": 22, "deletions": 1, "hunks": 8, "review_chain": {"signed_off_by": ["Yonglong Liu <liuyonglong@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["linyunsheng <linyunsheng@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 42, "score_technical": 10, "score_impact": 16, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in important networking driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting LED functionality on Hisilicon hardware"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good Fixes tag and explanation, single reviewer"}, "community": {"cross_org": 2, "maintainer": 3, "response": 1, "subtotal": 6, "details": "Huawei author, maintainer commit, Fixes existing bug"}}, "score_justification": "Regression fix for Marvell PHY LED configuration on Hisilicon Hip07", "code_snippet": "@@ -1174,6 +1182,16 @@ int hns_nic_init_phy(struct net_device *ndev, struct hnae_handle *h)\n \tif (h->phy_if != PHY_INTERFACE_MODE_XGMII) {\n \t\tphy_dev->dev_flags = 0;\n \n+\t\t/* register the PHY fixup (for Marvell 88E1510) */\n+\t\tret = phy_register_fixup_for_uid(MARVELL_PHY_ID_88E1510,\n+\t\t\t\t\t\t MARVELL_PHY_ID_MASK,\n+\t\t\t\t\t\t hns_phy_marvell_fixup);\n+\t\t/* we can live without it, so just issue a warning */\n+\t\tif (ret)\n+\t\t\tnetdev_warn(ndev,\n+\t\t\t\t    \"Cannot register PHY fixup, ret=%d\\n\",\n+\t\t\t\t    ret);\n+\n \t\tret = phy_connect_direct(ndev, phy_dev, hns_nic_adjust_link,\n \t\t\t\t\t h->phy_if);\n \t} else {", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4e5f775db5a4631300dccd0de5eafb50a77c131"}
{"commit_hash": "bca031e2c8aa22a978a2452bf959e27e9fa73dc7", "short_hash": "bca031e2c8aa", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-07-18T08:15:10Z", "committer_name": "Marc Zyngier", "committer_email": "marc.zyngier@arm.com", "committer_company": "ARM", "commit_date": "2019-07-23T09:23:44+01:00", "subject": "KVM: arm/arm64: Introduce kvm_pmu_vcpu_init() to setup PMU counter index", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 80f393a23be6 (\"KVM: arm/arm64: Support chained PMU counters\")", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm/arm", "include/kvm"], "subsystem_tier": 2, "files_changed": 3, "insertions": 19, "deletions": 3, "hunks": 10, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <marc.zyngier@arm.com> (ARM)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Julien Thierry <julien.thierry@arm.com> (ARM)"], "reported_by": []}, "score_total": 52, "score_technical": 14, "score_impact": 22, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 14, "details": "Small change in critical KARM subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Crash fix with KASAN bug report"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Well-documented with proper tags"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org with maintainer"}}, "score_justification": "KASAN bug fix for uninitialized PMU counter idx in ARM KVM", "code_snippet": "@@ -340,6 +340,8 @@ int kvm_arch_vcpu_init(struct kvm_vcpu *vcpu)\n \t/* Set up the timer */\n \tkvm_timer_vcpu_init(vcpu);\n \n+\tkvm_pmu_vcpu_init(vcpu);\n+\n \tkvm_arm_reset_debug_ptr(vcpu);\n \n \treturn kvm_vgic_vcpu_init(vcpu);\ndiff --git a/virt/kvm/arm/pmu.c b/virt/kvm/arm/pmu.c\nindex 3dd8238ed246..362a01886bab 100644\n--- a/virt/kvm/arm/pmu.c\n+++ b/virt/kvm/arm/pmu.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/bca031e2c8aa22a978a2452bf959e27e9fa73dc7"}
{"commit_hash": "e0a12445d1cb186d875410d093a00d215bec6a89", "short_hash": "e0a12445d1cb", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-17T11:55:04+08:00", "committer_name": "Rafael J. Wysocki", "committer_email": "rafael.j.wysocki@intel.com", "committer_company": "Intel", "commit_date": "2019-07-23T09:49:10+02:00", "subject": "cpufreq/pasemi: fix use-after-free in pas_cpufreq_cpu_init()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE", "BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: a9acc26b75f6 (\"cpufreq/pasemi: fix possible object reference leak\")", "cc_stable": false, "subsystem_prefix": "cpufreq", "subsystems_touched": ["drivers/cpufreq"], "subsystem_tier": 3, "files_changed": 1, "insertions": 9, "deletions": 14, "hunks": 6, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Rafael J. Wysocki <rafael.j.wysocki@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Viresh Kumar <viresh.kumar@linaro.org> (Linaro)"], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 17, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in cpufreq driver with use-after-free fix"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "UAF vulnerability affecting specific driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Acked-by tag, proper Fixes tag, clear explanation"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "ZTE author, Intel maintainer, cross-org review"}}, "score_justification": "Use-after-free in cpufreq driver where cpu variable used after of_node_put()", "code_snippet": "@@ -131,10 +131,18 @@ static int pas_cpufreq_cpu_init(struct cpufreq_policy *policy)\n \tint err = -ENODEV;\n \n \tcpu = of_get_cpu_node(policy->cpu, NULL);\n+\tif (!cpu)\n+\t\tgoto out;\n \n+\tmax_freqp = of_get_property(cpu, \"clock-frequency\", NULL);\n \tof_node_put(cpu);\n-\tif (!cpu)\n+\tif (!max_freqp) {\n+\t\terr = -EINVAL;\n \t\tgoto out;\n+\t}\n+\n+\t/* we need the freq in kHz */\n+\tmax_freq = *max_freqp / 1000;\n \n \tdn = of_find_compatible_node(NULL, NULL, \"1682m-sdc\");\n \tif (!dn)", "flags": ["REGRESSION_FIX"], "link": "https://lore.kernel.org/linux-kernel/e0a12445d1cb186d875410d093a00d215bec6a89"}
{"commit_hash": "8fe34be14ecb5eb0ef8d8d44aa7ab62d9e2911ca", "short_hash": "8fe34be14ecb", "author_name": "yangerkun", "author_email": "yangerkun@huawei.com", "author_company": "Huawei", "author_date": "2019-07-23T11:23:13+08:00", "committer_name": "Christoph Hellwig", "committer_email": "hch@lst.de", "committer_company": "Lst", "commit_date": "2019-07-23T17:47:02+02:00", "subject": "Revert \"nvme-pci: don't create a read hctx mapping without read queues\"", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BACK-REVERT"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/nvme", "subsystems_touched": ["drivers/nvme/host"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 3, "hunks": 2, "review_chain": {"signed_off_by": ["yangerkun <yangerkun@huawei.com> (Huawei)", "Christoph Hellwig <hch@lst.de> (Lst)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 8, "score_impact": 14, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 4-line change in NVMe host driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Revert fixing regression affecting NVMe poll queues"}, "quality": {"review_chain": 1, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Clear revert message, minimal review tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, LST maintainer merged"}}, "score_justification": "Revert of commit causing poll_queues failure when nr_read_queues=0", "code_snippet": "@@ -2254,9 +2254,7 @@ static int nvme_dev_add(struct nvme_dev *dev)\n \tif (!dev->ctrl.tagset) {\n \t\tdev->tagset.ops = &nvme_mq_ops;\n \t\tdev->tagset.nr_hw_queues = dev->online_queues - 1;\n-\t\tdev->tagset.nr_maps = 1; /* default */\n-\t\tif (dev->io_queues[HCTX_TYPE_READ])\n-\t\t\tdev->tagset.nr_maps++;\n+\t\tdev->tagset.nr_maps = 2; /* default + read */\n \t\tif (dev->io_queues[HCTX_TYPE_POLL])\n \t\t\tdev->tagset.nr_maps++;\n \t\tdev->tagset.timeout = NVME_IO_TIMEOUT;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8fe34be14ecb5eb0ef8d8d44aa7ab62d9e2911ca"}
{"commit_hash": "e45ab43b1d404c5a9bacf565652421e8541c9f26", "short_hash": "e45ab43b1d40", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-23T22:34:50+08:00", "committer_name": "Martin K. Petersen", "committer_email": "martin.petersen@oracle.com", "committer_company": "Oracle", "commit_date": "2019-07-23T22:14:06-04:00", "subject": "scsi: megaraid_sas: Make some functions static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "scsi", "subsystems_touched": ["drivers/scsi"], "subsystem_tier": 3, "files_changed": 1, "insertions": 14, "deletions": 13, "hunks": 22, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Martin K. Petersen <martin.petersen@oracle.com> (Oracle)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Sumit Saxena <sumit.saxena@broadcom.com> (Broadcom)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "22 hunks, small change across 1 file"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good review chain with proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org (Huawei, Oracle, Broadcom)"}}, "score_justification": "Sparse warning fix adding static to 11 SCSI driver functions", "code_snippet": "@@ -576,7 +576,8 @@ megasas_alloc_cmdlist_fusion(struct megasas_instance *instance)\n \n \treturn 0;\n }\n-int\n+\n+static int\n megasas_alloc_request_fusion(struct megasas_instance *instance)\n {\n \tstruct fusion_context *fusion;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e45ab43b1d404c5a9bacf565652421e8541c9f26"}
{"commit_hash": "e9f2a856e102fa27715b94bcc2240f686536d29b", "short_hash": "e9f2a856e102", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-06T11:37:20+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-07-24T11:16:31+02:00", "subject": "can: flexcan: fix an use-after-free in flexcan_setup_stop_mode()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: de3578c198c6 (\"can: flexcan: add self wakeup support\")", "cc_stable": true, "subsystem_prefix": "can", "subsystems_touched": ["drivers/net/can"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 22, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in CAN driver (4 hunks, +5/-3 lines)"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 22, "details": "Use-after-free fix with stable backport, affects CAN users"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Has Fixes tag and Cc: stable, cross-org review"}, "community": {"cross_org": 4, "maintainer": 2, "response": 0, "subtotal": 6, "details": "Author from ZTE, maintainer from Pengutronix"}}, "score_justification": "Use-after-free fix in CAN driver with stable backport and cross-org review", "code_snippet": "@@ -1437,10 +1437,10 @@ static int flexcan_setup_stop_mode(struct platform_device *pdev)\n \n \tpriv = netdev_priv(dev);\n \tpriv->stm.gpr = syscon_node_to_regmap(gpr_np);\n-\tof_node_put(gpr_np);\n \tif (IS_ERR(priv->stm.gpr)) {\n \t\tdev_dbg(&pdev->dev, \"could not find gpr regmap\\n\");\n-\t\treturn PTR_ERR(priv->stm.gpr);\n+\t\tret = PTR_ERR(priv->stm.gpr);\n+\t\tgoto out_put_node;\n \t}\n \n \tpriv->stm.req_gpr = out_val[1];", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e9f2a856e102fa27715b94bcc2240f686536d29b"}
{"commit_hash": "b7a14297f102b6e2ce6f16feffebbb9bde1e9b55", "short_hash": "b7a14297f102", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-05-18T17:35:43+08:00", "committer_name": "Marc Kleine-Budde", "committer_email": "mkl@pengutronix.de", "committer_company": "Pengutronix", "commit_date": "2019-07-24T11:19:03+02:00", "subject": "can: gw: Fix error path of cgw_module_init", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: c1aabdf379bc (\"can-gw: add netlink based CAN routing\")", "cc_stable": false, "subsystem_prefix": "net/can", "subsystems_touched": ["net/can"], "subsystem_tier": 2, "files_changed": 1, "insertions": 33, "deletions": 15, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Marc Kleine-Budde <mkl@pengutronix.de> (Pengutronix)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Oliver Hartkopp <socketcan@hartkopp.net> (Hartkopp)"], "reported_by": []}, "score_total": 45, "score_technical": 12, "score_impact": 16, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix with Fixes tag but no stable"}, "quality": {"review_chain": 6, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Well-reviewed with proper Fixes tag and context"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org contribution from Huawei to Pengutronix maintainer"}}, "score_justification": "Error path cleanup fix in CAN gateway module init with proper resource unwinding", "code_snippet": "@@ -1046,32 +1046,50 @@ static __init int cgw_module_init(void)\n \tpr_info(\"can: netlink gateway (rev \" CAN_GW_VERSION \") max_hops=%d\\n\",\n \t\tmax_hops);\n \n-\tregister_pernet_subsys(&cangw_pernet_ops);\n+\tret = register_pernet_subsys(&cangw_pernet_ops);\n+\tif (ret)\n+\t\treturn ret;\n+\n+\tret = -ENOMEM;\n \tcgw_cache = kmem_cache_create(\"can_gw\", sizeof(struct cgw_job),\n \t\t\t\t      0, 0, NULL);\n-\n \tif (!cgw_cache)\n-\t\treturn -ENOMEM;\n+\t\tgoto out_cache_create;\n \n \t/* set notifier */\n \tnotifier.notifier_call = cgw_notifier;\n-\tregister_netdevice_notifier(&notifier);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b7a14297f102b6e2ce6f16feffebbb9bde1e9b55"}
{"commit_hash": "3d139703d397f6281368047ba7ad1c8bf95aa8ab", "short_hash": "3d139703d397", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T15:13:56+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-24T11:29:41+02:00", "subject": "fpga-manager: altera-ps-spi: Fix build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: fcfe18f885f6 (\"fpga-manager: altera-ps-spi: use bitrev8x4\")", "cc_stable": true, "subsystem_prefix": "fpga", "subsystems_touched": ["drivers/fpga"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Moritz Fischer <mdf@kernel.org> (Kernel)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 6, "score_impact": 14, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Minimal Kconfig fix, driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 14, "details": "Build error fix with stable backport, affects specific driver users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Clear build error report with Fixes tag, Acked-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Reported-by internal robot, cross-company maintainer acceptance"}}, "score_justification": "Build dependency fix in FPGA driver Kconfig with stable backport and cross-company review", "code_snippet": "@@ -40,6 +40,7 @@ config ALTERA_PR_IP_CORE_PLAT\n config FPGA_MGR_ALTERA_PS_SPI\n \ttristate \"Altera FPGA Passive Serial over SPI\"\n \tdepends on SPI\n+\tselect BITREVERSE\n \thelp\n \t  FPGA manager driver support for Altera Arria/Cyclone/Stratix\n \t  using the passive serial interface over SPI.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/3d139703d397f6281368047ba7ad1c8bf95aa8ab"}
{"commit_hash": "266e85a5ec9100dcd9ae03601453bbc96fefee5d", "short_hash": "266e85a5ec91", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-07-24T17:43:13+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-24T13:56:53+02:00", "subject": "KVM: X86: Boost queue head vCPU to mitigate lock waiter preemption", "primary_category": "FEAT-PERF", "secondary_categories": ["FEAT-FUNC"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical KVM subsystem"}, "impact": {"category_base": 10, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 16, "details": "Performance optimization for VM lock contention"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 3, "atomicity": 2, "subtotal": 13, "details": "Good message with benchmark data, cc'd maintainers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Tencent, maintainer from Red Hat"}}, "score_justification": "Performance optimization for KVM lock preemption with benchmark validation", "code_snippet": "@@ -7206,7 +7206,7 @@ static void kvm_sched_yield(struct kvm *kvm, unsigned long dest_id)\n \n \trcu_read_unlock();\n \n-\tif (target)\n+\tif (target && READ_ONCE(target->ready))\n \t\tkvm_vcpu_yield_to(target);\n }\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/266e85a5ec9100dcd9ae03601453bbc96fefee5d"}
{"commit_hash": "0c7d37f4d9b8446956e97b7c5e61173cdb7c8522", "short_hash": "0c7d37f4d9b8", "author_name": "Kefeng Wang", "author_email": "wangkefeng.wang@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T21:27:57+08:00", "committer_name": "Greg Kroah-Hartman", "committer_email": "gregkh@linuxfoundation.org", "committer_company": "Linuxfoundation", "commit_date": "2019-07-25T14:39:51+02:00", "subject": "hpet: Fix division by zero in hpet_time_div()", "primary_category": "BUG-CRASH", "secondary_categories": ["SEC-HARDEN"], "cve_ids": [], "fixes_tag": "", "cc_stable": true, "subsystem_prefix": "drivers/char", "subsystems_touched": ["drivers/char"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Kefeng Wang <wangkefeng.wang@huawei.com> (Huawei)", "Zhang HongJun <zhanghongjun2@huawei.com> (Huawei)", "Greg Kroah-Hartman <gregkh@linuxfoundation.org> (Linuxfoundation)"], "reviewed_by": ["Arnd Bergmann <arnd@arndb.de> (Arndb)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 46, "score_technical": 6, "score_impact": 21, "score_quality": 14, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small 3-line fix in peripheral driver"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 21, "details": "Crash fix with stable backport affecting HPET users"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Excellent message with UBSAN report and reproducer, Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Cross-company (Huawei->Linux Foundation), fixes syzbot report"}}, "score_justification": "Division-by-zero crash fix in HPET driver with UBSAN report, syzbot reproducer, and stable backport", "code_snippet": "@@ -567,8 +567,7 @@ static inline unsigned long hpet_time_div(struct hpets *hpets,\n \tunsigned long long m;\n \n \tm = hpets->hp_tick_freq + (dis >> 1);\n-\tdo_div(m, dis);\n-\treturn (unsigned long)m;\n+\treturn div64_ul(m, dis);\n }\n \n static int\n", "flags": ["UBSAN"], "link": "https://lore.kernel.org/linux-kernel/0c7d37f4d9b8446956e97b7c5e61173cdb7c8522"}
{"commit_hash": "d105ef8120dd522c3233a1395ee0b318ed0929e8", "short_hash": "d105ef8120dd", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T16:32:58+08:00", "committer_name": "Vinod Koul", "committer_email": "vkoul@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-25T18:29:44+05:30", "subject": "dmaengine: tegra210-adma: Fix unused function warnings", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 3145d73e69ba (\"dmaengine: tegra210-adma: remove PM_CLK dependency\")", "cc_stable": false, "subsystem_prefix": "drivers/dma", "subsystems_touched": ["drivers/dma"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Vinod Koul <vkoul@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jon Hunter <jonathanh@nvidia.com> (NVIDIA)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)", "Arnd Bergmann <arnd@arndb.de> (Arndb)"]}, "score_total": 19, "score_technical": 5, "score_impact": 4, "score_quality": 6, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Tiny change in standard driver subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with minimal runtime impact"}, "quality": {"review_chain": 2, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 6, "details": "Good message with ack and proper tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, kernel.org maintainer, external report"}}, "score_justification": "Compiler warning fix adding __maybe_unused to runtime PM functions", "code_snippet": "@@ -712,7 +712,7 @@ static struct dma_chan *tegra_dma_of_xlate(struct of_phandle_args *dma_spec,\n \treturn chan;\n }\n \n-static int tegra_adma_runtime_suspend(struct device *dev)\n+static int __maybe_unused tegra_adma_runtime_suspend(struct device *dev)\n {\n \tstruct tegra_adma *tdma = dev_get_drvdata(dev);\n \tstruct tegra_adma_chan_regs *ch_reg;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d105ef8120dd522c3233a1395ee0b318ed0929e8"}
{"commit_hash": "09e088a4903bd0dd911b4f1732b250130cdaffed", "short_hash": "09e088a4903b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T22:08:50+08:00", "committer_name": "Juergen Gross", "committer_email": "jgross@suse.com", "committer_company": "SUSE", "commit_date": "2019-07-26T10:29:05+02:00", "subject": "xen/pciback: remove set but not used variable 'old_state'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/xen", "subsystems_touched": ["drivers/xen/xen-pciback"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Juergen Gross <jgross@suse.com> (SUSE)"], "reviewed_by": ["Boris Ostrovsky <boris.ostrovsky@oracle.com> (Oracle)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 hunks, 3 lines changed in xen driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by, good message with warning details, no tests"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @suse, reviewer @oracle, robot report"}}, "score_justification": "Compiler warning fix removing unused variable in Xen PCI backend driver", "code_snippet": "@@ -116,13 +116,12 @@ static int pm_ctrl_write(struct pci_dev *dev, int offset, u16 new_value,\n {\n \tint err;\n \tu16 old_value;\n-\tpci_power_t new_state, old_state;\n+\tpci_power_t new_state;\n \n \terr = pci_read_config_word(dev, offset, &old_value);\n \tif (err)\n \t\tgoto out;\n \n-\told_state = (pci_power_t)(old_value & PCI_PM_CTRL_STATE_MASK);\n \tnew_state = (pci_power_t)(new_value & PCI_PM_CTRL_STATE_MASK);\n \n \tnew_value &= PM_OK_BITS;\n", "flags": ["WARN_FIX", "CROSS_ORG"], "link": "https://lore.kernel.org/linux-kernel/09e088a4903bd0dd911b4f1732b250130cdaffed"}
{"commit_hash": "34f8eb92ca053cbba2887bb7e4dbf2b2cd6eb733", "short_hash": "34f8eb92ca05", "author_name": "Nianyao Tang", "author_email": "tangnianyao@huawei.com", "author_company": "Huawei", "author_date": "2019-07-26T17:32:57+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-26T14:27:21+01:00", "subject": "irqchip/gic-v3-its: Free unused vpt_page when alloc vpe table fail", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Nianyao Tang <tangnianyao@huawei.com> (Huawei)", "Shaokun Zhang <zhangshaokun@hisilicon.com> (HiSilicon)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 13, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in tier-3 interrupt controller driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Resource leak fix affecting ARM GICv3 ITS users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Multiple reviewers, clear message, no test evidence"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Huawei author, Kernel.org maintainer, cross-org"}}, "score_justification": "Memory leak fix in error path - freeing wrong variable causes leak", "code_snippet": "@@ -3008,7 +3008,7 @@ static int its_vpe_init(struct its_vpe *vpe)\n \n \tif (!its_alloc_vpe_table(vpe_id)) {\n \t\tits_vpe_id_free(vpe_id);\n-\t\tits_free_pending_table(vpe->vpt_page);\n+\t\tits_free_pending_table(vpt_page);\n \t\treturn -ENOMEM;\n \t}\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/34f8eb92ca053cbba2887bb7e4dbf2b2cd6eb733"}
{"commit_hash": "b5fa9fc9e809f84bb20439730162eccfed906a76", "short_hash": "b5fa9fc9e809", "author_name": "Wen Yang", "author_email": "wen.yang99@zte.com.cn", "author_company": "ZTE", "author_date": "2019-07-08T14:19:04+08:00", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-26T14:40:01+01:00", "subject": "irqchip/renesas-rza1: Fix an use-after-free in rza1_irqc_probe()", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: a644ccb819bc (\"irqchip: Add Renesas RZ/A1 Interrupt Controller driver\")", "cc_stable": false, "subsystem_prefix": "irqchip", "subsystems_touched": ["drivers/irqchip"], "subsystem_tier": 2, "files_changed": 1, "insertions": 8, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Wen Yang <wen.yang99@zte.com.cn> (ZTE)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": ["Geert Uytterhoeven <geert+renesas@glider.be> (Glider)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 45, "score_technical": 10, "score_impact": 20, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical irqchip subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Use-after-free fix with Fixes tag but no stable CC"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by, good message, proper Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from ZTE, committer different org, reviewed"}}, "score_justification": "Use-after-free in irqchip probe with proper error path cleanup", "code_snippet": "@@ -208,20 +208,19 @@ static int rza1_irqc_probe(struct platform_device *pdev)\n \t\treturn PTR_ERR(priv->base);\n \n \tgic_node = of_irq_find_parent(np);\n-\tif (gic_node) {\n+\tif (gic_node)\n \t\tparent = irq_find_host(gic_node);\n-\t\tof_node_put(gic_node);\n-\t}\n \n \tif (!parent) {\n \t\tdev_err(dev, \"cannot find parent domain\\n\");\n-\t\treturn -ENODEV;\n+\t\tret = -ENODEV;\n+\t\tgoto out_put_node;\n \t}\n \n \tret = rza1_irqc_parse_map(priv, gic_node);\n \tif (ret) {\n \t\tdev_err(dev, \"cannot parse %s: %d\\n\", \"interrupt-map\", ret);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b5fa9fc9e809f84bb20439730162eccfed906a76"}
{"commit_hash": "6701c619fa082e6660ecd7573fbad2177380c7cc", "short_hash": "6701c619fa08", "author_name": "Zenghui Yu", "author_email": "yuzenghui@huawei.com", "author_company": "Huawei", "author_date": "2019-07-13T04:40:54Z", "committer_name": "Marc Zyngier", "committer_email": "maz@kernel.org", "committer_company": "Kernel", "commit_date": "2019-07-26T15:40:38+01:00", "subject": "KVM: arm64: Update kvm_arm_exception_class and esr_class_str for new EC", "primary_category": "MAINT-CLEANUP", "secondary_categories": ["FEAT-HW"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "arm64", "subsystems_touched": ["arch/arm64/include/asm", "arch/arm64/kernel"], "subsystem_tier": 2, "files_changed": 2, "insertions": 5, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)"], "reviewed_by": ["James Morse <james.morse@arm.com> (ARM)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 9, "score_quality": 11, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 2, "subtotal": 12, "details": "Small change in critical arm64 KVM subsystem across 2 files"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 9, "details": "Debug visibility improvement for new hardware extensions"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Good message with 1 reviewer, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Author from Huawei, committed by kernel.org maintainer"}}, "score_justification": "Debug string update for new ARM PAC/SVE exception classes in KVM", "code_snippet": "@@ -316,9 +316,10 @@\n \n #define kvm_arm_exception_class \\\n \tECN(UNKNOWN), ECN(WFx), ECN(CP15_32), ECN(CP15_64), ECN(CP14_MR), \\\n-\tECN(CP14_LS), ECN(FP_ASIMD), ECN(CP10_ID), ECN(CP14_64), ECN(SVC64), \\\n-\tECN(HVC64), ECN(SMC64), ECN(SYS64), ECN(IMP_DEF), ECN(IABT_LOW), \\\n-\tECN(IABT_CUR), ECN(PC_ALIGN), ECN(DABT_LOW), ECN(DABT_CUR), \\\n+\tECN(CP14_LS), ECN(FP_ASIMD), ECN(CP10_ID), ECN(PAC), ECN(CP14_64), \\\n+\tECN(SVC64), ECN(HVC64), ECN(SMC64), ECN(SYS64), ECN(SVE), \\\n+\tECN(IMP_DEF), ECN(IABT_LOW), ECN(IABT_CUR), \\\n+\tECN(PC_ALIGN), ECN(DABT_LOW), ECN(DABT_CUR), \\\n \tECN(SP_ALIGN), ECN(FP_EXC32), ECN(FP_EXC64), ECN(SERROR), \\\n \tECN(BREAKPT_LOW), ECN(BREAKPT_CUR), ECN(SOFTSTP_LOW), \\\n \tECN(SOFTSTP_CUR), ECN(WATCHPT_LOW), ECN(WATCHPT_CUR), \\\ndiff --git a/arch/arm64/kernel/traps.c b/arch/arm64/kernel/traps.c\nindex 8c03456dade6..969e1565152b 100644\n--- a/arch/arm64/kernel/traps.c\n+++ b/arch/arm64/kernel/traps.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6701c619fa082e6660ecd7573fbad2177380c7cc"}
{"commit_hash": "a07fc0bb483eb24444cebd59a8112ce6e6964c48", "short_hash": "a07fc0bb483e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-24T14:54:43+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-07-29T12:05:57-04:00", "subject": "RDMA/hns: Fix build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: dd74282df573 (\"RDMA/hns: Initialize the PCI device for hip08 RoCE\")", "cc_stable": false, "subsystem_prefix": "infiniband", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 2, "files_changed": 2, "insertions": 5, "deletions": 9, "hunks": 8, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 9, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small Kconfig/Makefile fix in RDMA subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 1, "novelty": 0, "subtotal": 9, "details": "Build fix affecting developers building RDMA driver"}, "quality": {"review_chain": 2, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Well-documented build error with Fixes tags and Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 1, "subtotal": 5, "details": "Huawei author, Red Hat maintainer, internal robot report"}}, "score_justification": "Kconfig/Makefile build dependency fix for RDMA driver with proper error documentation", "code_snippet": "@@ -21,7 +21,7 @@ config INFINIBAND_HNS_HIP06\n \t  module will be called hns-roce-hw-v1\n \n config INFINIBAND_HNS_HIP08\n-\tbool \"Hisilicon Hip08 Family RoCE support\"\n+\ttristate \"Hisilicon Hip08 Family RoCE support\"\n \tdepends on INFINIBAND_HNS && PCI && HNS3\n \t---help---\n \t  RoCE driver support for Hisilicon RoCE engine in Hisilicon Hip08 SoC.\ndiff --git a/drivers/infiniband/hw/hns/Makefile b/drivers/infiniband/hw/hns/Makefile\nindex e105945b94a1..449a2d81319d 100644\n--- a/drivers/infiniband/hw/hns/Makefile\n+++ b/drivers/infiniband/hw/hns/Makefile", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a07fc0bb483eb24444cebd59a8112ce6e6964c48"}
{"commit_hash": "8c4407de3be44c2a0ec3e316cd3e4a711bc2aaba", "short_hash": "8c4407de3be4", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-11T22:24:57+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-07-29T23:35:31+02:00", "subject": "pinctrl: aspeed: Make aspeed_pinmux_ips static", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "pinctrl", "subsystems_touched": ["drivers/pinctrl/aspeed"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": ["Andrew Jeffery <andrew@aj.id.au> (Id)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 21, "score_technical": 5, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "Minimal 2-line change in pinctrl driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Sparse warning fix with minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Reviewed-by tag with clear commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Linaro maintainer, internal report"}}, "score_justification": "Sparse warning fix adding static keyword to global array", "code_snippet": "@@ -5,7 +5,7 @@\n \n #include \"pinmux-aspeed.h\"\n \n-const char *const aspeed_pinmux_ips[] = {\n+static const char *const aspeed_pinmux_ips[] = {\n \t[ASPEED_IP_SCU] = \"SCU\",\n \t[ASPEED_IP_GFX] = \"GFX\",\n \t[ASPEED_IP_LPC] = \"LPC\",\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8c4407de3be44c2a0ec3e316cd3e4a711bc2aaba"}
{"commit_hash": "5f4e4203add2b860d2345312509a160f8292063b", "short_hash": "5f4e4203add2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-30T22:29:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-30T10:28:36-07:00", "subject": "enetc: Fix build error without PHYLIB", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d4fd0404c1c9 (\"enetc: Introduce basic PF and VF ENETC ethernet drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/freescale/enetc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Claudiu Manoil <claudiu.manoil@nxp.com> (NXP)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 8, "score_impact": 13, "score_quality": 13, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal Kconfig change in networking driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build regression fix with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 3, "atomicity": 2, "subtotal": 13, "details": "Has Fixes tag, Reported-by, Acked-by, build errors documented"}, "community": {"cross_org": 2, "maintainer": 2, "response": 3, "subtotal": 7, "details": "Huawei author, NXP maintainer ack, build bot report"}}, "score_justification": "Kconfig fix adding missing PHYLIB dependency to resolve build errors", "code_snippet": "@@ -2,6 +2,7 @@\n config FSL_ENETC\n \ttristate \"ENETC PF driver\"\n \tdepends on PCI && PCI_MSI && (ARCH_LAYERSCAPE || COMPILE_TEST)\n+\tselect PHYLIB\n \thelp\n \t  This driver supports NXP ENETC gigabit ethernet controller PCIe\n \t  physical function (PF) devices, managing ENETC Ports at a privileged\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5f4e4203add2b860d2345312509a160f8292063b"}
{"commit_hash": "f4cc743a98136df3c3763050a0e8223b52d9a960", "short_hash": "f4cc743a9813", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T15:12:16+08:00", "committer_name": "Neil Armstrong", "committer_email": "narmstrong@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-07-30T14:40:17+02:00", "subject": "drm/bridge: lvds-encoder: Fix build error while CONFIG_DRM_KMS_HELPER=m", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: dbb58bfd9ae6 (\"drm/bridge: Fix lvds-encoder since the panel_bridge rework.\")", "cc_stable": false, "subsystem_prefix": "drm/bridge", "subsystems_touched": ["drivers/gpu/drm/bridge"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reviewed_by": ["Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 38, "score_technical": 8, "score_impact": 12, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal Kconfig change in GPU subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix with regression tag, affects DRM users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 12, "details": "Good commit message with Reported-by, Fixes, Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org (Huawei/Baylibre), internal robot report"}}, "score_justification": "Kconfig build fix for missing DRM_KMS_HELPER dependency, regression from previous rework", "code_snippet": "@@ -48,6 +48,7 @@ config DRM_DUMB_VGA_DAC\n config DRM_LVDS_ENCODER\n \ttristate \"Transparent parallel to LVDS encoder support\"\n \tdepends on OF\n+\tselect DRM_KMS_HELPER\n \tselect DRM_PANEL_BRIDGE\n \thelp\n \t  Support for transparent parallel to LVDS encoders that don't require\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f4cc743a98136df3c3763050a0e8223b52d9a960"}
{"commit_hash": "e1ae72a21e5f0d1846e26e3f5963930664702071", "short_hash": "e1ae72a21e5f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T17:05:20+08:00", "committer_name": "Neil Armstrong", "committer_email": "narmstrong@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-07-30T15:07:35+02:00", "subject": "drm/bridge: tc358764: Fix build error", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f38b7cca6d0e (\"drm/bridge: tc358764: Add DSI to LVDS bridge driver\")", "cc_stable": false, "subsystem_prefix": "drm", "subsystems_touched": ["drivers/gpu/drm"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 42, "score_technical": 8, "score_impact": 12, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small Kconfig change in GPU subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build configuration fix with moderate impact"}, "quality": {"review_chain": 8, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 16, "details": "Excellent review chain, detailed build error message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-company with reported-by tag from Huawei robot"}}, "score_justification": "Kconfig build dependency fix for DRM bridge driver, well-reviewed with proper build error context and fixes tag.", "code_snippet": "@@ -117,9 +117,10 @@ config DRM_THINE_THC63LVD1024\n \n config DRM_TOSHIBA_TC358764\n \ttristate \"TC358764 DSI/LVDS bridge\"\n-\tdepends on DRM && DRM_PANEL\n \tdepends on OF\n \tselect DRM_MIPI_DSI\n+\tselect DRM_KMS_HELPER\n+\tselect DRM_PANEL\n \thelp\n \t  Toshiba TC358764 DSI/LVDS bridge driver.\n \n", "flags": ["AUTO_GENERATED"], "link": "https://lore.kernel.org/linux-kernel/e1ae72a21e5f0d1846e26e3f5963930664702071"}
{"commit_hash": "e77ff779a0c6666b697c56a6e41972bbf30b977f", "short_hash": "e77ff779a0c6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T06:48:09-07:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-07-31T06:50:18-07:00", "subject": "Input: applespi - add dependency on LEDS_CLASS", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 038b1a05eae6 (\"Input: add Apple SPI keyboard and trackpad driver\")", "cc_stable": false, "subsystem_prefix": "drivers/input/keyboard", "subsystems_touched": ["drivers/input/keyboard"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 36, "score_technical": 6, "score_impact": 13, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny Kconfig fix in input driver subsystem"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build fix affecting MacBook users, regression fix"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Clear message with Fixes tag, build error context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer committer, internal robot report"}}, "score_justification": "Build dependency fix for input driver with clear error context", "code_snippet": "@@ -76,6 +76,7 @@ config KEYBOARD_APPLESPI\n \tdepends on ACPI && EFI\n \tdepends on SPI\n \tdepends on X86 || COMPILE_TEST\n+\tdepends on LEDS_CLASS\n \tselect CRC16\n \thelp\n \t  Say Y here if you are running Linux on any Apple MacBook8,1 or later,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e77ff779a0c6666b697c56a6e41972bbf30b977f"}
{"commit_hash": "d0ee879187df966ef638031b5f5183078d672141", "short_hash": "d0ee879187df", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-31T14:39:33+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-31T08:45:10-06:00", "subject": "io_uring: fix KASAN use after free in io_sq_wq_submit_work", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: f7b76ac9d17e (\"io_uring: fix counter inc/dec mismatch in async_list\")", "cc_stable": true, "subsystem_prefix": "fs/io_uring", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 52, "score_technical": 10, "score_impact": 22, "score_quality": 16, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 3-line fix in critical io_uring subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "KASAN-detected UAF race with stable backport"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 3, "atomicity": 2, "subtotal": 16, "details": "Excellent message with full KASAN report and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Kylinos to kernel.org maintainer"}}, "score_justification": "KASAN-detected use-after-free in io_uring workqueue submission path, saves flags before potential free", "code_snippet": "@@ -1838,6 +1838,7 @@ static void io_sq_wq_submit_work(struct work_struct *work)\n \tdo {\n \t\tstruct sqe_submit *s = &req->submit;\n \t\tconst struct io_uring_sqe *sqe = s->sqe;\n+\t\tunsigned int flags = req->flags;\n \n \t\t/* Ensure we clear previously set non-block flag */\n \t\treq->rw.ki_flags &= ~IOCB_NOWAIT;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0ee879187df966ef638031b5f5183078d672141"}
{"commit_hash": "020fb3bebc224dfe9353a56ecbe2d5fac499dffc", "short_hash": "020fb3bebc22", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T01:27:25Z", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-01T12:53:53-04:00", "subject": "RDMA/hns: Fix error return code in hns_roce_v1_rsv_lp_qp()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: e8ac9389f0d7 (\"RDMA: Fix allocation failure on pointer pd\")", "cc_stable": false, "subsystem_prefix": "RDMA/hns", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": ["Leon Romanovsky <leonro@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 15, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "2-line fix in driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix with error handling"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by with good Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author @huawei, committer @redhat"}}, "score_justification": "Error path fix for memory allocation in RDMA driver", "code_snippet": "@@ -750,8 +750,10 @@ static int hns_roce_v1_rsv_lp_qp(struct hns_roce_dev *hr_dev)\n \tatomic_set(&free_mr->mr_free_cq->ib_cq.usecnt, 0);\n \n \tpd = rdma_zalloc_drv_obj(ibdev, ib_pd);\n-\tif (!pd)\n+\tif (!pd) {\n+\t\tret = -ENOMEM;\n \t\tgoto alloc_mem_failed;\n+\t}\n \n \tpd->device  = ibdev;\n \tret = hns_roce_alloc_pd(pd, NULL);\n", "flags": ["REGRESSION_FIX"], "link": "https://lore.kernel.org/linux-kernel/020fb3bebc224dfe9353a56ecbe2d5fac499dffc"}
{"commit_hash": "2802d2cf24b1ca7ea4c54dde266ded6a16020eb5", "short_hash": "2802d2cf24b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T09:24:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-02T18:15:02-07:00", "subject": "enetc: Select PHYLIB while CONFIG_FSL_ENETC_VF is set", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: d4fd0404c1c9 (\"enetc: Introduce basic PF and VF ENETC ethernet drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/freescale/enetc"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 7, "score_impact": 12, "score_quality": 11, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 7, "details": "Minimal 1-line Kconfig fix in network driver"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 12, "details": "Build fix for VF driver, affects users building this config"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 1, "atomicity": 2, "subtotal": 11, "details": "Has Fixes tag, Reported-by, build error evidence"}, "community": {"cross_org": 2, "maintainer": 3, "response": 2, "subtotal": 7, "details": "Huawei author, net maintainer David Miller committed, Hulk Robot reported"}}, "score_justification": "Kconfig build dependency fix adding PHYLIB select for VF driver compilation", "code_snippet": "@@ -13,6 +13,7 @@ config FSL_ENETC\n config FSL_ENETC_VF\n \ttristate \"ENETC VF driver\"\n \tdepends on PCI && PCI_MSI && (ARCH_LAYERSCAPE || COMPILE_TEST)\n+\tselect PHYLIB\n \thelp\n \t  This driver supports NXP ENETC gigabit ethernet controller PCIe\n \t  virtual function (VF) devices enabled by the ENETC PF driver.\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2802d2cf24b1ca7ea4c54dde266ded6a16020eb5"}
{"commit_hash": "7bc36e3ce91471b6377c8eadc0a2f220a2280083", "short_hash": "7bc36e3ce914", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:48:40-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-08-03T07:02:00-07:00", "subject": "ocfs2: remove set but not used variable 'last_hash'", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "fs/", "subsystems_touched": ["fs/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -3825,7 +3825,6 @@ static int ocfs2_xattr_bucket_find(struct inode *inode,\n \tu16 blk_per_bucket = ocfs2_blocks_per_xattr_bucket(inode->i_sb);\n \tint low_bucket = 0, bucket, high_bucket;\n \tstruct ocfs2_xattr_bucket *search;\n-\tu32 last_hash;\n \tu64 blkno, lower_blkno = 0;\n \n \tsearch = ocfs2_xattr_bucket_new(inode);", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/7bc36e3ce91471b6377c8eadc0a2f220a2280083"}
{"commit_hash": "0584674d7fe407c2db91a009294d5ec19f7cb1d5", "short_hash": "0584674d7fe4", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T10:45:34Z", "committer_name": "Jani Nikula", "committer_email": "jani.nikula@intel.com", "committer_company": "Intel", "commit_date": "2019-08-05T11:43:22+03:00", "subject": "drm/i915: fix possible memory leak in intel_hdcp_auth_downstream()", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: f26ae6a652f2 (\"drm/i915: SRM revocation check for HDCP1.4 and 2.2\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jani Nikula <jani.nikula@intel.com> (Intel)", "Jani Nikula <jani.nikula@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -536,7 +536,8 @@ int intel_hdcp_auth_downstream(struct intel_connector *connector)\n \n \tif (drm_hdcp_check_ksvs_revoked(dev, ksv_fifo, num_downstream)) {\n \t\tDRM_ERROR(\"Revoked Ksv(s) in ksv_fifo\\n\");\n-\t\treturn -EPERM;\n+\t\tret = -EPERM;\n+\t\tgoto err;\n \t}\n \n \t/*\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/0584674d7fe407c2db91a009294d5ec19f7cb1d5"}
{"commit_hash": "a48d06f9b7cedbb8ad7804d1720168b7ee6a34e7", "short_hash": "a48d06f9b7ce", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-01T11:30:13+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:45+02:00", "subject": "KVM: LAPIC: Don't need to wakeup vCPU twice afer timer fire", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": ["FEAT-PERF"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 34, "score_technical": 10, "score_impact": 13, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small cleanup in critical KVM subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 4, "novelty": 2, "subtotal": 13, "details": "Code simplification affecting KVM users"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic explanation, cross-company review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Tencent author, Red Hat maintainer"}}, "score_justification": "Removes redundant vCPU wakeup call in LAPIC timer handling", "code_snippet": "@@ -1548,7 +1548,6 @@ static void kvm_apic_inject_pending_timer_irqs(struct kvm_lapic *apic)\n static void apic_timer_expired(struct kvm_lapic *apic)\n {\n \tstruct kvm_vcpu *vcpu = apic->vcpu;\n-\tstruct swait_queue_head *q = &vcpu->wq;\n \tstruct kvm_timer *ktimer = &apic->lapic_timer;\n \n \tif (atomic_read(&apic->lapic_timer.pending))", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a48d06f9b7cedbb8ad7804d1720168b7ee6a34e7"}
{"commit_hash": "046ddeed0461b5d270470c253cbb321103d048b6", "short_hash": "046ddeed0461", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-01T11:30:14+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:46+02:00", "subject": "KVM: Check preempted_in_kernel for involuntary preemption", "primary_category": "BUG-RACE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 16, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical KVM subsystem with READ_ONCE/WRITE_ONCE race fix"}, "impact": {"category_base": 11, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Race condition fix affecting KVM virtualization users"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clean commit with maintainer sign-offs, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (Tencent/Red Hat) with maintainer sign-off"}}, "score_justification": "Race condition fix in KVM vCPU spin loop using READ_ONCE/WRITE_ONCE for proper atomicity", "code_snippet": "@@ -2508,7 +2508,8 @@ void kvm_vcpu_on_spin(struct kvm_vcpu *me, bool yield_to_kernel_mode)\n \t\t\t\tcontinue;\n \t\t\tif (swait_active(&vcpu->wq) && !kvm_arch_vcpu_runnable(vcpu))\n \t\t\t\tcontinue;\n-\t\t\tif (yield_to_kernel_mode && !kvm_arch_vcpu_in_kernel(vcpu))\n+\t\t\tif (READ_ONCE(vcpu->preempted) && yield_to_kernel_mode &&\n+\t\t\t\t!kvm_arch_vcpu_in_kernel(vcpu))\n \t\t\t\tcontinue;\n \t\t\tif (!kvm_vcpu_eligible_for_directed_yield(vcpu))\n \t\t\t\tcontinue;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/046ddeed0461b5d270470c253cbb321103d048b6"}
{"commit_hash": "17e433b54393a6269acbcb792da97791fe1592d8", "short_hash": "17e433b54393", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-05T10:03:19+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:47+02:00", "subject": "KVM: Fix leak vCPU's VMCS value into other pCPU", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 98f4a1467 (KVM: add kvm_arch_vcpu_runnable() test to kvm_vcpu_on_spin() loop)", "cc_stable": true, "subsystem_prefix": "arch/", "subsystems_touched": ["arch/", "include/", "virt/"], "subsystem_tier": 2, "files_changed": 7, "insertions": 59, "deletions": 1, "hunks": 20, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -50,6 +50,11 @@ int kvm_arch_vcpu_runnable(struct kvm_vcpu *v)\n \treturn !!(v->arch.pending_exceptions) || kvm_request_pending(v);\n }\n \n+bool kvm_arch_dy_runnable(struct kvm_vcpu *vcpu)\n+{\n+\treturn kvm_arch_vcpu_runnable(vcpu);\n+}\n+\n bool kvm_arch_vcpu_in_kernel(struct kvm_vcpu *vcpu)\n {\n \treturn false;\ndiff --git a/arch/x86/include/asm/kvm_host.h b/arch/x86/include/asm/kvm_host.h\nindex e74f0711eaaf..fc046ca89d32 100644\n--- a/arch/x86/include/asm/kvm_host.h\n+++ b/arch/x86/include/asm/kvm_host.h", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/17e433b54393a6269acbcb792da97791fe1592d8"}
{"commit_hash": "b33d567560c1aadf3033290d74d4fd67af47aa61", "short_hash": "b33d567560c1", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T20:42:18+08:00", "committer_name": "Miguel Ojeda", "committer_email": "miguel.ojeda.sandonis@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-05T22:33:31+02:00", "subject": "auxdisplay: panel: need to delete scan_timer when misc_register fails in panel_attach", "primary_category": "BUG-RESOURCE", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/auxdisplay", "subsystems_touched": ["drivers/auxdisplay"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Miguel Ojeda <miguel.ojeda.sandonis@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 6, "score_impact": 13, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small fix in peripheral driver"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 3, "novelty": 1, "subtotal": 13, "details": "Error path cleanup fix for specific driver"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Reported-by tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Cross-org commit with robot reporter"}}, "score_justification": "Resource leak fix on error path - missing timer cleanup", "code_snippet": "@@ -1617,6 +1617,8 @@ static void panel_attach(struct parport *port)\n \treturn;\n \n err_lcd_unreg:\n+\tif (scan_timer.function)\n+\t\tdel_timer_sync(&scan_timer);\n \tif (lcd.enabled)\n \t\tcharlcd_unregister(lcd.charlcd);\n err_unreg_device:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b33d567560c1aadf3033290d74d4fd67af47aa61"}
{"commit_hash": "96a50c0d907ac8f5c3d6b051031a19eb8a2b53e3", "short_hash": "96a50c0d907a", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: Fix dma_map_single failed on arm64", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 12, "score_impact": 18, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 6, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 12, "details": "Medium change with 16 hunks in network driver"}, "impact": {"category_base": 13, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Crash fix causing interface init failure on arm64"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with symptoms but no Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, maintainer from different org"}}, "score_justification": "DMA mapping crash fix for network driver preventing interface init on arm64", "code_snippet": "@@ -625,9 +626,9 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \t\tbuf = netdev_alloc_frag(priv->rx_buf_size);\n \t\tif (!buf)\n \t\t\tgoto done;\n-\t\tphys = dma_map_single(&ndev->dev, buf,\n+\t\tphys = dma_map_single(priv->dev, buf,\n \t\t\t\t      RX_BUF_SIZE, DMA_FROM_DEVICE);\n-\t\tif (dma_mapping_error(&ndev->dev, phys))\n+\t\tif (dma_mapping_error(priv->dev, phys))\n \t\t\tgoto done;\n \t\tpriv->rx_buf[priv->rx_head] = buf;\n \t\tpriv->rx_phys[priv->rx_head] = phys;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/96a50c0d907ac8f5c3d6b051031a19eb8a2b53e3"}
{"commit_hash": "f2243b82785942be519016067ee6c55a063bbfe2", "short_hash": "f2243b827859", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: fix hip04-xmit never return TX_BUSY", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 8, "score_impact": 14, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in network driver affecting TX queue logic"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Fixes incorrect return value in network driver"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Clear explanation with Signed-off-by tags"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Logic bug fix in Hisilicon network driver TX queue handling", "code_snippet": "@@ -248,7 +248,7 @@ struct hip04_priv {\n \n static inline unsigned int tx_count(unsigned int head, unsigned int tail)\n {\n-\treturn (head - tail) % (TX_DESC_NUM - 1);\n+\treturn (head - tail) % TX_DESC_NUM;\n }\n \n static void hip04_config_port(struct net_device *ndev, u32 speed, u32 duplex)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2243b82785942be519016067ee6c55a063bbfe2"}
{"commit_hash": "1a2c070ae805910a853b4a14818481ed2e17c727", "short_hash": "1a2c070ae805", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: make hip04_tx_reclaim non-reentrant", "primary_category": "BUG-RACE", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["drivers/net/ethernet/hisilicon"], "subsystem_tier": 3, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 43, "score_technical": 10, "score_impact": 18, "score_quality": 11, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in network driver subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Race condition causing kernel oops in driver"}, "quality": {"review_chain": 3, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Detailed crash stack trace, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from Huawei, committer from different org"}}, "score_justification": "Reentrancy race fix in Hisilicon network driver causing NULL pointer dereference and kernel panic", "code_snippet": "@@ -585,6 +585,9 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \tu16 len;\n \tu32 err;\n \n+\t/* clean up tx descriptors */\n+\ttx_remaining = hip04_tx_reclaim(ndev, false);\n+\n \twhile (cnt && !last) {\n \t\tbuf = priv->rx_buf[priv->rx_head];\n \t\tskb = build_skb(buf, priv->rx_buf_size);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a2c070ae805910a853b4a14818481ed2e17c727"}
{"commit_hash": "d595b03de2cb0bdf9bcdf35ff27840cc3a37158f", "short_hash": "d595b03de2cb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T10:19:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:01:44-07:00", "subject": "bonding: Add vlan tx offload to hw_enc_features", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: b2a103e6d0af (\"bonding: convert to ndo_fix_features\")", "cc_stable": false, "subsystem_prefix": "drivers/net/bonding", "subsystems_touched": ["drivers/net/bonding"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jay Vosburgh <jay.vosburgh@canonical.com> (Canonical)"], "reported_by": []}, "score_total": 40, "score_technical": 8, "score_impact": 16, "score_quality": 12, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Minimal 2-line fix in network bonding driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Regression fix affecting bonding with VLAN and encapsulation"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Excellent commit message with detailed technical explanation and Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Canonical reviewer, different maintainer"}}, "score_justification": "Regression fix in bonding driver for VLAN TX offload with encapsulation", "code_snippet": "@@ -1126,6 +1126,8 @@ static void bond_compute_features(struct bonding *bond)\n done:\n \tbond_dev->vlan_features = vlan_features;\n \tbond_dev->hw_enc_features = enc_features | NETIF_F_GSO_ENCAP_ALL |\n+\t\t\t\t    NETIF_F_HW_VLAN_CTAG_TX |\n+\t\t\t\t    NETIF_F_HW_VLAN_STAG_TX |\n \t\t\t\t    NETIF_F_GSO_UDP_L4;\n \tbond_dev->mpls_features = mpls_features;\n \tbond_dev->gso_max_segs = gso_max_segs;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d595b03de2cb0bdf9bcdf35ff27840cc3a37158f"}
{"commit_hash": "e3e3af9aa29a2ada43d5c27b47ea320415cd5bb3", "short_hash": "e3e3af9aa29a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T21:08:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:29:02-07:00", "subject": "net: dsa: sja1105: remove set but not used variables 'tx_vid' and 'rx_vid'", "primary_category": "MAINT-WARN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6d7c7d948a2e (\"net: dsa: sja1105: Fix broken learning with vlan_filtering disabled\")", "cc_stable": false, "subsystem_prefix": "net: dsa: sja1105", "subsystems_touched": ["drivers/net/dsa/sja1105"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)", "Vivien Didelot <vivien.didelot@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in DSA driver"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Compiler warning fix, minimal runtime impact"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Two Reviewed-by tags, good explanation with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, netdev maintainer, internal robot report"}}, "score_justification": "Compiler warning cleanup removing unused variables in DSA driver", "code_snippet": "@@ -1223,12 +1223,8 @@ static int sja1105_fdb_dump(struct dsa_switch *ds, int port,\n {\n \tstruct sja1105_private *priv = ds->priv;\n \tstruct device *dev = ds->dev;\n-\tu16 rx_vid, tx_vid;\n \tint i;\n \n-\trx_vid = dsa_8021q_rx_vid(ds, port);\n-\ttx_vid = dsa_8021q_tx_vid(ds, port);\n-\n \tfor (i = 0; i < SJA1105_MAX_L2_LOOKUP_COUNT; i++) {\n \t\tstruct sja1105_l2_lookup_entry l2_lookup = {0};\n \t\tu8 macaddr[ETH_ALEN];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e3e3af9aa29a2ada43d5c27b47ea320415cd5bb3"}
{"commit_hash": "227f2f030e28d8783c3d10ce70ff4ba79cad653f", "short_hash": "227f2f030e28", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T14:22:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:41:41-07:00", "subject": "team: Add vlan tx offload to hw_enc_features", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 3268e5cb494d (\"team: Advertise tunneling offload features\")", "cc_stable": false, "subsystem_prefix": "drivers/net/team", "subsystems_touched": ["drivers/net/team"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 8, "score_impact": 16, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small change in network driver team subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Feature fix with user impact for network teaming"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag, minimal testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to maintainer"}}, "score_justification": "Feature regression fix enabling VLAN TX offload in team driver hw_enc_features", "code_snippet": "@@ -1004,6 +1004,8 @@ static void __team_compute_features(struct team *team)\n \n \tteam->dev->vlan_features = vlan_features;\n \tteam->dev->hw_enc_features = enc_features | NETIF_F_GSO_ENCAP_ALL |\n+\t\t\t\t     NETIF_F_HW_VLAN_CTAG_TX |\n+\t\t\t\t     NETIF_F_HW_VLAN_STAG_TX |\n \t\t\t\t     NETIF_F_GSO_UDP_L4;\n \tteam->dev->hard_header_len = max_hard_header_len;\n \n", "flags": ["CHINESE_COMPANY"], "link": "https://lore.kernel.org/linux-kernel/227f2f030e28d8783c3d10ce70ff4ba79cad653f"}
{"commit_hash": "e26cc08265dda37d2acc8394604f220ef412299d", "short_hash": "e26cc08265dd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T20:36:55+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-12T08:14:11-06:00", "subject": "blk-mq: move cancel of requeue_work to the front of blk_exit_queue", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: fbc2a15e3433 (\"blk-mq: move cancel of requeue_work into blk_mq_release\")", "cc_stable": true, "subsystem_prefix": "block", "subsystems_touched": ["block"], "subsystem_tier": 2, "files_changed": 2, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Ming Lei <ming.lei@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 51, "score_technical": 12, "score_impact": 22, "score_quality": 12, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical block subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 22, "details": "Use-after-free fix with stable backport"}, "quality": {"review_chain": 4, "message_quality": 6, "testing": 0, "atomicity": 2, "subtotal": 12, "details": "Good message with Fixes tag and Reviewed-by"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Axboe (kernel.org) merged"}}, "score_justification": "Use-after-free race in block layer exit path with proper stable backport", "code_snippet": "@@ -2666,8 +2666,6 @@ void blk_mq_release(struct request_queue *q)\n \tstruct blk_mq_hw_ctx *hctx, *next;\n \tint i;\n \n-\tcancel_delayed_work_sync(&q->requeue_work);\n-\n \tqueue_for_each_hw_ctx(q, hctx, i)\n \t\tWARN_ON_ONCE(hctx && list_empty(&hctx->hctx_list));\n \ndiff --git a/block/blk-sysfs.c b/block/blk-sysfs.c\nindex 977c659dcd18..9bfa3ea4ed63 100644\n--- a/block/blk-sysfs.c\n+++ b/block/blk-sysfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e26cc08265dda37d2acc8394604f220ef412299d"}
{"commit_hash": "4974c839d45e2ac89ce0e82b49d548cc12e02a9c", "short_hash": "4974c839d45e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T01:35:30Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-08-12T18:23:49+02:00", "subject": "Bluetooth: hci_qca: Use kfree_skb() instead of kfree()", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-MEMLEAK"], "cve_ids": [], "fixes_tag": "Fixes: 2faa3f15fa2f (\"Bluetooth: hci_qca: wcn3990: Drop baudrate change vendor event\")", "cc_stable": false, "subsystem_prefix": "drivers/bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": ["Matthias Kaehlcke <mka@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 38, "score_technical": 8, "score_impact": 16, "score_quality": 10, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in bluetooth driver subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix for Bluetooth users with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Cross-company review with Fixes tag and clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author with Holtmann maintainer, Chrome OS reviewer"}}, "score_justification": "Fixes sk_buff memory leak by using correct kfree_skb() API", "code_snippet": "@@ -912,7 +912,7 @@ static int qca_recv_event(struct hci_dev *hdev, struct sk_buff *skb)\n \t\tif (hdr->evt == HCI_EV_VENDOR)\n \t\t\tcomplete(&qca->drop_ev_comp);\n \n-\t\tkfree(skb);\n+\t\tkfree_skb(skb);\n \n \t\treturn 0;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4974c839d45e2ac89ce0e82b49d548cc12e02a9c"}
{"commit_hash": "5ee6310fb163ba7c66718905d4a19f1e71e641e0", "short_hash": "5ee6310fb163", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-10T06:12:22Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-08-12T18:23:49+02:00", "subject": "Bluetooth: btusb: Fix error return code in btusb_mtk_setup_firmware()", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: a1c49c434e15 (\"Bluetooth: btusb: Add protocol support for MediaTek MT7668U USB devices\")", "cc_stable": false, "subsystem_prefix": "drivers/bluetooth", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 4, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in Bluetooth driver"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Error handling fix with Fixes tag"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Holtmann committer"}}, "score_justification": "Error path fix returning 0 instead of -EINVAL in Bluetooth driver", "code_snippet": "@@ -2762,8 +2762,10 @@ static int btusb_mtk_setup_firmware(struct hci_dev *hdev, const char *fwname)\n \tfw_size = fw->size;\n \n \t/* The size of patch header is 30 bytes, should be skip */\n-\tif (fw_size < 30)\n+\tif (fw_size < 30) {\n+\t\terr = -EINVAL;\n \t\tgoto err_release_fw;\n+\t}\n \n \tfw_size -= 30;\n \tfw_ptr += 30;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ee6310fb163ba7c66718905d4a19f1e71e641e0"}
{"commit_hash": "4a65bbb9109ed7edd4b6ed7168ced48abb8561a2", "short_hash": "4a65bbb9109e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T22:12:43+08:00", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-08-13T05:05:38-07:00", "subject": "soc: ti: pm33xx: Make two symbols static", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: JSON_ERROR", "code_snippet": "@@ -141,7 +141,7 @@ static int __init am43xx_map_gic(void)\n }\n \n #ifdef CONFIG_SUSPEND\n-struct wkup_m3_wakeup_src rtc_wake_src(void)\n+static struct wkup_m3_wakeup_src rtc_wake_src(void)\n {\n \tu32 i;\n ", "flags": ["AGENT_ERROR", "AGENT_ERROR_JSON_ERROR", "AGENT_ERROR_JSON_ERROR"], "link": "https://lore.kernel.org/linux-kernel/4a65bbb9109ed7edd4b6ed7168ced48abb8561a2"}
{"commit_hash": "54a83d6bcbf8f4700013766b974bf9190d40b689", "short_hash": "54a83d6bcbf8", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-13T15:37:28-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-08-13T16:06:52-07:00", "subject": "mm/memcontrol.c: fix use after free in mem_cgroup_iter()", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: 5ac8fb31ad2e (\"mm: memcontrol: convert reclaim iterator to simple css refcounting\")", "cc_stable": true, "subsystem_prefix": "mm", "subsystems_touched": ["mm"], "subsystem_tier": 1, "files_changed": 1, "insertions": 29, "deletions": 10, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Qian Cai <cai@lca.pw> (Lca)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": []}, "score_total": 62, "score_technical": 14, "score_impact": 26, "score_quality": 16, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 10, "cross_subsystem": 0, "subtotal": 14, "details": "Medium-sized fix in critical memory management subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 10, "novelty": 1, "subtotal": 26, "details": "Use-after-free race fix affecting all users with stable backport"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 16, "details": "Excellent debugging detail with multiple reviewers, author self-tested"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Mediatek author, SUSE reviewer, kernel.org maintainer chain"}}, "score_justification": "Use-after-free race in memcg reclaim iterator with comprehensive debugging analysis", "code_snippet": "@@ -1130,26 +1130,45 @@ void mem_cgroup_iter_break(struct mem_cgroup *root,\n \t\tcss_put(&prev->css);\n }\n \n-static void invalidate_reclaim_iterators(struct mem_cgroup *dead_memcg)\n+static void __invalidate_reclaim_iterators(struct mem_cgroup *from,\n+\t\t\t\t\tstruct mem_cgroup *dead_memcg)\n {\n-\tstruct mem_cgroup *memcg = dead_memcg;\n \tstruct mem_cgroup_reclaim_iter *iter;\n \tstruct mem_cgroup_per_node *mz;\n \tint nid;\n \tint i;\n \n-\tfor (; memcg; memcg = parent_mem_cgroup(memcg)) {\n-\t\tfor_each_node(nid) {\n-\t\t\tmz = mem_cgroup_nodeinfo(memcg, nid);\n-\t\t\tfor (i = 0; i <= DEF_PRIORITY; i++) {\n-\t\t\t\titer = &mz->iter[i];\n-\t\t\t\tcmpxchg(&iter->position,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/54a83d6bcbf8f4700013766b974bf9190d40b689"}
{"commit_hash": "2d6c25215ab26bb009de3575faab7b685f138e92", "short_hash": "2d6c25215ab2", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T18:44:27+02:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-13T19:59:23+03:00", "subject": "KEYS: trusted: allow module init if TPM is inactive or deactivated", "primary_category": "BUG-REGRESSION", "secondary_categories": ["SEC-ACCESS"], "cve_ids": [], "fixes_tag": "Fixes: 240730437deb (\"KEYS: trusted: explicitly use tpm_chip structure...\")", "cc_stable": true, "subsystem_prefix": "security", "subsystems_touched": ["security/keys"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Tyler Hicks <tyhicks@canonical.com> (Canonical)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 50, "score_technical": 10, "score_impact": 18, "score_quality": 15, "score_community": 7, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small change in critical security subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting TPM key users"}, "quality": {"review_chain": 8, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 15, "details": "Multi-org review with detailed rationale"}, "community": {"cross_org": 4, "maintainer": 3, "response": 0, "subtotal": 7, "details": "Huawei author, Intel maintainer, Canonical reviewer"}}, "score_justification": "Regression fix in trusted keys allowing module init when TPM inactive", "code_snippet": "@@ -1228,24 +1228,11 @@ static int __init trusted_shash_alloc(void)\n \n static int __init init_digests(void)\n {\n-\tu8 digest[TPM_MAX_DIGEST_SIZE];\n-\tint ret;\n-\tint i;\n-\n-\tret = tpm_get_random(chip, digest, TPM_MAX_DIGEST_SIZE);\n-\tif (ret < 0)\n-\t\treturn ret;\n-\tif (ret < TPM_MAX_DIGEST_SIZE)\n-\t\treturn -EFAULT;\n-\n \tdigests = kcalloc(chip->nr_allocated_banks, sizeof(*digests),\n \t\t\t  GFP_KERNEL);\n \tif (!digests)\n \t\treturn -ENOMEM;\n \n-\tfor (i = 0; i < chip->nr_allocated_banks; i++)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/2d6c25215ab26bb009de3575faab7b685f138e92"}
{"commit_hash": "6d5afe20397b478192ed8c38ec0ee10fa3aec649", "short_hash": "6d5afe20397b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:05:50+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-08-13T20:45:01-07:00", "subject": "sctp: fix memleak in sctp_send_reset_streams", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: d570a59c5b5f (\"sctp: only allow the out stream reset when the stream outq is empty\")", "cc_stable": false, "subsystem_prefix": "sctp", "subsystems_touched": ["net/sctp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)", "Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 43, "score_technical": 10, "score_impact": 16, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 1-line fix in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Memory leak fix with regression tag, affects SCTP users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "2 Acked-by, Fixes tag, Reported-by, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Netronome committer, internal robot report"}}, "score_justification": "Memory leak on error path in SCTP stream reset with cross-org review", "code_snippet": "@@ -316,6 +316,7 @@ int sctp_send_reset_streams(struct sctp_association *asoc,\n \t\tnstr_list[i] = htons(str_list[i]);\n \n \tif (out && !sctp_stream_outq_is_empty(stream, str_nums, nstr_list)) {\n+\t\tkfree(nstr_list);\n \t\tretval = -EAGAIN;\n \t\tgoto out;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d5afe20397b478192ed8c38ec0ee10fa3aec649"}
{"commit_hash": "68e03b85474a51ec1921b4d13204782594ef7223", "short_hash": "68e03b85474a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T20:38:14+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-14T10:57:18+02:00", "subject": "gpio: Fix build error of function redefinition", "primary_category": "BUILD-FIX", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 964cb341882f (\"gpio: move pincontrol calls to <linux/gpio/driver.h>\")", "cc_stable": false, "subsystem_prefix": "gpio", "subsystems_touched": ["gpio"], "subsystem_tier": 3, "files_changed": 1, "insertions": 0, "deletions": 24, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 39, "score_technical": 8, "score_impact": 13, "score_quality": 12, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small 2-hunk change in gpio subsystem (tier 3)"}, "impact": {"category_base": 6, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 13, "details": "Build error fix affecting gpio users with Fixes tag"}, "quality": {"review_chain": 3, "message_quality": 5, "testing": 2, "atomicity": 2, "subtotal": 12, "details": "Has Fixes tag, Reported-by, Link, and maintainer signoff"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Linaro maintainer, reported by Hulk Robot"}}, "score_justification": "Build error fix removing duplicate function definitions after header refactoring", "code_snippet": "@@ -241,30 +241,6 @@ static inline int irq_to_gpio(unsigned irq)\n \treturn -EINVAL;\n }\n \n-static inline int\n-gpiochip_add_pin_range(struct gpio_chip *chip, const char *pinctl_name,\n-\t\t       unsigned int gpio_offset, unsigned int pin_offset,\n-\t\t       unsigned int npins)\n-{\n-\tWARN_ON(1);\n-\treturn -EINVAL;\n-}\n-\n-static inline int\n-gpiochip_add_pingroup_range(struct gpio_chip *chip,\n-\t\t\tstruct pinctrl_dev *pctldev,\n-\t\t\tunsigned int gpio_offset, const char *pin_group)\n-{\n-\tWARN_ON(1);\n-\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68e03b85474a51ec1921b4d13204782594ef7223"}
{"commit_hash": "c8e174b39887ea1992286ff8ffdbcf79f6057cf2", "short_hash": "c8e174b39887", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T10:33:00+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-14T16:28:36+02:00", "subject": "KVM: x86: svm: remove redundant assignment of var new_entry", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 9, "score_impact": 6, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 9, "details": "Single-line deletion in critical KVM subsystem"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Dead code removal with minimal runtime impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic Signed-off-by chain with simple explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, Red Hat maintainer"}}, "score_justification": "Dead code removal removing redundant assignment before overwrite", "code_snippet": "@@ -1714,7 +1714,6 @@ static int avic_init_backing_page(struct kvm_vcpu *vcpu)\n \tif (!entry)\n \t\treturn -EINVAL;\n \n-\tnew_entry = READ_ONCE(*entry);\n \tnew_entry = __sme_set((page_to_phys(svm->avic_backing_page) &\n \t\t\t      AVIC_PHYSICAL_ID_ENTRY_BACKING_PAGE_MASK) |\n \t\t\t      AVIC_PHYSICAL_ID_ENTRY_VALID_MASK);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8e174b39887ea1992286ff8ffdbcf79f6057cf2"}
{"commit_hash": "a982eeb09b6030e567b8b815277c8c9197168040", "short_hash": "a982eeb09b60", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-08-14T17:35:22+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-15T11:21:39-06:00", "subject": "io_uring: fix an issue when IOSQE_IO_LINK is inserted into defer list", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9e645e1105c (\"io_uring: add support for sqe links\")", "cc_stable": false, "subsystem_prefix": "io_uring", "subsystems_touched": ["fs/io_uring"], "subsystem_tier": 2, "files_changed": 1, "insertions": 9, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 41, "score_technical": 10, "score_impact": 18, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical io_uring subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting I/O ordering"}, "quality": {"review_chain": 3, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag, no testing evidence"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author from KylinOS, committer from different company"}}, "score_justification": "Fixes io_uring link ordering bug with DRAIN, regression from linked commit", "code_snippet": "@@ -2023,6 +2023,15 @@ static int io_queue_sqe(struct io_ring_ctx *ctx, struct io_kiocb *req,\n {\n \tint ret;\n \n+\tret = io_req_defer(ctx, req, s->sqe);\n+\tif (ret) {\n+\t\tif (ret != -EIOCBQUEUED) {\n+\t\t\tio_free_req(req);\n+\t\t\tio_cqring_add_event(ctx, s->sqe->user_data, ret);\n+\t\t}\n+\t\treturn 0;\n+\t}\n+\n \tret = __io_submit_sqe(ctx, req, s, true);\n \tif (ret == -EAGAIN && !(req->flags & REQ_F_NOWAIT)) {\n \t\tstruct io_uring_sqe *sqe_copy;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a982eeb09b6030e567b8b815277c8c9197168040"}
{"commit_hash": "a1c4cd67840ef80f6ca5f73326fa9a6719303a95", "short_hash": "a1c4cd67840e", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-20T13:52:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-20T12:48:06-07:00", "subject": "net: fix __ip_mc_inc_group usage", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 9fb20801dab4 (\"net: Fix ip_mc_{dec,inc}_group allocation context\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/ipv4"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Florian Fainelli <f.fainelli@gmail.com> (Gmail)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 18, "score_quality": 10, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 18, "details": "Regression fix affecting multicast networking users"}, "quality": {"review_chain": 4, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good Fixes tag, multiple signoffs, 3+ reviewers"}, "community": {"cross_org": 3, "maintainer": 3, "response": 0, "subtotal": 6, "details": "Baidu + Broadcom, net maintainer applied"}}, "score_justification": "Parameter order bug fix in IGMP multicast group handling", "code_snippet": "@@ -1475,7 +1475,7 @@ EXPORT_SYMBOL(__ip_mc_inc_group);\n \n void ip_mc_inc_group(struct in_device *in_dev, __be32 addr)\n {\n-\t__ip_mc_inc_group(in_dev, addr, MCAST_EXCLUDE);\n+\t__ip_mc_inc_group(in_dev, addr, GFP_KERNEL);\n }\n EXPORT_SYMBOL(ip_mc_inc_group);\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a1c4cd67840ef80f6ca5f73326fa9a6719303a95"}
{"commit_hash": "a7bfb93f0211b4a2f1ffeeb259ed6206bac30460", "short_hash": "a7bfb93f0211", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T12:27:39+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-20T13:44:45-04:00", "subject": "RDMA/cma: fix null-ptr-deref Read in cma_cleanup", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 045959db65c6 (\"IB/cma: Add configfs for rdma_cm\")", "cc_stable": false, "subsystem_prefix": "RDMA", "subsystems_touched": ["drivers/infiniband"], "subsystem_tier": 3, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": ["Parav Pandit <parav@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 45, "score_technical": 8, "score_impact": 20, "score_quality": 11, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny change in tier 3 subsystem"}, "impact": {"category_base": 13, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 20, "details": "Crash fix with regression tag, affects RDMA users"}, "quality": {"review_chain": 4, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 11, "details": "Reviewed-by, Fixes tag, Link, Reported-by present"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, Red Hat maintainer, internal robot report"}}, "score_justification": "Error path fix for null pointer deref in RDMA init, well-reviewed with proper tags", "code_snippet": "@@ -4724,10 +4724,14 @@ static int __init cma_init(void)\n \tif (ret)\n \t\tgoto err;\n \n-\tcma_configfs_init();\n+\tret = cma_configfs_init();\n+\tif (ret)\n+\t\tgoto err_ib;\n \n \treturn 0;\n \n+err_ib:\n+\tib_unregister_client(&cma_client);\n err:\n \tunregister_netdevice_notifier(&cma_nb);\n \tib_sa_unregister_client(&sa_client);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a7bfb93f0211b4a2f1ffeeb259ed6206bac30460"}
{"commit_hash": "0f404bbdaf1624f4d25dd67da7ff85eab005beac", "short_hash": "0f404bbdaf16", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-20T10:46:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T20:43:22-07:00", "subject": "net: fix icmp_socket_deliver argument 2 input", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net/", "subsystems_touched": ["net/"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: TIMEOUT", "code_snippet": "@@ -902,7 +902,7 @@ static bool icmp_redirect(struct sk_buff *skb)\n \t\treturn false;\n \t}\n \n-\ticmp_socket_deliver(skb, icmp_hdr(skb)->un.gateway);\n+\ticmp_socket_deliver(skb, ntohl(icmp_hdr(skb)->un.gateway));\n \treturn true;\n }\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/0f404bbdaf1624f4d25dd67da7ff85eab005beac"}
{"commit_hash": "7533be858f5b9a036b9f91556a3ed70786abca8e", "short_hash": "7533be858f5b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T16:05:31+01:00", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T13:33:27+01:00", "subject": "afs: use correct afs_call_type in yfs_fs_store_opaque_acl2", "primary_category": "BUG-LOGIC", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: f5e4546347bc (\"afs: Implement YFS ACL setting\")", "cc_stable": false, "subsystem_prefix": "afs", "subsystems_touched": ["fs/afs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 10, "score_impact": 15, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical filesystem subsystem"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Regression fix affecting AFS ACL users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good commit message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit, Huawei to Red Hat"}}, "score_justification": "Wrong function pointer passed in AFS YFS ACL code, causing incorrect RPC call type", "code_snippet": "@@ -2171,7 +2171,7 @@ int yfs_fs_store_opaque_acl2(struct afs_fs_cursor *fc, const struct afs_acl *acl\n \t       key_serial(fc->key), vnode->fid.vid, vnode->fid.vnode);\n \n \tsize = round_up(acl->size, 4);\n-\tcall = afs_alloc_flat_call(net, &yfs_RXYFSStoreStatus,\n+\tcall = afs_alloc_flat_call(net, &yfs_RXYFSStoreOpaqueACL2,\n \t\t\t\t   sizeof(__be32) * 2 +\n \t\t\t\t   sizeof(struct yfs_xdr_YFSFid) +\n \t\t\t\t   sizeof(__be32) + size,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7533be858f5b9a036b9f91556a3ed70786abca8e"}
{"commit_hash": "e4f9d6013820d1eba1432d51dd1c5795759aa77f", "short_hash": "e4f9d6013820", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-08-17T13:32:40+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T16:11:23-04:00", "subject": "dm btree: fix order of block initialization in btree_split_beneath", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-LOGIC"], "cve_ids": [], "fixes_tag": "Fixes: 4dcb8b57df359 (\"dm btree: fix leak of bufio-backed block in btree_split_beneath error path\")", "cc_stable": true, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 3, "files_changed": 1, "insertions": 16, "deletions": 15, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 44, "score_technical": 10, "score_impact": 22, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "Medium-sized refactor in device mapper btree code"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 4, "novelty": 1, "subtotal": 22, "details": "Crash fix affecting storage users with stable backport"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good explanation with Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, RedHat maintainer cross-org commit"}}, "score_justification": "BUG_ON crash fix in dm-btree error path with uninitialized block", "code_snippet": "@@ -628,39 +628,40 @@ static int btree_split_beneath(struct shadow_spine *s, uint64_t key)\n \n \tnew_parent = shadow_current(s);\n \n+\tpn = dm_block_data(new_parent);\n+\tsize = le32_to_cpu(pn->header.flags) & INTERNAL_NODE ?\n+\t\tsizeof(__le64) : s->info->value_type.size;\n+\n+\t/* create & init the left block */\n \tr = new_block(s->info, &left);\n \tif (r < 0)\n \t\treturn r;\n \n+\tln = dm_block_data(left);\n+\tnr_left = le32_to_cpu(pn->header.nr_entries) / 2;\n+\n+\tln->header.flags = pn->header.flags;\n+\tln->header.nr_entries = cpu_to_le32(nr_left);\n+\tln->header.max_entries = pn->header.max_entries;\n+\tln->header.value_size = pn->header.value_size;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e4f9d6013820d1eba1432d51dd1c5795759aa77f"}
{"commit_hash": "ae148243d3f0816b37477106c05a2ec7d5f32614", "short_hash": "ae148243d3f0", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T11:31:21+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T16:11:24-04:00", "subject": "dm space map metadata: fix missing store of apply_bops() return value", "primary_category": "BUG-LOGIC", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 6096d91af0b6 (\"dm space map metadata: fix occasional leak of a metadata block on resize\")", "cc_stable": true, "subsystem_prefix": "md", "subsystems_touched": ["drivers/md"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 36, "score_technical": 6, "score_impact": 17, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in device-mapper subsystem"}, "impact": {"category_base": 9, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 17, "details": "Regression fix with stable backport"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Good message with Fixes tag and stable CC"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Red Hat maintainer"}}, "score_justification": "Missing return value store in out() causing wrong return value, regression fix with stable backport", "code_snippet": "@@ -249,7 +249,7 @@ static int out(struct sm_metadata *smm)\n \t}\n \n \tif (smm->recursion_count == 1)\n-\t\tapply_bops(smm);\n+\t\tr = apply_bops(smm);\n \n \tsmm->recursion_count--;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae148243d3f0816b37477106c05a2ec7d5f32614"}
{"commit_hash": "0af83abbd4a6e36a4b209d8c57c26143e40eeec1", "short_hash": "0af83abbd4a6", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2019-08-06T22:21:40+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-08-22T17:25:33+02:00", "subject": "ubifs: Limit the number of pages in shrink_liability", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: b6e51316daed (\"writeback: separate starting of sync vs opportunistic writeback\")", "cc_stable": false, "subsystem_prefix": "fs/ubifs", "subsystems_touched": ["fs/ubifs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 40, "score_technical": 10, "score_impact": 18, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small fix in critical filesystem subsystem"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 18, "details": "Hung task fix affecting UBIFS users"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Good message with Fixes tag and context"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company commit by ZTE author"}}, "score_justification": "Regression fix for hung task in UBIFS writeback path", "code_snippet": "@@ -51,7 +51,7 @@\n static void shrink_liability(struct ubifs_info *c, int nr_to_write)\n {\n \tdown_read(&c->vfs_sb->s_umount);\n-\twriteback_inodes_sb(c->vfs_sb, WB_REASON_FS_FREE_SPACE);\n+\twriteback_inodes_sb_nr(c->vfs_sb, nr_to_write, WB_REASON_FS_FREE_SPACE);\n \tup_read(&c->vfs_sb->s_umount);\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0af83abbd4a6e36a4b209d8c57c26143e40eeec1"}
{"commit_hash": "b45ce32135d1c82a5bf12aa56957c3fd27956057", "short_hash": "b45ce32135d1", "author_name": "zhanglin", "author_email": "zhang.lin16@zte.com.cn", "author_company": "ZTE", "author_date": "2019-08-23T09:14:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-24T16:33:14-07:00", "subject": "sock: fix potential memory leak in proto_register()", "primary_category": "BUG-MEMLEAK", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/core"], "subsystem_tier": 2, "files_changed": 1, "insertions": 21, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["zhanglin <zhang.lin16@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 39, "score_technical": 12, "score_impact": 16, "score_quality": 7, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 12, "details": "Small change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 6, "novelty": 1, "subtotal": 16, "details": "Memory leak fix affecting networking subsystem"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Basic review with good commit message"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Author and maintainer from different companies"}}, "score_justification": "Memory leak fix in proto_register() when PROTO_INUSE_NR exhausted, properly propagates error code and cleans up allocated resources on failure path", "code_snippet": "@@ -3287,16 +3287,17 @@ static __init int net_inuse_init(void)\n \n core_initcall(net_inuse_init);\n \n-static void assign_proto_idx(struct proto *prot)\n+static int assign_proto_idx(struct proto *prot)\n {\n \tprot->inuse_idx = find_first_zero_bit(proto_inuse_idx, PROTO_INUSE_NR);\n \n \tif (unlikely(prot->inuse_idx == PROTO_INUSE_NR - 1)) {\n \t\tpr_err(\"PROTO_INUSE_NR exhausted\\n\");\n-\t\treturn;\n+\t\treturn -ENOSPC;\n \t}\n \n \tset_bit(prot->inuse_idx, proto_inuse_idx);\n+\treturn 0;\n }\n \n static void release_proto_idx(struct proto *prot)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b45ce32135d1c82a5bf12aa56957c3fd27956057"}
{"commit_hash": "99300a85260c2b7febd57082a617d1062532067e", "short_hash": "99300a85260c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T15:16:36+08:00", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-08-27T10:24:56-04:00", "subject": "NFS: remove set but not used variable 'mapping'", "primary_category": "MAINT-WARN", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "Fixes: aefb623c422e (\"NFS: Fix writepage(s) error handling to not report errors twice\")", "cc_stable": false, "subsystem_prefix": "nfs", "subsystems_touched": ["fs/nfs"], "subsystem_tier": 2, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 5, "score_impact": 4, "score_quality": 7, "score_community": 2, "score_breakdown": {"technical": {"code_volume": 1, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 5, "details": "1 file, 2 lines deleted, 4 hunks in tier-2 NFS subsystem"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Warning fix with no runtime impact, no stable tag"}, "quality": {"review_chain": 2, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Good message with Fixes: tag, 2 Signed-off-by, no testing"}, "community": {"cross_org": 0, "maintainer": 2, "response": 0, "subtotal": 2, "details": "Huawei author, Hammerspace committer, Hulk Robot report"}}, "score_justification": "Removes unused variable to fix compiler warning in NFS write path", "code_snippet": "@@ -606,7 +606,6 @@ static void nfs_write_error(struct nfs_page *req, int error)\n static int nfs_page_async_flush(struct nfs_pageio_descriptor *pgio,\n \t\t\t\tstruct page *page)\n {\n-\tstruct address_space *mapping;\n \tstruct nfs_page *req;\n \tint ret = 0;\n ", "flags": ["REPORTED_BY_ROBOT"], "link": "https://lore.kernel.org/linux-kernel/99300a85260c2b7febd57082a617d1062532067e"}
{"commit_hash": "d4a8061a7c5f7c27a2dc002ee4cb89b3e6637e44", "short_hash": "d4a8061a7c5f", "author_name": "Heyi Guo", "author_email": "guoheyi@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T12:26:50+01:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T16:19:56+01:00", "subject": "KVM: arm/arm64: vgic: Fix potential deadlock when ap_list is long", "primary_category": "BUG-DEADLOCK", "secondary_categories": ["SEC-VULN", "BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 8e4447457965 (\"KVM: arm/arm64: vgic-new: Add IRQ sorting\")", "cc_stable": true, "subsystem_prefix": "kvm", "subsystems_touched": ["virt/kvm/arm/vgic"], "subsystem_tier": 2, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Heyi Guo <guoheyi@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 19, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small surgical fix in critical KVM subsystem"}, "impact": {"category_base": 11, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 19, "details": "Deadlock fix in virtualization with stable backport"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers, clear message with Fixes tag"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, kernel.org maintainer committed"}}, "score_justification": "Deadlock fix in KVM VGIC with same-element comparison guard, stable backport included", "code_snippet": "@@ -254,6 +254,13 @@ static int vgic_irq_cmp(void *priv, struct list_head *a, struct list_head *b)\n \tbool penda, pendb;\n \tint ret;\n \n+\t/*\n+\t * list_sort may call this function with the same element when\n+\t * the list is fairly long.\n+\t */\n+\tif (unlikely(irqa == irqb))\n+\t\treturn 0;\n+\n \traw_spin_lock(&irqa->irq_lock);\n \traw_spin_lock_nested(&irqb->irq_lock, SINGLE_DEPTH_NESTING);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4a8061a7c5f7c27a2dc002ee4cb89b3e6637e44"}
{"commit_hash": "b6b4dc4c1fa7f1c99398e7dc85758049645e9588", "short_hash": "b6b4dc4c1fa7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-29T10:46:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-30T14:15:31-07:00", "subject": "amd-xgbe: Fix error path in xgbe_mod_init()", "primary_category": "BUG-RESOURCE", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: efbaa828330a (\"amd-xgbe: Add support to handle device renaming\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/amd/xgbe"], "subsystem_tier": 3, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 37, "score_technical": 8, "score_impact": 16, "score_quality": 7, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Small fix in network driver with proper error handling"}, "impact": {"category_base": 9, "stable_lts": 2, "user_impact": 4, "novelty": 1, "subtotal": 16, "details": "Resource leak fix for AMD network driver users"}, "quality": {"review_chain": 1, "message_quality": 4, "testing": 0, "atomicity": 2, "subtotal": 7, "details": "Has Fixes tag and Reported-by, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, maintainer commit, internal robot report"}}, "score_justification": "Resource leak fix adding proper error path cleanup in driver init", "code_snippet": "@@ -469,13 +469,19 @@ static int __init xgbe_mod_init(void)\n \n \tret = xgbe_platform_init();\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_platform_init;\n \n \tret = xgbe_pci_init();\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_pci_init;\n \n \treturn 0;\n+\n+err_pci_init:\n+\txgbe_platform_exit();\n+err_platform_init:\n+\tunregister_netdevice_notifier(&xgbe_netdev_notifier);\n+\treturn ret;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6b4dc4c1fa7f1c99398e7dc85758049645e9588"}
{"commit_hash": "896fc242bc1d261c1178838487a0a54b260625cc", "short_hash": "896fc242bc1d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T20:36:32+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-04T06:21:17-04:00", "subject": "vhost: Remove unnecessary variable", "primary_category": "MAINT-SIMPLIFY", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers/vhost", "subsystems_touched": ["drivers/vhost"], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 23, "score_technical": 6, "score_impact": 8, "score_quality": 5, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny change in driver subsystem"}, "impact": {"category_base": 7, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 8, "details": "Code simplification with minimal user impact"}, "quality": {"review_chain": 1, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 5, "details": "Basic commit message, atomic change"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-org commit from Huawei to Red Hat maintainer"}}, "score_justification": "Minor code simplification removing unnecessary variable in vhost driver", "code_snippet": "@@ -203,7 +203,6 @@ EXPORT_SYMBOL_GPL(vhost_poll_init);\n int vhost_poll_start(struct vhost_poll *poll, struct file *file)\n {\n \t__poll_t mask;\n-\tint ret = 0;\n \n \tif (poll->wqh)\n \t\treturn 0;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/896fc242bc1d261c1178838487a0a54b260625cc"}
{"commit_hash": "eddf3e9c7c7e4d0707c68d1bb22cc6ec8aef7d4a", "short_hash": "eddf3e9c7c7e", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T20:46:25+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-09-05T21:31:14+02:00", "subject": "genirq: Prevent NULL pointer dereference in resend_irqs()", "primary_category": "BUG-CRASH", "secondary_categories": ["BUG-RACE"], "cve_ids": [], "fixes_tag": "Fixes: a4633adcdbc1 (\"[PATCH] genirq: add genirq sw IRQ-retrigger\")", "cc_stable": true, "subsystem_prefix": "genirq", "subsystems_touched": ["kernel/irq"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": ["Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 54, "score_technical": 10, "score_impact": 26, "score_quality": 13, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny 2-line fix in critical IRQ subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Crash fix affecting all systems with IRQs"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Excellent root cause analysis with timeline"}, "community": {"cross_org": 2, "maintainer": 3, "response": 0, "subtotal": 5, "details": "Huawei author, Linutronix maintainer merged"}}, "score_justification": "NULL ptr dereference crash fix in IRQ resend path with detailed root cause", "code_snippet": "@@ -36,6 +36,8 @@ static void resend_irqs(unsigned long arg)\n \t\tirq = find_first_bit(irqs_resend, nr_irqs);\n \t\tclear_bit(irq, irqs_resend);\n \t\tdesc = irq_to_desc(irq);\n+\t\tif (!desc)\n+\t\t\tcontinue;\n \t\tlocal_irq_disable();\n \t\tdesc->handle_irq(desc);\n \t\tlocal_irq_enable();\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eddf3e9c7c7e4d0707c68d1bb22cc6ec8aef7d4a"}
{"commit_hash": "310aa0a25b338b3100c94880c9a69bec8ce8c3ae", "short_hash": "310aa0a25b33", "author_name": "Mark-PK Tsai", "author_email": "mark-pk.tsai@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-06T14:01:16+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-06T08:24:01+02:00", "subject": "perf/hw_breakpoint: Fix arch_hw_breakpoint use-before-initialization", "primary_category": "BUG-CRASH", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9a4903dde2c86 (\"perf/hw_breakpoint: Split attribute parse and commit\")", "cc_stable": true, "subsystem_prefix": "perf", "subsystems_touched": ["kernel/events"], "subsystem_tier": 2, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mark-PK Tsai <mark-pk.tsai@mediatek.com> (MediaTek)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 10, "score_impact": 24, "score_quality": 9, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Small 4-line fix in critical perf subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 6, "novelty": 1, "subtotal": 24, "details": "Crash fix with Fixes tag and stable CC"}, "quality": {"review_chain": 2, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 9, "details": "Clear message with Fixes tag and Link"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Cross-company (MediaTek->kernel.org) maintainer commit"}}, "score_justification": "Use-before-initialization crash in perf breakpoint with Fixes tag", "code_snippet": "@@ -413,7 +413,7 @@ static int hw_breakpoint_parse(struct perf_event *bp,\n \n int register_perf_hw_breakpoint(struct perf_event *bp)\n {\n-\tstruct arch_hw_breakpoint hw;\n+\tstruct arch_hw_breakpoint hw = { };\n \tint err;\n \n \terr = reserve_bp_slot(bp);", "flags": ["FIXES_TAG", "CC_STABLE"], "link": "https://lore.kernel.org/linux-kernel/310aa0a25b338b3100c94880c9a69bec8ce8c3ae"}
{"commit_hash": "6e1cdedcf0362fed3aedfe051d46bd7ee2a85fe1", "short_hash": "6e1cdedcf036", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T09:57:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:04:57+02:00", "subject": "net: sonic: return NETDEV_TX_OK if failed to map buffer", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d9fb9f384292 (\"*sonic/natsemi/ns83829: Move the National Semi-conductor drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: 429_RATE_LIMIT", "code_snippet": "@@ -232,9 +232,9 @@ static int sonic_send_packet(struct sk_buff *skb, struct net_device *dev)\n \n \tladdr = dma_map_single(lp->device, skb->data, length, DMA_TO_DEVICE);\n \tif (!laddr) {\n-\t\tprintk(KERN_ERR \"%s: failed to map tx DMA buffer.\\n\", dev->name);\n+\t\tpr_err_ratelimited(\"%s: failed to map tx DMA buffer.\\n\", dev->name);\n \t\tdev_kfree_skb(skb);\n-\t\treturn NETDEV_TX_BUSY;\n+\t\treturn NETDEV_TX_OK;\n \t}\n \n \tsonic_tda_put(dev, entry, SONIC_TD_STATUS, 0);       /* clear status */\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_429_RATE_LIMIT", "AGENT_ERROR_429_RATE_LIMIT"], "link": "https://lore.kernel.org/linux-kernel/6e1cdedcf0362fed3aedfe051d46bd7ee2a85fe1"}
{"commit_hash": "59929d3a2eb6c4abafc5b61a20c98aa8728ec378", "short_hash": "59929d3a2eb6", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:18:34Z", "committer_name": "Bartosz Golaszewski", "committer_email": "bgolaszewski@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-09-09T09:55:27+02:00", "subject": "gpio: mockup: add missing single_release()", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-REGRESSION"], "cve_ids": [], "fixes_tag": "Fixes: 2a9e27408e12 (\"gpio: mockup: rework debugfs interface\")", "cc_stable": true, "subsystem_prefix": "drivers/gpio", "subsystems_touched": ["drivers/gpio"], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Bartosz Golaszewski <bgolaszewski@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 33, "score_technical": 6, "score_impact": 15, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Tiny fix in GPIO driver (tier 4)"}, "impact": {"category_base": 7, "stable_lts": 4, "user_impact": 3, "novelty": 1, "subtotal": 15, "details": "Memory leak fix with stable tag"}, "quality": {"review_chain": 1, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Clear Fixes tag, good explanation, minimal review"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author, BayLibre committer, different orgs"}}, "score_justification": "Memory leak fix in GPIO mockup driver with stable backport", "code_snippet": "@@ -309,6 +309,7 @@ static const struct file_operations gpio_mockup_debugfs_ops = {\n \t.read = gpio_mockup_debugfs_read,\n \t.write = gpio_mockup_debugfs_write,\n \t.llseek = no_llseek,\n+\t.release = single_release,\n };\n \n static void gpio_mockup_debugfs_setup(struct device *dev,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/59929d3a2eb6c4abafc5b61a20c98aa8728ec378"}
{"commit_hash": "49f6c90bf6805948b597eabb499e500a47cf24be", "short_hash": "49f6c90bf680", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T09:36:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:14:01+01:00", "subject": "net: sonic: replace dev_kfree_skb in sonic_send_packet", "primary_category": "FAILED", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d9fb9f384292 (\"*sonic/natsemi/ns83829: Move the National Semi-conductor drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 3, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"technical": {"code_volume": 0, "subsystem_criticality": 0, "cross_subsystem": 0, "subtotal": 0, "details": ""}, "impact": {"category_base": 0, "stable_lts": 0, "user_impact": 0, "novelty": 0, "subtotal": 0, "details": ""}, "quality": {"review_chain": 0, "message_quality": 0, "testing": 0, "atomicity": 0, "subtotal": 0, "details": ""}, "community": {"cross_org": 0, "maintainer": 0, "response": 0, "subtotal": 0, "details": ""}}, "score_justification": "Agent analysis failed: 429_RATE_LIMIT", "code_snippet": "@@ -233,7 +233,7 @@ static int sonic_send_packet(struct sk_buff *skb, struct net_device *dev)\n \tladdr = dma_map_single(lp->device, skb->data, length, DMA_TO_DEVICE);\n \tif (!laddr) {\n \t\tpr_err_ratelimited(\"%s: failed to map tx DMA buffer.\\n\", dev->name);\n-\t\tdev_kfree_skb(skb);\n+\t\tdev_kfree_skb_any(skb);\n \t\treturn NETDEV_TX_OK;\n \t}\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_429_RATE_LIMIT", "AGENT_ERROR_429_RATE_LIMIT"], "link": "https://lore.kernel.org/linux-kernel/49f6c90bf6805948b597eabb499e500a47cf24be"}
{"commit_hash": "060423bfdee3f8bc6e2c1bac97de24d5415e2bc4", "short_hash": "060423bfdee3", "author_name": "yongduan", "author_email": "yongduan@tencent.com", "author_company": "Tencent", "author_date": "2019-09-11T17:44:24+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-11T15:15:26-04:00", "subject": "vhost: make sure log_num < in_num", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH"], "cve_ids": [], "fixes_tag": "Fixes: 3a4d5c94e959 (\"vhost_net: a kernel-level virtio server\")", "cc_stable": true, "subsystem_prefix": "drivers/vhost", "subsystems_touched": ["drivers/vhost"], "subsystem_tier": 3, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["ruippan <ruippan@tencent.com> (Tencent)", "yongduan <yongduan@tencent.com> (Tencent)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": ["Lidong Chen <lidongchen@tencent.com> (Tencent)", "Tyler Hicks <tyhicks@canonical.com> (Canonical)"], "tested_by": [], "acked_by": ["Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 51, "score_technical": 8, "score_impact": 26, "score_quality": 13, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 8, "details": "Tiny fix in critical virtio subsystem"}, "impact": {"category_base": 13, "stable_lts": 4, "user_impact": 8, "novelty": 1, "subtotal": 26, "details": "Host kernel crash from malicious guest, stable backport"}, "quality": {"review_chain": 6, "message_quality": 5, "testing": 0, "atomicity": 2, "subtotal": 13, "details": "Multiple reviewers from different orgs, clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Tencent author, Red Hat maintainer, Canonical reviewer"}}, "score_justification": "Vhost log array overflow allowing malicious guest to crash host kernel", "code_snippet": "@@ -2180,7 +2180,7 @@ static int get_indirect(struct vhost_virtqueue *vq,\n \t\t/* If this is an input descriptor, increment that count. */\n \t\tif (access == VHOST_ACCESS_WO) {\n \t\t\t*in_num += ret;\n-\t\t\tif (unlikely(log)) {\n+\t\t\tif (unlikely(log && ret)) {\n \t\t\t\tlog[*log_num].addr = vhost64_to_cpu(vq, desc.addr);\n \t\t\t\tlog[*log_num].len = vhost32_to_cpu(vq, desc.len);\n \t\t\t\t++*log_num;", "flags": ["GUEST_EXPLOIT"], "link": "https://lore.kernel.org/linux-kernel/060423bfdee3f8bc6e2c1bac97de24d5415e2bc4"}
{"commit_hash": "77f22f92dff8e7b45c7786a430626d38071d4670", "short_hash": "77f22f92dff8", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-10T18:56:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-12T11:17:26+01:00", "subject": "tun: fix use-after-free when register netdev failed", "primary_category": "BUG-RACE", "secondary_categories": ["SEC-VULN"], "cve_ids": [], "fixes_tag": "Fixes: eb0fb363f920 (\"tuntap: attach queue 0 before registering netdevice\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net"], "subsystem_tier": 3, "files_changed": 1, "insertions": 11, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 52, "score_technical": 10, "score_impact": 20, "score_quality": 14, "score_community": 8, "score_breakdown": {"technical": {"code_volume": 4, "subsystem_criticality": 6, "cross_subsystem": 0, "subtotal": 10, "details": "1 file, 10 hunks, small but critical networking driver fix"}, "impact": {"category_base": 11, "stable_lts": 2, "user_impact": 6, "novelty": 1, "subtotal": 20, "details": "Race condition UAF fix in tun driver with Fixes tag"}, "quality": {"review_chain": 4, "message_quality": 7, "testing": 1, "atomicity": 2, "subtotal": 14, "details": "Excellent commit message with KASAN report, detailed race analysis, Fixes tag, Reported-by, Suggested-by"}, "community": {"cross_org": 4, "maintainer": 2, "response": 2, "subtotal": 8, "details": "Huawei author, Red Hat reviewer, netdev maintainer, Hulk Robot report"}}, "score_justification": "Use-after-free race in tun driver when register_netdevice fails, with detailed KASAN report and race analysis showing concurrent CPU access pattern", "code_snippet": "@@ -2829,13 +2831,17 @@ static int tun_set_iff(struct net *net, struct file *file, struct ifreq *ifr)\n \n \t\tINIT_LIST_HEAD(&tun->disabled);\n \t\terr = tun_attach(tun, file, false, ifr->ifr_flags & IFF_NAPI,\n-\t\t\t\t ifr->ifr_flags & IFF_NAPI_FRAGS);\n+\t\t\t\t ifr->ifr_flags & IFF_NAPI_FRAGS, false);\n \t\tif (err < 0)\n \t\t\tgoto err_free_flow;\n \n \t\terr = register_netdevice(tun->dev);\n \t\tif (err < 0)\n \t\t\tgoto err_detach;\n+\t\t/* free_netdev() won't check refcnt, to aovid race\n+\t\t * with dev_put() we need publish tun after registration.\n+\t\t */\n+\t\trcu_assign_pointer(tfile->tun, tun);\n \t}\n \n \tnetif_carrier_on(tun->dev);", "flags": ["HAS_FIXES_TAG", "HAS_REPORTED_BY"], "link": "https://lore.kernel.org/linux-kernel/77f22f92dff8e7b45c7786a430626d38071d4670"}
{"commit_hash": "e0e4b8de10ad3affe83cc91a1cf6d1e48cca333e", "short_hash": "e0e4b8de10ad", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: remove redundant assignment when call sctp_get_port_local", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "sctp", "subsystems_touched": ["net/sctp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)", "Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 31, "score_technical": 10, "score_impact": 6, "score_quality": 10, "score_community": 5, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny cleanup in networking protocol"}, "impact": {"category_base": 5, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 6, "details": "Code cleanup with minimal user impact"}, "quality": {"review_chain": 6, "message_quality": 2, "testing": 0, "atomicity": 2, "subtotal": 10, "details": "Good review with clear intent"}, "community": {"cross_org": 3, "maintainer": 2, "response": 0, "subtotal": 5, "details": "Cross-org from Huawei to maintainer"}}, "score_justification": "Simple cleanup removing redundant variable assignment in SCTP socket binding", "code_snippet": "@@ -399,9 +399,8 @@ static int sctp_do_bind(struct sock *sk, union sctp_addr *addr, int len)\n \t * detection.\n \t */\n \taddr->v4.sin_port = htons(snum);\n-\tif ((ret = sctp_get_port_local(sk, addr))) {\n+\tif (sctp_get_port_local(sk, addr))\n \t\treturn -EADDRINUSE;\n-\t}\n \n \t/* Refresh ephemeral port.  */\n \tif (!bp->port)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0e4b8de10ad3affe83cc91a1cf6d1e48cca333e"}
{"commit_hash": "8e2ef6abd4653b1cfeefe262017ecdd5eaf40fef", "short_hash": "8e2ef6abd465", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: change return type of sctp_get_port_local", "primary_category": "MAINT-NAMING", "secondary_categories": ["MAINT-CLEANUP"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sctp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 22, "score_technical": 6, "score_impact": 4, "score_quality": 8, "score_community": 4, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 4, "cross_subsystem": 0, "subtotal": 6, "details": "Small type change in networking protocol"}, "impact": {"category_base": 3, "stable_lts": 0, "user_impact": 1, "novelty": 0, "subtotal": 4, "details": "Code cleanup with no runtime behavior change"}, "quality": {"review_chain": 3, "message_quality": 3, "testing": 0, "atomicity": 2, "subtotal": 8, "details": "Acked-by reviewer with clear explanation"}, "community": {"cross_org": 2, "maintainer": 2, "response": 0, "subtotal": 4, "details": "Huawei author with Intel reviewer and maintainer commit"}}, "score_justification": "Type change cleanup with cross-org review (HuaweiIntelkernel.org maintainer)", "code_snippet": "@@ -309,7 +309,7 @@ static int sctp_bind(struct sock *sk, struct sockaddr *addr, int addr_len)\n \treturn retval;\n }\n \n-static long sctp_get_port_local(struct sock *, union sctp_addr *);\n+static int sctp_get_port_local(struct sock *, union sctp_addr *);\n \n /* Verify this is a valid sockaddr. */\n static struct sctp_af *sctp_sockaddr_af(struct sctp_sock *opt,", "flags": ["CAPS_SCORE_MAY_BE_LOWER", "TYPE_CLEANUP_ONLY"], "link": "https://lore.kernel.org/linux-kernel/8e2ef6abd4653b1cfeefe262017ecdd5eaf40fef"}
{"commit_hash": "29b99f54a8e63f871cf4060406d09fd8b0d744d8", "short_hash": "29b99f54a8e6", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: destroy bucket if failed to bind addr", "primary_category": "BUG-MEMLEAK", "secondary_categories": ["BUG-RESOURCE"], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/sctp"], "subsystem_tier": 2, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)", "Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 47, "score_technical": 10, "score_impact": 14, "score_quality": 17, "score_community": 6, "score_breakdown": {"technical": {"code_volume": 2, "subsystem_criticality": 8, "cross_subsystem": 0, "subtotal": 10, "details": "Tiny change in critical networking subsystem"}, "impact": {"category_base": 9, "stable_lts": 0, "user_impact": 4, "novelty": 1, "subtotal": 14, "details": "Memory leak fix affecting SCTP users"}, "quality": {"review_chain": 6, "message_quality": 7, "testing": 2, "atomicity": 2, "subtotal": 17, "details": "Excellent message with stack trace, 3 reviewers"}, "community": {"cross_org": 2, "maintainer": 2, "response": 2, "subtotal": 6, "details": "Huawei author, different maintainer, bot report"}}, "score_justification": "Memory leak on error path in SCTP bind with detailed syzbot report", "code_snippet": "@@ -412,11 +412,13 @@ static int sctp_do_bind(struct sock *sk, union sctp_addr *addr, int len)\n \tret = sctp_add_bind_addr(bp, addr, af->sockaddr_len,\n \t\t\t\t SCTP_ADDR_SRC, GFP_ATOMIC);\n \n-\t/* Copy back into socket for getsockname() use. */\n-\tif (!ret) {\n-\t\tinet_sk(sk)->inet_sport = htons(inet_sk(sk)->inet_num);\n-\t\tsp->pf->to_sk_saddr(addr, sk);\n+\tif (ret) {\n+\t\tsctp_put_port(sk);\n+\t\treturn ret;\n \t}\n+\t/* Copy back into socket for getsockname() use. */\n+\tinet_sk(sk)->inet_sport = htons(inet_sk(sk)->inet_num);\n+\tsp->pf->to_sk_saddr(addr, sk);\n \n \treturn ret;\n }\n", "flags": ["REPORTED_BY_SYZBOT"], "link": "https://lore.kernel.org/linux-kernel/29b99f54a8e63f871cf4060406d09fd8b0d744d8"}
