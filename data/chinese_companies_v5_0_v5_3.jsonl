{"commit_hash": "5f4e4203add2b860d2345312509a160f8292063b", "short_hash": "5f4e4203add2", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-30T22:29:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-07-30T10:28:36-07:00", "subject": "enetc: Fix build error without PHYLIB", "primary_category": "MAINT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d4fd0404c1c9 (\"enetc: Introduce basic PF and VF ENETC ethernet drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Claudiu Manoil <claudiu.manoil@nxp.com> (NXP)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 23, "score_technical": 8, "score_impact": 7, "score_quality": 6, "score_community": 2, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 1, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 1, "D2_maintainer_endorsement": 0, "D3_community_response": 1}, "score_justification": "Fallback analysis due to agent error.", "code_snippet": "@@ -2,6 +2,7 @@\n config FSL_ENETC\n \ttristate \"ENETC PF driver\"\n \tdepends on PCI && PCI_MSI && (ARCH_LAYERSCAPE || COMPILE_TEST)\n+\tselect PHYLIB\n \thelp\n \t  This driver supports NXP ENETC gigabit ethernet controller PCIe\n \t  physical function (PF) devices, managing ENETC Ports at a privileged\n", "flags": ["AGENT_ERROR", "AGENT_ERROR_TIMEOUT"], "link": "https://lore.kernel.org/linux-kernel/5f4e4203add2b860d2345312509a160f8292063b"}
{"commit_hash": "e1ae72a21e5f0d1846e26e3f5963930664702071", "short_hash": "e1ae72a21e5f", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-29T17:05:20+08:00", "committer_name": "Neil Armstrong", "committer_email": "narmstrong@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-07-30T15:07:35+02:00", "subject": "drm/bridge: tc358764: Fix build error", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES", "BUILD"], "cve_ids": [], "fixes_tag": "Fixes: f38b7cca6d0e (\"drm/bridge: tc358764: Add DSI to LVDS bridge driver\")", "cc_stable": false, "subsystem_prefix": "drivers/gpu/drm", "subsystems_touched": ["drivers/gpu/drm/bridge"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "reviewed_by": ["Laurent Pinchart <laurent.pinchart@ideasonboard.com> (Ideasonboard)", "Neil Armstrong <narmstrong@baylibre.com> (BayLibre)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 32, "score_technical": 8, "score_impact": 8, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (3 lines changed), A2=7 (drivers/gpu/drm Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER build error fix), B2=0 (no Cc: stable), B3=0 (driver-specific), B4=1 (bug fix). Quality=12: C1=4 (2 Reviewed-by reviewers), C2=6 (Fixes + Reported-by + substantial body), C3=0 (no Tested-by), C4=2 (1 file changed). Community=4: D1=4 (2 cross-org reviewers: Laurent Pinchart @ ideasonboard.com, Neil Armstrong @ baylibre.com), D2=0 (no top maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -117,9 +117,10 @@ config DRM_THINE_THC63LVD1024\n \n config DRM_TOSHIBA_TC358764\n \ttristate \"TC358764 DSI/LVDS bridge\"\n-\tdepends on DRM && DRM_PANEL\n \tdepends on OF\n \tselect DRM_MIPI_DSI\n+\tselect DRM_KMS_HELPER\n+\tselect DRM_PANEL\n \thelp\n \t  Toshiba TC358764 DSI/LVDS bridge driver.\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e1ae72a21e5f0d1846e26e3f5963930664702071"}
{"commit_hash": "e77ff779a0c6666b697c56a6e41972bbf30b977f", "short_hash": "e77ff779a0c6", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T06:48:09-07:00", "committer_name": "Dmitry Torokhov", "committer_email": "dmitry.torokhov@gmail.com", "committer_company": "Gmail", "commit_date": "2019-07-31T06:50:18-07:00", "subject": "Input: applespi - add dependency on LEDS_CLASS", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": "tier3", "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Dmitry Torokhov <dmitry.torokhov@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -76,6 +76,7 @@ config KEYBOARD_APPLESPI\n \tdepends on ACPI && EFI\n \tdepends on SPI\n \tdepends on X86 || COMPILE_TEST\n+\tdepends on LEDS_CLASS\n \tselect CRC16\n \thelp\n \t  Say Y here if you are running Linux on any Apple MacBook8,1 or later,\n", "flags": ["FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/e77ff779a0c6666b697c56a6e41972bbf30b977f"}
{"commit_hash": "d0ee879187df966ef638031b5f5183078d672141", "short_hash": "d0ee879187df", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-07-31T14:39:33+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-07-31T08:45:10-06:00", "subject": "io_uring: fix KASAN use after free in io_sq_wq_submit_work", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1838,6 +1838,7 @@ static void io_sq_wq_submit_work(struct work_struct *work)\n \tdo {\n \t\tstruct sqe_submit *s = &req->submit;\n \t\tconst struct io_uring_sqe *sqe = s->sqe;\n+\t\tunsigned int flags = req->flags;\n \n \t\t/* Ensure we clear previously set non-block flag */\n \t\treq->rw.ki_flags &= ~IOCB_NOWAIT;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d0ee879187df966ef638031b5f5183078d672141"}
{"commit_hash": "020fb3bebc224dfe9353a56ecbe2d5fac499dffc", "short_hash": "020fb3bebc22", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T01:27:25Z", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-01T12:53:53-04:00", "subject": "RDMA/hns: Fix error return code in hns_roce_v1_rsv_lp_qp()", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: e8ac9389f0d7 (\"RDMA: Fix allocation failure on pointer pd\")", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/infiniband/hw/hns"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": ["Leon Romanovsky <leonro@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 8, "score_quality": 10, "score_community": 1, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 1, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (4 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER error handling fix), B2=0 (no Cc: stable), B3=0 (driver-specific), B4=1 (bug fix). Quality=10: C1=2 (1 Reviewed-by), C2=6 (Fixes tags + substantial body + Link tag), C3=0 (no Tested-by), C4=2 (1 file). Community=1: D1=1 (cross-org review from Mellanox), D2=0 (no top maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -750,8 +750,10 @@ static int hns_roce_v1_rsv_lp_qp(struct hns_roce_dev *hr_dev)\n \tatomic_set(&free_mr->mr_free_cq->ib_cq.usecnt, 0);\n \n \tpd = rdma_zalloc_drv_obj(ibdev, ib_pd);\n-\tif (!pd)\n+\tif (!pd) {\n+\t\tret = -ENOMEM;\n \t\tgoto alloc_mem_failed;\n+\t}\n \n \tpd->device  = ibdev;\n \tret = hns_roce_alloc_pd(pd, NULL);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/020fb3bebc224dfe9353a56ecbe2d5fac499dffc"}
{"commit_hash": "2802d2cf24b1ca7ea4c54dde266ded6a16020eb5", "short_hash": "2802d2cf24b1", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-01T09:24:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-02T18:15:02-07:00", "subject": "enetc: Select PHYLIB while CONFIG_FSL_ENETC_VF is set", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -13,6 +13,7 @@ config FSL_ENETC\n config FSL_ENETC_VF\n \ttristate \"ENETC VF driver\"\n \tdepends on PCI && PCI_MSI && (ARCH_LAYERSCAPE || COMPILE_TEST)\n+\tselect PHYLIB\n \thelp\n \t  This driver supports NXP ENETC gigabit ethernet controller PCIe\n \t  virtual function (VF) devices enabled by the ENETC PF driver.\n", "flags": ["BUILD_FIX", "KCONFIG", "ROBOT_REPORTED"], "link": "https://lore.kernel.org/linux-kernel/2802d2cf24b1ca7ea4c54dde266ded6a16020eb5"}
{"commit_hash": "7bc36e3ce91471b6377c8eadc0a2f220a2280083", "short_hash": "7bc36e3ce914", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-02T21:48:40-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-08-03T07:02:00-07:00", "subject": "ocfs2: remove set but not used variable 'last_hash'", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Joseph Qi <joseph.qi@linux.alibaba.com> (Alibaba)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -3825,7 +3825,6 @@ static int ocfs2_xattr_bucket_find(struct inode *inode,\n \tu16 blk_per_bucket = ocfs2_blocks_per_xattr_bucket(inode->i_sb);\n \tint low_bucket = 0, bucket, high_bucket;\n \tstruct ocfs2_xattr_bucket *search;\n-\tu32 last_hash;\n \tu64 blkno, lower_blkno = 0;\n \n \tsearch = ocfs2_xattr_bucket_new(inode);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7bc36e3ce91471b6377c8eadc0a2f220a2280083"}
{"commit_hash": "0584674d7fe407c2db91a009294d5ec19f7cb1d5", "short_hash": "0584674d7fe4", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-04T10:45:34Z", "committer_name": "Jani Nikula", "committer_email": "jani.nikula@intel.com", "committer_company": "Intel", "commit_date": "2019-08-05T11:43:22+03:00", "subject": "drm/i915: fix possible memory leak in intel_hdcp_auth_downstream()", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Jani Nikula <jani.nikula@intel.com> (Intel)", "Jani Nikula <jani.nikula@intel.com> (Intel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -536,7 +536,8 @@ int intel_hdcp_auth_downstream(struct intel_connector *connector)\n \n \tif (drm_hdcp_check_ksvs_revoked(dev, ksv_fifo, num_downstream)) {\n \t\tDRM_ERROR(\"Revoked Ksv(s) in ksv_fifo\\n\");\n-\t\treturn -EPERM;\n+\t\tret = -EPERM;\n+\t\tgoto err;\n \t}\n \n \t/*\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0584674d7fe407c2db91a009294d5ec19f7cb1d5"}
{"commit_hash": "a48d06f9b7cedbb8ad7804d1720168b7ee6a34e7", "short_hash": "a48d06f9b7ce", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-01T11:30:13+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:45+02:00", "subject": "KVM: LAPIC: Don't need to wakeup vCPU twice afer timer fire", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 8, "hunks": 4, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1548,7 +1548,6 @@ static void kvm_apic_inject_pending_timer_irqs(struct kvm_lapic *apic)\n static void apic_timer_expired(struct kvm_lapic *apic)\n {\n \tstruct kvm_vcpu *vcpu = apic->vcpu;\n-\tstruct swait_queue_head *q = &vcpu->wq;\n \tstruct kvm_timer *ktimer = &apic->lapic_timer;\n \n \tif (atomic_read(&apic->lapic_timer.pending))", "flags": ["PERFORMANCE"], "link": "https://lore.kernel.org/linux-kernel/a48d06f9b7cedbb8ad7804d1720168b7ee6a34e7"}
{"commit_hash": "046ddeed0461b5d270470c253cbb321103d048b6", "short_hash": "046ddeed0461", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-01T11:30:14+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:46+02:00", "subject": "KVM: Check preempted_in_kernel for involuntary preemption", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 3, "hunks": 6, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -2508,7 +2508,8 @@ void kvm_vcpu_on_spin(struct kvm_vcpu *me, bool yield_to_kernel_mode)\n \t\t\t\tcontinue;\n \t\t\tif (swait_active(&vcpu->wq) && !kvm_arch_vcpu_runnable(vcpu))\n \t\t\t\tcontinue;\n-\t\t\tif (yield_to_kernel_mode && !kvm_arch_vcpu_in_kernel(vcpu))\n+\t\t\tif (READ_ONCE(vcpu->preempted) && yield_to_kernel_mode &&\n+\t\t\t\t!kvm_arch_vcpu_in_kernel(vcpu))\n \t\t\t\tcontinue;\n \t\t\tif (!kvm_vcpu_eligible_for_directed_yield(vcpu))\n \t\t\t\tcontinue;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/046ddeed0461b5d270470c253cbb321103d048b6"}
{"commit_hash": "17e433b54393a6269acbcb792da97791fe1592d8", "short_hash": "17e433b54393", "author_name": "Wanpeng Li", "author_email": "wanpengli@tencent.com", "author_company": "Tencent", "author_date": "2019-08-05T10:03:19+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-05T12:55:47+02:00", "subject": "KVM: Fix leak vCPU's VMCS value into other pCPU", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 7, "insertions": 59, "deletions": 1, "hunks": 20, "review_chain": {"signed_off_by": ["Wanpeng Li <wanpengli@tencent.com> (Tencent)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -50,6 +50,11 @@ int kvm_arch_vcpu_runnable(struct kvm_vcpu *v)\n \treturn !!(v->arch.pending_exceptions) || kvm_request_pending(v);\n }\n \n+bool kvm_arch_dy_runnable(struct kvm_vcpu *vcpu)\n+{\n+\treturn kvm_arch_vcpu_runnable(vcpu);\n+}\n+\n bool kvm_arch_vcpu_in_kernel(struct kvm_vcpu *vcpu)\n {\n \treturn false;\ndiff --git a/arch/x86/include/asm/kvm_host.h b/arch/x86/include/asm/kvm_host.h\nindex e74f0711eaaf..fc046ca89d32 100644\n--- a/arch/x86/include/asm/kvm_host.h\n+++ b/arch/x86/include/asm/kvm_host.h", "flags": ["BUG-RACE"], "link": "https://lore.kernel.org/linux-kernel/17e433b54393a6269acbcb792da97791fe1592d8"}
{"commit_hash": "b33d567560c1aadf3033290d74d4fd67af47aa61", "short_hash": "b33d567560c1", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-07-08T20:42:18+08:00", "committer_name": "Miguel Ojeda", "committer_email": "miguel.ojeda.sandonis@gmail.com", "committer_company": "Gmail", "commit_date": "2019-08-05T22:33:31+02:00", "subject": "auxdisplay: panel: need to delete scan_timer when misc_register fails in panel_attach", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Miguel Ojeda <miguel.ojeda.sandonis@gmail.com> (Gmail)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1617,6 +1617,8 @@ static void panel_attach(struct parport *port)\n \treturn;\n \n err_lcd_unreg:\n+\tif (scan_timer.function)\n+\t\tdel_timer_sync(&scan_timer);\n \tif (lcd.enabled)\n \t\tcharlcd_unregister(lcd.charlcd);\n err_unreg_device:\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b33d567560c1aadf3033290d74d4fd67af47aa61"}
{"commit_hash": "96a50c0d907ac8f5c3d6b051031a19eb8a2b53e3", "short_hash": "96a50c0d907a", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:41+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: Fix dma_map_single failed on arm64", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 11, "deletions": 9, "hunks": 16, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"code_volume": 5, "subsystem_tier": 7, "cross_subsystem": 0, "category_base": 12, "stable_backport": 3, "user_impact": 0, "novelty": 3, "review_chain": 6, "message_quality": 6, "testing": 2, "atomicity": 3, "cross_org": 4, "maintainer": 4, "response": 0}, "score_justification": "", "code_snippet": "@@ -625,9 +626,9 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \t\tbuf = netdev_alloc_frag(priv->rx_buf_size);\n \t\tif (!buf)\n \t\t\tgoto done;\n-\t\tphys = dma_map_single(&ndev->dev, buf,\n+\t\tphys = dma_map_single(priv->dev, buf,\n \t\t\t\t      RX_BUF_SIZE, DMA_FROM_DEVICE);\n-\t\tif (dma_mapping_error(&ndev->dev, phys))\n+\t\tif (dma_mapping_error(priv->dev, phys))\n \t\t\tgoto done;\n \t\tpriv->rx_buf[priv->rx_head] = buf;\n \t\tpriv->rx_phys[priv->rx_head] = phys;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/96a50c0d907ac8f5c3d6b051031a19eb8a2b53e3"}
{"commit_hash": "f2243b82785942be519016067ee6c55a063bbfe2", "short_hash": "f2243b827859", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:40+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: fix hip04-xmit never return TX_BUSY", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet/hisilicon/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 8, "score_quality": 4, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (2 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER fix for incorrect return value), B2=0 (no Cc: stable), B3=0 (driver-specific), B4=1 (bug fix). Quality=4: C1=0 (no reviewer tags), C2=2 (substantial body >50 chars), C3=0 (no Tested-by), C4=2 (1 file). Community=6: D1=2 (cross-org: author from Huawei, committer David S. Miller), D2=4 (Dave Miller is top maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -248,7 +248,7 @@ struct hip04_priv {\n \n static inline unsigned int tx_count(unsigned int head, unsigned int tail)\n {\n-\treturn (head - tail) % (TX_DESC_NUM - 1);\n+\treturn (head - tail) % TX_DESC_NUM;\n }\n \n static void hip04_config_port(struct net_device *ndev, u32 speed, u32 duplex)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/f2243b82785942be519016067ee6c55a063bbfe2"}
{"commit_hash": "1a2c070ae805910a853b4a14818481ed2e17c727", "short_hash": "1a2c070ae805", "author_name": "Jiangfeng Xiao", "author_email": "xiaojiangfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-03T20:31:39+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-06T14:14:01-07:00", "subject": "net: hisilicon: make hip04_tx_reclaim non-reentrant", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": false, "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 4, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Jiangfeng Xiao <xiaojiangfeng@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -585,6 +585,9 @@ static int hip04_rx_poll(struct napi_struct *napi, int budget)\n \tu16 len;\n \tu32 err;\n \n+\t/* clean up tx descriptors */\n+\ttx_remaining = hip04_tx_reclaim(ndev, false);\n+\n \twhile (cnt && !last) {\n \t\tbuf = priv->rx_buf[priv->rx_head];\n \t\tskb = build_skb(buf, priv->rx_buf_size);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/1a2c070ae805910a853b4a14818481ed2e17c727"}
{"commit_hash": "d595b03de2cb0bdf9bcdf35ff27840cc3a37158f", "short_hash": "d595b03de2cb", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T10:19:59+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:01:44-07:00", "subject": "bonding: Add vlan tx offload to hw_enc_features", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Jay Vosburgh <jay.vosburgh@canonical.com> (Canonical)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1126,6 +1126,8 @@ static void bond_compute_features(struct bonding *bond)\n done:\n \tbond_dev->vlan_features = vlan_features;\n \tbond_dev->hw_enc_features = enc_features | NETIF_F_GSO_ENCAP_ALL |\n+\t\t\t\t    NETIF_F_HW_VLAN_CTAG_TX |\n+\t\t\t\t    NETIF_F_HW_VLAN_STAG_TX |\n \t\t\t\t    NETIF_F_GSO_UDP_L4;\n \tbond_dev->mpls_features = mpls_features;\n \tbond_dev->gso_max_segs = gso_max_segs;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d595b03de2cb0bdf9bcdf35ff27840cc3a37158f"}
{"commit_hash": "e3e3af9aa29a2ada43d5c27b47ea320415cd5bb3", "short_hash": "e3e3af9aa29a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-07T21:08:56+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:29:02-07:00", "subject": "net: dsa: sja1105: remove set but not used variables 'tx_vid' and 'rx_vid'", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": ["Vladimir Oltean <olteanv@gmail.com> (Gmail)", "Vivien Didelot <vivien.didelot@gmail.com> (Gmail)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1223,12 +1223,8 @@ static int sja1105_fdb_dump(struct dsa_switch *ds, int port,\n {\n \tstruct sja1105_private *priv = ds->priv;\n \tstruct device *dev = ds->dev;\n-\tu16 rx_vid, tx_vid;\n \tint i;\n \n-\trx_vid = dsa_8021q_rx_vid(ds, port);\n-\ttx_vid = dsa_8021q_tx_vid(ds, port);\n-\n \tfor (i = 0; i < SJA1105_MAX_L2_LOOKUP_COUNT; i++) {\n \t\tstruct sja1105_l2_lookup_entry l2_lookup = {0};\n \t\tu8 macaddr[ETH_ALEN];\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e3e3af9aa29a2ada43d5c27b47ea320415cd5bb3"}
{"commit_hash": "227f2f030e28d8783c3d10ce70ff4ba79cad653f", "short_hash": "227f2f030e28", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-08T14:22:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-08T22:41:41-07:00", "subject": "team: Add vlan tx offload to hw_enc_features", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 3268e5cb494d (\"team: Advertise tunneling offload features\")", "cc_stable": false, "subsystem_prefix": "drivers/net/team", "subsystems_touched": ["drivers/net/team"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 26, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (2 insertions), A2=7 (drivers/net/ Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER fix), B2=0 (no Cc: stable), B3=0 (driver not core), B4=1 (bug fix). Quality=6: C1=0 (no separate reviewers), C2=4 (Fixes + body), C3=0 (no Tested-by), C4=2 (1 file). Community=4: D1=0 (no cross-org reviewers), D2=4 (David S. Miller sign-off), D3=0 (no Acked-by).", "code_snippet": "@@ -1004,6 +1004,8 @@ static void __team_compute_features(struct team *team)\n \n \tteam->dev->vlan_features = vlan_features;\n \tteam->dev->hw_enc_features = enc_features | NETIF_F_GSO_ENCAP_ALL |\n+\t\t\t\t     NETIF_F_HW_VLAN_CTAG_TX |\n+\t\t\t\t     NETIF_F_HW_VLAN_STAG_TX |\n \t\t\t\t     NETIF_F_GSO_UDP_L4;\n \tteam->dev->hard_header_len = max_hard_header_len;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/227f2f030e28d8783c3d10ce70ff4ba79cad653f"}
{"commit_hash": "e26cc08265dda37d2acc8394604f220ef412299d", "short_hash": "e26cc08265dd", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T20:36:55+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-12T08:14:11-06:00", "subject": "blk-mq: move cancel of requeue_work to the front of blk_exit_queue", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 2, "insertions": 3, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": ["Ming Lei <ming.lei@redhat.com> (Redhat)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -2666,8 +2666,6 @@ void blk_mq_release(struct request_queue *q)\n \tstruct blk_mq_hw_ctx *hctx, *next;\n \tint i;\n \n-\tcancel_delayed_work_sync(&q->requeue_work);\n-\n \tqueue_for_each_hw_ctx(q, hctx, i)\n \t\tWARN_ON_ONCE(hctx && list_empty(&hctx->hctx_list));\n \ndiff --git a/block/blk-sysfs.c b/block/blk-sysfs.c\nindex 977c659dcd18..9bfa3ea4ed63 100644\n--- a/block/blk-sysfs.c\n+++ b/block/blk-sysfs.c", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e26cc08265dda37d2acc8394604f220ef412299d"}
{"commit_hash": "4974c839d45e2ac89ce0e82b49d548cc12e02a9c", "short_hash": "4974c839d45e", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-09T01:35:30Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-08-12T18:23:49+02:00", "subject": "Bluetooth: hci_qca: Use kfree_skb() instead of kfree()", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": "tier2", "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": ["Matthias Kaehlcke <mka@chromium.org> (Chromium)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -912,7 +912,7 @@ static int qca_recv_event(struct hci_dev *hdev, struct sk_buff *skb)\n \t\tif (hdr->evt == HCI_EV_VENDOR)\n \t\t\tcomplete(&qca->drop_ev_comp);\n \n-\t\tkfree(skb);\n+\t\tkfree_skb(skb);\n \n \t\treturn 0;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/4974c839d45e2ac89ce0e82b49d548cc12e02a9c"}
{"commit_hash": "5ee6310fb163ba7c66718905d4a19f1e71e641e0", "short_hash": "5ee6310fb163", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-07-10T06:12:22Z", "committer_name": "Marcel Holtmann", "committer_email": "marcel@holtmann.org", "committer_company": "Holtmann", "commit_date": "2019-08-12T18:23:49+02:00", "subject": "Bluetooth: btusb: Fix error return code in btusb_mtk_setup_firmware()", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: a1c49c434e15 (\"Bluetooth: btusb: Add protocol support for MediaTek MT7668U USB devices\")", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/bluetooth"], "subsystem_tier": 7, "files_changed": 1, "insertions": 3, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Marcel Holtmann <marcel@holtmann.org> (Holtmann)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 24, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (4 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER error return fix), B2=0 (no Cc: stable), B3=0 (driver-specific, not core), B4=1 (bug fix). Quality=6: C1=0 (no Reviewed-by/Acked-by/Tested-by tags), C2=4 (Fixes tag + substantial body), C3=0 (no Tested-by), C4=2 (1 file changed). Community=2: D1=2 (Chinese author with non-Chinese committer), D2=0, D3=0 (no Acked-by).", "code_snippet": "@@ -2762,8 +2762,10 @@ static int btusb_mtk_setup_firmware(struct hci_dev *hdev, const char *fwname)\n \tfw_size = fw->size;\n \n \t/* The size of patch header is 30 bytes, should be skip */\n-\tif (fw_size < 30)\n+\tif (fw_size < 30) {\n+\t\terr = -EINVAL;\n \t\tgoto err_release_fw;\n+\t}\n \n \tfw_size -= 30;\n \tfw_ptr += 30;\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/5ee6310fb163ba7c66718905d4a19f1e71e641e0"}
{"commit_hash": "4a65bbb9109ed7edd4b6ed7168ced48abb8561a2", "short_hash": "4a65bbb9109e", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-04-13T22:12:43+08:00", "committer_name": "Tony Lindgren", "committer_email": "tony@atomide.com", "committer_company": "Atomide", "commit_date": "2019-08-13T05:05:38-07:00", "subject": "soc: ti: pm33xx: Make two symbols static", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Tony Lindgren <tony@atomide.com> (Atomide)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -141,7 +141,7 @@ static int __init am43xx_map_gic(void)\n }\n \n #ifdef CONFIG_SUSPEND\n-struct wkup_m3_wakeup_src rtc_wake_src(void)\n+static struct wkup_m3_wakeup_src rtc_wake_src(void)\n {\n \tu32 i;\n ", "flags": ["MAINT-CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/4a65bbb9109ed7edd4b6ed7168ced48abb8561a2"}
{"commit_hash": "54a83d6bcbf8f4700013766b974bf9190d40b689", "short_hash": "54a83d6bcbf8", "author_name": "Miles Chen", "author_email": "miles.chen@mediatek.com", "author_company": "MediaTek", "author_date": "2019-08-13T15:37:28-07:00", "committer_name": "Linus Torvalds", "committer_email": "torvalds@linux-foundation.org", "committer_company": "Linux-foundation", "commit_date": "2019-08-13T16:06:52-07:00", "subject": "mm/memcontrol.c: fix use after free in mem_cgroup_iter()", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 29, "deletions": 10, "hunks": 2, "review_chain": {"signed_off_by": ["Miles Chen <miles.chen@mediatek.com> (MediaTek)", "Qian Cai <cai@lca.pw> (Lca)", "Andrew Morton <akpm@linux-foundation.org> (Linux-foundation)", "Linus Torvalds <torvalds@linux-foundation.org> (Linux-foundation)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Michal Hocko <mhocko@suse.com> (SUSE)"], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1130,26 +1130,45 @@ void mem_cgroup_iter_break(struct mem_cgroup *root,\n \t\tcss_put(&prev->css);\n }\n \n-static void invalidate_reclaim_iterators(struct mem_cgroup *dead_memcg)\n+static void __invalidate_reclaim_iterators(struct mem_cgroup *from,\n+\t\t\t\t\tstruct mem_cgroup *dead_memcg)\n {\n-\tstruct mem_cgroup *memcg = dead_memcg;\n \tstruct mem_cgroup_reclaim_iter *iter;\n \tstruct mem_cgroup_per_node *mz;\n \tint nid;\n \tint i;\n \n-\tfor (; memcg; memcg = parent_mem_cgroup(memcg)) {\n-\t\tfor_each_node(nid) {\n-\t\t\tmz = mem_cgroup_nodeinfo(memcg, nid);\n-\t\t\tfor (i = 0; i <= DEF_PRIORITY; i++) {\n-\t\t\t\titer = &mz->iter[i];\n-\t\t\t\tcmpxchg(&iter->position,", "flags": ["STABLE"], "link": "https://lore.kernel.org/linux-kernel/54a83d6bcbf8f4700013766b974bf9190d40b689"}
{"commit_hash": "2d6c25215ab26bb009de3575faab7b685f138e92", "short_hash": "2d6c25215ab2", "author_name": "Roberto Sassu", "author_email": "roberto.sassu@huawei.com", "author_company": "Huawei", "author_date": "2019-08-05T18:44:27+02:00", "committer_name": "Jarkko Sakkinen", "committer_email": "jarkko.sakkinen@linux.intel.com", "committer_company": "Intel", "commit_date": "2019-08-13T19:59:23+03:00", "subject": "KEYS: trusted: allow module init if TPM is inactive or deactivated", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 13, "hunks": 2, "review_chain": {"signed_off_by": ["Roberto Sassu <roberto.sassu@huawei.com> (Huawei)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "reviewed_by": ["Tyler Hicks <tyhicks@canonical.com> (Canonical)", "Jarkko Sakkinen <jarkko.sakkinen@linux.intel.com> (Intel)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {"code_volume": "Small deletion (13 lines removed, 0 added) = 2", "subsystem_tier": "Security/keys subsystem = 7", "cross_subsystem": "Single file (security/keys/trusted.c) = 0", "category_base": "Bug fix (regression) with security implications = 12", "stable_backport": "Cc: stable@vger.kernel.org present = 5", "user_impact": "Module loading reliability = 3", "novelty": "Follow-up fix, low novelty = 2", "review_chain": "Reviewed-by: Tyler Hicks, Reviewed-by: Jarkko Sakkinen (maintainer) = 8", "message_quality": "Good: Cc, Fixes tags, detailed explanation, Suggested-by = 6", "testing": "No mentioned testing = 0", "atomicity": "Single focused change = 3", "cross_org": "Huawei -> Intel (same company effectively, Intel maintainer) = 0", "maintainer": "Jarkko Sakkinen is subsystem maintainer = 4", "response": "8 days to merge = 0"}, "score_justification": "", "code_snippet": "@@ -1228,24 +1228,11 @@ static int __init trusted_shash_alloc(void)\n \n static int __init init_digests(void)\n {\n-\tu8 digest[TPM_MAX_DIGEST_SIZE];\n-\tint ret;\n-\tint i;\n-\n-\tret = tpm_get_random(chip, digest, TPM_MAX_DIGEST_SIZE);\n-\tif (ret < 0)\n-\t\treturn ret;\n-\tif (ret < TPM_MAX_DIGEST_SIZE)\n-\t\treturn -EFAULT;\n-\n \tdigests = kcalloc(chip->nr_allocated_banks, sizeof(*digests),\n \t\t\t  GFP_KERNEL);\n \tif (!digests)\n \t\treturn -ENOMEM;\n \n-\tfor (i = 0; i < chip->nr_allocated_banks; i++)", "flags": ["BACK-STABLE"], "link": "https://lore.kernel.org/linux-kernel/2d6c25215ab26bb009de3575faab7b685f138e92"}
{"commit_hash": "6d5afe20397b478192ed8c38ec0ee10fa3aec649", "short_hash": "6d5afe20397b", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-13T22:05:50+08:00", "committer_name": "Jakub Kicinski", "committer_email": "jakub.kicinski@netronome.com", "committer_company": "Netronome", "commit_date": "2019-08-13T20:45:01-07:00", "subject": "sctp: fix memleak in sctp_send_reset_streams", "primary_category": "BUG-LEAK", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: d570a59c5b5f (\"sctp: only allow the out stream reset when the stream outq is empty\")", "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Jakub Kicinski <jakub.kicinski@netronome.com> (Netronome)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)", "Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 11, "score_impact": 11, "score_quality": 12, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 9, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "Technical=11: A1=1 (1 insertion), A2=10 (net/ Tier 1), A3=0 (single subsystem). Impact=11: B1=9 (BUG-LEAK fix), B2=0 (no Cc: stable), B3=1 (Tier 1 networking), B4=1 (bug fix). Quality=12: C1=4 (2 Acked-by reviewers), C2=6 (Fixes + Reported-by + substantial body), C3=0 (no Tested-by), C4=2 (1 file). Community=7: D1=4 (2 non-Huawei reviewers: Marcelo, Neil), D2=2 (Acked-by present), D3=1 (Acked-by in message).", "code_snippet": "@@ -316,6 +316,7 @@ int sctp_send_reset_streams(struct sctp_association *asoc,\n \t\tnstr_list[i] = htons(str_list[i]);\n \n \tif (out && !sctp_stream_outq_is_empty(stream, str_nums, nstr_list)) {\n+\t\tkfree(nstr_list);\n \t\tretval = -EAGAIN;\n \t\tgoto out;\n \t}\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6d5afe20397b478192ed8c38ec0ee10fa3aec649"}
{"commit_hash": "68e03b85474a51ec1921b4d13204782594ef7223", "short_hash": "68e03b85474a", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-07-31T20:38:14+08:00", "committer_name": "Linus Walleij", "committer_email": "linus.walleij@linaro.org", "committer_company": "Linaro", "commit_date": "2019-08-14T10:57:18+02:00", "subject": "gpio: Fix build error of function redefinition", "primary_category": "BUILD", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 964cb341882f (\"gpio: move pincontrol calls to <linux/gpio/driver.h>\")", "cc_stable": false, "subsystem_prefix": "include", "subsystems_touched": ["include/"], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 24, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Linus Walleij <linus.walleij@linaro.org> (Linaro)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 18, "score_technical": 5, "score_impact": 2, "score_quality": 8, "score_community": 3, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 4, "A3_cross_subsystem": 0, "B1_category_base": 1, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 1, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Technical=5: A1=1 (24 deletions), A2=4 (include/ Tier 3), A3=0 (single subsystem). Impact=2: B1=1 (BUILD fix), B2=0 (no stable), B3=0 (not Tier 1), B4=1 (bug fix). Quality=8: C1=0 (no separate reviewers), C2=6 (Fixes+Link+Reported-by+body), C3=0 (no Tested-by), C4=2 (1 file). Community=3: D1=1 (non-Chinese committer), D2=2 (GPIO maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -241,30 +241,6 @@ static inline int irq_to_gpio(unsigned irq)\n \treturn -EINVAL;\n }\n \n-static inline int\n-gpiochip_add_pin_range(struct gpio_chip *chip, const char *pinctl_name,\n-\t\t       unsigned int gpio_offset, unsigned int pin_offset,\n-\t\t       unsigned int npins)\n-{\n-\tWARN_ON(1);\n-\treturn -EINVAL;\n-}\n-\n-static inline int\n-gpiochip_add_pingroup_range(struct gpio_chip *chip,\n-\t\t\tstruct pinctrl_dev *pctldev,\n-\t\t\tunsigned int gpio_offset, const char *pin_group)\n-{\n-\tWARN_ON(1);\n-\treturn -EINVAL;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/68e03b85474a51ec1921b4d13204782594ef7223"}
{"commit_hash": "c8e174b39887ea1992286ff8ffdbcf79f6057cf2", "short_hash": "c8e174b39887", "author_name": "Miaohe Lin", "author_email": "linmiaohe@huawei.com", "author_company": "Huawei", "author_date": "2019-08-12T10:33:00+08:00", "committer_name": "Paolo Bonzini", "committer_email": "pbonzini@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-14T16:28:36+02:00", "subject": "KVM: x86: svm: remove redundant assignment of var new_entry", "primary_category": "TRIV-TRIVIAL", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "arch/x86/kvm", "subsystems_touched": ["arch/x86/kvm"], "subsystem_tier": 7, "files_changed": 1, "insertions": 0, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Miaohe Lin <linmiaohe@huawei.com> (Huawei)", "Paolo Bonzini <pbonzini@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 9, "score_technical": 3, "score_impact": 0, "score_quality": 4, "score_community": 2, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 0, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=3 (capped for TRIV): A1=1 (1 line), A2=7 (arch/ Tier 2), A3=0 (1 subsystem). Impact=0 (capped for TRIV): B1=0 (TRIV-TRIVIAL), B2=0 (no stable), B3=0 (not Tier 1), B4=0 (cleanup). Quality=4: C1=0 (no review tags), C2=2 (body present), C3=0 (no Tested-by), C4=2 (1 file). Community=2: D1=2 (Chinese author, Italian maintainer), D2=0, D3=0. Trivial cleanup removing redundant variable assignment in KVM SVM code.", "code_snippet": "@@ -1714,7 +1714,6 @@ static int avic_init_backing_page(struct kvm_vcpu *vcpu)\n \tif (!entry)\n \t\treturn -EINVAL;\n \n-\tnew_entry = READ_ONCE(*entry);\n \tnew_entry = __sme_set((page_to_phys(svm->avic_backing_page) &\n \t\t\t      AVIC_PHYSICAL_ID_ENTRY_BACKING_PAGE_MASK) |\n \t\t\t      AVIC_PHYSICAL_ID_ENTRY_VALID_MASK);\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/c8e174b39887ea1992286ff8ffdbcf79f6057cf2"}
{"commit_hash": "a982eeb09b6030e567b8b815277c8c9197168040", "short_hash": "a982eeb09b60", "author_name": "Jackie Liu", "author_email": "liuyun01@kylinos.cn", "author_company": "Kylin", "author_date": "2019-08-14T17:35:22+08:00", "committer_name": "Jens Axboe", "committer_email": "axboe@kernel.dk", "committer_company": "Kernel", "commit_date": "2019-08-15T11:21:39-06:00", "subject": "io_uring: fix an issue when IOSQE_IO_LINK is inserted into defer list", "primary_category": "BUG-RACE", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 9e645e1105c (\"io_uring: add support for sqe links\")", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/io_uring.c"], "subsystem_tier": 10, "files_changed": 1, "insertions": 9, "deletions": 7, "hunks": 4, "review_chain": {"signed_off_by": ["Jackie Liu <liuyun01@kylinos.cn> (Kylin)", "Jens Axboe <axboe@kernel.dk> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 12, "score_impact": 17, "score_quality": 6, "score_community": 2, "score_breakdown": {"A1_code_volume": 2, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 0, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=12: A1=2 (16 lines changed), A2=10 (fs/ Tier 1 core subsystem), A3=0 (single file). Impact=17: B1=11 (BUG-RACE - ordering/race condition fix for linked IO), B2=0 (no Cc: stable), B3=5 (io_uring is core API), B4=1 (bug fix). Quality=6: C1=0 (no reviewer tags), C2=4 (Fixes tag + detailed body with diagram), C3=0 (no Tested-by), C4=2 (1 file). Community=2: D1=2 (Chinese author with non-Chinese maintainer sign-off), D2=0, D3=0.", "code_snippet": "@@ -2023,6 +2023,15 @@ static int io_queue_sqe(struct io_ring_ctx *ctx, struct io_kiocb *req,\n {\n \tint ret;\n \n+\tret = io_req_defer(ctx, req, s->sqe);\n+\tif (ret) {\n+\t\tif (ret != -EIOCBQUEUED) {\n+\t\t\tio_free_req(req);\n+\t\t\tio_cqring_add_event(ctx, s->sqe->user_data, ret);\n+\t\t}\n+\t\treturn 0;\n+\t}\n+\n \tret = __io_submit_sqe(ctx, req, s, true);\n \tif (ret == -EAGAIN && !(req->flags & REQ_F_NOWAIT)) {\n \t\tstruct io_uring_sqe *sqe_copy;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/a982eeb09b6030e567b8b815277c8c9197168040"}
{"commit_hash": "a1c4cd67840ef80f6ca5f73326fa9a6719303a95", "short_hash": "a1c4cd67840e", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-20T13:52:47+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-20T12:48:06-07:00", "subject": "net: fix __ip_mc_inc_group usage", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Florian Fainelli <f.fainelli@gmail.com> (Gmail)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -1475,7 +1475,7 @@ EXPORT_SYMBOL(__ip_mc_inc_group);\n \n void ip_mc_inc_group(struct in_device *in_dev, __be32 addr)\n {\n-\t__ip_mc_inc_group(in_dev, addr, MCAST_EXCLUDE);\n+\t__ip_mc_inc_group(in_dev, addr, GFP_KERNEL);\n }\n EXPORT_SYMBOL(ip_mc_inc_group);\n ", "flags": ["FIXES_TAG"], "link": "https://lore.kernel.org/linux-kernel/a1c4cd67840ef80f6ca5f73326fa9a6719303a95"}
{"commit_hash": "a7bfb93f0211b4a2f1ffeeb259ed6206bac30460", "short_hash": "a7bfb93f0211", "author_name": "zhengbin", "author_email": "zhengbin13@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T12:27:39+08:00", "committer_name": "Doug Ledford", "committer_email": "dledford@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-20T13:44:45-04:00", "subject": "RDMA/cma: fix null-ptr-deref Read in cma_cleanup", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 2, "files_changed": 1, "insertions": 5, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["zhengbin <zhengbin13@huawei.com> (Huawei)", "Doug Ledford <dledford@redhat.com> (Redhat)"], "reviewed_by": ["Parav Pandit <parav@mellanox.com> (Mellanox)"], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -4724,10 +4724,14 @@ static int __init cma_init(void)\n \tif (ret)\n \t\tgoto err;\n \n-\tcma_configfs_init();\n+\tret = cma_configfs_init();\n+\tif (ret)\n+\t\tgoto err_ib;\n \n \treturn 0;\n \n+err_ib:\n+\tib_unregister_client(&cma_client);\n err:\n \tunregister_netdevice_notifier(&cma_nb);\n \tib_sa_unregister_client(&sa_client);\n", "flags": ["FIXES_TAG", "STABLE_CANDIDATE", "REVIEWED"], "link": "https://lore.kernel.org/linux-kernel/a7bfb93f0211b4a2f1ffeeb259ed6206bac30460"}
{"commit_hash": "0f404bbdaf1624f4d25dd67da7ff85eab005beac", "short_hash": "0f404bbdaf16", "author_name": "Li RongQing", "author_email": "lirongqing@baidu.com", "author_company": "Baidu", "author_date": "2019-08-20T10:46:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-21T20:43:22-07:00", "subject": "net: fix icmp_socket_deliver argument 2 input", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Li RongQing <lirongqing@baidu.com> (Baidu)", "Zhang Yu <zhangyu31@baidu.com> (Baidu)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 28, "score_technical": 11, "score_impact": 9, "score_quality": 4, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 0, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=11: A1=1 (2 lines changed), A2=10 (net/ Tier 1), A3=0 (single subsystem). Impact=9: B1=7 (BUG-OTHER type mismatch fix), B2=0 (no Cc: stable), B3=1 (Tier 1 networking), B4=1 (bug fix). Quality=4: C1=0 (no Reviewed-by/Acked-by), C2=2 (substantial body >50 chars), C3=0 (no Tested-by), C4=2 (1 file changed). Community=4: D1=0 (no cross-org review beyond sign-off chain), D2=4 (signed off by David S. Miller - top networking maintainer), D3=0 (no Acked-by tag).", "code_snippet": "@@ -902,7 +902,7 @@ static bool icmp_redirect(struct sk_buff *skb)\n \t\treturn false;\n \t}\n \n-\ticmp_socket_deliver(skb, icmp_hdr(skb)->un.gateway);\n+\ticmp_socket_deliver(skb, ntohl(icmp_hdr(skb)->un.gateway));\n \treturn true;\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0f404bbdaf1624f4d25dd67da7ff85eab005beac"}
{"commit_hash": "7533be858f5b9a036b9f91556a3ed70786abca8e", "short_hash": "7533be858f5b", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T16:05:31+01:00", "committer_name": "David Howells", "committer_email": "dhowells@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T13:33:27+01:00", "subject": "afs: use correct afs_call_type in yfs_fs_store_opaque_acl2", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: f5e4546347bc (\"afs: Implement YFS ACL setting\")", "cc_stable": false, "subsystem_prefix": "fs", "subsystems_touched": ["fs/afs/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David Howells <dhowells@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 30, "score_technical": 11, "score_impact": 9, "score_quality": 6, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Technical=11: A1=1 (2 lines changed), A2=10 (fs/ Tier 1), A3=0 (single subsystem). Impact=9: B1=7 (BUG-OTHER), B2=0 (no stable tag), B3=1 (Tier 1 fs/), B4=1 (bug fix). Quality=6: C1=0 (no reviewers), C2=4 (Fixes tag + body), C3=0 (no Tested-by), C4=2 (1 file). Community=4: D1=2 (non-Chinese author), D2=2 (Acked-by), D3=0 (no Acked-by in message).", "code_snippet": "@@ -2171,7 +2171,7 @@ int yfs_fs_store_opaque_acl2(struct afs_fs_cursor *fc, const struct afs_acl *acl\n \t       key_serial(fc->key), vnode->fid.vid, vnode->fid.vnode);\n \n \tsize = round_up(acl->size, 4);\n-\tcall = afs_alloc_flat_call(net, &yfs_RXYFSStoreStatus,\n+\tcall = afs_alloc_flat_call(net, &yfs_RXYFSStoreOpaqueACL2,\n \t\t\t\t   sizeof(__be32) * 2 +\n \t\t\t\t   sizeof(struct yfs_xdr_YFSFid) +\n \t\t\t\t   sizeof(__be32) + size,\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/7533be858f5b9a036b9f91556a3ed70786abca8e"}
{"commit_hash": "e4f9d6013820d1eba1432d51dd1c5795759aa77f", "short_hash": "e4f9d6013820", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-08-17T13:32:40+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T16:11:23-04:00", "subject": "dm btree: fix order of block initialization in btree_split_beneath", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 16, "deletions": 15, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -628,39 +628,40 @@ static int btree_split_beneath(struct shadow_spine *s, uint64_t key)\n \n \tnew_parent = shadow_current(s);\n \n+\tpn = dm_block_data(new_parent);\n+\tsize = le32_to_cpu(pn->header.flags) & INTERNAL_NODE ?\n+\t\tsizeof(__le64) : s->info->value_type.size;\n+\n+\t/* create & init the left block */\n \tr = new_block(s->info, &left);\n \tif (r < 0)\n \t\treturn r;\n \n+\tln = dm_block_data(left);\n+\tnr_left = le32_to_cpu(pn->header.nr_entries) / 2;\n+\n+\tln->header.flags = pn->header.flags;\n+\tln->header.nr_entries = cpu_to_le32(nr_left);\n+\tln->header.max_entries = pn->header.max_entries;\n+\tln->header.value_size = pn->header.value_size;", "flags": ["STABLE"], "link": "https://lore.kernel.org/linux-kernel/e4f9d6013820d1eba1432d51dd1c5795759aa77f"}
{"commit_hash": "ae148243d3f0816b37477106c05a2ec7d5f32614", "short_hash": "ae148243d3f0", "author_name": "ZhangXiaoxu", "author_email": "zhangxiaoxu5@huawei.com", "author_company": "Huawei", "author_date": "2019-08-19T11:31:21+08:00", "committer_name": "Mike Snitzer", "committer_email": "snitzer@redhat.com", "committer_company": "Redhat", "commit_date": "2019-08-22T16:11:24-04:00", "subject": "dm space map metadata: fix missing store of apply_bops() return value", "primary_category": "BUG-REGRESSION", "secondary_categories": ["BACK-STABLE", "BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 6096d91af0b6 (\"dm space map metadata: fix occasional leak of a metadata block on resize\")", "cc_stable": true, "subsystem_prefix": "drivers/md", "subsystems_touched": ["drivers/md/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["ZhangXiaoxu <zhangxiaoxu5@huawei.com> (Huawei)", "Mike Snitzer <snitzer@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 37, "score_technical": 8, "score_impact": 17, "score_quality": 8, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 11, "B2_stable_significance": 5, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (2 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=17: B1=11 (BUG-REGRESSION fix), B2=5 (Cc: stable), B3=0 (Tier 2 subsystem), B4=1 (bug fix). Quality=8: C1=2 (1 reviewer - Mike Snitzer), C2=4 (Fixes: tag + substantial body), C3=0 (no Tested-by), C4=2 (1 file). Community=4: D1=2 (Chinese author with cross-org reviewer), D2=2 (maintainer Signed-off-by), D3=0 (no Acked-by).", "code_snippet": "@@ -249,7 +249,7 @@ static int out(struct sm_metadata *smm)\n \t}\n \n \tif (smm->recursion_count == 1)\n-\t\tapply_bops(smm);\n+\t\tr = apply_bops(smm);\n \n \tsmm->recursion_count--;\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/ae148243d3f0816b37477106c05a2ec7d5f32614"}
{"commit_hash": "0af83abbd4a6e36a4b209d8c57c26143e40eeec1", "short_hash": "0af83abbd4a6", "author_name": "Liu Song", "author_email": "liu.song11@zte.com.cn", "author_company": "ZTE", "author_date": "2019-08-06T22:21:40+08:00", "committer_name": "Richard Weinberger", "committer_email": "richard@nod.at", "committer_company": "Nod", "commit_date": "2019-08-22T17:25:33+02:00", "subject": "ubifs: Limit the number of pages in shrink_liability", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Liu Song <liu.song11@zte.com.cn> (ZTE)", "Richard Weinberger <richard@nod.at> (Nod)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -51,7 +51,7 @@\n static void shrink_liability(struct ubifs_info *c, int nr_to_write)\n {\n \tdown_read(&c->vfs_sb->s_umount);\n-\twriteback_inodes_sb(c->vfs_sb, WB_REASON_FS_FREE_SPACE);\n+\twriteback_inodes_sb_nr(c->vfs_sb, nr_to_write, WB_REASON_FS_FREE_SPACE);\n \tup_read(&c->vfs_sb->s_umount);\n }\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/0af83abbd4a6e36a4b209d8c57c26143e40eeec1"}
{"commit_hash": "b45ce32135d1c82a5bf12aa56957c3fd27956057", "short_hash": "b45ce32135d1", "author_name": "zhanglin", "author_email": "zhang.lin16@zte.com.cn", "author_company": "ZTE", "author_date": "2019-08-23T09:14:11+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-24T16:33:14-07:00", "subject": "sock: fix potential memory leak in proto_register()", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 21, "deletions": 10, "hunks": 8, "review_chain": {"signed_off_by": ["zhanglin <zhang.lin16@zte.com.cn> (ZTE)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -3287,16 +3287,17 @@ static __init int net_inuse_init(void)\n \n core_initcall(net_inuse_init);\n \n-static void assign_proto_idx(struct proto *prot)\n+static int assign_proto_idx(struct proto *prot)\n {\n \tprot->inuse_idx = find_first_zero_bit(proto_inuse_idx, PROTO_INUSE_NR);\n \n \tif (unlikely(prot->inuse_idx == PROTO_INUSE_NR - 1)) {\n \t\tpr_err(\"PROTO_INUSE_NR exhausted\\n\");\n-\t\treturn;\n+\t\treturn -ENOSPC;\n \t}\n \n \tset_bit(prot->inuse_idx, proto_inuse_idx);\n+\treturn 0;\n }\n \n static void release_proto_idx(struct proto *prot)", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b45ce32135d1c82a5bf12aa56957c3fd27956057"}
{"commit_hash": "99300a85260c2b7febd57082a617d1062532067e", "short_hash": "99300a85260c", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T15:16:36+08:00", "committer_name": "Trond Myklebust", "committer_email": "trond.myklebust@hammerspace.com", "committer_company": "Hammerspace", "commit_date": "2019-08-27T10:24:56-04:00", "subject": "NFS: remove set but not used variable 'mapping'", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 0, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "Trond Myklebust <trond.myklebust@hammerspace.com> (Hammerspace)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -606,7 +606,6 @@ static void nfs_write_error(struct nfs_page *req, int error)\n static int nfs_page_async_flush(struct nfs_pageio_descriptor *pgio,\n \t\t\t\tstruct page *page)\n {\n-\tstruct address_space *mapping;\n \tstruct nfs_page *req;\n \tint ret = 0;\n ", "flags": [], "link": "https://lore.kernel.org/linux-kernel/99300a85260c2b7febd57082a617d1062532067e"}
{"commit_hash": "d4a8061a7c5f7c27a2dc002ee4cb89b3e6637e44", "short_hash": "d4a8061a7c5f", "author_name": "Heyi Guo", "author_email": "guoheyi@huawei.com", "author_company": "Huawei", "author_date": "2019-08-27T12:26:50+01:00", "committer_name": "Will Deacon", "committer_email": "will@kernel.org", "committer_company": "Kernel", "commit_date": "2019-08-27T16:19:56+01:00", "subject": "KVM: arm/arm64: vgic: Fix potential deadlock when ap_list is long", "primary_category": "BUG-HANG", "secondary_categories": ["BACK-STABLE", "BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 8e4447457965 (\"KVM: arm/arm64: vgic-new: Add IRQ sorting\")", "cc_stable": true, "subsystem_prefix": "virt", "subsystems_touched": ["virt/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 7, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Zenghui Yu <yuzenghui@huawei.com> (Huawei)", "Heyi Guo <guoheyi@huawei.com> (Huawei)", "Marc Zyngier <maz@kernel.org> (Kernel)", "Will Deacon <will@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 49, "score_technical": 12, "score_impact": 21, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 1, "B1_category_base": 10, "B2_stable_significance": 5, "B3_user_impact": 5, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=12: A1=1 (7 lines), A2=10 (virt/ Tier 1), A3=1 (only virt/). Impact=21: B1=10 (BUG-HANG fix), B2=5 (Cc: stable), B3=5 (Tier 1 core subsystem), B4=1 (bug fix). Quality=12: C1=4 (2 reviewers: Marc Zyngier, Will Deacon), C2=6 (Fixes + thorough body + signed-off chain), C3=0 (no Tested-by), C4=2 (1 file changed). Community=4: D1=4 (2 cross-org reviewers for Chinese author), D2=0, D3=0.", "code_snippet": "@@ -254,6 +254,13 @@ static int vgic_irq_cmp(void *priv, struct list_head *a, struct list_head *b)\n \tbool penda, pendb;\n \tint ret;\n \n+\t/*\n+\t * list_sort may call this function with the same element when\n+\t * the list is fairly long.\n+\t */\n+\tif (unlikely(irqa == irqb))\n+\t\treturn 0;\n+\n \traw_spin_lock(&irqa->irq_lock);\n \traw_spin_lock_nested(&irqb->irq_lock, SINGLE_DEPTH_NESTING);\n \n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/d4a8061a7c5f7c27a2dc002ee4cb89b3e6637e44"}
{"commit_hash": "b6b4dc4c1fa7f1c99398e7dc85758049645e9588", "short_hash": "b6b4dc4c1fa7", "author_name": "YueHaibing", "author_email": "yuehaibing@huawei.com", "author_company": "Huawei", "author_date": "2019-08-29T10:46:00+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-08-30T14:15:31-07:00", "subject": "amd-xgbe: Fix error path in xgbe_mod_init()", "primary_category": "BUG-OTHER", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: efbaa828330a (\"amd-xgbe: Add support to handle device renaming\"), Fixes: 47f164deab22 (\"amd-xgbe: Add PCI device support\")", "cc_stable": false, "subsystem_prefix": "drivers/net/ethernet", "subsystems_touched": ["drivers/net/ethernet"], "subsystem_tier": 7, "files_changed": 1, "insertions": 8, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["YueHaibing <yuehaibing@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 29, "score_technical": 8, "score_impact": 8, "score_quality": 7, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 5, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (10 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=8: B1=7 (BUG-OTHER), B2=0 (no Cc: stable), B3=0 (not Tier 1), B4=1 (bug fix). Quality=7: C1=0 (no reviewer tags), C2=5 (2 Fixes tags + Reported-by + body), C3=0 (no Tested-by), C4=2 (1 file). Community=6: D1=2 (non-Chinese author, Chinese author), D2=4 (Signed-off-by David S. Miller - top networking maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -469,13 +469,19 @@ static int __init xgbe_mod_init(void)\n \n \tret = xgbe_platform_init();\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_platform_init;\n \n \tret = xgbe_pci_init();\n \tif (ret)\n-\t\treturn ret;\n+\t\tgoto err_pci_init;\n \n \treturn 0;\n+\n+err_pci_init:\n+\txgbe_platform_exit();\n+err_platform_init:\n+\tunregister_netdevice_notifier(&xgbe_netdev_notifier);\n+\treturn ret;\n }", "flags": [], "link": "https://lore.kernel.org/linux-kernel/b6b4dc4c1fa7f1c99398e7dc85758049645e9588"}
{"commit_hash": "896fc242bc1d261c1178838487a0a54b260625cc", "short_hash": "896fc242bc1d", "author_name": "Yunsheng Lin", "author_email": "linyunsheng@huawei.com", "author_company": "Huawei", "author_date": "2019-08-20T20:36:32+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-04T06:21:17-04:00", "subject": "vhost: Remove unnecessary variable", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "drivers", "subsystems_touched": ["drivers/vhost/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 3, "hunks": 4, "review_chain": {"signed_off_by": ["Yunsheng Lin <linyunsheng@huawei.com> (Huawei)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 18, "score_technical": 8, "score_impact": 2, "score_quality": 4, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 0, "B4_novelty": 0, "C1_review_chain": 0, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (5 lines changed), A2=7 (drivers/ Tier 2), A3=0 (single subsystem). Impact=2: B1=2 (MAINT-CLEANUP), B2=0 (no stable), B3=0 (driver-specific), B4=0 (cleanup). Quality=4: C1=0 (no reviewers), C2=2 (substantial body), C3=0 (no testing), C4=2 (1 file). Community=4: D1=2 (cross-org: Huawei author, Red Hat committer), D2=2 (Signed-off-by maintainer), D3=0 (no Acked-by). Total=18/100.", "code_snippet": "@@ -203,7 +203,6 @@ EXPORT_SYMBOL_GPL(vhost_poll_init);\n int vhost_poll_start(struct vhost_poll *poll, struct file *file)\n {\n \t__poll_t mask;\n-\tint ret = 0;\n \n \tif (poll->wqh)\n \t\treturn 0;", "flags": ["TRIVIAL_CLEANUP"], "link": "https://lore.kernel.org/linux-kernel/896fc242bc1d261c1178838487a0a54b260625cc"}
{"commit_hash": "eddf3e9c7c7e4d0707c68d1bb22cc6ec8aef7d4a", "short_hash": "eddf3e9c7c7e", "author_name": "Yunfeng Ye", "author_email": "yeyunfeng@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T20:46:25+08:00", "committer_name": "Thomas Gleixner", "committer_email": "tglx@linutronix.de", "committer_company": "Linutronix", "commit_date": "2019-09-05T21:31:14+02:00", "subject": "genirq: Prevent NULL pointer dereference in resend_irqs()", "primary_category": "BUG-CRASH", "secondary_categories": ["BACK-STABLE", "BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: a4633adcdbc1 (\"[PATCH] genirq: add genirq sw IRQ-retrigger\")", "cc_stable": true, "subsystem_prefix": "kernel/irq", "subsystems_touched": ["kernel/irq/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Yunfeng Ye <yeyunfeng@huawei.com> (Huawei)", "Thomas Gleixner <tglx@linutronix.de> (Linutronix)"], "reviewed_by": ["Zhiqiang Liu <liuzhiqiang26@huawei.com> (Huawei)"], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 47, "score_technical": 11, "score_impact": 20, "score_quality": 12, "score_community": 4, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 4, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Technical=11: A1=1 (2 insertions, tiny fix), A2=10 (kernel/irq is Tier 1 core subsystem), A3=0 (single file). Impact=20: B1=13 (BUG-CRASH - NULL pointer dereference causing kernel oops), B2=5 (Cc: stable@vger.kernel.org present), B3=1 (Tier 1 subsystem bonus), B4=1 (bug fix). Quality=12: C1=4 (2 reviewers - Reviewed-by Zhiqiang Liu, Signed-off-by maintainer Thomas Gleixner), C2=6 (Fixes: tag + substantial body with crash trace + Link tag), C3=0 (no Tested-by), C4=2 (1 file changed). Community=4: D1=4 (Chinese author Yunfeng Ye with cross-org collaboration - Reviewed-by Zhiqiang Liu, Signed-off-by German maintainer Thomas Gleixner), D2=0 (no top maintainer like Linus/Greg KH), D3=0 (no Acked-by). Total=47/100.", "code_snippet": "@@ -36,6 +36,8 @@ static void resend_irqs(unsigned long arg)\n \t\tirq = find_first_bit(irqs_resend, nr_irqs);\n \t\tclear_bit(irq, irqs_resend);\n \t\tdesc = irq_to_desc(irq);\n+\t\tif (!desc)\n+\t\t\tcontinue;\n \t\tlocal_irq_disable();\n \t\tdesc->handle_irq(desc);\n \t\tlocal_irq_enable();\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/eddf3e9c7c7e4d0707c68d1bb22cc6ec8aef7d4a"}
{"commit_hash": "310aa0a25b338b3100c94880c9a69bec8ce8c3ae", "short_hash": "310aa0a25b33", "author_name": "Mark-PK Tsai", "author_email": "mark-pk.tsai@mediatek.com", "author_company": "MediaTek", "author_date": "2019-09-06T14:01:16+08:00", "committer_name": "Ingo Molnar", "committer_email": "mingo@kernel.org", "committer_company": "Kernel", "commit_date": "2019-09-06T08:24:01+02:00", "subject": "perf/hw_breakpoint: Fix arch_hw_breakpoint use-before-initialization", "primary_category": "BUG-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: 9a4903dde2c86 (\"perf/hw_breakpoint: Split attribute parse and commit\")", "cc_stable": false, "subsystem_prefix": "kernel", "subsystems_touched": ["kernel/events/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["Mark-PK Tsai <mark-pk.tsai@mediatek.com> (MediaTek)", "Ingo Molnar <mingo@kernel.org> (Kernel)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 32, "score_technical": 11, "score_impact": 9, "score_quality": 6, "score_community": 6, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 7, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=11: A1=1 (4 lines), A2=10 (kernel/ Tier 1), A3=0 (single subsystem). Impact=9: B1=7 (BUG-OTHER), B2=0 (no Cc: stable), B3=1 (Tier 1), B4=1 (bug fix). Quality=6: C1=0 (no Reviewed-by), C2=4 (Fixes mention + Link + substantial body), C3=0 (no Tested-by), C4=2 (1 file). Community=6: D1=2 (non-Chinese author), D2=4 (Ingo Molnar maintainer), D3=0 (no Acked-by).", "code_snippet": "@@ -413,7 +413,7 @@ static int hw_breakpoint_parse(struct perf_event *bp,\n \n int register_perf_hw_breakpoint(struct perf_event *bp)\n {\n-\tstruct arch_hw_breakpoint hw;\n+\tstruct arch_hw_breakpoint hw = { };\n \tint err;\n \n \terr = reserve_bp_slot(bp);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/310aa0a25b338b3100c94880c9a69bec8ce8c3ae"}
{"commit_hash": "6e1cdedcf0362fed3aedfe051d46bd7ee2a85fe1", "short_hash": "6e1cdedcf036", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-05T09:57:12+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-06T15:04:57+02:00", "subject": "net: sonic: return NETDEV_TX_OK if failed to map buffer", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -232,9 +232,9 @@ static int sonic_send_packet(struct sk_buff *skb, struct net_device *dev)\n \n \tladdr = dma_map_single(lp->device, skb->data, length, DMA_TO_DEVICE);\n \tif (!laddr) {\n-\t\tprintk(KERN_ERR \"%s: failed to map tx DMA buffer.\\n\", dev->name);\n+\t\tpr_err_ratelimited(\"%s: failed to map tx DMA buffer.\\n\", dev->name);\n \t\tdev_kfree_skb(skb);\n-\t\treturn NETDEV_TX_BUSY;\n+\t\treturn NETDEV_TX_OK;\n \t}\n \n \tsonic_tda_put(dev, entry, SONIC_TD_STATUS, 0);       /* clear status */\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/6e1cdedcf0362fed3aedfe051d46bd7ee2a85fe1"}
{"commit_hash": "59929d3a2eb6c4abafc5b61a20c98aa8728ec378", "short_hash": "59929d3a2eb6", "author_name": "Wei Yongjun", "author_email": "weiyongjun1@huawei.com", "author_company": "Huawei", "author_date": "2019-09-04T14:18:34Z", "committer_name": "Bartosz Golaszewski", "committer_email": "bgolaszewski@baylibre.com", "committer_company": "BayLibre", "commit_date": "2019-09-09T09:55:27+02:00", "subject": "gpio: mockup: add missing single_release()", "primary_category": "BUG-LEAK", "secondary_categories": ["BACK-STABLE", "BACK-FIXES", "TRIV-TRIVIAL"], "cve_ids": [], "fixes_tag": "Fixes: 2a9e27408e12 (\"gpio: mockup: rework debugfs interface\")", "cc_stable": true, "subsystem_prefix": "drivers/gpio", "subsystems_touched": ["drivers/gpio/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 0, "hunks": 2, "review_chain": {"signed_off_by": ["Wei Yongjun <weiyongjun1@huawei.com> (Huawei)", "Bartosz Golaszewski <bgolaszewski@baylibre.com> (BayLibre)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 27, "score_technical": 8, "score_impact": 8, "score_quality": 6, "score_community": 5, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 5, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 0, "C2_commit_message": 4, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "Technical=8 (capped from 9 per anti-gaming for TRIV): A1=1 (1 insertion), A2=7 (drivers/gpio Tier 2), A3=0 (single subsystem). Impact=3 (capped from 8): B1=2 (capped for TRIV, original BUG-LEAK=9), B2=5 (Cc: stable), B3=0 (not Tier 1), B4=1 (bug fix). Quality=6: C1=0 (no Reviewed-by/Tested-by/Acked-by on author), C2=4 (Fixes + substantial body), C3=0 (no Tested-by), C4=2 (1 file). Community=5: D1=2 (non-Chinese committer), D2=2 (committer is maintainer), D3=1 (signed-off by maintainer).", "code_snippet": "@@ -309,6 +309,7 @@ static const struct file_operations gpio_mockup_debugfs_ops = {\n \t.read = gpio_mockup_debugfs_read,\n \t.write = gpio_mockup_debugfs_write,\n \t.llseek = no_llseek,\n+\t.release = single_release,\n };\n \n static void gpio_mockup_debugfs_setup(struct device *dev,\n", "flags": ["TRIVIAL_ONE_LINER"], "link": "https://lore.kernel.org/linux-kernel/59929d3a2eb6c4abafc5b61a20c98aa8728ec378"}
{"commit_hash": "49f6c90bf6805948b597eabb499e500a47cf24be", "short_hash": "49f6c90bf680", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-11T09:36:23+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-11T09:14:01+01:00", "subject": "net: sonic: replace dev_kfree_skb in sonic_send_packet", "primary_category": "MAINT-OTHER", "secondary_categories": [], "cve_ids": [], "fixes_tag": "Fixes: d9fb9f384292 (\"*sonic/natsemi/ns83829: Move the National Semi-conductor drivers\")", "cc_stable": false, "subsystem_prefix": "drivers/", "subsystems_touched": ["drivers/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 1, "deletions": 1, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": []}, "score_total": 22, "score_technical": 8, "score_impact": 7, "score_quality": 6, "score_community": 1, "score_breakdown": {"A1_code_volume": 0, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 1, "B1_category_base": 3, "B2_stable_significance": 0, "B3_user_impact": 3, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 1, "D2_maintainer_endorsement": 0, "D3_community_response": 0}, "score_justification": "Fallback analysis due to agent error.", "code_snippet": "@@ -233,7 +233,7 @@ static int sonic_send_packet(struct sk_buff *skb, struct net_device *dev)\n \tladdr = dma_map_single(lp->device, skb->data, length, DMA_TO_DEVICE);\n \tif (!laddr) {\n \t\tpr_err_ratelimited(\"%s: failed to map tx DMA buffer.\\n\", dev->name);\n-\t\tdev_kfree_skb(skb);\n+\t\tdev_kfree_skb_any(skb);\n \t\treturn NETDEV_TX_OK;\n \t}\n \n", "flags": ["AGENT_ERROR", "AGENT_ERROR_429_RATE_LIMIT"], "link": "https://lore.kernel.org/linux-kernel/49f6c90bf6805948b597eabb499e500a47cf24be"}
{"commit_hash": "060423bfdee3f8bc6e2c1bac97de24d5415e2bc4", "short_hash": "060423bfdee3", "author_name": "yongduan", "author_email": "yongduan@tencent.com", "author_company": "Tencent", "author_date": "2019-09-11T17:44:24+08:00", "committer_name": "Michael S. Tsirkin", "committer_email": "mst@redhat.com", "committer_company": "Redhat", "commit_date": "2019-09-11T15:15:26-04:00", "subject": "vhost: make sure log_num < in_num", "primary_category": "SEC-VULN", "secondary_categories": ["BUG-CRASH", "BACK-STABLE", "BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: 3a4d5c94e959 (\"vhost_net: a kernel-level virtio server\")", "cc_stable": true, "subsystem_prefix": "drivers/vhost", "subsystems_touched": ["drivers/vhost/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 2, "deletions": 2, "hunks": 4, "review_chain": {"signed_off_by": ["ruippan <ruippan@tencent.com> (Tencent)", "yongduan <yongduan@tencent.com> (Tencent)", "Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reviewed_by": ["Lidong Chen <lidongchen@tencent.com> (Tencent)", "Tyler Hicks <tyhicks@canonical.com> (Canonical)"], "tested_by": [], "acked_by": ["Michael S. Tsirkin <mst@redhat.com> (Redhat)"], "reported_by": []}, "score_total": 48, "score_technical": 8, "score_impact": 19, "score_quality": 14, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 5, "B3_user_impact": 0, "B4_novelty": 1, "C1_review_chain": 6, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 2, "D3_community_response": 1}, "score_justification": "Technical=8: A1=1 (4 lines changed), A2=7 (drivers/vhost Tier 2), A3=0 (single subsystem). Impact=19: B1=13 (SEC-VULN - kernel crash from malicious guest), B2=5 (Cc: stable), B3=0 (driver-specific), B4=1 (bug fix). Quality=14: C1=6 (4 reviewers: Lidong Chen, Michael S. Tsirkin, Tyler Hicks, plus Acked-by), C2=6 (Fixes tag + substantial body + Cc stable), C3=0 (no Tested-by), C4=2 (1 file changed). Community=7: D1=4 (Chinese author with 2 non-Chinese reviewers from RedHat/Canonical), D2=2 (Acked-by maintainer), D3=1 (Acked-by present).", "code_snippet": "@@ -2180,7 +2180,7 @@ static int get_indirect(struct vhost_virtqueue *vq,\n \t\t/* If this is an input descriptor, increment that count. */\n \t\tif (access == VHOST_ACCESS_WO) {\n \t\t\t*in_num += ret;\n-\t\t\tif (unlikely(log)) {\n+\t\t\tif (unlikely(log && ret)) {\n \t\t\t\tlog[*log_num].addr = vhost64_to_cpu(vq, desc.addr);\n \t\t\t\tlog[*log_num].len = vhost32_to_cpu(vq, desc.len);\n \t\t\t\t++*log_num;", "flags": [], "link": "https://lore.kernel.org/linux-kernel/060423bfdee3f8bc6e2c1bac97de24d5415e2bc4"}
{"commit_hash": "77f22f92dff8e7b45c7786a430626d38071d4670", "short_hash": "77f22f92dff8", "author_name": "Yang Yingliang", "author_email": "yangyingliang@huawei.com", "author_company": "Huawei", "author_date": "2019-09-10T18:56:57+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-12T11:17:26+01:00", "subject": "tun: fix use-after-free when register netdev failed", "primary_category": "BUG-CRASH", "secondary_categories": ["BACK-FIXES"], "cve_ids": [], "fixes_tag": "Fixes: eb0fb363f920 (\"tuntap: attach queue 0 before registering netdevice\")", "cc_stable": false, "subsystem_prefix": "drivers/net", "subsystems_touched": ["drivers/net/"], "subsystem_tier": 7, "files_changed": 1, "insertions": 11, "deletions": 5, "hunks": 10, "review_chain": {"signed_off_by": ["Yang Yingliang <yangyingliang@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": [], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 41, "score_technical": 8, "score_impact": 15, "score_quality": 10, "score_community": 8, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 7, "A3_cross_subsystem": 0, "B1_category_base": 13, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 1, "C1_review_chain": 2, "C2_commit_message": 6, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 0}, "score_justification": "Technical=8: A1=1 (16 lines changed), A2=7 (drivers/net/ Tier 2), A3=0 (single subsystem). Impact=15: B1=13 (BUG-CRASH use-after-free fix), B2=0 (no Cc: stable), B3=1 (Tier 2 subsystem), B4=1 (bug fix). Quality=10: C1=2 (David S. Miller Signed-off-by), C2=6 (Fixes: tag + detailed KASAN report + Reported-by/Suggested-by tags), C3=0 (no Tested-by), C4=2 (1 file changed). Community=8: D1=4 (cross-org: David Miller, Jason Wang), D2=4 (David S. Miller is top networking maintainer), D3=0 (no Acked-by). Total=41/100.", "code_snippet": "@@ -2829,13 +2831,17 @@ static int tun_set_iff(struct net *net, struct file *file, struct ifreq *ifr)\n \n \t\tINIT_LIST_HEAD(&tun->disabled);\n \t\terr = tun_attach(tun, file, false, ifr->ifr_flags & IFF_NAPI,\n-\t\t\t\t ifr->ifr_flags & IFF_NAPI_FRAGS);\n+\t\t\t\t ifr->ifr_flags & IFF_NAPI_FRAGS, false);\n \t\tif (err < 0)\n \t\t\tgoto err_free_flow;\n \n \t\terr = register_netdevice(tun->dev);\n \t\tif (err < 0)\n \t\t\tgoto err_detach;\n+\t\t/* free_netdev() won't check refcnt, to aovid race\n+\t\t * with dev_put() we need publish tun after registration.\n+\t\t */\n+\t\trcu_assign_pointer(tfile->tun, tun);\n \t}\n \n \tnetif_carrier_on(tun->dev);", "flags": [], "link": "https://lore.kernel.org/linux-kernel/77f22f92dff8e7b45c7786a430626d38071d4670"}
{"commit_hash": "e0e4b8de10ad3affe83cc91a1cf6d1e48cca333e", "short_hash": "e0e4b8de10ad", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:18+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: remove redundant assignment when call sctp_get_port_local", "primary_category": "MAINT-CLEANUP", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 1, "deletions": 2, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)", "Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 31, "score_technical": 11, "score_impact": 3, "score_quality": 8, "score_community": 9, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 2, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 4, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 4, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Technical=11: A1=1 (3 lines changed), A2=10 (net/ Tier 1), A3=0 (single subsystem). Impact=3: B1=2 (MAINT-CLEANUP), B2=0 (no stable), B3=1 (net/ affects users), B4=0 (cleanup not new). Quality=8: C1=4 (2 Acked-by: Neil Horman, Marcelo Leitner), C2=2 (body >50 chars), C3=0 (no Tested-by), C4=2 (1 file). Community=9: D1=4 (2 non-Chinese reviewers for Chinese author), D2=4 (David S. Miller committer), D3=1 (Acked-by present).", "code_snippet": "@@ -399,9 +399,8 @@ static int sctp_do_bind(struct sock *sk, union sctp_addr *addr, int len)\n \t * detection.\n \t */\n \taddr->v4.sin_port = htons(snum);\n-\tif ((ret = sctp_get_port_local(sk, addr))) {\n+\tif (sctp_get_port_local(sk, addr))\n \t\treturn -EADDRINUSE;\n-\t}\n \n \t/* Refresh ephemeral port.  */\n \tif (!bp->port)\n", "flags": [], "link": "https://lore.kernel.org/linux-kernel/e0e4b8de10ad3affe83cc91a1cf6d1e48cca333e"}
{"commit_hash": "29b99f54a8e63f871cf4060406d09fd8b0d744d8", "short_hash": "29b99f54a8e6", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:19+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: destroy bucket if failed to bind addr", "primary_category": "UNKNOWN", "secondary_categories": [], "cve_ids": [], "fixes_tag": "", "cc_stable": false, "subsystem_prefix": "unknown", "subsystems_touched": [], "subsystem_tier": 4, "files_changed": 1, "insertions": 6, "deletions": 4, "hunks": 2, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Neil Horman <nhorman@tuxdriver.com> (Tuxdriver)", "Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": ["Hulk Robot <hulkci@huawei.com> (Huawei)"]}, "score_total": 0, "score_technical": 0, "score_impact": 0, "score_quality": 0, "score_community": 0, "score_breakdown": {}, "score_justification": "", "code_snippet": "@@ -412,11 +412,13 @@ static int sctp_do_bind(struct sock *sk, union sctp_addr *addr, int len)\n \tret = sctp_add_bind_addr(bp, addr, af->sockaddr_len,\n \t\t\t\t SCTP_ADDR_SRC, GFP_ATOMIC);\n \n-\t/* Copy back into socket for getsockname() use. */\n-\tif (!ret) {\n-\t\tinet_sk(sk)->inet_sport = htons(inet_sk(sk)->inet_num);\n-\t\tsp->pf->to_sk_saddr(addr, sk);\n+\tif (ret) {\n+\t\tsctp_put_port(sk);\n+\t\treturn ret;\n \t}\n+\t/* Copy back into socket for getsockname() use. */\n+\tinet_sk(sk)->inet_sport = htons(inet_sk(sk)->inet_num);\n+\tsp->pf->to_sk_saddr(addr, sk);\n \n \treturn ret;\n }\n", "flags": ["STABLE_CANDIDATE", "HAS_ACKED"], "link": "https://lore.kernel.org/linux-kernel/29b99f54a8e63f871cf4060406d09fd8b0d744d8"}
{"commit_hash": "8e2ef6abd4653b1cfeefe262017ecdd5eaf40fef", "short_hash": "8e2ef6abd465", "author_name": "Mao Wenan", "author_email": "maowenan@huawei.com", "author_company": "Huawei", "author_date": "2019-09-12T12:02:17+08:00", "committer_name": "David S. Miller", "committer_email": "davem@davemloft.net", "committer_company": "Davemloft", "commit_date": "2019-09-13T22:06:20+02:00", "subject": "sctp: change return type of sctp_get_port_local", "primary_category": "MAINT-REFACTOR", "secondary_categories": [], "cve_ids": [], "fixes_tag": null, "cc_stable": false, "subsystem_prefix": "net", "subsystems_touched": ["net/"], "subsystem_tier": 10, "files_changed": 1, "insertions": 4, "deletions": 4, "hunks": 8, "review_chain": {"signed_off_by": ["Mao Wenan <maowenan@huawei.com> (Huawei)", "David S. Miller <davem@davemloft.net> (Davemloft)"], "reviewed_by": [], "tested_by": [], "acked_by": ["Marcelo Ricardo Leitner <marcelo.leitner@gmail.com> (Gmail)"], "reported_by": []}, "score_total": 29, "score_technical": 11, "score_impact": 5, "score_quality": 6, "score_community": 7, "score_breakdown": {"A1_code_volume": 1, "A2_subsystem_criticality": 10, "A3_cross_subsystem": 0, "B1_category_base": 4, "B2_stable_significance": 0, "B3_user_impact": 1, "B4_novelty": 0, "C1_review_chain": 2, "C2_commit_message": 2, "C3_testing": 0, "C4_atomicity": 2, "D1_cross_org": 2, "D2_maintainer_endorsement": 4, "D3_community_response": 1}, "score_justification": "Technical=11: A1=1 (8 lines changed), A2=10 (net/ Tier 1 core networking), A3=0 (single subsystem). Impact=5: B1=4 (MAINT-REFACTOR type cleanup), B2=0 (no Cc: stable), B3=1 (Tier 1 but minor change), B4=0 (refactoring not new feature). Quality=6: C1=2 (1 Acked-by reviewer), C2=2 (substantial commit body >50 chars), C3=0 (no Tested-by), C4=2 (single file). Community=7: D1=2 (cross-org collaboration with non-Chinese reviewer), D2=4 (Dave Miller top maintainer), D3=1 (Acked-by present).", "code_snippet": "@@ -309,7 +309,7 @@ static int sctp_bind(struct sock *sk, struct sockaddr *addr, int addr_len)\n \treturn retval;\n }\n \n-static long sctp_get_port_local(struct sock *, union sctp_addr *);\n+static int sctp_get_port_local(struct sock *, union sctp_addr *);\n \n /* Verify this is a valid sockaddr. */\n static struct sctp_af *sctp_sockaddr_af(struct sctp_sock *opt,", "flags": [], "link": "https://lore.kernel.org/linux-kernel/8e2ef6abd4653b1cfeefe262017ecdd5eaf40fef"}
